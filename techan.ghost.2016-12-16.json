{"db":[{"meta":{"exported_on":1481898443578,"version":"009"},"data":{"app_fields":[],"app_settings":[],"apps":[],"permissions":[{"id":1,"uuid":"57f17edd-6df1-4a10-890e-944288dd7b10","name":"Export database","object_type":"db","action_type":"exportContent","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":2,"uuid":"1977dfdc-01c6-431e-8c58-df3f726efccf","name":"Import database","object_type":"db","action_type":"importContent","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":3,"uuid":"7489037b-3cc9-49af-8acc-0b6c3164957f","name":"Delete all content","object_type":"db","action_type":"deleteAllContent","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":4,"uuid":"ede7782a-3a3e-4feb-b8a9-21d3c80dc666","name":"Send mail","object_type":"mail","action_type":"send","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":5,"uuid":"8685a4f4-74bb-4e22-9001-a35e80d95f83","name":"Browse notifications","object_type":"notification","action_type":"browse","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":6,"uuid":"48db55e6-aa5c-4c4f-b27e-ef500f3a80e6","name":"Add notifications","object_type":"notification","action_type":"add","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":7,"uuid":"86ec074c-2f92-4d1e-900d-c9bfa024361c","name":"Delete notifications","object_type":"notification","action_type":"destroy","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":8,"uuid":"54093d3e-cda0-4a18-9fa6-cf7726468006","name":"Browse posts","object_type":"post","action_type":"browse","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":9,"uuid":"a6eb38b7-d6cf-4119-8539-f2c7d1a52633","name":"Read posts","object_type":"post","action_type":"read","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":10,"uuid":"861b42ed-f0d2-458a-a70e-ba2c8f109998","name":"Edit posts","object_type":"post","action_type":"edit","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":11,"uuid":"c51c3e5b-ca48-425d-acfd-3fc7e0c92632","name":"Add posts","object_type":"post","action_type":"add","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":12,"uuid":"0b432f75-01f4-4051-9047-90c14adfa598","name":"Delete posts","object_type":"post","action_type":"destroy","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":13,"uuid":"721c69a7-4b52-4be3-bbd1-1ae45e908c80","name":"Browse settings","object_type":"setting","action_type":"browse","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":14,"uuid":"005abc66-dab6-4523-a194-8789aa865872","name":"Read settings","object_type":"setting","action_type":"read","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":15,"uuid":"8c0ab967-0541-4b8e-9592-71cb411aad86","name":"Edit settings","object_type":"setting","action_type":"edit","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":16,"uuid":"bad0419c-3e99-4cb0-bfa3-1f372114ab2b","name":"Generate slugs","object_type":"slug","action_type":"generate","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":17,"uuid":"60b81c13-2547-4e36-88e2-6f5f7b8425b9","name":"Browse tags","object_type":"tag","action_type":"browse","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":18,"uuid":"23648744-fb0b-49f6-b011-0a049e031d9f","name":"Read tags","object_type":"tag","action_type":"read","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":19,"uuid":"35f68adb-5ab8-4a58-af7f-a19be6c5cf3c","name":"Edit tags","object_type":"tag","action_type":"edit","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":20,"uuid":"e1997e59-d8ba-4e7e-9ac8-a2cfad0c0bec","name":"Add tags","object_type":"tag","action_type":"add","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":21,"uuid":"53bd6d88-0b33-4e7a-bc42-375374dd8be0","name":"Delete tags","object_type":"tag","action_type":"destroy","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":22,"uuid":"c71d1361-42d8-4518-bb31-ff7a10f1918b","name":"Browse themes","object_type":"theme","action_type":"browse","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":23,"uuid":"219702ed-528e-469d-89c6-0e6b4e24f0e4","name":"Edit themes","object_type":"theme","action_type":"edit","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":24,"uuid":"2e37f264-5292-465d-abab-6065c7543869","name":"Browse users","object_type":"user","action_type":"browse","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":25,"uuid":"32c4e1e5-c8a9-48d7-8595-eae4a4a8d453","name":"Read users","object_type":"user","action_type":"read","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":26,"uuid":"423f8ae9-dedd-4eee-a723-0df157a4edd7","name":"Edit users","object_type":"user","action_type":"edit","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":27,"uuid":"3d833341-c168-4cca-8c04-ad54fc865aae","name":"Add users","object_type":"user","action_type":"add","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":28,"uuid":"1c85a629-39a3-41f2-9227-3d2691c26b60","name":"Delete users","object_type":"user","action_type":"destroy","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":29,"uuid":"7987cb6e-fcef-4e2e-abe3-ac508546d9dd","name":"Assign a role","object_type":"role","action_type":"assign","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":30,"uuid":"b19c3ed7-2859-4fe2-be6e-6c380211b7d2","name":"Browse roles","object_type":"role","action_type":"browse","object_id":null,"created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":31,"uuid":"acda5261-36f1-488e-bd3d-791f87fd0933","name":"Browse clients","object_type":"client","action_type":"browse","object_id":null,"created_at":"2016-05-23T20:28:31.000Z","created_by":1,"updated_at":"2016-05-23T20:28:31.000Z","updated_by":1},{"id":32,"uuid":"e03750d0-014b-4af9-99d1-d3cbc40c52d9","name":"Read clients","object_type":"client","action_type":"read","object_id":null,"created_at":"2016-05-23T20:28:31.000Z","created_by":1,"updated_at":"2016-05-23T20:28:31.000Z","updated_by":1},{"id":33,"uuid":"0f4fe526-0b91-4dc2-b28f-582a84afe74a","name":"Edit clients","object_type":"client","action_type":"edit","object_id":null,"created_at":"2016-05-23T20:28:31.000Z","created_by":1,"updated_at":"2016-05-23T20:28:31.000Z","updated_by":1},{"id":34,"uuid":"88ff9051-0e8e-4b11-bb2c-5443615d2965","name":"Add clients","object_type":"client","action_type":"add","object_id":null,"created_at":"2016-05-23T20:28:31.000Z","created_by":1,"updated_at":"2016-05-23T20:28:31.000Z","updated_by":1},{"id":35,"uuid":"79120985-a56d-425b-bfc4-e47f22fd61a7","name":"Delete clients","object_type":"client","action_type":"destroy","object_id":null,"created_at":"2016-05-23T20:28:31.000Z","created_by":1,"updated_at":"2016-05-23T20:28:31.000Z","updated_by":1},{"id":36,"uuid":"89591a2d-22c9-4561-a93d-e60e73e73352","name":"Browse subscribers","object_type":"subscriber","action_type":"browse","object_id":null,"created_at":"2016-05-23T20:28:31.000Z","created_by":1,"updated_at":"2016-05-23T20:28:31.000Z","updated_by":1},{"id":37,"uuid":"e371e7a1-b46a-4e56-86d5-3998b67f3426","name":"Read subscribers","object_type":"subscriber","action_type":"read","object_id":null,"created_at":"2016-05-23T20:28:31.000Z","created_by":1,"updated_at":"2016-05-23T20:28:31.000Z","updated_by":1},{"id":38,"uuid":"27946476-671a-4627-94d6-170b88241e41","name":"Edit subscribers","object_type":"subscriber","action_type":"edit","object_id":null,"created_at":"2016-05-23T20:28:31.000Z","created_by":1,"updated_at":"2016-05-23T20:28:31.000Z","updated_by":1},{"id":39,"uuid":"b712db5c-71f5-4896-bc80-548b2f7bbbc7","name":"Add subscribers","object_type":"subscriber","action_type":"add","object_id":null,"created_at":"2016-05-23T20:28:31.000Z","created_by":1,"updated_at":"2016-05-23T20:28:31.000Z","updated_by":1},{"id":40,"uuid":"46af78dc-8772-464b-b005-3a5bece845d9","name":"Delete subscribers","object_type":"subscriber","action_type":"destroy","object_id":null,"created_at":"2016-05-23T20:28:31.000Z","created_by":1,"updated_at":"2016-05-23T20:28:31.000Z","updated_by":1},{"id":41,"uuid":"625882c4-c979-4936-8d42-0fd4ced61b24","name":"Upload themes","object_type":"theme","action_type":"add","object_id":null,"created_at":"2016-09-05T11:11:16.000Z","created_by":1,"updated_at":"2016-09-05T11:11:16.000Z","updated_by":1},{"id":42,"uuid":"5948bc99-cfb2-4e79-932e-11ad4d31ac8e","name":"Download themes","object_type":"theme","action_type":"read","object_id":null,"created_at":"2016-09-05T11:11:16.000Z","created_by":1,"updated_at":"2016-09-05T11:11:16.000Z","updated_by":1},{"id":43,"uuid":"67497344-ea8c-4fb2-b140-18c997786556","name":"Upload themes","object_type":"theme","action_type":"add","object_id":null,"created_at":"2016-09-05T11:11:16.000Z","created_by":1,"updated_at":"2016-09-05T11:11:16.000Z","updated_by":1},{"id":44,"uuid":"1a404fbe-484d-426e-b3f0-53cd16af5b3e","name":"Delete themes","object_type":"theme","action_type":"destroy","object_id":null,"created_at":"2016-09-05T11:11:16.000Z","created_by":1,"updated_at":"2016-09-05T11:11:16.000Z","updated_by":1},{"id":45,"uuid":"17306f9e-9393-464d-a121-391e69144f9f","name":"Download themes","object_type":"theme","action_type":"read","object_id":null,"created_at":"2016-09-05T11:11:16.000Z","created_by":1,"updated_at":"2016-09-05T11:11:16.000Z","updated_by":1},{"id":46,"uuid":"79fb21d8-2cb7-4fb2-990f-f670775a18d1","name":"Delete themes","object_type":"theme","action_type":"destroy","object_id":null,"created_at":"2016-09-05T11:11:16.000Z","created_by":1,"updated_at":"2016-09-05T11:11:16.000Z","updated_by":1}],"permissions_apps":[],"permissions_roles":[{"id":1,"role_id":1,"permission_id":1},{"id":2,"role_id":1,"permission_id":2},{"id":3,"role_id":1,"permission_id":3},{"id":4,"role_id":1,"permission_id":4},{"id":5,"role_id":1,"permission_id":5},{"id":6,"role_id":1,"permission_id":6},{"id":7,"role_id":1,"permission_id":7},{"id":8,"role_id":1,"permission_id":8},{"id":9,"role_id":1,"permission_id":9},{"id":10,"role_id":1,"permission_id":10},{"id":11,"role_id":1,"permission_id":11},{"id":12,"role_id":1,"permission_id":12},{"id":13,"role_id":1,"permission_id":13},{"id":14,"role_id":1,"permission_id":14},{"id":15,"role_id":1,"permission_id":15},{"id":16,"role_id":1,"permission_id":16},{"id":17,"role_id":1,"permission_id":17},{"id":18,"role_id":1,"permission_id":18},{"id":19,"role_id":1,"permission_id":19},{"id":20,"role_id":1,"permission_id":20},{"id":21,"role_id":1,"permission_id":21},{"id":22,"role_id":1,"permission_id":22},{"id":23,"role_id":1,"permission_id":23},{"id":24,"role_id":1,"permission_id":24},{"id":25,"role_id":1,"permission_id":25},{"id":26,"role_id":1,"permission_id":26},{"id":27,"role_id":1,"permission_id":27},{"id":28,"role_id":1,"permission_id":28},{"id":29,"role_id":1,"permission_id":29},{"id":30,"role_id":1,"permission_id":30},{"id":31,"role_id":2,"permission_id":8},{"id":32,"role_id":2,"permission_id":9},{"id":33,"role_id":2,"permission_id":10},{"id":34,"role_id":2,"permission_id":11},{"id":35,"role_id":2,"permission_id":12},{"id":36,"role_id":2,"permission_id":13},{"id":37,"role_id":2,"permission_id":14},{"id":38,"role_id":2,"permission_id":16},{"id":39,"role_id":2,"permission_id":17},{"id":40,"role_id":2,"permission_id":18},{"id":41,"role_id":2,"permission_id":19},{"id":42,"role_id":2,"permission_id":20},{"id":43,"role_id":2,"permission_id":21},{"id":44,"role_id":2,"permission_id":24},{"id":45,"role_id":2,"permission_id":25},{"id":46,"role_id":2,"permission_id":26},{"id":47,"role_id":2,"permission_id":27},{"id":48,"role_id":2,"permission_id":28},{"id":49,"role_id":2,"permission_id":29},{"id":50,"role_id":2,"permission_id":30},{"id":51,"role_id":3,"permission_id":8},{"id":52,"role_id":3,"permission_id":9},{"id":53,"role_id":3,"permission_id":11},{"id":54,"role_id":3,"permission_id":13},{"id":55,"role_id":3,"permission_id":14},{"id":56,"role_id":3,"permission_id":16},{"id":57,"role_id":3,"permission_id":17},{"id":58,"role_id":3,"permission_id":18},{"id":59,"role_id":3,"permission_id":20},{"id":60,"role_id":3,"permission_id":24},{"id":61,"role_id":3,"permission_id":25},{"id":62,"role_id":3,"permission_id":30},{"id":63,"role_id":1,"permission_id":31},{"id":64,"role_id":1,"permission_id":32},{"id":65,"role_id":1,"permission_id":33},{"id":66,"role_id":1,"permission_id":34},{"id":67,"role_id":1,"permission_id":35},{"id":68,"role_id":2,"permission_id":31},{"id":69,"role_id":2,"permission_id":32},{"id":70,"role_id":2,"permission_id":33},{"id":71,"role_id":2,"permission_id":34},{"id":72,"role_id":2,"permission_id":35},{"id":73,"role_id":3,"permission_id":31},{"id":74,"role_id":3,"permission_id":32},{"id":75,"role_id":3,"permission_id":33},{"id":76,"role_id":3,"permission_id":34},{"id":77,"role_id":3,"permission_id":35},{"id":78,"role_id":1,"permission_id":36},{"id":79,"role_id":1,"permission_id":37},{"id":80,"role_id":1,"permission_id":38},{"id":81,"role_id":1,"permission_id":39},{"id":82,"role_id":1,"permission_id":40},{"id":83,"role_id":2,"permission_id":39},{"id":84,"role_id":3,"permission_id":39},{"id":85,"role_id":1,"permission_id":43},{"id":86,"role_id":1,"permission_id":45},{"id":87,"role_id":1,"permission_id":46},{"id":88,"role_id":1,"permission_id":41},{"id":89,"role_id":1,"permission_id":42},{"id":90,"role_id":1,"permission_id":44}],"permissions_users":[],"posts":[{"id":2,"uuid":"2db698c3-1f1a-48b1-915e-6142311ee60b","title":"Flush du cache DNS","slug":"flush-du-cache-dns","markdown":"\n\n## Sur Linux\n\nIl suffit de relancer le daemon nscd.\n\n/etc/rc.d/init.d/nscd restart\n\n \n\n\n## Sur Mac OS\n\nOuvrez Terminal.app, puis tapez la commande suivante en fonction de votre système.\n\ndscacheutil -flushcache\n\nlookupd -flushcache\n\n \n\n\n## Sur Windows\n\nOuvrez une invite de commande en faisant : Windows + R, puis tapez « cmd » dans la pop-up qui s’ouvre ensuite, utilisez la commande suivante :\n\nipconfig /flushdns\n\n\n","html":"<h2 id=\"surlinux\">Sur Linux</h2>\n\n<p>Il suffit de relancer le daemon nscd.</p>\n\n<p>/etc/rc.d/init.d/nscd restart</p>\n\n<h2 id=\"surmacos\">Sur Mac OS</h2>\n\n<p>Ouvrez Terminal.app, puis tapez la commande suivante en fonction de votre système.</p>\n\n<p>dscacheutil -flushcache</p>\n\n<p>lookupd -flushcache</p>\n\n<h2 id=\"surwindows\">Sur Windows</h2>\n\n<p>Ouvrez une invite de commande en faisant : Windows + R, puis tapez « cmd » dans la pop-up qui s’ouvre ensuite, utilisez la commande suivante :</p>\n\n<p>ipconfig /flushdns</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-23T08:25:32.000Z","created_by":1,"updated_at":"2015-04-10T15:29:12.000Z","updated_by":1,"published_at":"2014-09-23T08:25:32.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":3,"uuid":"2bef899c-239b-472c-8774-fb909fec5dda","title":"A Propos","slug":"a-propos","markdown":"\n[![319426_4294985734465_1196558181_n](https://techan.fr/images/2014/09/319426_4294985734465_1196558181_n-150x150.jpg)](https://techan.fr/images/2014/09/319426_4294985734465_1196558181_n.jpg)Je m’appelle Raphaël, j’ai 27 ans et je suis consultant en informatique spécialisé dans les bases de données Oracle, les systèmes virtualisés VMware – certifié VCP – et les systèmes Linux.\n\nJ’ai créé ce blog afin de partager avec le plus grand nombre tous les petits trucs que je fais dans le cadre de mon travail et qui me demande un effort de recherche ou que je fais régulièrement mais que je documente pour ne plus avoir de recherches supplémentaires a réaliser.\n\nCes articles ne sont sans doute pas parfaits, je me comprend lorsque je les écrit alors n’hésitez surtout pas à les commenter pour demander plus de précisions, ou pour faire des retours sur vos propres expériences.\n\nJ’espère toute fois que vous trouverez le plus de réponses possible en lisant ces pages. Au jour d’aujourd’hui, il y a déjà plus de 80 articles sur pas mal de sujets différents. N’hésitez pas à proposer des sujets qui vous intéressent en utilisant le formulaire ci-dessous, il est très probable que cela pique ma curiosité et que je me penche sur le sujet. :-)\n\n","html":"<p><a href=\"https://techan.fr/images/2014/09/319426_4294985734465_1196558181_n.jpg\"><img src=\"https://techan.fr/images/2014/09/319426_4294985734465_1196558181_n-150x150.jpg\" alt=\"319426<em>4294985734465</em>1196558181_n\" title=\"\" /></a>Je m’appelle Raphaël, j’ai 27 ans et je suis consultant en informatique spécialisé dans les bases de données Oracle, les systèmes virtualisés VMware – certifié VCP – et les systèmes Linux.</p>\n\n<p>J’ai créé ce blog afin de partager avec le plus grand nombre tous les petits trucs que je fais dans le cadre de mon travail et qui me demande un effort de recherche ou que je fais régulièrement mais que je documente pour ne plus avoir de recherches supplémentaires a réaliser.</p>\n\n<p>Ces articles ne sont sans doute pas parfaits, je me comprend lorsque je les écrit alors n’hésitez surtout pas à les commenter pour demander plus de précisions, ou pour faire des retours sur vos propres expériences.</p>\n\n<p>J’espère toute fois que vous trouverez le plus de réponses possible en lisant ces pages. Au jour d’aujourd’hui, il y a déjà plus de 80 articles sur pas mal de sujets différents. N’hésitez pas à proposer des sujets qui vous intéressent en utilisant le formulaire ci-dessous, il est très probable que cela pique ma curiosité et que je me penche sur le sujet. :-)</p>","image":null,"featured":0,"page":1,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-23T09:02:00.000Z","created_by":1,"updated_at":"2016-05-19T13:22:37.000Z","updated_by":1,"published_at":"2014-09-23T09:02:00.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":4,"uuid":"2d9bea74-edfe-4a68-aa37-7d79fdcd519b","title":"Fichier Hosts sur Windows","slug":"fichier-hosts-sur-windows","markdown":"\nLe fichier « hosts » sur Windows se trouve dans le dossier :\n\nC:\\WINDOWS\\system32\\drivers\\etc\\hosts\n\nIl fonctionne de la même manière que son homologue sur UNIX/Linux.\n\n\n","html":"<p>Le fichier « hosts » sur Windows se trouve dans le dossier :</p>\n\n<p>C:\\WINDOWS\\system32\\drivers\\etc\\hosts</p>\n\n<p>Il fonctionne de la même manière que son homologue sur UNIX/Linux.</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-23T09:33:22.000Z","created_by":1,"updated_at":"2015-08-07T11:39:24.000Z","updated_by":1,"published_at":"2014-09-23T09:33:22.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":5,"uuid":"8a20085c-17ea-4b1e-b861-5b6d990a8ad5","title":"Ajouter des clefs SSH pour se connecter sur un boîtier RecoverPoint","slug":"ajouter-des-clefs-ssh-pour-se-connecter-sur-un-boitier-recoverpoint","markdown":"\nVoici la marche à suivre pour ajouter des clefs SSH (RSA) sur les RecoverPoint pour des connections SSH sans mot de passe.\n\nSur le Linux qui doit se connecter, on crée tout d’abord une clef RSA :\n\n[oracle@xxxxx ~]()$ ssh-keygen -t rsa Generating public/private rsa key pair. Enter file in which to save the key (/home/oracle/.ssh/id_rsa): Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in /home/oracle/.ssh/id_rsa. Your public key has been saved in /home/oracle/.ssh/id_rsa.pub. The key fingerprint is: xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx oracle@xxxxx.xxx.xx The key's randomart image is: +--[ RSA 2048]----+ | ..o. oB| | o E. .*o| | + ..o o| | = o o | | S o o | | + . | | . + | | . + | | . . | +-----------------+ [oracle@xxxxx ~]()$ cat /home/oracle/.ssh/id_rsa.pub ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAwrDIgjTvXieLj5aE3cM8WowD+/xegrd1345Dsew6UOoVTDOXBBIh2cYYKx0UU4w3K8TvI3dL5fpkYsmKR3ImqjL9udq4z0oo/nG/BAZVlsRnJW6IrYNnqKWT+BQwRogZ0keZ18wX4JpkPR5fCYhg6Xc2Zr14kfSfPFogbWl28kd0h3qqSGmzS3Ny04FZubHyjC6vJtAJKs890TvbkJpbQ2Rimir7HMvi8VPaGY16xfeAFYfjew+pSWQYlWCHt69RCClbAwGlstzaRCTYH76ebv9eCbZqh29DNu3kktce3D2C/xfW6Ik5aqhRQY0q1yvnyLXdrE/sVpbIDKJs5nlIVQ== oracle@xxxxx.xxx.xx [oracle@xxxxx ~]()$\n\nEnsuite, on se connecte sur le RecoverPoint, attention il faut se connecter sur l’IP du cluster et non sur l’adresse IP des boîtiers !\n\nxxxx-recoverp> add_ssh_key name=\"xxxxx.xxx.xx\" key=\"ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAwrDIgjTvXieLj5aE3cM8WowD+/xegrd1345Dsew6UOoVTDOXBBIh2cYYKx0UU4w3K8TvI3dL5fpkYsmKR3ImqjL9udq4z0oo/nG/BAZVlsRnJW6IrYNnqKWT+BQwRogZ0keZ18wX4JpkPR5fCYhg6Xc2Zr14kfSfPFogbWl28kd0h3qqSGmzS3Ny04FZubHyjC6vJtAJKs890TvbkJpbQ2Rimir7HMvi8VPaGY16xfeAFYfjew+pSWQYlWCHt69RCClbAwGlstzaRCTYH76ebv9eCbZqh29DNu3kktce3D2C/xfW6Ik5aqhRQY0q1yvnyLXdrE/sVpbIDKJs5nlIVQ== oracle@xxxxx.xxx.xx\" Are you sure the entire key has been entered correctly? (y/n)y Key added successfully.\n\nOn peut ensuite tester depuis le Linux si la connexion fonctionne.\n\n[oracle@xxxxx ~]()$ ssh admin@xxxx-recoverp Last login: Mon Aug 18 12:29:30 2014 from 172.16.13.104 RecoverPoint/SE System: OK Clusters: xxxxa-recoverp: RPAs: 1 warnings Volumes: OK Splitters: OK xxxxb-recoverp: RPAs: 1 warnings Volumes: OK Splitters: 20 warnings WANs: OK Groups: OK Run 'get_system_status' for more info.\n\n \n\n \n\n \n\n\n","html":"<p>Voici la marche à suivre pour ajouter des clefs SSH (RSA) sur les RecoverPoint pour des connections SSH sans mot de passe.</p>\n\n<p>Sur le Linux qui doit se connecter, on crée tout d’abord une clef RSA :</p>\n\n<p><a href=\"\">oracle@xxxxx ~</a>$ ssh-keygen -t rsa Generating public/private rsa key pair. Enter file in which to save the key (/home/oracle/.ssh/id<em>rsa): Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in /home/oracle/.ssh/id</em>rsa. Your public key has been saved in /home/oracle/.ssh/id<em>rsa.pub. The key fingerprint is: xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx oracle@xxxxx.xxx.xx The key's randomart image is: +--[ RSA 2048]----+ | ..o. oB| | o E. .*o| | + ..o o| | = o o | | S o o | | + . | | . + | | . + | | . . | +-----------------+ <a href=\"\">oracle@xxxxx ~</a>$ cat /home/oracle/.ssh/id</em>rsa.pub ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAwrDIgjTvXieLj5aE3cM8WowD+/xegrd1345Dsew6UOoVTDOXBBIh2cYYKx0UU4w3K8TvI3dL5fpkYsmKR3ImqjL9udq4z0oo/nG/BAZVlsRnJW6IrYNnqKWT+BQwRogZ0keZ18wX4JpkPR5fCYhg6Xc2Zr14kfSfPFogbWl28kd0h3qqSGmzS3Ny04FZubHyjC6vJtAJKs890TvbkJpbQ2Rimir7HMvi8VPaGY16xfeAFYfjew+pSWQYlWCHt69RCClbAwGlstzaRCTYH76ebv9eCbZqh29DNu3kktce3D2C/xfW6Ik5aqhRQY0q1yvnyLXdrE/sVpbIDKJs5nlIVQ<mark> oracle@xxxxx.xxx.xx <a href=\"\">oracle@xxxxx ~</a>$</p>\n\n<p>Ensuite, on se connecte sur le RecoverPoint, attention il faut se connecter sur l’IP du cluster et non sur l’adresse IP des boîtiers !</p>\n\n<p>xxxx-recoverp> add<em>ssh</em>key name=\"xxxxx.xxx.xx\" key=\"ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAwrDIgjTvXieLj5aE3cM8WowD+/xegrd1345Dsew6UOoVTDOXBBIh2cYYKx0UU4w3K8TvI3dL5fpkYsmKR3ImqjL9udq4z0oo/nG/BAZVlsRnJW6IrYNnqKWT+BQwRogZ0keZ18wX4JpkPR5fCYhg6Xc2Zr14kfSfPFogbWl28kd0h3qqSGmzS3Ny04FZubHyjC6vJtAJKs890TvbkJpbQ2Rimir7HMvi8VPaGY16xfeAFYfjew+pSWQYlWCHt69RCClbAwGlstzaRCTYH76ebv9eCbZqh29DNu3kktce3D2C/xfW6Ik5aqhRQY0q1yvnyLXdrE/sVpbIDKJs5nlIVQ</mark> oracle@xxxxx.xxx.xx\" Are you sure the entire key has been entered correctly? (y/n)y Key added successfully.</p>\n\n<p>On peut ensuite tester depuis le Linux si la connexion fonctionne.</p>\n\n<p><a href=\"\">oracle@xxxxx ~</a>$ ssh admin@xxxx-recoverp Last login: Mon Aug 18 12:29:30 2014 from 172.16.13.104 RecoverPoint/SE System: OK Clusters: xxxxa-recoverp: RPAs: 1 warnings Volumes: OK Splitters: OK xxxxb-recoverp: RPAs: 1 warnings Volumes: OK Splitters: 20 warnings WANs: OK Groups: OK Run 'get<em>system</em>status' for more info.</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-23T09:52:04.000Z","created_by":1,"updated_at":"2015-04-10T15:30:52.000Z","updated_by":1,"published_at":"2014-09-23T09:52:04.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":6,"uuid":"d95a90d6-af21-48b5-a8bb-d51e1954f014","title":"Désactiver les alertes par mail dans la crontab","slug":"desactiver-les-alertes-par-mail-dans-la-crontab","markdown":"\nIl est souvent pénible de recevoir toute une flopée de mail lors de l’exécution des jobs planifiés dans la crontab de vos Linux.\n\nIl existe plusieurs moyens de les désactiver toutes ou partiellement.\n\n \n\nPour rappel, l’édition de la crontab se fait en utilisant la commande suivante :\n\ncrontab -e\n\n \n\n \n\n### Désactiver partiellement les alertes\n\nLa désactivation partielle se fait en ajoutant une redirection de flux à la fin de chaque ligne active de la crontab. Cette méthode permet de choisir quelles planification on souhaite rendre muette et quelles autres on souhaite toujours recevoir.\n\nIl suffit d’ajouter à la fin des lignes a rendre silencieuse, une redirection de flux vers /dev/null.\n\n0 1 5 10 * /path/to/script.sh >/dev/null 2>&1\n\nOu\n\n0 1 5 10 * /path/to/script.sh &> /dev/null\n\n \n\nSauver et quitter la crontab. Vous pouvez éventuellement relancer le daemon « cron ».\n\n/etc/init.d/crond restart\n\n \n\n \n\n### \n\n### Désactiver totalement les alertes\n\nPour désactiver complètement les alertes, il s’agit d’ajouter une ligne en haut du fichier qui videra l’adresse du destinataire des mails d’alerte.\n\nMAILTO=\"\"\n\n \n\n \n\n \n\n\n","html":"<p>Il est souvent pénible de recevoir toute une flopée de mail lors de l’exécution des jobs planifiés dans la crontab de vos Linux.</p>\n\n<p>Il existe plusieurs moyens de les désactiver toutes ou partiellement.</p>\n\n<p>Pour rappel, l’édition de la crontab se fait en utilisant la commande suivante :</p>\n\n<p>crontab -e</p>\n\n<h3 id=\"dsactiverpartiellementlesalertes\">Désactiver partiellement les alertes</h3>\n\n<p>La désactivation partielle se fait en ajoutant une redirection de flux à la fin de chaque ligne active de la crontab. Cette méthode permet de choisir quelles planification on souhaite rendre muette et quelles autres on souhaite toujours recevoir.</p>\n\n<p>Il suffit d’ajouter à la fin des lignes a rendre silencieuse, une redirection de flux vers /dev/null.</p>\n\n<p>0 1 5 10 * /path/to/script.sh >/dev/null 2>&amp;1</p>\n\n<p>Ou</p>\n\n<p>0 1 5 10 * /path/to/script.sh &amp;> /dev/null</p>\n\n<p>Sauver et quitter la crontab. Vous pouvez éventuellement relancer le daemon « cron ».</p>\n\n<p>/etc/init.d/crond restart</p>\n\n<h3 id=\"\"> </h3>\n\n<h3 id=\"dsactivertotalementlesalertes\">Désactiver totalement les alertes</h3>\n\n<p>Pour désactiver complètement les alertes, il s’agit d’ajouter une ligne en haut du fichier qui videra l’adresse du destinataire des mails d’alerte.</p>\n\n<p>MAILTO=\"\"</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-23T10:10:51.000Z","created_by":1,"updated_at":"2015-04-10T15:31:46.000Z","updated_by":1,"published_at":"2014-09-23T10:10:51.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":7,"uuid":"a3625f02-1309-47c6-aae8-98e36517a961","title":"Création d'une VM Linux pour forwarder des paquets d'une IP à une autre","slug":"creation-dune-vm-linux-pour-forwarder-des-paquets-dune-ip-a-une-autre","markdown":"\nDans le cadre d’un test de PCA, j’ai du créé une VM Linux qui fait du forward de paquets d’une IP vers une autre car nous ne disposions plus des ressources physique du site principal, notamment certain Domain Controler avec le rôle de DNS.\n\n \n\nCette VM avait donc pour but d’intercepter les paquets qui était envoyé sur le réseau a destination des ressources inaccessibles et de les transférer vers une autre machine capable de traiter les demandes (un autre DC).\n\n/p>\n\n<span style=\"text-decoration: underline;\"><span style=\"color: #ff0000;\">**Attention !**</span></span>\n\nCette manipulation est dangereuse sur un système de production !\n\nCette VM devra disposer d’une adresse IP qui lui ai propre afin de pouvoir facilement l’administrer et d’une carte réseau supplémentaire par adresse IP source a forwarder.\n\n### Configuration IP\n\nL’adresse IP propre à cette VM sera 192.168.0.200\n\n[root@vm-forward ~]# cat /etc/sysconfig/network-scripts/ifcfg-eth0 DEVICE=eth0 ONBOOT=yes TYPE=ETHERNET BOOTPRO=static IPADDR=192.168.0.200 NETMASK=255.255.255.0 GATEWAY=192.168.0.1 DNS1=192.168.0.2 DNS2=192.168.0.3 DNS3=192.168.0.4 IPV6INIT=no USERCTL=no\n\nL’adresse IP a intercepter sera 192.168.0.4, un des serveurs DNS de la VM.\n\n[root@vm-forward ~]# cat /etc/sysconfig/network-scripts/ifcfg-eth1 DEVICE=eth1 ONBOOT=yes TYPE=ETHERNET BOOTPRO=static IPADDR=192.168.0.4 NETMASK=255.255.255.0 GATEWAY=192.168.0.1 DNS1=192.168.0.2 DNS2=192.168.0.3 DNS3=192.168.0.4 IPV6INIT=no USERCTL=no\n\n \n\n### Configuration dans le fichier sysctl.conf\n\nAfin que le Linux puisse faire du fowrd, il faut activer l’option dans le fichier /etc/sysctl.conf\n\n[root@vm-forward ~]# cat /etc/sysctl.conf | grep forward # Controls IP PAcket forwarding net.ipv4.ip_forward = 1\n\nPour que cette option soit prise en compte, rebootez le système ou exécuter :\n\nsysctl -p\n\n \n\n### Activation d’IPtables au démarrage du système\n\n[root@vm-forward ~]# chkconfig --level 2345 iptables on\n\n \n\n### Configuration d’IPtables\n\nDans IPtables, on va ajouter des règles de NAT et un règle Filter pour autoriser le forward.\n\n \n\n[root@vm-forward ~]# cat /etc/sysconfig/iptables ##Les regles de routage NAT ## A AJOUTER AU DEBUT DU FICHIER, APRES LES COMMENTAIRES *nat :PREROUTING ACCEPT [0:0] :POSTROUTING ACCEPT [0:0] -A PREROUTING -i eth1 -p tcp --dport 53 -j DNAT --to-destination 192.168.0.2:53 -A POSTROUTING -o eth1 -j MASQUERADE COMMIT *filter *:INPUT ACCEPT [0:0] *:FORWARD ACCEPT [0:0] *:OUTPUT ACCEPT [0:0] ## VOS REGLES EXISTANTES -A FORWARD -j ACCEPT COMMIT\n\n \n\n \n\n\n","html":"<p>Dans le cadre d’un test de PCA, j’ai du créé une VM Linux qui fait du forward de paquets d’une IP vers une autre car nous ne disposions plus des ressources physique du site principal, notamment certain Domain Controler avec le rôle de DNS.</p>\n\n<p>Cette VM avait donc pour but d’intercepter les paquets qui était envoyé sur le réseau a destination des ressources inaccessibles et de les transférer vers une autre machine capable de traiter les demandes (un autre DC).</p>\n\n<p>/p></p>\n\n<p><span style=\"text-decoration: underline;\"><span style=\"color: #ff0000;\"><strong>Attention !</strong></span></span></p>\n\n<p>Cette manipulation est dangereuse sur un système de production !</p>\n\n<p>Cette VM devra disposer d’une adresse IP qui lui ai propre afin de pouvoir facilement l’administrer et d’une carte réseau supplémentaire par adresse IP source a forwarder.</p>\n\n<h3 id=\"configurationip\">Configuration IP</h3>\n\n<p>L’adresse IP propre à cette VM sera 192.168.0.200</p>\n\n<p>[root@vm-forward ~]# cat /etc/sysconfig/network-scripts/ifcfg-eth0 DEVICE=eth0 ONBOOT=yes TYPE=ETHERNET BOOTPRO=static IPADDR=192.168.0.200 NETMASK=255.255.255.0 GATEWAY=192.168.0.1 DNS1=192.168.0.2 DNS2=192.168.0.3 DNS3=192.168.0.4 IPV6INIT=no USERCTL=no</p>\n\n<p>L’adresse IP a intercepter sera 192.168.0.4, un des serveurs DNS de la VM.</p>\n\n<p>[root@vm-forward ~]# cat /etc/sysconfig/network-scripts/ifcfg-eth1 DEVICE=eth1 ONBOOT=yes TYPE=ETHERNET BOOTPRO=static IPADDR=192.168.0.4 NETMASK=255.255.255.0 GATEWAY=192.168.0.1 DNS1=192.168.0.2 DNS2=192.168.0.3 DNS3=192.168.0.4 IPV6INIT=no USERCTL=no</p>\n\n<h3 id=\"configurationdanslefichiersysctlconf\">Configuration dans le fichier sysctl.conf</h3>\n\n<p>Afin que le Linux puisse faire du fowrd, il faut activer l’option dans le fichier /etc/sysctl.conf</p>\n\n<p>[root@vm-forward ~]# cat /etc/sysctl.conf | grep forward # Controls IP PAcket forwarding net.ipv4.ip_forward = 1</p>\n\n<p>Pour que cette option soit prise en compte, rebootez le système ou exécuter :</p>\n\n<p>sysctl -p</p>\n\n<h3 id=\"activationdiptablesaudmarragedusystme\">Activation d’IPtables au démarrage du système</h3>\n\n<p>[root@vm-forward ~]# chkconfig --level 2345 iptables on</p>\n\n<h3 id=\"configurationdiptables\">Configuration d’IPtables</h3>\n\n<p>Dans IPtables, on va ajouter des règles de NAT et un règle Filter pour autoriser le forward.</p>\n\n<p>[root@vm-forward ~]# cat /etc/sysconfig/iptables ##Les regles de routage NAT ## A AJOUTER AU DEBUT DU FICHIER, APRES LES COMMENTAIRES *nat :PREROUTING ACCEPT [0:0] :POSTROUTING ACCEPT [0:0] -A PREROUTING -i eth1 -p tcp --dport 53 -j DNAT --to-destination 192.168.0.2:53 -A POSTROUTING -o eth1 -j MASQUERADE COMMIT *filter *:INPUT ACCEPT [0:0] *:FORWARD ACCEPT [0:0] *:OUTPUT ACCEPT [0:0] ## VOS REGLES EXISTANTES -A FORWARD -j ACCEPT COMMIT</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-23T11:00:43.000Z","created_by":1,"updated_at":"2015-04-10T15:46:00.000Z","updated_by":1,"published_at":"2014-09-23T11:00:43.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":8,"uuid":"4e3d5738-e0cb-4d1f-b0ac-32d2c55a66c8","title":"Booster Apache avec des dossiers de cache en RAM","slug":"booster-apache-avec-des-dossiers-de-cache-en-ram","markdown":"\nUne des astuces pour bosster apache est de stocker des fichiers très accédés directement en RAM, pour cela on va utiliser le « tmpfs ».  \n  \n C’est une astuce qui permet de monter des morceaux de la RAM de l’ordinateur comme une partition classique.\n\nCeci évite de trop solliciter le disque dur qui évite ainsi beaucoup d’accès sur des fichiers « chaud ».\n\n \n\nVoici deux exemples d’utilisation.\n\n \n\n### Booster un site WordPress en mettant les fichiers de cache en RAM\n\nUn site WordPress est installé dans le dossier : /data/web/wordpress, cette installation utilise de la mise en cache du contenu. Les fichiers créés pour cette mise en cache sont stockés dans le dossier : /data/web/wordpress/wp-content/cache.\n\n \n\nNous allons monter 10 Mo de RAM dans le dossier /data/web/wordpress/wp-content/cache afin d’écrire les fichiers en cache en RAM.\n\nmount -t tmpfs -o size=10M,mode=0744 tmpfs /data/web/wordpress/wp-content/cache\n\n \n\nAfin de rendre cette manipulation permanente, voici la ligne a ajouter à la fstab :\n\ntmpfs /data/web/wordpress/wp-content/cache tmpfs size=10M,mode=0777 0 0\n\n \n\n \n\n### Booster Apache en mettant les sessions PHP en RAM\n\nNous allons créer le dossier /cache/apache2/sessions et monter 50 Mo de RAM dessus.\n\n \n\nmkdir -p /cache/apache2/sessions mount -t tmpfs -o size=50M,mode=0744 tmpfs /cache/apache2/sessions chown -R www-data: /cache/apache2/sessions/\n\n \n\nLes sessions PHP sont par défaut, stockées dans le repertoire /tmp de votre Linux, vous pouvez modifier ce chemin en mettant une valeur à la variable « session.save_path » dans votre fichier php.ini\n\nsession.save_path = \"/cache/apache2/sessions\"\n\n *N’oubliez pas de redémarrer Apache pour prendre en compte cette modification.*\n\n \n\nAfin de rendre cette manipulation permanente, voici la ligne a ajouter à la fstab :\n\ntmpfs /cache/apache2/sessions tmpfs size=50M,mode=0777 0 0\n\n \n\n### Augmenter à chaud la taille d’un TMPFS\n\nroot@kelthuzad:~# df -h /cache/apache2/sessions/ Sys. de fichiers Taille Utilisé Dispo Uti% Monté sur tmpfs 50M 0 50M 0% /cache/apache2/sessions root@kelthuzad:~# mount -o remount,size=100M /cache/apache2/sessions root@kelthuzad:~# df -h /cache/apache2/sessions/ Sys. de fichiers Taille Utilisé Dispo Uti% Monté sur tmpfs 100M 0 100M 0% /cache/apache2/sessions\n\nN’oubliez pas de modifier la taille dans votre fstab ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\n### Autres cas d’utilisation\n\nLes cas d’utilisation des TMPFS sont presques infinis tant que vous avez de la RAM à foison.\n\nUn autre exemple, j’ai un ami qui a utilisé du TMPFS, sur mon conseil,  pour booster un serveur Team Fortresss 2, il en est plus que ravi ! ","html":"<p>Une des astuces pour bosster apache est de stocker des fichiers très accédés directement en RAM, pour cela on va utiliser le « tmpfs ».  </p>\n\n<p>C’est une astuce qui permet de monter des morceaux de la RAM de l’ordinateur comme une partition classique.</p>\n\n<p>Ceci évite de trop solliciter le disque dur qui évite ainsi beaucoup d’accès sur des fichiers « chaud ».</p>\n\n<p>Voici deux exemples d’utilisation.</p>\n\n<h3 id=\"boosterunsitewordpressenmettantlesfichiersdecacheenram\">Booster un site WordPress en mettant les fichiers de cache en RAM</h3>\n\n<p>Un site WordPress est installé dans le dossier : /data/web/wordpress, cette installation utilise de la mise en cache du contenu. Les fichiers créés pour cette mise en cache sont stockés dans le dossier : /data/web/wordpress/wp-content/cache.</p>\n\n<p>Nous allons monter 10 Mo de RAM dans le dossier /data/web/wordpress/wp-content/cache afin d’écrire les fichiers en cache en RAM.</p>\n\n<p>mount -t tmpfs -o size=10M,mode=0744 tmpfs /data/web/wordpress/wp-content/cache</p>\n\n<p>Afin de rendre cette manipulation permanente, voici la ligne a ajouter à la fstab :</p>\n\n<p>tmpfs /data/web/wordpress/wp-content/cache tmpfs size=10M,mode=0777 0 0</p>\n\n<h3 id=\"boosterapacheenmettantlessessionsphpenram\">Booster Apache en mettant les sessions PHP en RAM</h3>\n\n<p>Nous allons créer le dossier /cache/apache2/sessions et monter 50 Mo de RAM dessus.</p>\n\n<p>mkdir -p /cache/apache2/sessions mount -t tmpfs -o size=50M,mode=0744 tmpfs /cache/apache2/sessions chown -R www-data: /cache/apache2/sessions/</p>\n\n<p>Les sessions PHP sont par défaut, stockées dans le repertoire /tmp de votre Linux, vous pouvez modifier ce chemin en mettant une valeur à la variable « session.save_path » dans votre fichier php.ini</p>\n\n<p>session.save_path = \"/cache/apache2/sessions\"</p>\n\n<p> <em>N’oubliez pas de redémarrer Apache pour prendre en compte cette modification.</em></p>\n\n<p>Afin de rendre cette manipulation permanente, voici la ligne a ajouter à la fstab :</p>\n\n<p>tmpfs /cache/apache2/sessions tmpfs size=50M,mode=0777 0 0</p>\n\n<h3 id=\"augmenterchaudlatailleduntmpfs\">Augmenter à chaud la taille d’un TMPFS</h3>\n\n<p>root@kelthuzad:~# df -h /cache/apache2/sessions/ Sys. de fichiers Taille Utilisé Dispo Uti% Monté sur tmpfs 50M 0 50M 0% /cache/apache2/sessions root@kelthuzad:~# mount -o remount,size=100M /cache/apache2/sessions root@kelthuzad:~# df -h /cache/apache2/sessions/ Sys. de fichiers Taille Utilisé Dispo Uti% Monté sur tmpfs 100M 0 100M 0% /cache/apache2/sessions</p>\n\n<p>N’oubliez pas de modifier la taille dans votre fstab ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<h3 id=\"autrescasdutilisation\">Autres cas d’utilisation</h3>\n\n<p>Les cas d’utilisation des TMPFS sont presques infinis tant que vous avez de la RAM à foison.</p>\n\n<p>Un autre exemple, j’ai un ami qui a utilisé du TMPFS, sur mon conseil,  pour booster un serveur Team Fortresss 2, il en est plus que ravi ! ","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-23T15:29:06.000Z","created_by":1,"updated_at":"2014-10-16T08:34:14.000Z","updated_by":1,"published_at":"2014-09-23T15:29:06.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":9,"uuid":"72316de9-3ed9-45fd-828e-117dfa1207d4","title":"Lancer des applis Android sur Chromes OS, Linux, Mac OS, Windows","slug":"lancer-des-applis-android-sur-chromes-os-linux-mac-os-windows","markdown":"\nEn parcourant l’Internet Multimédia, je suis tombé sur une news qui a attiré mon attention, il serait possible de lancer des applications Android sur des systèmes plus conventionnels.\n\nCeci serait possible en passant par le mode développeur du système d’extensions du navigateur Chrome.  \n  \n  \n\nMême si ce hack m’intéressait pour certaines applications, je n’ai pas eu le temps de tester ceci …\n\n \n\n> Il est désormais possible de lancer les applications Android sous OS X, Linux et Windows via Google Chrome ! [http://t.co/ap1eJZ1lTh](http://t.co/ap1eJZ1lTh)\n> \n> — LouWii D. (@LouWii59) [September 23, 2014](https://twitter.com/LouWii59/status/514436231862951936)\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>\n\n### <span style=\"text-decoration: underline;\">**Liens**</span>\n\n[L’article sur FrAndroid](http://www.frandroid.com/applications/242809_il-desormais-possible-lancer-les-applications-android-os-x-linux-windows?utm_source=feedburner&utm_medium=feed&utm_campaign=Feed%3A+Frandroid+%28FrAndroid%29)\n\n[La page du hack sur GitHub](https://github.com/vladikoff/chromeos-apk#now-supports-os-x-linux-and-windows)\n\n \n\n \n\n \n\n\n","html":"<p>En parcourant l’Internet Multimédia, je suis tombé sur une news qui a attiré mon attention, il serait possible de lancer des applications Android sur des systèmes plus conventionnels.</p>\n\n<p>Ceci serait possible en passant par le mode développeur du système d’extensions du navigateur Chrome.  </p>\n\n<p>Même si ce hack m’intéressait pour certaines applications, je n’ai pas eu le temps de tester ceci …</p>\n\n<blockquote>\n  <p>Il est désormais possible de lancer les applications Android sous OS X, Linux et Windows via Google Chrome ! <a href=\"http://t.co/ap1eJZ1lTh\">http://t.co/ap1eJZ1lTh</a></p>\n  \n  <p>— LouWii D. (@LouWii59) <a href=\"https://twitter.com/LouWii59/status/514436231862951936\">September 23, 2014</a></p>\n</blockquote>\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>\n\n<h3 id=\"spanstyletextdecorationunderlineliensspan\"><span style=\"text-decoration: underline;\"><strong>Liens</strong></span></h3>\n\n<p><a href=\"http://www.frandroid.com/applications/242809_il-desormais-possible-lancer-les-applications-android-os-x-linux-windows?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+Frandroid+%28FrAndroid%29\">L’article sur FrAndroid</a></p>\n\n<p><a href=\"https://github.com/vladikoff/chromeos-apk#now-supports-os-x-linux-and-windows\">La page du hack sur GitHub</a></p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-24T10:44:23.000Z","created_by":1,"updated_at":"2014-11-18T10:59:24.000Z","updated_by":1,"published_at":"2014-09-24T10:44:23.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":10,"uuid":"eb284daf-1696-4e1a-a868-6f9d397b17f1","title":"Quand Apple fait du Microsoft ...","slug":"quand-apple-fait-du-microsoft","markdown":"\nVoici une nouvelle qui a fait grand bruit dans le monde des réseaux sociaux et des utilisateurs de produits mobiles Apple.  \n  \n La première mise à jour du tout nouveau système mobile iOS – la version 8.0.1 – a été publiée hier soir par la firme de Cupertino, puis retiré un peu plus d’une heure plus tard …\n\nCette mise à jour devait corriger plusieurs bugs, dont celui qui avait poussé Apple a retirer HealthKit au dernier moment, juste avant la sortie d’iOS8.\n\n \n\nMalheureusement, la mise à jour apportait bien plus de bugs qu’elle n’en corrigeait, et des bugs bien gênant. Parmi les plus pénibles, les iPhone 6 et 6 Plus ne pouvaient plus se connecter aux réseaux cellulaires, quelques soit l’opérateur fournissant ce service, TouchId ne fonctionnait plus … Le bug qui impactait la connexion aux réseaux cellulaires ne semblait présent que sur les tout nouveaux terminaux d’Apple, il n’était visiblement pas présent sur les iPhone 5S par exemple.\n\nSi vous avez malheureusement fait cette mise à jour vers iOS 8.0.1, [iGen.fr](http://www.igen.fr) a publié un [article expliquant comment revenir à iOS 8.0](http://www.igen.fr/ios/2014/09/comment-revenir-ios-80-sur-votre-iphone-6-87815).\n\n \n\n[Apple a publié une note](http://support.apple.com/kb/HT6487?viewlocale=en_US&locale=en_US) ce matin expliquant également la marche a suivre pour revenir en arrière. La firme a également annoncé la sortie d’une nouvelle mise à jour (iOS 8.0.2) « dans les tout prochains jours ».\n\n \n\nEspérons que cette fois-ci sera la bonne !\n\n \n\n### <span style=\"text-decoration: underline;\">Liens</span>\n\nChronologie des évènements sur [iGen.fr](http://www.igen.fr/)\n\n24/09/2014 à 18h57 : [iOS 8.0.1 est disponible et corrige le bug HealthKit](http://www.igen.fr/ios/2014/09/ios-801-est-disponible-et-corrige-le-bug-healthkit-maj-ne-pas-installer-87812)\n\n24/09/2014 à 20h18 : [Apple retire iOS 8.0.1 devant l’ampleur des bugs et enquête](http://www.igen.fr/ios/2014/09/apple-retire-ios-801-devant-lampleur-des-bugs-et-enquete-87813)\n\n25/09/2014 à 7h18 :[ Apple sortira iOS 8.0.2 ces « tout prochains jours »](http://www.igen.fr/ios/2014/09/apple-sortira-ios-802-ces-tout-prochains-jours-87818)\n\n\n","html":"<p>Voici une nouvelle qui a fait grand bruit dans le monde des réseaux sociaux et des utilisateurs de produits mobiles Apple.  </p>\n\n<p>La première mise à jour du tout nouveau système mobile iOS – la version 8.0.1 – a été publiée hier soir par la firme de Cupertino, puis retiré un peu plus d’une heure plus tard …</p>\n\n<p>Cette mise à jour devait corriger plusieurs bugs, dont celui qui avait poussé Apple a retirer HealthKit au dernier moment, juste avant la sortie d’iOS8.</p>\n\n<p>Malheureusement, la mise à jour apportait bien plus de bugs qu’elle n’en corrigeait, et des bugs bien gênant. Parmi les plus pénibles, les iPhone 6 et 6 Plus ne pouvaient plus se connecter aux réseaux cellulaires, quelques soit l’opérateur fournissant ce service, TouchId ne fonctionnait plus … Le bug qui impactait la connexion aux réseaux cellulaires ne semblait présent que sur les tout nouveaux terminaux d’Apple, il n’était visiblement pas présent sur les iPhone 5S par exemple.</p>\n\n<p>Si vous avez malheureusement fait cette mise à jour vers iOS 8.0.1, <a href=\"http://www.igen.fr\">iGen.fr</a> a publié un <a href=\"http://www.igen.fr/ios/2014/09/comment-revenir-ios-80-sur-votre-iphone-6-87815\">article expliquant comment revenir à iOS 8.0</a>.</p>\n\n<p><a href=\"http://support.apple.com/kb/HT6487?viewlocale=en_US&amp;locale=en_US\">Apple a publié une note</a> ce matin expliquant également la marche a suivre pour revenir en arrière. La firme a également annoncé la sortie d’une nouvelle mise à jour (iOS 8.0.2) « dans les tout prochains jours ».</p>\n\n<p>Espérons que cette fois-ci sera la bonne !</p>\n\n<h3 id=\"spanstyletextdecorationunderlineliensspan\"><span style=\"text-decoration: underline;\">Liens</span></h3>\n\n<p>Chronologie des évènements sur <a href=\"http://www.igen.fr/\">iGen.fr</a></p>\n\n<p>24/09/2014 à 18h57 : <a href=\"http://www.igen.fr/ios/2014/09/ios-801-est-disponible-et-corrige-le-bug-healthkit-maj-ne-pas-installer-87812\">iOS 8.0.1 est disponible et corrige le bug HealthKit</a></p>\n\n<p>24/09/2014 à 20h18 : <a href=\"http://www.igen.fr/ios/2014/09/apple-retire-ios-801-devant-lampleur-des-bugs-et-enquete-87813\">Apple retire iOS 8.0.1 devant l’ampleur des bugs et enquête</a></p>\n\n<p>25/09/2014 à 7h18 :<a href=\"http://www.igen.fr/ios/2014/09/apple-sortira-ios-802-ces-tout-prochains-jours-87818\"> Apple sortira iOS 8.0.2 ces « tout prochains jours »</a></p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-25T08:09:31.000Z","created_by":1,"updated_at":"2014-11-18T10:59:05.000Z","updated_by":1,"published_at":"2014-09-25T08:09:31.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":11,"uuid":"23eec0cc-4ab0-490d-83df-9cc50024d0b2","title":"[iOS] Désactiver la lecture automatique des vidéos sur FaceBook","slug":"ios-desactiver-la-lecture-automatique-des-videos-sur-facebook","markdown":"\nVoici quelque chose qui m’énerve particulièrement depuis un moment sur l’application iOS de FaceBook, la lecture automatique des vidéos. Cette « nouveauté » ralentie considérablement le temps de chargement de l’application et pollue visuellement et afficher des vidéos que je n’aurais jamais visionnées sinon.\n\nJ’ai donc cherché (et trouvé !) comment désactiver cette horreur !\n\n \n\nLa manipulation est assez simple, pour commencer rendez-vous dans les paramètres de votre iPhone en cliquant sur l’icône :\n\n[![iOS_icone_reglages](https://techan.fr/images/2014/09/iOS_icone_reglages.png)](https://techan.fr/images/2014/09/iOS_icone_reglages.png)\n\nEnsuite, suivez le guide !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_74\" style=\"width: 310px\">[![Descendez jusqu'au menu Facebook, ouvrez le.](https://techan.fr/images/2014/09/1_disableFBautoplay_facebook-300x158.png)](https://techan.fr/images/2014/09/1_disableFBautoplay_facebook.png)Descendez jusqu’au menu Facebook, ouvrez le.\n\n</div> \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_71\" style=\"width: 310px\">[![Appuyez sur \"Réglages\".](https://techan.fr/images/2014/09/2_disableFBautoplay_settings-300x213.png)](https://techan.fr/images/2014/09/2_disableFBautoplay_settings.png)Appuyez sur « Réglages ».\n\n</div> \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_72\" style=\"width: 295px\">[![Descendez jusqu'au menu Auto-play, ouvrez le.](https://techan.fr/images/2014/09/3_disableFBautoplay_autoplay-285x300.png)](https://techan.fr/images/2014/09/3_disableFBautoplay_autoplay.png)Descendez jusqu’au menu Auto-play, ouvrez le.\n\n</div> \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_73\" style=\"width: 310px\">[![Sélectionnez l'option qui vous convient le mieux.](https://techan.fr/images/2014/09/4_disableFBautoplay_auto_play_off-300x223.png)](https://techan.fr/images/2014/09/4_disableFBautoplay_auto_play_off.png)Sélectionnez l’option qui vous convient le mieux.\n\n</div> \n\nEt voilà ! ![:-)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n\n","html":"<p>Voici quelque chose qui m’énerve particulièrement depuis un moment sur l’application iOS de FaceBook, la lecture automatique des vidéos. Cette « nouveauté » ralentie considérablement le temps de chargement de l’application et pollue visuellement et afficher des vidéos que je n’aurais jamais visionnées sinon.</p>\n\n<p>J’ai donc cherché (et trouvé !) comment désactiver cette horreur !</p>\n\n<p>La manipulation est assez simple, pour commencer rendez-vous dans les paramètres de votre iPhone en cliquant sur l’icône :</p>\n\n<p><a href=\"https://techan.fr/images/2014/09/iOS_icone_reglages.png\"><img src=\"https://techan.fr/images/2014/09/iOS_icone_reglages.png\" alt=\"iOS<em>icone</em>reglages\" title=\"\" /></a></p>\n\n<p>Ensuite, suivez le guide !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_74\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/09/1_disableFBautoplay_facebook.png\"><img src=\"https://techan.fr/images/2014/09/1_disableFBautoplay_facebook-300x158.png\" alt=\"Descendez jusqu'au menu Facebook, ouvrez le.\" title=\"\" /></a>Descendez jusqu’au menu Facebook, ouvrez le.</p>\n\n<p></div> </p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_71\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/09/2_disableFBautoplay_settings.png\"><img src=\"https://techan.fr/images/2014/09/2_disableFBautoplay_settings-300x213.png\" alt=\"Appuyez sur &quot;Réglages&quot;.\" title=\"\" /></a>Appuyez sur « Réglages ».</p>\n\n<p></div> </p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_72\" style=\"width: 295px\"><a href=\"https://techan.fr/images/2014/09/3_disableFBautoplay_autoplay.png\"><img src=\"https://techan.fr/images/2014/09/3_disableFBautoplay_autoplay-285x300.png\" alt=\"Descendez jusqu'au menu Auto-play, ouvrez le.\" title=\"\" /></a>Descendez jusqu’au menu Auto-play, ouvrez le.</p>\n\n<p></div> </p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_73\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/09/4_disableFBautoplay_auto_play_off.png\"><img src=\"https://techan.fr/images/2014/09/4_disableFBautoplay_auto_play_off-300x223.png\" alt=\"Sélectionnez l'option qui vous convient le mieux.\" title=\"\" /></a>Sélectionnez l’option qui vous convient le mieux.</p>\n\n<p></div> </p>\n\n<p>Et voilà ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":-)\" title=\"\" /></p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-25T12:13:43.000Z","created_by":1,"updated_at":"2014-11-18T10:58:53.000Z","updated_by":1,"published_at":"2014-09-25T12:13:43.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":12,"uuid":"a8972c47-5ef2-43af-8afa-4c217aadebe7","title":"[Shellshock] Une nouvelle faille de sécurité découverte sur Mac OS et Linux","slug":"shellshock-une-nouvelle-faille-de-securite-decouverte-sur-mac-os-et-linux","markdown":"\nLa nouvelle est tombée un peu plus tôt cet après-midi, [une nouvelle faille de sécurité a été découverte par les gens de chez RedHat](http://community.redhat.com/blog/2014/09/critical-bash-security-vulnerability-update-your-systems-today/?utm_source=twitterfeed&utm_medium=twitter) !  \n  \n Cette faille s’appuie sur l’interpréteur de commandes Bash, un énorme classique sur tous les Unix/Linux, si bien que peux de pingouins sont à l’abris … Mac OS est également touché car Bash est son shell de base.\n\nElle permet a des utilisateurs malveillants d’exécuter du code à distance sur votre machine. Celà vient du fait qu’il est possible de créer des variables d’environnement avec des valeurs spéciales avant d’appeler Bash, comme des commandes pouvant être exécutées.\n\n \n\nDes mises à jours ont déjà été publiées pour les systèmes suivants :\n\n- RedHat (pour les version de 4 à 7)\n- Ubuntu (pour les versions 10.04 LTS, 12.04 LTS et 14.04 LTS)\n- Fedora/CentOS ( pour les versions de 5 à 7)\n- Debian\n\nEspérons qu’Apple publiera rapidement une mise à jour pour les pommes !\n\n> Sécurité: la mégafaille «Shellshock» secoue le monde Linux et Mac OS. [http://t.co/I8emJBvbQ0](http://t.co/I8emJBvbQ0) [pic.twitter.com/KVhrrR04F3](http://t.co/KVhrrR04F3)\n> \n> — 01net (@01net) [September 25, 2014](https://twitter.com/01net/status/515096456240574464)\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>\n\nPour tester si votre système est vulnérable, c’est simple, il vous suffit d’exécuter la commande suivante dans votre terminal :\n\nenv x='() { :;}; echo vulnerable' bash -c \"echo this is a test\"\n\nSi votre système est vulnérable l’affichage sera le suivant :\n\nvulnerable this is a test\n\nS’il ne l’est pas, le résultat sera :\n\nbash: avertissement : x: ignoring function definition attempt bash: erreur lors de l'import de la définition de fonction pour « x » this is a test\n\n \n\n**<span style=\"text-decoration: underline;\">Si votre système est vulnérable, n’attendez pas avant de patcher votre Bash !!!</span>**\n\nPour cela, utiliser votre gestionnaire de paquets habituels. ","html":"<p>La nouvelle est tombée un peu plus tôt cet après-midi, <a href=\"http://community.redhat.com/blog/2014/09/critical-bash-security-vulnerability-update-your-systems-today/?utm_source=twitterfeed&amp;utm_medium=twitter\">une nouvelle faille de sécurité a été découverte par les gens de chez RedHat</a> !  </p>\n\n<p>Cette faille s’appuie sur l’interpréteur de commandes Bash, un énorme classique sur tous les Unix/Linux, si bien que peux de pingouins sont à l’abris … Mac OS est également touché car Bash est son shell de base.</p>\n\n<p>Elle permet a des utilisateurs malveillants d’exécuter du code à distance sur votre machine. Celà vient du fait qu’il est possible de créer des variables d’environnement avec des valeurs spéciales avant d’appeler Bash, comme des commandes pouvant être exécutées.</p>\n\n<p>Des mises à jours ont déjà été publiées pour les systèmes suivants :</p>\n\n<ul>\n<li>RedHat (pour les version de 4 à 7)</li>\n<li>Ubuntu (pour les versions 10.04 LTS, 12.04 LTS et 14.04 LTS)</li>\n<li>Fedora/CentOS ( pour les versions de 5 à 7)</li>\n<li>Debian</li>\n</ul>\n\n<p>Espérons qu’Apple publiera rapidement une mise à jour pour les pommes !</p>\n\n<blockquote>\n  <p>Sécurité: la mégafaille «Shellshock» secoue le monde Linux et Mac OS. <a href=\"http://t.co/I8emJBvbQ0\">http://t.co/I8emJBvbQ0</a> <a href=\"http://t.co/KVhrrR04F3\">pic.twitter.com/KVhrrR04F3</a></p>\n  \n  <p>— 01net (@01net) <a href=\"https://twitter.com/01net/status/515096456240574464\">September 25, 2014</a></p>\n</blockquote>\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>\n\n<p>Pour tester si votre système est vulnérable, c’est simple, il vous suffit d’exécuter la commande suivante dans votre terminal :</p>\n\n<p>env x='() { :;}; echo vulnerable' bash -c \"echo this is a test\"</p>\n\n<p>Si votre système est vulnérable l’affichage sera le suivant :</p>\n\n<p>vulnerable this is a test</p>\n\n<p>S’il ne l’est pas, le résultat sera :</p>\n\n<p>bash: avertissement : x: ignoring function definition attempt bash: erreur lors de l'import de la définition de fonction pour « x » this is a test</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Si votre système est vulnérable, n’attendez pas avant de patcher votre Bash !!!</span></strong></p>\n\n<p>Pour cela, utiliser votre gestionnaire de paquets habituels. ","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-25T14:56:57.000Z","created_by":1,"updated_at":"2014-10-16T08:31:27.000Z","updated_by":1,"published_at":"2014-09-25T14:56:57.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":13,"uuid":"969aa259-2360-4679-a335-e9dd1f0f2b8a","title":"[iPhone 6] Une page permettant de vérifier les stocks dans les Apple Store","slug":"iphone-6-une-page-permettant-de-verifier-les-stocks-dans-les-apple-store","markdown":"\nVoici une page qui pourra être utiles aux personnes qui souhaitent aller chercher leur iPhone 6 directement dans les Apple Store.  \n  \n Vous pouvez suivre les stocks d’iPhone 6 et d’iPhone Plus dans les Store Français.\n\n \n\nÇa se passe par ici :\n\n[Vérifier la disponibilité de l’iPhone](https://reserve.cdn-apple.com/FR/fr_FR/reserve/iPhone/availability)\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_87\" style=\"width: 310px\">[![Disponibilité de l'iPhone 6](https://techan.fr/images/2014/09/dispo_iphone6_applestore-300x273.png)](https://techan.fr/images/2014/09/dispo_iphone6_applestore.png)Disponibilité de l’iPhone 6\n\n</div>\n","html":"<p>Voici une page qui pourra être utiles aux personnes qui souhaitent aller chercher leur iPhone 6 directement dans les Apple Store.  </p>\n\n<p>Vous pouvez suivre les stocks d’iPhone 6 et d’iPhone Plus dans les Store Français.</p>\n\n<p>Ça se passe par ici :</p>\n\n<p><a href=\"https://reserve.cdn-apple.com/FR/fr_FR/reserve/iPhone/availability\">Vérifier la disponibilité de l’iPhone</a></p>\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_87\" style=\"width: 310px\">[![Disponibilité de l'iPhone 6](https://techan.fr/images/2014/09/dispo_iphone6_applestore-300x273.png)](https://techan.fr/images/2014/09/dispo_iphone6_applestore.png)Disponibilité de l’iPhone 6\n\n</div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-26T07:53:50.000Z","created_by":1,"updated_at":"2014-11-18T10:58:38.000Z","updated_by":1,"published_at":"2014-09-26T07:53:50.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":14,"uuid":"75826ce3-30a0-446a-9ab1-8145733cd095","title":"[imp] Importer juste une table dans un schéma.","slug":"imp-importer-juste-une-table-dans-un-schema","markdown":"\nLe binaire « imp » fait partie de l’ancien mécanisme d’export/import d’Oracle, cette technologie a été supplantée par DataPump qui est bien plus performant et flexible.  \n  \n  \n\nCependant, ces anciens outils sont encore utilisés soit pour les bases en version inférieures à la 10g, soit par faute de migration des scripts.\n\nNous allons voir comment importer une seule table depuis un fichier exporté avec « exp » dans un schéma.\n\n \n\nLa table présente dans la base contient des erreurs, nous allons la supprimer.\n\nSQL> drop table LE_SCHEMA.LA_TABLE ; Table supprimee.\n\n \n\nUne fois la table supprimée, il faut se rendre dans le dossier contenant le fichier d’export puis lancer la commande suivante.\n\n[oracle@xxxxx export](BASE)$ imp file=SCHEMA.dmp fromuser=LE_SCHEMA touser=LE_SCHEMA TABLES=\\(LA_TABLE\\) buffer=1000000000 Import: Release 11.2.0.1.0 - Production on Fri Sep 26 10:42:11 2014 Copyright (c) 1982, 2009, Oracle and/or its affiliates. All rights reserved. Username: system Password: Connected to: Oracle Database 11g Release 11.2.0.1.0 - 64bit Production Export file created by EXPORT:V11.02.00 via conventional path Warning: the objects were exported by SYS, not by you import done in US7ASCII character set and UTF8 NCHAR character set import server uses AL32UTF8 character set (possible charset conversion) export client uses AL32UTF8 character set (possible charset conversion) . importing LE_SCHEMA's objects into LE_SCHEMA . . importing table \"LA_TABLE\" 11035 rows imported Import terminated successfully without warnings.\n\n \n\nVérifions que la table soit bien à la bonne place :\n\nSQL> select table_name, owner from dba_tables where table_name='LA_TABLE' ; TABLE_NAME OWNER ------------------------------ ------------------------------ LA_TABLE LE_SCHEMA\n\n \n\nEt voilà, le tour est joué !\n\n\n","html":"<p>Le binaire « imp » fait partie de l’ancien mécanisme d’export/import d’Oracle, cette technologie a été supplantée par DataPump qui est bien plus performant et flexible.  </p>\n\n<p>Cependant, ces anciens outils sont encore utilisés soit pour les bases en version inférieures à la 10g, soit par faute de migration des scripts.</p>\n\n<p>Nous allons voir comment importer une seule table depuis un fichier exporté avec « exp » dans un schéma.</p>\n\n<p>La table présente dans la base contient des erreurs, nous allons la supprimer.</p>\n\n<p>SQL> drop table LE<em>SCHEMA.LA</em>TABLE ; Table supprimee.</p>\n\n<p>Une fois la table supprimée, il faut se rendre dans le dossier contenant le fichier d’export puis lancer la commande suivante.</p>\n\n<p><a href=\"BASE\">oracle@xxxxx export</a>$ imp file=SCHEMA.dmp fromuser=LE<em>SCHEMA touser=LE</em>SCHEMA TABLES=(LA<em>TABLE) buffer=1000000000 Import: Release 11.2.0.1.0 - Production on Fri Sep 26 10:42:11 2014 Copyright (c) 1982, 2009, Oracle and/or its affiliates. All rights reserved. Username: system Password: Connected to: Oracle Database 11g Release 11.2.0.1.0 - 64bit Production Export file created by EXPORT:V11.02.00 via conventional path Warning: the objects were exported by SYS, not by you import done in US7ASCII character set and UTF8 NCHAR character set import server uses AL32UTF8 character set (possible charset conversion) export client uses AL32UTF8 character set (possible charset conversion) . importing LE</em>SCHEMA's objects into LE<em>SCHEMA . . importing table \"LA</em>TABLE\" 11035 rows imported Import terminated successfully without warnings.</p>\n\n<p>Vérifions que la table soit bien à la bonne place :</p>\n\n<p>SQL> select table<em>name, owner from dba</em>tables where table<em>name='LA</em>TABLE' ; TABLE<em>NAME OWNER ------------------------------ ------------------------------ LA</em>TABLE LE_SCHEMA</p>\n\n<p>Et voilà, le tour est joué !</p>","image":"https://techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-26T11:30:03.000Z","created_by":1,"updated_at":"2014-11-20T16:46:08.000Z","updated_by":1,"published_at":"2014-09-26T11:30:03.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":15,"uuid":"a833c5ee-b5c1-423d-be7f-acabe9c112c7","title":"[iOS] L'update 8.0.2 est disponible !","slug":"ios-lupdate-8-0-2-est-disponible","markdown":"\nMoins d’un jour après le fail retentissant de la mise à jour 8.0.1, Apple publie la version 8.0.2 de son OS mobile.  \n  \n  \n\nCette version corrige les problème de réseau cellulaire et de TouchID.\n\nElle apporte également (enfin) les mise à jour nécessaire pour l’utilisation de l’application Santé et de HealthKit. Les premières applications compatibles ne devraient pas tarder a apparaitre dans l’App Store !\n\n \n\n<span style=\"text-decoration: underline;\">**N’oubliez pas de faire une sauvegarde de votre iPhone / iPad avant d’appliquer cette toute mise à jour !**</span>\n\n\n","html":"<p>Moins d’un jour après le fail retentissant de la mise à jour 8.0.1, Apple publie la version 8.0.2 de son OS mobile.  </p>\n\n<p>Cette version corrige les problème de réseau cellulaire et de TouchID.</p>\n\n<p>Elle apporte également (enfin) les mise à jour nécessaire pour l’utilisation de l’application Santé et de HealthKit. Les premières applications compatibles ne devraient pas tarder a apparaitre dans l’App Store !</p>\n\n<p><span style=\"text-decoration: underline;\"><strong>N’oubliez pas de faire une sauvegarde de votre iPhone / iPad avant d’appliquer cette toute mise à jour !</strong></span></p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-26T11:45:18.000Z","created_by":1,"updated_at":"2014-11-18T10:58:27.000Z","updated_by":1,"published_at":"2014-09-26T11:45:18.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":16,"uuid":"e35dc5db-a0d7-4544-80ed-9bbad647278c","title":"[Shellshock] Apple annonce une mise à jour rapide","slug":"shellshock-apple-annonce-une-mise-a-jour-rapide","markdown":"\nApple a déclaré au site [iMore](http://www.imore.com) être au courant de la faille découverte hier par le gens de RedHat (voir l’article [[Shellshock] Une nouvelle faille de sécurité découverte sur Mac OS et Linux](https://techan.fr/shellshock-une-nouvelle-faille-de-securite-decouverte-sur-mac-os-et-linux/ \"[Shellshock] Une nouvelle faille de sécurité découverte sur Mac OS et Linux\")).  \n  \n La firme affirme également être en train de travailler pour rendre rapidement disponible une mise à jour de ses système d’exploitation.\n\n \n\nElle affirme également que la grande majorité des utilisateurs de Mac OS ne sont pas concernés par cette faille car les mécanismes de sécurité de ses OS les en protègent. Ce n’est pas le cas des « utilisateurs avancés », selon ses termes, qui auraient activé des fonctionnalités Unix avancées sur leur(s) Mac.\n\n \n\nUne mise à jour de Mac OS ne devrait donc pas tarder. [iMore](http://www.imore.com) explique également que l’on peut patcher le Bash soit même en utilisant Xcode.\n\n \n\n### <span style=\"text-decoration: underline;\">Lien</span>\n\n[Apple: Most OS X users safe from ‘Shellshock’ exploit, patch coming quickly for advanced Unix users](http://www.imore.com/apple-working-quickly-protect-os-x-against-shellshock-exploit)\n\n\n","html":"<p>Apple a déclaré au site <a href=\"http://www.imore.com\">iMore</a> être au courant de la faille découverte hier par le gens de RedHat (voir l’article <a href=\"https://techan.fr/shellshock-une-nouvelle-faille-de-securite-decouverte-sur-mac-os-et-linux/\" title=\"[Shellshock] Une nouvelle faille de sécurité découverte sur Mac OS et Linux\">[Shellshock] Une nouvelle faille de sécurité découverte sur Mac OS et Linux</a>).  </p>\n\n<p>La firme affirme également être en train de travailler pour rendre rapidement disponible une mise à jour de ses système d’exploitation.</p>\n\n<p>Elle affirme également que la grande majorité des utilisateurs de Mac OS ne sont pas concernés par cette faille car les mécanismes de sécurité de ses OS les en protègent. Ce n’est pas le cas des « utilisateurs avancés », selon ses termes, qui auraient activé des fonctionnalités Unix avancées sur leur(s) Mac.</p>\n\n<p>Une mise à jour de Mac OS ne devrait donc pas tarder. <a href=\"http://www.imore.com\">iMore</a> explique également que l’on peut patcher le Bash soit même en utilisant Xcode.</p>\n\n<h3 id=\"spanstyletextdecorationunderlinelienspan\"><span style=\"text-decoration: underline;\">Lien</span></h3>\n\n<p><a href=\"http://www.imore.com/apple-working-quickly-protect-os-x-against-shellshock-exploit\">Apple: Most OS X users safe from ‘Shellshock’ exploit, patch coming quickly for advanced Unix users</a></p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-26T12:02:56.000Z","created_by":1,"updated_at":"2014-11-18T10:58:11.000Z","updated_by":1,"published_at":"2014-09-26T12:02:56.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":17,"uuid":"e5ae27b2-a851-4aee-87b3-57a886101823","title":"[MySQL] Un outil qui donne des conseils d'optimisation","slug":"mysql-un-outil-qui-donne-des-conseils-doptimisation","markdown":"\nVoici un outil en ligne de commande assez pratique qui audit votre serveur MySQL et vous donne des pistes pour améliorer ses performances.\n\n \n\nCet outil est disponible directement dans les dépots d’Ubuntu, son petit nom mysqltuner.  \n  \n  \n\nroot@kelthuzad:~# aptitude search mysqltuner p mysqltuner - high-performance MySQL tuning script\n\n \n\nCet outil propose une sortie écran très claire avec des axes d’amélioration. Attention toute fois, il faut que votre dameon MySQL tourne depuis quelques jours sans reboot pour que les conseils soient plus pertinents.\n\nroot@xxxx:~# /root/bin/mysqltuner.pl >> MySQLTuner 1.3.0 - Major Hayden <major@mhtx.net> >> Bug reports, feature requests, and downloads at http://mysqltuner.com/ >> Run with '--help' for additional options and output filtering [OK] Logged in using credentials from debian maintenance account. [OK] Currently running supported MySQL version 5.5.38-0ubuntu0.14.04.1-log [OK] Operating on 64-bit architecture -------- Storage Engine Statistics ------------------------------------------- [--] Status: +ARCHIVE +BLACKHOLE +CSV -FEDERATED +InnoDB +MRG_MYISAM [--] Data in PERFORMANCE_SCHEMA tables: 0B (Tables: 17) [--] Data in MEMORY tables: 0B (Tables: 2) [--] Data in InnoDB tables: 12M (Tables: 40) [--] Data in MyISAM tables: 109M (Tables: 479) [!!] Total fragmented tables: 42 -------- Security Recommendations ------------------------------------------- [!!] User 'xxxx@%' has no password set. -------- Performance Metrics ------------------------------------------------- [--] Up for: 28d 0h 42m 18s (8M q [3.694 qps], 184K conn, TX: 5B, RX: 1B) [--] Reads / Writes: 79% / 21% [--] Total buffers: 188.0M global + 2.7M per thread (50 max threads) [OK] Maximum possible memory usage: 322.4M (16% of installed RAM) [OK] Slow queries: 0% (146/8M) [OK] Highest usage of available connections: 50% (25/50) [OK] Key buffer size / total MyISAM indexes: 20.0M/33.1M [OK] Key buffer hit rate: 98.7% (35M cached / 464K reads) [OK] Query cache efficiency: 79.1% (6M cached / 8M selects) [!!] Query cache prunes per day: 3720 [OK] Sorts requiring temporary tables: 0% (1 temp sorts / 49K sorts) [OK] Temporary tables created on disk: 9% (4K on disk / 47K total) [OK] Thread cache hit rate: 97% (5K created / 184K connections) [!!] Table cache hit rate: 0% (200 open / 66K opened) [OK] Open file limit used: 30% (312/1K) [OK] Table locks acquired immediately: 99% (2M immediate / 2M locks) [OK] InnoDB buffer pool / data size: 128.0M/12.7M [OK] InnoDB log waits: 0 -------- Recommendations ----------------------------------------------------- General recommendations: Run OPTIMIZE TABLE to defragment tables for better performance Increase table_open_cache gradually to avoid file descriptor limits Read this before increasing table_open_cache over 64: http://bit.ly/1mi7c4C Variables to adjust: query_cache_size (> 8M) table_open_cache (> 200)\n\nVoici  pour finir un petit script qui optimise les tables MySQL et qui lance mysqltuner.\n\n \n\n#!/bin/bash mysqlcheck -u root -pPassw0rd --auto-repair --optimize --all-databases > /tmp/mysql_opti.lst /root/bin/mysqltuner.pl >> /tmp/mysql_opti.lst cat /tmp/mysql_opti.lst | mail -s \"[Kelthuzad] MySQL Tuner\" me@mondomaine.fr rm -f /tmp/mysql_opti.lst\n\n \n\nEt on ajoute une petite planification pour ce script :\n\n## Optim MySQL 0 2 * * * /root/bin/mysql_optimize.sh >> /dev/null\n\n \n\n\n","html":"<p>Voici un outil en ligne de commande assez pratique qui audit votre serveur MySQL et vous donne des pistes pour améliorer ses performances.</p>\n\n<p>Cet outil est disponible directement dans les dépots d’Ubuntu, son petit nom mysqltuner.  </p>\n\n<p>root@kelthuzad:~# aptitude search mysqltuner p mysqltuner - high-performance MySQL tuning script</p>\n\n<p>Cet outil propose une sortie écran très claire avec des axes d’amélioration. Attention toute fois, il faut que votre dameon MySQL tourne depuis quelques jours sans reboot pour que les conseils soient plus pertinents.</p>\n\n<p>root@xxxx:~# /root/bin/mysqltuner.pl >> MySQLTuner 1.3.0 - Major Hayden <a href=\"&#109;&#97;&#x69;&#x6c;&#116;&#x6f;:&#x6d;&#x61;&#106;&#111;&#114;&#x40;&#x6d;&#104;&#x74;&#x78;&#46;&#x6e;&#101;&#116;\">&#x6d;&#x61;&#106;&#111;&#114;&#x40;&#x6d;&#104;&#x74;&#x78;&#46;&#x6e;&#101;&#116;</a> >> Bug reports, feature requests, and downloads at <a href=\"http://mysqltuner.com/\">http://mysqltuner.com/</a> >> Run with '--help' for additional options and output filtering [OK] Logged in using credentials from debian maintenance account. [OK] Currently running supported MySQL version 5.5.38-0ubuntu0.14.04.1-log [OK] Operating on 64-bit architecture -------- Storage Engine Statistics ------------------------------------------- [--] Status: +ARCHIVE +BLACKHOLE +CSV -FEDERATED +InnoDB +MRG<em>MYISAM [--] Data in PERFORMANCE</em>SCHEMA tables: 0B (Tables: 17) [--] Data in MEMORY tables: 0B (Tables: 2) [--] Data in InnoDB tables: 12M (Tables: 40) [--] Data in MyISAM tables: 109M (Tables: 479) [!!] Total fragmented tables: 42 -------- Security Recommendations ------------------------------------------- [!!] User 'xxxx@%' has no password set. -------- Performance Metrics ------------------------------------------------- [--] Up for: 28d 0h 42m 18s (8M q [3.694 qps], 184K conn, TX: 5B, RX: 1B) [--] Reads / Writes: 79% / 21% [--] Total buffers: 188.0M global + 2.7M per thread (50 max threads) [OK] Maximum possible memory usage: 322.4M (16% of installed RAM) [OK] Slow queries: 0% (146/8M) [OK] Highest usage of available connections: 50% (25/50) [OK] Key buffer size / total MyISAM indexes: 20.0M/33.1M [OK] Key buffer hit rate: 98.7% (35M cached / 464K reads) [OK] Query cache efficiency: 79.1% (6M cached / 8M selects) [!!] Query cache prunes per day: 3720 [OK] Sorts requiring temporary tables: 0% (1 temp sorts / 49K sorts) [OK] Temporary tables created on disk: 9% (4K on disk / 47K total) [OK] Thread cache hit rate: 97% (5K created / 184K connections) [!!] Table cache hit rate: 0% (200 open / 66K opened) [OK] Open file limit used: 30% (312/1K) [OK] Table locks acquired immediately: 99% (2M immediate / 2M locks) [OK] InnoDB buffer pool / data size: 128.0M/12.7M [OK] InnoDB log waits: 0 -------- Recommendations ----------------------------------------------------- General recommendations: Run OPTIMIZE TABLE to defragment tables for better performance Increase table<em>open</em>cache gradually to avoid file descriptor limits Read this before increasing table<em>open</em>cache over 64: <a href=\"http://bit.ly/1mi7c4C\">http://bit.ly/1mi7c4C</a> Variables to adjust: query<em>cache</em>size (> 8M) table<em>open</em>cache (> 200)</p>\n\n<p>Voici  pour finir un petit script qui optimise les tables MySQL et qui lance mysqltuner.</p>\n\n<h1 id=\"binbashmysqlcheckurootppassw0rdautorepairoptimizealldatabasestmpmysql_optilstrootbinmysqltunerpltmpmysql_optilstcattmpmysql_optilstmailskelthuzadmysqltunermemondomainefrrmftmpmysql_optilst\">!/bin/bash mysqlcheck -u root -pPassw0rd --auto-repair --optimize --all-databases > /tmp/mysql<em>opti.lst /root/bin/mysqltuner.pl >> /tmp/mysql</em>opti.lst cat /tmp/mysql<em>opti.lst | mail -s \"[Kelthuzad] MySQL Tuner\" me@mondomaine.fr rm -f /tmp/mysql</em>opti.lst</h1>\n\n<p>Et on ajoute une petite planification pour ce script :</p>\n\n<h2 id=\"optimmysql02rootbinmysql_optimizeshdevnull\">Optim MySQL 0 2 * * * /root/bin/mysql_optimize.sh >> /dev/null</h2>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-29T09:21:14.000Z","created_by":1,"updated_at":"2014-09-29T09:21:14.000Z","updated_by":1,"published_at":"2014-09-29T09:21:14.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":18,"uuid":"fe8c05e9-03fe-4d31-a843-c30f248eecaf","title":"[RedHat/Centos] Outil pour rescanner les bus SCSI et découvrir les disques ajoutés","slug":"redhatcentos-outil-pour-rescanner-les-bus-scsi-et-decouvrir-les-disques-ajoutes","markdown":"\nIl est toujours délicat d’ajouter de l’espace disque sur une machine de production et de pouvoir l’utiliser sans avoir a redémarrer cette dernière.  \n  \n L’outil « rescan-scsi-bus », fourni par le paquet « sg3_utils » peut rendre bien des services pour se faire.\n\n \n\n[root@sxxxx~]# yum install sg3_utils Loaded plugins: fastestmirror, refresh-packagekit, security Loading mirror speeds from cached hostfile * base: centos.crazyfrogs.org * extras: centos.crazyfrogs.org * rpmforge: apt.sw.be * updates: centos.mirror.fr.planethoster.net Setting up Install Process Resolving Dependencies --> Running transaction check ---> Package sg3_utils.x86_64 0:1.28-5.el6 will be installed --> Processing Dependency: sg3_utils-libs = 1.28-5.el6 for package: sg3_utils-1.28-5.el6.x86_64 --> Running transaction check ---> Package sg3_utils-libs.x86_64 0:1.28-4.el6 will be updated ---> Package sg3_utils-libs.x86_64 0:1.28-5.el6 will be an update --> Finished Dependency Resolution Dependencies Resolved ============================================================================================================================================================================================================ Package Arch Version Repository Size ============================================================================================================================================================================================================ Installing: sg3_utils x86_64 1.28-5.el6 base 471 k Updating for dependencies: sg3_utils-libs x86_64 1.28-5.el6 base 51 k Transaction Summary ============================================================================================================================================================================================================ Install 1 Package(s) Upgrade 1 Package(s) Total download size: 522 k Is this ok [y/N]: y Downloading Packages: (1/2): sg3_utils-1.28-5.el6.x86_64.rpm | 471 kB 00:01 (2/2): sg3_utils-libs-1.28-5.el6.x86_64.rpm | 51 kB 00:00 ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ Total 317 kB/s | 522 kB 00:01 Running rpm_check_debug Running Transaction Test Transaction Test Succeeded Running Transaction Warning: RPMDB altered outside of yum. Updating : sg3_utils-libs-1.28-5.el6.x86_64 1/3 Installing : sg3_utils-1.28-5.el6.x86_64 2/3 Cleanup : sg3_utils-libs-1.28-4.el6.x86_64 3/3 Verifying : sg3_utils-1.28-5.el6.x86_64 1/3 Verifying : sg3_utils-libs-1.28-5.el6.x86_64 2/3 Verifying : sg3_utils-libs-1.28-4.el6.x86_64 3/3 Installed: sg3_utils.x86_64 0:1.28-5.el6 Dependency Updated: sg3_utils-libs.x86_64 0:1.28-5.el6 Complete!\n\n \n\n### Ajout de disque sur une VM Centos\n\nVoici l’état avant l’ajout, nous avons un disque sda et des partitions LVM.\n\n[root@xxxx ~]# fdisk -l | grep Disque Disque /dev/sda: 17.2 Go, 17179869184 octets Disque /dev/mapper/VolGroupSystem-LogVol00Racine: 12.7 Go, 12675186688 octets Disque /dev/mapper/VolGroupSystem-LogVol01: 2143 Mo, 2143289344 octets Disque /dev/mapper/VolGroupLog-LogVol00Log: 2143 Mo, 2143289344 octets\n\nNous utilisons l’outil pour découvrir le disque nouvelle ajouté.\n\n[root@xxxx~]# rescan-scsi-bus.sh Host adapter 0 (mptspi) found. Host adapter 1 (ata_piix) found. Host adapter 2 (ata_piix) found. Scanning SCSI subsystem for new devices Scanning host 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 0 0 0 0 ... OLD: Host: scsi0 Channel: 00 Id: 00 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning for device 0 0 1 0 ... NEW: Host: scsi0 Channel: 00 Id: 01 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning for device 0 0 1 0 ... OLD: Host: scsi0 Channel: 00 Id: 01 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning host 1 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning host 2 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 2 0 0 0 ... OLD: Host: scsi2 Channel: 00 Id: 00 Lun: 00 Vendor: NECVMWar Model: VMware IDE CDR10 Rev: 1.00 Type: CD-ROM ANSI SCSI revision: 05 0 new device(s) found. 0 device(s) removed.\n\nEt voilà, le nouveau disque est reconnu !\n\n \n\n[root@sxxxx ~]# fdisk -l | grep Disque Disque /dev/sda: 17.2 Go, 17179869184 octets Disque /dev/mapper/VolGroupSystem-LogVol00Racine: 12.7 Go, 12675186688 octets Disque /dev/mapper/VolGroupSystem-LogVol01: 2143 Mo, 2143289344 octets Disque /dev/mapper/VolGroupLog-LogVol00Log: 2143 Mo, 2143289344 octets Disque /dev/sdb: 42.9 Go, 42949672960 octets\n\n \n\n \n\n \n\n\n","html":"<p>Il est toujours délicat d’ajouter de l’espace disque sur une machine de production et de pouvoir l’utiliser sans avoir a redémarrer cette dernière.  </p>\n\n<p>L’outil « rescan-scsi-bus », fourni par le paquet « sg3_utils » peut rendre bien des services pour se faire.</p>\n\n<p>[root@sxxxx~]# yum install sg3<em>utils Loaded plugins: fastestmirror, refresh-packagekit, security Loading mirror speeds from cached hostfile * base: centos.crazyfrogs.org * extras: centos.crazyfrogs.org * rpmforge: apt.sw.be * updates: centos.mirror.fr.planethoster.net Setting up Install Process Resolving Dependencies --> Running transaction check ---> Package sg3</em>utils.x86<em>64 0:1.28-5.el6 will be installed --> Processing Dependency: sg3</em>utils-libs = 1.28-5.el6 for package: sg3<em>utils-1.28-5.el6.x86</em>64 --> Running transaction check ---> Package sg3<em>utils-libs.x86</em>64 0:1.28-4.el6 will be updated ---> Package sg3<em>utils-libs.x86</em>64 0:1.28-5.el6 will be an update --> Finished Dependency Resolution Dependencies Resolved ========================================================================================================================================================================================================<mark>== Package Arch Version Repository Size </mark>========================================================================================================================================================================================================<mark> Installing: sg3<em>utils x86</em>64 1.28-5.el6 base 471 k Updating for dependencies: sg3<em>utils-libs x86</em>64 1.28-5.el6 base 51 k Transaction Summary </mark>========================================================================================================================================================================================================== Install 1 Package(s) Upgrade 1 Package(s) Total download size: 522 k Is this ok [y/N]: y Downloading Packages: (1/2): sg3<em>utils-1.28-5.el6.x86</em>64.rpm | 471 kB 00:01 (2/2): sg3<em>utils-libs-1.28-5.el6.x86</em>64.rpm | 51 kB 00:00 ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ Total 317 kB/s | 522 kB 00:01 Running rpm<em>check</em>debug Running Transaction Test Transaction Test Succeeded Running Transaction Warning: RPMDB altered outside of yum. Updating : sg3<em>utils-libs-1.28-5.el6.x86</em>64 1/3 Installing : sg3<em>utils-1.28-5.el6.x86</em>64 2/3 Cleanup : sg3<em>utils-libs-1.28-4.el6.x86</em>64 3/3 Verifying : sg3<em>utils-1.28-5.el6.x86</em>64 1/3 Verifying : sg3<em>utils-libs-1.28-5.el6.x86</em>64 2/3 Verifying : sg3<em>utils-libs-1.28-4.el6.x86</em>64 3/3 Installed: sg3<em>utils.x86</em>64 0:1.28-5.el6 Dependency Updated: sg3<em>utils-libs.x86</em>64 0:1.28-5.el6 Complete!</p>\n\n<h3 id=\"ajoutdedisquesurunevmcentos\">Ajout de disque sur une VM Centos</h3>\n\n<p>Voici l’état avant l’ajout, nous avons un disque sda et des partitions LVM.</p>\n\n<p>[root@xxxx ~]# fdisk -l | grep Disque Disque /dev/sda: 17.2 Go, 17179869184 octets Disque /dev/mapper/VolGroupSystem-LogVol00Racine: 12.7 Go, 12675186688 octets Disque /dev/mapper/VolGroupSystem-LogVol01: 2143 Mo, 2143289344 octets Disque /dev/mapper/VolGroupLog-LogVol00Log: 2143 Mo, 2143289344 octets</p>\n\n<p>Nous utilisons l’outil pour découvrir le disque nouvelle ajouté.</p>\n\n<p>[root@xxxx~]# rescan-scsi-bus.sh Host adapter 0 (mptspi) found. Host adapter 1 (ata<em>piix) found. Host adapter 2 (ata</em>piix) found. Scanning SCSI subsystem for new devices Scanning host 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 0 0 0 0 ... OLD: Host: scsi0 Channel: 00 Id: 00 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning for device 0 0 1 0 ... NEW: Host: scsi0 Channel: 00 Id: 01 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning for device 0 0 1 0 ... OLD: Host: scsi0 Channel: 00 Id: 01 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning host 1 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning host 2 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 2 0 0 0 ... OLD: Host: scsi2 Channel: 00 Id: 00 Lun: 00 Vendor: NECVMWar Model: VMware IDE CDR10 Rev: 1.00 Type: CD-ROM ANSI SCSI revision: 05 0 new device(s) found. 0 device(s) removed.</p>\n\n<p>Et voilà, le nouveau disque est reconnu !</p>\n\n<p>[root@sxxxx ~]# fdisk -l | grep Disque Disque /dev/sda: 17.2 Go, 17179869184 octets Disque /dev/mapper/VolGroupSystem-LogVol00Racine: 12.7 Go, 12675186688 octets Disque /dev/mapper/VolGroupSystem-LogVol01: 2143 Mo, 2143289344 octets Disque /dev/mapper/VolGroupLog-LogVol00Log: 2143 Mo, 2143289344 octets Disque /dev/sdb: 42.9 Go, 42949672960 octets</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-29T11:23:52.000Z","created_by":1,"updated_at":"2014-10-16T08:29:35.000Z","updated_by":1,"published_at":"2014-09-29T11:23:52.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":19,"uuid":"7444bdda-4270-4a8c-a014-83d396b27452","title":"[LVM] Les bases","slug":"lvm-les-bases","markdown":"\nVoici les bases de la manipulation des LVM sur Linux.\n\nVous trouverez dans cet articles les bases de cet outil.  \n  \n  \n\n### Ajout d’un PV, d’un VG et d’un LV.\n\nCréation d’un « Physical Volume « (PV)\n\n[root@sl-0-syslogint1 ~]# pvcreate /dev/sdb Writing physical volume data to disk \"/dev/sdb\" Physical volume \"/dev/sdb\" successfully created\n\n \n\nCréation d’un « Volum Group » (VG) sur ce PV\n\n[root@xxxx ~]# vgcreate vg_syslog /dev/sdb Volume group \"vg_syslog\" successfully created\n\nLe VG ainsi créé s’appelle « vg_syslog ».\n\n \n\nCréation d’un « Logical Volume » (LV) utilisant toute la place disponible dans ce VG\n\n[root@xxxx ~]# lvcreate -n lv_syslog -l 100%VG vg_syslog Logical volume \"lv_syslog\" created\n\nLe LV créé s’appelle « lv_syslog ».\n\n \n\nMaintenant, il ne reste plus qu’a créer un File System sur ce LV.\n\n<span style=\"text-decoration: underline;\">**Note : **</span>Tous les LV créés sont référencés dans le dossier /dev/mapper.\n\n[root@xxxx ~]# mkfs.ext4 /dev/mapper/vg_syslog-lv_syslog mke2fs 1.41.12 (17-May-2010) Étiquette de système de fichiers= Type de système d'exploitation : Linux Taille de bloc=4096 (log=2) Taille de fragment=4096 (log=2) « Stride » = 0 blocs, « Stripe width » = 0 blocs 2621440 i-noeuds, 10484736 blocs 524236 blocs (5.00%) réservés pour le super utilisateur Premier bloc de données=0 Nombre maximum de blocs du système de fichiers=4294967296 320 groupes de blocs 32768 blocs par groupe, 32768 fragments par groupe 8192 i-noeuds par groupe Superblocs de secours stockés sur les blocs : 32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, 4096000, 7962624 Écriture des tables d'i-noeuds : complété Création du journal (32768 blocs) : complété Écriture des superblocs et de l'information de comptabilité du système de fichiers : complété Le système de fichiers sera automatiquement vérifié tous les 29 montages ou après 180 jours, selon la première éventualité. Utiliser tune2fs -c ou -i pour écraser la valeur.\n\n \n\n \n\n\n","html":"<p>Voici les bases de la manipulation des LVM sur Linux.</p>\n\n<p>Vous trouverez dans cet articles les bases de cet outil.  </p>\n\n<h3 id=\"ajoutdunpvdunvgetdunlv\">Ajout d’un PV, d’un VG et d’un LV.</h3>\n\n<p>Création d’un « Physical Volume « (PV)</p>\n\n<p>[root@sl-0-syslogint1 ~]# pvcreate /dev/sdb Writing physical volume data to disk \"/dev/sdb\" Physical volume \"/dev/sdb\" successfully created</p>\n\n<p>Création d’un « Volum Group » (VG) sur ce PV</p>\n\n<p>[root@xxxx ~]# vgcreate vg<em>syslog /dev/sdb Volume group \"vg</em>syslog\" successfully created</p>\n\n<p>Le VG ainsi créé s’appelle « vg_syslog ».</p>\n\n<p>Création d’un « Logical Volume » (LV) utilisant toute la place disponible dans ce VG</p>\n\n<p>[root@xxxx ~]# lvcreate -n lv<em>syslog -l 100%VG vg</em>syslog Logical volume \"lv_syslog\" created</p>\n\n<p>Le LV créé s’appelle « lv_syslog ».</p>\n\n<p>Maintenant, il ne reste plus qu’a créer un File System sur ce LV.</p>\n\n<p><span style=\"text-decoration: underline;\"><em>*Note : *</em></span>Tous les LV créés sont référencés dans le dossier /dev/mapper.</p>\n\n<p>[root@xxxx ~]# mkfs.ext4 /dev/mapper/vg<em>syslog-lv</em>syslog mke2fs 1.41.12 (17-May-2010) Étiquette de système de fichiers= Type de système d'exploitation : Linux Taille de bloc=4096 (log=2) Taille de fragment=4096 (log=2) « Stride » = 0 blocs, « Stripe width » = 0 blocs 2621440 i-noeuds, 10484736 blocs 524236 blocs (5.00%) réservés pour le super utilisateur Premier bloc de données=0 Nombre maximum de blocs du système de fichiers=4294967296 320 groupes de blocs 32768 blocs par groupe, 32768 fragments par groupe 8192 i-noeuds par groupe Superblocs de secours stockés sur les blocs : 32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, 4096000, 7962624 Écriture des tables d'i-noeuds : complété Création du journal (32768 blocs) : complété Écriture des superblocs et de l'information de comptabilité du système de fichiers : complété Le système de fichiers sera automatiquement vérifié tous les 29 montages ou après 180 jours, selon la première éventualité. Utiliser tune2fs -c ou -i pour écraser la valeur.</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-29T14:41:14.000Z","created_by":1,"updated_at":"2014-10-16T08:29:19.000Z","updated_by":1,"published_at":"2014-09-29T14:41:14.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":20,"uuid":"75f02781-bb5e-4bcf-b00d-4d597db01af3","title":"[GoPro] La version 4 des caméras sportives est disponible !","slug":"gopro-la-version-4-des-cameras-sportives-est-disponible","markdown":"\nDepuis plusieurs jours des bruits filtraient sur le Net et aujourd’hui le constructeur a envoyé un mail annonçant la disponibilité des caméras GoPro 4 à partir du 5 Octobre.  \n  \n  \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_115\" style=\"width: 310px\">[![Le mail de GoPro](https://techan.fr/images/2014/09/gopro4_sortie-300x229.png)](https://techan.fr/images/2014/09/gopro4_sortie.png)Le mail de GoPro\n\n</div> \n\nLe constructeur qui mise sur la communauté pour promouvoir ses produits, vous pouvez par exemple envoyer vos vidéos que son service de communication pourra utiliser dans une de ses publicités, a minutieusement organisé des fuites quant à la sortie de la nouvelle génération de ses caméras.\n\n \n\nCette stratégie se montrera-t-elle payante ? Seul l’avenir nous le dira !\n\n \n\nEn tout cas, cette nouvelle version signe l’arrêt de mort de la gamme la plus bon marché de ce produit, la version « White » est abandonnée.\n\nVous n’aurez donc le choix qu’entre la version Silver (379€) et la version Black (479€).\n\n \n\nLes nouveautés sont l’inclusion de l’écran LCD directement dans la caméra, il s’agissait jusque là d’une option. Il devient de plus tactile.\n\n \n\nComme à chaque mise à jour de leur caméras, GoPro améliore la qualité des capteurs qui peuvent enregistrer en 4K avec cette version. Le nombre d’images par secondes est également plus important, à vos slow-motions !!\n\nDe nombreuses autres améliorations ont été apportées, par exemple, le constructeur nous promet de meilleurs rendus la nuit grâce à « Night Photo » et « Night Lapse ».\n\n \n\nLe constructeur ajoute une caméra plus bas de gamme à son catalogue, mais nettement moins onéreuse : la « Hero » coutera 124€.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_117\" style=\"width: 310px\">[![La nouvelle gamme de caméras GoPro](https://techan.fr/images/2014/09/gopro4_nouvelle_gamme-300x120.png)](https://techan.fr/images/2014/09/gopro4_nouvelle_gamme.png)La nouvelle gamme de caméras GoPro\n\n</div> \n\n \n\nQuelques minutes après l’annonce des nouveaux modèle le site du constructeur est mort.\n\n \n\n\n","html":"<p>Depuis plusieurs jours des bruits filtraient sur le Net et aujourd’hui le constructeur a envoyé un mail annonçant la disponibilité des caméras GoPro 4 à partir du 5 Octobre.  </p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_115\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/09/gopro4_sortie.png\"><img src=\"https://techan.fr/images/2014/09/gopro4_sortie-300x229.png\" alt=\"Le mail de GoPro\" title=\"\" /></a>Le mail de GoPro</p>\n\n<p></div> </p>\n\n<p>Le constructeur qui mise sur la communauté pour promouvoir ses produits, vous pouvez par exemple envoyer vos vidéos que son service de communication pourra utiliser dans une de ses publicités, a minutieusement organisé des fuites quant à la sortie de la nouvelle génération de ses caméras.</p>\n\n<p>Cette stratégie se montrera-t-elle payante ? Seul l’avenir nous le dira !</p>\n\n<p>En tout cas, cette nouvelle version signe l’arrêt de mort de la gamme la plus bon marché de ce produit, la version « White » est abandonnée.</p>\n\n<p>Vous n’aurez donc le choix qu’entre la version Silver (379€) et la version Black (479€).</p>\n\n<p>Les nouveautés sont l’inclusion de l’écran LCD directement dans la caméra, il s’agissait jusque là d’une option. Il devient de plus tactile.</p>\n\n<p>Comme à chaque mise à jour de leur caméras, GoPro améliore la qualité des capteurs qui peuvent enregistrer en 4K avec cette version. Le nombre d’images par secondes est également plus important, à vos slow-motions !!</p>\n\n<p>De nombreuses autres améliorations ont été apportées, par exemple, le constructeur nous promet de meilleurs rendus la nuit grâce à « Night Photo » et « Night Lapse ».</p>\n\n<p>Le constructeur ajoute une caméra plus bas de gamme à son catalogue, mais nettement moins onéreuse : la « Hero » coutera 124€.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_117\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/09/gopro4_nouvelle_gamme.png\"><img src=\"https://techan.fr/images/2014/09/gopro4_nouvelle_gamme-300x120.png\" alt=\"La nouvelle gamme de caméras GoPro\" title=\"\" /></a>La nouvelle gamme de caméras GoPro</p>\n\n<p></div> </p>\n\n<p>Quelques minutes après l’annonce des nouveaux modèle le site du constructeur est mort.</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-29T16:18:28.000Z","created_by":1,"updated_at":"2014-09-29T16:37:45.000Z","updated_by":1,"published_at":"2014-09-29T16:18:28.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":21,"uuid":"c1c926ce-6c81-4cea-b548-38894274a0ac","title":"La grande folie du Loto Bouse","slug":"la-grande-folie-du-loto-bouse","markdown":"\nAprès la folie des lotos bingo qui font grand bruit en ce moment avec les affaires qu’ils causent, notamment la possible condamnation de cette mamie dans le nord de la France, voici un nouveau jeu pour les amateurs de paris, le LOTO BOUSE ! On peut notamment voir [un article sur le sujet dans la Charent Libre ce matin](http://www.charentelibre.fr/2014/08/27/roumazieres-prepare-le-1er-loto-bouse-de-charente,1911246.php). D’après le Progrès, [le premier Loto Bouse de la région Rhône Alpes](http://www.leprogres.fr/rhone/2014/09/04/le-premier-loto-bouse-de-la-region-aura-lieu-dimanche-a-monsols) aurait eu lieu le dimanche 7 septembre dernier.\n\nCe phénomène gagne nos campagnes et met à contribution de paisibles herbivores qui vont, grâce à leurs bouses désigner les heureux vainqueurs.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_133\" style=\"width: 310px\">[![Photo : www.free2use-it.com](https://techan.fr/images/2014/09/DSCF0093-300x225.jpg)](https://techan.fr/images/2014/09/DSCF0093.jpg)Photo : [www.free2use-it.com](www.free2use-it.com)\n\n</div> \n\nLe principe est de délimiter des cases égales dans une pâture et d’y amener quelques vaches, chaque case est numérotées, ce sont ces numéros que les joueurs achètent. Les vaches mangent juste avant le jeu, et sont lâchées dans les cases. Le joueur qui détient le numéro de la case ou la première vache va se laisser aller gagne le 4èm lot, ainsi le 1er lot sera remporté par la personne qui a le numéro ou la dernière vache va se soulager.\n\n \n\nCe jeu est bien entendu encadré par de très sérieux commissaires qui auront la lourde tâche de départager les gagnant en case de bouse sur des lignes de cases. De très sérieux règlements sont disponibles sur Internet si l’envie vous prend d’organiser ce type de manifestation, attention toute fois à la règlementation ","html":"<p>Après la folie des lotos bingo qui font grand bruit en ce moment avec les affaires qu’ils causent, notamment la possible condamnation de cette mamie dans le nord de la France, voici un nouveau jeu pour les amateurs de paris, le LOTO BOUSE ! On peut notamment voir <a href=\"http://www.charentelibre.fr/2014/08/27/roumazieres-prepare-le-1er-loto-bouse-de-charente,1911246.php\">un article sur le sujet dans la Charent Libre ce matin</a>. D’après le Progrès, <a href=\"http://www.leprogres.fr/rhone/2014/09/04/le-premier-loto-bouse-de-la-region-aura-lieu-dimanche-a-monsols\">le premier Loto Bouse de la région Rhône Alpes</a> aurait eu lieu le dimanche 7 septembre dernier.</p>\n\n<p>Ce phénomène gagne nos campagnes et met à contribution de paisibles herbivores qui vont, grâce à leurs bouses désigner les heureux vainqueurs.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_133\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/09/DSCF0093.jpg\"><img src=\"https://techan.fr/images/2014/09/DSCF0093-300x225.jpg\" alt=\"Photo : www.free2use-it.com\" title=\"\" /></a>Photo : <a href=\"www.free2use-it.com\">www.free2use-it.com</a></p>\n\n<p></div> </p>\n\n<p>Le principe est de délimiter des cases égales dans une pâture et d’y amener quelques vaches, chaque case est numérotées, ce sont ces numéros que les joueurs achètent. Les vaches mangent juste avant le jeu, et sont lâchées dans les cases. Le joueur qui détient le numéro de la case ou la première vache va se laisser aller gagne le 4èm lot, ainsi le 1er lot sera remporté par la personne qui a le numéro ou la dernière vache va se soulager.</p>\n\n<p>Ce jeu est bien entendu encadré par de très sérieux commissaires qui auront la lourde tâche de départager les gagnant en case de bouse sur des lignes de cases. De très sérieux règlements sont disponibles sur Internet si l’envie vous prend d’organiser ce type de manifestation, attention toute fois à la règlementation ","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-30T09:27:21.000Z","created_by":1,"updated_at":"2014-09-30T09:27:21.000Z","updated_by":1,"published_at":"2014-09-30T09:27:21.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":22,"uuid":"cf4d056a-b3cd-477a-ba20-d42b32fb278e","title":"[MySQL] Importer un énorme fichier de dump","slug":"mysql-importer-un-enorme-fichier-de-dump","markdown":"\nMySQL a par défaut des limitations en terme de taille maximales de paquets, dans certains cas, il est nécessaire de les augmenter pour pouvoir importer de très gros fichiers de dump.  \n  \n Dans notre exemple, le fichier fait presque 1,5 Go.\n\n[root@xxxx mysql]# du -sh dump_databaseName.sql 1,3G dump_databaseName.sql\n\n \n\nVoici deux commandes a passer dans une commande MySQL afin d’augmenter les seuils :\n\n[root@xxxx mysql]# mysql -u root -p Enter password: Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 323 Server version: 5.1.73 Source distribution Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. mysql> set global net_buffer_length=10000000000000; Query OK, 0 rows affected, 2 warnings (0.00 sec) mysql> set global max_allowed_packet=1000000000000000000; Query OK, 0 rows affected, 1 warning (0.00 sec) mysql> exit Bye\n\nCeci modifie temporairement les seuils, les valeurs originales seront restaurées au prochain redémarrage du serveur MySQL.\n\n \n\nSi vous voulez gardez ces valeurs de manière permanente, il faut les renseigner dans votre fichier my.cnf.\n\n \n\nEnsuite, on peut importer le dump en passant un option supplémentaire au client MySQL.\n\n[root@xxxx mysql]# mysql --max_allowed_packet=2048M -u root -pPassword -D databaseName < dump_databaseName.sql\n\n \n\n \n\n\n","html":"<p>MySQL a par défaut des limitations en terme de taille maximales de paquets, dans certains cas, il est nécessaire de les augmenter pour pouvoir importer de très gros fichiers de dump.  </p>\n\n<p>Dans notre exemple, le fichier fait presque 1,5 Go.</p>\n\n<p>[root@xxxx mysql]# du -sh dump<em>databaseName.sql 1,3G dump</em>databaseName.sql</p>\n\n<p>Voici deux commandes a passer dans une commande MySQL afin d’augmenter les seuils :</p>\n\n<p>[root@xxxx mysql]# mysql -u root -p Enter password: Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 323 Server version: 5.1.73 Source distribution Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. mysql> set global net<em>buffer</em>length=10000000000000; Query OK, 0 rows affected, 2 warnings (0.00 sec) mysql> set global max<em>allowed</em>packet=1000000000000000000; Query OK, 0 rows affected, 1 warning (0.00 sec) mysql> exit Bye</p>\n\n<p>Ceci modifie temporairement les seuils, les valeurs originales seront restaurées au prochain redémarrage du serveur MySQL.</p>\n\n<p>Si vous voulez gardez ces valeurs de manière permanente, il faut les renseigner dans votre fichier my.cnf.</p>\n\n<p>Ensuite, on peut importer le dump en passant un option supplémentaire au client MySQL.</p>\n\n<p>[root@xxxx mysql]# mysql --max<em>allowed</em>packet=2048M -u root -pPassword -D databaseName &lt; dump_databaseName.sql</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-30T11:10:20.000Z","created_by":1,"updated_at":"2014-10-16T08:28:59.000Z","updated_by":1,"published_at":"2014-09-30T11:10:20.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":23,"uuid":"5d9ef912-435b-4f82-a3c5-4109137e049c","title":"[iPhone 6] La photo \"mystérieuse\"","slug":"iphone-6-la-photo-mysterieuse","markdown":"\nSur Reddit, un utilisateur s’étonne d’avoir trouvé, dans son iPhone 6 tout neuf, une photo daté de 2012, faite avec un iPhone 4, qu’il n’aurait pas prise. Deplus en utilisant une application pouvant lire dans les métadata de la photo, il a découvert qu’elle avait été prise  dans un endroit ou il n’aurait jamais mis les pieds.\n\n \n\nA partir de là, les paris sont ouvert … iPhone (mal) reconditionné ? Bullshit ? Un coup d’Alien loufoque ? La réponse D ?\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_142\" style=\"width: 903px\">[![reddit_iphone_6_photo_bizarre](https://techan.fr/images/2014/10/reddit_iphone_6_photo_bizarre.png)](https://techan.fr/images/2014/10/reddit_iphone_6_photo_bizarre.png)[Voir sur Reddit](http://www.reddit.com/r/iphone/comments/2hscgb/iphone_6_came_with_mysterious_picture/)\n\n</div> \n\nEn tout cas, le fil aura le mérite d’en dérider plus d’un en lisant les commentaires ","html":"<p>Sur Reddit, un utilisateur s’étonne d’avoir trouvé, dans son iPhone 6 tout neuf, une photo daté de 2012, faite avec un iPhone 4, qu’il n’aurait pas prise. Deplus en utilisant une application pouvant lire dans les métadata de la photo, il a découvert qu’elle avait été prise  dans un endroit ou il n’aurait jamais mis les pieds.</p>\n\n<p>A partir de là, les paris sont ouvert … iPhone (mal) reconditionné ? Bullshit ? Un coup d’Alien loufoque ? La réponse D ?</p>\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_142\" style=\"width: 903px\">[![reddit_iphone_6_photo_bizarre](https://techan.fr/images/2014/10/reddit_iphone_6_photo_bizarre.png)](https://techan.fr/images/2014/10/reddit_iphone_6_photo_bizarre.png)[Voir sur Reddit](http://www.reddit.com/r/iphone/comments/2hscgb/iphone_6_came_with_mysterious_picture/)\n\n</div> \n\nEn tout cas, le fil aura le mérite d’en dérider plus d’un en lisant les commentaires ","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-01T16:16:40.000Z","created_by":1,"updated_at":"2014-11-18T10:57:37.000Z","updated_by":1,"published_at":"2014-10-01T16:16:40.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":24,"uuid":"818160f4-312b-4156-99de-c4d482c34a74","title":"[App] Investigator, une app qui vous en dit plus sur vos photos !","slug":"investigator-une-app-qui-vous-en-dit-plus-sur-vos-photos","markdown":"\n<div>Après avoir découvert [la mésaventure d’un malheureux acquéreur d’un iPhone 6](https://techan.fr/iphone-6-la-photo-mysterieuse/ \"[iPhone 6] La photo “mystérieuse”\"), j’ai mis la main sur une app qui peut rendre quelques services.</div><div></div><div></div><div>Il s’agit d’[Investigator](https://itunes.apple.com/us/app/photo-investigator-view-edit/id571574618?mt=8#), une app gratuite dans laquelle vous charger une photo, l’application vous permet ensuite de lire les données EXIF. Ce sont des données incluses dans la photo elle même, et qui peuvent renfermer une mine d’informations, comme par exemple le modèle de l’appareil qui l’a prise, l’exposition, les coordonnées GPS de l’endroit où elle a été prise.</div><div></div><div><div class=\"wp-caption aligncenter\" id=\"attachment_160\" style=\"width: 216px\">[![Photo Investigator](https://techan.fr/images/2014/10/photo_investigator1-206x300.png)](https://techan.fr/images/2014/10/photo_investigator1.png)Photo Investigator\n\n</div></div><div></div><div></div><div>Un exemple avec cette photo :</div><div></div><div></div><div> [![image1](https://techan.fr/images/2014/10/image11-225x300.jpg)](https://techan.fr/images/2014/10/image11.jpg)</div><div></div><div>Il suffit de la charger dans l’application.</div><div></div><div></div><div>[![image2](https://techan.fr/images/2014/10/image21-168x300.png)](https://techan.fr/images/2014/10/image21.png)</div><div></div><div>Ensuite, cliquer sur « Metadata » en bas, puis « View ».</div><div></div><div></div><div>[![image3](https://techan.fr/images/2014/10/image31-168x300.png)](https://techan.fr/images/2014/10/image31.png)</div><div></div><div>On a alors accès aux fameuses informations.</div><div></div><div></div><div>[![image4](https://techan.fr/images/2014/10/image41-168x300.png)](https://techan.fr/images/2014/10/image41.png)</div><div></div><div>On peut voir ici que la photo a été prise avec l’appareil photo de derrière d’un iPhone 6.</div><div></div><div></div><div>Cette application utilise les nouveautés d’iOS 8 en proposant une extension qui permet, une fois activée d’accéder directement aux données EXIF sans passer de nouveau par l’application.</div><div></div><div>Il fait pour cela activer l’extension. Pour cela, rendez vous dans l’application Photos et tapez sur le bouton  :![image5.PNG](https://techan.fr/images/2014/10/image5.png)</div><div></div><div>Taper sur l’icône « Autre ».</div><div></div><div></div><div>[![image6](https://techan.fr/images/2014/10/image61-168x300.png)](https://techan.fr/images/2014/10/image61.png)</div><div></div><div>Activez enfin « Metadata » dans le menu qui apparaît.</div><div></div><div></div><div>[![image8.png](https://techan.fr/images/2014/10/image8.png-300x258.jpg)](https://techan.fr/images/2014/10/image8.png.jpg)</div><div></div><div>Maintenant lorsque vous parcourrez vos photos, l’option « Metadata » sera directement disponible.</div><div></div><div></div><div>[![image9.png](https://techan.fr/images/2014/10/image9.png-300x96.jpg)](https://techan.fr/images/2014/10/image9.png.jpg)</div><div></div><div>Vous donnant accès à une page assez bien faite, il faut l’avouer.</div><div></div><div> [![image10](https://techan.fr/images/2014/10/image101-168x300.png)](https://techan.fr/images/2014/10/image101.png)</div><div></div><div></div>\n","html":"<div>Après avoir découvert [la mésaventure d’un malheureux acquéreur d’un iPhone 6](https://techan.fr/iphone-6-la-photo-mysterieuse/ \"[iPhone 6] La photo “mystérieuse”\"), j’ai mis la main sur une app qui peut rendre quelques services.</div><div></div><div></div><div>Il s’agit d’[Investigator](https://itunes.apple.com/us/app/photo-investigator-view-edit/id571574618?mt=8#), une app gratuite dans laquelle vous charger une photo, l’application vous permet ensuite de lire les données EXIF. Ce sont des données incluses dans la photo elle même, et qui peuvent renfermer une mine d’informations, comme par exemple le modèle de l’appareil qui l’a prise, l’exposition, les coordonnées GPS de l’endroit où elle a été prise.</div><div></div><div><div class=\"wp-caption aligncenter\" id=\"attachment_160\" style=\"width: 216px\">[![Photo Investigator](https://techan.fr/images/2014/10/photo_investigator1-206x300.png)](https://techan.fr/images/2014/10/photo_investigator1.png)Photo Investigator\n\n</div></div><div></div><div></div><div>Un exemple avec cette photo :</div><div></div><div></div><div> [![image1](https://techan.fr/images/2014/10/image11-225x300.jpg)](https://techan.fr/images/2014/10/image11.jpg)</div><div></div><div>Il suffit de la charger dans l’application.</div><div></div><div></div><div>[![image2](https://techan.fr/images/2014/10/image21-168x300.png)](https://techan.fr/images/2014/10/image21.png)</div><div></div><div>Ensuite, cliquer sur « Metadata » en bas, puis « View ».</div><div></div><div></div><div>[![image3](https://techan.fr/images/2014/10/image31-168x300.png)](https://techan.fr/images/2014/10/image31.png)</div><div></div><div>On a alors accès aux fameuses informations.</div><div></div><div></div><div>[![image4](https://techan.fr/images/2014/10/image41-168x300.png)](https://techan.fr/images/2014/10/image41.png)</div><div></div><div>On peut voir ici que la photo a été prise avec l’appareil photo de derrière d’un iPhone 6.</div><div></div><div></div><div>Cette application utilise les nouveautés d’iOS 8 en proposant une extension qui permet, une fois activée d’accéder directement aux données EXIF sans passer de nouveau par l’application.</div><div></div><div>Il fait pour cela activer l’extension. Pour cela, rendez vous dans l’application Photos et tapez sur le bouton  :![image5.PNG](https://techan.fr/images/2014/10/image5.png)</div><div></div><div>Taper sur l’icône « Autre ».</div><div></div><div></div><div>[![image6](https://techan.fr/images/2014/10/image61-168x300.png)](https://techan.fr/images/2014/10/image61.png)</div><div></div><div>Activez enfin « Metadata » dans le menu qui apparaît.</div><div></div><div></div><div>[![image8.png](https://techan.fr/images/2014/10/image8.png-300x258.jpg)](https://techan.fr/images/2014/10/image8.png.jpg)</div><div></div><div>Maintenant lorsque vous parcourrez vos photos, l’option « Metadata » sera directement disponible.</div><div></div><div></div><div>[![image9.png](https://techan.fr/images/2014/10/image9.png-300x96.jpg)](https://techan.fr/images/2014/10/image9.png.jpg)</div><div></div><div>Vous donnant accès à une page assez bien faite, il faut l’avouer.</div><div></div><div> [![image10](https://techan.fr/images/2014/10/image101-168x300.png)](https://techan.fr/images/2014/10/image101.png)</div><div></div><div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-01T18:53:31.000Z","created_by":1,"updated_at":"2014-11-18T10:57:22.000Z","updated_by":1,"published_at":"2014-10-01T18:53:31.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":25,"uuid":"5ff768a2-e960-42a7-bc27-1b6a0123caad","title":"[MySQL] Des chiffres sur quelques bases les plus sollicitées du monde","slug":"des-chiffres-sur-quelques-bases-les-plus-sollicitees-du-monde","markdown":"\n![](https://pbs.twimg.com/profile_images/1240079072/logo-mysql-170x170.png)A l’occasion de l’Oracle Open World 2014, MySQL donne quelques exemples sur quelques unes bases les plus sollicitées du monde. Parmi les sociétés citées on retrouve King (le studio qui édite Candy Crush), Facebook, Twitter, [Booking.com](http://Booking.com) et Dropbox.  \n On apprend que le studio King utilise MySQL et pas qu’un peu ! Les chiffres donnés par MySQL sont effarant !\n\n> Candy Crush: 849 million game plays per day, all served by MySQL. [#MySQLCentral](https://twitter.com/hashtag/MySQLCentral?src=hash) [#oow14](https://twitter.com/hashtag/oow14?src=hash)\n> \n> — MySQL (@MySQL) [October 1, 2014](https://twitter.com/MySQL/status/517385822442512384)\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>    Les joueurs créés 849 millions de partie par jour, toutes hébergées sur MySQL. \n\n> Over 50TB of data for the user shards, and 500K queries per sec. @ King. [#MySQLCentral](https://twitter.com/hashtag/MySQLCentral?src=hash) — MySQL (@MySQL) [October 1, 2014](https://twitter.com/MySQL/status/517386960617230337)\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>  \n 50 To pour de données utilisateurs et 500 000 requêtes par seconde.  \n On apprend également que Twitter utilise MySQL pour absorber les grosses charges.\n\n> [#MySQL](https://twitter.com/hashtag/MySQL?src=hash) helps [@Twitter](https://twitter.com/twitter) during peak times (i.e. Ellen’s [#selfie](https://twitter.com/hashtag/selfie?src=hash) tweet w/ a record 143,199 tweets per second!) [#MySQLCentral](https://twitter.com/hashtag/MySQLCentral?src=hash) @ [#OOW14](https://twitter.com/hashtag/OOW14?src=hash)\n> \n> — MySQL (@MySQL) [September 30, 2014](https://twitter.com/MySQL/status/516748803685093376)\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>  \n MySQL aide Twitter lors des périodes de forte charge (comme pour le tweet sur le selfie d’Ellen qui a généré un record de 143 199 tweets par seconde)\n\n\n","html":"<p><img src=\"https://pbs.twimg.com/profile_images/1240079072/logo-mysql-170x170.png\" alt=\"\" title=\"\" />A l’occasion de l’Oracle Open World 2014, MySQL donne quelques exemples sur quelques unes bases les plus sollicitées du monde. Parmi les sociétés citées on retrouve King (le studio qui édite Candy Crush), Facebook, Twitter, <a href=\"http://Booking.com\">Booking.com</a> et Dropbox. <br />\n On apprend que le studio King utilise MySQL et pas qu’un peu ! Les chiffres donnés par MySQL sont effarant !</p>\n\n<blockquote>\n  <p>Candy Crush: 849 million game plays per day, all served by MySQL. <a href=\"https://twitter.com/hashtag/MySQLCentral?src=hash\">#MySQLCentral</a> <a href=\"https://twitter.com/hashtag/oow14?src=hash\">#oow14</a></p>\n  \n  <p>— MySQL (@MySQL) <a href=\"https://twitter.com/MySQL/status/517385822442512384\">October 1, 2014</a></p>\n</blockquote>\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>    Les joueurs créés 849 millions de partie par jour, toutes hébergées sur MySQL. \n\n> Over 50TB of data for the user shards, and 500K queries per sec. @ King. [#MySQLCentral](https://twitter.com/hashtag/MySQLCentral?src=hash) — MySQL (@MySQL) [October 1, 2014](https://twitter.com/MySQL/status/517386960617230337)\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>  \n\n<p>50 To pour de données utilisateurs et 500 000 requêtes par seconde. <br />\n On apprend également que Twitter utilise MySQL pour absorber les grosses charges.</p>\n\n<blockquote>\n  <p><a href=\"https://twitter.com/hashtag/MySQL?src=hash\">#MySQL</a> helps <a href=\"https://twitter.com/twitter\">@Twitter</a> during peak times (i.e. Ellen’s <a href=\"https://twitter.com/hashtag/selfie?src=hash\">#selfie</a> tweet w/ a record 143,199 tweets per second!) <a href=\"https://twitter.com/hashtag/MySQLCentral?src=hash\">#MySQLCentral</a> @ <a href=\"https://twitter.com/hashtag/OOW14?src=hash\">#OOW14</a></p>\n  \n  <p>— MySQL (@MySQL) <a href=\"https://twitter.com/MySQL/status/516748803685093376\">September 30, 2014</a></p>\n</blockquote>\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>  \n\n<p>MySQL aide Twitter lors des périodes de forte charge (comme pour le tweet sur le selfie d’Ellen qui a généré un record de 143 199 tweets par seconde)</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-01T21:57:41.000Z","created_by":1,"updated_at":"2014-10-02T08:29:17.000Z","updated_by":1,"published_at":"2014-10-01T21:57:41.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":26,"uuid":"81166a4a-a5f2-4200-9ecb-3e459b51c7cd","title":"[Linux] Envoyer des logs sur un serveur central avec rsyslog","slug":"linux-envoyer-des-logs-sur-un-serveur-central-avec-rsyslog","markdown":"\nNous allons voir comment envoyer des logs sur un serveur distant avec rsyslog. Cette manipulation est très intéressante car elle permet d’avoir tous les logs dans un même endroit et de pouvoir les analyser ensuite avec des programme supplémentaire comme Graylog2 et/ou Logstash.  \n  \n  \n\nTout d’abord, sur le serveur qui va recevoir les logs, il est nécessaire de configurer le rsyslog local pour qu’il écoute sur le réseau. Le port « classique » pour cela est 514 en TCP et en UDP.\n\n \n\n### Sur le serveur de logs\n\n \n\nCette configuration va se trouver dans le fichier /etc/rsyslog.conf sur RedHat/Centos.\n\nDécommentez les lignes suivantes :\n\n# Provides UDP syslog reception $ModLoad imudp $UDPServerRun 514 # Provides TCP syslog reception $ModLoad imtcp $InputTCPServerRun 514\n\n \n\nNous allons demander à rsyslog de stocker les logs dans un dossier que le classique /var/log.\n\nPour cela, nous créons un template et nous redirigeons tous les messages reçus par rsyslog dans ce template :\n\n#### RULES #### $template TmplAuth, \"/data/syslog/%HOSTNAME%/%PROGRAMNAME%.log\" # Log all kernel messages to the console. # Logging much else clutters up the screen. #kern.* /dev/console # Log anything (except mail) of level info or higher. # Don't log private authentication messages! *.info;mail.none;authpriv.none;cron.none ?TmplAuth # The authpriv file has restricted access. authpriv.* ?TmplAuth # Log all the mail messages in one place. mail.* ?TmplAuth # Log cron stuff cron.* ?TmplAuth # Everybody gets emergency messages *.emerg ?TmplAuth # Save news errors of level crit and higher in a special file. uucp,news.crit ?TmplAuth # Save boot messages also to boot.log local7.* ?TmplAuth authpriv.* ?TmplAuth *.info,mail.none,authpriv.none,cron.none ?TmplMsg local1.*,local2.*,local3.*,local4.*,local5.*,local6.*, local7.* ?TmplAuth\n\n \n\nTous les logs seront maintenant écrit dans le dossier /data/syslog/[hostnamede la machine émettrice]/[nom du programme qui envoie le log].log\n\n \n\n### Sur les machines émettrices\n\nLa configuration est également a réaliser dans le fichier /etc/rsyslog.conf\n\nAjouter à la fin du fichier :\n\n$WorkDirectory /var/lib/rsyslog $ActionQueueFileName fwdRule1 $ActionQueueMaxDiskSpace 2g $ActionQueueSaveOnShutdown on $ActionQueueType LinkedList $ActionResumeRetryCount -1 *.* @ip.du.serveur.rsyslog\n\n \n\n \n\nEt voilà, un petit rester du service rsyslog sur chaque machine et le tour est joué !\n\n \n\n\n","html":"<p>Nous allons voir comment envoyer des logs sur un serveur distant avec rsyslog. Cette manipulation est très intéressante car elle permet d’avoir tous les logs dans un même endroit et de pouvoir les analyser ensuite avec des programme supplémentaire comme Graylog2 et/ou Logstash.  </p>\n\n<p>Tout d’abord, sur le serveur qui va recevoir les logs, il est nécessaire de configurer le rsyslog local pour qu’il écoute sur le réseau. Le port « classique » pour cela est 514 en TCP et en UDP.</p>\n\n<h3 id=\"surleserveurdelogs\">Sur le serveur de logs</h3>\n\n<p>Cette configuration va se trouver dans le fichier /etc/rsyslog.conf sur RedHat/Centos.</p>\n\n<p>Décommentez les lignes suivantes :</p>\n\n<h1 id=\"providesudpsyslogreceptiondmodloadimudpdudpserverrun514providestcpsyslogreceptiondmodloadimtcpdinputtcpserverrun514\">Provides UDP syslog reception $ModLoad imudp $UDPServerRun 514 # Provides TCP syslog reception $ModLoad imtcp $InputTCPServerRun 514</h1>\n\n<p>Nous allons demander à rsyslog de stocker les logs dans un dossier que le classique /var/log.</p>\n\n<p>Pour cela, nous créons un template et nous redirigeons tous les messages reçus par rsyslog dans ce template :</p>\n\n<h4 id=\"rulesdtemplatetmplauthdatasysloghostnameprogramnameloglogallkernelmessagestotheconsoleloggingmuchelsecluttersupthescreenkerndevconsoleloganythingexceptmailoflevelinfoorhigherdontlogprivateauthenticationmessagesinfomailnoneauthprivnonecronnonetmplauththeauthprivfilehasrestrictedaccessauthprivtmplauthlogallthemailmessagesinoneplacemailtmplauthlogcronstuffcrontmplautheverybodygetsemergencymessagesemergtmplauthsavenewserrorsoflevelcritandhigherinaspecialfileuucpnewscrittmplauthsavebootmessagesalsotobootloglocal7tmplauthauthprivtmplauthinfomailnoneauthprivnonecronnonetmplmsglocal1local2local3local4local5local6local7tmplauth\">RULES #### $template TmplAuth, \"/data/syslog/%HOSTNAME%/%PROGRAMNAME%.log\" # Log all kernel messages to the console. # Logging much else clutters up the screen. #kern.* /dev/console # Log anything (except mail) of level info or higher. # Don't log private authentication messages! <em>.info;mail.none;authpriv.none;cron.none ?TmplAuth # The authpriv file has restricted access. authpriv.</em> ?TmplAuth # Log all the mail messages in one place. mail.* ?TmplAuth # Log cron stuff cron.* ?TmplAuth # Everybody gets emergency messages <em>.emerg ?TmplAuth # Save news errors of level crit and higher in a special file. uucp,news.crit ?TmplAuth # Save boot messages also to boot.log local7.</em> ?TmplAuth authpriv.* ?TmplAuth <em>.info,mail.none,authpriv.none,cron.none ?TmplMsg local1.</em>,local2.<em>,local3.</em>,local4.<em>,local5.</em>,local6.<em>, local7.</em> ?TmplAuth</h4>\n\n<p>Tous les logs seront maintenant écrit dans le dossier /data/syslog/[hostnamede la machine émettrice]/[nom du programme qui envoie le log].log</p>\n\n<h3 id=\"surlesmachinesmettrices\">Sur les machines émettrices</h3>\n\n<p>La configuration est également a réaliser dans le fichier /etc/rsyslog.conf</p>\n\n<p>Ajouter à la fin du fichier :</p>\n\n<p>$WorkDirectory /var/lib/rsyslog $ActionQueueFileName fwdRule1 $ActionQueueMaxDiskSpace 2g $ActionQueueSaveOnShutdown on $ActionQueueType LinkedList $ActionResumeRetryCount -1 <em>.</em> @ip.du.serveur.rsyslog</p>\n\n<p>Et voilà, un petit rester du service rsyslog sur chaque machine et le tour est joué !</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-08T08:13:18.000Z","created_by":1,"updated_at":"2014-10-16T08:28:06.000Z","updated_by":1,"published_at":"2014-10-08T08:13:18.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":27,"uuid":"a5bc55e0-fba9-4a76-90df-a2a7eff977ff","title":"[Ubuntu] Un utilitaire pour nettoyer et configurer le système","slug":"ubuntu-un-utilitaire-pour-nettoyer-et-configurer-le-systeme","markdown":"\nJ’ai découvert aujourd’hui un outil (ubuntu-tweak) qui permet de faire de manière graphique quelques opérations d’administration et de nettoyage sur Ubuntu.  \n  \n  \n\nPour l’installer, rien de plus simple en passant par les dépôts PPA.\n\nsudo add-apt-repository ppa:tualatrix/ppa sudo apt-get update sudo apt-get install ubuntu-tweak\n\nSinon, vous pouvez télécharger le paquet en utilisant [ce lien](https://launchpad.net/ubuntu-tweak/+download).\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_198\" style=\"width: 310px\">[![ubuntu-tweak Vue d'ensemble](https://techan.fr/images/2014/10/ubuntu-tweak_vue_ensemble-300x165.png)](https://techan.fr/images/2014/10/ubuntu-tweak_vue_ensemble.png)ubuntu-tweak Vue d’ensemble\n\n</div>Plus d’info sur leur blog :\n\n[http://blog.ubuntu-tweak.com/](http://blog.ubuntu-tweak.com/)\n\n \n\n\n","html":"<p>J’ai découvert aujourd’hui un outil (ubuntu-tweak) qui permet de faire de manière graphique quelques opérations d’administration et de nettoyage sur Ubuntu.  </p>\n\n<p>Pour l’installer, rien de plus simple en passant par les dépôts PPA.</p>\n\n<p>sudo add-apt-repository ppa:tualatrix/ppa sudo apt-get update sudo apt-get install ubuntu-tweak</p>\n\n<p>Sinon, vous pouvez télécharger le paquet en utilisant <a href=\"https://launchpad.net/ubuntu-tweak/+download\">ce lien</a>.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_198\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/10/ubuntu-tweak_vue_ensemble.png\"><img src=\"https://techan.fr/images/2014/10/ubuntu-tweak_vue_ensemble-300x165.png\" alt=\"ubuntu-tweak Vue d'ensemble\" title=\"\" /></a>ubuntu-tweak Vue d’ensemble</p>\n\n<p></div>Plus d’info sur leur blog :</p>\n\n<p><a href=\"http://blog.ubuntu-tweak.com/\">http://blog.ubuntu-tweak.com/</a></p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-14T13:48:03.000Z","created_by":1,"updated_at":"2015-02-03T11:31:54.000Z","updated_by":1,"published_at":"2014-10-14T13:48:03.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":28,"uuid":"47cc698b-6fbb-4e3d-a938-9477a2a10d8c","title":"[RecoverPoint] Placer des flags nommés sur les points de consistance","slug":"recoverpoint-placer-des-flags-nommes-sur-les-points-de-consistance","markdown":"\nLes boitiers RecoverPoint d’EMC servent a synchroniser des données entre des baies EMC. Cette technologie est particulièrement utile dans le cas d’an Plan de Continuité d’Activité (PCA) ou dans un Plan de Reprise d’Activité (PRA).  \n  \n Cela permet de transmettre tout ou partie des données sur un site de secours afin de continuer ou reprendre l’activité le plus vite possible.\n\n \n\nCes boitiers ont pas mal d’intelligence, dont je ne vais pas faire la publicité ici, mais il permettent entre autre, de « tagger » des points de le temps.\n\nVous me direz, vu comme ça, que ce n’est pas forcément très utile … Mais si vous avez des bases de données répliquées entre des sites, vous avez surement tout de suite vu l’intérêt.\n\nEn effet, certains programmes, comme les bases de données, gagnent a être rallumées sur un point de consistance. Cela évite pas mal d’opérations de restauration et d’administration.\n\n \n\nRecoverPoint permet de nommer des points dans le temps, ajoutez à cela un script qui passe toutes vos bases Oracle en « begin backup » et vous aurez un point dans le temps pendant lequel vous êtes sûr que toutes vos bases Oracle sont consistantes.\n\n \n\nPour ajouter ce fameux flag depuis un script, il est plus pratique d(‘avoir auparavant ajouté [une clef SSH vers les boitiers RecoverPoint](https://techan.fr/ajouter-des-clefs-ssh-pour-se-connecter-sur-un-boitier-recoverpoint/).\n\nVoici donc la fameux commande :\n\nssh admin@XXXXXXX bookmark_image \"group='Nom_Du_Consistency_Group' bookmark='Nom_du_Flag $(date +\"%d_%m_%Y__%HH%M\")'\"\n\n \n\n \n\n\n","html":"<p>Les boitiers RecoverPoint d’EMC servent a synchroniser des données entre des baies EMC. Cette technologie est particulièrement utile dans le cas d’an Plan de Continuité d’Activité (PCA) ou dans un Plan de Reprise d’Activité (PRA).  </p>\n\n<p>Cela permet de transmettre tout ou partie des données sur un site de secours afin de continuer ou reprendre l’activité le plus vite possible.</p>\n\n<p>Ces boitiers ont pas mal d’intelligence, dont je ne vais pas faire la publicité ici, mais il permettent entre autre, de « tagger » des points de le temps.</p>\n\n<p>Vous me direz, vu comme ça, que ce n’est pas forcément très utile … Mais si vous avez des bases de données répliquées entre des sites, vous avez surement tout de suite vu l’intérêt.</p>\n\n<p>En effet, certains programmes, comme les bases de données, gagnent a être rallumées sur un point de consistance. Cela évite pas mal d’opérations de restauration et d’administration.</p>\n\n<p>RecoverPoint permet de nommer des points dans le temps, ajoutez à cela un script qui passe toutes vos bases Oracle en « begin backup » et vous aurez un point dans le temps pendant lequel vous êtes sûr que toutes vos bases Oracle sont consistantes.</p>\n\n<p>Pour ajouter ce fameux flag depuis un script, il est plus pratique d(‘avoir auparavant ajouté <a href=\"https://techan.fr/ajouter-des-clefs-ssh-pour-se-connecter-sur-un-boitier-recoverpoint/\">une clef SSH vers les boitiers RecoverPoint</a>.</p>\n\n<p>Voici donc la fameux commande :</p>\n\n<p>ssh admin@XXXXXXX bookmark<em>image \"group='Nom</em>Du<em>Consistency</em>Group' bookmark='Nom<em>du</em>Flag $(date +\"%d<em>%m</em>%Y__%HH%M\")'\"</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-14T14:47:16.000Z","created_by":1,"updated_at":"2014-10-15T11:33:34.000Z","updated_by":1,"published_at":"2014-10-14T14:47:16.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":29,"uuid":"7b6cc3a6-e335-4104-8fa7-56bd904c70ac","title":"[Linux] Forcer un programme a utiliser une locale anglaise","slug":"linux-forcer-un-programme-a-utiliser-une-locale-anglaise","markdown":"\nCertains programmes supportent assez mal d’être lancés sur un système utilisant une langue autre que l’anglais.\n\nCela peut, au mieux, apporter des bugs à l’outil voir l’empêche de fonctionner purement et simplement …\n\n \n\nVoici la méthode a utiliser pour forcer ce programme a utiliser une locale anglaise.  \n  \n Pour un programme que l’on lancerait via la ligne de commande suivante :\n\n/path/to/mon/programme -argument1 valeur1 -argumenté valeur2\n\nIl suffit d’ajouter « LANG=C » au tout début de la ligne de commande et le programme utilisera l’anglais.\n\nLANG=C /path/to/mon/programme -argument1 valeur1 -argumenté valeur2\n\n \n\n\n","html":"<p>Certains programmes supportent assez mal d’être lancés sur un système utilisant une langue autre que l’anglais.</p>\n\n<p>Cela peut, au mieux, apporter des bugs à l’outil voir l’empêche de fonctionner purement et simplement …</p>\n\n<p>Voici la méthode a utiliser pour forcer ce programme a utiliser une locale anglaise.  </p>\n\n<p>Pour un programme que l’on lancerait via la ligne de commande suivante :</p>\n\n<p>/path/to/mon/programme -argument1 valeur1 -argumenté valeur2</p>\n\n<p>Il suffit d’ajouter « LANG=C » au tout début de la ligne de commande et le programme utilisera l’anglais.</p>\n\n<p>LANG=C /path/to/mon/programme -argument1 valeur1 -argumenté valeur2</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-14T17:41:23.000Z","created_by":1,"updated_at":"2014-10-16T08:27:14.000Z","updated_by":1,"published_at":"2014-10-14T17:41:23.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":30,"uuid":"b47d5e2d-311f-4c96-a732-d3f85b0c3ae6","title":"[logstash] Configuration des inputs, filter et output","slug":"logstash-configuration-des-inputs-filter-et-output","markdown":"\nDans l’article [[Linux] Envoyer des logs sur un serveur central avec rsyslog](https://techan.fr/linux-envoyer-des-logs-sur-un-serveur-central-avec-rsyslog/), j’ai décrit comment envoyer des logs vers une machine distante en utiliser le rsyslog installé sur la machine.\n\nDans cet article, je vais décrire la configuration de l’outil[logstash](http://logstash.net/) que j’ai mis par dessus afin de recevoir, parser, et transférer les logs à [Graylog2](http://www.graylog2.org/).\n\nVoici l’architecture telle que je l’ai mise en place.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_203\" style=\"width: 347px\">[![Schéma des différentes couches logicielles sur le serveur de log centralisé et de logstash](https://techan.fr/images/2014/10/shema_syslog_logstash.png)](https://techan.fr/images/2014/10/shema_syslog_logstash.png)Schéma des différentes couches logicielles sur le serveur de log centralisé\n\n</div>Le serveur logstash écoute sur le port 5140, les machines clientes envoient leurs logs à logstash sur ce port. Cependant, pour certaines machines, j’ai eu des soucis de réception des logs … Pour celles-ci, je passe donc les logs à rsyslog qui les écrit dans un fichier de log puis logstash lit ces fichiers et les parse. Le serveur rsyslog écoute sur son port classique, le 514.\n\nUne fois les logs ou les fichiers digérés, logstash envoie les informations à Graylog2 qui permet d’avoir une vue sympa des évènements, de l’historique, des graphes, …\n\n \n\n\n## Les fichiers de configuration de logstash\n\nDans mon installation, les fichiers de configuration se trouvent dans le dossier /etc/logstash/conf.d.\n\nVoici le contenu de ce dossier, je détaillerai chacun de ces fichiers dans les parties suivantes.\n\n[root@xxxxxxxxx conf.d]# ll total 28 -rw-r--r-- 1 root root 194 13 oct. 14:34 01-input_files.conf -rw-r--r-- 1 root root 155 10 oct. 16:26 02-input_rsyslog.conf -rw-r--r-- 1 root root 160 9 oct. 17:23 10-filter_rsyslog.conf -rw-r--r-- 1 root root 1150 10 oct. 11:34 11-filter_apache.conf -rw-r--r-- 1 root root 816 13 oct. 14:45 12-filter_esxi.conf -rw-r--r-- 1 root root 1535 13 oct. 14:20 13-filter_mysql_slow_queries.conf -rw-r--r-- 1 root root 1801 13 oct. 14:27 31-to_graylog2.conf\n\n### \n\nJ’ai coupé la configuration en plusieurs morceaux afin de pouvoir plus facilement tester chacun des éléments.\n\nLes fichiers commençant par un 0 sont des fichiers qui décrivent les entrées de logstash.\n\nCeux commençant par un 1 sont les fichiers qui décrivent les filtres de logstash.\n\nEt ceux qui commencent par un 3 sont les fichiers dans lesquels les sorties de logstash sont définies.\n\n \n\n### Les entrées de logstash\n\nDans ma configuration j’utilise deux types d’entrées :\n\n- des entrées de types fichiers, créés par le rsyslog serveur\n- des entrées de type syslog qui agissent comme un serveur syslog qui écoute\n\n##### Les entrées de types fichier\n\nElles sont documentées dans le fichier « 01-input_files.conf ».\n\ninput { file { path => \"/data/syslog/172.16.17.51/*.log\" exclude => \"*.gz\" type => \"esxi\" } file { path => \"/data/syslog/127.0.0.1/*.log\" exclude => \"*.gz\" type => \"localhost\" } }\n\nCe fichier dit à logstash d’alelr lire tous les fichiers se terminant par « .log » dans les dossiers « /data/syslog/127.0.0.1 » et « /data/syslog/172.16.12.51 » en excluant les fichiers se terminant par « .gz ».\n\nA chaque fois, je fixe un type « esxi » pour le premier dossier, « localhost » pour le second, ceci permettra de différencier les lignes de log dans les étapes suivantes.\n\n \n\n##### L’entrée de type syslog\n\nElles sont documentées dans le fichier « 02-input_rsyslog.conf ».\n\n \n\ninput { syslog { type => syslog port => 5140 } }\n\n \n\nCette entrée permet à logstash d’écouter sur le port 5140.\n\nLes lignes de log arrivées par cette entrée auront le type « syslog ».\n\n \n\n### Les filtres de logstash\n\nElles sont documentées dans les fichiers « 10-filter_rsyslog.conf », « 11-filter_apache.conf », « 12-filter_esxi.conf » et « 13-filter_mysql_slow_queries.conf ».\n\n \n\n##### Fichier 10-filter_rsyslog.conf\n\nfilter { if [type] == \"syslog\" { syslog_pri { } date { locale => \"en\" match => [ \"syslog_timestamp\", \"MMM d HH:mm:ss\", \"MMM dd HH:mm:ss\" ] } } }\n\n \n\nDans ce fichier là, on ne va traiter que les entrées de type « syslog ». On va leur appliquer un traitement appelé « syslog_pri » qui décompose les logs en se basant sur les champs définis dans  les RFC de syslog.\n\n \n\nLe paramètre « date » permet de fixer les date en anglais et de donner un format de data à l’outil.\n\n<span style=\"text-decoration: underline;\">Note :</span> J’ai eu pas mal de soucis avec les dates car mon système est installé en Français … J’ai du modifier le script de lancement de logstash pour le forcer en anglais.\n\nVoici la méthode a utiliser pour le forcer en anglais : [[Linux] Forcer un programme a utiliser une locale anglaise](https://techan.fr/linux-forcer-un-programme-a-utiliser-une-locale-anglaise/ \"[Linux] Forcer un programme a utiliser une locale anglaise\").\n\n \n\n##### Fichier 11-filter_apache.conf\n\nfilter { if [program] == \"apache-access\" { grok { match => { \"message\" => \"%{COMBINEDAPACHELOG}\" } } } } if [program] == \"apache-error\" { grok { match => { \"message\" => \"\\[%{HTTPERRORDATE:timestamp}\\] \\[%{WORD:class}\\] \\[%{WORD:originator} %{IP:clientip}\\] %{GREEDYDATA:errmsg}\" } patterns_dir => [\"/etc/logstash/grok\"] } date { locale => \"en\" match => [ \"syslog_timestamp\", \"MMM d HH:mm:ss\", \"MMM dd HH:mm:ss\" ] } } }\n\nDans ce filtre, on ne s’occupe que des logs des serveurs apache. Le filtre est fait sur le champ « program » des logs reçus, ce champ est positionné par le rsyslog qui envoie ces logs.\n\n \n\nCes deux filtres utilisent un outil qui se nomme « grok », ce dernier permet de parser les logs avec des expressions régulières spéciales. C’est une des grandes force de logstash.\n\n \n\nPour les access logs d’apache, une expression est déjà incluse dans celles fournies par grok, elle s’appelle « COMBINEDAPACHELOG ». Pour ces logs là, on a donc pas grand chose a faire.\n\nPar contre, pour les logs d’erreur, c’est une autre histoire, il faut construire le pattern. Cela se fait dans le champ « match », match compare le contenu du champ « message » avec notre pattern. Si cela match, les champs définis dans le pattern sont remplis.\n\n<span style=\"text-decoration: underline;\">Note :</span> Pour ces erreur logs d’apache, j’ai inclus un fichier de pattern externe présent dans le dossier /etc/logstash/grok. Ce fichier contient des expressions toutes faite, très pratique. J’y ai juste ajouté la définition du champ « HTTPERRORDATE » qui n’est pas standard.\n\nLe contenu de ce fichier est présent dans les annexes en bas de cet article.\n\n \n\nVoici comment est paramétré le rsyslog sur le serveur qui héberge l’apache :\n\n## >> Apache access files # $InputFileName /var/log/httpd/access_log $InputFileTag apache-access: $InputFileStateFile apache-access_log $InputRunFileMonitor ### >> Apache error files $InputFileName /var/log/httpd/error_log $InputFileTag apache-error: $InputFileStateFile apache-error_log $InputRunFileMonitor\n\nNotez qu’on retrouve les valeurs du champ « program » dans la variable « InputFileTag » que je teste dans mon filtre.\n\nLes valeurs des « InputFileStateFile » doivent être uniques dans la configuration de rsyslog, sinon les logs ne sont pas parsés.\n\n \n\n##### Fichier 12-filter_esxi.conf\n\nfilter { if [type] == \"esxi\" and [path] != \"/data/syslog/172.16.17.51/for.log\" { grok { pattern => ['(?:%{SYSLOGTIMESTAMP:timestamp}|%{TIMESTAMP_ISO8601:timestamp8601}) (?:%{SYSLOGHOST:logsource}) (?:%{SYSLOGPROG}): (?<messagebody>(?:\\[(?<esxi_thread_id>[0-9A-Z]{8,8}) %{DATA:esxi_loglevel} \\'%{DATA:esxi_service}\\'\\] %{GREEDYDATA:esxi_message}|%{GREEDYDATA}))'] type => \"esxi\" } } else if [type] == \"esxi\" and [path] == \"/data/syslog/172.16.17.51/for.log\" { grok { pattern => ['(?:%{SYSLOGTIMESTAMP:timestamp}|%{TIMESTAMP_ISO8601:timestamp8601}) (?:%{DATA:vmware_bullshit}?,) (?:%{SYSLOGHOST:logsource}) (?:%{SYSLOGPROG}): (?<messagebody>(?:\\[(?<esxi_thread_id>[0-9A-Z]{8,8}) %{DATA:esxi_loglevel} \\'%{DATA:esxi_service}\\'\\] %{GREEDYDATA:esxi_message}|%{GREEDYDATA}))'] type => \"esxi\" } } }\n\n \n\nDans ce filtre, je gère les logs qui me parviennent de serveurs ESXi dans des fichiers plats. Visiblement, les ESXi préfèrent envoyer leurs logs à un rsyslog plutôt qu’à logstash …\n\n \n\nPour traiter ces lgos là, je filtre sur le type qui doit être égal à « esxi » mais aussi sur le chemin du fichier car le fichier « for.log » a une structure différente qui nécessite un pattern un peu différent.\n\n \n\n##### Fichier 13-filter_mysql_slow_queries.conf\n\nfilter { if [program] == \"mysql-slow-queries\" and [type] == \"syslog\" { mutate { replace => [ \"type\", \"lumberjack_multiline\" ] } multiline { pattern => \"^# User@Host:\" negate => true what => previous } } if [program] == \"mysql-slow-queries\" and [type] == \"lumberjack_multiline\" { # Capture user, optional host and optional ip fields # sample log file lines: # User@Host: logstash[logstash] @ localhost [127.0.0.1] # User@Host: logstash[logstash] @ [127.0.0.1] grok { match => [ \"message\", \"^# User@Host: %{USER:user}(?:\\[[^\\]]+\\])?\\s+@\\s+%{HOST:host}?\\s+\\[%{IP:ip}?\\]\" ] } # Capture query time, lock time, rows returned and rows examined # sample log file lines: # Query_time: 102.413328 Lock_time: 0.000167 Rows_sent: 0 Rows_examined: 1970 # Query_time: 1.113464 Lock_time: 0.000128 Rows_sent: 1 Rows_examined: 0 grok { match => [ \"message\", \"^# Query_time: %{NUMBER:duration:float}\\s+Lock_time: %{NUMBER:lock_wait:float} Rows_sent: %{NUMBER:results:int} \\s*Rows_examined: %{NUMBER:scanned:int}\"] } # Capture the time the query happened grok { match => [ \"message\", \"^SET timestamp=%{NUMBER:timestamp};\" ] } # Extract the time based on the time of the query and # not the time the item got logged date { match => [ \"timestamp\", \"UNIX\" ] } # Drop the captured timestamp field since it has been moved to the # time of the event mutate { remove_field => \"timestamp\" } } }\n\n \n\nDans ce filtre, je traite les fichier de logs spéciaux dans lequel MySQL va écrire les informations sur les requêtes longues qu’il reçoit. Ces information peuvent être très intéressantes à des fins de débogages ou de monitoring d’application.\n\n \n\nCependant, ce fichier m’a posé pas mal de soucis car les entrées ce font sur plusieurs lignes …\n\nJ’applique donc deux filtres de suite sur ces entrées de log. Une première qui filtre sur le program et le type dont les actions sont de changer le type de ces entrées de log. On remplace le type « syslog » par un type « lumberjack_multiline ». La deuxième action de ce filtre est de transformer les entrées reçues en entrées multi-lignes.\n\nDans l’outil « multiline » on précise un pattern qui permettra à l’outil de détecter le début de nos blocs de logs et des options qui lui disent dans quel sens regarder.\n\n \n\nMaintenant que les bloc est multi-lignes, on peut le traitement comme une entrée classique. pour cela on filtre les entrées dans le type est celui qu’on a positionné juste avant pour être sûr. On utilise ici plusieurs pattern dans des champs match afin d’extraire les informations des différentes lignes reçues.\n\n \n\n### Les sorties de logstash\n\nElles sont documentées dans le fichier « 31-to_graylog2.conf ».\n\n \n\noutput { if [program] == \"apache-access\" { gelf { level => [\"%{syslog_severity}\"] host => \"127.0.0.1\" port => \"12211\" sender => \"%{logsource}\" short_message => \"%{message}\" full_message => \"%{syslog_full}\" ship_metadata => true ship_tags => true ignore_metadata => [ \"type\", \"syslog_pri\", \"syslog_timestamp\", \"syslog_hostname\", \"syslog_message\", \"syslog_severity\", \"syslog_severity_code\", \"syslog_facility_code\", \"syslog_full\" ] } } else if [program] == \"apache-error\" { gelf { level => [\"%{class}\",\"ERROR\"] host => \"127.0.0.1\" port => \"12211\" sender => \"%{logsource}\" short_message => \"%{message}\" full_message => \"%{errmsg}\" ship_metadata => true ship_tags => true ignore_metadata => [ \"type\", \"syslog_pri\", \"syslog_timestamp\", \"syslog_hostname\", \"syslog_message\", \"syslog_severity\", \"syslog_severity_code\", \"syslog_facility_code\", \"syslog_full\" ] } } else { gelf { level => [\"%{syslog_severity}\",\"%{esxi_loglevel}\",\"UNKNOWN\"] host => \"127.0.0.1\" port => \"12211\" sender => \"%{logsource}\" short_message => \"%{message}\" full_message => \"%{syslog_full}\" ship_metadata => true ship_tags => true } } }\n\nToutes ces sorties envoient les logs vers le serveur Graylog2. En fonction des différentes sources, les variables sources des champs envoyés varient car en fonction des pattern, les noms ne sont pas forcément les mêmes, surtout pour les « level » et « sender ».\n\n \n\n### Outils :\n\n[Débugger vos patterns !](http://grokdebug.herokuapp.com/)\n\n \n\n##### Fichier de patterns\n\n[root@sl-0-syslogint1 ~]# cat /etc/logstash/grok/grok.conf HTTPERRORDATE %{DAY} %{MONTH} %{MONTHDAY} %{TIME} %{YEAR} APACHEERRORLOG %{SYSLOGTIMESTAMP:mytimestamp} %{SYSLOGHOST:syslog_hostname} %{DATA:syslog_program} \\[%{HTTPERRORDATE:timestamp}\\] \\[%{WORD:severity}\\] \\[client %{IPORHOST:clientip}\\] %{GREEDYDATA:message_remainder} USERNAME [a-zA-Z0-9._-]+ USER %{USERNAME} INT (?:[+-]?(?:[0-9]+)) BASE10NUM (?<![0-9.+-])(?>[+-]?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))) NUMBER (?:%{BASE10NUM}) BASE16NUM (?<![0-9A-Fa-f])(?:[+-]?(?:0x)?(?:[0-9A-Fa-f]+)) BASE16FLOAT \\b(?<![0-9A-Fa-f.])(?:[+-]?(?:0x)?(?:(?:[0-9A-Fa-f]+(?:\\.[0-9A-Fa-f]*)?)|(?:\\.[0-9A-Fa-f]+)))\\b POSINT \\b(?:[1-9][0-9]*)\\b NONNEGINT \\b(?:[0-9]+)\\b WORD \\b\\w+\\b NOTSPACE \\S+ SPACE \\s* DATA .*? GREEDYDATA .* QUOTEDSTRING (?>(?<!\\\\)(?>\"(?>\\\\.|[^\\\\\"]+)+\"|\"\"|(?>'(?>\\\\.|[^\\\\']+)+')|''|(?>`(?>\\\\.|[^\\\\`]+)+`)|``)) UUID [A-Fa-f0-9]{8}-(?:[A-Fa-f0-9]{4}-){3}[A-Fa-f0-9]{12} # Networking MAC (?:%{CISCOMAC}|%{WINDOWSMAC}|%{COMMONMAC}) CISCOMAC (?:(?:[A-Fa-f0-9]{4}\\.){2}[A-Fa-f0-9]{4}) WINDOWSMAC (?:(?:[A-Fa-f0-9]{2}-){5}[A-Fa-f0-9]{2}) COMMONMAC (?:(?:[A-Fa-f0-9]{2}:){5}[A-Fa-f0-9]{2}) IPV6 ((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)? IPV4 (?<![0-9])(?:(?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2})[.](?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2})[.](?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2})[.](?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2}))(?![0-9]) IP (?:%{IPV6}|%{IPV4}) HOSTNAME \\b(?:[0-9A-Za-z][0-9A-Za-z-]{0,62})(?:\\.(?:[0-9A-Za-z][0-9A-Za-z-]{0,62}))*(\\.?|\\b) HOST %{HOSTNAME} IPORHOST (?:%{HOSTNAME}|%{IP}) HOSTPORT %{IPORHOST}:%{POSINT} # paths PATH (?:%{UNIXPATH}|%{WINPATH}) UNIXPATH (?>/(?>[\\w_%!$@:.,~-]+|\\\\.)*)+ TTY (?:/dev/(pts|tty([pq])?)(\\w+)?/?(?:[0-9]+)) WINPATH (?>[A-Za-z]+:|\\\\)(?:\\\\[^\\\\?*]*)+ URIPROTO [A-Za-z]+(\\+[A-Za-z+]+)? URIHOST %{IPORHOST}(?::%{POSINT:port})? # uripath comes loosely from RFC1738, but mostly from what Firefox # doesn't turn into %XX URIPATH (?:/[A-Za-z0-9$.+!*'(){},~:;=@#%_\\-]*)+ #URIPARAM \\?(?:[A-Za-z0-9]+(?:=(?:[^&]*))?(?:&(?:[A-Za-z0-9]+(?:=(?:[^&]*))?)?)*)? URIPARAM \\?[A-Za-z0-9$.+!*'|(){},~@#%&/=:;_?\\-\\[\\]]* URIPATHPARAM %{URIPATH}(?:%{URIPARAM})? URI %{URIPROTO}://(?:%{USER}(?::[^@]*)?@)?(?:%{URIHOST})?(?:%{URIPATHPARAM})? # Months: January, Feb, 3, 03, 12, December MONTH \\b(?:Jan(?:uary)?|Feb(?:ruary)?|Mar(?:ch)?|Apr(?:il)?|May|Jun(?:e)?|Jul(?:y)?|Aug(?:ust)?|Sep(?:tember)?|Oct(?:ober)?|Nov(?:ember)?|Dec(?:ember)?)\\b MONTHNUM (?:0?[1-9]|1[0-2]) MONTHNUM2 (?:0[1-9]|1[0-2]) MONTHDAY (?:(?:0[1-9])|(?:[12][0-9])|(?:3[01])|[1-9]) # Days: Monday, Tue, Thu, etc... DAY (?:Mon(?:day)?|Tue(?:sday)?|Wed(?:nesday)?|Thu(?:rsday)?|Fri(?:day)?|Sat(?:urday)?|Sun(?:day)?) # Years? YEAR (?>\\d\\d){1,2} HOUR (?:2[0123]|[01]?[0-9]) MINUTE (?:[0-5][0-9]) # '60' is a leap second in most time standards and thus is valid. SECOND (?:(?:[0-5]?[0-9]|60)(?:[:.,][0-9]+)?) TIME (?!<[0-9])%{HOUR}:%{MINUTE}(?::%{SECOND})(?![0-9]) # datestamp is YYYY/MM/DD-HH:MM:SS.UUUU (or something like it) DATE_US %{MONTHNUM}[/-]%{MONTHDAY}[/-]%{YEAR} DATE_EU %{MONTHDAY}[./-]%{MONTHNUM}[./-]%{YEAR} ISO8601_TIMEZONE (?:Z|[+-]%{HOUR}(?::?%{MINUTE})) ISO8601_SECOND (?:%{SECOND}|60) TIMESTAMP_ISO8601 %{YEAR}-%{MONTHNUM}-%{MONTHDAY}[T ]%{HOUR}:?%{MINUTE}(?::?%{SECOND})?%{ISO8601_TIMEZONE}? DATE %{DATE_US}|%{DATE_EU} DATESTAMP %{DATE}[- ]%{TIME} TZ (?:[PMCE][SD]T|UTC) DATESTAMP_RFC822 %{DAY} %{MONTH} %{MONTHDAY} %{YEAR} %{TIME} %{TZ} DATESTAMP_RFC2822 %{DAY}, %{MONTHDAY} %{MONTH} %{YEAR} %{TIME} %{ISO8601_TIMEZONE} DATESTAMP_OTHER %{DAY} %{MONTH} %{MONTHDAY} %{TIME} %{TZ} %{YEAR} DATESTAMP_EVENTLOG %{YEAR}%{MONTHNUM2}%{MONTHDAY}%{HOUR}%{MINUTE}%{SECOND} # Syslog Dates: Month Day HH:MM:SS SYSLOGTIMESTAMP %{MONTH} +%{MONTHDAY} %{TIME} PROG (?:[\\w._/%-]+) SYSLOGPROG %{PROG:program}(?:\\[%{POSINT:pid}\\])? SYSLOGHOST %{IPORHOST} SYSLOGFACILITY <%{NONNEGINT:facility}.%{NONNEGINT:priority}> HTTPERRORDATE %{DAY} %{MONTH} %{MONTHDAY} %{TIME} %{YEAR} HTTPDATE %{MONTHDAY}/%{MONTH}/%{YEAR}:%{TIME} %{INT} # Shortcuts QS %{QUOTEDSTRING} # Log formats SYSLOGBASE %{SYSLOGTIMESTAMP:timestamp} (?:%{SYSLOGFACILITY} )?%{SYSLOGHOST:logsource} %{SYSLOGPROG}: COMMONAPACHELOG %{IPORHOST:clientip} %{USER:ident} %{NOTSPACE:auth} \\[%{HTTPDATE:timestamp}\\] \"(?:%{WORD:verb} %{NOTSPACE:request}(?: HTTP/%{NUMBER:httpversion})?|%{DATA:rawrequest})\" %{NUMBER:response} (?:%{NUMBER:bytes}|-) COMBINEDAPACHELOG %{COMMONAPACHELOG} %{QS:referrer} %{QS:agent} # Log Levels LOGLEVEL ([Aa]lert|ALERT|[Tt]race|TRACE|[Dd]ebug|DEBUG|[Nn]otice|NOTICE|[Ii]nfo|INFO|[Ww]arn?(?:ing)?|WARN?(?:ING)?|[Ee]rr?(?:or)?|ERR?(?:OR)?|[Cc]rit?(?:ical)?|CRIT?(?:ICAL)?|[Ff]atal|FATAL|[Ss]evere|SEVERE|EMERG(?:ENCY)?|[Ee]merg(?:ency)?)\n\n \n\n\n","html":"<p>Dans l’article <a href=\"https://techan.fr/linux-envoyer-des-logs-sur-un-serveur-central-avec-rsyslog/\">[Linux] Envoyer des logs sur un serveur central avec rsyslog</a>, j’ai décrit comment envoyer des logs vers une machine distante en utiliser le rsyslog installé sur la machine.</p>\n\n<p>Dans cet article, je vais décrire la configuration de l’outil<a href=\"http://logstash.net/\">logstash</a> que j’ai mis par dessus afin de recevoir, parser, et transférer les logs à <a href=\"http://www.graylog2.org/\">Graylog2</a>.</p>\n\n<p>Voici l’architecture telle que je l’ai mise en place.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_203\" style=\"width: 347px\"><a href=\"https://techan.fr/images/2014/10/shema_syslog_logstash.png\"><img src=\"https://techan.fr/images/2014/10/shema_syslog_logstash.png\" alt=\"Schéma des différentes couches logicielles sur le serveur de log centralisé et de logstash\" title=\"\" /></a>Schéma des différentes couches logicielles sur le serveur de log centralisé</p>\n\n<p></div>Le serveur logstash écoute sur le port 5140, les machines clientes envoient leurs logs à logstash sur ce port. Cependant, pour certaines machines, j’ai eu des soucis de réception des logs … Pour celles-ci, je passe donc les logs à rsyslog qui les écrit dans un fichier de log puis logstash lit ces fichiers et les parse. Le serveur rsyslog écoute sur son port classique, le 514.</p>\n\n<p>Une fois les logs ou les fichiers digérés, logstash envoie les informations à Graylog2 qui permet d’avoir une vue sympa des évènements, de l’historique, des graphes, …</p>\n\n<h2 id=\"lesfichiersdeconfigurationdelogstash\">Les fichiers de configuration de logstash</h2>\n\n<p>Dans mon installation, les fichiers de configuration se trouvent dans le dossier /etc/logstash/conf.d.</p>\n\n<p>Voici le contenu de ce dossier, je détaillerai chacun de ces fichiers dans les parties suivantes.</p>\n\n<p>[root@xxxxxxxxx conf.d]# ll total 28 -rw-r--r-- 1 root root 194 13 oct. 14:34 01-input<em>files.conf -rw-r--r-- 1 root root 155 10 oct. 16:26 02-input</em>rsyslog.conf -rw-r--r-- 1 root root 160 9 oct. 17:23 10-filter<em>rsyslog.conf -rw-r--r-- 1 root root 1150 10 oct. 11:34 11-filter</em>apache.conf -rw-r--r-- 1 root root 816 13 oct. 14:45 12-filter<em>esxi.conf -rw-r--r-- 1 root root 1535 13 oct. 14:20 13-filter</em>mysql<em>slow</em>queries.conf -rw-r--r-- 1 root root 1801 13 oct. 14:27 31-to_graylog2.conf</p>\n\n<h3 id=\"\"> </h3>\n\n<p>J’ai coupé la configuration en plusieurs morceaux afin de pouvoir plus facilement tester chacun des éléments.</p>\n\n<p>Les fichiers commençant par un 0 sont des fichiers qui décrivent les entrées de logstash.</p>\n\n<p>Ceux commençant par un 1 sont les fichiers qui décrivent les filtres de logstash.</p>\n\n<p>Et ceux qui commencent par un 3 sont les fichiers dans lesquels les sorties de logstash sont définies.</p>\n\n<h3 id=\"lesentresdelogstash\">Les entrées de logstash</h3>\n\n<p>Dans ma configuration j’utilise deux types d’entrées :</p>\n\n<ul>\n<li>des entrées de types fichiers, créés par le rsyslog serveur</li>\n<li>des entrées de type syslog qui agissent comme un serveur syslog qui écoute</li>\n</ul>\n\n<h5 id=\"lesentresdetypesfichier\">Les entrées de types fichier</h5>\n\n<p>Elles sont documentées dans le fichier « 01-input_files.conf ».</p>\n\n<p>input { file { path => \"/data/syslog/172.16.17.51/<em>.log\" exclude => \"</em>.gz\" type => \"esxi\" } file { path => \"/data/syslog/127.0.0.1/<em>.log\" exclude => \"</em>.gz\" type => \"localhost\" } }</p>\n\n<p>Ce fichier dit à logstash d’alelr lire tous les fichiers se terminant par « .log » dans les dossiers « /data/syslog/127.0.0.1 » et « /data/syslog/172.16.12.51 » en excluant les fichiers se terminant par « .gz ».</p>\n\n<p>A chaque fois, je fixe un type « esxi » pour le premier dossier, « localhost » pour le second, ceci permettra de différencier les lignes de log dans les étapes suivantes.</p>\n\n<h5 id=\"lentredetypesyslog\">L’entrée de type syslog</h5>\n\n<p>Elles sont documentées dans le fichier « 02-input_rsyslog.conf ».</p>\n\n<p>input { syslog { type => syslog port => 5140 } }</p>\n\n<p>Cette entrée permet à logstash d’écouter sur le port 5140.</p>\n\n<p>Les lignes de log arrivées par cette entrée auront le type « syslog ».</p>\n\n<h3 id=\"lesfiltresdelogstash\">Les filtres de logstash</h3>\n\n<p>Elles sont documentées dans les fichiers « 10-filter<em>rsyslog.conf », « 11-filter</em>apache.conf », « 12-filter<em>esxi.conf » et « 13-filter</em>mysql<em>slow</em>queries.conf ».</p>\n\n<h5 id=\"fichier10filter_rsyslogconf\">Fichier 10-filter_rsyslog.conf</h5>\n\n<p>filter { if [type] <mark> \"syslog\" { syslog<em>pri { } date { locale => \"en\" match => [ \"syslog</em>timestamp\", \"MMM d HH:mm:ss\", \"MMM dd HH:mm:ss\" ] } } }</p>\n\n<p>Dans ce fichier là, on ne va traiter que les entrées de type « syslog ». On va leur appliquer un traitement appelé « syslog_pri » qui décompose les logs en se basant sur les champs définis dans  les RFC de syslog.</p>\n\n<p>Le paramètre « date » permet de fixer les date en anglais et de donner un format de data à l’outil.</p>\n\n<p><span style=\"text-decoration: underline;\">Note :</span> J’ai eu pas mal de soucis avec les dates car mon système est installé en Français … J’ai du modifier le script de lancement de logstash pour le forcer en anglais.</p>\n\n<p>Voici la méthode a utiliser pour le forcer en anglais : <a href=\"https://techan.fr/linux-forcer-un-programme-a-utiliser-une-locale-anglaise/\" title=\"[Linux] Forcer un programme a utiliser une locale anglaise\">[Linux] Forcer un programme a utiliser une locale anglaise</a>.</p>\n\n<h5 id=\"fichier11filter_apacheconf\">Fichier 11-filter_apache.conf</h5>\n\n<p>filter { if [program] </mark> \"apache-access\" { grok { match => { \"message\" => \"%{COMBINEDAPACHELOG}\" } } } } if [program] <mark> \"apache-error\" { grok { match => { \"message\" => \"[%{HTTPERRORDATE:timestamp}] [%{WORD:class}] [%{WORD:originator} %{IP:clientip}] %{GREEDYDATA:errmsg}\" } patterns<em>dir => [\"/etc/logstash/grok\"] } date { locale => \"en\" match => [ \"syslog</em>timestamp\", \"MMM d HH:mm:ss\", \"MMM dd HH:mm:ss\" ] } } }</p>\n\n<p>Dans ce filtre, on ne s’occupe que des logs des serveurs apache. Le filtre est fait sur le champ « program » des logs reçus, ce champ est positionné par le rsyslog qui envoie ces logs.</p>\n\n<p>Ces deux filtres utilisent un outil qui se nomme « grok », ce dernier permet de parser les logs avec des expressions régulières spéciales. C’est une des grandes force de logstash.</p>\n\n<p>Pour les access logs d’apache, une expression est déjà incluse dans celles fournies par grok, elle s’appelle « COMBINEDAPACHELOG ». Pour ces logs là, on a donc pas grand chose a faire.</p>\n\n<p>Par contre, pour les logs d’erreur, c’est une autre histoire, il faut construire le pattern. Cela se fait dans le champ « match », match compare le contenu du champ « message » avec notre pattern. Si cela match, les champs définis dans le pattern sont remplis.</p>\n\n<p><span style=\"text-decoration: underline;\">Note :</span> Pour ces erreur logs d’apache, j’ai inclus un fichier de pattern externe présent dans le dossier /etc/logstash/grok. Ce fichier contient des expressions toutes faite, très pratique. J’y ai juste ajouté la définition du champ « HTTPERRORDATE » qui n’est pas standard.</p>\n\n<p>Le contenu de ce fichier est présent dans les annexes en bas de cet article.</p>\n\n<p>Voici comment est paramétré le rsyslog sur le serveur qui héberge l’apache :</p>\n\n<h2 id=\"apacheaccessfilesdinputfilenamevarloghttpdaccess_logdinputfiletagapacheaccessdinputfilestatefileapacheaccess_logdinputrunfilemonitorapacheerrorfilesdinputfilenamevarloghttpderror_logdinputfiletagapacheerrordinputfilestatefileapacheerror_logdinputrunfilemonitor\">>> Apache access files # $InputFileName /var/log/httpd/access<em>log $InputFileTag apache-access: $InputFileStateFile apache-access</em>log $InputRunFileMonitor ### >> Apache error files $InputFileName /var/log/httpd/error<em>log $InputFileTag apache-error: $InputFileStateFile apache-error</em>log $InputRunFileMonitor</h2>\n\n<p>Notez qu’on retrouve les valeurs du champ « program » dans la variable « InputFileTag » que je teste dans mon filtre.</p>\n\n<p>Les valeurs des « InputFileStateFile » doivent être uniques dans la configuration de rsyslog, sinon les logs ne sont pas parsés.</p>\n\n<h5 id=\"fichier12filter_esxiconf\">Fichier 12-filter_esxi.conf</h5>\n\n<p>filter { if [type] </mark> \"esxi\" and [path] != \"/data/syslog/172.16.17.51/for.log\" { grok { pattern => ['(?:%{SYSLOGTIMESTAMP:timestamp}|%{TIMESTAMP<em>ISO8601:timestamp8601}) (?:%{SYSLOGHOST:logsource}) (?:%{SYSLOGPROG}): (?<messagebody>(?:[(?<esxi_thread_id>[0-9A-Z]{8,8}) %{DATA:esxi</em>loglevel} \\'%{DATA:esxi<em>service}\\'] %{GREEDYDATA:esxi</em>message}|%{GREEDYDATA}))'] type => \"esxi\" } } else if [type] <mark> \"esxi\" and [path] </mark> \"/data/syslog/172.16.17.51/for.log\" { grok { pattern => ['(?:%{SYSLOGTIMESTAMP:timestamp}|%{TIMESTAMP<em>ISO8601:timestamp8601}) (?:%{DATA:vmware</em>bullshit}?,) (?:%{SYSLOGHOST:logsource}) (?:%{SYSLOGPROG}): (?<messagebody>(?:[(?<esxi_thread_id>[0-9A-Z]{8,8}) %{DATA:esxi<em>loglevel} \\'%{DATA:esxi</em>service}\\'] %{GREEDYDATA:esxi_message}|%{GREEDYDATA}))'] type => \"esxi\" } } }</p>\n\n<p>Dans ce filtre, je gère les logs qui me parviennent de serveurs ESXi dans des fichiers plats. Visiblement, les ESXi préfèrent envoyer leurs logs à un rsyslog plutôt qu’à logstash …</p>\n\n<p>Pour traiter ces lgos là, je filtre sur le type qui doit être égal à « esxi » mais aussi sur le chemin du fichier car le fichier « for.log » a une structure différente qui nécessite un pattern un peu différent.</p>\n\n<h5 id=\"fichier13filter_mysql_slow_queriesconf\">Fichier 13-filter<em>mysql</em>slow_queries.conf</h5>\n\n<p>filter { if [program] <mark> \"mysql-slow-queries\" and [type] </mark> \"syslog\" { mutate { replace => [ \"type\", \"lumberjack<em>multiline\" ] } multiline { pattern => \"^# User@Host:\" negate => true what => previous } } if [program] <mark> \"mysql-slow-queries\" and [type] </mark> \"lumberjack</em>multiline\" { # Capture user, optional host and optional ip fields # sample log file lines: # User@Host: logstash[logstash] @ localhost [127.0.0.1] # User@Host: logstash[logstash] @ [127.0.0.1] grok { match => [ \"message\", \"^# User@Host: %{USER:user}(?:[[^]]+])?\\s+@\\s+%{HOST:host}?\\s+[%{IP:ip}?]\" ] } # Capture query time, lock time, rows returned and rows examined # sample log file lines: # Query<em>time: 102.413328 Lock</em>time: 0.000167 Rows<em>sent: 0 Rows</em>examined: 1970 # Query<em>time: 1.113464 Lock</em>time: 0.000128 Rows<em>sent: 1 Rows</em>examined: 0 grok { match => [ \"message\", \"^# Query<em>time: %{NUMBER:duration:float}\\s+Lock</em>time: %{NUMBER:lock<em>wait:float} Rows</em>sent: %{NUMBER:results:int} \\s*Rows<em>examined: %{NUMBER:scanned:int}\"] } # Capture the time the query happened grok { match => [ \"message\", \"^SET timestamp=%{NUMBER:timestamp};\" ] } # Extract the time based on the time of the query and # not the time the item got logged date { match => [ \"timestamp\", \"UNIX\" ] } # Drop the captured timestamp field since it has been moved to the # time of the event mutate { remove</em>field => \"timestamp\" } } }</p>\n\n<p>Dans ce filtre, je traite les fichier de logs spéciaux dans lequel MySQL va écrire les informations sur les requêtes longues qu’il reçoit. Ces information peuvent être très intéressantes à des fins de débogages ou de monitoring d’application.</p>\n\n<p>Cependant, ce fichier m’a posé pas mal de soucis car les entrées ce font sur plusieurs lignes …</p>\n\n<p>J’applique donc deux filtres de suite sur ces entrées de log. Une première qui filtre sur le program et le type dont les actions sont de changer le type de ces entrées de log. On remplace le type « syslog » par un type « lumberjack_multiline ». La deuxième action de ce filtre est de transformer les entrées reçues en entrées multi-lignes.</p>\n\n<p>Dans l’outil « multiline » on précise un pattern qui permettra à l’outil de détecter le début de nos blocs de logs et des options qui lui disent dans quel sens regarder.</p>\n\n<p>Maintenant que les bloc est multi-lignes, on peut le traitement comme une entrée classique. pour cela on filtre les entrées dans le type est celui qu’on a positionné juste avant pour être sûr. On utilise ici plusieurs pattern dans des champs match afin d’extraire les informations des différentes lignes reçues.</p>\n\n<h3 id=\"lessortiesdelogstash\">Les sorties de logstash</h3>\n\n<p>Elles sont documentées dans le fichier « 31-to_graylog2.conf ».</p>\n\n<p>output { if [program] <mark> \"apache-access\" { gelf { level => [\"%{syslog<em>severity}\"] host => \"127.0.0.1\" port => \"12211\" sender => \"%{logsource}\" short</em>message => \"%{message}\" full<em>message => \"%{syslog</em>full}\" ship<em>metadata => true ship</em>tags => true ignore<em>metadata => [ \"type\", \"syslog</em>pri\", \"syslog<em>timestamp\", \"syslog</em>hostname\", \"syslog<em>message\", \"syslog</em>severity\", \"syslog<em>severity</em>code\", \"syslog<em>facility</em>code\", \"syslog<em>full\" ] } } else if [program] </mark> \"apache-error\" { gelf { level => [\"%{class}\",\"ERROR\"] host => \"127.0.0.1\" port => \"12211\" sender => \"%{logsource}\" short</em>message => \"%{message}\" full<em>message => \"%{errmsg}\" ship</em>metadata => true ship<em>tags => true ignore</em>metadata => [ \"type\", \"syslog<em>pri\", \"syslog</em>timestamp\", \"syslog<em>hostname\", \"syslog</em>message\", \"syslog<em>severity\", \"syslog</em>severity<em>code\", \"syslog</em>facility<em>code\", \"syslog</em>full\" ] } } else { gelf { level => [\"%{syslog<em>severity}\",\"%{esxi</em>loglevel}\",\"UNKNOWN\"] host => \"127.0.0.1\" port => \"12211\" sender => \"%{logsource}\" short<em>message => \"%{message}\" full</em>message => \"%{syslog<em>full}\" ship</em>metadata => true ship_tags => true } } }</p>\n\n<p>Toutes ces sorties envoient les logs vers le serveur Graylog2. En fonction des différentes sources, les variables sources des champs envoyés varient car en fonction des pattern, les noms ne sont pas forcément les mêmes, surtout pour les « level » et « sender ».</p>\n\n<h3 id=\"outils\">Outils :</h3>\n\n<p><a href=\"http://grokdebug.herokuapp.com/\">Débugger vos patterns !</a></p>\n\n<h5 id=\"fichierdepatterns\">Fichier de patterns</h5>\n\n<p>[root@sl-0-syslogint1 ~]# cat /etc/logstash/grok/grok.conf HTTPERRORDATE %{DAY} %{MONTH} %{MONTHDAY} %{TIME} %{YEAR} APACHEERRORLOG %{SYSLOGTIMESTAMP:mytimestamp} %{SYSLOGHOST:syslog<em>hostname} %{DATA:syslog</em>program} [%{HTTPERRORDATE:timestamp}] [%{WORD:severity}] [client %{IPORHOST:clientip}] %{GREEDYDATA:message<em>remainder} USERNAME [a-zA-Z0-9.</em>-]+ USER %{USERNAME} INT (?:[+-]?(?:[0-9]+)) BASE10NUM (?&lt;<img src=\"?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2}\" alt=\"0-9.+-])(?>[+-]?(?:(?:[0-9]+(?:.[0-9]+)?)|(?:.[0-9]+))) NUMBER (?:%{BASE10NUM}) BASE16NUM (?<![0-9A-Fa-f])(?:[+-]?(?:0x)?(?:[0-9A-Fa-f]+)) BASE16FLOAT \\b(?<![0-9A-Fa-f.])(?:[+-]?(?:0x)?(?:(?:[0-9A-Fa-f]+(?:\\.[0-9A-Fa-f]*)?)|(?:\\.[0-9A-Fa-f]+)))\\b POSINT \\b(?:[1-9][0-9]*)\\b NONNEGINT \\b(?:[0-9]+)\\b WORD \\b\\w+\\b NOTSPACE \\S+ SPACE \\s* DATA .*? GREEDYDATA .* QUOTEDSTRING (?>(?<!\\\\)(?>&quot;(?>\\.|[^\\&quot;]+)+&quot;|&quot;&quot;|(?>'(?>\\.|[^\\']+)+')|''|(?><code>(?&gt;\\\\.|[^\\\\</code>]+)+`)|``)) UUID [A-Fa-f0-9]{8}-(?:[A-Fa-f0-9]{4}-){3}[A-Fa-f0-9]{12} # Networking MAC (?:%{CISCOMAC}|%{WINDOWSMAC}|%{COMMONMAC}) CISCOMAC (?:(?:[A-Fa-f0-9]{4}.){2}[A-Fa-f0-9]{4}) WINDOWSMAC (?:(?:[A-Fa-f0-9]{2}-){5}[A-Fa-f0-9]{2}) COMMONMAC (?:(?:[A-Fa-f0-9]{2}:){5}[A-Fa-f0-9]{2}) IPV6 ((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)? IPV4 (?<![0-9])(?:(?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2})[.\" title=\"\" /><a href=\"?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2}\">.</a><a href=\"?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2}\">.</a>)(?![0-9]) IP (?:%{IPV6}|%{IPV4}) HOSTNAME \\b(?:[0-9A-Za-z][0-9A-Za-z-]{0,62})(?:\\.(?:[0-9A-Za-z][0-9A-Za-z-]{0,62}))*(\\.?|\\b) HOST %{HOSTNAME} IPORHOST (?:%{HOSTNAME}|%{IP}) HOSTPORT %{IPORHOST}:%{POSINT} # paths PATH (?:%{UNIXPATH}|%{WINPATH}) UNIXPATH (?>/(?>[\\w<em>%!$@:.,~-]+|\\.)*)+ TTY (?:/dev/(pts|tty([pq])?)(\\w+)?/?(?:[0-9]+)) WINPATH (?>[A-Za-z]+:|\\)(?:\\[^\\?*]*)+ URIPROTO [A-Za-z]+(+[A-Za-z+]+)? URIHOST %{IPORHOST}(?::%{POSINT:port})? # uripath comes loosely from RFC1738, but mostly from what Firefox # doesn't turn into %XX URIPATH (?:/[A-Za-z0-9$.+!*'(){},~:;=@#%</em>-]<em>)+ #URIPARAM \\?(?:[A-Za-z0-9]+(?:=(?:[^&amp;]</em>))?(?:&amp;(?:[A-Za-z0-9]+(?:=(?:[^&amp;]<em>))?)?)</em>)? URIPARAM \\?[A-Za-z0-9$.+!<em>'|(){},~@#%&amp;/=:;_?-[]]</em> URIPATHPARAM %{URIPATH}(?:%{URIPARAM})? URI %{URIPROTO}://(?:%{USER}(?::[^@]*)?@)?(?:%{URIHOST})?(?:%{URIPATHPARAM})? # Months: January, Feb, 3, 03, 12, December MONTH \\b(?:Jan(?:uary)?|Feb(?:ruary)?|Mar(?:ch)?|Apr(?:il)?|May|Jun(?:e)?|Jul(?:y)?|Aug(?:ust)?|Sep(?:tember)?|Oct(?:ober)?|Nov(?:ember)?|Dec(?:ember)?)\\b MONTHNUM (?:0?[1-9]|1[0-2]) MONTHNUM2 (?:0[1-9]|1[0-2]) MONTHDAY (?:(?:0[1-9])|(?:[12][0-9])|(?:3[01])|[1-9]) # Days: Monday, Tue, Thu, etc... DAY (?:Mon(?:day)?|Tue(?:sday)?|Wed(?:nesday)?|Thu(?:rsday)?|Fri(?:day)?|Sat(?:urday)?|Sun(?:day)?) # Years? YEAR (?>\\d\\d){1,2} HOUR (?:2[0123]|[01]?[0-9]) MINUTE (?:[0-5][0-9]) # '60' is a leap second in most time standards and thus is valid. SECOND (?:(?:[0-5]?[0-9]|60)(?:[:.,][0-9]+)?) TIME (?!&lt;[0-9])%{HOUR}:%{MINUTE}(?::%{SECOND})(?![0-9]) # datestamp is YYYY/MM/DD-HH:MM:SS.UUUU (or something like it) DATE<em>US %{MONTHNUM}[/-]%{MONTHDAY}[/-]%{YEAR} DATE</em>EU %{MONTHDAY}[./-]%{MONTHNUM}[./-]%{YEAR} ISO8601<em>TIMEZONE (?:Z|[+-]%{HOUR}(?::?%{MINUTE})) ISO8601</em>SECOND (?:%{SECOND}|60) TIMESTAMP<em>ISO8601 %{YEAR}-%{MONTHNUM}-%{MONTHDAY}[T ]%{HOUR}:?%{MINUTE}(?::?%{SECOND})?%{ISO8601</em>TIMEZONE}? DATE %{DATE<em>US}|%{DATE</em>EU} DATESTAMP %{DATE}[- ]%{TIME} TZ (?:[PMCE][SD]T|UTC) DATESTAMP<em>RFC822 %{DAY} %{MONTH} %{MONTHDAY} %{YEAR} %{TIME} %{TZ} DATESTAMP</em>RFC2822 %{DAY}, %{MONTHDAY} %{MONTH} %{YEAR} %{TIME} %{ISO8601<em>TIMEZONE} DATESTAMP</em>OTHER %{DAY} %{MONTH} %{MONTHDAY} %{TIME} %{TZ} %{YEAR} DATESTAMP<em>EVENTLOG %{YEAR}%{MONTHNUM2}%{MONTHDAY}%{HOUR}%{MINUTE}%{SECOND} # Syslog Dates: Month Day HH:MM:SS SYSLOGTIMESTAMP %{MONTH} +%{MONTHDAY} %{TIME} PROG (?:[\\w.</em>/%-]+) SYSLOGPROG %{PROG:program}(?:[%{POSINT:pid}])? SYSLOGHOST %{IPORHOST} SYSLOGFACILITY &lt;%{NONNEGINT:facility}.%{NONNEGINT:priority}> HTTPERRORDATE %{DAY} %{MONTH} %{MONTHDAY} %{TIME} %{YEAR} HTTPDATE %{MONTHDAY}/%{MONTH}/%{YEAR}:%{TIME} %{INT} # Shortcuts QS %{QUOTEDSTRING} # Log formats SYSLOGBASE %{SYSLOGTIMESTAMP:timestamp} (?:%{SYSLOGFACILITY} )?%{SYSLOGHOST:logsource} %{SYSLOGPROG}: COMMONAPACHELOG %{IPORHOST:clientip} %{USER:ident} %{NOTSPACE:auth} [%{HTTPDATE:timestamp}] \"(?:%{WORD:verb} %{NOTSPACE:request}(?: HTTP/%{NUMBER:httpversion})?|%{DATA:rawrequest})\" %{NUMBER:response} (?:%{NUMBER:bytes}|-) COMBINEDAPACHELOG %{COMMONAPACHELOG} %{QS:referrer} %{QS:agent} # Log Levels LOGLEVEL ([Aa]lert|ALERT|[Tt]race|TRACE|[Dd]ebug|DEBUG|[Nn]otice|NOTICE|[Ii]nfo|INFO|[Ww]arn?(?:ing)?|WARN?(?:ING)?|[Ee]rr?(?:or)?|ERR?(?:OR)?|[Cc]rit?(?:ical)?|CRIT?(?:ICAL)?|[Ff]atal|FATAL|[Ss]evere|SEVERE|EMERG(?:ENCY)?|[Ee]merg(?:ency)?)</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-15T10:23:39.000Z","created_by":1,"updated_at":"2014-11-26T09:44:54.000Z","updated_by":1,"published_at":"2014-10-15T10:23:39.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":31,"uuid":"b258d2ca-47d8-4532-b7e1-33f829d116ad","title":"[Edité][Linux] Commande Find : astuces","slug":"linux-commande-find-astuces","markdown":"\nLa commande find est très puissante et permet de rechercher des fichiers avec des critères de recherche extrêmement nombreux. Elle permet également d’exécuter d’autres commandes sur les fichiers trouvés.  \n  \n  \n\nJe vous propose de décrire quelques cas d’utilisation, je tâcherai de mettre à jour cet article au fur et à mesure.\n\n \n\n### Utilisation basique\n\n##### Trouver un fichier à partir de son nom\n\nfind /dossier/ou/chercher -name \"nom du fichier\"\n\nCette recherche est récursive, find va chercher également dans les sous dossiers.\n\nOn peut mettre des « * » dans le nom du fichier afin de faire des recherches génériques par example : « *.log » pour trouver tous les fichiers se terminant par « .log ».\n\n \n\n##### Trouver un fichier dont le propriétaire n’est pas un certain utilisateur\n\nPour des questions de sécurité, ou tout simplement de droit d’accès, on peut être amené a chercher les fichier qui n’appartiennent pas à un utilisateur donnée. Dans notre cas, nous cherchons les fichier qui n’appartiennent pas à l’utilisateur « jboss » car nous avons un souci avec une application qui ne peut plus accéder à ces fichiers.\n\nfind . \\! -user jboss -print\n\nLe « ! » permet la négation de la condition et il nous faut l’échapper sinon le Bash prend le « ! » pour lui.\n\n \n\n##### Exclure des dossiers d’une recherche\n\nDans cette recherche, nous allons lister les fichiers d’un dossier en excluant ceux situés dans les sous dossiers « .etc » et « lost+found ».\n\nfind .t -type d \\( -path .etc -o path lost+found \\) \\! -prune -o -print\n\n \n\n### Utilisation avancée\n\n##### Trouver un fichier avec son nom et le renommer\n\nfind /dossier/ou/chercher -name \"nom du fichier\" -exec mv {} /nouveau/chemin/nouveau_nom_du_fichier \\;\n\nDans ce cas, on fait une recherche classique du fichier par son nom et on utilise l’option « exec » qui appelle la commande « mv ».\n\nOn remarquera la présence des accolades vides « {} », ceci représente l’élément trouvé par find. L’option exec appelle une commande, cet appel doit se terminer par « \\; » !\n\n \n\n##### Supprimer des fichiers en fonction de leur date de dernière modification\n\nfind /dossier/ou/chercher -name \"nom du fichier\" -mtime +14 -exec rm {} \\;\n\nOn cherche un fichier basiquement avec son nom, mais on ne garde que ceux qui portent ce nom et qui n’ont pas été modifiés depuis plus de 14 jours.\n\nOn appelle ensuite la commande « rm » via l’option « exec » pour supprimer ces anciens fichiers.\n\n\n","html":"<p>La commande find est très puissante et permet de rechercher des fichiers avec des critères de recherche extrêmement nombreux. Elle permet également d’exécuter d’autres commandes sur les fichiers trouvés.  </p>\n\n<p>Je vous propose de décrire quelques cas d’utilisation, je tâcherai de mettre à jour cet article au fur et à mesure.</p>\n\n<h3 id=\"utilisationbasique\">Utilisation basique</h3>\n\n<h5 id=\"trouverunfichierpartirdesonnom\">Trouver un fichier à partir de son nom</h5>\n\n<p>find /dossier/ou/chercher -name \"nom du fichier\"</p>\n\n<p>Cette recherche est récursive, find va chercher également dans les sous dossiers.</p>\n\n<p>On peut mettre des « * » dans le nom du fichier afin de faire des recherches génériques par example : « *.log » pour trouver tous les fichiers se terminant par « .log ».</p>\n\n<h5 id=\"trouverunfichierdontlepropritairenestpasuncertainutilisateur\">Trouver un fichier dont le propriétaire n’est pas un certain utilisateur</h5>\n\n<p>Pour des questions de sécurité, ou tout simplement de droit d’accès, on peut être amené a chercher les fichier qui n’appartiennent pas à un utilisateur donnée. Dans notre cas, nous cherchons les fichier qui n’appartiennent pas à l’utilisateur « jboss » car nous avons un souci avec une application qui ne peut plus accéder à ces fichiers.</p>\n\n<p>find . ! -user jboss -print</p>\n\n<p>Le « ! » permet la négation de la condition et il nous faut l’échapper sinon le Bash prend le « ! » pour lui.</p>\n\n<h5 id=\"excluredesdossiersdunerecherche\">Exclure des dossiers d’une recherche</h5>\n\n<p>Dans cette recherche, nous allons lister les fichiers d’un dossier en excluant ceux situés dans les sous dossiers « .etc » et « lost+found ».</p>\n\n<p>find .t -type d ( -path .etc -o path lost+found ) ! -prune -o -print</p>\n\n<h3 id=\"utilisationavance\">Utilisation avancée</h3>\n\n<h5 id=\"trouverunfichieravecsonnometlerenommer\">Trouver un fichier avec son nom et le renommer</h5>\n\n<p>find /dossier/ou/chercher -name \"nom du fichier\" -exec mv {} /nouveau/chemin/nouveau<em>nom</em>du_fichier \\;</p>\n\n<p>Dans ce cas, on fait une recherche classique du fichier par son nom et on utilise l’option « exec » qui appelle la commande « mv ».</p>\n\n<p>On remarquera la présence des accolades vides « {} », ceci représente l’élément trouvé par find. L’option exec appelle une commande, cet appel doit se terminer par « \\; » !</p>\n\n<h5 id=\"supprimerdesfichiersenfonctiondeleurdatedederniremodification\">Supprimer des fichiers en fonction de leur date de dernière modification</h5>\n\n<p>find /dossier/ou/chercher -name \"nom du fichier\" -mtime +14 -exec rm {} \\;</p>\n\n<p>On cherche un fichier basiquement avec son nom, mais on ne garde que ceux qui portent ce nom et qui n’ont pas été modifiés depuis plus de 14 jours.</p>\n\n<p>On appelle ensuite la commande « rm » via l’option « exec » pour supprimer ces anciens fichiers.</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-15T10:57:51.000Z","created_by":1,"updated_at":"2014-11-25T15:39:29.000Z","updated_by":1,"published_at":"2014-10-15T10:57:51.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":32,"uuid":"ffc74ccf-3e73-4970-bb52-4a01908d25a1","title":"[Oracle] Identifier les bases de données démarrées sur une machine","slug":"oracle-identifier-les-bases-de-donnees-demarrees-sur-une-machine","markdown":"\n### Détecter les bases Oracle installées sur la machine\n\nLorsqu’une base est créée avec les outils Oracle, une ligne est ajoutée dans le fichier /etc/oratab. Il est de bon ton d’ajouter une ligne dans ce fichier lorsque les bases sont créées à la main également.  \n  \n Ce fichier est utilisé par pas mal d’outils afin de détecter les bases installées sur une machine.\n\n \n\nVoici comment ce fichier se présente.\n\n[![image2014-4-10 12-35-45](https://techan.fr/images/2014/10/image2014-4-10-12-35-45.png)](https://techan.fr/images/2014/10/image2014-4-10-12-35-45.png)\n\nPour chaque entrée, les champs sont séparés par des « : » , voici ce que chacun de ces champs représentent.\n\n<SID>:<ORACLE_HOME>:<AUTO START>\n\nDans l’exemple ci dessus, on peut voir que deux bases sontenregistrées sur cette machine : « lora12c1001d » et « TFTI1 ».\n\n- lora12c1001d utilise un Oracle Home en version 12c.\n- TFTI1 utilise un Oracle Home en version 11gR2.\n\nLe dernier champ peut avoir la valeur « Y » ou « N ».\n\n- Y : la base démarre automatiquement avec le système.\n- N : la base ne démarre pas avec le système.\n\n \n\n### Lister les bases démarrées sur la machine\n\n##### Sur Linux/UNIX\n\nOn peut avoir la liste des bases démarrées en utilisant la commande « ps ».\n\n$ ps -ef | grep smon\n\nOn cherche toutes les processus qui contiennent « smon » dans leur nom, « smon » est un processus unique pour chaque base de données.\n\n \n\n[![image2014-4-10 12-39-40](https://techan.fr/images/2014/10/image2014-4-10-12-39-40.png)](https://techan.fr/images/2014/10/image2014-4-10-12-39-40.png)\n\nOn voit ici que deux bases sont démarrées : « lora12c1001d » et « TFTI1 ».\n\n \n\n\n","html":"<h3 id=\"dtecterlesbasesoracleinstallessurlamachine\">Détecter les bases Oracle installées sur la machine</h3>\n\n<p>Lorsqu’une base est créée avec les outils Oracle, une ligne est ajoutée dans le fichier /etc/oratab. Il est de bon ton d’ajouter une ligne dans ce fichier lorsque les bases sont créées à la main également.  </p>\n\n<p>Ce fichier est utilisé par pas mal d’outils afin de détecter les bases installées sur une machine.</p>\n\n<p>Voici comment ce fichier se présente.</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-10-12-35-45.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-10-12-35-45.png\" alt=\"image2014-4-10 12-35-45\" title=\"\" /></a></p>\n\n<p>Pour chaque entrée, les champs sont séparés par des « : » , voici ce que chacun de ces champs représentent.</p>\n\n<p><SID>:<ORACLE_HOME>:<AUTO START></p>\n\n<p>Dans l’exemple ci dessus, on peut voir que deux bases sontenregistrées sur cette machine : « lora12c1001d » et « TFTI1 ».</p>\n\n<ul>\n<li>lora12c1001d utilise un Oracle Home en version 12c.</li>\n<li>TFTI1 utilise un Oracle Home en version 11gR2.</li>\n</ul>\n\n<p>Le dernier champ peut avoir la valeur « Y » ou « N ».</p>\n\n<ul>\n<li>Y : la base démarre automatiquement avec le système.</li>\n<li><p>N : la base ne démarre pas avec le système.</p></li>\n</ul>\n\n<h3 id=\"listerlesbasesdmarressurlamachine\">Lister les bases démarrées sur la machine</h3>\n\n<h5 id=\"surlinuxunix\">Sur Linux/UNIX</h5>\n\n<p>On peut avoir la liste des bases démarrées en utilisant la commande « ps ».</p>\n\n<p>$ ps -ef | grep smon</p>\n\n<p>On cherche toutes les processus qui contiennent « smon » dans leur nom, « smon » est un processus unique pour chaque base de données.</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-10-12-39-40.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-10-12-39-40.png\" alt=\"image2014-4-10 12-39-40\" title=\"\" /></a></p>\n\n<p>On voit ici que deux bases sont démarrées : « lora12c1001d » et « TFTI1 ».</p>","image":"https://techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-16T09:39:57.000Z","created_by":1,"updated_at":"2014-11-20T16:48:09.000Z","updated_by":1,"published_at":"2014-10-16T09:39:57.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":33,"uuid":"88572ea0-4ed1-4937-b383-4c1f4b6c6675","title":"[Oracle] Gérer les directories","slug":"oracle-gerer-les-directories","markdown":"\nDans cet article nous allons voir comment lister les directories présents dans une base Oracle et comment les administrer.  \n  \n  \n\nLes directories sont des alias vers un dossier système dans une bases Oracle, ils permettent à Oracle de connaitre quelques uns des dossiers présents sur l’OS. Ils sont utilisées notamment pour les export/import avec DataPump.\n\nUn directory appartient à l’utilisateur qui le crée, le privilège « CREATE ANY DIRECTORY » est nécessaire pour créer des directories dans une base Oracle.\n\n \n\n### Lister les directories présents dans une base Oracle\n\nLa commande SQL ci-dessous liste tous les directories créés dans la base de données à laquelle on est connecté.\n\nselect * from dba_directories ;\n\n \n\n[![image2014-4-4 10-10-35](https://techan.fr/images/2014/10/image2014-4-4-10-10-35.png)](https://techan.fr/images/2014/10/image2014-4-4-10-10-35.png)\n\nDans cet exemple, on voit que le directory qui s’appelle « DATA_PUMP_DIR » pointe vers le dossier UNIX/Linux « /data/oracle/admin/TFTI1/dpdump ».\n\nA l’intérieur de la base de » données, toutes opérations réalisées en utilisant le dossier système « /data/oracle/admin/TFTI1/dpdump » doivent être faites en utilisant le directory « DATA_PUMP_DIR ».\n\n \n\n### Administrer les directories\n\n##### Donner le droit de créer des directories à un utilisateur\n\ngrant create any directory to <username> ;\n\n \n\n[![image2014-4-4 10-33-58](https://techan.fr/images/2014/10/image2014-4-4-10-33-58.png)](https://techan.fr/images/2014/10/image2014-4-4-10-33-58.png)\n\nL’utilisateur « scott » peut maintenant crée des directories.\n\n \n\n##### Créer un directory\n\nLa création d’un directory est faite par la commande SQL suivante :\n\ncreate directory <DIRECTORY_NAME> as '/path/to/system/directory' ;\n\n[![image2014-4-4 10-34-47](https://techan.fr/images/2014/10/image2014-4-4-10-34-47.png)](https://techan.fr/images/2014/10/image2014-4-4-10-34-47.png)\n\nL’utilisateur « scott » dispose maintenant d’un directory « DATAPUMP » qui pointe vers le dossier système « /data/oracle/admin/TFTI1/dpdump ».\n\n \n\n\n","html":"<p>Dans cet article nous allons voir comment lister les directories présents dans une base Oracle et comment les administrer.  </p>\n\n<p>Les directories sont des alias vers un dossier système dans une bases Oracle, ils permettent à Oracle de connaitre quelques uns des dossiers présents sur l’OS. Ils sont utilisées notamment pour les export/import avec DataPump.</p>\n\n<p>Un directory appartient à l’utilisateur qui le crée, le privilège « CREATE ANY DIRECTORY » est nécessaire pour créer des directories dans une base Oracle.</p>\n\n<h3 id=\"listerlesdirectoriesprsentsdansunebaseoracle\">Lister les directories présents dans une base Oracle</h3>\n\n<p>La commande SQL ci-dessous liste tous les directories créés dans la base de données à laquelle on est connecté.</p>\n\n<p>select * from dba_directories ;</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-10-10-35.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-10-10-35.png\" alt=\"image2014-4-4 10-10-35\" title=\"\" /></a></p>\n\n<p>Dans cet exemple, on voit que le directory qui s’appelle « DATA<em>PUMP</em>DIR » pointe vers le dossier UNIX/Linux « /data/oracle/admin/TFTI1/dpdump ».</p>\n\n<p>A l’intérieur de la base de » données, toutes opérations réalisées en utilisant le dossier système « /data/oracle/admin/TFTI1/dpdump » doivent être faites en utilisant le directory « DATA<em>PUMP</em>DIR ».</p>\n\n<h3 id=\"administrerlesdirectories\">Administrer les directories</h3>\n\n<h5 id=\"donnerledroitdecrerdesdirectoriesunutilisateur\">Donner le droit de créer des directories à un utilisateur</h5>\n\n<p>grant create any directory to <username> ;</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-10-33-58.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-10-33-58.png\" alt=\"image2014-4-4 10-33-58\" title=\"\" /></a></p>\n\n<p>L’utilisateur « scott » peut maintenant crée des directories.</p>\n\n<h5 id=\"crerundirectory\">Créer un directory</h5>\n\n<p>La création d’un directory est faite par la commande SQL suivante :</p>\n\n<p>create directory <DIRECTORY_NAME> as '/path/to/system/directory' ;</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-10-34-47.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-10-34-47.png\" alt=\"image2014-4-4 10-34-47\" title=\"\" /></a></p>\n\n<p>L’utilisateur « scott » dispose maintenant d’un directory « DATAPUMP » qui pointe vers le dossier système « /data/oracle/admin/TFTI1/dpdump ».</p>","image":"https://techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-16T09:57:50.000Z","created_by":1,"updated_at":"2014-11-20T16:51:36.000Z","updated_by":1,"published_at":"2014-10-16T09:57:50.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":34,"uuid":"cadeb41c-9b07-4ebb-b329-82a25ff1d124","title":"[Oracle] Gérer les utilisateurs","slug":"oracle-gerer-les-utilisateurs","markdown":"\nUn utilisateur Oracle est un schéma Oracle, c’est un login associé à un mot de passe. Ce compte peut contenir des objets ou utiliser les objets d’autres utilisateurs s’il en a le droit.  \n  \n  \n\n### Lister les utilisateurs d’une base Oracle\n\nCeci peut être fait via une requête SQL très simple :\n\nselect username from dba_users ;\n\n[![image2014-4-4 13-36-50](https://techan.fr/images/2014/10/image2014-4-4-13-36-50.png)](https://techan.fr/images/2014/10/image2014-4-4-13-36-50.png)\n\n<span style=\"text-decoration: underline;\">**Attention :**</span> Ceci liste <span style=\"text-decoration: underline;\">**tous**</span> les utilisateurs présents dans la base, même les utilisateurs systèmes d’Oracle.\n\n \n\n### Créer un utilisateur\n\nLa requête suivante permet de créer un utilisateur dans Oracle.\n\ncreate user <USERNAME> identified by <PASSWORD> ;\n\n[![image2014-4-4 13-40-28](https://techan.fr/images/2014/10/image2014-4-4-13-40-28.png)](https://techan.fr/images/2014/10/image2014-4-4-13-40-28.png)\n\nCeci va créer l’utilisateur « izual » avec le mot de passe « izualpass ».\n\n<span style=\"text-decoration: underline;\">**Attention :**</span>\n\n- Pour les versions 10gR2 et antérieures, les mots de passe **ne sont pas case sensitive**.\n- Pour les versions 11gR1 et suivante, les mots de passe **sont case sensitive**.\n\n \n\n##### Donner quelques droits basiques à l’utilisateur\n\nPar défaut, un utilisateur Oracle ne peut rien faire, même pas se connecter à la base.\n\nLes privilèges basique a donner sont :\n\n- **connect **: Permet à l’utilisateur de se connecter à la base.\n- **resource** : Permet à l’utilisateur d’utiliser de l’espace dans son tablespace.\n\n \n\nDonner ces privilèges se fait via cette requête SQL :\n\ngrant connect, resource to <USERNAME> ;\n\n[![image2014-4-4 13-49-44](https://techan.fr/images/2014/10/image2014-4-4-13-49-44.png)](https://techan.fr/images/2014/10/image2014-4-4-13-49-44.png)\n\nA partir de maintenant, l’utilisateur « izual » peut se connecter à la base et créer des objets.\n\n \n\n### Modifier un utilisateur Oracle\n\n##### Mot de passe\n\n[![image2014-4-4 13-53-9](https://techan.fr/images/2014/10/image2014-4-4-13-53-9.png)](https://techan.fr/images/2014/10/image2014-4-4-13-53-9.png)\n\nLe mot de passe du compte « izual » est maintenant « izualnewpass ».\n\n \n\n##### Changer le tablespace par défaut\n\nLe tablepsace par défaut, est l’endroit ou sont stockés les objets les objets si l’on ne spécifie pas un tablespace en particulier.\n\nPar défaut, le tablepspace par défaut est « USERS ».\n\n[![image2014-4-4 13-54-51](https://techan.fr/images/2014/10/image2014-4-4-13-54-51.png)](https://techan.fr/images/2014/10/image2014-4-4-13-54-51.png)\n\nOn peut changer ce default tablepsace en utilisant la commande suivante.\n\nalter user <USERNAME> default tablespace EXAMPLE ;\n\n \n\n[![image2014-4-4 14-1-0](https://techan.fr/images/2014/10/image2014-4-4-14-1-0.png)](https://techan.fr/images/2014/10/image2014-4-4-14-1-0.png)\n\nLe tablespace par défaut est maintenant « EXAMPLE ».\n\n \n\n### Vérouiller et dévérouiller des comptes\n\nVerrouiller des compte peut être utile si l’on souhaite empêcher des applications ou des utilisateurs de se connecter sur une base Oracle.\n\n \n\n##### Verrouiller un compte\n\nLa commande suivante permet de verrouiller un compte :\n\nalter user <USERNAME> account lock ;\n\n[![image2014-4-4 14-3-37](https://techan.fr/images/2014/10/image2014-4-4-14-3-37.png)](https://techan.fr/images/2014/10/image2014-4-4-14-3-37.png)\n\nLe compte « izual » est maintenant verrouillé, personne ne peux plus se connecter à la base en l’utilisant.  \n[![image2014-4-4 14-4-33](https://techan.fr/images/2014/10/image2014-4-4-14-4-33.png)](https://techan.fr/images/2014/10/image2014-4-4-14-4-33.png)\n\n \n\n##### Déverrouiller un compte\n\nVoici la requête qui permet de déverrouiller un compte :\n\nalter user <USERNAME> account unlock ;\n\n[![image2014-4-4 14-5-37](https://techan.fr/images/2014/10/image2014-4-4-14-5-37.png)](https://techan.fr/images/2014/10/image2014-4-4-14-5-37.png)\n\nOn peut de nouveau se connecter avec le compte « izual ».\n\n[![image2014-4-4 14-5-51](https://techan.fr/images/2014/10/image2014-4-4-14-5-51.png)](https://techan.fr/images/2014/10/image2014-4-4-14-5-51.png)\n\n \n\n### Sauvegarder le mot de passe d’un utilisateur\n\nDans Oracle, on ne peut accéder au mot de passe en clair, on peut seulement récupérer le hashage des mots de passe.\n\nCette manipulation est intéressante si l’on souhaite recréer un compte avec le même mot de passe qu’un autre mais sans le connaitre.\n\n \n\n##### Oracle 10gR2 et antérieur\n\nOn peut utiliser cette requête pour récupérer le hashage du mot de passe :\n\nSQL> select username, password from dba_users where username='<USERNAME>' ;\n\n \n\n##### Oracle 11gR1 et supérieur\n\nA partir de la version 11gR1, Oracle a modifié sa stratégie de stockage des mots de passe. Ils ne sont plus accessible dans la vue dba_users.\n\nIl faut maintenant utiliser la méthode suivante pour récupérer les mots de passe.\n\nSQL> select dbms_metadata.get_ddl('USER','<USERNAME>') from dual ;\n\n \n\n**<span style=\"text-decoration: underline;\">Note :</span>** Il ne faut pas oublier le « set long 999999 » qui permet d’avoir l’affichage complet, non tronqué de la sortie de cette commande.\n\n[![image2014-4-7 11-19-7](https://techan.fr/images/2014/10/image2014-4-7-11-19-7.png)](https://techan.fr/images/2014/10/image2014-4-7-11-19-7.png)\n\n \n\n### Créer un utilisateur en utilisant le hashage du mot de passe\n\nSi vous avez récupérer un hash de mot de passe et que vous souhaitez remettre ce mot de passe à un utilisateur, voici la marche à suivre :\n\nalter user <USERNAME> identified by values '<PASSWORD HASH VALUE>' ;\n\n \n\n[![image2014-4-7 11-22-9](https://techan.fr/images/2014/10/image2014-4-7-11-22-9.png)](https://techan.fr/images/2014/10/image2014-4-7-11-22-9.png)\n\n\n","html":"<p>Un utilisateur Oracle est un schéma Oracle, c’est un login associé à un mot de passe. Ce compte peut contenir des objets ou utiliser les objets d’autres utilisateurs s’il en a le droit.  </p>\n\n<h3 id=\"listerlesutilisateursdunebaseoracle\">Lister les utilisateurs d’une base Oracle</h3>\n\n<p>Ceci peut être fait via une requête SQL très simple :</p>\n\n<p>select username from dba_users ;</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-13-36-50.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-13-36-50.png\" alt=\"image2014-4-4 13-36-50\" title=\"\" /></a></p>\n\n<p><span style=\"text-decoration: underline;\"><strong>Attention :</strong></span> Ceci liste <span style=\"text-decoration: underline;\"><strong>tous</strong></span> les utilisateurs présents dans la base, même les utilisateurs systèmes d’Oracle.</p>\n\n<h3 id=\"crerunutilisateur\">Créer un utilisateur</h3>\n\n<p>La requête suivante permet de créer un utilisateur dans Oracle.</p>\n\n<p>create user <USERNAME> identified by <PASSWORD> ;</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-13-40-28.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-13-40-28.png\" alt=\"image2014-4-4 13-40-28\" title=\"\" /></a></p>\n\n<p>Ceci va créer l’utilisateur « izual » avec le mot de passe « izualpass ».</p>\n\n<p><span style=\"text-decoration: underline;\"><strong>Attention :</strong></span></p>\n\n<ul>\n<li>Pour les versions 10gR2 et antérieures, les mots de passe <strong>ne sont pas case sensitive</strong>.</li>\n<li><p>Pour les versions 11gR1 et suivante, les mots de passe <strong>sont case sensitive</strong>.</p></li>\n</ul>\n\n<h5 id=\"donnerquelquesdroitsbasiqueslutilisateur\">Donner quelques droits basiques à l’utilisateur</h5>\n\n<p>Par défaut, un utilisateur Oracle ne peut rien faire, même pas se connecter à la base.</p>\n\n<p>Les privilèges basique a donner sont :</p>\n\n<ul>\n<li><em>*connect *</em>: Permet à l’utilisateur de se connecter à la base.</li>\n<li><p><strong>resource</strong> : Permet à l’utilisateur d’utiliser de l’espace dans son tablespace.</p></li>\n</ul>\n\n<p>Donner ces privilèges se fait via cette requête SQL :</p>\n\n<p>grant connect, resource to <USERNAME> ;</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-13-49-44.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-13-49-44.png\" alt=\"image2014-4-4 13-49-44\" title=\"\" /></a></p>\n\n<p>A partir de maintenant, l’utilisateur « izual » peut se connecter à la base et créer des objets.</p>\n\n<h3 id=\"modifierunutilisateuroracle\">Modifier un utilisateur Oracle</h3>\n\n<h5 id=\"motdepasse\">Mot de passe</h5>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-13-53-9.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-13-53-9.png\" alt=\"image2014-4-4 13-53-9\" title=\"\" /></a></p>\n\n<p>Le mot de passe du compte « izual » est maintenant « izualnewpass ».</p>\n\n<h5 id=\"changerletablespacepardfaut\">Changer le tablespace par défaut</h5>\n\n<p>Le tablepsace par défaut, est l’endroit ou sont stockés les objets les objets si l’on ne spécifie pas un tablespace en particulier.</p>\n\n<p>Par défaut, le tablepspace par défaut est « USERS ».</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-13-54-51.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-13-54-51.png\" alt=\"image2014-4-4 13-54-51\" title=\"\" /></a></p>\n\n<p>On peut changer ce default tablepsace en utilisant la commande suivante.</p>\n\n<p>alter user <USERNAME> default tablespace EXAMPLE ;</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-14-1-0.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-14-1-0.png\" alt=\"image2014-4-4 14-1-0\" title=\"\" /></a></p>\n\n<p>Le tablespace par défaut est maintenant « EXAMPLE ».</p>\n\n<h3 id=\"vrouilleretdvrouillerdescomptes\">Vérouiller et dévérouiller des comptes</h3>\n\n<p>Verrouiller des compte peut être utile si l’on souhaite empêcher des applications ou des utilisateurs de se connecter sur une base Oracle.</p>\n\n<h5 id=\"verrouilleruncompte\">Verrouiller un compte</h5>\n\n<p>La commande suivante permet de verrouiller un compte :</p>\n\n<p>alter user <USERNAME> account lock ;</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-14-3-37.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-14-3-37.png\" alt=\"image2014-4-4 14-3-37\" title=\"\" /></a></p>\n\n<p>Le compte « izual » est maintenant verrouillé, personne ne peux plus se connecter à la base en l’utilisant. <br />\n<a href=\"https://techan.fr/images/2014/10/image2014-4-4-14-4-33.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-14-4-33.png\" alt=\"image2014-4-4 14-4-33\" title=\"\" /></a></p>\n\n<h5 id=\"dverrouilleruncompte\">Déverrouiller un compte</h5>\n\n<p>Voici la requête qui permet de déverrouiller un compte :</p>\n\n<p>alter user <USERNAME> account unlock ;</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-14-5-37.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-14-5-37.png\" alt=\"image2014-4-4 14-5-37\" title=\"\" /></a></p>\n\n<p>On peut de nouveau se connecter avec le compte « izual ».</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-14-5-51.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-14-5-51.png\" alt=\"image2014-4-4 14-5-51\" title=\"\" /></a></p>\n\n<h3 id=\"sauvegarderlemotdepassedunutilisateur\">Sauvegarder le mot de passe d’un utilisateur</h3>\n\n<p>Dans Oracle, on ne peut accéder au mot de passe en clair, on peut seulement récupérer le hashage des mots de passe.</p>\n\n<p>Cette manipulation est intéressante si l’on souhaite recréer un compte avec le même mot de passe qu’un autre mais sans le connaitre.</p>\n\n<h5 id=\"oracle10gr2etantrieur\">Oracle 10gR2 et antérieur</h5>\n\n<p>On peut utiliser cette requête pour récupérer le hashage du mot de passe :</p>\n\n<p>SQL> select username, password from dba_users where username='<USERNAME>' ;</p>\n\n<h5 id=\"oracle11gr1etsuprieur\">Oracle 11gR1 et supérieur</h5>\n\n<p>A partir de la version 11gR1, Oracle a modifié sa stratégie de stockage des mots de passe. Ils ne sont plus accessible dans la vue dba_users.</p>\n\n<p>Il faut maintenant utiliser la méthode suivante pour récupérer les mots de passe.</p>\n\n<p>SQL> select dbms<em>metadata.get</em>ddl('USER','<USERNAME>') from dual ;</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Note :</span></strong> Il ne faut pas oublier le « set long 999999 » qui permet d’avoir l’affichage complet, non tronqué de la sortie de cette commande.</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-7-11-19-7.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-7-11-19-7.png\" alt=\"image2014-4-7 11-19-7\" title=\"\" /></a></p>\n\n<h3 id=\"crerunutilisateurenutilisantlehashagedumotdepasse\">Créer un utilisateur en utilisant le hashage du mot de passe</h3>\n\n<p>Si vous avez récupérer un hash de mot de passe et que vous souhaitez remettre ce mot de passe à un utilisateur, voici la marche à suivre :</p>\n\n<p>alter user <USERNAME> identified by values '<PASSWORD HASH VALUE>' ;</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-7-11-22-9.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-7-11-22-9.png\" alt=\"image2014-4-7 11-22-9\" title=\"\" /></a></p>","image":"https://techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-16T12:08:30.000Z","created_by":1,"updated_at":"2014-11-20T16:52:26.000Z","updated_by":1,"published_at":"2014-10-16T12:08:30.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":35,"uuid":"c73b6e0c-4427-49f5-84c8-01c2d3e0c0d3","title":"[Oracle] Les étapes d'arrêt et de démarrage.","slug":"oracle-les-etapes-darret-et-de-demarrage","markdown":"\nQuand une base de données Oracle démarre ou s’arrête, elle passe par différentes étapes successives.  \n On peut démarrer une base Oracle à plusieurs de ces étapes pour réaliser des actions spécifiques.\n\n### Les étapes de démarrage\n\n##### nomount\n\nC’est la première étape, Oracle lit le fichier SPFILE (Server Parameter File) ou le PFILE (Parameter File) pour connaître les paramètres qui ont été positionnés par les DBAs.\n\nUne fois qu’Oracle a pris connaissance de ces paramètres, comme par exemple la quantité de mémoire a allouer, il se réserve sa mémoire et démarre ses processus de background.\n\nC’est le démarrage de l’instance.\n\n##### mount\n\nDans cet état, l’instance a déjà été démarrée.\n\nOracle va lire ses « control files », ces fichiers contiennent des informations cruciales sur la base de données, comme la localisation des fichiers de données.\n\nLes « data files » ne sont pas ouverts à pendant cette étape.\n\n<span style=\"text-decoration: underline;\">**Note :**</span> Le mode « mount » est beaucoup utilisé pour restaurer la base ou pour faire des recovers avec RMAN.\n\n##### \n\n##### open\n\nC’est le dernier stade du démarrage de la base. Oracle ouvre ses data files qui ont été identifiés pendant l’étape « mount ».\n\nOracle vérife que tous ses fichiers sont consistants et ouvre la base de données aux utilisateurs.\n\n<span style=\"text-decoration: underline;\">**Note :**</span> Le mode « open » est le mode de production, les utilisateurs et les applications peuvent se connecter à la base et faire leurs opérations.\n\n### Les étapes d’arrêt\n\nPendant l’arrêt, Oracle passe successivement du mode ouver au mode mount, du mode mount au mode nomount et du mode nomount au mode closed, sauf si l’option « aboter » a été utilisée.\n\n### Démarrer une base de données\n\nIl est possible de démarrer une base dans l’un des trois états décrit plus haut.\n\nVoici les différentes commandes pour faire ça :\n\nSQL> startup nomount ; --starts DB in nomount mode SQL> startup mount ; --starts DB in mount mode SQL> startup ; --start DB in open mode\n\nSi vous avez ouvert la base dans une des étapes intermédiaires avant le open, vous pourrez pousser la base dans les étapes suivantes mais vous ne pourrez pas redescendre dans les étapes plus basses.\n\nPour faire cela, vous devrez éteindre et redémarrer la base dans un mode plus bas.\n\nVoici les commandes pour passer la base dans un mode d’ouverture plus haut :\n\nSQL> alter database mount ; --Switch a DB in nomount mode to mount mode SQL> alter database open ; --Switch a DB in nomount or mount mode to open mode\n\n \n\n### Options de démarrage spéciales\n\n##### Restrict\n\nL’option restrict est utilisée pour éviter toute connections non privilégiée à la base. La base est techniquement « ouverte » mais seuls les DBAs peuvent s’y connecter.\n\nSQL> startup restrict ; --Start a DB in restrict mode\n\n##### Upgrade\n\nLe mode upgrade porte bien son nom, il est utilisé pour passer des script de mise à jour d’Oracle (patch). C’est un mode restrict spécial qui permet de démarrer une base avec des binaires plus récents que ceux utiliser pour la créer.\n\nCette option est utilisée pour upgrader des bases de la 10gR2 vers la 11G par exemple.\n\nSQL> startup upgrade ; --Start a DB in upgrade mode\n\n \n\n### Éteindre une base\n\nLa commande pour arrêter une bases est la suivante :\n\nSQL> shutdown ; --Shut a database down\n\nVous trouverez ci-dessous les différentes options que l’on peut ajouter à cette commande.\n\n##### IMMEDIATE\n\nCauses :\n\n- Les requêtes des clients en cours d’exécution sont autorisées a continuer\n- Les transactions non commitées sont rollbackées\n- Tous les utilisateurs sont déconnectés\n\nSQL> shutdown immediate ; --Shut a database down\n\nC’est le mode d’arrêt le plus fréquent, il laisse la base dans un état consistant.\n\n##### TRANSACTIONAL\n\nCauses :\n\n- Les clients qui font des transactions sont autorisés a les terminer.\n- Les clients ne peuvent plus commencer de nouvelles transactions, ceux qui tentes de commencer une nouvelle transaction sont déconnectés.\n- Une fois toutes les transactions commitées ou terminées, tout client toujours connecté est déconnecté.\n\nSQL> shutdown transactional ; --Shut a database down\n\n \n\n##### NORMAL\n\nCauses :\n\n- Pas de nouvelles connections\n- On attend que les utilisateurs se déconnectent.\n\nLe prochain démarrage ne nécessitera pas de recovery.\n\nC’est l’optiond’arrêt par défaut.\n\nSQL> shutdown normal; --Shut a database down SQL> shutdown ; --Shut a database down\n\n \n\n##### ABORT\n\nCauses :\n\n- Termine immédiatement toutes les exécutions SQL en cours\n- Les transactions non commitées ne seront pas rollbackées avant le prochain démarrage.\n- Déconnecte tous les utilisateurs.\n\nUne recovery de l’instance sera nécessaire au prochain démarrage.\n\nA utiliser avec précaution !!!\n\nSQL> shutdown abort ; --Abort a database instance\n\nCette option va forcer le kill du processus principal de l’instance Oracle. Cela laisse la base dans un état totalement incohérent !!!\n\n<span style=\"text-decoration: underline; color: #ff0000;\">**Important !!!**</span>  \n Après un shutdown abort, vous devrez faire un startup/shutdown immediate/startup afin de permettre à Oracle de retrouver sa cohérence.\n\nCe cycle force Oracle a néttoyer les data files pour qu’ils soient cohérents.\n\nSQL> shutdown abort ; --Abort a database instance SQL> startup ; SQL> shutdown immediate ; SQL> startup ;\n\n \n\n\n","html":"<p>Quand une base de données Oracle démarre ou s’arrête, elle passe par différentes étapes successives. <br />\n On peut démarrer une base Oracle à plusieurs de ces étapes pour réaliser des actions spécifiques.</p>\n\n<h3 id=\"lestapesdedmarrage\">Les étapes de démarrage</h3>\n\n<h5 id=\"nomount\">nomount</h5>\n\n<p>C’est la première étape, Oracle lit le fichier SPFILE (Server Parameter File) ou le PFILE (Parameter File) pour connaître les paramètres qui ont été positionnés par les DBAs.</p>\n\n<p>Une fois qu’Oracle a pris connaissance de ces paramètres, comme par exemple la quantité de mémoire a allouer, il se réserve sa mémoire et démarre ses processus de background.</p>\n\n<p>C’est le démarrage de l’instance.</p>\n\n<h5 id=\"mount\">mount</h5>\n\n<p>Dans cet état, l’instance a déjà été démarrée.</p>\n\n<p>Oracle va lire ses « control files », ces fichiers contiennent des informations cruciales sur la base de données, comme la localisation des fichiers de données.</p>\n\n<p>Les « data files » ne sont pas ouverts à pendant cette étape.</p>\n\n<p><span style=\"text-decoration: underline;\"><strong>Note :</strong></span> Le mode « mount » est beaucoup utilisé pour restaurer la base ou pour faire des recovers avec RMAN.</p>\n\n<h5 id=\"\"> </h5>\n\n<h5 id=\"open\">open</h5>\n\n<p>C’est le dernier stade du démarrage de la base. Oracle ouvre ses data files qui ont été identifiés pendant l’étape « mount ».</p>\n\n<p>Oracle vérife que tous ses fichiers sont consistants et ouvre la base de données aux utilisateurs.</p>\n\n<p><span style=\"text-decoration: underline;\"><strong>Note :</strong></span> Le mode « open » est le mode de production, les utilisateurs et les applications peuvent se connecter à la base et faire leurs opérations.</p>\n\n<h3 id=\"lestapesdarrt\">Les étapes d’arrêt</h3>\n\n<p>Pendant l’arrêt, Oracle passe successivement du mode ouver au mode mount, du mode mount au mode nomount et du mode nomount au mode closed, sauf si l’option « aboter » a été utilisée.</p>\n\n<h3 id=\"dmarrerunebasededonnes\">Démarrer une base de données</h3>\n\n<p>Il est possible de démarrer une base dans l’un des trois états décrit plus haut.</p>\n\n<p>Voici les différentes commandes pour faire ça :</p>\n\n<p>SQL> startup nomount ; --starts DB in nomount mode SQL> startup mount ; --starts DB in mount mode SQL> startup ; --start DB in open mode</p>\n\n<p>Si vous avez ouvert la base dans une des étapes intermédiaires avant le open, vous pourrez pousser la base dans les étapes suivantes mais vous ne pourrez pas redescendre dans les étapes plus basses.</p>\n\n<p>Pour faire cela, vous devrez éteindre et redémarrer la base dans un mode plus bas.</p>\n\n<p>Voici les commandes pour passer la base dans un mode d’ouverture plus haut :</p>\n\n<p>SQL> alter database mount ; --Switch a DB in nomount mode to mount mode SQL> alter database open ; --Switch a DB in nomount or mount mode to open mode</p>\n\n<h3 id=\"optionsdedmarragespciales\">Options de démarrage spéciales</h3>\n\n<h5 id=\"restrict\">Restrict</h5>\n\n<p>L’option restrict est utilisée pour éviter toute connections non privilégiée à la base. La base est techniquement « ouverte » mais seuls les DBAs peuvent s’y connecter.</p>\n\n<p>SQL> startup restrict ; --Start a DB in restrict mode</p>\n\n<h5 id=\"upgrade\">Upgrade</h5>\n\n<p>Le mode upgrade porte bien son nom, il est utilisé pour passer des script de mise à jour d’Oracle (patch). C’est un mode restrict spécial qui permet de démarrer une base avec des binaires plus récents que ceux utiliser pour la créer.</p>\n\n<p>Cette option est utilisée pour upgrader des bases de la 10gR2 vers la 11G par exemple.</p>\n\n<p>SQL> startup upgrade ; --Start a DB in upgrade mode</p>\n\n<h3 id=\"teindreunebase\">Éteindre une base</h3>\n\n<p>La commande pour arrêter une bases est la suivante :</p>\n\n<p>SQL> shutdown ; --Shut a database down</p>\n\n<p>Vous trouverez ci-dessous les différentes options que l’on peut ajouter à cette commande.</p>\n\n<h5 id=\"immediate\">IMMEDIATE</h5>\n\n<p>Causes :</p>\n\n<ul>\n<li>Les requêtes des clients en cours d’exécution sont autorisées a continuer</li>\n<li>Les transactions non commitées sont rollbackées</li>\n<li>Tous les utilisateurs sont déconnectés</li>\n</ul>\n\n<p>SQL> shutdown immediate ; --Shut a database down</p>\n\n<p>C’est le mode d’arrêt le plus fréquent, il laisse la base dans un état consistant.</p>\n\n<h5 id=\"transactional\">TRANSACTIONAL</h5>\n\n<p>Causes :</p>\n\n<ul>\n<li>Les clients qui font des transactions sont autorisés a les terminer.</li>\n<li>Les clients ne peuvent plus commencer de nouvelles transactions, ceux qui tentes de commencer une nouvelle transaction sont déconnectés.</li>\n<li>Une fois toutes les transactions commitées ou terminées, tout client toujours connecté est déconnecté.</li>\n</ul>\n\n<p>SQL> shutdown transactional ; --Shut a database down</p>\n\n<h5 id=\"normal\">NORMAL</h5>\n\n<p>Causes :</p>\n\n<ul>\n<li>Pas de nouvelles connections</li>\n<li>On attend que les utilisateurs se déconnectent.</li>\n</ul>\n\n<p>Le prochain démarrage ne nécessitera pas de recovery.</p>\n\n<p>C’est l’optiond’arrêt par défaut.</p>\n\n<p>SQL> shutdown normal; --Shut a database down SQL> shutdown ; --Shut a database down</p>\n\n<h5 id=\"abort\">ABORT</h5>\n\n<p>Causes :</p>\n\n<ul>\n<li>Termine immédiatement toutes les exécutions SQL en cours</li>\n<li>Les transactions non commitées ne seront pas rollbackées avant le prochain démarrage.</li>\n<li>Déconnecte tous les utilisateurs.</li>\n</ul>\n\n<p>Une recovery de l’instance sera nécessaire au prochain démarrage.</p>\n\n<p>A utiliser avec précaution !!!</p>\n\n<p>SQL> shutdown abort ; --Abort a database instance</p>\n\n<p>Cette option va forcer le kill du processus principal de l’instance Oracle. Cela laisse la base dans un état totalement incohérent !!!</p>\n\n<p><span style=\"text-decoration: underline; color: #ff0000;\"><strong>Important !!!</strong></span> <br />\n Après un shutdown abort, vous devrez faire un startup/shutdown immediate/startup afin de permettre à Oracle de retrouver sa cohérence.</p>\n\n<p>Ce cycle force Oracle a néttoyer les data files pour qu’ils soient cohérents.</p>\n\n<p>SQL> shutdown abort ; --Abort a database instance SQL> startup ; SQL> shutdown immediate ; SQL> startup ;</p>","image":"https://techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-16T15:33:21.000Z","created_by":1,"updated_at":"2014-11-20T16:53:15.000Z","updated_by":1,"published_at":"2014-10-16T15:33:21.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":36,"uuid":"7bfbdf00-d13f-410d-a295-9e3b1a0ce48d","title":"Mise en garde","slug":"disclaimer","markdown":"\n\n## A propos du contenu de ce site\n\nL’ensemble des publications présentes sur ce site n’engagent la responsabilité de l’auteur ni celle du site Tech AN.\n\nCe sont des informations données gracieusement dans le but d’aider les internautes intéressés. En aucun cas les éventuelles erreurs présentes dans ces pages ou articles ne pourront être retenues contre l’auteur ou le site en cas de dommage sur un système quelqu’il soit.\n\nL’auteur rappelle que les procédures et astuces qu’il fournit doivent être testées sur des systèmes non critiques avant toute action en production.\n\n \n\n\n## A propos de l’utilisation des cookies\n\nCe site utilise des cookies afin de mieux comprendre votre utilisation des services qu’il propose. L’amélioration des contenus proposés et de votre expérience utilisateurs dépend en grande partie de ces cookies. Google en tant que vendeur tiers utilise également des cookies sur ce site afin de proposer des publicités ciblées. Ce procédé assure la pérennité du site en aidant au paiement de son hébergement, vous pouvez vous en désengager sur [ce site](http://www.google.com/policies/technologies/ads/).\n\nVous pouvez à tout moment supprimer les cookies de votre terminal :\n\n<iframe allowfullscreen=\"\" frameborder=\"0\" height=\"281\" src=\"https://www.youtube.com/embed/Ij9EkAQzVvM?feature=oembed\" width=\"500\"></iframe>\n\n \n\nBonne navigation !\n\n\n","html":"<h2 id=\"aproposducontenudecesite\">A propos du contenu de ce site</h2>\n\n<p>L’ensemble des publications présentes sur ce site n’engagent la responsabilité de l’auteur ni celle du site Tech AN.</p>\n\n<p>Ce sont des informations données gracieusement dans le but d’aider les internautes intéressés. En aucun cas les éventuelles erreurs présentes dans ces pages ou articles ne pourront être retenues contre l’auteur ou le site en cas de dommage sur un système quelqu’il soit.</p>\n\n<p>L’auteur rappelle que les procédures et astuces qu’il fournit doivent être testées sur des systèmes non critiques avant toute action en production.</p>\n\n<h2 id=\"aproposdelutilisationdescookies\">A propos de l’utilisation des cookies</h2>\n\n<p>Ce site utilise des cookies afin de mieux comprendre votre utilisation des services qu’il propose. L’amélioration des contenus proposés et de votre expérience utilisateurs dépend en grande partie de ces cookies. Google en tant que vendeur tiers utilise également des cookies sur ce site afin de proposer des publicités ciblées. Ce procédé assure la pérennité du site en aidant au paiement de son hébergement, vous pouvez vous en désengager sur <a href=\"http://www.google.com/policies/technologies/ads/\">ce site</a>.</p>\n\n<p>Vous pouvez à tout moment supprimer les cookies de votre terminal :</p>\n\n<iframe allowfullscreen=\"\" frameborder=\"0\" height=\"281\" src=\"https://www.youtube.com/embed/Ij9EkAQzVvM?feature=oembed\" width=\"500\"></iframe>\n\n<p>Bonne navigation !</p>","image":null,"featured":0,"page":1,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-17T07:40:05.000Z","created_by":1,"updated_at":"2015-06-27T10:29:54.000Z","updated_by":1,"published_at":"2014-10-17T07:40:05.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":37,"uuid":"4afacc29-5332-4fe5-9374-b00becdb8fc6","title":"[Linux] Transformer votre Linux en Time Capsule","slug":"linux-transformer-votre-linux-en-time-capsule","markdown":"\nSi vous disposez d’un Mac que vous voulez sauvegarder sur le réseau, vous avez le choix d’acheter un boitier Apple proposant Time Machine. Mais cette solution peut revenir assez cher. Par contre, si vous disposez d’un Linux avec un peu (beaucoup) de disque disponible, vous pouvez faire croire à votre Mac qu’il est une Time Capsule.  \n  \n  \n\nVoici la marche a suivre pour ce faire.\n\n \n\n### Sur le Linux\n\n##### Installer et configurer netatalk\n\nInstallez netatalk.\n\naptitude install netatalk\n\n \n\nÉditez le fichier de configuration de NetATalk.\n\nvi /etc/default/netatalk\n\n \n\nSon contenu doit ressembler à cela, modulo le nom du serveur.\n\ncat /etc/default/netatalk | grep -ve \"^#\" -e \"^$\" ATALK_NAME=Baal ATALK_UNIX_CHARSET='LOCALE' ATALK_MAC_CHARSET='MAC_ROMAN' export ATALK_UNIX_CHARSET export ATALK_MAC_CHARSET CNID_METAD_RUN=yes AFPD_RUN=yes ATALKD_RUN=no PAPD_RUN=no TIMELORD_RUN=no A2BOOT_RUN=no\n\n \n\nÉditez ensuite les partages proposés via AppleTalk.\n\nvi /etc/netatalk/AppleVolumes.default\n\n \n\nSon contenu doit ressemble à ceci :\n\ncat /etc/netatalk/AppleVolumes.default | grep -ve \"^#\" -e \"^$\" :DEFAULT: options:upriv,usedots ~/ \"Home Directory\" /TimeMachine \"Time Capsule\" allow:@raphael options:usedots,upriv,tm\n\nDans mon cas, le dossier qui va être utilisé pour les sauvegardes Time Machine est /TimeMachine et l’utilisateur autorisé est « raphael ». Il s’agit d’un utilisateur sur le Linux, pas d’un utilisateur sur le Mac.\n\n \n\nOn redémarrer netatalk.\n\nservice netatalk restart Restarting Netatalk Daemons (this will take a while)Stopping Netatalk Daemons: afpd cnid_metad papd timelord atalkd. ..Starting Netatalk services (this will take a while): cnid_metad afpd. done.\n\n##### \n\n##### Installer et configurer avahi\n\nAvahi est l’implémentation de Bonjour sur Linux, il faut l’installer avec la commande suivante.\n\naptitude install avahi-daemon libnss-mdns\n\n \n\nEnsuite, il nous faut éditer quelques fichiers de configuration.\n\nvi /etc/nsswitch.conf\n\nLa ligne :\n\nhosts: files mdns4_minimal [NOTFOUND=return] dns\n\nDoit devenir :\n\nhosts: files mdns4_minimal [NOTFOUND=return] dns mdns4 mdns\n\nIl faut créer un fichier de configuration pour qu’avahi propose afp comme service.\n\nvi /etc/avahi/services/afpd.service\n\nAjouter ce contenu au fichier :\n\n<?xml version=\"1.0\" standalone='no'?><!--*-nxml-*-->  <service-group> <name replace-wildcards=\"yes\">%h</name> <service> <type>_afpovertcp._tcp</type> <port>548</port> </service> <service> <type>_device-info._tcp</type> <port>0</port> <txt-record>model=Xserve</txt-record> </service> </service-group>\n\n### \n\nOn redémarre avahi :\n\nservice avahi-daemon restart avahi-daemon stop/waiting avahi-daemon start/running, process 23251\n\nTout est bon sur notre Linux ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n### Sur Le Mac\n\nIl faut ouvrir le terminal, et taper la commande suivante :\n\ndefaults write com.apple.systempreferences TMShowUnsupportedNetworkVolumes 1\n\n \n\nEnsuite, tout se fait graphiquement !\n\nOuvrez le menu Time Machine et laissez vous guider.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_258\" style=\"width: 310px\">[![time_machine_setup_1](https://techan.fr/images/2014/10/time_machine_setup_1-300x173.png)](https://techan.fr/images/2014/10/time_machine_setup_1.png)Cliquer sur « Choisir un disque… »\n\n</div> \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_259\" style=\"width: 310px\">[![Cliquer sur le disque réseau nouvellement créé. Dans mon cas : \"Time Capsule sur Baal\".](https://techan.fr/images/2014/10/time_machine_setup_2-300x172.png)](https://techan.fr/images/2014/10/time_machine_setup_2.png)Cliquer sur le disque réseau nouvellement créé.  \nDans mon cas : « Time Capsule sur Baal ».\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_260\" style=\"width: 310px\">[![Dans la fenêtre d'authentification, il faut renseigner le compte Linux utilisé dans le fichier AppleVolumes.default et son mot de passe.](https://techan.fr/images/2014/10/time_machine_setup_3-300x171.png)](https://techan.fr/images/2014/10/time_machine_setup_3.png)Dans la fenêtre d’authentification, il faut renseigner le compte Linux utilisé dans le fichier AppleVolumes.default et son mot de passe.\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_261\" style=\"width: 310px\">[![Et voilà ! Vous êtes paré !](https://techan.fr/images/2014/10/time_machine_setup_4-300x172.png)](https://techan.fr/images/2014/10/time_machine_setup_4.png)Et voilà ! Vous êtes paré !\n\n</div> \n\n\n","html":"<p>Si vous disposez d’un Mac que vous voulez sauvegarder sur le réseau, vous avez le choix d’acheter un boitier Apple proposant Time Machine. Mais cette solution peut revenir assez cher. Par contre, si vous disposez d’un Linux avec un peu (beaucoup) de disque disponible, vous pouvez faire croire à votre Mac qu’il est une Time Capsule.  </p>\n\n<p>Voici la marche a suivre pour ce faire.</p>\n\n<h3 id=\"surlelinux\">Sur le Linux</h3>\n\n<h5 id=\"installeretconfigurernetatalk\">Installer et configurer netatalk</h5>\n\n<p>Installez netatalk.</p>\n\n<p>aptitude install netatalk</p>\n\n<p>Éditez le fichier de configuration de NetATalk.</p>\n\n<p>vi /etc/default/netatalk</p>\n\n<p>Son contenu doit ressembler à cela, modulo le nom du serveur.</p>\n\n<p>cat /etc/default/netatalk | grep -ve \"^#\" -e \"^$\" ATALK<em>NAME=Baal ATALK</em>UNIX<em>CHARSET='LOCALE' ATALK</em>MAC<em>CHARSET='MAC</em>ROMAN' export ATALK<em>UNIX</em>CHARSET export ATALK<em>MAC</em>CHARSET CNID<em>METAD</em>RUN=yes AFPD<em>RUN=yes ATALKD</em>RUN=no PAPD<em>RUN=no TIMELORD</em>RUN=no A2BOOT_RUN=no</p>\n\n<p>Éditez ensuite les partages proposés via AppleTalk.</p>\n\n<p>vi /etc/netatalk/AppleVolumes.default</p>\n\n<p>Son contenu doit ressemble à ceci :</p>\n\n<p>cat /etc/netatalk/AppleVolumes.default | grep -ve \"^#\" -e \"^$\" :DEFAULT: options:upriv,usedots ~/ \"Home Directory\" /TimeMachine \"Time Capsule\" allow:@raphael options:usedots,upriv,tm</p>\n\n<p>Dans mon cas, le dossier qui va être utilisé pour les sauvegardes Time Machine est /TimeMachine et l’utilisateur autorisé est « raphael ». Il s’agit d’un utilisateur sur le Linux, pas d’un utilisateur sur le Mac.</p>\n\n<p>On redémarrer netatalk.</p>\n\n<p>service netatalk restart Restarting Netatalk Daemons (this will take a while)Stopping Netatalk Daemons: afpd cnid<em>metad papd timelord atalkd. ..Starting Netatalk services (this will take a while): cnid</em>metad afpd. done.</p>\n\n<h5 id=\"\"> </h5>\n\n<h5 id=\"installeretconfigureravahi\">Installer et configurer avahi</h5>\n\n<p>Avahi est l’implémentation de Bonjour sur Linux, il faut l’installer avec la commande suivante.</p>\n\n<p>aptitude install avahi-daemon libnss-mdns</p>\n\n<p>Ensuite, il nous faut éditer quelques fichiers de configuration.</p>\n\n<p>vi /etc/nsswitch.conf</p>\n\n<p>La ligne :</p>\n\n<p>hosts: files mdns4_minimal [NOTFOUND=return] dns</p>\n\n<p>Doit devenir :</p>\n\n<p>hosts: files mdns4_minimal [NOTFOUND=return] dns mdns4 mdns</p>\n\n<p>Il faut créer un fichier de configuration pour qu’avahi propose afp comme service.</p>\n\n<p>vi /etc/avahi/services/afpd.service</p>\n\n<p>Ajouter ce contenu au fichier :</p>\n\n<p><?xml version=\"1.0\" standalone='no'?><!--*-nxml-*-->  <service-group> <name replace-wildcards=\"yes\">%h</name> <service> <type><em>afpovertcp.</em>tcp</type> <port>548</port> </service> <service> <type><em>device-info.</em>tcp</type> <port>0</port> <txt-record>model=Xserve</txt-record> </service> </service-group></p>\n\n<h3 id=\"\"> </h3>\n\n<p>On redémarre avahi :</p>\n\n<p>service avahi-daemon restart avahi-daemon stop/waiting avahi-daemon start/running, process 23251</p>\n\n<p>Tout est bon sur notre Linux ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<h3 id=\"surlemac\">Sur Le Mac</h3>\n\n<p>Il faut ouvrir le terminal, et taper la commande suivante :</p>\n\n<p>defaults write com.apple.systempreferences TMShowUnsupportedNetworkVolumes 1</p>\n\n<p>Ensuite, tout se fait graphiquement !</p>\n\n<p>Ouvrez le menu Time Machine et laissez vous guider.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_258\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/10/time_machine_setup_1.png\"><img src=\"https://techan.fr/images/2014/10/time_machine_setup_1-300x173.png\" alt=\"time<em>machine</em>setup_1\" title=\"\" /></a>Cliquer sur « Choisir un disque… »</p>\n\n<p></div> </p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_259\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/10/time_machine_setup_2.png\"><img src=\"https://techan.fr/images/2014/10/time_machine_setup_2-300x172.png\" alt=\"Cliquer sur le disque réseau nouvellement créé. Dans mon cas : &quot;Time Capsule sur Baal&quot;.\" title=\"\" /></a>Cliquer sur le disque réseau nouvellement créé. <br />\nDans mon cas : « Time Capsule sur Baal ».</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_260\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/10/time_machine_setup_3.png\"><img src=\"https://techan.fr/images/2014/10/time_machine_setup_3-300x171.png\" alt=\"Dans la fenêtre d'authentification, il faut renseigner le compte Linux utilisé dans le fichier AppleVolumes.default et son mot de passe.\" title=\"\" /></a>Dans la fenêtre d’authentification, il faut renseigner le compte Linux utilisé dans le fichier AppleVolumes.default et son mot de passe.</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_261\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/10/time_machine_setup_4.png\"><img src=\"https://techan.fr/images/2014/10/time_machine_setup_4-300x172.png\" alt=\"Et voilà ! Vous êtes paré !\" title=\"\" /></a>Et voilà ! Vous êtes paré !</p>\n\n<p></div> </p>","image":"https://techan.fr/images/2014/10/tm.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-17T10:51:50.000Z","created_by":1,"updated_at":"2014-10-17T11:28:59.000Z","updated_by":1,"published_at":"2014-10-17T10:51:50.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":38,"uuid":"3b3f04f3-0503-455b-aec6-21dd8a8d3de6","title":"[FireFox] Ajoute un petit jeu dans sa page de démarrage","slug":"firefox-ajoute-un-petit-dans-sa-page-de-demarrage","markdown":"\nJ’ai été surpris de découvrir ce matin que Mozilla a mis à jour la page de démarrage de Firefox en y incluant un mini jeu ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nCeci a surement a voir avec la sortie du Humble Mozilla Bundle, le site désormais fameux propose des packs de jeux au prix que vous souhaitez. Une partie des recettes sont reversées à des œuvres de charité.  \n  \n**[EDIT]** On me souffle dans l’oreillette que le jeu proposé dans Firefox est Voxatron et que les jeux proposés dans le pack sont des jeux normalement standalone pour lesquels des versions embarquées dans le navigateur ont été créées.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_264\" style=\"width: 310px\">[![Mini jeu !](https://techan.fr/images/2014/10/Petit_jeu_firefox_0-300x205.png)](https://techan.fr/images/2014/10/Petit_jeu_firefox_0.png)Mini jeu !\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_265\" style=\"width: 310px\">[![Le deuxième niveau, on apprend a tirer ! ](https://techan.fr/images/2014/10/Petit_jeu_firefox-300x206.png)](https://techan.fr/images/2014/10/Petit_jeu_firefox.png)Le deuxième niveau, on apprend a tirer !\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_266\" style=\"width: 310px\">[![Au bout de quelques morts, on est invité a aller voir le Humble Mozilla Bundle.](https://techan.fr/images/2014/10/Petit_jeu_firefox2-300x189.png)](https://techan.fr/images/2014/10/Petit_jeu_firefox2.png)Au bout de quelques morts, on est invité a aller voir le Humble Mozilla Bundle.\n\n</div>Pour les gens intéressés, voici le contenu pack Humble Mozilla Bundle, ainsi que le lien pour y accéder. [Ça se passe par ici !](https://www.humblebundle.com/?asmjs_bundle&utm_source=Firefox&utm_medium=Snippet1b&utm_campaign=Humble%20Mozilla%20Bundle)\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_267\" style=\"width: 310px\">[![Le pack Humble Mozilla Bundle](https://techan.fr/images/2014/10/Petit_jeu_firefox_3-300x122.png)](https://techan.fr/images/2014/10/Petit_jeu_firefox_3.png)Le pack Humble Mozilla Bundle\n\n</div>\n","html":"<p>J’ai été surpris de découvrir ce matin que Mozilla a mis à jour la page de démarrage de Firefox en y incluant un mini jeu ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>Ceci a surement a voir avec la sortie du Humble Mozilla Bundle, le site désormais fameux propose des packs de jeux au prix que vous souhaitez. Une partie des recettes sont reversées à des œuvres de charité.  </p>\n\n<p><strong>[EDIT]</strong> On me souffle dans l’oreillette que le jeu proposé dans Firefox est Voxatron et que les jeux proposés dans le pack sont des jeux normalement standalone pour lesquels des versions embarquées dans le navigateur ont été créées.</p>\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_264\" style=\"width: 310px\">[![Mini jeu !](https://techan.fr/images/2014/10/Petit_jeu_firefox_0-300x205.png)](https://techan.fr/images/2014/10/Petit_jeu_firefox_0.png)Mini jeu !\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_265\" style=\"width: 310px\">[![Le deuxième niveau, on apprend a tirer ! ](https://techan.fr/images/2014/10/Petit_jeu_firefox-300x206.png)](https://techan.fr/images/2014/10/Petit_jeu_firefox.png)Le deuxième niveau, on apprend a tirer !\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_266\" style=\"width: 310px\">[![Au bout de quelques morts, on est invité a aller voir le Humble Mozilla Bundle.](https://techan.fr/images/2014/10/Petit_jeu_firefox2-300x189.png)](https://techan.fr/images/2014/10/Petit_jeu_firefox2.png)Au bout de quelques morts, on est invité a aller voir le Humble Mozilla Bundle.\n\n</div>Pour les gens intéressés, voici le contenu pack Humble Mozilla Bundle, ainsi que le lien pour y accéder. [Ça se passe par ici !](https://www.humblebundle.com/?asmjs_bundle&utm_source=Firefox&utm_medium=Snippet1b&utm_campaign=Humble%20Mozilla%20Bundle)\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_267\" style=\"width: 310px\">[![Le pack Humble Mozilla Bundle](https://techan.fr/images/2014/10/Petit_jeu_firefox_3-300x122.png)](https://techan.fr/images/2014/10/Petit_jeu_firefox_3.png)Le pack Humble Mozilla Bundle\n\n</div>","image":"https://techan.fr/images/2014/10/Petit_jeu_firefox_0.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-17T11:14:59.000Z","created_by":1,"updated_at":"2014-11-17T16:57:06.000Z","updated_by":1,"published_at":"2014-10-17T11:14:59.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":39,"uuid":"5090257b-a77d-41fa-9c46-1d481d33f673","title":"[Linux] Astuce pour retrouver les permissions sur un fichier","slug":"linux-astuce-pour-retrouver-les-permissions-sur-un-fichier","markdown":"\nJ’ai du retrouver les permissions octales sur un fichier pour pouvoir les ré-appliquer sur un autre suite à ue montée de version. On écrase les fichiers avec les nouveaux, et paf ! les permissions disparaissent …  \n  \n  \n\nJ’ai donc du retrouver les permissions sur les anciens pour pouvoir les remettre sur les nouveaux.\n\n \n\nPour avoir les permissions originales (en notation octale), on utilisera la commande suivante :\n\n[root@xxxxxx ~]# stat -c \"%a %n\" /opt/documentum/product/6.6/bin/documentum 6750 /opt/documentum/product/6.6/bin/documentum\n\n \n\nPour les repositionner c’est simple :\n\n[root@xxxxxx documentum]# chmod 6750 ./product/6.6/bin/documentum\n\nEt le tour est joué !\n\n \n\n \n\n \n\n\n","html":"<p>J’ai du retrouver les permissions octales sur un fichier pour pouvoir les ré-appliquer sur un autre suite à ue montée de version. On écrase les fichiers avec les nouveaux, et paf ! les permissions disparaissent …  </p>\n\n<p>J’ai donc du retrouver les permissions sur les anciens pour pouvoir les remettre sur les nouveaux.</p>\n\n<p>Pour avoir les permissions originales (en notation octale), on utilisera la commande suivante :</p>\n\n<p>[root@xxxxxx ~]# stat -c \"%a %n\" /opt/documentum/product/6.6/bin/documentum 6750 /opt/documentum/product/6.6/bin/documentum</p>\n\n<p>Pour les repositionner c’est simple :</p>\n\n<p>[root@xxxxxx documentum]# chmod 6750 ./product/6.6/bin/documentum</p>\n\n<p>Et le tour est joué !</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-17T15:49:32.000Z","created_by":1,"updated_at":"2014-10-17T15:49:32.000Z","updated_by":1,"published_at":"2014-10-17T15:49:32.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":40,"uuid":"4b3d06cd-9e2a-4a38-8990-af918b5f3269","title":"[Oracle] Afficher et modifier les paramètres Oracle","slug":"oracle-afficher-et-modifier-les-parametres-oracle","markdown":"\n### Emplacements des paramètres Oracle\n\nLes paramètres Oracle peuvent se trouver dans plusieurs endroits différents :\n\n- fichier pfile\n- fichier spfile\n- directement en mémoire\n\n \n\n##### Parameter File (pfile)\n\nC’est un fichier texte que le DBA peut éditer directement.\n\nIl se trouve dans le dossier :\n\n- $ORACLE_HOME/dbs sur UNIX/Linux\n- $ORACLE_HOME\\database sur Windows\n\nIl sont en général nommés : init**<SID>**.ora\n\n \n\nCe fichier peut être édité avec n’importe quel éditeur de texte.\n\n \n\n##### Server Parameter File (spfile)\n\nCe fichier est **binaire**, il ne doit pas être édité par le DBA.\n\nIl se trouve au même endroit que le pfile :\n\n- $ORACLE_HOME/dbs sur UNIX/Linux\n- $ORACLE_HOME\\database sur Windows\n\nIl sont en général nommés : spfile**<SID>**.ora\n\n \n\n##### Mémoire\n\nQuand Oracle démarre, il va lire le spfile ou le pfile en fonction des option de démarrage ou de l’existence ou non du spfile.\n\nToutes les valeurs contenues dans ces fichiers de paramètres sont chargées et remplacent les valeurs par défaut des paramètres spécifiés.\n\n \n\nCertains paramètres peuvent être modifiés directement en mémoire lorsque l’instance Oracle est démarrée. Cependant, ces modifications sont volatiles, ils font les faire également dans le spfile et/ou le pfile pour les rendre permanentes.\n\n \n\n### Priorité des fichiers de paramètres\n\n##### S’il n’y a pas de spfile pour la base\n\nDans ce cas, Oracle a besoin d’un fichier pfile pour démarrer.\n\n##### S’il y a un spfile pour la base\n\nDans ce cas, si l’on ne précise aucune option au démarrage, Oracle va utiliser son spfile pour démarrer.\n\nSi vous souhaitez démarrer la base en utilisant son pfile, vous pouvez utiliser la commande suivante :\n\nSQL> startup pfile='/path/to/init<SID>.ora'\n\n \n\n<span style=\"text-decoration: underline;\">**Note :**</span> Démarrer une base à partir de son pfile restreint l’accès à certaines actions comme les backups a chaud avec RMAN. Ceci doit rester temporaire, vous pouvez recréer les spfile depuis le pfile et redémarrer la base sans options pour utiliser le spfile.\n\n \n\n### Récupérer la valeur courante d’un paramètre\n\nPour récupérer la valeur d’un paramètres, vous avez deux options, soit utiliser la commande « show » soit via une requête SQL. L’utilisation de la commande « show » est nettement plus simple.\n\n \n\n##### La commande « show »\n\nUne fois connecté à la base, taper « show » suivit du nom du paramètre dont vous voulez la valeur, ou une partie de son nom.\n\n[![image2014-4-3 14-34-35](https://techan.fr/images/2014/10/image2014-4-3-14-34-35.png)](https://techan.fr/images/2014/10/image2014-4-3-14-34-35.png)\n\n##### Utiliser un requête SQL\n\nCette méthode est un peu plus compliquée mais vous permettra de voir si la valeur du paramètre est par défaut et/ou si elle a été modifiée.\n\n[![image2014-4-3 14-42-44](https://techan.fr/images/2014/10/image2014-4-3-14-42-44.png)](https://techan.fr/images/2014/10/image2014-4-3-14-42-44.png)\n\n \n\n### Modifier la valeur d’un paramètre\n\nPour modifier la valeur d’un paramètre, vous allez devoir utiliser la commande suivante :\n\nSQL> alter system set [parameter_name]='[value]' [scope=both|memory|spfile];\n\n \n\nL’option « scope » dit à Oracle à quel endroit doit être modifié le paramètre :\n\n- **memory** : La valeur du paramètre sera modifiée **uniquement** en mémoire. Cette modification n’est pas persistante au reboot de la base.\n- **spfile** : La modification est faite **uniquement** dans le spfile. Elle n’est pas active, elle le sera uniquement après avoir rebooter la base.\n- **both **: La modification est faite en mémoire **et** dans le spfile.\n\n##### Paramètres « chaud »\n\nLes paramètres chaud sont ceux qui peuvent être modifiés soit instance allumée soit instance éteinte.\n\nOn peut utiliser le scope=memory pour modifier ces paramètres.\n\n##### Paramètres « froid »\n\nCes paramètres sont modifiables uniquement base éteinte ou en utilisant un scope=spfile.\n\n \n\n##### Exemple :\n\nNous allons modifier le paramètre « sessions », dans un premier temps, nous allons sauvegarder l’ancienne valeur, 247 dans notre cas.\n\n[![image2014-4-3 15-51-39](https://techan.fr/images/2014/10/image2014-4-3-15-51-39.png)](https://techan.fr/images/2014/10/image2014-4-3-15-51-39.png)\n\nModifions la valeur du paramètre à 300.  \n[![image2014-4-3 15-52-23](https://techan.fr/images/2014/10/image2014-4-3-15-52-23.png)](https://techan.fr/images/2014/10/image2014-4-3-15-52-23.png)\n\nL’erreur indique qu’il s’agit d’un paramètre « froid », nous allons devoir le modifier dans le spfile et/ou dans le pfile.\n\n[![image2014-4-3 15-53-36](https://techan.fr/images/2014/10/image2014-4-3-15-53-36.png)](https://techan.fr/images/2014/10/image2014-4-3-15-53-36.png)\n\nLa nouvelle valeur est maintenant 300.\n\n \n\n### Réinitialiser la valeur d’un paramètre\n\nIl est possible de remettre un paramètre à sa valeur par défaut, celle qu’Oarcle donne.\n\nPour ce faire, il faut utiliser la commande suivante :\n\nSQL> alter system reset [parameter_name]='[value]' [scope=both|memory|spfile];\n\n \n\nNous allons réinitialiser la valeur du paramètre « sessions » que nous avons modifié juste avant.\n\n[![image2014-4-3 15-55-7](https://techan.fr/images/2014/10/image2014-4-3-15-55-7.png)](https://techan.fr/images/2014/10/image2014-4-3-15-55-7.png)\n\nAprès un reboot de la base, la valeur est de nouveau 247 ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\n\n","html":"<h3 id=\"emplacementsdesparamtresoracle\">Emplacements des paramètres Oracle</h3>\n\n<p>Les paramètres Oracle peuvent se trouver dans plusieurs endroits différents :</p>\n\n<ul>\n<li>fichier pfile</li>\n<li>fichier spfile</li>\n<li><p>directement en mémoire</p></li>\n</ul>\n\n<h5 id=\"parameterfilepfile\">Parameter File (pfile)</h5>\n\n<p>C’est un fichier texte que le DBA peut éditer directement.</p>\n\n<p>Il se trouve dans le dossier :</p>\n\n<ul>\n<li>$ORACLE_HOME/dbs sur UNIX/Linux</li>\n<li>$ORACLE_HOME\\database sur Windows</li>\n</ul>\n\n<p>Il sont en général nommés : init<strong><SID></strong>.ora</p>\n\n<p>Ce fichier peut être édité avec n’importe quel éditeur de texte.</p>\n\n<h5 id=\"serverparameterfilespfile\">Server Parameter File (spfile)</h5>\n\n<p>Ce fichier est <strong>binaire</strong>, il ne doit pas être édité par le DBA.</p>\n\n<p>Il se trouve au même endroit que le pfile :</p>\n\n<ul>\n<li>$ORACLE_HOME/dbs sur UNIX/Linux</li>\n<li>$ORACLE_HOME\\database sur Windows</li>\n</ul>\n\n<p>Il sont en général nommés : spfile<strong><SID></strong>.ora</p>\n\n<h5 id=\"mmoire\">Mémoire</h5>\n\n<p>Quand Oracle démarre, il va lire le spfile ou le pfile en fonction des option de démarrage ou de l’existence ou non du spfile.</p>\n\n<p>Toutes les valeurs contenues dans ces fichiers de paramètres sont chargées et remplacent les valeurs par défaut des paramètres spécifiés.</p>\n\n<p>Certains paramètres peuvent être modifiés directement en mémoire lorsque l’instance Oracle est démarrée. Cependant, ces modifications sont volatiles, ils font les faire également dans le spfile et/ou le pfile pour les rendre permanentes.</p>\n\n<h3 id=\"prioritdesfichiersdeparamtres\">Priorité des fichiers de paramètres</h3>\n\n<h5 id=\"silnyapasdespfilepourlabase\">S’il n’y a pas de spfile pour la base</h5>\n\n<p>Dans ce cas, Oracle a besoin d’un fichier pfile pour démarrer.</p>\n\n<h5 id=\"silyaunspfilepourlabase\">S’il y a un spfile pour la base</h5>\n\n<p>Dans ce cas, si l’on ne précise aucune option au démarrage, Oracle va utiliser son spfile pour démarrer.</p>\n\n<p>Si vous souhaitez démarrer la base en utilisant son pfile, vous pouvez utiliser la commande suivante :</p>\n\n<p>SQL> startup pfile='/path/to/init<SID>.ora'</p>\n\n<p><span style=\"text-decoration: underline;\"><strong>Note :</strong></span> Démarrer une base à partir de son pfile restreint l’accès à certaines actions comme les backups a chaud avec RMAN. Ceci doit rester temporaire, vous pouvez recréer les spfile depuis le pfile et redémarrer la base sans options pour utiliser le spfile.</p>\n\n<h3 id=\"rcuprerlavaleurcourantedunparamtre\">Récupérer la valeur courante d’un paramètre</h3>\n\n<p>Pour récupérer la valeur d’un paramètres, vous avez deux options, soit utiliser la commande « show » soit via une requête SQL. L’utilisation de la commande « show » est nettement plus simple.</p>\n\n<h5 id=\"lacommandeshow\">La commande « show »</h5>\n\n<p>Une fois connecté à la base, taper « show » suivit du nom du paramètre dont vous voulez la valeur, ou une partie de son nom.</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-3-14-34-35.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-3-14-34-35.png\" alt=\"image2014-4-3 14-34-35\" title=\"\" /></a></p>\n\n<h5 id=\"utiliserunrequtesql\">Utiliser un requête SQL</h5>\n\n<p>Cette méthode est un peu plus compliquée mais vous permettra de voir si la valeur du paramètre est par défaut et/ou si elle a été modifiée.</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-3-14-42-44.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-3-14-42-44.png\" alt=\"image2014-4-3 14-42-44\" title=\"\" /></a></p>\n\n<h3 id=\"modifierlavaleurdunparamtre\">Modifier la valeur d’un paramètre</h3>\n\n<p>Pour modifier la valeur d’un paramètre, vous allez devoir utiliser la commande suivante :</p>\n\n<p>SQL> alter system set [parameter_name]='[value]' [scope=both|memory|spfile];</p>\n\n<p>L’option « scope » dit à Oracle à quel endroit doit être modifié le paramètre :</p>\n\n<ul>\n<li><strong>memory</strong> : La valeur du paramètre sera modifiée <strong>uniquement</strong> en mémoire. Cette modification n’est pas persistante au reboot de la base.</li>\n<li><strong>spfile</strong> : La modification est faite <strong>uniquement</strong> dans le spfile. Elle n’est pas active, elle le sera uniquement après avoir rebooter la base.</li>\n<li><strong>both <em>*: La modification est faite en mémoire *</em>et</strong> dans le spfile.</li>\n</ul>\n\n<h5 id=\"paramtreschaud\">Paramètres « chaud »</h5>\n\n<p>Les paramètres chaud sont ceux qui peuvent être modifiés soit instance allumée soit instance éteinte.</p>\n\n<p>On peut utiliser le scope=memory pour modifier ces paramètres.</p>\n\n<h5 id=\"paramtresfroid\">Paramètres « froid »</h5>\n\n<p>Ces paramètres sont modifiables uniquement base éteinte ou en utilisant un scope=spfile.</p>\n\n<h5 id=\"exemple\">Exemple :</h5>\n\n<p>Nous allons modifier le paramètre « sessions », dans un premier temps, nous allons sauvegarder l’ancienne valeur, 247 dans notre cas.</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-3-15-51-39.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-3-15-51-39.png\" alt=\"image2014-4-3 15-51-39\" title=\"\" /></a></p>\n\n<p>Modifions la valeur du paramètre à 300. <br />\n<a href=\"https://techan.fr/images/2014/10/image2014-4-3-15-52-23.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-3-15-52-23.png\" alt=\"image2014-4-3 15-52-23\" title=\"\" /></a></p>\n\n<p>L’erreur indique qu’il s’agit d’un paramètre « froid », nous allons devoir le modifier dans le spfile et/ou dans le pfile.</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-3-15-53-36.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-3-15-53-36.png\" alt=\"image2014-4-3 15-53-36\" title=\"\" /></a></p>\n\n<p>La nouvelle valeur est maintenant 300.</p>\n\n<h3 id=\"rinitialiserlavaleurdunparamtre\">Réinitialiser la valeur d’un paramètre</h3>\n\n<p>Il est possible de remettre un paramètre à sa valeur par défaut, celle qu’Oarcle donne.</p>\n\n<p>Pour ce faire, il faut utiliser la commande suivante :</p>\n\n<p>SQL> alter system reset [parameter_name]='[value]' [scope=both|memory|spfile];</p>\n\n<p>Nous allons réinitialiser la valeur du paramètre « sessions » que nous avons modifié juste avant.</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-3-15-55-7.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-3-15-55-7.png\" alt=\"image2014-4-3 15-55-7\" title=\"\" /></a></p>\n\n<p>Après un reboot de la base, la valeur est de nouveau 247 ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>","image":"https://techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-20T11:33:23.000Z","created_by":1,"updated_at":"2014-11-20T16:54:40.000Z","updated_by":1,"published_at":"2014-10-20T11:33:23.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":41,"uuid":"9121a63b-1c3d-47c1-998a-0aa598d2b27a","title":"[iOS] iOS 8.1 est disponible !!","slug":"ios-ios-8-1-est-disponible","markdown":"\nAvis aux possesseurs d’iPhone, la mise à jour du système iOS numérotée 8.1 est disponible !  \n  \n[![IMG_4456.PNG](https://techan.fr/images/2014/10/IMG_4456.png)](https://techan.fr/images/2014/10/IMG_4456.png)\n\nIl paraît qu’elle amène plus de fluidité sur les iPhone les plus anciens supportés par l’iOS 8.\n\nElle amène également le support de la fonction Continuité annoncée lors de la sortie de la nouvelle version du système mobile. Cette fonctionnalité permet aux possesseurs de multiples appareils à la Pomme de commencer une activité sur leur iPhone, leur Mac ou leur iPad et de la terminer sur un autre des ces terminaux.\n\nLa mise à jour permet également de répondre aux appels téléphoniques sur un Mac ou un iPad, d’envoyer des SMS depuis un Mac ou un iPad lorsque l’on possède un iPhone.\n\nApple Pay fait également dont apparition avec cette mise à jour, mais le système est toujours bloqué aux US uniquement.\n\nLa photothèque iCloud est également disponible et des modifications ont été apportées à l’application Photos en réactivant l’album Pellicule.\n\nDes problèmes des Bluetooth ont été corrigés.\n\n\n","html":"<p>Avis aux possesseurs d’iPhone, la mise à jour du système iOS numérotée 8.1 est disponible !  </p>\n\n<p><a href=\"https://techan.fr/images/2014/10/IMG_4456.png\"><img src=\"https://techan.fr/images/2014/10/IMG_4456.png\" alt=\"IMG_4456.PNG\" title=\"\" /></a></p>\n\n<p>Il paraît qu’elle amène plus de fluidité sur les iPhone les plus anciens supportés par l’iOS 8.</p>\n\n<p>Elle amène également le support de la fonction Continuité annoncée lors de la sortie de la nouvelle version du système mobile. Cette fonctionnalité permet aux possesseurs de multiples appareils à la Pomme de commencer une activité sur leur iPhone, leur Mac ou leur iPad et de la terminer sur un autre des ces terminaux.</p>\n\n<p>La mise à jour permet également de répondre aux appels téléphoniques sur un Mac ou un iPad, d’envoyer des SMS depuis un Mac ou un iPad lorsque l’on possède un iPhone.</p>\n\n<p>Apple Pay fait également dont apparition avec cette mise à jour, mais le système est toujours bloqué aux US uniquement.</p>\n\n<p>La photothèque iCloud est également disponible et des modifications ont été apportées à l’application Photos en réactivant l’album Pellicule.</p>\n\n<p>Des problèmes des Bluetooth ont été corrigés.</p>","image":"https://techan.fr/images/2014/10/IMG_4456-0.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-20T19:57:48.000Z","created_by":1,"updated_at":"2014-11-18T10:57:01.000Z","updated_by":1,"published_at":"2014-10-20T19:57:48.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":42,"uuid":"004febfe-1740-45a2-81d5-8afa82b84a0a","title":"[LVM] Agrandir un disque à chaud","slug":"lvm-agrandir-un-disque-a-chaud","markdown":"\nUne des choses assez pratique a savoir faire lorsque l’on utilise du LVM sur Linux, c’est de pouvoir agrandir le LV à chaud.  \n  \n Partons par exemple d’un VG se nommant « VolGroup-u02 » ne comportant qu’un LV nommé « Vol-u02 » faisant 100% de la taille du VG. Ce VG utilise un disque entier comme PV « /dev/sde ».\n\n \n\n[root@xxxxxxxx ~]# vgdisplay VolGroup-u02 -v Using volume group(s) on command line Finding volume group \"VolGroup-u02\" --- Volume group --- VG Name VolGroup-u02 System ID Format lvm2 Metadata Areas 1 Metadata Sequence No 10 VG Access read/write VG Status resizable MAX LV 0 Cur LV 1 Open LV 1 Max PV 0 Cur PV 1 Act PV 1 VG Size 200,00 GiB PE Size 4,00 MiB Total PE 51199 Alloc PE / Size 51199 / 200,00 GiB Free PE / Size 0 / 0 VG UUID YACmCL-D8Le-40m9-z1i7-nwxc-odko-dzILpS --- Logical volume --- LV Path /dev/VolGroup-u02/Vol-u02 LV Name Vol-u02 VG Name VolGroup-u02 LV UUID ZtWasj-EII1-Nu9Y-Nv3a-ffaq-VJVP-l3mHsm LV Write Access read/write LV Creation host, time sl-0-vdbtpl2.sham.fr, 2014-06-11 11:38:13 +0200 LV Status available # open 1 LV Size 200,00 GiB Current LE 51199 Segments 1 Allocation inherit Read ahead sectors auto - currently set to 256 Block device 252:3 --- Physical volumes --- PV Name /dev/sde PV UUID cXHbmH-d56b-yLSz-A0KL-3URd-i6A1-3mD2Pw PV Status allocatable Total PE / Free PE 51199 / 0\n\n \n\nLe disque a été agrnadi du côté de VMware, nous allons utiliser un outil sur Linux pour le forcer a rescaner ses bus et découvrir l’agrandissement. Cet outil s’appelle « rescan-scsi-bus.sh » et peut être installé avec le package « sg3_utils » sur RedHat / CentOS.\n\n \n\n[root@xxxxxxxx ~]# rescan-scsi-bus.sh --forcerescan Host adapter 0 (ata_piix) found. Host adapter 1 (ata_piix) found. Host adapter 2 (mptspi) found. Host adapter 3 (mptspi) found. Host adapter 4 (mptspi) found. Host adapter 5 (mptspi) found. Scanning SCSI subsystem for new devices and remove devices that have disappeared Scanning host 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning host 1 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 1 0 0 0 ... REM: Host: scsi1 Channel: 00 Id: 00 Lun: 00 DEL: Vendor: NECVMWar Model: VMware IDE CDR10 Rev: 1.00 Type: CD-ROM ANSI SCSI revision: 05 Scanning host 2 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 2 0 0 0 ... OLD: Host: scsi2 Channel: 00 Id: 00 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning host 3 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 3 0 0 0 ... OLD: Host: scsi3 Channel: 00 Id: 00 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning host 4 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 4 0 0 0 ... OLD: Host: scsi4 Channel: 00 Id: 00 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning for device 4 0 1 0 ... OLD: Host: scsi4 Channel: 00 Id: 01 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning host 5 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 5 0 0 0 ... OLD: Host: scsi5 Channel: 00 Id: 00 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning for device 5 0 1 0 ... OLD: Host: scsi5 Channel: 00 Id: 01 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 0 new device(s) found. 1 device(s) removed.\n\n \n\nVérifions la taille de disque avant le resize :\n\n[root@xxxxxxxx ~]# pvdisplay /dev/sde --- Physical volume --- PV Name /dev/sde VG Name VolGroup-u02 PV Size 200,00 GiB / not usable 3,00 MiB Allocatable yes (but full) PE Size 4,00 MiB Total PE 51199 Free PE 0 Allocated PE 51199 PV UUID cXHbmH-d56b-yLSz-A0KL-3URd-i6A1-3mD2Pw\n\nOn étend le disque\n\n[root@xxxxxxxx ~]# pvresize /dev/sde Physical volume \"/dev/sde\" changed 1 physical volume(s) resized / 0 physical volume(s) not resized\n\nValidons que cela a bien fonctionné.\n\n[root@xxxxxxxx ~]# pvdisplay /dev/sde --- Physical volume --- PV Name /dev/sde VG Name VolGroup-u02 PV Size 220,00 GiB / not usable 3,00 MiB Allocatable yes PE Size 4,00 MiB Total PE 56319 Free PE 5120 Allocated PE 51199 PV UUID cXHbmH-d56b-yLSz-A0KL-3URd-i6A1-3mD2Pw\n\nMaintenant, on va étendre le LV :\n\n[root@xxxxxxxx ~]# lvextend -l 100%VG /dev/VolGroup-u02/Vol-u02 Extending logical volume Vol-u02 to 220,00 GiB Logical volume Vol-u02 successfully resized\n\nPuis le File System :\n\n[root@xxxxxxxx ~]# resize2fs /dev/VolGroup-u02/Vol-u02 resize2fs 1.43-WIP (20-Jun-2013) Le système de fichiers de /dev/VolGroup-u02/Vol-u02 est monté sur /u02 ; le changement de taille doit être effectué en ligne old_desc_blocks = 13, new_desc_blocks = 14 Le système de fichiers /dev/VolGroup-u02/Vol-u02 a maintenant une taille de 57670656 blocs.\n\n \n\nOn valide que le FS fait bien 220 Go maintenant :\n\n[root@xxxxxxxx ~]# df -h /u02/ Filesystem Size Used Avail Use% Mounted on /dev/mapper/VolGroup--u02-Vol--u02 217G 152G 57G 73% /u02\n\n \n\nEt voila !\n\n\n","html":"<p>Une des choses assez pratique a savoir faire lorsque l’on utilise du LVM sur Linux, c’est de pouvoir agrandir le LV à chaud.  </p>\n\n<p>Partons par exemple d’un VG se nommant « VolGroup-u02 » ne comportant qu’un LV nommé « Vol-u02 » faisant 100% de la taille du VG. Ce VG utilise un disque entier comme PV « /dev/sde ».</p>\n\n<p>[root@xxxxxxxx ~]# vgdisplay VolGroup-u02 -v Using volume group(s) on command line Finding volume group \"VolGroup-u02\" --- Volume group --- VG Name VolGroup-u02 System ID Format lvm2 Metadata Areas 1 Metadata Sequence No 10 VG Access read/write VG Status resizable MAX LV 0 Cur LV 1 Open LV 1 Max PV 0 Cur PV 1 Act PV 1 VG Size 200,00 GiB PE Size 4,00 MiB Total PE 51199 Alloc PE / Size 51199 / 200,00 GiB Free PE / Size 0 / 0 VG UUID YACmCL-D8Le-40m9-z1i7-nwxc-odko-dzILpS --- Logical volume --- LV Path /dev/VolGroup-u02/Vol-u02 LV Name Vol-u02 VG Name VolGroup-u02 LV UUID ZtWasj-EII1-Nu9Y-Nv3a-ffaq-VJVP-l3mHsm LV Write Access read/write LV Creation host, time sl-0-vdbtpl2.sham.fr, 2014-06-11 11:38:13 +0200 LV Status available # open 1 LV Size 200,00 GiB Current LE 51199 Segments 1 Allocation inherit Read ahead sectors auto - currently set to 256 Block device 252:3 --- Physical volumes --- PV Name /dev/sde PV UUID cXHbmH-d56b-yLSz-A0KL-3URd-i6A1-3mD2Pw PV Status allocatable Total PE / Free PE 51199 / 0</p>\n\n<p>Le disque a été agrnadi du côté de VMware, nous allons utiliser un outil sur Linux pour le forcer a rescaner ses bus et découvrir l’agrandissement. Cet outil s’appelle « rescan-scsi-bus.sh » et peut être installé avec le package « sg3_utils » sur RedHat / CentOS.</p>\n\n<p>[root@xxxxxxxx ~]# rescan-scsi-bus.sh --forcerescan Host adapter 0 (ata<em>piix) found. Host adapter 1 (ata</em>piix) found. Host adapter 2 (mptspi) found. Host adapter 3 (mptspi) found. Host adapter 4 (mptspi) found. Host adapter 5 (mptspi) found. Scanning SCSI subsystem for new devices and remove devices that have disappeared Scanning host 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning host 1 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 1 0 0 0 ... REM: Host: scsi1 Channel: 00 Id: 00 Lun: 00 DEL: Vendor: NECVMWar Model: VMware IDE CDR10 Rev: 1.00 Type: CD-ROM ANSI SCSI revision: 05 Scanning host 2 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 2 0 0 0 ... OLD: Host: scsi2 Channel: 00 Id: 00 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning host 3 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 3 0 0 0 ... OLD: Host: scsi3 Channel: 00 Id: 00 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning host 4 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 4 0 0 0 ... OLD: Host: scsi4 Channel: 00 Id: 00 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning for device 4 0 1 0 ... OLD: Host: scsi4 Channel: 00 Id: 01 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning host 5 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 5 0 0 0 ... OLD: Host: scsi5 Channel: 00 Id: 00 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning for device 5 0 1 0 ... OLD: Host: scsi5 Channel: 00 Id: 01 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 0 new device(s) found. 1 device(s) removed.</p>\n\n<p>Vérifions la taille de disque avant le resize :</p>\n\n<p>[root@xxxxxxxx ~]# pvdisplay /dev/sde --- Physical volume --- PV Name /dev/sde VG Name VolGroup-u02 PV Size 200,00 GiB / not usable 3,00 MiB Allocatable yes (but full) PE Size 4,00 MiB Total PE 51199 Free PE 0 Allocated PE 51199 PV UUID cXHbmH-d56b-yLSz-A0KL-3URd-i6A1-3mD2Pw</p>\n\n<p>On étend le disque</p>\n\n<p>[root@xxxxxxxx ~]# pvresize /dev/sde Physical volume \"/dev/sde\" changed 1 physical volume(s) resized / 0 physical volume(s) not resized</p>\n\n<p>Validons que cela a bien fonctionné.</p>\n\n<p>[root@xxxxxxxx ~]# pvdisplay /dev/sde --- Physical volume --- PV Name /dev/sde VG Name VolGroup-u02 PV Size 220,00 GiB / not usable 3,00 MiB Allocatable yes PE Size 4,00 MiB Total PE 56319 Free PE 5120 Allocated PE 51199 PV UUID cXHbmH-d56b-yLSz-A0KL-3URd-i6A1-3mD2Pw</p>\n\n<p>Maintenant, on va étendre le LV :</p>\n\n<p>[root@xxxxxxxx ~]# lvextend -l 100%VG /dev/VolGroup-u02/Vol-u02 Extending logical volume Vol-u02 to 220,00 GiB Logical volume Vol-u02 successfully resized</p>\n\n<p>Puis le File System :</p>\n\n<p>[root@xxxxxxxx ~]# resize2fs /dev/VolGroup-u02/Vol-u02 resize2fs 1.43-WIP (20-Jun-2013) Le système de fichiers de /dev/VolGroup-u02/Vol-u02 est monté sur /u02 ; le changement de taille doit être effectué en ligne old<em>desc</em>blocks = 13, new<em>desc</em>blocks = 14 Le système de fichiers /dev/VolGroup-u02/Vol-u02 a maintenant une taille de 57670656 blocs.</p>\n\n<p>On valide que le FS fait bien 220 Go maintenant :</p>\n\n<p>[root@xxxxxxxx ~]# df -h /u02/ Filesystem Size Used Avail Use% Mounted on /dev/mapper/VolGroup--u02-Vol--u02 217G 152G 57G 73% /u02</p>\n\n<p>Et voila !</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-22T16:40:03.000Z","created_by":1,"updated_at":"2014-10-22T16:40:03.000Z","updated_by":1,"published_at":"2014-10-22T16:40:03.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":43,"uuid":"37367ffe-fbea-4a97-9444-6d8d4f274992","title":"[Oracle] Récupérer le code SQL de création d'un objet","slug":"oracle-recuperer-le-code-sql-de-creation-dun-objet","markdown":"\nUne chose qui rend souvent service dans le monde des DBAs, c’est de récupérer le code SQL qui a servi à la création d’un objet, d’un schéma, d’un tablespace … Ceci dans le but de le recréer tel quel ailleurs ou de modifier légèrement ce code pour créer un objet ressemblant dans la même base.  \n  \n  \n\nCette fonctionnalité est souvent proposée de base dans les outils d’administration ou de développement SQL ou PL/SQL. Mais lorsque l’on se retrouve dans SQL*Plus, il faut connaitre la commande qui va bien.\n\n \n\nLa voici donc cette commande :\n\nSQL> set long 99999999 SQL> select dbms_metadata.get_ddl('USER','SCOTT') from dual ; DBMS_METADATA.GET_DDL('USER','SCOTT') -------------------------------------------------------------------------------- CREATE USER \"SCOTT\" IDENTIFIED BY VALUES 'S:07921277EB685F9816BA4776231FA31B0 C0A84DD4DF70E5DEC761A6F6B53;F894844C34402B67' DEFAULT TABLESPACE \"USERS\" TEMPORARY TABLESPACE \"TEMP\" PASSWORD EXPIRE ACCOUNT LOCK\n\nLe « set long 99999999 » permet de ne pas avoir un retour tronqué.\n\nEn copiant/collant le code ci-dessus, on pourra recréer le user « Scott » tel qu’il est défini dans la base source, mot de passe inclus.\n\n \n\nVous l’avez compris, le premier paramètre de la fonction « get_ddl » du package « dbms_metadata » est le type d’objet dont on veut le code SQL, le second n’est autre que le nom d’objet lui même.\n\n\n","html":"<p>Une chose qui rend souvent service dans le monde des DBAs, c’est de récupérer le code SQL qui a servi à la création d’un objet, d’un schéma, d’un tablespace … Ceci dans le but de le recréer tel quel ailleurs ou de modifier légèrement ce code pour créer un objet ressemblant dans la même base.  </p>\n\n<p>Cette fonctionnalité est souvent proposée de base dans les outils d’administration ou de développement SQL ou PL/SQL. Mais lorsque l’on se retrouve dans SQL*Plus, il faut connaitre la commande qui va bien.</p>\n\n<p>La voici donc cette commande :</p>\n\n<p>SQL> set long 99999999 SQL> select dbms<em>metadata.get</em>ddl('USER','SCOTT') from dual ; DBMS<em>METADATA.GET</em>DDL('USER','SCOTT') -------------------------------------------------------------------------------- CREATE USER \"SCOTT\" IDENTIFIED BY VALUES 'S:07921277EB685F9816BA4776231FA31B0 C0A84DD4DF70E5DEC761A6F6B53;F894844C34402B67' DEFAULT TABLESPACE \"USERS\" TEMPORARY TABLESPACE \"TEMP\" PASSWORD EXPIRE ACCOUNT LOCK</p>\n\n<p>Le « set long 99999999 » permet de ne pas avoir un retour tronqué.</p>\n\n<p>En copiant/collant le code ci-dessus, on pourra recréer le user « Scott » tel qu’il est défini dans la base source, mot de passe inclus.</p>\n\n<p>Vous l’avez compris, le premier paramètre de la fonction « get<em>ddl » du package « dbms</em>metadata » est le type d’objet dont on veut le code SQL, le second n’est autre que le nom d’objet lui même.</p>","image":"https://techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-23T08:18:00.000Z","created_by":1,"updated_at":"2014-11-20T16:54:09.000Z","updated_by":1,"published_at":"2014-10-23T08:18:00.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":44,"uuid":"55a42c41-1158-4bb0-a6b4-61f958e0b52c","title":"[Windows] Synchroniser deux répertoires en conservant les permissions NTFS","slug":"windows-synchroniser-deux-repertoires-en-conservant-les-permissions-ntfs","markdown":"\nPour synchroniser deux dossiers sur Windows, un utilitaire est proposé par défaut depuis Windows 2003, il se lance en ligne de commande, son petit nom … ROBOCOPY !  \n  \n L’avantage de cet outil est qu’il permet de copier les fichiers a une vitesse assez folle et qu’il a pas mal d’options, notamment pour conserver les permissions NTFS.\n\n \n\nVoici un exemple de synchronisation.\n\nrobocopy \"D:\\STAT\" \"\\\\autre_serveur\\E\\STAT\" /MIR /SEC /RH:2000-0700 /TEE /LOG+:c:\\journal.log\n\nLe dossier source : « D:\\STATS », le dossier cible : un chemin UNC ou un dossier « \\\\autre_serveur\\E\\STAT »\n\n \n\nVoici la description des options utilisées ici :\n\n- **/MIR **: Applique les changement de la source sur la cible, si un fichier est créé sur la source, il est créé sur la cible, si un dossier est supprimé sur la source, il est supprimé sur la cible.\n- **/RH **: Sert a plannifier, dans ce cas, de 20h à 6h du matin.\n- **/SEC **: Migrer les droits NTFS\n- **/LOG **: Désactive la sortie écran, et la redirige dans un fichier de log, ici C:\\journal.log\n- **/TEE** : Rétabli la sortie écran même si le **/LOG** est spécifié.\n\nEt voilà !\n\n\n","html":"<p>Pour synchroniser deux dossiers sur Windows, un utilitaire est proposé par défaut depuis Windows 2003, il se lance en ligne de commande, son petit nom … ROBOCOPY !  </p>\n\n<p>L’avantage de cet outil est qu’il permet de copier les fichiers a une vitesse assez folle et qu’il a pas mal d’options, notamment pour conserver les permissions NTFS.</p>\n\n<p>Voici un exemple de synchronisation.</p>\n\n<p>robocopy \"D:\\STAT\" \"\\autre_serveur\\E\\STAT\" /MIR /SEC /RH:2000-0700 /TEE /LOG+:c:\\journal.log</p>\n\n<p>Le dossier source : « D:\\STATS », le dossier cible : un chemin UNC ou un dossier « \\autre_serveur\\E\\STAT »</p>\n\n<p>Voici la description des options utilisées ici :</p>\n\n<ul>\n<li><em>*/MIR *</em>: Applique les changement de la source sur la cible, si un fichier est créé sur la source, il est créé sur la cible, si un dossier est supprimé sur la source, il est supprimé sur la cible.</li>\n<li><em>*/RH *</em>: Sert a plannifier, dans ce cas, de 20h à 6h du matin.</li>\n<li><em>*/SEC *</em>: Migrer les droits NTFS</li>\n<li><em>*/LOG *</em>: Désactive la sortie écran, et la redirige dans un fichier de log, ici C:\\journal.log</li>\n<li><strong>/TEE</strong> : Rétabli la sortie écran même si le <strong>/LOG</strong> est spécifié.</li>\n</ul>\n\n<p>Et voilà !</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-23T15:21:36.000Z","created_by":1,"updated_at":"2015-08-07T11:39:23.000Z","updated_by":1,"published_at":"2014-10-23T15:21:36.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":45,"uuid":"c566896f-e786-433c-9eb8-5b6638e955c4","title":"[Linux] Créer une copie bit à bit d'une clef USB","slug":"linux-creer-une-copie-bit-a-bit-dune-clef-usb","markdown":"\nLinux propose un outil en ligne de commande qui permet de faire de la copie bit à bit d’un fichier/périphérique vers un autre, son petit nom : dd.  \n  \n  \n\nCet outil est utile notamment pour sauvegarder le contenu de clef USB, dans l’exemple, je vais sauvegarder une clef USB bootable. DD copie également la MBR de la clef.\n\n \n\nroot@Baal:/etc/varnish# dd if=/dev/sdd1 of=~/AldaKey.img 15628288+0 enregistrements lus 15628288+0 enregistrements écrits 8001683456 octets (8,0 GB) copiés, 732,343 s, 10,9 MB/s\n\nDescription des paramètres :\n\n- **if** : (Input File) le fichier/périphérique en entrée\n- **of** : (Output File) le fichier/périphérique en sortie.\n\nDans mon cas, l’entrée est donc la clef et la sortie est le fichier « ~/AldaKey.img ».\n\n \n\n\n","html":"<p>Linux propose un outil en ligne de commande qui permet de faire de la copie bit à bit d’un fichier/périphérique vers un autre, son petit nom : dd.  </p>\n\n<p>Cet outil est utile notamment pour sauvegarder le contenu de clef USB, dans l’exemple, je vais sauvegarder une clef USB bootable. DD copie également la MBR de la clef.</p>\n\n<p>root@Baal:/etc/varnish# dd if=/dev/sdd1 of=~/AldaKey.img 15628288+0 enregistrements lus 15628288+0 enregistrements écrits 8001683456 octets (8,0 GB) copiés, 732,343 s, 10,9 MB/s</p>\n\n<p>Description des paramètres :</p>\n\n<ul>\n<li><strong>if</strong> : (Input File) le fichier/périphérique en entrée</li>\n<li><strong>of</strong> : (Output File) le fichier/périphérique en sortie.</li>\n</ul>\n\n<p>Dans mon cas, l’entrée est donc la clef et la sortie est le fichier « ~/AldaKey.img ».</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-24T10:24:47.000Z","created_by":1,"updated_at":"2014-10-24T10:24:47.000Z","updated_by":1,"published_at":"2014-10-24T10:24:47.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":46,"uuid":"03cb1395-44c3-4165-9817-2cc0ed693c2b","title":"[Oracle] Le listener","slug":"oracle-le-listener","markdown":"\nLe listener est un programme fournit par Oracle qui écoute sur un port réseau, le 1521 par défaut, c’est la porte d’entrée dans le monde Oracle.  \n  \n Ce programme reçoit les connexions clientes et les dispatche sur la bonne base Oracle. Un seul listener peut gérer les connexions vers plusieurs base de données.\n\nOn peut toute fois mettre en place pas mal de configurations différentes avec cet outil :\n\n- Un seul listener pour toutes les bases de la machine\n- Un listener par base sur le host (chacun aura un port différent)\n- Un lister par version d’Oracle sur la machine (un listener pour les 10g, un autre pour les 11g, …)\n\n \n\n### Lister tous les listeners démarrés sur une machine\n\nSur UNIX/Linux :\n\n[![image2014-4-10 13-20-14](https://techan.fr/images/2014/10/image2014-4-10-13-20-14.png)](https://techan.fr/images/2014/10/image2014-4-10-13-20-14.png)\n\n \n\nDans cet exemple, on voit que la machine n’a qu’un seul listener démarré qui s’appelle : LISTENER.\n\n \n\n### Afficher les bases enregistrées dans un listener\n\nLes base Oracle vont s’enregistrer dans le listener, en faisant cela, elles deviennent accessibles par les clients.\n\nOn peut afficher les bases enregistrées dans un listener en utilisant l’outil « lsnrctl », c’est l’outil qui sert a administrer les listener d’Oracle.  \n[![image2014-4-10 13-24-40](https://techan.fr/images/2014/10/image2014-4-10-13-24-40.png)](https://techan.fr/images/2014/10/image2014-4-10-13-24-40.png)\n\nLe listener « LISTENER » écoute sur le poste 1512 et supporte deux bases Oracle lora12c1001d et TFTI1.\n\nDans cet affichage, on trouve également l’emplacement du fichier de log du listener.\n\n \n\n### Démarrer / arrêter / recharger un listener\n\n##### Stopper un listener\n\nlsnrctl <LISTENER NAME> stop\n\n[![image2014-4-10 13-36-17](https://techan.fr/images/2014/10/image2014-4-10-13-36-17.png)](https://techan.fr/images/2014/10/image2014-4-10-13-36-17.png)\n\n<span style=\"text-decoration: underline;\">** Note :**</span> Stopper un listener va empêcher les nouvelles connexions aux base que ce listener supporte. Cela ne coupe pas les connexions déjà ouvertes, car elles ne passent alors plus apr le listener mais vont directement à la base Oracle.\n\n \n\n##### Démarrer un listener\n\nlsnrctl <LISTENER NAME> start\n\n[![image2014-4-10 13-38-26](https://techan.fr/images/2014/10/image2014-4-10-13-38-26.png)](https://techan.fr/images/2014/10/image2014-4-10-13-38-26.png)\n\n \n\n##### Recharger un listener\n\nCette opération force le listener a relire et recharger sa configuration sans pour autant l’arrêter.\n\nlsnrctl reload <LISTENER NAME>\n\n[![image2014-4-10 13-40-13](https://techan.fr/images/2014/10/image2014-4-10-13-40-13.png)](https://techan.fr/images/2014/10/image2014-4-10-13-40-13.png)\n\n<span style=\"text-decoration: underline;\">**Note :**</span>  Cette action est très rapide, n’interrompt pas les connexions actives, ni les nouvelles connexions pendant le rechargement de la configuration.\n\n \n\n### Fichier de configuration du listener\n\nLa configuration du listener est situé dans le dossier suivant :\n\n- UNIX/Linux : $ORACLE_HOME/network/admin\n- Windows : %ORACLE_HOME%\\network\\admin\n\n[![image2014-4-10 13-46-36](https://techan.fr/images/2014/10/image2014-4-10-13-46-36.png)](https://techan.fr/images/2014/10/image2014-4-10-13-46-36.png)\n\nLe nom du fichier de configuration est : « listener.ora ».\n\n\n","html":"<p>Le listener est un programme fournit par Oracle qui écoute sur un port réseau, le 1521 par défaut, c’est la porte d’entrée dans le monde Oracle.  </p>\n\n<p>Ce programme reçoit les connexions clientes et les dispatche sur la bonne base Oracle. Un seul listener peut gérer les connexions vers plusieurs base de données.</p>\n\n<p>On peut toute fois mettre en place pas mal de configurations différentes avec cet outil :</p>\n\n<ul>\n<li>Un seul listener pour toutes les bases de la machine</li>\n<li>Un listener par base sur le host (chacun aura un port différent)</li>\n<li><p>Un lister par version d’Oracle sur la machine (un listener pour les 10g, un autre pour les 11g, …)</p></li>\n</ul>\n\n<h3 id=\"listertousleslistenersdmarrssurunemachine\">Lister tous les listeners démarrés sur une machine</h3>\n\n<p>Sur UNIX/Linux :</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-10-13-20-14.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-10-13-20-14.png\" alt=\"image2014-4-10 13-20-14\" title=\"\" /></a></p>\n\n<p>Dans cet exemple, on voit que la machine n’a qu’un seul listener démarré qui s’appelle : LISTENER.</p>\n\n<h3 id=\"afficherlesbasesenregistresdansunlistener\">Afficher les bases enregistrées dans un listener</h3>\n\n<p>Les base Oracle vont s’enregistrer dans le listener, en faisant cela, elles deviennent accessibles par les clients.</p>\n\n<p>On peut afficher les bases enregistrées dans un listener en utilisant l’outil « lsnrctl », c’est l’outil qui sert a administrer les listener d’Oracle. <br />\n<a href=\"https://techan.fr/images/2014/10/image2014-4-10-13-24-40.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-10-13-24-40.png\" alt=\"image2014-4-10 13-24-40\" title=\"\" /></a></p>\n\n<p>Le listener « LISTENER » écoute sur le poste 1512 et supporte deux bases Oracle lora12c1001d et TFTI1.</p>\n\n<p>Dans cet affichage, on trouve également l’emplacement du fichier de log du listener.</p>\n\n<h3 id=\"dmarrerarrterrechargerunlistener\">Démarrer / arrêter / recharger un listener</h3>\n\n<h5 id=\"stopperunlistener\">Stopper un listener</h5>\n\n<p>lsnrctl <LISTENER NAME> stop</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-10-13-36-17.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-10-13-36-17.png\" alt=\"image2014-4-10 13-36-17\" title=\"\" /></a></p>\n\n<p><span style=\"text-decoration: underline;\"><em>* Note :</em>*</span> Stopper un listener va empêcher les nouvelles connexions aux base que ce listener supporte. Cela ne coupe pas les connexions déjà ouvertes, car elles ne passent alors plus apr le listener mais vont directement à la base Oracle.</p>\n\n<h5 id=\"dmarrerunlistener\">Démarrer un listener</h5>\n\n<p>lsnrctl <LISTENER NAME> start</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-10-13-38-26.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-10-13-38-26.png\" alt=\"image2014-4-10 13-38-26\" title=\"\" /></a></p>\n\n<h5 id=\"rechargerunlistener\">Recharger un listener</h5>\n\n<p>Cette opération force le listener a relire et recharger sa configuration sans pour autant l’arrêter.</p>\n\n<p>lsnrctl reload <LISTENER NAME></p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-10-13-40-13.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-10-13-40-13.png\" alt=\"image2014-4-10 13-40-13\" title=\"\" /></a></p>\n\n<p><span style=\"text-decoration: underline;\"><strong>Note :</strong></span>  Cette action est très rapide, n’interrompt pas les connexions actives, ni les nouvelles connexions pendant le rechargement de la configuration.</p>\n\n<h3 id=\"fichierdeconfigurationdulistener\">Fichier de configuration du listener</h3>\n\n<p>La configuration du listener est situé dans le dossier suivant :</p>\n\n<ul>\n<li>UNIX/Linux : $ORACLE_HOME/network/admin</li>\n<li>Windows : %ORACLE_HOME%\\network\\admin</li>\n</ul>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-10-13-46-36.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-10-13-46-36.png\" alt=\"image2014-4-10 13-46-36\" title=\"\" /></a></p>\n\n<p>Le nom du fichier de configuration est : « listener.ora ».</p>","image":"https://techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-24T10:39:45.000Z","created_by":1,"updated_at":"2014-11-20T15:52:21.000Z","updated_by":1,"published_at":"2014-10-24T10:39:45.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":47,"uuid":"1c680219-5a54-49f1-895a-036530ff4702","title":"[iTop] Configuration de l'authentification Active Directory","slug":"itop-configuration-de-lauthentification-active-directory","markdown":"\niTop est une application web éditée par la société Combodo. Elle permet de faire la gestion de parc informatique (CMDB) ainsi que de la gestion de tickets suivant la norme ITIL.\n\nC’est un outil très sympa à utiliser et très « user friendly ».\n\nCependant, il manque d’une interface d’administration centralisée. Beaucoup de tâches d’administration doivent être faites en éditant les fichiers de configuration directement sur le serveur web.\n\nJe vais détailler ici comment utiliser l’authentification avec Active Directory dans cet outil.  \n  \n  \n\nLa configuration de authentification se fait dans le fichier de préférences d’iTop qui se trouve dans le dossier suivant : « /chemin/vers/itop/web/conf/production/ », son petit nom est « config-itop.php ».\n\n \n\nDans ce fichier, vous trouverez une section « authent-ldap », c’est ici que nous allons configurer l’accès à l’Active Directory.\n\n \n\nModifiez ce bloc pour qu’il ressemble à ceci, en adaptant avec vos paramètres :\n\n/** * * Modules specific settings * */ $MyModuleSettings = array( 'authent-ldap' => array ( 'host' => 'DNS ou IP du serveur AD', 'port' => 389, 'default_user' => 'DOMAINE\\compte AD', 'default_pwd' => 'Mot de passe', 'base_dn' => 'dc=domaine,dc=fr', 'user_query' => '(&(samaccountname=%1$s)(objectCategory=User))', 'options' => array ( 17 => 3, 8 => 0, ), 'debug' => false, ), 'itop-attachments' => array ( 'allowed_classes' => array ( 0 => 'Ticket', ), 'position' => 'relations', ), );\n\n \n\nEt voilà, l’authentification via l’AD est maintenant possible, pour ce faire, il faut créer un contact dans l’application puis le lier à un compte de type « Utilisateur LDAP ».\n\n \n\n<span style=\"text-decoration: underline;\">**Source :**</span>[La doc officielle](https://wiki.openitop.org/doku.php?id=active_directory_integration)\n\n\n","html":"<p>iTop est une application web éditée par la société Combodo. Elle permet de faire la gestion de parc informatique (CMDB) ainsi que de la gestion de tickets suivant la norme ITIL.</p>\n\n<p>C’est un outil très sympa à utiliser et très « user friendly ».</p>\n\n<p>Cependant, il manque d’une interface d’administration centralisée. Beaucoup de tâches d’administration doivent être faites en éditant les fichiers de configuration directement sur le serveur web.</p>\n\n<p>Je vais détailler ici comment utiliser l’authentification avec Active Directory dans cet outil.  </p>\n\n<p>La configuration de authentification se fait dans le fichier de préférences d’iTop qui se trouve dans le dossier suivant : « /chemin/vers/itop/web/conf/production/ », son petit nom est « config-itop.php ».</p>\n\n<p>Dans ce fichier, vous trouverez une section « authent-ldap », c’est ici que nous allons configurer l’accès à l’Active Directory.</p>\n\n<p>Modifiez ce bloc pour qu’il ressemble à ceci, en adaptant avec vos paramètres :</p>\n\n<p>/** * * Modules specific settings * */ $MyModuleSettings = array( 'authent-ldap' => array ( 'host' => 'DNS ou IP du serveur AD', 'port' => 389, 'default<em>user' => 'DOMAINE\\compte AD', 'default</em>pwd' => 'Mot de passe', 'base<em>dn' => 'dc=domaine,dc=fr', 'user</em>query' => '(&amp;(samaccountname=%1$s)(objectCategory=User))', 'options' => array ( 17 => 3, 8 => 0, ), 'debug' => false, ), 'itop-attachments' => array ( 'allowed_classes' => array ( 0 => 'Ticket', ), 'position' => 'relations', ), );</p>\n\n<p>Et voilà, l’authentification via l’AD est maintenant possible, pour ce faire, il faut créer un contact dans l’application puis le lier à un compte de type « Utilisateur LDAP ».</p>\n\n<p><span style=\"text-decoration: underline;\"><strong>Source :</strong></span><a href=\"https://wiki.openitop.org/doku.php?id=active_directory_integration\">La doc officielle</a></p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-24T13:48:33.000Z","created_by":1,"updated_at":"2014-10-27T09:54:37.000Z","updated_by":1,"published_at":"2014-10-24T13:48:33.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":48,"uuid":"7b45cab4-b60a-4ac8-82d9-dcad9a1e4fef","title":"[Varnish] Configurer Varnish pour booster Wordpress","slug":"varnish-configurer-varnish-pour-booster-wordpress","markdown":"\nVarnish est un accélérateur HTTP qui gère du cache, il booste scandaleusement les performances de site Web, mieux que ne le font les traditionnels plugins de cache proposés pour WordPress.\n\nNous allons voir comment paramètrer la chose pour booster un site tournant sur WordPress.  \n  \n Pour cela, il faut déjà installer Varnish :\n\naptitude install varnish\n\n \n\nQuelques changements dans l’architecture du serveur Web sont a prévoir, c’est Varnish qui répondra sur le port 80 et Apache lui se contentera du port 8080.\n\n \n\nDans Apache, voici le changements a apporter :\n\n1. Changer le **Listen 80 **en **Listen8080**\n2. Changer les **VirtualHost *:80 **ou **VirtualHost _default_:80** en **VirtualHost *:8080 ou VirtualHost _default_:8080**.\n\n \n\nVenons en maintenant à la configuration de Varnish, il y a deux fichier a éditer :\n\n- /etc/varnish/default.vcl\n- /etc/default/varnish\n\n \n\nDans le fichier « /etc/default/varnish », nous allons dire a Varnish d’écouter sur le port 80, il faut éditer le fichier de sorte à ce que le bloc « DAEMON_OPTS » ressemble à ceci :\n\nDAEMON_OPTS=\"-a :80 \\ -T localhost:6082 \\ -f /etc/varnish/default.vcl \\ -S /etc/varnish/secret \\ -s malloc,256m\"\n\n \n\nMaintenant, dans le fichier « /etc/varnish/default.vcl », nous allons spécifier un « backend », une source à Varnish et des règles pour le cache.\n\nVoici le contenu de ce fichier :\n\nbackend default { .host = \"127.0.0.1\"; .port = \"8080\"; } acl purge { \"localhost\"; \"192.168.0.0\"/24; } sub vcl_recv { if (req.url ~ \"preview=true\") { return(pass); } # Drop any cookies sent to WordPress. if (!(req.url ~ \"wp-(login|admin)\")) { unset req.http.cookie; } # allow PURGE from localhost and 192.168.55... if (req.request == \"PURGE\") { if (!client.ip ~ purge) { error 405 \"Not allowed.\"; } return (lookup); } } sub vcl_fetch { if (req.url ~ \"preview=true\") { return(hit_for_pass); } # Drop any cookies WordPress tries to send back to the client. if (!(req.url ~ \"wp-(login|admin)\")) { unset beresp.http.set-cookie; } } sub vcl_hit { if (req.request == \"PURGE\") { purge; error 200 \"Purged.\"; } } sub vcl_miss { if (req.request == \"PURGE\") { purge; error 200 \"Purged.\"; } }\n\nOn précise ici que Varnish  va écouter sur le port 8080 du localhost, et nous précisons les règles nécessaires à la gestion des cookies de WordPress. Nous permettons également de ne pas « cacher » les articles que nous prévisualisons; ce qui peut être pratique.\n\n \n\nUne fois que tout ceci est en place, il ne reste qu’a redémarrer Apache puis Varnish et le tour est joué !\n\n\n","html":"<p>Varnish est un accélérateur HTTP qui gère du cache, il booste scandaleusement les performances de site Web, mieux que ne le font les traditionnels plugins de cache proposés pour WordPress.</p>\n\n<p>Nous allons voir comment paramètrer la chose pour booster un site tournant sur WordPress.  </p>\n\n<p>Pour cela, il faut déjà installer Varnish :</p>\n\n<p>aptitude install varnish</p>\n\n<p>Quelques changements dans l’architecture du serveur Web sont a prévoir, c’est Varnish qui répondra sur le port 80 et Apache lui se contentera du port 8080.</p>\n\n<p>Dans Apache, voici le changements a apporter :</p>\n\n<ol>\n<li>Changer le <strong>Listen 80 <em>*en *</em>Listen8080</strong>  </li>\n<li><p>Changer les <strong>VirtualHost <em>:80 *</em>ou **VirtualHost <em>default</em>:80</strong> en <strong>VirtualHost *:8080 ou VirtualHost <em>default</em>:8080</strong>.</p></li>\n</ol>\n\n<p>Venons en maintenant à la configuration de Varnish, il y a deux fichier a éditer :</p>\n\n<ul>\n<li>/etc/varnish/default.vcl</li>\n<li><p>/etc/default/varnish</p></li>\n</ul>\n\n<p>Dans le fichier « /etc/default/varnish », nous allons dire a Varnish d’écouter sur le port 80, il faut éditer le fichier de sorte à ce que le bloc « DAEMON_OPTS » ressemble à ceci :</p>\n\n<p>DAEMON_OPTS=\"-a :80 \\ -T localhost:6082 \\ -f /etc/varnish/default.vcl \\ -S /etc/varnish/secret \\ -s malloc,256m\"</p>\n\n<p>Maintenant, dans le fichier « /etc/varnish/default.vcl », nous allons spécifier un « backend », une source à Varnish et des règles pour le cache.</p>\n\n<p>Voici le contenu de ce fichier :</p>\n\n<p>backend default { .host = \"127.0.0.1\"; .port = \"8080\"; } acl purge { \"localhost\"; \"192.168.0.0\"/24; } sub vcl<em>recv { if (req.url ~ \"preview=true\") { return(pass); } # Drop any cookies sent to WordPress. if (!(req.url ~ \"wp-(login|admin)\")) { unset req.http.cookie; } # allow PURGE from localhost and 192.168.55... if (req.request <mark> \"PURGE\") { if (!client.ip ~ purge) { error 405 \"Not allowed.\"; } return (lookup); } } sub vcl</em>fetch { if (req.url ~ \"preview=true\") { return(hit<em>for</em>pass); } # Drop any cookies WordPress tries to send back to the client. if (!(req.url ~ \"wp-(login|admin)\")) { unset beresp.http.set-cookie; } } sub vcl<em>hit { if (req.request </mark> \"PURGE\") { purge; error 200 \"Purged.\"; } } sub vcl</em>miss { if (req.request == \"PURGE\") { purge; error 200 \"Purged.\"; } }</p>\n\n<p>On précise ici que Varnish  va écouter sur le port 8080 du localhost, et nous précisons les règles nécessaires à la gestion des cookies de WordPress. Nous permettons également de ne pas « cacher » les articles que nous prévisualisons; ce qui peut être pratique.</p>\n\n<p>Une fois que tout ceci est en place, il ne reste qu’a redémarrer Apache puis Varnish et le tour est joué !</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-27T09:46:13.000Z","created_by":1,"updated_at":"2015-11-17T16:16:55.000Z","updated_by":1,"published_at":"2014-10-27T09:46:13.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":49,"uuid":"f9290810-8a52-43b3-ba97-f9c859b98da0","title":"[Windows] Créer des jonctions de dossiers","slug":"windows-creer-des-jonctions-de-dossiers","markdown":"\nLe but  de cet article est d’exposer comment créer des liens symboliques sur Windows, ils s’appellent « Jonction » sur ce système.  \n  \n Ceci dans le but de déplacer un dossier sur une autre partition ou un autre disque, cela peut être utile lorsque le programme que vous utilisez ne vous propose pas l’emplacement du dossier a déplacer (Steam, iCloud Drive, …).\n\n \n\nDans cet exemple, je crée une « jonction » entre le dossier « P:\\iCloud\\Drive » et le dossier « D:\\Users\\xxx\\iCloudDrive ».\n\nD:\\Users\\xxx>mklink /J \"D:\\Users\\xxx\\iCloudDrive\" \"P:\\iCloud\\Drive\" Jonction créée pour D:\\Users\\xxx\\iCloudDrive <<===>> P:\\iCloud\\Drive\n\n- **/J **: créer une jonction\n- **Dossier cible**\n- **Dossier source**\n\n \n\nOn vérifie après coup :\n\nD:\\Users\\xxx>dir Le volume dans le lecteur D s'appelle DATA Le numéro de série du volume est XXXX-XXXX Répertoire de D:\\Users\\xxx 28/10/2014 12:34 <REP> . 28/10/2014 12:34 <REP> .. 28/10/2014 11:32 <REP> Desktop 28/10/2014 12:09 <REP> Documents 30/04/2014 14:59 <REP> Documentum 24/10/2014 13:05 <REP> Downloads 28/10/2014 12:14 <REP> Favorites 28/10/2014 12:34 <JONCTION> iCloudDrive [P:\\iCloud\\Drive]\n\nOn voit donc bien que le dossier « D:\\Users\\xxx\\iCloudDrive » est en fait un lien vers le dossier « P:\\iCloud\\Drive ».\n\n\n","html":"<p>Le but  de cet article est d’exposer comment créer des liens symboliques sur Windows, ils s’appellent « Jonction » sur ce système.  </p>\n\n<p>Ceci dans le but de déplacer un dossier sur une autre partition ou un autre disque, cela peut être utile lorsque le programme que vous utilisez ne vous propose pas l’emplacement du dossier a déplacer (Steam, iCloud Drive, …).</p>\n\n<p>Dans cet exemple, je crée une « jonction » entre le dossier « P:\\iCloud\\Drive » et le dossier « D:\\Users\\xxx\\iCloudDrive ».</p>\n\n<p>D:\\Users\\xxx>mklink /J \"D:\\Users\\xxx\\iCloudDrive\" \"P:\\iCloud\\Drive\" Jonction créée pour D:\\Users\\xxx\\iCloudDrive &lt;&lt;===>> P:\\iCloud\\Drive</p>\n\n<ul>\n<li><em>*/J *</em>: créer une jonction</li>\n<li><strong>Dossier cible</strong></li>\n<li><p><strong>Dossier source</strong></p></li>\n</ul>\n\n<p>On vérifie après coup :</p>\n\n<p>D:\\Users\\xxx>dir Le volume dans le lecteur D s'appelle DATA Le numéro de série du volume est XXXX-XXXX Répertoire de D:\\Users\\xxx 28/10/2014 12:34 <REP> . 28/10/2014 12:34 <REP> .. 28/10/2014 11:32 <REP> Desktop 28/10/2014 12:09 <REP> Documents 30/04/2014 14:59 <REP> Documentum 24/10/2014 13:05 <REP> Downloads 28/10/2014 12:14 <REP> Favorites 28/10/2014 12:34 <JONCTION> iCloudDrive [P:\\iCloud\\Drive]</p>\n\n<p>On voit donc bien que le dossier « D:\\Users\\xxx\\iCloudDrive » est en fait un lien vers le dossier « P:\\iCloud\\Drive ».</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-28T16:09:53.000Z","created_by":1,"updated_at":"2015-08-07T11:39:22.000Z","updated_by":1,"published_at":"2014-10-28T16:09:53.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":50,"uuid":"7aa2aa2b-c231-42d7-b7f3-f6946e115f74","title":"[RedHat] Ajouter un disque à chaud, sans rescan-scsi-bus","slug":"redhat-ajouter-un-disque-a-chaud-sans-rescan-scsi-bus","markdown":"\nSur les anciennes versions de RedHat, la commande rescan-scsi-bus n’est pas forcément disponible dans les dépôts, il faut donc s’en passer pour ajouter les disques à chaud.\n\n\n## Ajouter un disque à chaud\n\nPour cela, il suffit de faire un cat dans des fichiers spéciaux sous le /sys.\n\n[root@xxxxxxx ~]# ll /sys/class/scsi_host/ total 0 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host0 -> ../../devices/pci0000:00/0000:00:07.1/ata1/host0/scsi_host/host0 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host1 -> ../../devices/pci0000:00/0000:00:07.1/ata2/host1/scsi_host/host1 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host2 -> ../../devices/pci0000:00/0000:00:10.0/host2/scsi_host/host2 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host3 -> ../../devices/pci0000:00/0000:00:11.0/0000:02:01.0/host3/scsi_host/host3 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host4 -> ../../devices/pci0000:00/0000:00:11.0/0000:02:02.0/host4/scsi_host/host4 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host5 -> ../../devices/pci0000:00/0000:00:11.0/0000:02:03.0/host5/scsi_host/host5\n\n \n\nChacun de ces dossiers « host » contient un fichier « scan », c’est dans ces fichiers que nous allons faire ces cat :\n\n[root@xxxxxxx ~]# echo \"- - -\" > /sys/class/scsi_host/host0/scan\n\n \n\nVérifier que le disque soit bien apparu après quelques secondes en utilisant la commande « fdisk -l ».\n\n \n\n\n## Redimensionner un disque à chaud\n\nPour redimensionner un disque à chaud, par exemple si vous ajouter de l’espace à ce disque dans VMware, il faut faire une manipulation différente.\n\nDéjà, il faut récupérer l’identifiant du disque dans le bus SCSI, par exemple, si je veux étendre le disque /dev/sdb.\n\n# udevadm info -q all -n /dev/sdb | grep sdb P: /devices/pci0000:00/0000:00:10.0/host0/target0:0:1/0:0:1:0/block/sdb N: sdb E: DEVPATH=/devices/pci0000:00/0000:00:10.0/host0/target0:0:1/0:0:1:0/block/sdb E: DEVNAME=/dev/sdb\n\n \n\nLe disque /dev/sdb à donc comme identifiant « 0:0:1 », pour que l’agrandissement soit vu par le système, il faut passer la commande suivante :\n\n# echo \" \" > /sys/class/scsi_disk/0\\:0\\:1\\:0/device/rescan\n\n \n\n \n\n \n\n\n","html":"<p>Sur les anciennes versions de RedHat, la commande rescan-scsi-bus n’est pas forcément disponible dans les dépôts, il faut donc s’en passer pour ajouter les disques à chaud.</p>\n\n<h2 id=\"ajouterundisquechaud\">Ajouter un disque à chaud</h2>\n\n<p>Pour cela, il suffit de faire un cat dans des fichiers spéciaux sous le /sys.</p>\n\n<p>[root@xxxxxxx ~]# ll /sys/class/scsi<em>host/ total 0 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host0 -> ../../devices/pci0000:00/0000:00:07.1/ata1/host0/scsi</em>host/host0 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host1 -> ../../devices/pci0000:00/0000:00:07.1/ata2/host1/scsi<em>host/host1 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host2 -> ../../devices/pci0000:00/0000:00:10.0/host2/scsi</em>host/host2 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host3 -> ../../devices/pci0000:00/0000:00:11.0/0000:02:01.0/host3/scsi<em>host/host3 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host4 -> ../../devices/pci0000:00/0000:00:11.0/0000:02:02.0/host4/scsi</em>host/host4 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host5 -> ../../devices/pci0000:00/0000:00:11.0/0000:02:03.0/host5/scsi_host/host5</p>\n\n<p>Chacun de ces dossiers « host » contient un fichier « scan », c’est dans ces fichiers que nous allons faire ces cat :</p>\n\n<p>[root@xxxxxxx ~]# echo \"- - -\" > /sys/class/scsi_host/host0/scan</p>\n\n<p>Vérifier que le disque soit bien apparu après quelques secondes en utilisant la commande « fdisk -l ».</p>\n\n<h2 id=\"redimensionnerundisquechaud\">Redimensionner un disque à chaud</h2>\n\n<p>Pour redimensionner un disque à chaud, par exemple si vous ajouter de l’espace à ce disque dans VMware, il faut faire une manipulation différente.</p>\n\n<p>Déjà, il faut récupérer l’identifiant du disque dans le bus SCSI, par exemple, si je veux étendre le disque /dev/sdb.</p>\n\n<h1 id=\"udevadminfoqallndevsdbgrepsdbpdevicespci000000000000100host0target0010010blocksdbnsdbedevpathdevicespci000000000000100host0target0010010blocksdbedevnamedevsdb\">udevadm info -q all -n /dev/sdb | grep sdb P: /devices/pci0000:00/0000:00:10.0/host0/target0:0:1/0:0:1:0/block/sdb N: sdb E: DEVPATH=/devices/pci0000:00/0000:00:10.0/host0/target0:0:1/0:0:1:0/block/sdb E: DEVNAME=/dev/sdb</h1>\n\n<p>Le disque /dev/sdb à donc comme identifiant « 0:0:1 », pour que l’agrandissement soit vu par le système, il faut passer la commande suivante :</p>\n\n<h1 id=\"echosysclassscsi_disk0010devicerescan\">echo \" \" > /sys/class/scsi_disk/0\\:0\\:1\\:0/device/rescan</h1>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-03T10:58:04.000Z","created_by":1,"updated_at":"2015-11-17T16:13:36.000Z","updated_by":1,"published_at":"2014-11-03T10:58:04.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":51,"uuid":"3e7101b5-37b2-49a7-a5a9-9e1e60ec9ee5","title":"[NFS] Lister les partages NFS sur une machine distante","slug":"nfs-lister-les-partages-nfs-sur-une-machine-distante","markdown":"\nVoici une commande qui peut aider nos amis Linuxiens que j’ai découverte lors d’investigations sur un serveur NAS récalcitrant.\n\nElle permet de lister depuis une autre machine Linux les exprots NFS fait sur un serveur. Elle montre également les hôtes ayant des autorisations sur les partages.  \n  \n  \n\nraphael@xxxx:~$ showmount -e xxxx.xxxx.fr Export list for xxxx.xxxx.fr: /partage 10.0.0.200\n\nOn voit ici que la machine xxxx.xxxx.fr partage /partage avec la machine 10.0.0.200.\n\n\n","html":"<p>Voici une commande qui peut aider nos amis Linuxiens que j’ai découverte lors d’investigations sur un serveur NAS récalcitrant.</p>\n\n<p>Elle permet de lister depuis une autre machine Linux les exprots NFS fait sur un serveur. Elle montre également les hôtes ayant des autorisations sur les partages.  </p>\n\n<p>raphael@xxxx:~$ showmount -e xxxx.xxxx.fr Export list for xxxx.xxxx.fr: /partage 10.0.0.200</p>\n\n<p>On voit ici que la machine xxxx.xxxx.fr partage /partage avec la machine 10.0.0.200.</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-14T09:52:45.000Z","created_by":1,"updated_at":"2014-11-14T10:21:27.000Z","updated_by":1,"published_at":"2014-11-14T09:52:45.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":52,"uuid":"84149789-b642-498d-8817-04259534060d","title":"[Ubuntu] Remplacer Unity par Gnome","slug":"ubuntu-remplacer-unity-par-gnome","markdown":"\nLes nouvelles versions d’Ubuntu embarquent par défaut un gestionnaire de fenêtres nommé Unity, remplaçant ce bon vieux Gnome, Unity apporte tout pleins d’effets graphiques sympa mais que je voulais désactiver, je souhaitais également retrouver une interface un peu plus simple…\n\nQue vous soyez nostalgique du Gnome ou tout simplement pour des raisons de performances, sachez que l’on peut le remettre ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)  \n  \n  \n\nPour cela, il vous suffit d’utiliser la commande :\n\naptitude install gnome-session-fallback gnome-desktop-environment\n\n \n\nAprès le téléchargement d’un bon nombre de paquets, vous devrez vous déconnecter, cliquer sur l’icône juste à côté de votre nom d’utilisateur sur l’écran de connexion et choisir un des Gnome proposés (certains proposent Compiz, d’autres non, à vous de choisir ","html":"<p>Les nouvelles versions d’Ubuntu embarquent par défaut un gestionnaire de fenêtres nommé Unity, remplaçant ce bon vieux Gnome, Unity apporte tout pleins d’effets graphiques sympa mais que je voulais désactiver, je souhaitais également retrouver une interface un peu plus simple…</p>\n\n<p>Que vous soyez nostalgique du Gnome ou tout simplement pour des raisons de performances, sachez que l’on peut le remettre ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" />  </p>\n\n<p>Pour cela, il vous suffit d’utiliser la commande :</p>\n\n<p>aptitude install gnome-session-fallback gnome-desktop-environment</p>\n\n<p>Après le téléchargement d’un bon nombre de paquets, vous devrez vous déconnecter, cliquer sur l’icône juste à côté de votre nom d’utilisateur sur l’écran de connexion et choisir un des Gnome proposés (certains proposent Compiz, d’autres non, à vous de choisir ","image":"https://techan.fr/images/2014/11/gnome_logo.gif","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-14T10:20:03.000Z","created_by":1,"updated_at":"2015-02-03T11:14:59.000Z","updated_by":1,"published_at":"2014-11-14T10:20:03.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":53,"uuid":"b5b49a6b-af15-4c7d-9ff5-77eb61c49b8a","title":"[Ubuntu] Activer le partage d'écran depuis la ligne de commande","slug":"ubuntu-activer-le-partage-decran-depuis-la-ligne-de-commande","markdown":"\n***<span style=\"text-decoration: underline;\">[Edit 06/05/2015] :</span>** Testé et approuvé sur Ubuntu 15.04*\n\nComme d’habitude, je me suis rendu compte que je n’avais pas activé l’accès à distance au bureau sur le serveur Ubuntu de la maison au mauvais moment, celui ou je n’étais pas à la maison …\n\n \n\nJ’ai donc fouiner sur l’internet multimédia pour trouver comment faire ça depuis la ligne de commande et j’ai fini par trouver.  \n  \n Déjà, il faut installer « vino » :\n\naptitude install vino\n\nEnsuite, il faut activer le partage de bureau, <span style=\"text-decoration: underline;\">ceci est à exécuter en étant connecté avec le compte de l’utilisateur qui va partager son bureau</span>.\n\n$ export DISPLAY=:0 $ gsettings set org.gnome.Vino enabled true\n\nEt ensuite, il faut lancer le serveur « vino » :\n\nraphael@xxxx:~$ DISPLAY=:0.0 /usr/lib/vino/vino-server & [1] 30950 raphael@xxxx:~$ disown 30950\n\nLa commande « disown » permet de détacher le processus de votre session en cours, « vino » continuera de tourner même si vous fermez votre session SSH.\n\n \n\nSi jamais vous avez des erreurs d’encryption incompatibles entre votre client VNC et le serveur « vino », voici la commande à utiliser :\n\ngsettings set org.gnome.Vino require-encryption false\n\n \n\n\n","html":"<p><strong><em><span style=\"text-decoration: underline;\">[Edit 06/05/2015] :</span></strong> Testé et approuvé sur Ubuntu 15.04</em></p>\n\n<p>Comme d’habitude, je me suis rendu compte que je n’avais pas activé l’accès à distance au bureau sur le serveur Ubuntu de la maison au mauvais moment, celui ou je n’étais pas à la maison …</p>\n\n<p>J’ai donc fouiner sur l’internet multimédia pour trouver comment faire ça depuis la ligne de commande et j’ai fini par trouver.  </p>\n\n<p>Déjà, il faut installer « vino » :</p>\n\n<p>aptitude install vino</p>\n\n<p>Ensuite, il faut activer le partage de bureau, <span style=\"text-decoration: underline;\">ceci est à exécuter en étant connecté avec le compte de l’utilisateur qui va partager son bureau</span>.</p>\n\n<p>$ export DISPLAY=:0 $ gsettings set org.gnome.Vino enabled true</p>\n\n<p>Et ensuite, il faut lancer le serveur « vino » :</p>\n\n<p>raphael@xxxx:~$ DISPLAY=:0.0 /usr/lib/vino/vino-server &amp; [1] 30950 raphael@xxxx:~$ disown 30950</p>\n\n<p>La commande « disown » permet de détacher le processus de votre session en cours, « vino » continuera de tourner même si vous fermez votre session SSH.</p>\n\n<p>Si jamais vous avez des erreurs d’encryption incompatibles entre votre client VNC et le serveur « vino », voici la commande à utiliser :</p>\n\n<p>gsettings set org.gnome.Vino require-encryption false</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-14T10:35:06.000Z","created_by":1,"updated_at":"2015-05-06T18:13:23.000Z","updated_by":1,"published_at":"2014-11-14T10:35:06.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":54,"uuid":"574e97f4-a26b-45c4-a4f9-eb251e7b37e1","title":"[BackupExec] Problème de backup de montages NFS","slug":"backupexec-probleme-de-backup-de-montages-nfs","markdown":"\nRécemment, nous avons eu un souci de sauvegarde de partage NFS via BackupExec. Nous utilisons un serveur Linux sur lequel sont montés les partages a sauvegarder, l’agent du Linux réalise alors les backups depuis cette machine.\n\nSur certains partages, les backups étaient marqués comme « succesfull » mais ne pesaient qu’un peu plus d’1 Ko alors qu’ils contiennent plusieurs (centaines) de Go de données.  \n  \n Dans les logs on voyait bien que l’agent « passait » (Skip) tous les dossiers dans ces montages NFS. Après pas mal de recherches infructueuses sur Internet et l’appel à un ami, j’ai trouvé ceci dans l’admin guide de BackupExec.\n\n[![be_nfs_admin_guide](https://techan.fr/images/2014/11/be_nfs_admin_guide-300x238.png)](https://techan.fr/images/2014/11/be_nfs_admin_guide.png)Le plus dur après a été de trouver ou renseigner cette option … Voici ou cela se trouve :\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_334\" style=\"width: 310px\">[![Ouvrez les jobs définis sur le serveur puis : Clic droit -> Edit sur le job qui ne fonctionne pas](https://techan.fr/images/2014/11/be_option_nfs1-300x230.png)](https://techan.fr/images/2014/11/be_option_nfs1.png)Ouvrez les jobs définis sur le serveur puis :  \nClic droit -> Edit  \nsur le job qui ne fonctionne pas\n\n</div> \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_335\" style=\"width: 310px\">[![Dans la fenêtre qui s'ouvre, cliquer sur \"Edit\" en bas de la colonne \"Backup\".](https://techan.fr/images/2014/11/be_option_nfs2-300x210.png)](https://techan.fr/images/2014/11/be_option_nfs2.png)Dans la fenêtre qui s’ouvre, cliquer sur « Edit » en bas de la colonne « Backup ».\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_336\" style=\"width: 310px\">[![Dans la nouvelle fenêtre qui s'ouvre, cliquer sur \"Linux and Macintosh\" dans le menu à gauche.](https://techan.fr/images/2014/11/be_option_nfs3-300x187.png)](https://techan.fr/images/2014/11/be_option_nfs3.png)Dans la nouvelle fenêtre qui s’ouvre, cliquer sur « Linux and Macintosh » dans le menu à gauche.\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_337\" style=\"width: 310px\">[![Cocher l'option \"Follow remonte mount points\".](https://techan.fr/images/2014/11/be_option_nfs4-300x188.png)](https://techan.fr/images/2014/11/be_option_nfs4.png)Cocher l’option « Follow remonte mount points ».\n\n</div>Relancer ensuite le backup, tout devrait mieux se passer …\n\n\n","html":"<p>Récemment, nous avons eu un souci de sauvegarde de partage NFS via BackupExec. Nous utilisons un serveur Linux sur lequel sont montés les partages a sauvegarder, l’agent du Linux réalise alors les backups depuis cette machine.</p>\n\n<p>Sur certains partages, les backups étaient marqués comme « succesfull » mais ne pesaient qu’un peu plus d’1 Ko alors qu’ils contiennent plusieurs (centaines) de Go de données.  </p>\n\n<p>Dans les logs on voyait bien que l’agent « passait » (Skip) tous les dossiers dans ces montages NFS. Après pas mal de recherches infructueuses sur Internet et l’appel à un ami, j’ai trouvé ceci dans l’admin guide de BackupExec.</p>\n\n<p><a href=\"https://techan.fr/images/2014/11/be_nfs_admin_guide.png\"><img src=\"https://techan.fr/images/2014/11/be_nfs_admin_guide-300x238.png\" alt=\"be<em>nfs</em>admin_guide\" title=\"\" /></a>Le plus dur après a été de trouver ou renseigner cette option … Voici ou cela se trouve :</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_334\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/11/be_option_nfs1.png\"><img src=\"https://techan.fr/images/2014/11/be_option_nfs1-300x230.png\" alt=\"Ouvrez les jobs définis sur le serveur puis : Clic droit -> Edit sur le job qui ne fonctionne pas\" title=\"\" /></a>Ouvrez les jobs définis sur le serveur puis : <br />\nClic droit -> Edit <br />\nsur le job qui ne fonctionne pas</p>\n\n<p></div> </p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_335\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/11/be_option_nfs2.png\"><img src=\"https://techan.fr/images/2014/11/be_option_nfs2-300x210.png\" alt=\"Dans la fenêtre qui s'ouvre, cliquer sur &quot;Edit&quot; en bas de la colonne &quot;Backup&quot;.\" title=\"\" /></a>Dans la fenêtre qui s’ouvre, cliquer sur « Edit » en bas de la colonne « Backup ».</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_336\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/11/be_option_nfs3.png\"><img src=\"https://techan.fr/images/2014/11/be_option_nfs3-300x187.png\" alt=\"Dans la nouvelle fenêtre qui s'ouvre, cliquer sur &quot;Linux and Macintosh&quot; dans le menu à gauche.\" title=\"\" /></a>Dans la nouvelle fenêtre qui s’ouvre, cliquer sur « Linux and Macintosh » dans le menu à gauche.</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_337\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/11/be_option_nfs4.png\"><img src=\"https://techan.fr/images/2014/11/be_option_nfs4-300x188.png\" alt=\"Cocher l'option &quot;Follow remonte mount points&quot;.\" title=\"\" /></a>Cocher l’option « Follow remonte mount points ».</p>\n\n<p></div>Relancer ensuite le backup, tout devrait mieux se passer …</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-14T11:08:10.000Z","created_by":1,"updated_at":"2014-11-14T11:08:10.000Z","updated_by":1,"published_at":"2014-11-14T11:08:10.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":55,"uuid":"df5cb2cd-4a5b-419c-80d8-ca7a8933599d","title":"[BackupExec] Mettre l'agent Linux en mode \"debug\"","slug":"backupexec-mettre-lagent-linux-en-mode-debug","markdown":"\nVoici une astuce pour mettre en agent BackupExec Linux en mode debug afin de pouvoir analyser ses logs (très très très très) verbeux.  \n  \n Dans un premier temps, il faut arrêter l’agent :\n\nroot@xxxx # /opt/VRTSralus/bin/VRTSralus.init stop\n\nEnsuite, on peut avoir toutes les options de lancement de l’agent en faisant la commande :\n\n/opt/VRTSralus/bin/beremote --help\n\nEt donc pour le mode debug, on peut soit tout envoyer vers la sortie écran :\n\n/opt/VRTSralus/bin/beremote --log-console &\n\nSoit envoyer sa sortie dans un fichier (ce que je vous recommande vu la quantité de lignes qu’il va sortir …\n\n/opt/VRTSralus/bin/beremote --log-file </chemin/vers/le/log> &\n\n \n\n**<span style=\"text-decoration: underline;\">Source :</span>**\n\n[Sur le site de symantec](http://www.symantec.com/business/support/index?page=content&id=TECH35477)\n\n\n","html":"<p>Voici une astuce pour mettre en agent BackupExec Linux en mode debug afin de pouvoir analyser ses logs (très très très très) verbeux.  </p>\n\n<p>Dans un premier temps, il faut arrêter l’agent :</p>\n\n<p>root@xxxx # /opt/VRTSralus/bin/VRTSralus.init stop</p>\n\n<p>Ensuite, on peut avoir toutes les options de lancement de l’agent en faisant la commande :</p>\n\n<p>/opt/VRTSralus/bin/beremote --help</p>\n\n<p>Et donc pour le mode debug, on peut soit tout envoyer vers la sortie écran :</p>\n\n<p>/opt/VRTSralus/bin/beremote --log-console &amp;</p>\n\n<p>Soit envoyer sa sortie dans un fichier (ce que je vous recommande vu la quantité de lignes qu’il va sortir …</p>\n\n<p>/opt/VRTSralus/bin/beremote --log-file </chemin/vers/le/log> &amp;</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Source :</span></strong></p>\n\n<p><a href=\"http://www.symantec.com/business/support/index?page=content&amp;id=TECH35477\">Sur le site de symantec</a></p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-14T11:16:11.000Z","created_by":1,"updated_at":"2014-11-14T11:16:11.000Z","updated_by":1,"published_at":"2014-11-14T11:16:11.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":56,"uuid":"b8331aad-3757-465c-8617-4fe6a4937b10","title":"[Linux Tuning] Ajuster la swappiness","slug":"linux-tuning-ajuster-la-swappiness","markdown":"\nLa swappiness est un paramètres du noyau Linux (modifiable à chaud) prend une valeur entre 0 et 100. Ce paramètre définit la priorité avec laquelle le noyau va swapper ses pages mémoires de la RAM vers le Disque.  \n  \n Linux a tendance a swapper les processes qui tournent longtemps car il n’utilisent jamais tout le temps toute la mémoire qui leur ait dévolue. Genre, Oracle n’a jamais toute sa mémoire active, certaines zones sont « dormantes » et ont tendance à être swappées.\n\nSur les RedHat / Oracle Linux la valeur est donc par défaut à 60 alors qu’une valeur à 20 ou 10 permettrait d’avoir sans doute plus de perfermormance (moins d’accès disques lorsqu’on remonte des pages mémoires depuis le disque).\n\nPar contre, il ne faut jamais mettre 0, cela empêche totalement le système de swapper, ce qui peut être dommage en cas de manque de RAM (OOM Killer bonjour !).\n\n \n\n\n## Modification de la swappiness :\n\n##### A chaud (temporaire):\n\nPour descendre la valeur à 20 :\n\necho 20 > /proc/sys/vm/swappiness\n\n#####  Modification permanente :\n\nAjouter ou modifier la ligne\n\nvm.swappiness=20\n\ndans le fichier « /etc/sysctl.conf ».\n\n\n","html":"<p>La swappiness est un paramètres du noyau Linux (modifiable à chaud) prend une valeur entre 0 et 100. Ce paramètre définit la priorité avec laquelle le noyau va swapper ses pages mémoires de la RAM vers le Disque.  </p>\n\n<p>Linux a tendance a swapper les processes qui tournent longtemps car il n’utilisent jamais tout le temps toute la mémoire qui leur ait dévolue. Genre, Oracle n’a jamais toute sa mémoire active, certaines zones sont « dormantes » et ont tendance à être swappées.</p>\n\n<p>Sur les RedHat / Oracle Linux la valeur est donc par défaut à 60 alors qu’une valeur à 20 ou 10 permettrait d’avoir sans doute plus de perfermormance (moins d’accès disques lorsqu’on remonte des pages mémoires depuis le disque).</p>\n\n<p>Par contre, il ne faut jamais mettre 0, cela empêche totalement le système de swapper, ce qui peut être dommage en cas de manque de RAM (OOM Killer bonjour !).</p>\n\n<h2 id=\"modificationdelaswappiness\">Modification de la swappiness :</h2>\n\n<h5 id=\"achaudtemporaire\">A chaud (temporaire):</h5>\n\n<p>Pour descendre la valeur à 20 :</p>\n\n<p>echo 20 > /proc/sys/vm/swappiness</p>\n\n<h5 id=\"modificationpermanente\"> Modification permanente :</h5>\n\n<p>Ajouter ou modifier la ligne</p>\n\n<p>vm.swappiness=20</p>\n\n<p>dans le fichier « /etc/sysctl.conf ».</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-14T14:36:51.000Z","created_by":1,"updated_at":"2014-11-20T17:18:46.000Z","updated_by":1,"published_at":"2014-11-14T14:36:51.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":57,"uuid":"728df380-45ee-43aa-b73b-211c59815e75","title":"[Apps] Retoucher ses photos et créer des GIF animés","slug":"apps-retoucher-ses-photos-et-creer-des-gif-animes","markdown":"\nCe matin, je cherchais un moyen de retoucher des photos et de créer un GIF animé avec ces dernières, bref, je voulais faire un truc fun avec mon chat bête.\n\nJ’ai trouvé deux applis sympa et gratuites, une pour la retouche de photos[Aviary](https://itunes.apple.com/fr/app/photo-editor-by-aviary/id527445936?mt=8#) et un deuxième [GifBoom](https://itunes.apple.com/fr/app/gifboom/id457502693?mt=8#) qui permet de créer des GIF ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\nPartant de ces deux magnifiques photos prises par un néophyte de l’appareil photo sur smartphone, je voulais ajouter des effets et du texte.\n\n<div class=\"wp-caption alignleft\" id=\"attachment_353\" style=\"width: 235px\">[![Avant](https://techan.fr/images/2014/11/day_orig-225x300.jpg)](https://techan.fr/images/2014/11/day_orig.jpg)Avant\n\n</div><div class=\"wp-caption alignleft\" id=\"attachment_354\" style=\"width: 235px\">[![Après](https://techan.fr/images/2014/11/day-225x300.jpg)](https://techan.fr/images/2014/11/day.jpg)Après\n\n</div> \n\n<div class=\"wp-caption alignleft\" id=\"attachment_356\" style=\"width: 235px\">[![Avant](https://techan.fr/images/2014/11/night_orig-225x300.jpg)](https://techan.fr/images/2014/11/night_orig.jpg)Avant\n\n</div><div class=\"wp-caption alignleft\" id=\"attachment_364\" style=\"width: 235px\">[![Tadaaaaaaam !](https://techan.fr/images/2014/11/chat_bete1-225x300.gif)](https://techan.fr/images/2014/11/chat_bete1.gif)Après\n\n</div> \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\nUne fois ces deux magnifiques photos retouchées dans Aviary, je les ai importées dans GifBoom pour créer ce chef-d’œuvre :\n\n \n\n[![chat_bete](https://techan.fr/images/2014/11/chat_bete.gif)](https://techan.fr/images/2014/11/chat_bete.gif)\n\n \n\n\n","html":"<p>Ce matin, je cherchais un moyen de retoucher des photos et de créer un GIF animé avec ces dernières, bref, je voulais faire un truc fun avec mon chat bête.</p>\n\n<p>J’ai trouvé deux applis sympa et gratuites, une pour la retouche de photos<a href=\"https://itunes.apple.com/fr/app/photo-editor-by-aviary/id527445936?mt=8#\">Aviary</a> et un deuxième <a href=\"https://itunes.apple.com/fr/app/gifboom/id457502693?mt=8#\">GifBoom</a> qui permet de créer des GIF <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>Partant de ces deux magnifiques photos prises par un néophyte de l’appareil photo sur smartphone, je voulais ajouter des effets et du texte.</p>\n\n<p><div class=\"wp-caption alignleft\" id=\"attachment_353\" style=\"width: 235px\"><a href=\"https://techan.fr/images/2014/11/day_orig.jpg\"><img src=\"https://techan.fr/images/2014/11/day_orig-225x300.jpg\" alt=\"Avant\" title=\"\" /></a>Avant</p>\n\n<p></div><div class=\"wp-caption alignleft\" id=\"attachment_354\" style=\"width: 235px\"><a href=\"https://techan.fr/images/2014/11/day.jpg\"><img src=\"https://techan.fr/images/2014/11/day-225x300.jpg\" alt=\"Après\" title=\"\" /></a>Après</p>\n\n<p></div> </p>\n\n<p><div class=\"wp-caption alignleft\" id=\"attachment_356\" style=\"width: 235px\"><a href=\"https://techan.fr/images/2014/11/night_orig.jpg\"><img src=\"https://techan.fr/images/2014/11/night_orig-225x300.jpg\" alt=\"Avant\" title=\"\" /></a>Avant</p>\n\n<p></div><div class=\"wp-caption alignleft\" id=\"attachment_364\" style=\"width: 235px\"><a href=\"https://techan.fr/images/2014/11/chat_bete1.gif\"><img src=\"https://techan.fr/images/2014/11/chat_bete1-225x300.gif\" alt=\"Tadaaaaaaam !\" title=\"\" /></a>Après</p>\n\n<p></div> </p>\n\n<p>Une fois ces deux magnifiques photos retouchées dans Aviary, je les ai importées dans GifBoom pour créer ce chef-d’œuvre :</p>\n\n<p><a href=\"https://techan.fr/images/2014/11/chat_bete.gif\"><img src=\"https://techan.fr/images/2014/11/chat_bete.gif\" alt=\"chat_bete\" title=\"\" /></a></p>","image":"https://techan.fr/images/2014/11/app-store.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-17T11:28:56.000Z","created_by":1,"updated_at":"2015-01-22T18:18:42.000Z","updated_by":1,"published_at":"2014-11-17T11:28:56.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":58,"uuid":"f646faaf-c966-42ff-8090-bbda78854a79","title":"[Ubuntu] Installer TeamViewer 9 sur Ubuntu 14.10","slug":"ubuntu-installer-teamviewer-9-sur-ubuntu-14-10","markdown":"\nJ’ai eu quelques soucis pour installer TeamViewer sur Ubuntu après avoir fait la mise à jour 14.10 de l’OS. Donc je fais un petit ticket pour partager l’astuce que j’ai trouvée ","html":"<p>J’ai eu quelques soucis pour installer TeamViewer sur Ubuntu après avoir fait la mise à jour 14.10 de l’OS. Donc je fais un petit ticket pour partager l’astuce que j’ai trouvée ","image":"https://techan.fr/images/2014/11/logo_teamviewer.gif","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-17T16:30:20.000Z","created_by":1,"updated_at":"2015-11-17T16:15:34.000Z","updated_by":1,"published_at":"2014-11-17T16:30:20.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":59,"uuid":"b6747dcf-c070-491a-9de0-451bed4ec6c4","title":"[iOS] La mise à jour 8.1.1 est arrivée !","slug":"ios-la-mise-a-jour-8-1-1-est-arrivee","markdown":"\nEn ce début de soirée, Apple a rendu disponible la mise a jour numéroter 8.1.1.\n\nNos amis possesseurs d’iPhone 4S et d’iPad 2 seront heureux d’apprendre qu’un des objectifs de ce match, en plus des habituelles corrections de bugs est d’améliorer la performance et la stabilité de ces appareils.\n\n[![IMG_8826.PNG](https://techan.fr/images/2014/11/IMG_8826.png)](https://techan.fr/images/2014/11/IMG_8826.png)\n\nPour plus de détails sur cette version, c’est par ici, mais ce n’est pas encore à jour !\n\nhttp://support.apple.com/fr-fr/HT1222\n\n\n","html":"<p>En ce début de soirée, Apple a rendu disponible la mise a jour numéroter 8.1.1.</p>\n\n<p>Nos amis possesseurs d’iPhone 4S et d’iPad 2 seront heureux d’apprendre qu’un des objectifs de ce match, en plus des habituelles corrections de bugs est d’améliorer la performance et la stabilité de ces appareils.</p>\n\n<p><a href=\"https://techan.fr/images/2014/11/IMG_8826.png\"><img src=\"https://techan.fr/images/2014/11/IMG_8826.png\" alt=\"IMG_8826.PNG\" title=\"\" /></a></p>\n\n<p>Pour plus de détails sur cette version, c’est par ici, mais ce n’est pas encore à jour !</p>\n\n<p><a href=\"http://support.apple.com/fr-fr/HT1222\">http://support.apple.com/fr-fr/HT1222</a></p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-17T20:39:59.000Z","created_by":1,"updated_at":"2014-11-18T10:55:53.000Z","updated_by":1,"published_at":"2014-11-17T20:39:59.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":60,"uuid":"eff7b571-331c-4c36-a875-2fd02ab78a92","title":"[OSX] Yosemite 10.10.1 : la foire de la mise à jour chez Apple","slug":"osx-yosemite-10-10-1-la-foire-de-la-mise-a-jour-chez-apple","markdown":"\nApple propose une nouvelle mise à jour juste après celle d’iOS, c’est son grand frère qui est gâté !\n\nOS X Yosemite passe a la version 10.10.1 !\n\nUn des point majeurs de cette mise à jour est l’amélioration de la fiabilité du Wifi qui était un des gros point faible de cette version d’OS X. Le système perdait fréquemment la connectivité avant de la retrouver quelques instants plus tard … Il est inutile de préciser que tout ce qui utilisait alors le réseau devenait difficilement utilisable (TeamViewer, TimeMachine : les backups prenaient une vie).\n\nA voir si ce patch résout tous ces soucis … ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\n[![Yosemite_10.10.1](https://techan.fr/images/2014/11/Yosemite_10.10.1.png)](https://techan.fr/images/2014/11/Yosemite_10.10.1.png)\n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\nPour la liste complète des corrections, c’est par ici :\n\n[http://support.apple.com/kb/HT6572?viewlocale=fr_FR](http://support.apple.com/kb/HT6572?viewlocale=fr_FR)\n\n\n","html":"<p>Apple propose une nouvelle mise à jour juste après celle d’iOS, c’est son grand frère qui est gâté !</p>\n\n<p>OS X Yosemite passe a la version 10.10.1 !</p>\n\n<p>Un des point majeurs de cette mise à jour est l’amélioration de la fiabilité du Wifi qui était un des gros point faible de cette version d’OS X. Le système perdait fréquemment la connectivité avant de la retrouver quelques instants plus tard … Il est inutile de préciser que tout ce qui utilisait alors le réseau devenait difficilement utilisable (TeamViewer, TimeMachine : les backups prenaient une vie).</p>\n\n<p>A voir si ce patch résout tous ces soucis … <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p><a href=\"https://techan.fr/images/2014/11/Yosemite_10.10.1.png\"><img src=\"https://techan.fr/images/2014/11/Yosemite_10.10.1.png\" alt=\"Yosemite_10.10.1\" title=\"\" /></a></p>\n\n<p>Pour la liste complète des corrections, c’est par ici :</p>\n\n<p><a href=\"http://support.apple.com/kb/HT6572?viewlocale=fr_FR\">http://support.apple.com/kb/HT6572?viewlocale=fr_FR</a></p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-17T20:44:44.000Z","created_by":1,"updated_at":"2014-11-18T10:55:22.000Z","updated_by":1,"published_at":"2014-11-17T20:44:44.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":61,"uuid":"ddbdd3e2-d801-401e-9940-80c85209c222","title":"[OS X] Activer le partage de bureau à distance","slug":"os-x-activer-le-partage-de-bureau-a-distance","markdown":"\nToujours le même souci lorsque l’on a pas de tête et qu’on oublie d’activer l’accès distant sur sa machine, il faut fouiller sur l’Internet Multimédia pour essayer de faire ça à distance et par SSH …\n\nNous avons déjà vu que c’est possible avec Ubuntu (voir: [[Ubuntu] Activer le partage d’écran depuis la ligne de commande](https://techan.fr/ubuntu-activer-le-partage-decran-depuis-la-ligne-de-commande/)), et bien c’est également possible avec OS X !\n\n \n\nJ’ai testé avec la version 10.10 « Yosemite », cela fonctionne !! L’auteur [du post que j’ai trouvé](http://hints.macworld.com/comment.php?mode=view&cid=111315) le faisait lui sur Lion, cela doti donc fonctionner pour toutes les versions récentes de l’OS d’Apple.\n\n \n\nVoici donc l’astuce, ouvrez le Terminal.app et tapez le commandes suivantes :\n\ncd /System/Library/LaunchDaemons/ sudo launchctl load -w com.apple.screensharing.plist\n\nEt pour arrêter le partage d’écran :\n\ncd /System/Library/LaunchDaemons/ sudo launchctl unload -w com.apple.screensharing.plist\n\n \n\n\n","html":"<p>Toujours le même souci lorsque l’on a pas de tête et qu’on oublie d’activer l’accès distant sur sa machine, il faut fouiller sur l’Internet Multimédia pour essayer de faire ça à distance et par SSH …</p>\n\n<p>Nous avons déjà vu que c’est possible avec Ubuntu (voir: <a href=\"https://techan.fr/ubuntu-activer-le-partage-decran-depuis-la-ligne-de-commande/\">[Ubuntu] Activer le partage d’écran depuis la ligne de commande</a>), et bien c’est également possible avec OS X !</p>\n\n<p>J’ai testé avec la version 10.10 « Yosemite », cela fonctionne !! L’auteur <a href=\"http://hints.macworld.com/comment.php?mode=view&amp;cid=111315\">du post que j’ai trouvé</a> le faisait lui sur Lion, cela doti donc fonctionner pour toutes les versions récentes de l’OS d’Apple.</p>\n\n<p>Voici donc l’astuce, ouvrez le Terminal.app et tapez le commandes suivantes :</p>\n\n<p>cd /System/Library/LaunchDaemons/ sudo launchctl load -w com.apple.screensharing.plist</p>\n\n<p>Et pour arrêter le partage d’écran :</p>\n\n<p>cd /System/Library/LaunchDaemons/ sudo launchctl unload -w com.apple.screensharing.plist</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-18T11:51:17.000Z","created_by":1,"updated_at":"2014-11-18T11:51:17.000Z","updated_by":1,"published_at":"2014-11-18T11:51:17.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":62,"uuid":"dc6ac09f-62fe-46c9-b3e4-ec4aeb65ed32","title":"[Windows] Forcer l'utilisation des DNS Google","slug":"windows-forcer-lutilisation-des-dns-google","markdown":"\nVoici la marche a suivre pour forcer votre windows a utiliser les DNS Google.\n\nFaire la combinaison de touches : **Windows + R**, dans la fenêtre qui apparaît, taper** ncpa.cpl**.\n\nEnsuite dans la fenêtre qui s’ouvre, faire un clic droit sur l’interface réseau qui vous intéresse, puis **Propriétés**.  \n  \n Dans la liste, sélectionner **Protocole Internet version 4 (TCP/IPv4)** et cliquer sur** Propriétés.**\n\nSélectionner **Utiliser l’adresse du serveur DNS suivante:** » et remplir les IP comme suit :\n\n[![ncpa_dns](https://techan.fr/images/2014/11/ncpa_dns-264x300.png)](https://techan.fr/images/2014/11/ncpa_dns.png)\n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\nValider le tout et c’est bon !\n\n \n\n\n","html":"<p>Voici la marche a suivre pour forcer votre windows a utiliser les DNS Google.</p>\n\n<p>Faire la combinaison de touches : <strong>Windows + R</strong>, dans la fenêtre qui apparaît, taper<em>* ncpa.cpl</em>*.</p>\n\n<p>Ensuite dans la fenêtre qui s’ouvre, faire un clic droit sur l’interface réseau qui vous intéresse, puis <strong>Propriétés</strong>.  </p>\n\n<p>Dans la liste, sélectionner <strong>Protocole Internet version 4 (TCP/IPv4)</strong> et cliquer sur<em>* Propriétés.</em>*</p>\n\n<p>Sélectionner <strong>Utiliser l’adresse du serveur DNS suivante:</strong> » et remplir les IP comme suit :</p>\n\n<p><a href=\"https://techan.fr/images/2014/11/ncpa_dns.png\"><img src=\"https://techan.fr/images/2014/11/ncpa_dns-264x300.png\" alt=\"ncpa_dns\" title=\"\" /></a></p>\n\n<p>Valider le tout et c’est bon !</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-18T16:34:16.000Z","created_by":1,"updated_at":"2015-08-07T11:39:22.000Z","updated_by":1,"published_at":"2014-11-18T16:34:16.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":63,"uuid":"8eb60bff-e684-4029-a890-a60ecf2d841b","title":"[AirPlay] Transformez votre Ubuntu en serveur AirPlay avec ShairPort","slug":"airplay-transformez-votre-ubuntu-en-serveur-airplay-avec-shairport","markdown":"\nDans cet article, nous allons voir comment transformez votre Ubuntu en serveur AirPlay avec ShairPort. Tout comme les Freebox, votre ordinateur peut vous permettre de lire les fichiers audio de votre iPad/iPhone/iPod sur ses enceintes, ou sur votre Home Cinema.  \n  \n C’est assez sympathique pour passer votre playlist, ou celle de vos amis en soirée. ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\nInstaller les paquets nécessaires.\n\nroot@xxxx:/srv# aptitude install libshairport2 libshairport-dev libpulse-dev unzip make gcc openssl pkg-config libavahi-client-dev libasound2-dev build-essential mesa-utils libao-common libcrypt-openssl-rsa-perl libao-dev libio-socket-inet6-perl libwww-perl avahi-utils libasound2-doc libglib2.0-doc Les NOUVEAUX paquets suivants vont être installés : libao-common libao-dev libao4{a} libasound2-dev libasound2-doc libcrypt-openssl-bignum-perl{a} libcrypt-openssl-rsa-perl libglib2.0-dev{a} libglib2.0-doc libpcre3-dev{a} libpcrecpp0{a} libpulse-dev libshairport-dev libshairport2 0 paquets mis à jour, 14 nouvellement installés, 0 à enlever et 0 non mis à jour. Il est nécessaire de télécharger 4 069 ko d'archives. Après dépaquetage, 46,8 Mo seront utilisés. Voulez-vous continuer ? [Y/n/?]\n\nPour ma part, j’ai choisi d’installer le tout sous /srv, on va utiliser Git pour récupérer les sources.\n\nroot@xxxx:/srv# git clone https://github.com/abrasive/shairport.git shairport Clonage dans 'shairport'... remote: Counting objects: 1632, done. remote: Total 1632 (delta 0), reused 0 (delta 0) Réception d'objets: 100% (1632/1632), 419.59 KiB | 380.00 KiB/s, fait. Résolution des deltas: 100% (944/944), fait. Vérification de la connectivité... fait.\n\nOn procède à la compilation de tout ça :\n\nroot@xxxx:/srv/shairport# ./configure Configuring Shairport OpenSSL found libao found PulseAudio found ALSA found Avahi client found getopt.h found CFLAGS: -D_REENTRANT -I/usr/include/alsa -D_REENTRANT LDFLAGS: -lm -lpthread -lssl -lcrypto -lao -lpulse-simple -lpulse -lasound -lavahi-common -lavahi-client Configure successful. You may now build with 'make'\n\n \n\nroot@xxxx:/srv/shairport# make cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT shairport.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT daemon.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT rtsp.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT mdns.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT mdns_external.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT mdns_tinysvcmdns.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT common.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT rtp.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT metadata.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT player.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT alac.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT audio.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT audio_dummy.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT audio_pipe.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT tinysvcmdns.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT audio_ao.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT audio_pulse.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT audio_alsa.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT mdns_avahi.c cc shairport.o daemon.o rtsp.o mdns.o mdns_external.o mdns_tinysvcmdns.o common.o rtp.o metadata.o player.o alac.o audio.o audio_dummy.o audio_pipe.o tinysvcmdns.o audio_ao.o audio_pulse.o audio_alsa.o mdns_avahi.o -lm -lpthread -lssl -lcrypto -lao -lpulse-simple -lpulse -lasound -lavahi-common -lavahi-client -o shairport\n\n \n\nroot@xxxx:/srv/shairport# make install cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT shairport.c cc shairport.o daemon.o rtsp.o mdns.o mdns_external.o mdns_tinysvcmdns.o common.o rtp.o metadata.o player.o alac.o audio.o audio_dummy.o audio_pipe.o tinysvcmdns.o audio_ao.o audio_pulse.o audio_alsa.o mdns_avahi.o -lm -lpthread -lssl -lcrypto -lao -lpulse-simple -lpulse -lasound -lavahi-common -lavahi-client -o shairport install -m 755 -d /usr/local/bin install -m 755 shairport /usr/local/bin/shairport\n\n \n\nOn crée un petit script pour lancer le serveur AirPlay.\n\nroot@xxxx:/srv/shairport# echo \" #!/bin/bash cd /srv/shairport/ ./shairport -a 'Shairport' -d read \" >> run_shairport.sh root@xxxx:/srv/shairport# chmod +x run_shairport.sh\n\nEt on le lance :\n\nroot@xxxx:/srv/shairport# ./run_shairport.sh Starting Shairport 1.1.1-22-gd679d19 Listening for connections. 7551 ^CShutting down...\n\n \n\nEnsuite, depuis votre appareil Apple, il suffit de choisir votre ordinateur comme sortie ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nDans mon cas, il porte le nom par défaut « shairport ».\n\n[![Transformez votre Ubuntu en serveur AirPlay avec ShairPort](https://techan.fr/images/2014/11/shairport.png)](https://techan.fr/images/2014/11/shairport.png)\n\n \n\n\n","html":"<p>Dans cet article, nous allons voir comment transformez votre Ubuntu en serveur AirPlay avec ShairPort. Tout comme les Freebox, votre ordinateur peut vous permettre de lire les fichiers audio de votre iPad/iPhone/iPod sur ses enceintes, ou sur votre Home Cinema.  </p>\n\n<p>C’est assez sympathique pour passer votre playlist, ou celle de vos amis en soirée. <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>Installer les paquets nécessaires.</p>\n\n<p>root@xxxx:/srv# aptitude install libshairport2 libshairport-dev libpulse-dev unzip make gcc openssl pkg-config libavahi-client-dev libasound2-dev build-essential mesa-utils libao-common libcrypt-openssl-rsa-perl libao-dev libio-socket-inet6-perl libwww-perl avahi-utils libasound2-doc libglib2.0-doc Les NOUVEAUX paquets suivants vont être installés : libao-common libao-dev libao4{a} libasound2-dev libasound2-doc libcrypt-openssl-bignum-perl{a} libcrypt-openssl-rsa-perl libglib2.0-dev{a} libglib2.0-doc libpcre3-dev{a} libpcrecpp0{a} libpulse-dev libshairport-dev libshairport2 0 paquets mis à jour, 14 nouvellement installés, 0 à enlever et 0 non mis à jour. Il est nécessaire de télécharger 4 069 ko d'archives. Après dépaquetage, 46,8 Mo seront utilisés. Voulez-vous continuer ? [Y/n/?]</p>\n\n<p>Pour ma part, j’ai choisi d’installer le tout sous /srv, on va utiliser Git pour récupérer les sources.</p>\n\n<p>root@xxxx:/srv# git clone <a href=\"https://github.com/abrasive/shairport.git\">https://github.com/abrasive/shairport.git</a> shairport Clonage dans 'shairport'... remote: Counting objects: 1632, done. remote: Total 1632 (delta 0), reused 0 (delta 0) Réception d'objets: 100% (1632/1632), 419.59 KiB | 380.00 KiB/s, fait. Résolution des deltas: 100% (944/944), fait. Vérification de la connectivité... fait.</p>\n\n<p>On procède à la compilation de tout ça :</p>\n\n<p>root@xxxx:/srv/shairport# ./configure Configuring Shairport OpenSSL found libao found PulseAudio found ALSA found Avahi client found getopt.h found CFLAGS: -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT LDFLAGS: -lm -lpthread -lssl -lcrypto -lao -lpulse-simple -lpulse -lasound -lavahi-common -lavahi-client Configure successful. You may now build with 'make'</p>\n\n<p>root@xxxx:/srv/shairport# make cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT shairport.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT daemon.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT rtsp.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT mdns.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT mdns<em>external.c cc -c -O2 -Wall -D</em>REENTRANT -I/usr/include/alsa -D<em>REENTRANT mdns</em>tinysvcmdns.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT common.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT rtp.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT metadata.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT player.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT alac.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT audio.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT audio<em>dummy.c cc -c -O2 -Wall -D</em>REENTRANT -I/usr/include/alsa -D<em>REENTRANT audio</em>pipe.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT tinysvcmdns.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT audio<em>ao.c cc -c -O2 -Wall -D</em>REENTRANT -I/usr/include/alsa -D<em>REENTRANT audio</em>pulse.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT audio<em>alsa.c cc -c -O2 -Wall -D</em>REENTRANT -I/usr/include/alsa -D<em>REENTRANT mdns</em>avahi.c cc shairport.o daemon.o rtsp.o mdns.o mdns<em>external.o mdns</em>tinysvcmdns.o common.o rtp.o metadata.o player.o alac.o audio.o audio<em>dummy.o audio</em>pipe.o tinysvcmdns.o audio<em>ao.o audio</em>pulse.o audio<em>alsa.o mdns</em>avahi.o -lm -lpthread -lssl -lcrypto -lao -lpulse-simple -lpulse -lasound -lavahi-common -lavahi-client -o shairport</p>\n\n<p>root@xxxx:/srv/shairport# make install cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT shairport.c cc shairport.o daemon.o rtsp.o mdns.o mdns<em>external.o mdns</em>tinysvcmdns.o common.o rtp.o metadata.o player.o alac.o audio.o audio<em>dummy.o audio</em>pipe.o tinysvcmdns.o audio<em>ao.o audio</em>pulse.o audio<em>alsa.o mdns</em>avahi.o -lm -lpthread -lssl -lcrypto -lao -lpulse-simple -lpulse -lasound -lavahi-common -lavahi-client -o shairport install -m 755 -d /usr/local/bin install -m 755 shairport /usr/local/bin/shairport</p>\n\n<p>On crée un petit script pour lancer le serveur AirPlay.</p>\n\n<p>root@xxxx:/srv/shairport# echo \" #!/bin/bash cd /srv/shairport/ ./shairport -a 'Shairport' -d read \" >> run<em>shairport.sh root@xxxx:/srv/shairport# chmod +x run</em>shairport.sh</p>\n\n<p>Et on le lance :</p>\n\n<p>root@xxxx:/srv/shairport# ./run_shairport.sh Starting Shairport 1.1.1-22-gd679d19 Listening for connections. 7551 ^CShutting down...</p>\n\n<p>Ensuite, depuis votre appareil Apple, il suffit de choisir votre ordinateur comme sortie <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>Dans mon cas, il porte le nom par défaut « shairport ».</p>\n\n<p><a href=\"https://techan.fr/images/2014/11/shairport.png\"><img src=\"https://techan.fr/images/2014/11/shairport.png\" alt=\"Transformez votre Ubuntu en serveur AirPlay avec ShairPort\" title=\"\" /></a></p>","image":"https://techan.fr/images/2015/04/Ubuntu_Logo.gif","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-19T10:24:38.000Z","created_by":1,"updated_at":"2015-04-24T14:14:53.000Z","updated_by":1,"published_at":"2014-11-19T10:24:38.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":64,"uuid":"73a8bafd-9cf5-4faf-822c-971ba5964081","title":"[Windows] Outil pour créer des clefs USB bootable","slug":"windows-outil-pour-creer-des-clefs-usb-bootable","markdown":"\n \n\nAprès pas mal de recherche d’un pour créer des clefs **USB****bootable**, je suis tombé sur Rufus qui est de très loin le meilleur de tous ceux que j’ai utilisé.\n\nSes points forts :\n\n- Déjà il fait le job, ce qui n’est pas toujours gagné avec les autres logiciels\n- Il a un taux de réussite de 100% quelque soit l’OS sur l’ISO (pareil, ce n’est pas gagné avec les autres logiciels)\n- Il est rapide\n- Il télécharge tout seul les bootloaders qu’il n’aurait pas directement avec lui\n- Il est simple a utiliser\n- Il est portable !\n\n \n\nAller, une petite capture d’écran et vous aurez tout vu de Rufus !\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_401\" style=\"width: 208px\">[![windows outil USB bootable](https://techan.fr/images/2014/11/rufus-198x300.png)](https://techan.fr/images/2014/11/rufus.png)L’interface de Rufus\n\n</div>Donc dans un premier temps, vous sélectionnez le périphérique USB a utiliser, puis vous sélectionner l’image ISO a « graver » plus bas.\n\nIl choisi lui même tous les autres paramètres.\n\n \n\nTesté avec succès pour les ISO suivantes :\n\n- Ubuntu 14.04\n- Ubuntu 14.10\n- Boot Repair Disk\n- Windows 7 Pro\n\n \n\nPour le téléchargement, ça se passe sur [le site de Rufus](http://rufus.akeo.ie/?locale=fr_FR).\n\n\n","html":"<p>Après pas mal de recherche d’un pour créer des clefs <strong>USB<em>*</strong>bootable</em>*, je suis tombé sur Rufus qui est de très loin le meilleur de tous ceux que j’ai utilisé.</p>\n\n<p>Ses points forts :</p>\n\n<ul>\n<li>Déjà il fait le job, ce qui n’est pas toujours gagné avec les autres logiciels</li>\n<li>Il a un taux de réussite de 100% quelque soit l’OS sur l’ISO (pareil, ce n’est pas gagné avec les autres logiciels)</li>\n<li>Il est rapide</li>\n<li>Il télécharge tout seul les bootloaders qu’il n’aurait pas directement avec lui</li>\n<li>Il est simple a utiliser</li>\n<li><p>Il est portable !</p></li>\n</ul>\n\n<p>Aller, une petite capture d’écran et vous aurez tout vu de Rufus !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_401\" style=\"width: 208px\"><a href=\"https://techan.fr/images/2014/11/rufus.png\"><img src=\"https://techan.fr/images/2014/11/rufus-198x300.png\" alt=\"windows outil USB bootable\" title=\"\" /></a>L’interface de Rufus</p>\n\n<p></div>Donc dans un premier temps, vous sélectionnez le périphérique USB a utiliser, puis vous sélectionner l’image ISO a « graver » plus bas.</p>\n\n<p>Il choisi lui même tous les autres paramètres.</p>\n\n<p>Testé avec succès pour les ISO suivantes :</p>\n\n<ul>\n<li>Ubuntu 14.04</li>\n<li>Ubuntu 14.10</li>\n<li>Boot Repair Disk</li>\n<li><p>Windows 7 Pro</p></li>\n</ul>\n\n<p>Pour le téléchargement, ça se passe sur <a href=\"http://rufus.akeo.ie/?locale=fr_FR\">le site de Rufus</a>.</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-19T17:12:08.000Z","created_by":1,"updated_at":"2015-08-07T11:39:21.000Z","updated_by":1,"published_at":"2014-11-19T17:12:08.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":65,"uuid":"5cf73e49-c4ed-4e4b-9da7-47b3aa08809e","title":"[Windows/vSphere 5.5] Pas de réseau au reboot","slug":"windowsvsphere-5-5-pas-de-reseau-au-reboot","markdown":"\nVoici un souci que j’ai rencontré, parfois lorsqu’un Windows 2008 hébergé sur vSphere 5.5 redémarre, il perd son réseau, la VM est donc inaccessible, sauf via la console VMware.\n\n \n\nLa carte réseau a un petite triangle jaune délicieux comme ceci : [![carte_reseau_triangle_jaune](https://techan.fr/images/2014/11/carte_reseau_triangle_jaune.png)](https://techan.fr/images/2014/11/carte_reseau_triangle_jaune.png).\n\nUne solution pour résoudre cela rapidement est de désactiver puis réactiver la carte réseau, tout rentre alors dans l’ordre, mais cela ne corrige pas le fond du problème.  \n  \n  \n\nUne KB de VMware existe à ce sujet : « [False duplicate IP address detected on Microsoft Windows Vista and later virtual machines on ESX/ESXi when using Cisco devices on the environment (1028373)](http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&cmd=displayKC&externalId=1028373)« . D’après les informations qu’elle fournies, ça viendrait d’une option de gestion ARP activée sur les switches CISCO ou d’une mauvaise réponse ARP.\n\n \n\nBref, toujours est-il que la manipulation proposée dans cette KB corrige bien ce souci.\n\n \n\n> #### Resolution\n> \n> <div class=\"doccontent cc_Resolution\"><div>**Note**: The information provided in this article is a workaround. Investigate the network configuration at the physical layer for the root cause.To work around this issue, turn off gratuitous ARP in the guest operating system.**Note**: This procedure modifies the Windows registry. Before making any registry modifications, ensure that you have a current and valid backup of the registry and the virtual machine. For more information on backing up and restoring the registry, see the Microsoft article [136393](http://support.microsoft.com/kb/136393).</div><div>*The preceding link was correct as of June 25, 2014. If you find the link is broken, provide feedback and a VMware employee will update the link.*</div><div>To turn off gratuitous ARP in the guest operating system:</div>1. Open the Registry editor. - In Windows XP to Windows Server 2003 – Click **Start **> **Run**, type regedit, and click **OK**.\n> - In Windows 7 and Current – Click **Start**, type regedit, and click **OK**.\n> 2. Locate this registry key:`HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\Tcpip\\Parameters`\n> 3. Click **Edit** > **New**, and click DWORD Value.\n> 4. Type `ArpRetryCount`.\n> 5. Right-click the `ArpRetryCount` registry entry and click **Modify**.\n> 6. In the Value box, type `0` and click **OK**.\n> 7. Exit the Registry Editor.\n> 8. Shut down the guest operating system and power off the virtual machine.\n> 9. Change the virtual machine back to a network vSwitch with the uplink.\n> 10. Power on the virtual machine.\n> \n> Alternatively, you can disable gratuitous ARP on the physical switch.\n> \n> <div>For example, to disable gratuitous ARP in Cisco IOS, run this command:</div><div>```\n> <br></br>\n> # no ip gratuitous-arps<br></br>```\n> </div>For more information, see the [ArpRetryCount](http://technet.microsoft.com/en-us/library/cc957526.aspx) Microsoft TechNet Article.\n> \n> </div>\n\n \n\n\n","html":"<p>Voici un souci que j’ai rencontré, parfois lorsqu’un Windows 2008 hébergé sur vSphere 5.5 redémarre, il perd son réseau, la VM est donc inaccessible, sauf via la console VMware.</p>\n\n<p>La carte réseau a un petite triangle jaune délicieux comme ceci : <a href=\"https://techan.fr/images/2014/11/carte_reseau_triangle_jaune.png\"><img src=\"https://techan.fr/images/2014/11/carte_reseau_triangle_jaune.png\" alt=\"carte<em>reseau</em>triangle_jaune\" title=\"\" /></a>.</p>\n\n<p>Une solution pour résoudre cela rapidement est de désactiver puis réactiver la carte réseau, tout rentre alors dans l’ordre, mais cela ne corrige pas le fond du problème.  </p>\n\n<p>Une KB de VMware existe à ce sujet : « <a href=\"http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1028373\">False duplicate IP address detected on Microsoft Windows Vista and later virtual machines on ESX/ESXi when using Cisco devices on the environment (1028373)</a>« . D’après les informations qu’elle fournies, ça viendrait d’une option de gestion ARP activée sur les switches CISCO ou d’une mauvaise réponse ARP.</p>\n\n<p>Bref, toujours est-il que la manipulation proposée dans cette KB corrige bien ce souci.</p>\n\n<blockquote>\n  <h4 id=\"resolution\">Resolution</h4>\n  \n  <div class=\"doccontent cc_Resolution\"><div>**Note**: The information provided in this article is a workaround. Investigate the network configuration at the physical layer for the root cause.To work around this issue, turn off gratuitous ARP in the guest operating system.**Note**: This procedure modifies the Windows registry. Before making any registry modifications, ensure that you have a current and valid backup of the registry and the virtual machine. For more information on backing up and restoring the registry, see the Microsoft article [136393](http://support.microsoft.com/kb/136393).</div><div>*The preceding link was correct as of June 25, 2014. If you find the link is broken, provide feedback and a VMware employee will update the link.*</div><div>To turn off gratuitous ARP in the guest operating system:</div>1. Open the Registry editor. - In Windows XP to Windows Server 2003 – Click **Start **> **Run**, type regedit, and click **OK**.\n  - In Windows 7 and Current – Click **Start**, type regedit, and click **OK**.\n  2. Locate this registry key:`HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\Tcpip\\Parameters`\n  3. Click **Edit** > **New**, and click DWORD Value.\n  4. Type `ArpRetryCount`.\n  5. Right-click the `ArpRetryCount` registry entry and click **Modify**.\n  6. In the Value box, type `0` and click **OK**.\n  7. Exit the Registry Editor.\n  8. Shut down the guest operating system and power off the virtual machine.\n  9. Change the virtual machine back to a network vSwitch with the uplink.\n  10. Power on the virtual machine.\n  \n  Alternatively, you can disable gratuitous ARP on the physical switch.\n  \n  <div>For example, to disable gratuitous ARP in Cisco IOS, run this command:</div><div>```\n  <br></br>\n  \n  \n  <h1 id=\"noipgratuitousarpsbrbr\">no ip gratuitous-arps<br></br>```</h1>\n  \n  </div>For more information, see the [ArpRetryCount](http://technet.microsoft.com/en-us/library/cc957526.aspx) Microsoft TechNet Article.\n  \n  </div>\n</blockquote>","image":"https://techan.fr/images/2014/11/server2008r2_vmware.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-20T10:21:22.000Z","created_by":1,"updated_at":"2014-11-20T10:21:22.000Z","updated_by":1,"published_at":"2014-11-20T10:21:22.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":66,"uuid":"d44aa68b-bc94-4ba4-b8b3-659858b09374","title":"[Wordpress] Mettre une image à la une d'un article via MySQL","slug":"wordpress-mettre-une-image-la-une-dun-article-via-mysql","markdown":"\nLes images à la une (Featured Image) sur les articles WordPress, ça fait tout de suite classe et un certains effet visuel, avec une bonne image à la une, on arrive a en savoir plus sur le contenu de l’article alors que l’on a encore lu que le son titre.\n\nJe me suis attelé à la tâche d’en ajouter les plus possible sur les articles que j’avais déjà produits, mais comme je suis u peu flemmard, j’ai cherché comment mettre une image à la une d’un article via MySQL afin de pas avoir a ouvrir toutes les pages de modification …  \n  \n  \n\nJ’ai trouvé un post sur le site  [wpmudev.org](http://premium.wpmudev.org/forums/topic/query-for-missing-featured-images). Ce brave Paul nous donne une requête qui liste tous les articles et les metas associées à l’image à la une.\n\nmysql> SELECT p.ID, p.post_title, pm.* FROM wp_posts p -> LEFT JOIN wp_postmeta pm ON p.ID=pm.post_id AND pm.meta_key='_thumbnail_id' -> WHERE p.post_type in ('post') -> AND p.post_status in ('publish'); +-----+--------------------------------------------------------------------------------------+---------+---------+---------------+------------+ | ID | post_title | meta_id | post_id | meta_key | meta_value | +-----+--------------------------------------------------------------------------------------+---------+---------+---------------+------------+ | 8 | Flush du cache DNS | NULL | NULL | NULL | NULL | | 25 | Fichier Hosts sur Windows | NULL | NULL | NULL | NULL | | 27 | Ajouter des clefs SSH pour se connecter sur un boîtier RecoverPoint | 1318 | 27 | _thumbnail_id | 457 | | 29 | Désactiver les alertes par mail dans la crontab | 1319 | 29 | _thumbnail_id | 457 | | 31 | Création d'une VM Linux pour forwarder des paquets d'une IP à une autre | 1320 | 31 | _thumbnail_id | 457 | | 37 | Booster Apache avec des dossiers de cache en RAM | 1321 | 37 | _thumbnail_id | 457 | | 41 | Lancer des applis Android sur Chromes OS, Linux, Mac OS, Windows | NULL | NULL | NULL | NULL | | 50 | Et là, on remercie GTalk ! | NULL | NULL | NULL | NULL | | 57 | Quand Apple fait du Microsoft ... | NULL | NULL | NULL | NULL | | 67 | Plongée sous/au bureau ... | NULL | NULL | NULL | NULL | | 75 | [iOS] Désactiver la lecture automatique des vidéos sur FaceBook | NULL | NULL | NULL | NULL | | 83 | [Shellshock] Une nouvelle faille de sécurité découverte sur Mac OS et Linux | NULL | NULL | NULL | NULL | | 62 | [iPhone 6] Une page permettant de vérifier les stocks dans les Apple Store | NULL | NULL | NULL | NULL | | 92 | [imp] Importer juste une table dans un schéma. | 1267 | 92 | _thumbnail_id | 418 | | 96 | [iOS] L'update 8.0.2 est disponible ! | NULL | NULL | NULL | NULL | | 90 | [Shellshock] Apple annonce une mise à jour rapide | NULL | NULL | NULL | NULL | | 86 | [MySQL] Un outil qui donne des conseils d'optimisation | NULL | NULL | NULL | NULL | | 103 | [RedHat/Centos] Outil pour rescanner les bus SCSI et découvrir les disques ajoutés | 1322 | 103 | _thumbnail_id | 457 | | 107 | [LVM] Les bases | 1323 | 107 | _thumbnail_id | 457 | | 114 | [GoPro] La version 4 des caméras sportives est disponible ! | NULL | NULL | NULL | NULL | | 111 | La grande folie du Loto Bouse | NULL | NULL | NULL | NULL | | 128 | [MySQL] Importer un énorme fichier de dump | NULL | NULL | NULL | NULL | | 139 | [iPhone 6] La photo \"mystérieuse\" | NULL | NULL | NULL | NULL | | 147 | [App] Investigator, une app qui vous en dit plus sur vos photos ! | NULL | NULL | NULL | NULL | | 176 | [MySQL] Des chiffres sur quelques bases les plus sollicitées du monde | NULL | NULL | NULL | NULL | | 191 | [Linux] Envoyer des logs sur un serveur central avec rsyslog | 1324 | 191 | _thumbnail_id | 457 | | 197 | [Ubuntu] Un utilitaire pour nettoyer et configurer le système | NULL | NULL | NULL | NULL | | 200 | [RecoverPoint] Placer des flags nommés sur les points de consistance | 1325 | 200 | _thumbnail_id | 457 | | 216 | [Linux] Forcer un programme a utiliser une locale anglaise | 1326 | 216 | _thumbnail_id | 457 | | 206 | [logstash] Configuration des inputs, filter et output | 1327 | 206 | _thumbnail_id | 457 | | 223 | [Edité][Linux] Commande Find : astuces | 1317 | 223 | _thumbnail_id | 457 | | 237 | [Oracle] Identifier les bases de données démarrées sur une machine | 1273 | 237 | _thumbnail_id | 418 | | 240 | [Oracle] Gérer les directories | 1276 | 240 | _thumbnail_id | 418 | | 244 | [Oracle] Gérer les utilisateurs | 1279 | 244 | _thumbnail_id | 418 | | 251 | [Oracle] Les étapes d'arrêt et de démarrage. | 1282 | 251 | _thumbnail_id | 418 | | 257 | [Linux] Transformer votre Linux en Time Capsule | 718 | 257 | _thumbnail_id | 270 | | 257 | [Linux] Transformer votre Linux en Time Capsule | 1328 | 257 | _thumbnail_id | 457 | | 263 | [FireFox] Ajoute un petit jeu dans sa page de démarrage | 703 | 263 | _thumbnail_id | 264 | | 276 | [Linux] Astuce pour retrouver les permissions sur un fichier | 1329 | 276 | _thumbnail_id | 457 | | 278 | [Oracle] Afficher et modifier les paramètres Oracle | 1294 | 278 | _thumbnail_id | 418 | | 284 | [iOS] iOS 8.1 est disponible !! | 761 | 284 | _thumbnail_id | 283 | | 287 | [LVM] Agrandir un disque à chaud | 1330 | 287 | _thumbnail_id | 457 | | 289 | [Oracle] Récupérer le code SQL de création d'un objet | 1288 | 289 | _thumbnail_id | 418 | | 292 | [Windows] Synchroniser deux répertoires en conservant les permissions NTFS | NULL | NULL | NULL | NULL | | 294 | [Linux] Créer une copie bit à bit d'une clef USB | 1331 | 294 | _thumbnail_id | 457 | | 297 | [Oracle] Le listener | 1180 | 297 | _thumbnail_id | 418 | | 303 | [iTop] Configuration de l'authentification Active Directory | NULL | NULL | NULL | NULL | | 312 | [Varnish] Configurer Varnish pour booster WordPress | 1332 | 312 | _thumbnail_id | 457 | | 314 | [Windows] Créer des jonctions de dossiers | NULL | NULL | NULL | NULL | | 318 | [RedHat] Ajouter un disque à chaud, sans rescan-scsi-bus | 1333 | 318 | _thumbnail_id | 457 | | 323 | [NFS] Lister les partages NFS sur une machine distante | 1334 | 323 | _thumbnail_id | 457 | | 326 | [Ubuntu] Remplacer Unity par Gnome | 900 | 326 | _thumbnail_id | 327 | | 326 | [Ubuntu] Remplacer Unity par Gnome | 1335 | 326 | _thumbnail_id | 457 | | 329 | [Ubuntu] Activer le partage d'écran depuis la ligne de commande | 1311 | 329 | _thumbnail_id | 457 | | 331 | [BackupExec] Problème de backup de montages NFS | NULL | NULL | NULL | NULL | | 339 | [BackupExec] Mettre l'agent Linux en mode \"debug\" | NULL | NULL | NULL | NULL | | 341 | [Linux Tuning] Ajuster la swappiness | 1305 | 341 | _thumbnail_id | 457 | | 346 | [Apps] Retoucher ses photos et créer des GIF animés | 958 | 346 | _thumbnail_id | 347 | | 372 | [Ubuntu] Installer TeamViewer 9 sur Ubuntu 14.10 | 1004 | 372 | _thumbnail_id | 375 | | 377 | [iOS] La mise à jour 8.1.1 est arrivée ! | NULL | NULL | NULL | NULL | | 379 | [OSX] Yosemite 10.10.1 : la foire de la mise à jour chez Apple | NULL | NULL | NULL | NULL | | 392 | [OS X] Activer le partage de bureau à distance | NULL | NULL | NULL | NULL | | 396 | [Windows] Forcer l'utilisation des DNS Google | NULL | NULL | NULL | NULL | | 369 | [AirPlay] Transformez votre Ubuntu en serveur AirPlay avec ShairPort | 1299 | 369 | _thumbnail_id | 457 | | 400 | [Windows] Outil pour créer des clefs USB bootable | NULL | NULL | NULL | NULL | | 405 | [Windows/vSphere 5.5] Pas de réseau au reboot | 1160 | 405 | _thumbnail_id | 409 | +-----+--------------------------------------------------------------------------------------+---------+---------+---------------+------------+ 66 rows in set (0.01 sec)\n\n \n\nJ’en ai donc extra-paulé (pardon, elle était trop facile celle la … :D) une requête pour **ajouter **une image à la une sur des articles qui n’en n’ont pas.\n\ninsert into wp_postmeta(meta_key,meta_value,post_id) values ('_thumbnail_id', '457', '27');\n\nCette requête ajoute l’image [![Linux](https://techan.fr/images/2014/11/Linux.png)](https://techan.fr/images/2014/11/Linux.png) comme image à la une de l’article [Ajouter des clefs SSH pour se connecter sur un boîtier RecoverPoint](https://techan.fr/ajouter-des-clefs-ssh-pour-se-connecter-sur-un-boitier-recoverpoint/ \"Ajouter des clefs SSH pour se connecter sur un boîtier RecoverPoint\").\n\nOn passe la requête, on rafraichit la page, et l’image apparait comme par magie (ou presque !).\n\n \n\n\n","html":"<p>Les images à la une (Featured Image) sur les articles WordPress, ça fait tout de suite classe et un certains effet visuel, avec une bonne image à la une, on arrive a en savoir plus sur le contenu de l’article alors que l’on a encore lu que le son titre.</p>\n\n<p>Je me suis attelé à la tâche d’en ajouter les plus possible sur les articles que j’avais déjà produits, mais comme je suis u peu flemmard, j’ai cherché comment mettre une image à la une d’un article via MySQL afin de pas avoir a ouvrir toutes les pages de modification …  </p>\n\n<p>J’ai trouvé un post sur le site  <a href=\"http://premium.wpmudev.org/forums/topic/query-for-missing-featured-images\">wpmudev.org</a>. Ce brave Paul nous donne une requête qui liste tous les articles et les metas associées à l’image à la une.</p>\n\n<p>mysql> SELECT p.ID, p.post<em>title, pm.* FROM wp</em>posts p -> LEFT JOIN wp<em>postmeta pm ON p.ID=pm.post</em>id AND pm.meta<em>key='</em>thumbnail<em>id' -> WHERE p.post</em>type in ('post') -> AND p.post<em>status in ('publish'); +-----+--------------------------------------------------------------------------------------+---------+---------+---------------+------------+ | ID | post</em>title | meta<em>id | post</em>id | meta<em>key | meta</em>value | +-----+--------------------------------------------------------------------------------------+---------+---------+---------------+------------+ | 8 | Flush du cache DNS | NULL | NULL | NULL | NULL | | 25 | Fichier Hosts sur Windows | NULL | NULL | NULL | NULL | | 27 | Ajouter des clefs SSH pour se connecter sur un boîtier RecoverPoint | 1318 | 27 | <em>thumbnail</em>id | 457 | | 29 | Désactiver les alertes par mail dans la crontab | 1319 | 29 | <em>thumbnail</em>id | 457 | | 31 | Création d'une VM Linux pour forwarder des paquets d'une IP à une autre | 1320 | 31 | <em>thumbnail</em>id | 457 | | 37 | Booster Apache avec des dossiers de cache en RAM | 1321 | 37 | <em>thumbnail</em>id | 457 | | 41 | Lancer des applis Android sur Chromes OS, Linux, Mac OS, Windows | NULL | NULL | NULL | NULL | | 50 | Et là, on remercie GTalk ! | NULL | NULL | NULL | NULL | | 57 | Quand Apple fait du Microsoft ... | NULL | NULL | NULL | NULL | | 67 | Plongée sous/au bureau ... | NULL | NULL | NULL | NULL | | 75 | [iOS] Désactiver la lecture automatique des vidéos sur FaceBook | NULL | NULL | NULL | NULL | | 83 | [Shellshock] Une nouvelle faille de sécurité découverte sur Mac OS et Linux | NULL | NULL | NULL | NULL | | 62 | [iPhone 6] Une page permettant de vérifier les stocks dans les Apple Store | NULL | NULL | NULL | NULL | | 92 | [imp] Importer juste une table dans un schéma. | 1267 | 92 | <em>thumbnail</em>id | 418 | | 96 | [iOS] L'update 8.0.2 est disponible ! | NULL | NULL | NULL | NULL | | 90 | [Shellshock] Apple annonce une mise à jour rapide | NULL | NULL | NULL | NULL | | 86 | [MySQL] Un outil qui donne des conseils d'optimisation | NULL | NULL | NULL | NULL | | 103 | [RedHat/Centos] Outil pour rescanner les bus SCSI et découvrir les disques ajoutés | 1322 | 103 | <em>thumbnail</em>id | 457 | | 107 | [LVM] Les bases | 1323 | 107 | <em>thumbnail</em>id | 457 | | 114 | [GoPro] La version 4 des caméras sportives est disponible ! | NULL | NULL | NULL | NULL | | 111 | La grande folie du Loto Bouse | NULL | NULL | NULL | NULL | | 128 | [MySQL] Importer un énorme fichier de dump | NULL | NULL | NULL | NULL | | 139 | [iPhone 6] La photo \"mystérieuse\" | NULL | NULL | NULL | NULL | | 147 | [App] Investigator, une app qui vous en dit plus sur vos photos ! | NULL | NULL | NULL | NULL | | 176 | [MySQL] Des chiffres sur quelques bases les plus sollicitées du monde | NULL | NULL | NULL | NULL | | 191 | [Linux] Envoyer des logs sur un serveur central avec rsyslog | 1324 | 191 | <em>thumbnail</em>id | 457 | | 197 | [Ubuntu] Un utilitaire pour nettoyer et configurer le système | NULL | NULL | NULL | NULL | | 200 | [RecoverPoint] Placer des flags nommés sur les points de consistance | 1325 | 200 | <em>thumbnail</em>id | 457 | | 216 | [Linux] Forcer un programme a utiliser une locale anglaise | 1326 | 216 | <em>thumbnail</em>id | 457 | | 206 | [logstash] Configuration des inputs, filter et output | 1327 | 206 | <em>thumbnail</em>id | 457 | | 223 | [Edité][Linux] Commande Find : astuces | 1317 | 223 | <em>thumbnail</em>id | 457 | | 237 | [Oracle] Identifier les bases de données démarrées sur une machine | 1273 | 237 | <em>thumbnail</em>id | 418 | | 240 | [Oracle] Gérer les directories | 1276 | 240 | <em>thumbnail</em>id | 418 | | 244 | [Oracle] Gérer les utilisateurs | 1279 | 244 | <em>thumbnail</em>id | 418 | | 251 | [Oracle] Les étapes d'arrêt et de démarrage. | 1282 | 251 | <em>thumbnail</em>id | 418 | | 257 | [Linux] Transformer votre Linux en Time Capsule | 718 | 257 | <em>thumbnail</em>id | 270 | | 257 | [Linux] Transformer votre Linux en Time Capsule | 1328 | 257 | <em>thumbnail</em>id | 457 | | 263 | [FireFox] Ajoute un petit jeu dans sa page de démarrage | 703 | 263 | <em>thumbnail</em>id | 264 | | 276 | [Linux] Astuce pour retrouver les permissions sur un fichier | 1329 | 276 | <em>thumbnail</em>id | 457 | | 278 | [Oracle] Afficher et modifier les paramètres Oracle | 1294 | 278 | <em>thumbnail</em>id | 418 | | 284 | [iOS] iOS 8.1 est disponible !! | 761 | 284 | <em>thumbnail</em>id | 283 | | 287 | [LVM] Agrandir un disque à chaud | 1330 | 287 | <em>thumbnail</em>id | 457 | | 289 | [Oracle] Récupérer le code SQL de création d'un objet | 1288 | 289 | <em>thumbnail</em>id | 418 | | 292 | [Windows] Synchroniser deux répertoires en conservant les permissions NTFS | NULL | NULL | NULL | NULL | | 294 | [Linux] Créer une copie bit à bit d'une clef USB | 1331 | 294 | <em>thumbnail</em>id | 457 | | 297 | [Oracle] Le listener | 1180 | 297 | <em>thumbnail</em>id | 418 | | 303 | [iTop] Configuration de l'authentification Active Directory | NULL | NULL | NULL | NULL | | 312 | [Varnish] Configurer Varnish pour booster WordPress | 1332 | 312 | <em>thumbnail</em>id | 457 | | 314 | [Windows] Créer des jonctions de dossiers | NULL | NULL | NULL | NULL | | 318 | [RedHat] Ajouter un disque à chaud, sans rescan-scsi-bus | 1333 | 318 | <em>thumbnail</em>id | 457 | | 323 | [NFS] Lister les partages NFS sur une machine distante | 1334 | 323 | <em>thumbnail</em>id | 457 | | 326 | [Ubuntu] Remplacer Unity par Gnome | 900 | 326 | <em>thumbnail</em>id | 327 | | 326 | [Ubuntu] Remplacer Unity par Gnome | 1335 | 326 | <em>thumbnail</em>id | 457 | | 329 | [Ubuntu] Activer le partage d'écran depuis la ligne de commande | 1311 | 329 | <em>thumbnail</em>id | 457 | | 331 | [BackupExec] Problème de backup de montages NFS | NULL | NULL | NULL | NULL | | 339 | [BackupExec] Mettre l'agent Linux en mode \"debug\" | NULL | NULL | NULL | NULL | | 341 | [Linux Tuning] Ajuster la swappiness | 1305 | 341 | <em>thumbnail</em>id | 457 | | 346 | [Apps] Retoucher ses photos et créer des GIF animés | 958 | 346 | <em>thumbnail</em>id | 347 | | 372 | [Ubuntu] Installer TeamViewer 9 sur Ubuntu 14.10 | 1004 | 372 | <em>thumbnail</em>id | 375 | | 377 | [iOS] La mise à jour 8.1.1 est arrivée ! | NULL | NULL | NULL | NULL | | 379 | [OSX] Yosemite 10.10.1 : la foire de la mise à jour chez Apple | NULL | NULL | NULL | NULL | | 392 | [OS X] Activer le partage de bureau à distance | NULL | NULL | NULL | NULL | | 396 | [Windows] Forcer l'utilisation des DNS Google | NULL | NULL | NULL | NULL | | 369 | [AirPlay] Transformez votre Ubuntu en serveur AirPlay avec ShairPort | 1299 | 369 | <em>thumbnail</em>id | 457 | | 400 | [Windows] Outil pour créer des clefs USB bootable | NULL | NULL | NULL | NULL | | 405 | [Windows/vSphere 5.5] Pas de réseau au reboot | 1160 | 405 | <em>thumbnail</em>id | 409 | +-----+--------------------------------------------------------------------------------------+---------+---------+---------------+------------+ 66 rows in set (0.01 sec)</p>\n\n<p>J’en ai donc extra-paulé (pardon, elle était trop facile celle la … :D) une requête pour <em>*ajouter *</em>une image à la une sur des articles qui n’en n’ont pas.</p>\n\n<p>insert into wp<em>postmeta(meta</em>key,meta<em>value,post</em>id) values ('<em>thumbnail</em>id', '457', '27');</p>\n\n<p>Cette requête ajoute l’image <a href=\"https://techan.fr/images/2014/11/Linux.png\"><img src=\"https://techan.fr/images/2014/11/Linux.png\" alt=\"Linux\" title=\"\" /></a> comme image à la une de l’article <a href=\"https://techan.fr/ajouter-des-clefs-ssh-pour-se-connecter-sur-un-boitier-recoverpoint/\" title=\"Ajouter des clefs SSH pour se connecter sur un boîtier RecoverPoint\">Ajouter des clefs SSH pour se connecter sur un boîtier RecoverPoint</a>.</p>\n\n<p>On passe la requête, on rafraichit la page, et l’image apparait comme par magie (ou presque !).</p>","image":"https://techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-21T15:01:06.000Z","created_by":1,"updated_at":"2014-11-21T15:01:06.000Z","updated_by":1,"published_at":"2014-11-21T15:01:06.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":67,"uuid":"03eebf25-4224-4517-a43f-9157ab8ccffc","title":"[Searx] Héberger votre moteur de recherche","slug":"searx-heberger-votre-moteur-de-recherche","markdown":"\nLors de mes divagations sur Internet, je suis tombé sur un projet sympa : Searx. Si vous avez toujours rêvé d’héberger votre moteur de recherche, ceci va vous plaire !  \n  \n Searx est un méta moteur de recherche, cela veux dire qu’il va interroger un bon nombre de moteurs de recherche classique et vous donne tous les résultats d’un coup. Un autre point important, Searx protège votre e-vie privée, c’est à dire que Google par exemple ne pourra pas récupérer votre IP ni une bonne partie des autres données qu’il collecte lors de vos recherches. Vous savez, ces données qui servent à vous proposer de la publicité « ciblée » qui me hérisse particulièrement le poil.\n\nPour les plus bidouilleurs d’entre vous, sachez qu’il est possible de développer des modules (en Python) afin d’ajouter vos propres sources d’informations. Bien que par défaut l’outil soit déjà bien pourvu ! Pour n’en citer que quelques uns : Google, Bing, DuckDuckGo, Wikipédia en font partie.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_490\" style=\"width: 664px\">[![Une recherche avec Searx](https://techan.fr/images/2014/11/searx_recherche.png)](https://techan.fr/images/2014/11/searx_recherche.png)Une recherche avec Searx\n\n</div> \n\n \n\nPour les aventureux qui voudraient héberger leur propre copie de Searx, voici la marche à suivre ","html":"<p>Lors de mes divagations sur Internet, je suis tombé sur un projet sympa : Searx. Si vous avez toujours rêvé d’héberger votre moteur de recherche, ceci va vous plaire !  </p>\n\n<p>Searx est un méta moteur de recherche, cela veux dire qu’il va interroger un bon nombre de moteurs de recherche classique et vous donne tous les résultats d’un coup. Un autre point important, Searx protège votre e-vie privée, c’est à dire que Google par exemple ne pourra pas récupérer votre IP ni une bonne partie des autres données qu’il collecte lors de vos recherches. Vous savez, ces données qui servent à vous proposer de la publicité « ciblée » qui me hérisse particulièrement le poil.</p>\n\n<p>Pour les plus bidouilleurs d’entre vous, sachez qu’il est possible de développer des modules (en Python) afin d’ajouter vos propres sources d’informations. Bien que par défaut l’outil soit déjà bien pourvu ! Pour n’en citer que quelques uns : Google, Bing, DuckDuckGo, Wikipédia en font partie.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_490\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2014/11/searx_recherche.png\"><img src=\"https://techan.fr/images/2014/11/searx_recherche.png\" alt=\"Une recherche avec Searx\" title=\"\" /></a>Une recherche avec Searx</p>\n\n<p></div> </p>\n\n<p>Pour les aventureux qui voudraient héberger leur propre copie de Searx, voici la marche à suivre ","image":"https://techan.fr/images/2014/11/searx.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-25T15:32:36.000Z","created_by":1,"updated_at":"2015-08-07T08:56:18.000Z","updated_by":1,"published_at":"2014-11-25T15:32:36.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":68,"uuid":"3f57c37a-89dd-43c0-9f88-162678f63ea3","title":"Agent Cloud Control 12c down après reboot de la machine","slug":"agent-cloud-control-12c-apres-reboot-de-la-machine","markdown":"\nAprès une action sur une VM Oracle Linux hébergeant deux bases Oracle, j’ai eu la mauvaise surprise de voir que l’agent Cloud Control 12c a bien redémarrer mais était vu comme down dans le Cloud Control. Je dois avouer que j’ai pas mal tourné en rond que cette flèche rouge m’a pas mal irrité …  \n  \n[![Agent Cloud Control 12c down](https://techan.fr/images/2014/11/agent_recalcitrant1.png)](https://techan.fr/images/2014/11/agent_recalcitrant1.png)\n\n \n\nAprès quelques recherches sur Google, et presque en déspeoir de cause, j’ai testé unedes dernières marche à suivre pour corriger l’agent Cloud Control 12c down.\n\nCette marche à suivre se trouve sur le site [community.oracle.com](https://community.oracle.com/thread/2429559?start=0&tstart=0), la réposne de « washington_peres ».\n\n \n\n[![forcer_agent_recalcitrant](https://techan.fr/images/2014/11/forcer_agent_recalcitrant.png)](https://techan.fr/images/2014/11/forcer_agent_recalcitrant.png)J’ai donc appliqué cette procédure.\n\n**<span style=\"text-decoration: underline;\">Note :</span>** Il faut se placer dans le répertoire « $AGENT_HOME/bin » pour lancer ces commandes.\n\n[oracle@xxxxxx bin](ORCL)$ ./emctl stop agent Oracle Enterprise Manager Cloud Control 12c Release 3 Copyright (c) 1996, 2013 Oracle Corporation. All rights reserved. Stopping agent ..... stopped. [oracle@xxxxxx bin](ORCL)$ ./emctl secure agent Oracle Enterprise Manager Cloud Control 12c Release 3 Copyright (c) 1996, 2013 Oracle Corporation. All rights reserved. Agent is already stopped... Done. Securing agent... Started. Enter Agent Registration Password : EMD gensudoprops completed successfully Securing agent... Successful. [oracle@xxxxxx bin](ORCL)$ ./emctl start agent Oracle Enterprise Manager Cloud Control 12c Release 3 Copyright (c) 1996, 2013 Oracle Corporation. All rights reserved. Starting agent ............... started. [oracle@xxxxxx bin](ORCL)$ ./emctl status agent Oracle Enterprise Manager Cloud Control 12c Release 3 Copyright (c) 1996, 2013 Oracle Corporation. All rights reserved. --------------------------------------------------------------- Agent Version : 12.1.0.3.0 OMS Version : 12.1.0.3.0 Protocol Version : 12.1.0.1.0 Agent Home : /u01/oracle/product/em_agent/agent_inst Agent Binaries : /u01/oracle/product/em_agent/core/12.1.0.3.0 Agent Process ID : 11371 Parent Process ID : 11315 Agent URL : https://xxxxxx.xxxxx.fr:3872/emd/main/ Repository URL : https://xxxxxx.xxxxx.fr:4904/empbs/upload Started at : 2014-11-26 17:09:56 Started by user : oracle Last Reload : (none) Last successful upload : 2014-11-26 17:10:05 Last attempted upload : 2014-11-26 17:10:05 Total Megabytes of XML files uploaded so far : 0,02 Number of XML files pending upload : 1 Size of XML files pending upload(MB) : 0 Available disk space on upload filesystem : 70,99 % Collection Status : Collections enabled Heartbeat Status : Ok Last attempted heartbeat to OMS : 2014-11-26 17:10:03 Last successful heartbeat to OMS : 2014-11-26 17:10:03 Next scheduled heartbeat to OMS : 2014-11-26 17:11:04 --------------------------------------------------------------- Agent is Running and Ready [oracle@xxxxxx bin](ORCL)$ ./emctl config agent addinternaltargets Oracle Enterprise Manager Cloud Control 12c Release 3 Copyright (c) 1996, 2013 Oracle Corporation. All rights reserved. [oracle@xxxxxx bin](ORCL)$\n\n \n\nUne fois ces  actions réalisées, la flèche repasse miraculeusement au vert !! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\n[![agent_recalcitrant_up](https://techan.fr/images/2014/11/agent_recalcitrant_up.png)](https://techan.fr/images/2014/11/agent_recalcitrant_up.png)\n\n \n\n \n\n\n","html":"<p>Après une action sur une VM Oracle Linux hébergeant deux bases Oracle, j’ai eu la mauvaise surprise de voir que l’agent Cloud Control 12c a bien redémarrer mais était vu comme down dans le Cloud Control. Je dois avouer que j’ai pas mal tourné en rond que cette flèche rouge m’a pas mal irrité …  </p>\n\n<p><a href=\"https://techan.fr/images/2014/11/agent_recalcitrant1.png\"><img src=\"https://techan.fr/images/2014/11/agent_recalcitrant1.png\" alt=\"Agent Cloud Control 12c down\" title=\"\" /></a></p>\n\n<p>Après quelques recherches sur Google, et presque en déspeoir de cause, j’ai testé unedes dernières marche à suivre pour corriger l’agent Cloud Control 12c down.</p>\n\n<p>Cette marche à suivre se trouve sur le site <a href=\"https://community.oracle.com/thread/2429559?start=0&amp;tstart=0\">community.oracle.com</a>, la réposne de « washington_peres ».</p>\n\n<p><a href=\"https://techan.fr/images/2014/11/forcer_agent_recalcitrant.png\"><img src=\"https://techan.fr/images/2014/11/forcer_agent_recalcitrant.png\" alt=\"forcer<em>agent</em>recalcitrant\" title=\"\" /></a>J’ai donc appliqué cette procédure.</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Note :</span></strong> Il faut se placer dans le répertoire « $AGENT_HOME/bin » pour lancer ces commandes.</p>\n\n<p><a href=\"ORCL\">oracle@xxxxxx bin</a>$ ./emctl stop agent Oracle Enterprise Manager Cloud Control 12c Release 3 Copyright (c) 1996, 2013 Oracle Corporation. All rights reserved. Stopping agent ..... stopped. <a href=\"ORCL\">oracle@xxxxxx bin</a>$ ./emctl secure agent Oracle Enterprise Manager Cloud Control 12c Release 3 Copyright (c) 1996, 2013 Oracle Corporation. All rights reserved. Agent is already stopped... Done. Securing agent... Started. Enter Agent Registration Password : EMD gensudoprops completed successfully Securing agent... Successful. <a href=\"ORCL\">oracle@xxxxxx bin</a>$ ./emctl start agent Oracle Enterprise Manager Cloud Control 12c Release 3 Copyright (c) 1996, 2013 Oracle Corporation. All rights reserved. Starting agent ............... started. <a href=\"ORCL\">oracle@xxxxxx bin</a>$ ./emctl status agent Oracle Enterprise Manager Cloud Control 12c Release 3 Copyright (c) 1996, 2013 Oracle Corporation. All rights reserved. --------------------------------------------------------------- Agent Version : 12.1.0.3.0 OMS Version : 12.1.0.3.0 Protocol Version : 12.1.0.1.0 Agent Home : /u01/oracle/product/em<em>agent/agent</em>inst Agent Binaries : /u01/oracle/product/em_agent/core/12.1.0.3.0 Agent Process ID : 11371 Parent Process ID : 11315 Agent URL : <a href=\"https://xxxxxx.xxxxx.fr:3872/emd/main/\">https://xxxxxx.xxxxx.fr:3872/emd/main/</a> Repository URL : <a href=\"https://xxxxxx.xxxxx.fr:4904/empbs/upload\">https://xxxxxx.xxxxx.fr:4904/empbs/upload</a> Started at : 2014-11-26 17:09:56 Started by user : oracle Last Reload : (none) Last successful upload : 2014-11-26 17:10:05 Last attempted upload : 2014-11-26 17:10:05 Total Megabytes of XML files uploaded so far : 0,02 Number of XML files pending upload : 1 Size of XML files pending upload(MB) : 0 Available disk space on upload filesystem : 70,99 % Collection Status : Collections enabled Heartbeat Status : Ok Last attempted heartbeat to OMS : 2014-11-26 17:10:03 Last successful heartbeat to OMS : 2014-11-26 17:10:03 Next scheduled heartbeat to OMS : 2014-11-26 17:11:04 --------------------------------------------------------------- Agent is Running and Ready <a href=\"ORCL\">oracle@xxxxxx bin</a>$ ./emctl config agent addinternaltargets Oracle Enterprise Manager Cloud Control 12c Release 3 Copyright (c) 1996, 2013 Oracle Corporation. All rights reserved. <a href=\"ORCL\">oracle@xxxxxx bin</a>$</p>\n\n<p>Une fois ces  actions réalisées, la flèche repasse miraculeusement au vert !! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p><a href=\"https://techan.fr/images/2014/11/agent_recalcitrant_up.png\"><img src=\"https://techan.fr/images/2014/11/agent_recalcitrant_up.png\" alt=\"agent<em>recalcitrant</em>up\" title=\"\" /></a></p>","image":"https://techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-26T18:31:30.000Z","created_by":1,"updated_at":"2014-11-26T18:36:24.000Z","updated_by":1,"published_at":"2014-11-26T18:31:30.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":69,"uuid":"aa055f4d-4e20-4b7e-a8d4-14c16b3185d5","title":"[iOS 8] Customiser les boîtes mail affichées dans Mail","slug":"ios-8-customiser-les-boites-mail-affichees-dans-mail","markdown":"\nVoilà une option que j’ai trouvée tout récemment et qui me change un peu la vie dans mon utilisation de l’application Mail fournie avec iOS. Cette manipulation permet de customiser les boîtes mail affichées dans Mail.  \n  \n  \n\nTout d’abord, rendez-vous dans Mail, sur l’écran d’accueil.\n\n[![Customiser les boîtes mail affichées dans Mail](https://techan.fr/images/2014/12/mail_boxe-575x1024.png)](https://techan.fr/images/2014/12/mail_boxe.png)\n\n \n\nCliquer ensuite sur « Modifier » en haut à droite.\n\n \n\n[![Customiser les boîtes mail affichées dans Mail](https://techan.fr/images/2014/12/mail_boxes_2-575x1024.png)](https://techan.fr/images/2014/12/mail_boxes_2.png)\n\nVous avez maintenant accès à plusieurs boîtes pré-paramétrées par Apple, comme « Non Lus » ou « Aujourd’hui », mais si vous descendez un peu plus …\n\n \n\n[![Customiser les boîtes mail affichées dans Mail](https://techan.fr/images/2014/12/mail_select_boxes-575x1024.png)](https://techan.fr/images/2014/12/mail_select_boxes.png)\n\nVous trouverez une option fort utile, « Ajouter une boîte », cela vous permet d’accéder directement à une boîte mail depuis l’écran d’accueil. C’est pratique, surtout ci comme moi, vous avez une arborescence plutôt complexe. Valider vos changements en tapant sur « Ok » en haut à droite.\n\n \n\n[![Customiser les boîtes mail affichées dans Mail](https://techan.fr/images/2014/12/mail_select_boxes_2-575x1024.png)](https://techan.fr/images/2014/12/mail_select_boxes_2.png)\n\nEt voilà, Mail a gagné énormément en praticité ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n\n","html":"<p>Voilà une option que j’ai trouvée tout récemment et qui me change un peu la vie dans mon utilisation de l’application Mail fournie avec iOS. Cette manipulation permet de customiser les boîtes mail affichées dans Mail.  </p>\n\n<p>Tout d’abord, rendez-vous dans Mail, sur l’écran d’accueil.</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/mail_boxe.png\"><img src=\"https://techan.fr/images/2014/12/mail_boxe-575x1024.png\" alt=\"Customiser les boîtes mail affichées dans Mail\" title=\"\" /></a></p>\n\n<p>Cliquer ensuite sur « Modifier » en haut à droite.</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/mail_boxes_2.png\"><img src=\"https://techan.fr/images/2014/12/mail_boxes_2-575x1024.png\" alt=\"Customiser les boîtes mail affichées dans Mail\" title=\"\" /></a></p>\n\n<p>Vous avez maintenant accès à plusieurs boîtes pré-paramétrées par Apple, comme « Non Lus » ou « Aujourd’hui », mais si vous descendez un peu plus …</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/mail_select_boxes.png\"><img src=\"https://techan.fr/images/2014/12/mail_select_boxes-575x1024.png\" alt=\"Customiser les boîtes mail affichées dans Mail\" title=\"\" /></a></p>\n\n<p>Vous trouverez une option fort utile, « Ajouter une boîte », cela vous permet d’accéder directement à une boîte mail depuis l’écran d’accueil. C’est pratique, surtout ci comme moi, vous avez une arborescence plutôt complexe. Valider vos changements en tapant sur « Ok » en haut à droite.</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/mail_select_boxes_2.png\"><img src=\"https://techan.fr/images/2014/12/mail_select_boxes_2-575x1024.png\" alt=\"Customiser les boîtes mail affichées dans Mail\" title=\"\" /></a></p>\n\n<p>Et voilà, Mail a gagné énormément en praticité ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>","image":"https://techan.fr/images/2014/12/mail-iphone.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-12-01T13:17:31.000Z","created_by":1,"updated_at":"2014-12-15T10:08:55.000Z","updated_by":1,"published_at":"2014-12-01T13:17:31.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":70,"uuid":"4051905d-26ff-40df-8f64-66bd9dc81c5f","title":"Google refuse les mails venant de Postfix","slug":"google-refuse-les-mails-venant-de-postfix","markdown":"\nVoici comme résoudre le problème qui fait que Google refuse les mails venant de Postfix.\n\n#### Résumé du problème\n\nRégulièrement, GMail refusait les mails que j’envoyai depuis mon serveur personnel, qui héberge Postfix et Dovecot. La raison avancée par Google est que ce mail ressemblait fortement à du spam et qu’il préférait le bloquer. Le mail n’arrivait donc même pas dans la boite Spam du destinataire, il était bloqué purement et simplement.  \n  \n  \n\nUn premier workaround que j’ai trouvé était de renvoyer le mail, il passait la seconde fois en règle générale, mais cette solution m’a vite fatiguée … J’ai donc fouillé et trouvé une solution, désactiver l’IPv6. Ne me demandez pas pourquoi, mais visiblement Google n’aime pas ça … En effet, dès que j’ai cela, tous les mails se sont mis a passer directement.\n\nVoici le type de réponse que m’envoyait le mailer de Google :\n\nReporting-MTA: dns; mail X-Postfix-Queue-ID: 9BB04521B3 X-Postfix-Sender: rfc822; xxxxx.xxxxx@xxxxx.fr Arrival-Date: Sat, 27 Sep 2014 08:32:30 +0200 (CEST) Final-Recipient: rfc822; xxxxx@gmail.com Original-Recipient: rfc822;xxxxx@gmail.com Action: failed Status: 5.7.1 Remote-MTA: dns; gmail-smtp-in.l.google.com Diagnostic-Code: smtp; 550-5.7.1 [2001:41d0:8:1e3e::1 12] Our system has detected that this 550-5.7.1 message is likely unsolicited mail. To reduce the amount of spam sent 550-5.7.1 to Gmail, this message has been blocked. Please visit 550-5.7.1 http://support.google.com/mail/bin/answer.py?hl=en&answer=188131 for 550 5.7.1 more information. ph6si9172275wjb.176 - gsmtp\n\n \n\n#### Résolution\n\nPour désactiver l’IPv6, voici les commandes a lancer :\n\nsysctl -w net.ipv6.conf.default.disable_ipv6=1 sysctl -w net.ipv6.conf.all.disable_ipv6=1\n\n \n\nCes options sont prises à chaud, mais ne sont pas persistantes à un reboot du serveur. Pour les rendre persistantes, il faut ajouter les lignes suivantes dans le fichier « /etc/sysctl.conf ».\n\nnet.ipv6.conf.default.disable_ipv6=1 net.ipv6.conf.all.disable_ipv6=1\n\n \n\n\n","html":"<p>Voici comme résoudre le problème qui fait que Google refuse les mails venant de Postfix.</p>\n\n<h4 id=\"rsumduproblme\">Résumé du problème</h4>\n\n<p>Régulièrement, GMail refusait les mails que j’envoyai depuis mon serveur personnel, qui héberge Postfix et Dovecot. La raison avancée par Google est que ce mail ressemblait fortement à du spam et qu’il préférait le bloquer. Le mail n’arrivait donc même pas dans la boite Spam du destinataire, il était bloqué purement et simplement.  </p>\n\n<p>Un premier workaround que j’ai trouvé était de renvoyer le mail, il passait la seconde fois en règle générale, mais cette solution m’a vite fatiguée … J’ai donc fouillé et trouvé une solution, désactiver l’IPv6. Ne me demandez pas pourquoi, mais visiblement Google n’aime pas ça … En effet, dès que j’ai cela, tous les mails se sont mis a passer directement.</p>\n\n<p>Voici le type de réponse que m’envoyait le mailer de Google :</p>\n\n<p>Reporting-MTA: dns; mail X-Postfix-Queue-ID: 9BB04521B3 X-Postfix-Sender: rfc822; xxxxx.xxxxx@xxxxx.fr Arrival-Date: Sat, 27 Sep 2014 08:32:30 +0200 (CEST) Final-Recipient: rfc822; xxxxx@gmail.com Original-Recipient: rfc822;xxxxx@gmail.com Action: failed Status: 5.7.1 Remote-MTA: dns; gmail-smtp-in.l.google.com Diagnostic-Code: smtp; 550-5.7.1 [2001:41d0:8:1e3e::1 12] Our system has detected that this 550-5.7.1 message is likely unsolicited mail. To reduce the amount of spam sent 550-5.7.1 to Gmail, this message has been blocked. Please visit 550-5.7.1 <a href=\"http://support.google.com/mail/bin/answer.py?hl=en&amp;answer=188131\">http://support.google.com/mail/bin/answer.py?hl=en&amp;answer=188131</a> for 550 5.7.1 more information. ph6si9172275wjb.176 - gsmtp</p>\n\n<h4 id=\"rsolution\">Résolution</h4>\n\n<p>Pour désactiver l’IPv6, voici les commandes a lancer :</p>\n\n<p>sysctl -w net.ipv6.conf.default.disable<em>ipv6=1 sysctl -w net.ipv6.conf.all.disable</em>ipv6=1</p>\n\n<p>Ces options sont prises à chaud, mais ne sont pas persistantes à un reboot du serveur. Pour les rendre persistantes, il faut ajouter les lignes suivantes dans le fichier « /etc/sysctl.conf ».</p>\n\n<p>net.ipv6.conf.default.disable<em>ipv6=1 net.ipv6.conf.all.disable</em>ipv6=1</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-12-10T11:57:16.000Z","created_by":1,"updated_at":"2014-12-10T11:57:16.000Z","updated_by":1,"published_at":"2014-12-10T11:57:16.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":71,"uuid":"85bdb557-96df-4c2f-b6fb-52c4a07efc27","title":"Baisser la version de hardware d'une VM VMware","slug":"baisser-la-version-de-hardware-dune-vm-vmware","markdown":"\n### Le problème\n\nDans le but de monter une maquette, il m’a fallu déployer un template de VM créé en version 5.5 de vSphere sur un vieil ESX en version 4.0 rallumé pour l’occasion. Cette opération peut paraître banale, mais dans ce cas le template avec une version de virtaul hardware trop élevé pour le vieil ESX. Le template utilise un hardware en version 8 alors que l’ESX 4.0 ne supporte que jusqu’à la version 7. Il a donc fallu ruser pour pouvoir baisser la version de hardware d’une VM VMware.  \n  \n  \n\n### La solution\n\n \n\nAprès quelques recherches sur l’internet multimédia, j’ai trouvé une KB de VMware qui donne des pistes pour baisser la version de hardware d’une VM VMware. Vous trouverez le lien vers cette KB en bas de l’article.\n\nLa première propose de revenir à un snapshot de la VM avant la monter de version du virtual hardware, ce qui n’était pas possible dans mon cas puisque le template a été créé directement en version 8.\n\nLa seconde, conseille d’utiliser vCenter Converter Standalone afin de convertir la VM dans une version de hardware plus bas, mais cela fait installer un outil que nous n’avions pas.\n\nLa troisième finalement, propose une bidouille qui m’a plu. Il s’agit de de créer une nouvelle VM dans la version de virtual hardware souhaitée et d’y attacher les disques de la VM trop haute en hardware. Je confirme, cela fonctionne !\n\n \n\n### La marche à suivre\n\nDans un premier temps, j’ai cloné le template dont je voulais baisser la version de hardware d’une VM VMware.\n\nPendant le clone, on crée une nouvelle machine virtuelle en mode « Custom » et non « Typical » afin d’avoir accès à toutes les options de configuration. Précisez bien l’OS comme d’habitude, et faites attention à bien choisir la bonne version de virtual hardware que vous visez. Dans la configuration des disques, choisissez l’option ne pas créer de disques virtuels.\n\nUne fois le clone achevé, convertissez le en machine virtuelle, puis dans les paramètres, supprimer les disques de la VM, **sans toute fois les supprimer du datastore**.\n\nVous pouvez « Borwser » le datastore pour déplacer les disque de la VM d’origine si vous le souhaitez puis éditer les paramètres de la nouvelle VM vide et ajoutez les disques de l’ancienne VM.\n\nOn clique sur la flèche verte, et la VM démarre dans un version plus ancienne de virtual hardware comme par magie, ou presque !\n\n \n\n#### Source\n\n[kb.vmware.com](http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&cmd=displayKC&externalId=1028019)\n\n\n","html":"<h3 id=\"leproblme\">Le problème</h3>\n\n<p>Dans le but de monter une maquette, il m’a fallu déployer un template de VM créé en version 5.5 de vSphere sur un vieil ESX en version 4.0 rallumé pour l’occasion. Cette opération peut paraître banale, mais dans ce cas le template avec une version de virtaul hardware trop élevé pour le vieil ESX. Le template utilise un hardware en version 8 alors que l’ESX 4.0 ne supporte que jusqu’à la version 7. Il a donc fallu ruser pour pouvoir baisser la version de hardware d’une VM VMware.  </p>\n\n<h3 id=\"lasolution\">La solution</h3>\n\n<p>Après quelques recherches sur l’internet multimédia, j’ai trouvé une KB de VMware qui donne des pistes pour baisser la version de hardware d’une VM VMware. Vous trouverez le lien vers cette KB en bas de l’article.</p>\n\n<p>La première propose de revenir à un snapshot de la VM avant la monter de version du virtual hardware, ce qui n’était pas possible dans mon cas puisque le template a été créé directement en version 8.</p>\n\n<p>La seconde, conseille d’utiliser vCenter Converter Standalone afin de convertir la VM dans une version de hardware plus bas, mais cela fait installer un outil que nous n’avions pas.</p>\n\n<p>La troisième finalement, propose une bidouille qui m’a plu. Il s’agit de de créer une nouvelle VM dans la version de virtual hardware souhaitée et d’y attacher les disques de la VM trop haute en hardware. Je confirme, cela fonctionne !</p>\n\n<h3 id=\"lamarchesuivre\">La marche à suivre</h3>\n\n<p>Dans un premier temps, j’ai cloné le template dont je voulais baisser la version de hardware d’une VM VMware.</p>\n\n<p>Pendant le clone, on crée une nouvelle machine virtuelle en mode « Custom » et non « Typical » afin d’avoir accès à toutes les options de configuration. Précisez bien l’OS comme d’habitude, et faites attention à bien choisir la bonne version de virtual hardware que vous visez. Dans la configuration des disques, choisissez l’option ne pas créer de disques virtuels.</p>\n\n<p>Une fois le clone achevé, convertissez le en machine virtuelle, puis dans les paramètres, supprimer les disques de la VM, <strong>sans toute fois les supprimer du datastore</strong>.</p>\n\n<p>Vous pouvez « Borwser » le datastore pour déplacer les disque de la VM d’origine si vous le souhaitez puis éditer les paramètres de la nouvelle VM vide et ajoutez les disques de l’ancienne VM.</p>\n\n<p>On clique sur la flèche verte, et la VM démarre dans un version plus ancienne de virtual hardware comme par magie, ou presque !</p>\n\n<h4 id=\"source\">Source</h4>\n\n<p><a href=\"http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1028019\">kb.vmware.com</a></p>","image":"https://techan.fr/images/2014/12/vsphere_logo_miniature.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-12-15T09:53:08.000Z","created_by":1,"updated_at":"2014-12-17T12:28:52.000Z","updated_by":1,"published_at":"2014-12-15T09:53:08.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":72,"uuid":"2cce078e-fadf-4e49-b0ff-c509e9b026d2","title":"Uploader les pièces jointes dans OwnCloud","slug":"uploader-les-pieces-jointes-dans-owncloud","markdown":"\nC’est plutôt par hasard que je suis tombé sur une fonctionnalité de ThunderBird bien sympa, FileLink. Cela permet d’envoyer les pièces jointes volumineuses sur un stockage cloud directement lors de l’édition du message et de les remplacer par un lien dans le mail. J’ai donc cherché s’il y avait un moyen d’utiliser FileLink pour uploader les pièces jointes dans OwnCloud.  \n  \n J’ai trouvé une astuce dans un thread sur le GitHub d’OwnCloud :\n\n[https://github.com/owncloud/core/issues/699](https://github.com/owncloud/core/issues/699)\n\nUn addon de ThunderBird « [WebDav for FileLink](https://addons.mozilla.org/en-US/thunderbird/addon/webdav-for-filelink/) » existe et permettrait de faire cela, mais avec pas mal de limitations … Plus loin dans le thread, j’ai découvert qu’un certain « guillaumev » avait créé un plugin pour ThunderBird permettant l’intégration d’OwnCloud dans FileLink ! Je vais vous expliquer comme l’utiliser ! ","html":"<p>C’est plutôt par hasard que je suis tombé sur une fonctionnalité de ThunderBird bien sympa, FileLink. Cela permet d’envoyer les pièces jointes volumineuses sur un stockage cloud directement lors de l’édition du message et de les remplacer par un lien dans le mail. J’ai donc cherché s’il y avait un moyen d’utiliser FileLink pour uploader les pièces jointes dans OwnCloud.  </p>\n\n<p>J’ai trouvé une astuce dans un thread sur le GitHub d’OwnCloud :</p>\n\n<p><a href=\"https://github.com/owncloud/core/issues/699\">https://github.com/owncloud/core/issues/699</a></p>\n\n<p>Un addon de ThunderBird « <a href=\"https://addons.mozilla.org/en-US/thunderbird/addon/webdav-for-filelink/\">WebDav for FileLink</a> » existe et permettrait de faire cela, mais avec pas mal de limitations … Plus loin dans le thread, j’ai découvert qu’un certain « guillaumev » avait créé un plugin pour ThunderBird permettant l’intégration d’OwnCloud dans FileLink ! Je vais vous expliquer comme l’utiliser ! ","image":"https://techan.fr/images/2014/12/oc_logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-12-17T12:07:00.000Z","created_by":1,"updated_at":"2015-01-01T23:41:41.000Z","updated_by":1,"published_at":"2014-12-17T12:07:00.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":73,"uuid":"95f18478-85f9-4cae-bbf6-49535c9094da","title":"Installer les pilotes ODBC pour Office 2010","slug":"installer-les-pilotes-odbc-pour-office-2010","markdown":"\nPour les besoins d’une application, il m’a fallu chercher comment installer les pilotes ODBC pour Office 2010 et pas moyen de trouver une documentation sur Internet qui explique ce qu’il faut installer … Après avoir pas mal pataugé, j’ai enfin trouver comment faire.  \n  \n  \n\n\n## Trouver l’architecture d’Office installée\n\nTout d’abord, il faut trouver l’architecture de l’Office installé sur la machine (32 ou 64 bits) afin de savoir quel outil utiliser pour installer les pilotes ODBC pour Office 2010.\n\nPour trouver cette information, il faut lancer Excel par exemple et aller dans « Fichier » -> « Aide ». Dans le panneau de droite vous trouverez une bonne tartine d’informations dont celle que l’on cherche.\n\n[![version_office](https://techan.fr/images/2014/12/version_office.png)](https://techan.fr/images/2014/12/version_office.png)\n\nDans mon cas, j’ai une version 32 bits d’Office 2010 installée sur une machine 64 bits, le cas le plus délicieux.\n\n\n## **Installer les pilotes ODBC pour Office 2010**\n\nRendez-vous dans le panneau de configuration puis dans Programmes et fonctionnalités sélectionnez Office et cliquez sur Modifier.\n\n[![install_outil_office_1](https://techan.fr/images/2014/12/install_outil_office_1.png)](https://techan.fr/images/2014/12/install_outil_office_1.png)\n\nDans le programme d’installation d’Office, choisissez la première option.\n\n \n\n[![install_outil_office_2](https://techan.fr/images/2014/12/install_outil_office_2.png)](https://techan.fr/images/2014/12/install_outil_office_2.png)\n\nSélectionnez « Microsoft Query » pour installation dans la catégorie « Outils Office ».\n\n[![Installer les pilotes ODBC pour Office 2010](https://techan.fr/images/2014/12/install_outil_office_3.png)](https://techan.fr/images/2014/12/install_outil_office_3.png)\n\nCliquez sur Continuer sans fin jusqu’à ce que l’installation soit terminée et voila.\n\n\n## Valider l’installation des pilotes ODBC\n\nAlors dans un premier temps ce qu’il savoir c’est que sur les systèmes 64 bits, il y a les deux versions (32 et 64 bits) de l’outil de configuration de sources ODBC. Voici ou se trouvent ces versions respectives, <span style=\"text-decoration: underline;\">**attention c’est très logique**</span> !\n\n- Version 64 bits : C:\\Windows\\system32\\odbcad32.exe\n- Version 32 bits : C:\\Windows\\SysWOW64\\odbcad32.exe\n\nVoila, voila, j’adore …\n\nUne fois qu’on sait ça, et qu’on fait exactement l’inverse de la logique, tout se passe bien !\n\nDonc on lance la version qui va bien pour l’architecture d’Office, dans mon cas 32 bits, donc dans le répertoire 64 (non je ne m’en remet pas !).\n\n[![outil_admin_odbc](https://techan.fr/images/2014/12/outil_admin_odbc.png)](https://techan.fr/images/2014/12/outil_admin_odbc.png)\n\nOn voit que mes pilotes sont bien apparus :\n\n \n\n[![outil_admin_odbc_avec_office](https://techan.fr/images/2014/12/outil_admin_odbc_avec_office.png)](https://techan.fr/images/2014/12/outil_admin_odbc_avec_office.png)\n\nEt comble du bonheur, on peut configurer les sources avec ces pilotes !\n\n[![outil_admin_odbc_avec_office_qui_marche](https://techan.fr/images/2014/12/outil_admin_odbc_avec_office_qui_marche.png)](https://techan.fr/images/2014/12/outil_admin_odbc_avec_office_qui_marche.png)\n\nAlors qui on lance la version 64 bits de l’outil, il nous insulte carrément …\n\n[![outil_admin_odbc_avec_probleme_1](https://techan.fr/images/2014/12/outil_admin_odbc_avec_probleme_1.png)](https://techan.fr/images/2014/12/outil_admin_odbc_avec_probleme_1.png)\n\n[![outil_admin_odbc_avec_probleme_2](https://techan.fr/images/2014/12/outil_admin_odbc_avec_probleme_2.png)](https://techan.fr/images/2014/12/outil_admin_odbc_avec_probleme_2.png)\n\n\n## Et si vous êtes vraiment malchanceux\n\nL’application qui devait se servir de ces pilotes ODBC ne supporte pas la version 32 bits des sources ODBC et là vous êtes bons pour désinstaller Office 32 bits, installer Office 64 bits et recommencer cette manipulation. Courage !\n\n\n","html":"<p>Pour les besoins d’une application, il m’a fallu chercher comment installer les pilotes ODBC pour Office 2010 et pas moyen de trouver une documentation sur Internet qui explique ce qu’il faut installer … Après avoir pas mal pataugé, j’ai enfin trouver comment faire.  </p>\n\n<h2 id=\"trouverlarchitecturedofficeinstalle\">Trouver l’architecture d’Office installée</h2>\n\n<p>Tout d’abord, il faut trouver l’architecture de l’Office installé sur la machine (32 ou 64 bits) afin de savoir quel outil utiliser pour installer les pilotes ODBC pour Office 2010.</p>\n\n<p>Pour trouver cette information, il faut lancer Excel par exemple et aller dans « Fichier » -> « Aide ». Dans le panneau de droite vous trouverez une bonne tartine d’informations dont celle que l’on cherche.</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/version_office.png\"><img src=\"https://techan.fr/images/2014/12/version_office.png\" alt=\"version_office\" title=\"\" /></a></p>\n\n<p>Dans mon cas, j’ai une version 32 bits d’Office 2010 installée sur une machine 64 bits, le cas le plus délicieux.</p>\n\n<h2 id=\"installerlespilotesodbcpouroffice2010\"><strong>Installer les pilotes ODBC pour Office 2010</strong></h2>\n\n<p>Rendez-vous dans le panneau de configuration puis dans Programmes et fonctionnalités sélectionnez Office et cliquez sur Modifier.</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/install_outil_office_1.png\"><img src=\"https://techan.fr/images/2014/12/install_outil_office_1.png\" alt=\"install<em>outil</em>office_1\" title=\"\" /></a></p>\n\n<p>Dans le programme d’installation d’Office, choisissez la première option.</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/install_outil_office_2.png\"><img src=\"https://techan.fr/images/2014/12/install_outil_office_2.png\" alt=\"install<em>outil</em>office_2\" title=\"\" /></a></p>\n\n<p>Sélectionnez « Microsoft Query » pour installation dans la catégorie « Outils Office ».</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/install_outil_office_3.png\"><img src=\"https://techan.fr/images/2014/12/install_outil_office_3.png\" alt=\"Installer les pilotes ODBC pour Office 2010\" title=\"\" /></a></p>\n\n<p>Cliquez sur Continuer sans fin jusqu’à ce que l’installation soit terminée et voila.</p>\n\n<h2 id=\"validerlinstallationdespilotesodbc\">Valider l’installation des pilotes ODBC</h2>\n\n<p>Alors dans un premier temps ce qu’il savoir c’est que sur les systèmes 64 bits, il y a les deux versions (32 et 64 bits) de l’outil de configuration de sources ODBC. Voici ou se trouvent ces versions respectives, <span style=\"text-decoration: underline;\"><strong>attention c’est très logique</strong></span> !</p>\n\n<ul>\n<li>Version 64 bits : C:\\Windows\\system32\\odbcad32.exe</li>\n<li>Version 32 bits : C:\\Windows\\SysWOW64\\odbcad32.exe</li>\n</ul>\n\n<p>Voila, voila, j’adore …</p>\n\n<p>Une fois qu’on sait ça, et qu’on fait exactement l’inverse de la logique, tout se passe bien !</p>\n\n<p>Donc on lance la version qui va bien pour l’architecture d’Office, dans mon cas 32 bits, donc dans le répertoire 64 (non je ne m’en remet pas !).</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/outil_admin_odbc.png\"><img src=\"https://techan.fr/images/2014/12/outil_admin_odbc.png\" alt=\"outil<em>admin</em>odbc\" title=\"\" /></a></p>\n\n<p>On voit que mes pilotes sont bien apparus :</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/outil_admin_odbc_avec_office.png\"><img src=\"https://techan.fr/images/2014/12/outil_admin_odbc_avec_office.png\" alt=\"outil<em>admin</em>odbc<em>avec</em>office\" title=\"\" /></a></p>\n\n<p>Et comble du bonheur, on peut configurer les sources avec ces pilotes !</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/outil_admin_odbc_avec_office_qui_marche.png\"><img src=\"https://techan.fr/images/2014/12/outil_admin_odbc_avec_office_qui_marche.png\" alt=\"outil<em>admin</em>odbc<em>avec</em>office<em>qui</em>marche\" title=\"\" /></a></p>\n\n<p>Alors qui on lance la version 64 bits de l’outil, il nous insulte carrément …</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/outil_admin_odbc_avec_probleme_1.png\"><img src=\"https://techan.fr/images/2014/12/outil_admin_odbc_avec_probleme_1.png\" alt=\"outil<em>admin</em>odbc<em>avec</em>probleme_1\" title=\"\" /></a></p>\n\n<p><a href=\"https://techan.fr/images/2014/12/outil_admin_odbc_avec_probleme_2.png\"><img src=\"https://techan.fr/images/2014/12/outil_admin_odbc_avec_probleme_2.png\" alt=\"outil<em>admin</em>odbc<em>avec</em>probleme_2\" title=\"\" /></a></p>\n\n<h2 id=\"etsivoustesvraimentmalchanceux\">Et si vous êtes vraiment malchanceux</h2>\n\n<p>L’application qui devait se servir de ces pilotes ODBC ne supporte pas la version 32 bits des sources ODBC et là vous êtes bons pour désinstaller Office 32 bits, installer Office 64 bits et recommencer cette manipulation. Courage !</p>","image":"https://techan.fr/images/2014/12/windows_logo_mini.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-12-19T17:07:52.000Z","created_by":1,"updated_at":"2014-12-23T11:00:44.000Z","updated_by":1,"published_at":"2014-12-19T17:07:52.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":74,"uuid":"edce0107-3c83-482f-84b0-a8072a3f6b15","title":"Activer l'access.log sur Varnish","slug":"activer-laccess-log-sur-varnish","markdown":"\nVoici un petit article sur rapide pour expliquer comment activer l’access.log au niveau du moteur de cache Varnish.  \n  \n Cela est utile pour avoir des traces de connexion au(x) site(s) que varnish a dans son cache, car comme il les garde en cache justement, les accès son faussés !\n\nLa commande a passer pour activer l’access.log sur Varnish:\n\nvarnishncsa -a -w /var/log/varnish/access.log -D -P /var/run/varnishncsa.pid\n\nIl ne vous reste plus qu’a monitorer le fichier /var/log/varnish/access.log.\n\n\n","html":"<p>Voici un petit article sur rapide pour expliquer comment activer l’access.log au niveau du moteur de cache Varnish.  </p>\n\n<p>Cela est utile pour avoir des traces de connexion au(x) site(s) que varnish a dans son cache, car comme il les garde en cache justement, les accès son faussés !</p>\n\n<p>La commande a passer pour activer l’access.log sur Varnish:</p>\n\n<p>varnishncsa -a -w /var/log/varnish/access.log -D -P /var/run/varnishncsa.pid</p>\n\n<p>Il ne vous reste plus qu’a monitorer le fichier /var/log/varnish/access.log.</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-12-22T17:06:14.000Z","created_by":1,"updated_at":"2015-01-12T12:22:27.000Z","updated_by":1,"published_at":"2014-12-22T17:06:14.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":75,"uuid":"6bf8ea3d-25bd-409c-bdb0-3d4549e82d37","title":"Faille de sécurité critique dans NTP","slug":"faille-de-securite-critique-dans-ntp","markdown":"\nVendredi soir le département américain de la sécurité nationale publiait une faillé critique touchant le protocole open source de synchronisation du temps (NTP: Newtork Time Protocol). Cette faille a été découverte par des ingénieur en sécurité de Google.\n\n### Les systèmes touchés\n\nCette faille touche tous les systèmes utilisant la version 4 du protocole et ce avant la version 4.2.8  \n  \n Cela impacte une grand nombre de systèmes comme Linux, OS X, …\n\nPar exemple, sur un Oracle Linux relativement récent en version 6.5 :\n\n[![Faille de sécurité critique dans NTP](https://techan.fr/images/2014/12/ntp1.png)](https://techan.fr/images/2014/12/ntp1.png)\n\nEt sur un RedHat assez ancien en version 3 :\n\n[![Faille de sécurité critique dans NTP](https://techan.fr/images/2014/12/npt2.png)](https://techan.fr/images/2014/12/npt2.png)\n\nCette faille est suffisamment inquiétante pour qu’Apple propose cette nuit une mise à jour de sécurité spécifique à cette faille alors qu’habituellement elle inclut ces corrections dans de plus gros patchs. Apple utilise également son canal d’installation automatique. Une grande première alors que ce moyen existe depuis plus de deux ans, mais n’avait encore jamais été utilisé par la firme de Cuppertino.\n\n \n\n### Impacte de la faille de sécurité critique dans NTP\n\nCette faille permet de lancer du code sur le système à travers NTP, avec le privilèges de l’utilisateur qui fait tourner NTP. Elle est caractérisée comme facilement utilisable par le département de la sécurité nationale américain.\n\n> #### DIFFICULTY\n> \n> An attacker with a low skill would be able to exploit these vulnerabilities.\n\n### Corriger la faille de sécurité critique dans NTP\n\nPour les systèmes Apple, il faut installer la mise à jour qui est dors et déjà disponible dans l’App Store.\n\nPour les systèmes Linux, une mise à jour est disponible dans les dépôts ce matin, un exemple avec Ubuntu :\n\n[![Faille de sécurité critique dans NTP](https://techan.fr/images/2014/12/ntp3.png)](https://techan.fr/images/2014/12/ntp3.png)\n\nDes mises à jour ont également été publiées pour les systèmes basés sur les RPM, comme RedHat, CentOS et Oracle Linux.\n\n### Sources\n\n[L’article sur le site de la sécurité nationale américaine](https://ics-cert.us-cert.gov/advisories/ICSA-14-353-01)\n\n[Sur MacGénération](http://www.macg.co/os-x/2014/12/apple-envoie-sa-premiere-mise-jour-de-securite-automatique-86401)\n\n\n","html":"<p>Vendredi soir le département américain de la sécurité nationale publiait une faillé critique touchant le protocole open source de synchronisation du temps (NTP: Newtork Time Protocol). Cette faille a été découverte par des ingénieur en sécurité de Google.</p>\n\n<h3 id=\"lessystmestouchs\">Les systèmes touchés</h3>\n\n<p>Cette faille touche tous les systèmes utilisant la version 4 du protocole et ce avant la version 4.2.8  </p>\n\n<p>Cela impacte une grand nombre de systèmes comme Linux, OS X, …</p>\n\n<p>Par exemple, sur un Oracle Linux relativement récent en version 6.5 :</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/ntp1.png\"><img src=\"https://techan.fr/images/2014/12/ntp1.png\" alt=\"Faille de sécurité critique dans NTP\" title=\"\" /></a></p>\n\n<p>Et sur un RedHat assez ancien en version 3 :</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/npt2.png\"><img src=\"https://techan.fr/images/2014/12/npt2.png\" alt=\"Faille de sécurité critique dans NTP\" title=\"\" /></a></p>\n\n<p>Cette faille est suffisamment inquiétante pour qu’Apple propose cette nuit une mise à jour de sécurité spécifique à cette faille alors qu’habituellement elle inclut ces corrections dans de plus gros patchs. Apple utilise également son canal d’installation automatique. Une grande première alors que ce moyen existe depuis plus de deux ans, mais n’avait encore jamais été utilisé par la firme de Cuppertino.</p>\n\n<h3 id=\"impactedelafailledescuritcritiquedansntp\">Impacte de la faille de sécurité critique dans NTP</h3>\n\n<p>Cette faille permet de lancer du code sur le système à travers NTP, avec le privilèges de l’utilisateur qui fait tourner NTP. Elle est caractérisée comme facilement utilisable par le département de la sécurité nationale américain.</p>\n\n<blockquote>\n  <h4 id=\"difficulty\">DIFFICULTY</h4>\n  \n  <p>An attacker with a low skill would be able to exploit these vulnerabilities.</p>\n</blockquote>\n\n<h3 id=\"corrigerlafailledescuritcritiquedansntp\">Corriger la faille de sécurité critique dans NTP</h3>\n\n<p>Pour les systèmes Apple, il faut installer la mise à jour qui est dors et déjà disponible dans l’App Store.</p>\n\n<p>Pour les systèmes Linux, une mise à jour est disponible dans les dépôts ce matin, un exemple avec Ubuntu :</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/ntp3.png\"><img src=\"https://techan.fr/images/2014/12/ntp3.png\" alt=\"Faille de sécurité critique dans NTP\" title=\"\" /></a></p>\n\n<p>Des mises à jour ont également été publiées pour les systèmes basés sur les RPM, comme RedHat, CentOS et Oracle Linux.</p>\n\n<h3 id=\"sources\">Sources</h3>\n\n<p><a href=\"https://ics-cert.us-cert.gov/advisories/ICSA-14-353-01\">L’article sur le site de la sécurité nationale américaine</a></p>\n\n<p><a href=\"http://www.macg.co/os-x/2014/12/apple-envoie-sa-premiere-mise-jour-de-securite-automatique-86401\">Sur MacGénération</a></p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-12-23T09:42:29.000Z","created_by":1,"updated_at":"2014-12-23T10:18:10.000Z","updated_by":1,"published_at":"2014-12-23T09:42:29.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":76,"uuid":"543169f9-f519-42d8-8a7a-d0df1d75259f","title":"Télécharger les pièces jointes aux mails dans un dossier","slug":"telecharger-les-pieces-jointes-aux-mails-dans-un-dossier","markdown":"\nVoici un petit script en PHP, permettant de télécharger les pièces jointes aux mails dans un dossier. Ce script se base sur les classes écrites par « hakre » sur lesquelles vous trouverez plus d’informations [sur GitHub](http://stackoverflow.com/questions/9974334/how-to-download-mails-attachment-to-a-specific-folder-using-imap-and-php). J’utilise cela pour télécharger notamment les factures que je reçoit par mail et les copier dans un répertoire de mon [OwnCloud](http://owncloud.org/).\n\n### Le code\n\n<?php require('./imap-attachment.php'); $savedir = '/chemin/vers/le/dossier/de/sauvegarde/des/pieces/jointes'; $hostname='{imap.exemple.fr:143/novalidate-cert}INBOX'; $username='user@exemple.fr'; $password='password'; $inbox = new IMAPMailbox($hostname, $username, $password); $emails = $inbox->search('ALL'); if ($emails) { rsort($emails); foreach ($emails as $email) { foreach ($email->getAttachments() as $attachment) { $savepath = $savedir . str_replace('!','',str_replace('/','-',str_replace(' ','_', strtolower($attachment->getFilename())))); file_put_contents($savepath, $attachment); } } }\n\n \n\n### Le fonctionnement\n\nCe petit morceau de code se connecte à votre compte email, sélectionne le dossier que vous souhaitez et boucle sur les mails présents. Si un mail a une pièce jointe, il va la télécharger et la sauver dans le dossier que vous avez configuré.\n\nEt si on veut télécharger les pièces jointes aux mails d’un autre dossier de ce compte, il suffit de dupliquer ce bloc en changeant les paramètres ! Simple non ? ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nEt vous pouvez même « crontabiser » ce script pour que tout se fasse tout seul !\n\n###  [EDIT 5 Janvier 2015]\n\nNouvelle version du code plus intelligente, maintenant, on marque les messages dont les pièces jointes ont été téléchargées et on ne cherche dans les dossiers IMAP que les messages non marqués cela permet de gagner du temps. De plus, un id unique est ajouté avant chaque nom de fichier pour être sûr de ne pas avoir de soucis en cas de fichier portant le même nom.\n\n \n\n<?php require('./imap-attachment.php'); $savedir = '/chemin/vers/le/dossier/de/sauvegarde/des/pieces/jointes'; $hostname='{imap.exemple.fr:143/novalidate-cert}INBOX'; $username='user@exemple.fr'; $password='password'; $inbox = new IMAPMailbox($hostname, $username, $password); try { $emails = $inbox->search('UNKEYWORD \"$pjcopiee\"'); if ($emails) { rsort($emails); foreach ($emails as $email) { foreach ($email->getAttachments() as $attachment) { $savepath = $savedir . uniqid() . str_replace('=','', str_replace('?', '', str_replace('!','',str_replace('/','-',str_replace(' ','_', strtolower($attachment->getFilename())))))); file_put_contents($savepath, $attachment); $status = imap_setflag_full($inbox->getStream(), $email->getNumber(), \"\\$pjcopiee\"); } } } } catch (Exception $e) { echo ' Pas de messages a traiter'; } imap_close($inbox->getStream()); ?>\n\n \n\n \n\n### Sources\n\n[Télécharger les classes IMAP (Clic droit -> Enrgistrer la cible sous)](https://techan.fr/downloads/imap-attachment.php.download)\n\n\n","html":"<p>Voici un petit script en PHP, permettant de télécharger les pièces jointes aux mails dans un dossier. Ce script se base sur les classes écrites par « hakre » sur lesquelles vous trouverez plus d’informations <a href=\"http://stackoverflow.com/questions/9974334/how-to-download-mails-attachment-to-a-specific-folder-using-imap-and-php\">sur GitHub</a>. J’utilise cela pour télécharger notamment les factures que je reçoit par mail et les copier dans un répertoire de mon <a href=\"http://owncloud.org/\">OwnCloud</a>.</p>\n\n<h3 id=\"lecode\">Le code</h3>\n\n<?php require('./imap-attachment.php'); $savedir = '/chemin/vers/le/dossier/de/sauvegarde/des/pieces/jointes'; $hostname='{imap.exemple.fr:143/novalidate-cert}INBOX'; $username='user@exemple.fr'; $password='password'; $inbox = new IMAPMailbox($hostname, $username, $password); $emails = $inbox->search('ALL'); if ($emails) { rsort($emails); foreach ($emails as $email) { foreach ($email->getAttachments() as $attachment) { $savepath = $savedir . str_replace('!','',str_replace('/','-',str_replace(' ','_', strtolower($attachment->getFilename())))); file_put_contents($savepath, $attachment); } } }\n\n \n\n### Le fonctionnement\n\nCe petit morceau de code se connecte à votre compte email, sélectionne le dossier que vous souhaitez et boucle sur les mails présents. Si un mail a une pièce jointe, il va la télécharger et la sauver dans le dossier que vous avez configuré.\n\nEt si on veut télécharger les pièces jointes aux mails d’un autre dossier de ce compte, il suffit de dupliquer ce bloc en changeant les paramètres ! Simple non ? ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nEt vous pouvez même « crontabiser » ce script pour que tout se fasse tout seul !\n\n###  [EDIT 5 Janvier 2015]\n\nNouvelle version du code plus intelligente, maintenant, on marque les messages dont les pièces jointes ont été téléchargées et on ne cherche dans les dossiers IMAP que les messages non marqués cela permet de gagner du temps. De plus, un id unique est ajouté avant chaque nom de fichier pour être sûr de ne pas avoir de soucis en cas de fichier portant le même nom.\n\n \n\n<?php require('./imap-attachment.php'); $savedir = '/chemin/vers/le/dossier/de/sauvegarde/des/pieces/jointes'; $hostname='{imap.exemple.fr:143/novalidate-cert}INBOX'; $username='user@exemple.fr'; $password='password'; $inbox = new IMAPMailbox($hostname, $username, $password); try { $emails = $inbox->search('UNKEYWORD \"$pjcopiee\"'); if ($emails) { rsort($emails); foreach ($emails as $email) { foreach ($email->getAttachments() as $attachment) { $savepath = $savedir . uniqid() . str_replace('=','', str_replace('?', '', str_replace('!','',str_replace('/','-',str_replace(' ','_', strtolower($attachment->getFilename())))))); file_put_contents($savepath, $attachment); $status = imap_setflag_full($inbox->getStream(), $email->getNumber(), \"\\$pjcopiee\"); } } } } catch (Exception $e) { echo ' Pas de messages a traiter'; } imap_close($inbox->getStream()); ?>\n\n<h3 id=\"sources\">Sources</h3>\n\n<p><a href=\"https://techan.fr/downloads/imap-attachment.php.download\">Télécharger les classes IMAP (Clic droit -> Enrgistrer la cible sous)</a></p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-12-24T12:55:14.000Z","created_by":1,"updated_at":"2015-01-05T15:04:07.000Z","updated_by":1,"published_at":"2014-12-24T12:55:14.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":77,"uuid":"0d775530-2756-45c4-b006-cf697dea4dbc","title":"Joyeux Noël à tous !","slug":"joyeux-noel-tous","markdown":"\n<div class=\"wp-caption aligncenter\" id=\"attachment_595\" style=\"width: 310px\">[![Joyeux Noël à tous !](https://techan.fr/images/2014/12/pere-noel-humour.jpg)](https://techan.fr/images/2014/12/pere-noel-humour.jpg)Source : http://zefml.com\n\n</div>Je vous souhaite à tous de très belles fêtes de fin d’années !\n\nProfitez bien de ces moments passés avec vos proches et des bons petits plats ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nLaissez moi vous offrir quelques traits d’esprit du chat de Geluck ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n> <div class=\"copy-paste-block\">J’avais mis mes souliers devant la cheminée, le père Noël m’a apporté des pieds.  \n>  [ Le chat ]  \n> **Philippe Geluck **</div>\n\n<div class=\"copy-paste-block\"></div>> <div class=\"copy-paste-block\">Qu’est-ce que tu souhaites pour Noël? Avoir des souhaits…  \n>  [ Le chat, Nos enfants sont-ils trop gâtés? ]  \n> ** Philippe Geluck **</div>\n\n \n\n\n","html":"<div class=\"wp-caption aligncenter\" id=\"attachment_595\" style=\"width: 310px\">[![Joyeux Noël à tous !](https://techan.fr/images/2014/12/pere-noel-humour.jpg)](https://techan.fr/images/2014/12/pere-noel-humour.jpg)Source : <a href=\"http://zefml.com\">http://zefml.com</a>\n\n</div>Je vous souhaite à tous de très belles fêtes de fin d’années !\n\nProfitez bien de ces moments passés avec vos proches et des bons petits plats ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nLaissez moi vous offrir quelques traits d’esprit du chat de Geluck ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n> <div class=\"copy-paste-block\">J’avais mis mes souliers devant la cheminée, le père Noël m’a apporté des pieds.  \n>  [ Le chat ]  \n> **Philippe Geluck **</div>\n\n<div class=\"copy-paste-block\"></div>> <div class=\"copy-paste-block\">Qu’est-ce que tu souhaites pour Noël? Avoir des souhaits…  \n>  [ Le chat, Nos enfants sont-ils trop gâtés? ]  \n> ** Philippe Geluck **</div>","image":"https://techan.fr/images/2014/12/sapin_de_noel.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-12-24T18:15:38.000Z","created_by":1,"updated_at":"2014-12-23T12:53:38.000Z","updated_by":1,"published_at":"2014-12-24T18:15:38.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":78,"uuid":"09f6c4b3-da21-48aa-bca1-f62156d413df","title":"Rediriger une page WordPress p=xxx vers une autre","slug":"rediriger-une-page-wordpress-pxxx-vers-une-autre","markdown":"\nEn étudiant les visites sur le blog, je me suis aperçu que pas mal de gens essayait d’accéder à un article présent dans la version précédente du blog et plus disponible dans le nouveau … J’ai donc ré-écrit l’article, [publié son lien sur le forum](http://forum.ubuntu-fr.org/viewtopic.php?id=655241&p=4) ou l’ancien était référencé, mais j’avais encore pas mal de 404 à cause de l’ancien lien. J’ai donc cherché un moyen pour rediriger une page WordPress p=xxx vers une autre. Et oui, car en plus dans l’ancienne version bu blog, je n’avais pas activé les belles URL ","html":"<p>En étudiant les visites sur le blog, je me suis aperçu que pas mal de gens essayait d’accéder à un article présent dans la version précédente du blog et plus disponible dans le nouveau … J’ai donc ré-écrit l’article, <a href=\"http://forum.ubuntu-fr.org/viewtopic.php?id=655241&amp;p=4\">publié son lien sur le forum</a> ou l’ancien était référencé, mais j’avais encore pas mal de 404 à cause de l’ancien lien. J’ai donc cherché un moyen pour rediriger une page WordPress p=xxx vers une autre. Et oui, car en plus dans l’ancienne version bu blog, je n’avais pas activé les belles URL ","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-12-26T11:35:28.000Z","created_by":1,"updated_at":"2014-12-26T11:43:22.000Z","updated_by":1,"published_at":"2014-12-26T11:35:28.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":79,"uuid":"ae40064d-1548-4d9e-9a5a-58f7eabc3a9c","title":"Bonne et heureuse année 2015 !","slug":"bonne-et-heureuse-annee-2015","markdown":"\nChers lecteurs, cela fait plus de 3 mois que le site a vu le jour et il est déjà temps de vous souhaiter une bonne et heureuse année 2015 !!\n\nJe vous souhaite donc à tous, vous mes lecteurs connus ou anonymes, une année chargée en succès, bonheur, amour et prospérité !\n\nJe vous souhaite également la meilleur santé possible, c’est quelque chose dont on s’aperçoit de la valeur inestimable que lorsqu’on la perd …\n\n \n\nPour que cette année soit encore plus geek que la précédente, je vous propose un petit code en Python pour envoyer vos e-cartes de vœux ! A vos claviers ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n# -*- coding: utf-8 -*- import sys def happyNewYear(prenom): print \"\" print \" . . ,\" print \" o. .o/ |\" print \" .---. / /|\" print \" \\~~~/'---+ \" print \" \\ / \\ \" print \" | PING! \\-.\" print \" | |/\" print \" /_\\ \" print \"\" print \" ##### ### # #######\" print \" # # # # ## #\" print \" # # # # # # #\" print \" ##### # # # # #####\" print \" # # # # # #\" print \" # # # # # #\" print \" ####### ### ##### #####\" print \"==============================================================\" print prenom,\", je vous souhaite une très belle année 2015 !\" print \"Qu'elle soit bordée de réussites, parsemée de bonnes nouvelles et\" print \"délicatement saupoudrée de délicieux moments.\" print \"\" print \"Laissez reposer 15 minutes et voilà une année à dévorer à pleines dents.\" print \"==============================================================\" print \"\" happyNewYear(sys.argv[1])\n\n \n\nEt vous pourrez même envoyer vos e-cartes geeks par mail ! Dingue non !?! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\npython happy_new_year.py 'Mes lecteurs' | mail -a \"Content-Type: text/plain; charset=UTF-8\" \\ -s 'Bonne année 2015 !' destinataire@mail.fr\n\n \n\n \n\n\n","html":"<p>Chers lecteurs, cela fait plus de 3 mois que le site a vu le jour et il est déjà temps de vous souhaiter une bonne et heureuse année 2015 !!</p>\n\n<p>Je vous souhaite donc à tous, vous mes lecteurs connus ou anonymes, une année chargée en succès, bonheur, amour et prospérité !</p>\n\n<p>Je vous souhaite également la meilleur santé possible, c’est quelque chose dont on s’aperçoit de la valeur inestimable que lorsqu’on la perd …</p>\n\n<p>Pour que cette année soit encore plus geek que la précédente, je vous propose un petit code en Python pour envoyer vos e-cartes de vœux ! A vos claviers ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<h1 id=\"codingutf8importsysdefhappynewyearprenomprintprintprintooprintprinttttprintprintpingprintprint_printprintprintprintprintprintprintprintprintprintprenomjevoussouhaiteunetrsbelleanne2015printquellesoitbordederussitesparsemedebonnesnouvellesetprintdlicatementsaupoudrededlicieuxmomentsprintprintlaissezreposer15minutesetvoiluneannedvorerpleinesdentsprintprinthappynewyearsysargv1\">-<em>- coding: utf-8 -</em>- import sys def happyNewYear(prenom): print \"\" print \" . . ,\" print \" o. .o/ |\" print \" .---. / /|\" print \" ~~~/'---+ \" print \" \\ / \\ \" print \" | PING! -.\" print \" | |/\" print \" /_\\ \" print \"\" print \" ##### ### # #######\" print \" # # # # ## #\" print \" # # # # # # #\" print \" ##### # # # # #####\" print \" # # # # # #\" print \" # # # # # #\" print \" ####### ### ##### #####\" print \"============================================================<mark>\" print prenom,\", je vous souhaite une très belle année 2015 !\" print \"Qu'elle soit bordée de réussites, parsemée de bonnes nouvelles et\" print \"délicatement saupoudrée de délicieux moments.\" print \"\" print \"Laissez reposer 15 minutes et voilà une année à dévorer à pleines dents.\" print \"</mark>============================================================\" print \"\" happyNewYear(sys.argv[1])</h1>\n\n<p>Et vous pourrez même envoyer vos e-cartes geeks par mail ! Dingue non !?! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>python happy<em>new</em>year.py 'Mes lecteurs' | mail -a \"Content-Type: text/plain; charset=UTF-8\" \\ -s 'Bonne année 2015 !' destinataire@mail.fr</p>","image":"https://techan.fr/images/2015/01/happy_new_year_by_clwoods.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-01T00:00:07.000Z","created_by":1,"updated_at":"2015-01-07T11:34:06.000Z","updated_by":1,"published_at":"2015-01-01T00:00:07.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":80,"uuid":"824e5391-dbf1-4836-9435-ad7da500feb3","title":"Bons plans à gogo","slug":"bons-plans-a-gogo","markdown":"\nJe tenais à vous faire découvrir [Dealabs](https://www.dealabs.com), un site qui propose des bons plans à gogo ! Depuis quelques temps, c’est devenu un de mes sites favoris. Avant un achat, je vérifie sur le site qu’il n’y ai pas un bon plan, ce qui est souvent le cas ! Le denier exemple en date, 12% de réduction sur une smartbox, ça fait plaisir ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)  \n  \n Ce site fonctionne grâce à sa communauté, des gens comme vous et moi reçoivent des codes promo, trouvent des bons plans en magasin, des bonnes affaires sur l’internet multimédia et les proposent sur le site. Un site de vote permet d’augmenter ou diminuer le score d’un deal, cela permet de voir tout de suite les vraies bonnes affaires !\n\nVoici quelques exemples de deals ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n[![Bons plans à gogo !](https://techan.fr/images/2015/01/deal_1.png)](https://techan.fr/images/2015/01/deal_1.png) [![Bons plans à gogo !](https://techan.fr/images/2015/01/deal_2.png)](https://techan.fr/images/2015/01/deal_2.png) [![Bons plans à gogo !](https://techan.fr/images/2015/01/deal_3.png)](https://techan.fr/images/2015/01/deal_3.png)\n\nLes deals portent sur n’importe quel domaine, que ce soit du High Tech, de l’alimentaire, des produits hygiéniques, des billets de trains, tout y passe. Ces bons plans peuvent être valables sur les sites de e-commerce ou en magasin, dans ce dernier cas, il faut bien vérifier la localisation du magasin qui propose la promotion.\n\n \n\n\n## Soyez encore plus malin avec les alertes !\n\nDepuis quelque temps il est possible de créer des alertes afin de recevoir directement par mail les bons plans qui nous intéresse le plus. Voici par exemple une alerte que j’ai créée afin de trouver un NAS Synology pas trop cher.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_640\" style=\"width: 259px\">[![Dealabs, créer une alerte](https://techan.fr/images/2015/01/dealabs_creer_alerte.png)](https://techan.fr/images/2015/01/dealabs_creer_alerte.png)Dealabs, créer une alerte\n\n</div>\n## Encore plus de bons plans à gogo\n\nPour encore plus de profits, j’utilise [iGraal](http://fr.igraal.com/). C’est un site sur lequel, une fois que vous aurez créé un compte, vous serons proposés des cashback sur pas mal de sites. Un cashback, c’est une partie de la somme dépensée sur le site qui vous ai rendue, cool non ? ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nAlors, comment ça ce passe ? C’est pas très compliqué, le plus simple est d’utiliser l’extension pour Firefox, ou votre navigateur habituel. Dans ce cas, lorsque vous arrivez sur un site pour lequel il y a des cashback, il s’active automatiquement. Une fois votre commande passée avec le cashback activé, votre compte iGrall va être crédité du montant de ce cashback. Une fois que ces sommes seront validées, ça peut prendre un peu de temps, vous pourrez les récupérer sur votre compte Paypal, il faut toute fois que le montant soit au moins 20€.\n\nVoici une exemple, très loin d’être exhaustif, des marchands présents sur iGraal.\n\n[![Bons plans à gogo !](https://techan.fr/images/2015/01/igraal_marchands.png)](https://techan.fr/images/2015/01/igraal_marchands.png)\n\nPour couronner le tout, iGraal vous offre 3€ lors de votre [inscription](http://fr.igraal.com/#parrain=MrRpah_), alors courez profiter de ces bons plans à gogo !!! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nSi vous avez envie de me remercier pour toutes ces astuces, inscrivez-vous sur iGraal en suivant le lien ci dessous, j’aurais l’honneur d’être votre parrain ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n[Inscription sur iGraal avec mon parrainage ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)](http://fr.igraal.com/#parrain=MrRpah_)\n\n\n","html":"<p>Je tenais à vous faire découvrir <a href=\"https://www.dealabs.com\">Dealabs</a>, un site qui propose des bons plans à gogo ! Depuis quelques temps, c’est devenu un de mes sites favoris. Avant un achat, je vérifie sur le site qu’il n’y ai pas un bon plan, ce qui est souvent le cas ! Le denier exemple en date, 12% de réduction sur une smartbox, ça fait plaisir ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" />  </p>\n\n<p>Ce site fonctionne grâce à sa communauté, des gens comme vous et moi reçoivent des codes promo, trouvent des bons plans en magasin, des bonnes affaires sur l’internet multimédia et les proposent sur le site. Un site de vote permet d’augmenter ou diminuer le score d’un deal, cela permet de voir tout de suite les vraies bonnes affaires !</p>\n\n<p>Voici quelques exemples de deals <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p><a href=\"https://techan.fr/images/2015/01/deal_1.png\"><img src=\"https://techan.fr/images/2015/01/deal_1.png\" alt=\"Bons plans à gogo !\" title=\"\" /></a> <a href=\"https://techan.fr/images/2015/01/deal_2.png\"><img src=\"https://techan.fr/images/2015/01/deal_2.png\" alt=\"Bons plans à gogo !\" title=\"\" /></a> <a href=\"https://techan.fr/images/2015/01/deal_3.png\"><img src=\"https://techan.fr/images/2015/01/deal_3.png\" alt=\"Bons plans à gogo !\" title=\"\" /></a></p>\n\n<p>Les deals portent sur n’importe quel domaine, que ce soit du High Tech, de l’alimentaire, des produits hygiéniques, des billets de trains, tout y passe. Ces bons plans peuvent être valables sur les sites de e-commerce ou en magasin, dans ce dernier cas, il faut bien vérifier la localisation du magasin qui propose la promotion.</p>\n\n<h2 id=\"soyezencoreplusmalinaveclesalertes\">Soyez encore plus malin avec les alertes !</h2>\n\n<p>Depuis quelque temps il est possible de créer des alertes afin de recevoir directement par mail les bons plans qui nous intéresse le plus. Voici par exemple une alerte que j’ai créée afin de trouver un NAS Synology pas trop cher.</p>\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_640\" style=\"width: 259px\">[![Dealabs, créer une alerte](https://techan.fr/images/2015/01/dealabs_creer_alerte.png)](https://techan.fr/images/2015/01/dealabs_creer_alerte.png)Dealabs, créer une alerte\n\n</div>  \n\n<h2 id=\"encoreplusdebonsplansgogo\">Encore plus de bons plans à gogo</h2>\n\n<p>Pour encore plus de profits, j’utilise <a href=\"http://fr.igraal.com/\">iGraal</a>. C’est un site sur lequel, une fois que vous aurez créé un compte, vous serons proposés des cashback sur pas mal de sites. Un cashback, c’est une partie de la somme dépensée sur le site qui vous ai rendue, cool non ? <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>Alors, comment ça ce passe ? C’est pas très compliqué, le plus simple est d’utiliser l’extension pour Firefox, ou votre navigateur habituel. Dans ce cas, lorsque vous arrivez sur un site pour lequel il y a des cashback, il s’active automatiquement. Une fois votre commande passée avec le cashback activé, votre compte iGrall va être crédité du montant de ce cashback. Une fois que ces sommes seront validées, ça peut prendre un peu de temps, vous pourrez les récupérer sur votre compte Paypal, il faut toute fois que le montant soit au moins 20€.</p>\n\n<p>Voici une exemple, très loin d’être exhaustif, des marchands présents sur iGraal.</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/igraal_marchands.png\"><img src=\"https://techan.fr/images/2015/01/igraal_marchands.png\" alt=\"Bons plans à gogo !\" title=\"\" /></a></p>\n\n<p>Pour couronner le tout, iGraal vous offre 3€ lors de votre <a href=\"http://fr.igraal.com/#parrain=MrRpah_\">inscription</a>, alors courez profiter de ces bons plans à gogo !!! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>Si vous avez envie de me remercier pour toutes ces astuces, inscrivez-vous sur iGraal en suivant le lien ci dessous, j’aurais l’honneur d’être votre parrain ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p><a href=\"http://fr.igraal.com/#parrain=MrRpah_\">Inscription sur iGraal avec mon parrainage <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></a></p>","image":"https://techan.fr/images/2015/01/MMA-Cochon-tirelire.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-07T11:03:17.000Z","created_by":1,"updated_at":"2015-04-27T08:34:43.000Z","updated_by":1,"published_at":"2015-01-07T11:03:17.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":81,"uuid":"fdd0b317-45de-43cc-9837-11e01ffc3fa0","title":"Blog en deuil","slug":"blog-en-deuil","markdown":"\nEn ce jour de deuil national, je tenais a adresser toutes mes condoléances aux familles des journalistes et dessinateurs décédés hier dans l’attentat du journal « Charlie Hebdo ». Cet acte ignoble laisse la France et le monde entier choqués, blessés et tristes.\n\nCes ignobles conards, désolé je n’ai pas trouvé d’autre mots plus appropriés, on frappé « Charlie Hebdo » en plein cœur mais c’est un peu comme s’ils avaient attaqué chacun de nous tous. Que l’on soit d’accord ou non avec les idées de « Charlie Hebdo », qu’on lise ou non ce journal, c’est un pilier de la presse Française qui a été assassiné. Par leurs dessins, les gens qui faisaient vivre cet hebdomadaire nous distillaient leur vision de l’actualité, à travers le filtre de l’humour.\n\nChaque journal, chaque journaliste, qu’ils soient d’investigation, économique, humoristique, satirique, est important. Ils sont les garants de notre liberté d’expression, de notre indépendance, de notre libre arbitre et dans un sens de notre démocratie.\n\nJe n’étais pas un lecteur de « Charlie Hebdo » même si j’aime ce journal en premier lieu pour dessins et caricatures qui le caractérisaient, cependant j’ai été choqué hier à midi quand j’ai appris l’attaque. J’ai passé l’après midi avec France Info dans les oreilles pour tenter de comprendre ce qu’il se passait. J’étais triste en apprenant que les grands noms du journal étaient décédés et encore aujourd’hui, cela me fait bizarre de me dire qu’on ne verra plus leur signature sur un dessin, ni dans « On est pas couché ».\n\nMais je voulais faire quelques chose, à mon niveau, donc hier, presque naturellement, je me suis abonné à « Charlie Hebdo » pour soutenir ce titre et qu’il perdure malgré l’horreur ! Je me suis demandé longtemps si j’allais faire un article, et j’en ai finalement écrit un pour contribuer à mon niveau à l’unité nationale qui se manifeste en ces heures tragiques. Philippe Val, ancien directeur de « Charlie Hebdo » disait hier soir dans un témoignage poignant :\n\n> J’ai perdu tous mes amis\n> \n> **Philippe Val**\n\nIl est bon de voir que notre nation est toujours capable de faire bloc contre l’horreur, l’injustice, la bêtise. Tout ces rassemblements, dessins, témoignages qui ont eu lieu depuis hier sont de magnifiques signes de la force de notre nation et un énorme bras d’honneur aux conards (toujours pas de meilleur mot) qui pensaient nous imposer leurs idées en perpétrant ce crime.\n\nAujourd’hui, je suis triste, j’ai l’impression comme Philippe Val d’avoir perdu des amis …\n\nAlors aujourd’hui, JE SUIS CHARLIE !\n\n[![Je suis Charlie](https://techan.fr/images/2015/01/je_suis_charlie.jpg)](https://techan.fr/images/2015/01/je_suis_charlie.jpg)\n\n\n","html":"<p>En ce jour de deuil national, je tenais a adresser toutes mes condoléances aux familles des journalistes et dessinateurs décédés hier dans l’attentat du journal « Charlie Hebdo ». Cet acte ignoble laisse la France et le monde entier choqués, blessés et tristes.</p>\n\n<p>Ces ignobles conards, désolé je n’ai pas trouvé d’autre mots plus appropriés, on frappé « Charlie Hebdo » en plein cœur mais c’est un peu comme s’ils avaient attaqué chacun de nous tous. Que l’on soit d’accord ou non avec les idées de « Charlie Hebdo », qu’on lise ou non ce journal, c’est un pilier de la presse Française qui a été assassiné. Par leurs dessins, les gens qui faisaient vivre cet hebdomadaire nous distillaient leur vision de l’actualité, à travers le filtre de l’humour.</p>\n\n<p>Chaque journal, chaque journaliste, qu’ils soient d’investigation, économique, humoristique, satirique, est important. Ils sont les garants de notre liberté d’expression, de notre indépendance, de notre libre arbitre et dans un sens de notre démocratie.</p>\n\n<p>Je n’étais pas un lecteur de « Charlie Hebdo » même si j’aime ce journal en premier lieu pour dessins et caricatures qui le caractérisaient, cependant j’ai été choqué hier à midi quand j’ai appris l’attaque. J’ai passé l’après midi avec France Info dans les oreilles pour tenter de comprendre ce qu’il se passait. J’étais triste en apprenant que les grands noms du journal étaient décédés et encore aujourd’hui, cela me fait bizarre de me dire qu’on ne verra plus leur signature sur un dessin, ni dans « On est pas couché ».</p>\n\n<p>Mais je voulais faire quelques chose, à mon niveau, donc hier, presque naturellement, je me suis abonné à « Charlie Hebdo » pour soutenir ce titre et qu’il perdure malgré l’horreur ! Je me suis demandé longtemps si j’allais faire un article, et j’en ai finalement écrit un pour contribuer à mon niveau à l’unité nationale qui se manifeste en ces heures tragiques. Philippe Val, ancien directeur de « Charlie Hebdo » disait hier soir dans un témoignage poignant :</p>\n\n<blockquote>\n  <p>J’ai perdu tous mes amis</p>\n  \n  <p><strong>Philippe Val</strong></p>\n</blockquote>\n\n<p>Il est bon de voir que notre nation est toujours capable de faire bloc contre l’horreur, l’injustice, la bêtise. Tout ces rassemblements, dessins, témoignages qui ont eu lieu depuis hier sont de magnifiques signes de la force de notre nation et un énorme bras d’honneur aux conards (toujours pas de meilleur mot) qui pensaient nous imposer leurs idées en perpétrant ce crime.</p>\n\n<p>Aujourd’hui, je suis triste, j’ai l’impression comme Philippe Val d’avoir perdu des amis …</p>\n\n<p>Alors aujourd’hui, JE SUIS CHARLIE !</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/je_suis_charlie.jpg\"><img src=\"https://techan.fr/images/2015/01/je_suis_charlie.jpg\" alt=\"Je suis Charlie\" title=\"\" /></a></p>","image":"https://techan.fr/images/2015/01/je_suis_charlie.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-08T11:41:43.000Z","created_by":1,"updated_at":"2015-01-12T11:09:29.000Z","updated_by":1,"published_at":"2015-01-08T11:41:43.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":82,"uuid":"f2451778-3bd9-4b10-9753-a8ad0d87f508","title":"Le rêve de Nicolas","slug":"le-reve-de-nicolas","markdown":"\nLe 3 octobre 2014 nous apprenions que mon beau frère Nicolas est atteint d’une forme aigüe de leucémie, une maladie grave contre laquelle il lutte avec beaucoup de courage, subissant les effets secondaires de la chimiothérapie. Cette dernière a été mise en place à haute dose pour stopper la progression du cancer. Malheureusement il y a maintenant presque deux mois, ce remède a très gravement dégradé son pancréas ce qui l’a cloué au lit avec de très violentes douleurs. Malgré tout cela il s’est battu, presque héroïquement. Aujourd’hui la douleur est partie, mais la chimiothérapie est toujours interrompue jusqu’à la fin de ces complications.\n\nIl va sans dire que son traitement lourd et son hospitalisation lui procurent beaucoup d’inquiétudes pour ses études également. Il a déjà fait un trait sur son année de seconde et espère de tout cœur pouvoir recommencer cette année d’étude dans la vente en septembre prochain.\n\nDepuis le début de cette maladie, je le vois grandir, murir, il n’est plus le jeune adolescent insouciant que j’ai connu il y a maintenant presque deux ans. Nicolas est la joie de vivre incarnée, et même s’il retrouve le sourire ses derniers jours avec l’amélioration de son état de santé, je n’ai qu’un souhait, retrouver le Nicolas d’avant. Je souhaite également cela pour sa famille (sa maman et sa sœur), elles pourront enfin souffler et retrouver l’espoir, l’optimisme, le moral et l’envie d’avancer. Je n’ai qu’une envie c’est de le revoir faire des choses de son âge, sortir avec ses potes, aimer, faire des bêtises (un petit peu mais il en faut aussi :p),  être un adolescent quoi…\n\nLe plus grand rêve de Nicolas est de pouvoir, un jour, visiter New York. Hélas, nous ne pouvons le lui financer seuls. C’est pour cela que sa sœur a lancer une collecte ouverte afin de collecter les fonds nécessaires à acheter les billets d’avions, l’hébergement sur place pendant une à deux semaines et au visites et activités sur place. Étant donné son état de santé et son jeune âge, il faudra au moins un accompagnateur. Cette bouffée d’oxygène lui permettra d’oublier sa maladie pendant quelques jours.\n\nSi vous souhaitez participer vous trouverez en bas de cet article le lien vers la collecte de fonds ainsi que celui vers la page FaceBook créée pour l’occasion, si vous ne pouvez pas participer financièrement mais que vous souhaiter tout de même nous aider, partagez ces pages, parlez en autours de vous ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nNicolas n’est pas au courant de cette initiative, cela sera une surprise pour lui, ainsi si vous êtes en contact avec lui, ne lui en parlez pas, et si vous l’avez sur FaceBook, excluez le de vos publications à ce sujet, merci pour ça ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n### \n\n### [Mise à jour : 16/01/2015]\n\nUn blog a vu le jour afin de vous faire suivre la campagne au plus près, vous trouverez le lien vers ce blog en bas de la page, ou en cliquant [ici](http://le-reve-de-mon-frere.aldanet.fr/).\n\n \n\n### Les liens\n\n[La collecte de fonds se passe par ici.](https://www.leetchi.com/c/le-reve-de-nicolas)\n\n[La page FaceBook, c’est là.](https://www.facebook.com/pages/Le-r%C3%AAve-de-mon-fr%C3%A8re/787220887999074)\n\n[Le blog c’est par ici.](http://le-reve-de-mon-frere.aldanet.fr/)\n\n\n","html":"<p>Le 3 octobre 2014 nous apprenions que mon beau frère Nicolas est atteint d’une forme aigüe de leucémie, une maladie grave contre laquelle il lutte avec beaucoup de courage, subissant les effets secondaires de la chimiothérapie. Cette dernière a été mise en place à haute dose pour stopper la progression du cancer. Malheureusement il y a maintenant presque deux mois, ce remède a très gravement dégradé son pancréas ce qui l’a cloué au lit avec de très violentes douleurs. Malgré tout cela il s’est battu, presque héroïquement. Aujourd’hui la douleur est partie, mais la chimiothérapie est toujours interrompue jusqu’à la fin de ces complications.</p>\n\n<p>Il va sans dire que son traitement lourd et son hospitalisation lui procurent beaucoup d’inquiétudes pour ses études également. Il a déjà fait un trait sur son année de seconde et espère de tout cœur pouvoir recommencer cette année d’étude dans la vente en septembre prochain.</p>\n\n<p>Depuis le début de cette maladie, je le vois grandir, murir, il n’est plus le jeune adolescent insouciant que j’ai connu il y a maintenant presque deux ans. Nicolas est la joie de vivre incarnée, et même s’il retrouve le sourire ses derniers jours avec l’amélioration de son état de santé, je n’ai qu’un souhait, retrouver le Nicolas d’avant. Je souhaite également cela pour sa famille (sa maman et sa sœur), elles pourront enfin souffler et retrouver l’espoir, l’optimisme, le moral et l’envie d’avancer. Je n’ai qu’une envie c’est de le revoir faire des choses de son âge, sortir avec ses potes, aimer, faire des bêtises (un petit peu mais il en faut aussi :p),  être un adolescent quoi…</p>\n\n<p>Le plus grand rêve de Nicolas est de pouvoir, un jour, visiter New York. Hélas, nous ne pouvons le lui financer seuls. C’est pour cela que sa sœur a lancer une collecte ouverte afin de collecter les fonds nécessaires à acheter les billets d’avions, l’hébergement sur place pendant une à deux semaines et au visites et activités sur place. Étant donné son état de santé et son jeune âge, il faudra au moins un accompagnateur. Cette bouffée d’oxygène lui permettra d’oublier sa maladie pendant quelques jours.</p>\n\n<p>Si vous souhaitez participer vous trouverez en bas de cet article le lien vers la collecte de fonds ainsi que celui vers la page FaceBook créée pour l’occasion, si vous ne pouvez pas participer financièrement mais que vous souhaiter tout de même nous aider, partagez ces pages, parlez en autours de vous <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>Nicolas n’est pas au courant de cette initiative, cela sera une surprise pour lui, ainsi si vous êtes en contact avec lui, ne lui en parlez pas, et si vous l’avez sur FaceBook, excluez le de vos publications à ce sujet, merci pour ça <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<h3 id=\"\"> </h3>\n\n<h3 id=\"misejour16012015\">[Mise à jour : 16/01/2015]</h3>\n\n<p>Un blog a vu le jour afin de vous faire suivre la campagne au plus près, vous trouverez le lien vers ce blog en bas de la page, ou en cliquant <a href=\"http://le-reve-de-mon-frere.aldanet.fr/\">ici</a>.</p>\n\n<h3 id=\"lesliens\">Les liens</h3>\n\n<p><a href=\"https://www.leetchi.com/c/le-reve-de-nicolas\">La collecte de fonds se passe par ici.</a></p>\n\n<p><a href=\"https://www.facebook.com/pages/Le-r%C3%AAve-de-mon-fr%C3%A8re/787220887999074\">La page FaceBook, c’est là.</a></p>\n\n<p><a href=\"http://le-reve-de-mon-frere.aldanet.fr/\">Le blog c’est par ici.</a></p>","image":"https://techan.fr/images/2015/01/safe_image.php_.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-09T16:53:56.000Z","created_by":1,"updated_at":"2015-02-23T12:14:02.000Z","updated_by":1,"published_at":"2015-01-09T16:53:56.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":83,"uuid":"2eabb6e5-ca53-4039-98c4-5d907e937fb8","title":"Que faire contre les contenus illicites sur Internet ?","slug":"forpressyncpreview","markdown":"\nQuelques jours après les évènements tragiques qui se sont passés dans les locaux de *Charlie Hebdo* et dans un supermarché cacher, il me paraissait important de faire un article visant à informer le plus grand nombre sur les moyens qui existent pour signaler les contenus qui n’ont rien à faire sur Internet. Sachez tout d’abord qu’il existe plusieurs moyens d’agir à notre échelle afin de lutter contre les sites et/ou les gens qui diffusent sur Internet des contenus incitant à la haine, à commettre des actes illicites, etc … Ces moyens sont mis en places par les sites eux-mêmes ou par l’État Français.\n\n\n## Les moyens mis en place par les sites et les réseaux sociaux\n\nJe vais commencer par les plus évidents, ceux qui sont mis en place par les sites. Sur les réseaux sociaux, les plateformes d’hébergement de vidéos et la plus part des forums et autres sites, il existe un moyen de signaler des contenus qui ne vous paraissent pas appropriés. Ces signalements sont ensuite épluchés par des algorithmes très poussés et/ou des équipes de modérateurs dont le rôle est de proposer à tous les monde la meilleur expérience possible et saine sur leur site.\n\nC’est ainsi que FaceBook et Twitter ferment quantité de compte qui enfreignent leur charte ou les lois. Dans certains cas, vous pourrez spécifier la raison du signalement que vous faites, ceci permet aux personnes qui vont étudier votre requête d’avoir le plus d’informations à leur disposition pour juger du bien fondé de la demande. Il va sans dire que plus il y a de signalements pour un contenu, plus il va être étudier sérieusement.\n\n\n## Pour l’État Français aussi, vos signalement comptent !\n\nDepuis 2009, l’État Français a mis en place la Plateforme d’harmonisation, d’analyse, de recoupement et d’orientation des signalements (Pharos), cette plateforme est accessible ici : [internet-signalement.gouv.fr](https://internet-signalement.gouv.fr). Depuis sa mise en place, cette plateforme n’arrête pas de battre ses records de signalements reçus, preuve que les gens sont de plus en plus conscient de son existence.\n\n[![IMG_9195.PNG](https://techan.fr/images/2015/01/IMG_9195.png)](https://techan.fr/images/2015/01/IMG_9195.png)\n\nDerrière PHAROS, intégrée à l’Office central de lutte contre la criminalité liée aux technologies de l’information et de la communication (OCLCTIC), toutes une équipe de cyberflics épluchent les signalements, les catégorisent par ordre de priorité, enquêtent, transmettent ces données aux services les plus compétents pour les traiter.\n\nCe qu’il faut savoir avant de signaler quelque chose sur la PHAROS :\n\n> **Que puis-je signaler ?**\n> \n> - Il doit s’agir d’un contenu ou d’un comportement illicite, c’est-à-dire qu’il doit être interdit et puni par une loi française. Les contenus ou comportements que vous jugez simplement immoraux ou nuisibles n’ont pas à nous être signalés.\n> - Il doit s’agir d’un contenu public de l’Internet, auquel tout internaute peut se retrouver confronté : site internet, blog, forum, propos sur un « tchat », agissement d’un « rôdeur » anonyme sur une messagerie, etc.\n> - Il ne doit pas s’agir d’une affaire privée avec une personne que vous connaissez, même si elle utilise Internet pour vous nuire. Dans ce cas, présentez-vous dans un Commissariat de Police ou une Brigade de Gendarmerie.\n> - Il ne doit en aucun cas s’agir d’une urgence nécessitant l’intervention de service de secours (accident, incendie, agression, etc.) Dans ce cas, il faut composer le « 17 » sur votre téléphone.\n> \n> **Source : **[www.police-nationale.interieur.gouv.fr](http://www.police-nationale.interieur.gouv.fr/Actualites/L-actu-police/Plateforme-Signalement-sur-Internet)\n\nLe 28 décembre 2014, un arrêté a été publié autorisant la Direction Générale de la Sécurité Intérieure à accéder aux signalements envoyés à la PHAROS. Cette plateforme , on l’a vu, rassemble les signalements d’infractions en ligne, notamment « apologie de terrorisme », c’est cette dernière qui intéresse particulièrement la DGSI.\n\nAller, dernier conseil, soyez les plus précis possible, cela permettra sans aucun doute aux personnes qui liront vos signalements de gagner un temps précieux en cherchant moins d’informations à côté ! ","html":"<p>Quelques jours après les évènements tragiques qui se sont passés dans les locaux de <em>Charlie Hebdo</em> et dans un supermarché cacher, il me paraissait important de faire un article visant à informer le plus grand nombre sur les moyens qui existent pour signaler les contenus qui n’ont rien à faire sur Internet. Sachez tout d’abord qu’il existe plusieurs moyens d’agir à notre échelle afin de lutter contre les sites et/ou les gens qui diffusent sur Internet des contenus incitant à la haine, à commettre des actes illicites, etc … Ces moyens sont mis en places par les sites eux-mêmes ou par l’État Français.</p>\n\n<h2 id=\"lesmoyensmisenplaceparlessitesetlesrseauxsociaux\">Les moyens mis en place par les sites et les réseaux sociaux</h2>\n\n<p>Je vais commencer par les plus évidents, ceux qui sont mis en place par les sites. Sur les réseaux sociaux, les plateformes d’hébergement de vidéos et la plus part des forums et autres sites, il existe un moyen de signaler des contenus qui ne vous paraissent pas appropriés. Ces signalements sont ensuite épluchés par des algorithmes très poussés et/ou des équipes de modérateurs dont le rôle est de proposer à tous les monde la meilleur expérience possible et saine sur leur site.</p>\n\n<p>C’est ainsi que FaceBook et Twitter ferment quantité de compte qui enfreignent leur charte ou les lois. Dans certains cas, vous pourrez spécifier la raison du signalement que vous faites, ceci permet aux personnes qui vont étudier votre requête d’avoir le plus d’informations à leur disposition pour juger du bien fondé de la demande. Il va sans dire que plus il y a de signalements pour un contenu, plus il va être étudier sérieusement.</p>\n\n<h2 id=\"pourltatfranaisaussivossignalementcomptent\">Pour l’État Français aussi, vos signalement comptent !</h2>\n\n<p>Depuis 2009, l’État Français a mis en place la Plateforme d’harmonisation, d’analyse, de recoupement et d’orientation des signalements (Pharos), cette plateforme est accessible ici : <a href=\"https://internet-signalement.gouv.fr\">internet-signalement.gouv.fr</a>. Depuis sa mise en place, cette plateforme n’arrête pas de battre ses records de signalements reçus, preuve que les gens sont de plus en plus conscient de son existence.</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/IMG_9195.png\"><img src=\"https://techan.fr/images/2015/01/IMG_9195.png\" alt=\"IMG_9195.PNG\" title=\"\" /></a></p>\n\n<p>Derrière PHAROS, intégrée à l’Office central de lutte contre la criminalité liée aux technologies de l’information et de la communication (OCLCTIC), toutes une équipe de cyberflics épluchent les signalements, les catégorisent par ordre de priorité, enquêtent, transmettent ces données aux services les plus compétents pour les traiter.</p>\n\n<p>Ce qu’il faut savoir avant de signaler quelque chose sur la PHAROS :</p>\n\n<blockquote>\n  <p><strong>Que puis-je signaler ?</strong></p>\n  \n  <ul>\n  <li>Il doit s’agir d’un contenu ou d’un comportement illicite, c’est-à-dire qu’il doit être interdit et puni par une loi française. Les contenus ou comportements que vous jugez simplement immoraux ou nuisibles n’ont pas à nous être signalés.</li>\n  <li>Il doit s’agir d’un contenu public de l’Internet, auquel tout internaute peut se retrouver confronté : site internet, blog, forum, propos sur un « tchat », agissement d’un « rôdeur » anonyme sur une messagerie, etc.</li>\n  <li>Il ne doit pas s’agir d’une affaire privée avec une personne que vous connaissez, même si elle utilise Internet pour vous nuire. Dans ce cas, présentez-vous dans un Commissariat de Police ou une Brigade de Gendarmerie.</li>\n  <li>Il ne doit en aucun cas s’agir d’une urgence nécessitant l’intervention de service de secours (accident, incendie, agression, etc.) Dans ce cas, il faut composer le « 17 » sur votre téléphone.</li>\n  </ul>\n  \n  <p><em>*Source : *</em><a href=\"http://www.police-nationale.interieur.gouv.fr/Actualites/L-actu-police/Plateforme-Signalement-sur-Internet\">www.police-nationale.interieur.gouv.fr</a></p>\n</blockquote>\n\n<p>Le 28 décembre 2014, un arrêté a été publié autorisant la Direction Générale de la Sécurité Intérieure à accéder aux signalements envoyés à la PHAROS. Cette plateforme , on l’a vu, rassemble les signalements d’infractions en ligne, notamment « apologie de terrorisme », c’est cette dernière qui intéresse particulièrement la DGSI.</p>\n\n<p>Aller, dernier conseil, soyez les plus précis possible, cela permettra sans aucun doute aux personnes qui liront vos signalements de gagner un temps précieux en cherchant moins d’informations à côté ! ","image":"https://techan.fr/images/2015/01/IMG_9194.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-10T02:00:00.000Z","created_by":1,"updated_at":"2015-11-17T16:11:23.000Z","updated_by":1,"published_at":"2015-01-10T02:00:00.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":84,"uuid":"ce48a821-48df-4b1a-8e35-01852b35b891","title":"Déplacer un disque spécifique avec Storage vMotion","slug":"deplacer-un-disque-specifique-avec-storage-vmotion","markdown":"\nDans certains cas, il est nécessaire de déplacer une VM d’un DataSotre vers un autre, cela fonctionne très bien et facilement avec Storage vMotion. Cependant, il est parfois nécessaire de déplacer un disque spécifique avec Storage vMotion, sur une VM volumineuse par exemple.\n\nCeci est possible par la même interface que le Sorage vMotion classique, il y a juste une petite astuce a connaitre.\n\nComme pour faire un Storage vMotion, cliquer droit sur la VM et choisir « Migrate ».\n\n[![Déplacer un disque spécifique avec Storage vMotion](https://techan.fr/images/2015/01/right_click.png)](https://techan.fr/images/2015/01/right_click.png)\n\nChoisir, « Change datastore ».  \n  \n[![Déplacer un disque spécifique avec Storage vMotion](https://techan.fr/images/2015/01/vmotion_1.png)](https://techan.fr/images/2015/01/vmotion_1.png)\n\nC’est dans cet ecran que l’astuce réside, au lieu de sélectionner un datastore comme d’habitude, cliquer sur « Advanced ».\n\n[![Déplacer un disque spécifique avec Storage vMotion](https://techan.fr/images/2015/01/vmotion_2.png)](https://techan.fr/images/2015/01/vmotion_2.png)\n\nUn nouvel écran apparait alors listant les différents fichiers composant la VM (configuration et disques de données). Vous pouvez ici choisir une destination personnalisée pour chacun de ces fichiers.\n\n[![Déplacer un disque spécifique avec Storage vMotion](https://techan.fr/images/2015/01/vmotion_3.png)](https://techan.fr/images/2015/01/vmotion_3.png)\n\nUne fois vos modifications faites, validez le formulaire. Un récapitulatif détaillé s’affiche, cliquez sur « Finish » et la migration commence.\n\n[![Déplacer un disque spécifique avec Storage vMotion](https://techan.fr/images/2015/01/vmotion_5.png)](https://techan.fr/images/2015/01/vmotion_5.png)\n\n\n","html":"<p>Dans certains cas, il est nécessaire de déplacer une VM d’un DataSotre vers un autre, cela fonctionne très bien et facilement avec Storage vMotion. Cependant, il est parfois nécessaire de déplacer un disque spécifique avec Storage vMotion, sur une VM volumineuse par exemple.</p>\n\n<p>Ceci est possible par la même interface que le Sorage vMotion classique, il y a juste une petite astuce a connaitre.</p>\n\n<p>Comme pour faire un Storage vMotion, cliquer droit sur la VM et choisir « Migrate ».</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/right_click.png\"><img src=\"https://techan.fr/images/2015/01/right_click.png\" alt=\"Déplacer un disque spécifique avec Storage vMotion\" title=\"\" /></a></p>\n\n<p>Choisir, « Change datastore ».  </p>\n\n<p><a href=\"https://techan.fr/images/2015/01/vmotion_1.png\"><img src=\"https://techan.fr/images/2015/01/vmotion_1.png\" alt=\"Déplacer un disque spécifique avec Storage vMotion\" title=\"\" /></a></p>\n\n<p>C’est dans cet ecran que l’astuce réside, au lieu de sélectionner un datastore comme d’habitude, cliquer sur « Advanced ».</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/vmotion_2.png\"><img src=\"https://techan.fr/images/2015/01/vmotion_2.png\" alt=\"Déplacer un disque spécifique avec Storage vMotion\" title=\"\" /></a></p>\n\n<p>Un nouvel écran apparait alors listant les différents fichiers composant la VM (configuration et disques de données). Vous pouvez ici choisir une destination personnalisée pour chacun de ces fichiers.</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/vmotion_3.png\"><img src=\"https://techan.fr/images/2015/01/vmotion_3.png\" alt=\"Déplacer un disque spécifique avec Storage vMotion\" title=\"\" /></a></p>\n\n<p>Une fois vos modifications faites, validez le formulaire. Un récapitulatif détaillé s’affiche, cliquez sur « Finish » et la migration commence.</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/vmotion_5.png\"><img src=\"https://techan.fr/images/2015/01/vmotion_5.png\" alt=\"Déplacer un disque spécifique avec Storage vMotion\" title=\"\" /></a></p>","image":"https://techan.fr/images/2015/01/vmware_vsphere_client_high_def_icon_by_flakshack-d4o96dy.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-12T11:49:50.000Z","created_by":1,"updated_at":"2015-01-12T11:49:50.000Z","updated_by":1,"published_at":"2015-01-12T11:49:50.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":85,"uuid":"6dc8015d-67ae-4a9e-bea5-5fcbe5b7b684","title":"Que faire contre les contenus illicites sur Internet ?","slug":"que-faire-contre-les-contenus-illicites-sur-internet","markdown":"\nQuelques jours après les évènements tragiques qui se sont passés dans les locaux de *Charlie Hebdo* et dans un supermarché cacher, il me paraissait important de faire un article visant à informer le plus grand nombre sur les moyens qui existent pour signaler les contenus qui n’ont rien à faire sur Internet. Sachez tout d’abord qu’il existe plusieurs moyens d’agir à notre échelle afin de lutter contre les sites et/ou les gens qui diffusent sur Internet des contenus incitant à la haine, à commettre des actes illicites, etc … Ces moyens sont mis en places par les sites eux-mêmes ou par l’État Français.\n\n\n## Les moyens mis en place par les sites et les réseaux sociaux\n\nJe vais commencer par les plus évidents, ceux qui sont mis en place par les sites. Sur les réseaux sociaux, les plateformes d’hébergement de vidéos et la plus part des forums et autres sites, il existe un moyen de signaler des contenus qui ne vous paraissent pas appropriés. Ces signalements sont ensuite épluchés par des algorithmes très poussés et/ou des équipes de modérateurs dont le rôle est de proposer à tous les monde la meilleur expérience possible et saine sur leur site.\n\nC’est ainsi que FaceBook et Twitter ferment quantité de compte qui enfreignent leur charte ou les lois. Dans certains cas, vous pourrez spécifier la raison du signalement que vous faites, ceci permet aux personnes qui vont étudier votre requête d’avoir le plus d’informations à leur disposition pour juger du bien fondé de la demande. Il va sans dire que plus il y a de signalements pour un contenu, plus il va être étudier sérieusement.\n\n\n## Pour l’État Français aussi, vos signalement comptent !\n\nDepuis 2009, l’État Français a mis en place la Plateforme d’harmonisation, d’analyse, de recoupement et d’orientation des signalements (Pharos), cette plateforme est accessible ici : [internet-signalement.gouv.fr](https://internet-signalement.gouv.fr). Depuis sa mise en place, cette plateforme n’arrête pas de battre ses records de signalements reçus, preuve que les gens sont de plus en plus conscient de son existence.\n\n[![IMG_9195.PNG](https://techan.fr/images/2015/01/IMG_9195.png)](https://techan.fr/images/2015/01/IMG_9195.png)\n\nDerrière PHAROS, intégrée à l’Office central de lutte contre la criminalité liée aux technologies de l’information et de la communication (OCLCTIC), toutes une équipe de cyberflics épluchent les signalements, les catégorisent par ordre de priorité, enquêtent, transmettent ces données aux services les plus compétents pour les traiter.\n\nCe qu’il faut savoir avant de signaler quelque chose sur la PHAROS :\n\n> **Que puis-je signaler ?**\n> \n> \n> - Il doit s’agir d’un contenu ou d’un comportement illicite, c’est-à-dire qu’il doit être interdit et puni par une loi française. Les contenus ou comportements que vous jugez simplement immoraux ou nuisibles n’ont pas à nous être signalés.\n> - Il doit s’agir d’un contenu public de l’Internet, auquel tout internaute peut se retrouver confronté : site internet, blog, forum, propos sur un « tchat », agissement d’un « rôdeur » anonyme sur une messagerie, etc.\n> - Il ne doit pas s’agir d’une affaire privée avec une personne que vous connaissez, même si elle utilise Internet pour vous nuire. Dans ce cas, présentez-vous dans un Commissariat de Police ou une Brigade de Gendarmerie.\n> - Il ne doit en aucun cas s’agir d’une urgence nécessitant l’intervention de service de secours (accident, incendie, agression, etc.) Dans ce cas, il faut composer le « 17 » sur votre téléphone.\n> \n> **Source : **[www.police-nationale.interieur.gouv.fr](http://www.police-nationale.interieur.gouv.fr/Actualites/L-actu-police/Plateforme-Signalement-sur-Internet)\n\nLe 28 décembre 2014, un arrêté a été publié autorisant la Direction Générale de la Sécurité Intérieure à accéder aux signalements envoyés à la PHAROS. Cette plateforme , on l’a vu, rassemble les signalements d’infractions en ligne, notamment « apologie de terrorisme », c’est cette dernière qui intéresse particulièrement la DGSI.\n\nAller, dernier conseil, soyez les plus précis possible, cela permettra sans aucun doute aux personnes qui liront vos signalements de gagner un temps précieux en cherchant moins d’informations à côté ! ","html":"<p>Quelques jours après les évènements tragiques qui se sont passés dans les locaux de <em>Charlie Hebdo</em> et dans un supermarché cacher, il me paraissait important de faire un article visant à informer le plus grand nombre sur les moyens qui existent pour signaler les contenus qui n’ont rien à faire sur Internet. Sachez tout d’abord qu’il existe plusieurs moyens d’agir à notre échelle afin de lutter contre les sites et/ou les gens qui diffusent sur Internet des contenus incitant à la haine, à commettre des actes illicites, etc … Ces moyens sont mis en places par les sites eux-mêmes ou par l’État Français.</p>\n\n<h2 id=\"lesmoyensmisenplaceparlessitesetlesrseauxsociaux\">Les moyens mis en place par les sites et les réseaux sociaux</h2>\n\n<p>Je vais commencer par les plus évidents, ceux qui sont mis en place par les sites. Sur les réseaux sociaux, les plateformes d’hébergement de vidéos et la plus part des forums et autres sites, il existe un moyen de signaler des contenus qui ne vous paraissent pas appropriés. Ces signalements sont ensuite épluchés par des algorithmes très poussés et/ou des équipes de modérateurs dont le rôle est de proposer à tous les monde la meilleur expérience possible et saine sur leur site.</p>\n\n<p>C’est ainsi que FaceBook et Twitter ferment quantité de compte qui enfreignent leur charte ou les lois. Dans certains cas, vous pourrez spécifier la raison du signalement que vous faites, ceci permet aux personnes qui vont étudier votre requête d’avoir le plus d’informations à leur disposition pour juger du bien fondé de la demande. Il va sans dire que plus il y a de signalements pour un contenu, plus il va être étudier sérieusement.</p>\n\n<h2 id=\"pourltatfranaisaussivossignalementcomptent\">Pour l’État Français aussi, vos signalement comptent !</h2>\n\n<p>Depuis 2009, l’État Français a mis en place la Plateforme d’harmonisation, d’analyse, de recoupement et d’orientation des signalements (Pharos), cette plateforme est accessible ici : <a href=\"https://internet-signalement.gouv.fr\">internet-signalement.gouv.fr</a>. Depuis sa mise en place, cette plateforme n’arrête pas de battre ses records de signalements reçus, preuve que les gens sont de plus en plus conscient de son existence.</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/IMG_9195.png\"><img src=\"https://techan.fr/images/2015/01/IMG_9195.png\" alt=\"IMG_9195.PNG\" title=\"\" /></a></p>\n\n<p>Derrière PHAROS, intégrée à l’Office central de lutte contre la criminalité liée aux technologies de l’information et de la communication (OCLCTIC), toutes une équipe de cyberflics épluchent les signalements, les catégorisent par ordre de priorité, enquêtent, transmettent ces données aux services les plus compétents pour les traiter.</p>\n\n<p>Ce qu’il faut savoir avant de signaler quelque chose sur la PHAROS :</p>\n\n<blockquote>\n  <p><strong>Que puis-je signaler ?</strong></p>\n  \n  <ul>\n  <li>Il doit s’agir d’un contenu ou d’un comportement illicite, c’est-à-dire qu’il doit être interdit et puni par une loi française. Les contenus ou comportements que vous jugez simplement immoraux ou nuisibles n’ont pas à nous être signalés.</li>\n  <li>Il doit s’agir d’un contenu public de l’Internet, auquel tout internaute peut se retrouver confronté : site internet, blog, forum, propos sur un « tchat », agissement d’un « rôdeur » anonyme sur une messagerie, etc.</li>\n  <li>Il ne doit pas s’agir d’une affaire privée avec une personne que vous connaissez, même si elle utilise Internet pour vous nuire. Dans ce cas, présentez-vous dans un Commissariat de Police ou une Brigade de Gendarmerie.</li>\n  <li>Il ne doit en aucun cas s’agir d’une urgence nécessitant l’intervention de service de secours (accident, incendie, agression, etc.) Dans ce cas, il faut composer le « 17 » sur votre téléphone.</li>\n  </ul>\n  \n  <p><em>*Source : *</em><a href=\"http://www.police-nationale.interieur.gouv.fr/Actualites/L-actu-police/Plateforme-Signalement-sur-Internet\">www.police-nationale.interieur.gouv.fr</a></p>\n</blockquote>\n\n<p>Le 28 décembre 2014, un arrêté a été publié autorisant la Direction Générale de la Sécurité Intérieure à accéder aux signalements envoyés à la PHAROS. Cette plateforme , on l’a vu, rassemble les signalements d’infractions en ligne, notamment « apologie de terrorisme », c’est cette dernière qui intéresse particulièrement la DGSI.</p>\n\n<p>Aller, dernier conseil, soyez les plus précis possible, cela permettra sans aucun doute aux personnes qui liront vos signalements de gagner un temps précieux en cherchant moins d’informations à côté ! ","image":"https://techan.fr/images/2015/01/IMG_9194.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-12T22:10:02.000Z","created_by":1,"updated_at":"2015-01-13T09:37:29.000Z","updated_by":1,"published_at":"2015-01-12T22:10:02.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":86,"uuid":"2074e1e6-6cb2-4284-aba5-3cf4b9c8aab5","title":"Bannir définitivement les habitués de Fail2ban","slug":"bannir-definitivement-les-habitues-de-fail2ban","markdown":"\nFail2ban est un outil écrit en Python, il permet en scannant des fichier de log de bannir les rigolos qui tentent de se connecter à un de services disponible sur un Linux et essayant d’y entrer frauduleusement. Le cas classique d’utilisation de Fail2ban est la protection du daemon SSH qui est régulièrement attaqué à coup de brut force. Fail2ban va donc traquer les erreurs d’authentification dans le fichier de log du daemon SSH et banni les IP qui font plus d’un certain nombre d’erreurs de mot de passe dans une période de temps donnée. Les contrevenants ne peuvent plus essayer de nouveaux mot pendant la période ou ils sont exclus.\n\nLa liste des personnes bloquées par cet outil est vite assez impressionnantes, on compte parmi eux pas mal de petits malins qui ne tente leur chance que quelques fois, se font bannir et reviennent plus. Mais on remarque aussi très vite quelques « habitués » se distinguent rapidement. C’est dans ce but que j’ai écrit un script pour bannir définitivement les habitués de Fail2ban. C’est un script en Bash, qui va lire le log de Fail2ban et qui crée une règle dans ufw pour bloquer définitivement les zozos.\n\nVoici donc ce script :\n\n#!/bin/bash for banned in $(grep \"ban\" /var/log/fail2ban.log* | grep actions | grep -v 'already' | awk -F' ' '{print $7}' | grep -v '=' | uniq -c | awk '{print $1 \"_\" $2}') do nb_bans=$(echo $banned | awk -F'_' '{print $1}') ip=$(echo $banned | awk -F'_' '{print $2}') if [[ nb_bans -gt 5 ]] then echo \"$ip banned $nb_bans times.\" ufw insert 1 deny from $ip fi done | mail -s \"Fail2Ban 2 UFW\" user@domain.net\n\nUne fois ajouté dans la crontab, ce script va régulièrement bannir définitivement les IP qui sont exclues plus de 5 fois par Fail2ban.\n\n\n","html":"<p>Fail2ban est un outil écrit en Python, il permet en scannant des fichier de log de bannir les rigolos qui tentent de se connecter à un de services disponible sur un Linux et essayant d’y entrer frauduleusement. Le cas classique d’utilisation de Fail2ban est la protection du daemon SSH qui est régulièrement attaqué à coup de brut force. Fail2ban va donc traquer les erreurs d’authentification dans le fichier de log du daemon SSH et banni les IP qui font plus d’un certain nombre d’erreurs de mot de passe dans une période de temps donnée. Les contrevenants ne peuvent plus essayer de nouveaux mot pendant la période ou ils sont exclus.</p>\n\n<p>La liste des personnes bloquées par cet outil est vite assez impressionnantes, on compte parmi eux pas mal de petits malins qui ne tente leur chance que quelques fois, se font bannir et reviennent plus. Mais on remarque aussi très vite quelques « habitués » se distinguent rapidement. C’est dans ce but que j’ai écrit un script pour bannir définitivement les habitués de Fail2ban. C’est un script en Bash, qui va lire le log de Fail2ban et qui crée une règle dans ufw pour bloquer définitivement les zozos.</p>\n\n<p>Voici donc ce script :</p>\n\n<h1 id=\"binbashforbannedindgrepbanvarlogfail2banloggrepactionsgrepvalreadyawkfprintd7grepvuniqcawkprintd1_d2donb_bansdechodbannedawkf_printd1ipdechodbannedawkf_printd2ifnb_bansgt5thenechodipbanneddnb_banstimesufwinsert1denyfromdipfidonemailsfail2ban2ufwuserdomainnet\">!/bin/bash for banned in $(grep \"ban\" /var/log/fail2ban.log* | grep actions | grep -v 'already' | awk -F' ' '{print $7}' | grep -v '=' | uniq -c | awk '{print $1 \"<em>\" $2}') do nb</em>bans=$(echo $banned | awk -F'<em>' '{print $1}') ip=$(echo $banned | awk -F'</em>' '{print $2}') if [[ nb<em>bans -gt 5 ]] then echo \"$ip banned $nb</em>bans times.\" ufw insert 1 deny from $ip fi done | mail -s \"Fail2Ban 2 UFW\" user@domain.net</h1>\n\n<p>Une fois ajouté dans la crontab, ce script va régulièrement bannir définitivement les IP qui sont exclues plus de 5 fois par Fail2ban.</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-16T16:18:37.000Z","created_by":1,"updated_at":"2015-01-23T20:27:48.000Z","updated_by":1,"published_at":"2015-01-16T16:18:37.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":87,"uuid":"310d1d8f-cc79-4de5-ac1a-483bb6decf4b","title":"Script de backup MySQL","slug":"script-de-backup-mysql","markdown":"\nVoici un simple script de backup MySQL.\n\nSon utilisation est simple, il suffit de changer les quelques variables dans le haut du script et de créer l’arborescence ou seront stockés les backups. Ce script se connecte à l’instance MySQL, sort la liste des bases présentes et en fait des mysqldump. Il crée ainsi un fichier pour chaque base qu’il compresse ensuite.\n\n \n\n#!/bin/bash user='root' password='password' destination=\"/backup/$(date \"+%d\")\" mail='destinataire@domaine.fr' mkdir -p $destination for i in `echo \"show databases;\" | mysql -u$user -p$password | grep -v Database`; do mysqldump -u$user -p$password --opt --add-drop-table --routines --triggers --events --single-transaction -B $i > $destination/$i.sql gzip -f $destination/$i.sql done problem_text='' problem=0 for i in `ls $destination/*` ; do size=`du -sk $i | awk '{ print $1 }'` if [ $size -le 2 ] ; then problem_text=\"$problem_text- $i database. Backupped database size is equal or under 4k ($size)\\n\" problem=1 fi done if [ $problem -ne 0 ] ; then echo -e \"Backups problem detected on :\\n\\n$problem_text\" | mail -s \"$HOSTNAME - MySQL backup problem\" $mail else echo `echo \"show databases;\" | mysql -u$user -p$password | grep -v Database` | mail -s \"[sl-0-mysql1] Bases sauvegardees\" $mail fi find $destination -name \"*.gz\" -mtime +14 -exec rm {} \\;\n\nIl ne reste plus qu’à l’ajouter à la crontab ","html":"<p>Voici un simple script de backup MySQL.</p>\n\n<p>Son utilisation est simple, il suffit de changer les quelques variables dans le haut du script et de créer l’arborescence ou seront stockés les backups. Ce script se connecte à l’instance MySQL, sort la liste des bases présentes et en fait des mysqldump. Il crée ainsi un fichier pour chaque base qu’il compresse ensuite.</p>\n\n<h1 id=\"binbashuserrootpasswordpassworddestinationbackupddatedmaildestinatairedomainefrmkdirpddestinationforiinechoshowdatabasesmysqluduserpdpasswordgrepvdatabasedomysqldumpuduserpdpasswordoptadddroptableroutinestriggerseventssingletransactionbdiddestinationdisqlgzipfddestinationdisqldoneproblem_textproblem0foriinlsddestinationdosizeduskdiawkprintd1ifdsizele2thenproblem_textdproblem_textdidatabasebackuppeddatabasesizeisequalorunder4kdsizenproblem1fidoneifdproblemne0thenechoebackupsproblemdetectedonnndproblem_textmailsdhostnamemysqlbackupproblemdmailelseechoechoshowdatabasesmysqluduserpdpasswordgrepvdatabasemailssl0mysql1basessauvegardeesdmailfifindddestinationnamegzmtime14execrm\">!/bin/bash user='root' password='password' destination=\"/backup/$(date \"+%d\")\" mail='destinataire@domaine.fr' mkdir -p $destination for i in <code>echo \"show databases;\" | mysql -u$user -p$password | grep -v Database</code>; do mysqldump -u$user -p$password --opt --add-drop-table --routines --triggers --events --single-transaction -B $i > $destination/$i.sql gzip -f $destination/$i.sql done problem<em>text='' problem=0 for i in <code>ls $destination/*</code> ; do size=<code>du -sk $i | awk '{ print $1 }'</code> if [ $size -le 2 ] ; then problem</em>text=\"$problem<em>text- $i database. Backupped database size is equal or under 4k ($size)\\n\" problem=1 fi done if [ $problem -ne 0 ] ; then echo -e \"Backups problem detected on :\\n\\n$problem</em>text\" | mail -s \"$HOSTNAME - MySQL backup problem\" $mail else echo <code>echo \"show databases;\" | mysql -u$user -p$password | grep -v Database</code> | mail -s \"[sl-0-mysql1] Bases sauvegardees\" $mail fi find $destination -name \"*.gz\" -mtime +14 -exec rm {} \\;</h1>\n\n<p>Il ne reste plus qu’à l’ajouter à la crontab ","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-23T16:02:37.000Z","created_by":1,"updated_at":"2015-01-23T16:02:37.000Z","updated_by":1,"published_at":"2015-01-23T16:02:37.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":88,"uuid":"6835dd2b-ed03-4ee9-9576-e56e1ff2384c","title":"Configurer les archive logs d'Oracle","slug":"configurer-les-archive-logs-doracle","markdown":"\n\n## A propos des archive logs\n\nLes archive logs sont des copies des redo logs d’Oracle. Ils contiennent l’historique d’activité de la base.\n\nIl sont utilisés pour « re »-jouer l’activité qu’il y a eu sur la base dans le cas ou l’on devrait restaurer la base depuis un backup le fait de re-jouer les archive logs depuis l’heure ou a été pris le backup et l’heure du dernier archive log disponible assure que l’on perde le moins de données possible.\n\nLes archive logs doivent être stockés en de multiples endroits, la requête SQL ci-dessous affiche les destinations configurées pour les archive logs.\n\nSQL> show parameter log_archive_dest\n\n[![Configurer les archive logs d'Oracle](https://techan.fr/images/2015/01/archive_logs_1.png)](https://techan.fr/images/2015/01/archive_logs_1.png)\n\nSur cette base, il n’y a qu’une destination pour les archive logs, c’est le dossier : ‘/data/oracle/product/11.2.0/db_2/tfti_archive’.\n\n\n## Vérifier si les archive logs sont activés\n\nSQL> archive log list ;\n\n[![Configurer les archive logs d'Oracle](https://techan.fr/images/2015/01/archive_logs_2.png)](https://techan.fr/images/2015/01/archive_logs_2.png)\n\nLe mode archive log est activé sur cette base.\n\n\n## Activer et désactiver les archive logs\n\n<div class=\"aui-message warning shadowed information-macro\" style=\"text-align: justify;\">Vous pouvez passer du mode archive log activé à désactivé et vice-versa <span style=\"text-decoration: underline;\">uniquement</span> si la base est dans l’état « **mount**« .\n\n**<span style=\"text-decoration: underline;\">Attention :</span>** Changer ce paramètre sur une base active nécessite un reboot !\n\n#### Activer les archive logs\n\nSQL> shutdown immediate ; SQL> startup mount ; SQL> alter database archivelog ; SQL> alter database open ; SQL> archive log list ;\n\n \n\n[![Configurer les archive logs d'Oracle](https://techan.fr/images/2015/01/archive_logs_3.png)](https://techan.fr/images/2015/01/archive_logs_3.png)\n\n#### Désactiver le mode archive logs\n\nSQL> shutdown immediate ; SQL> startup mount ; SQL> alter database noarchivelog ; SQL> alter database open ; SQL> archive log list ;\n\n \n\n[![Configurer les archive logs d'Oracle](https://techan.fr/images/2015/01/archive_logs_4.png)](https://techan.fr/images/2015/01/archive_logs_4.png)\n\n\n## Changer la destination d’archivage des logs\n\nChanger la destination d’archivage peut être requis si le file system de la destination principale est plein. Cela empêchera Oracle d’écrire de nouveau archive log dans cette destination pleine et évitera un blocage de la base.\n\nSi Oracle ne peut pas sauver son activité en générant des archive logs, le système va bloquer toutes les transactions, il ne sera plus possible de faire quoi que ce soit sur la base tant que la destination d’archivage ne sera pas de nouveau disponible ou vidée.\n\nDans ce cas, vous verrez l’erreur ORA- suivante dans l’alert.log et dans les clients :\n\n</div><div class=\"aui-message warning shadowed information-macro\" style=\"text-align: justify;\">ORA-00257: archiver error. Connect internal only, until freed.\n\n \n\nPour vider la destination d’archivage, vous pouvez la backuper avec l’option « delete » qui supprime les archive logs déjà sauvegardés. Mais cela peut prendre pas mal de temps pendant lequel vous pouvez modifier la destination d’archivage principale vers un file system avec de l’espace libre.\n\nN’oubliez pas de remettre cela d’aplomb une fois le backup terminé.\n\n</div><div class=\"aui-message warning shadowed information-macro\">Vous pouvez modifier les destinations d’archivage avec cette requête SQL :\n\nSQL> alter system set log_archive_dest_<NUMBER_OF_THE_DESTINATION>='LOCATION=<NEW_DIRECTORY>' ;\n\nPar exemple, je vais changer la destination d’archivage de ma base de « /data/oracle/product/11.2.0/db_2/tfti_archive » vers « /data/oracle/archives/TFTI1 » :\n\n[![Configurer les archive logs d'Oracle](https://techan.fr/images/2015/01/archive_logs_5.png)](https://techan.fr/images/2015/01/archive_logs_5.png)\n\n</div>\n","html":"<h2 id=\"aproposdesarchivelogs\">A propos des archive logs</h2>\n\n<p>Les archive logs sont des copies des redo logs d’Oracle. Ils contiennent l’historique d’activité de la base.</p>\n\n<p>Il sont utilisés pour « re »-jouer l’activité qu’il y a eu sur la base dans le cas ou l’on devrait restaurer la base depuis un backup le fait de re-jouer les archive logs depuis l’heure ou a été pris le backup et l’heure du dernier archive log disponible assure que l’on perde le moins de données possible.</p>\n\n<p>Les archive logs doivent être stockés en de multiples endroits, la requête SQL ci-dessous affiche les destinations configurées pour les archive logs.</p>\n\n<p>SQL> show parameter log<em>archive</em>dest</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/archive_logs_1.png\"><img src=\"https://techan.fr/images/2015/01/archive_logs_1.png\" alt=\"Configurer les archive logs d'Oracle\" title=\"\" /></a></p>\n\n<p>Sur cette base, il n’y a qu’une destination pour les archive logs, c’est le dossier : ‘/data/oracle/product/11.2.0/db<em>2/tfti</em>archive’.</p>\n\n<h2 id=\"vrifiersilesarchivelogssontactivs\">Vérifier si les archive logs sont activés</h2>\n\n<p>SQL> archive log list ;</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/archive_logs_2.png\"><img src=\"https://techan.fr/images/2015/01/archive_logs_2.png\" alt=\"Configurer les archive logs d'Oracle\" title=\"\" /></a></p>\n\n<p>Le mode archive log est activé sur cette base.</p>\n\n<h2 id=\"activeretdsactiverlesarchivelogs\">Activer et désactiver les archive logs</h2>\n\n<div class=\"aui-message warning shadowed information-macro\" style=\"text-align: justify;\">Vous pouvez passer du mode archive log activé à désactivé et vice-versa <span style=\"text-decoration: underline;\">uniquement</span> si la base est dans l’état « **mount**« .\n\n**<span style=\"text-decoration: underline;\">Attention :</span>** Changer ce paramètre sur une base active nécessite un reboot !\n\n#### Activer les archive logs\n\nSQL> shutdown immediate ; SQL> startup mount ; SQL> alter database archivelog ; SQL> alter database open ; SQL> archive log list ;\n\n \n\n[![Configurer les archive logs d'Oracle](https://techan.fr/images/2015/01/archive_logs_3.png)](https://techan.fr/images/2015/01/archive_logs_3.png)\n\n#### Désactiver le mode archive logs\n\nSQL> shutdown immediate ; SQL> startup mount ; SQL> alter database noarchivelog ; SQL> alter database open ; SQL> archive log list ;\n\n \n\n[![Configurer les archive logs d'Oracle](https://techan.fr/images/2015/01/archive_logs_4.png)](https://techan.fr/images/2015/01/archive_logs_4.png)\n\n\n## Changer la destination d’archivage des logs\n\nChanger la destination d’archivage peut être requis si le file system de la destination principale est plein. Cela empêchera Oracle d’écrire de nouveau archive log dans cette destination pleine et évitera un blocage de la base.\n\nSi Oracle ne peut pas sauver son activité en générant des archive logs, le système va bloquer toutes les transactions, il ne sera plus possible de faire quoi que ce soit sur la base tant que la destination d’archivage ne sera pas de nouveau disponible ou vidée.\n\nDans ce cas, vous verrez l’erreur ORA- suivante dans l’alert.log et dans les clients :\n\n</div><div class=\"aui-message warning shadowed information-macro\" style=\"text-align: justify;\">ORA-00257: archiver error. Connect internal only, until freed.\n\n \n\nPour vider la destination d’archivage, vous pouvez la backuper avec l’option « delete » qui supprime les archive logs déjà sauvegardés. Mais cela peut prendre pas mal de temps pendant lequel vous pouvez modifier la destination d’archivage principale vers un file system avec de l’espace libre.\n\nN’oubliez pas de remettre cela d’aplomb une fois le backup terminé.\n\n</div><div class=\"aui-message warning shadowed information-macro\">Vous pouvez modifier les destinations d’archivage avec cette requête SQL :\n\nSQL> alter system set log_archive_dest_<NUMBER_OF_THE_DESTINATION>='LOCATION=<NEW_DIRECTORY>' ;\n\nPar exemple, je vais changer la destination d’archivage de ma base de « /data/oracle/product/11.2.0/db_2/tfti_archive » vers « /data/oracle/archives/TFTI1 » :\n\n[![Configurer les archive logs d'Oracle](https://techan.fr/images/2015/01/archive_logs_5.png)](https://techan.fr/images/2015/01/archive_logs_5.png)\n\n</div>","image":"https://techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-23T16:40:06.000Z","created_by":1,"updated_at":"2015-01-23T17:50:46.000Z","updated_by":1,"published_at":"2015-01-23T16:40:06.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":89,"uuid":"49277988-0e2f-4bee-871f-0b42c6daae60","title":"Indexation full text des mails","slug":"indexation-full-text-des-mails","markdown":"\nHeureux possesseur d’un serveur de mail complet composé d’un postfix, de dovecot et d’un webmail, Horde pour ne pas le citer, je n’arrêtais cependant pas de pester contre la lenteur de la recherche dans les mails. Il faut dire que ma boite personnelle pèse maintenant plus de 4 Go … Et que mes plus anciens mails ont été reçus en 2010.\n\nPar défaut lorsque Dovecot reçoit une requête IMAP lui demandant de rechercher des termes dans une boite mail, il scanne tous les mails de la boite ou du compte en fonction de ce que l’on a demandé. On imagine donc parfaitement que cela peut prendre du temps lorsqu’on a une boite mail bien garnie …  \n  \n J’ai donc trouvé une solution : Solr. Il s’agit d’un moteur d’indexation écrit en Java développé par « The Apache Software Fundation ». Il nécessite un serveur Tomcat, ce qui, de prime abord m’a plutôt refroidi, mais ça vaut le coup, je vous le garanti ! Une fois configuré, Solr va fournir une indexation full text des mails que Dovecot va pouvoir interroger directement. Si par malheur, Solr n’était pas disponible, Dovecot ne s’acharne pas, il prendra son courage à deux mains et reprendra ses propres recherches laborieuses.\n\n\n## Installation de Solr sur Ubuntu\n\nJe pars du principe que vous avez déjà installé votre Tomcat, qu’il est fonctionnel et que vous connaissez le port sur lequel il répond.\n\n#### Le plugin pour dovecot\n\nIl va falloir un plugin à Dovecot pour pouvoir tirer profit de Solr. Il existe un package sur Ubuntu qui propose directement le plugin nécessaire à Dovecot pour interroger Solr.\n\naptitude install dovecot-solr\n\n#### Installation de Solr\n\nComme je suis un gros flemmard, j’ai utilisé la version de Solr packagée avec Ubuntu, pour l’installer, il suffit de passer la commande suivante :\n\naptitude install libsolr-java solr-common solr-tomcat\n\n###  Et maintenant, la configuration !\n\n#### Du côté de Tomcat et Solr\n\nÉditez le fichier : /etc/solr/conf/schema.xml afin qu’il ressemble à ceci :\n\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?> <!-- For fts-solr: This is the Solr schema file, place it into solr/conf/schema.xml. You may want to modify the tokenizers and filters. --> <schema name=\"dovecot\" version=\"1.4\"> <types> <!-- IMAP has 32bit unsigned ints but java ints are signed, so use longs --> <fieldType name=\"string\" class=\"solr.StrField\" omitNorms=\"true\"/> <fieldType name=\"long\" class=\"solr.LongField\" omitNorms=\"true\"/> <fieldType name=\"slong\" class=\"solr.SortableLongField\" omitNorms=\"true\"/> <fieldType name=\"float\" class=\"solr.FloatField\" omitNorms=\"true\"/> <fieldType name=\"boolean\" class=\"solr.BoolField\" omitNorms=\"true\"/> <fieldType name=\"text\" class=\"solr.TextField\" positionIncrementGap=\"100\"> <analyzer type=\"index\"> <tokenizer class=\"solr.WhitespaceTokenizerFactory\"/> <filter class=\"solr.StopFilterFactory\" ignoreCase=\"true\" words=\"stopwords.txt\"/> <filter class=\"solr.WordDelimiterFilterFactory\" generateWordParts=\"1\" generateNumberParts=\"1\" catenateWords=\"1\" catenateNumbers=\"1\" catenateAll=\"0\"/> <filter class=\"solr.LowerCaseFilterFactory\"/> <filter class=\"solr.EnglishPorterFilterFactory\" protected=\"protwords.txt\"/> <filter class=\"solr.RemoveDuplicatesTokenFilterFactory\"/> </analyzer> <analyzer type=\"query\"> <tokenizer class=\"solr.WhitespaceTokenizerFactory\"/> <filter class=\"solr.SynonymFilterFactory\" synonyms=\"synonyms.txt\" ignoreCase=\"true\" expand=\"true\"/> <filter class=\"solr.StopFilterFactory\" ignoreCase=\"true\" words=\"stopwords.txt\"/> <filter class=\"solr.WordDelimiterFilterFactory\" generateWordParts=\"1\" generateNumberParts=\"1\" catenateWords=\"0\" catenateNumbers=\"0\" catenateAll=\"0\"/> <filter class=\"solr.LowerCaseFilterFactory\"/> <filter class=\"solr.EnglishPorterFilterFactory\" protected=\"protwords.txt\"/> <filter class=\"solr.RemoveDuplicatesTokenFilterFactory\"/> </analyzer> </fieldType> </types> <fields> <field name=\"id\" type=\"string\" indexed=\"true\" stored=\"true\" required=\"true\" /> <field name=\"uid\" type=\"slong\" indexed=\"true\" stored=\"true\" required=\"true\" /> <field name=\"box\" type=\"string\" indexed=\"true\" stored=\"true\" required=\"true\" /> <field name=\"user\" type=\"string\" indexed=\"true\" stored=\"true\" required=\"true\" /> <field name=\"hdr\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"body\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"from\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"to\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"cc\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"bcc\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"subject\" type=\"text\" indexed=\"true\" stored=\"false\" /> </fields> <uniqueKey>id</uniqueKey> <defaultSearchField>body</defaultSearchField> <solrQueryParser defaultOperator=\"AND\" /> </schema>\n\nCeci explique à Solr comment indexer les mail.\n\nIl faut ensuite ajouter les deux lignes suivantes dans votre contrab, car par défaut, Dovecot de ne fait que des « soft commits » dans Solr. Il faut forcer régulièrement un « hard commit » sinon Solr n’arrête pas de faire grossir ses logs de transactions …\n\n* * * * * curl http://localhost:7777/solr/update?commit=true >> /dev/null 0 0 * * * curl http://localhost:7777/solr/update?optimize=true >> /dev/null\n\n \n\nEt pour finir :\n\nservice tomcat6 restart\n\n####  Du côté de Dovecot\n\nEditez le fichier de configuration suivant /etc/dovecot/conf.d/90-plugin.conf et ajouter les lignes nécessaires pour qu’il ressemble à ceci :\n\n## ## Plugin settings ## # All wanted plugins must be listed in mail_plugins setting before any of the # settings take effect. See <doc/wiki/Plugins.txt> for list of plugins and # their configuration. Note that %variable expansion is done for all values. plugin { #setting_name = value fts = solr fts_solr = break-imap-search url=http://localhost:7777/solr/ }\n\nN’oubliez pas de changer le port de d’écoute de Tomcat ","html":"<p>Heureux possesseur d’un serveur de mail complet composé d’un postfix, de dovecot et d’un webmail, Horde pour ne pas le citer, je n’arrêtais cependant pas de pester contre la lenteur de la recherche dans les mails. Il faut dire que ma boite personnelle pèse maintenant plus de 4 Go … Et que mes plus anciens mails ont été reçus en 2010.</p>\n\n<p>Par défaut lorsque Dovecot reçoit une requête IMAP lui demandant de rechercher des termes dans une boite mail, il scanne tous les mails de la boite ou du compte en fonction de ce que l’on a demandé. On imagine donc parfaitement que cela peut prendre du temps lorsqu’on a une boite mail bien garnie …  </p>\n\n<p>J’ai donc trouvé une solution : Solr. Il s’agit d’un moteur d’indexation écrit en Java développé par « The Apache Software Fundation ». Il nécessite un serveur Tomcat, ce qui, de prime abord m’a plutôt refroidi, mais ça vaut le coup, je vous le garanti ! Une fois configuré, Solr va fournir une indexation full text des mails que Dovecot va pouvoir interroger directement. Si par malheur, Solr n’était pas disponible, Dovecot ne s’acharne pas, il prendra son courage à deux mains et reprendra ses propres recherches laborieuses.</p>\n\n<h2 id=\"installationdesolrsurubuntu\">Installation de Solr sur Ubuntu</h2>\n\n<p>Je pars du principe que vous avez déjà installé votre Tomcat, qu’il est fonctionnel et que vous connaissez le port sur lequel il répond.</p>\n\n<h4 id=\"lepluginpourdovecot\">Le plugin pour dovecot</h4>\n\n<p>Il va falloir un plugin à Dovecot pour pouvoir tirer profit de Solr. Il existe un package sur Ubuntu qui propose directement le plugin nécessaire à Dovecot pour interroger Solr.</p>\n\n<p>aptitude install dovecot-solr</p>\n\n<h4 id=\"installationdesolr\">Installation de Solr</h4>\n\n<p>Comme je suis un gros flemmard, j’ai utilisé la version de Solr packagée avec Ubuntu, pour l’installer, il suffit de passer la commande suivante :</p>\n\n<p>aptitude install libsolr-java solr-common solr-tomcat</p>\n\n<h3 id=\"etmaintenantlaconfiguration\"> Et maintenant, la configuration !</h3>\n\n<h4 id=\"ductdetomcatetsolr\">Du côté de Tomcat et Solr</h4>\n\n<p>Éditez le fichier : /etc/solr/conf/schema.xml afin qu’il ressemble à ceci :</p>\n\n<p><?xml version=\"1.0\" encoding=\"UTF-8\" ?> <!-- For fts-solr: This is the Solr schema file, place it into solr/conf/schema.xml. You may want to modify the tokenizers and filters. --> <schema name=\"dovecot\" version=\"1.4\"> <types> <!-- IMAP has 32bit unsigned ints but java ints are signed, so use longs --> <fieldType name=\"string\" class=\"solr.StrField\" omitNorms=\"true\"/> <fieldType name=\"long\" class=\"solr.LongField\" omitNorms=\"true\"/> <fieldType name=\"slong\" class=\"solr.SortableLongField\" omitNorms=\"true\"/> <fieldType name=\"float\" class=\"solr.FloatField\" omitNorms=\"true\"/> <fieldType name=\"boolean\" class=\"solr.BoolField\" omitNorms=\"true\"/> <fieldType name=\"text\" class=\"solr.TextField\" positionIncrementGap=\"100\"> <analyzer type=\"index\"> <tokenizer class=\"solr.WhitespaceTokenizerFactory\"/> <filter class=\"solr.StopFilterFactory\" ignoreCase=\"true\" words=\"stopwords.txt\"/> <filter class=\"solr.WordDelimiterFilterFactory\" generateWordParts=\"1\" generateNumberParts=\"1\" catenateWords=\"1\" catenateNumbers=\"1\" catenateAll=\"0\"/> <filter class=\"solr.LowerCaseFilterFactory\"/> <filter class=\"solr.EnglishPorterFilterFactory\" protected=\"protwords.txt\"/> <filter class=\"solr.RemoveDuplicatesTokenFilterFactory\"/> </analyzer> <analyzer type=\"query\"> <tokenizer class=\"solr.WhitespaceTokenizerFactory\"/> <filter class=\"solr.SynonymFilterFactory\" synonyms=\"synonyms.txt\" ignoreCase=\"true\" expand=\"true\"/> <filter class=\"solr.StopFilterFactory\" ignoreCase=\"true\" words=\"stopwords.txt\"/> <filter class=\"solr.WordDelimiterFilterFactory\" generateWordParts=\"1\" generateNumberParts=\"1\" catenateWords=\"0\" catenateNumbers=\"0\" catenateAll=\"0\"/> <filter class=\"solr.LowerCaseFilterFactory\"/> <filter class=\"solr.EnglishPorterFilterFactory\" protected=\"protwords.txt\"/> <filter class=\"solr.RemoveDuplicatesTokenFilterFactory\"/> </analyzer> </fieldType> </types> <fields> <field name=\"id\" type=\"string\" indexed=\"true\" stored=\"true\" required=\"true\" /> <field name=\"uid\" type=\"slong\" indexed=\"true\" stored=\"true\" required=\"true\" /> <field name=\"box\" type=\"string\" indexed=\"true\" stored=\"true\" required=\"true\" /> <field name=\"user\" type=\"string\" indexed=\"true\" stored=\"true\" required=\"true\" /> <field name=\"hdr\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"body\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"from\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"to\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"cc\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"bcc\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"subject\" type=\"text\" indexed=\"true\" stored=\"false\" /> </fields> <uniqueKey>id</uniqueKey> <defaultSearchField>body</defaultSearchField> <solrQueryParser defaultOperator=\"AND\" /> </schema></p>\n\n<p>Ceci explique à Solr comment indexer les mail.</p>\n\n<p>Il faut ensuite ajouter les deux lignes suivantes dans votre contrab, car par défaut, Dovecot de ne fait que des « soft commits » dans Solr. Il faut forcer régulièrement un « hard commit » sinon Solr n’arrête pas de faire grossir ses logs de transactions …</p>\n\n<ul>\n<li><ul><li><ul><li><ul><li><ul><li><p>curl <a href=\"http://localhost:7777/solr/update?commit=true\">http://localhost:7777/solr/update?commit=true</a> >> /dev/null 0 0 * * * curl <a href=\"http://localhost:7777/solr/update?optimize=true\">http://localhost:7777/solr/update?optimize=true</a> >> /dev/null</p></li></ul></li></ul></li></ul></li></ul></li>\n</ul>\n\n<p>Et pour finir :</p>\n\n<p>service tomcat6 restart</p>\n\n<h4 id=\"ductdedovecot\"> Du côté de Dovecot</h4>\n\n<p>Editez le fichier de configuration suivant /etc/dovecot/conf.d/90-plugin.conf et ajouter les lignes nécessaires pour qu’il ressemble à ceci :</p>\n\n<h2 id=\"pluginsettingsallwantedpluginsmustbelistedinmail_pluginssettingbeforeanyofthesettingstakeeffectseedocwikipluginstxtforlistofpluginsandtheirconfigurationnotethatvariableexpansionisdoneforallvaluespluginsetting_namevalueftssolrfts_solrbreakimapsearchurlhttplocalhost7777solr\">## Plugin settings ## # All wanted plugins must be listed in mail<em>plugins setting before any of the # settings take effect. See <doc/wiki/Plugins.txt> for list of plugins and # their configuration. Note that %variable expansion is done for all values. plugin { #setting</em>name = value fts = solr fts_solr = break-imap-search url=<a href=\"http://localhost:7777/solr/\">http://localhost:7777/solr/</a> }</h2>\n\n<p>N’oubliez pas de changer le port de d’écoute de Tomcat ","image":"https://techan.fr/images/2015/01/solr_logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-26T10:32:40.000Z","created_by":1,"updated_at":"2015-01-25T19:42:30.000Z","updated_by":1,"published_at":"2015-01-26T10:32:40.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":90,"uuid":"13daab09-296d-4e6a-8e23-6880962daefb","title":"Justifier tous les articles dans WordPress","slug":"justifier-tous-les-articles-dans-wordpress","markdown":"\nPar défaut WordPress justifie le texte sur la gauche, ce qui peut rendre l’affichage des paragraphes longs – même les courts d’ailleurs – très, très moche … Et si comme moi, vous n’avez pas pensé à justifier le texte dans vos articles depuis le début de votre blog, il devient vite fastidieux d’éditer tous les posts, sélectionner le texte et cliquer sur le bouton « Justifier » ([![Justifier tous les articles dans WordPress](https://techan.fr/images/2015/01/justifier.png)](https://techan.fr/images/2015/01/justifier.png)). En tout cas, moi j’ai la flemme ","html":"<p>Par défaut WordPress justifie le texte sur la gauche, ce qui peut rendre l’affichage des paragraphes longs – même les courts d’ailleurs – très, très moche … Et si comme moi, vous n’avez pas pensé à justifier le texte dans vos articles depuis le début de votre blog, il devient vite fastidieux d’éditer tous les posts, sélectionner le texte et cliquer sur le bouton « Justifier » (<a href=\"https://techan.fr/images/2015/01/justifier.png\"><img src=\"https://techan.fr/images/2015/01/justifier.png\" alt=\"Justifier tous les articles dans WordPress\" title=\"\" /></a>). En tout cas, moi j’ai la flemme ","image":"https://techan.fr/images/2015/01/wordpress-logo-stacked-rgb_petit.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-27T10:30:13.000Z","created_by":1,"updated_at":"2015-01-27T11:33:49.000Z","updated_by":1,"published_at":"2015-01-27T10:30:13.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":91,"uuid":"d4be2113-a0eb-4648-a066-7301f01851d8","title":"Gérer les tablespaces et les datafiles","slug":"gerer-les-tablespaces-et-les-datafiles","markdown":"\n\n## A propos des tablespaces et des datafiles\n\nLes tablespaces sont la plus grosse unité de stockage logicielle d’Oracle, un tablespace est composé d’un ou plusieurs datafile.\n\nUn datafile est un fichier physique, visible sur le file system de la machine hôte, il ne peut appartenir qu’à un et un seul tablespace. Il s’agit d’un fichier spécial dont le contenu n’est pas lisible, il est « formaté » par Oracle.\n\n**<span style=\"text-decoration: underline;\">Attention :</span>**<span style=\"text-decoration: underline;\">Vous ne pouvez ni ne devez</span> compresser, ziper, gziper un datafile. Si vous le faites toutes les données qu’il contient seront perdues !\n\nUn tablespace Oracle peut être dédié à un utilisateur qui peut y stocker tout ou partie de ses données.\n\nA l’intérieur d’un datafile, les objets sont stockés dans des « segments » et des « extents ». Les « extents » sont logiques et composés de « segments » physiques, dans ces « segment », on trouve des blocks. Les blocks sont la plus petites unité de stockage dans une base Oracle, leur taille est fixe et spécifiée lors de la création de la base, **<span style=\"text-decoration: underline;\">elle ne peut être changé sans recréer la base</span>** (leur taille par défaut est 8 Ko).\n\n\n## Les vues utiles pour gérer les tablespaces et les datafiles\n\n### dba_tablespaces\n\n[![Gérer les tablespaces et les datafiles](https://techan.fr/images/2015/01/tbs_dbf_1.png)](https://techan.fr/images/2015/01/tbs_dbf_1.png)\n\nJe vais décrire les champs les plus important dans le tableau ci-dessous :\n\n<div class=\"table-wrap\" style=\"text-align: justify;\"><table class=\"confluenceTable tablesorter\"><thead><tr class=\"sortableHeader\"><th class=\"confluenceTh sortableHeader\" data-column=\"0\"><div class=\"tablesorter-header-inner\">Champ</div></th><th class=\"confluenceTh sortableHeader\" data-column=\"1\"><div class=\"tablesorter-header-inner\">Description</div></th></tr></thead><tbody><tr><td class=\"confluenceTd\">tablespace_name</td><td class=\"confluenceTd\">Nom du tablespace</td></tr><tr><td class=\"confluenceTd\">status</td><td class=\"confluenceTd\">Peut être : Online, Offline, Read Only</td></tr></tbody></table></div>### dba_data_files\n\n[![Gérer les tablespaces et les datafiles](https://techan.fr/images/2015/01/tbs_dbf_2.png)](https://techan.fr/images/2015/01/tbs_dbf_2.png)\n\nJe vais décrire les champs les plus important dans le tableau ci-dessous :\n\n<div class=\"table-wrap\" style=\"text-align: justify;\"><table class=\"confluenceTable tablesorter\"><thead><tr class=\"sortableHeader\"><th class=\"confluenceTh sortableHeader\" data-column=\"0\"><div class=\"tablesorter-header-inner\">Champ</div></th><th class=\"confluenceTh sortableHeader\" data-column=\"1\"><div class=\"tablesorter-header-inner\">Description</div></th></tr></thead><tbody><tr><td class=\"confluenceTd\">file_name</td><td class=\"confluenceTd\">Chemin complet vers le datafile</td></tr><tr><td class=\"confluenceTd\">file_id</td><td class=\"confluenceTd\">Numéro séquentiel donné à chaque fichier, cela peut etre utile lorsque l’on utilise RMAN.</td></tr><tr><td class=\"confluenceTd\" colspan=\"1\">tablespace_name</td><td class=\"confluenceTd\" colspan=\"1\">Nom du tablespace auquel appartient le fichier</td></tr><tr><td class=\"confluenceTd\" colspan=\"1\">bytes</td><td class=\"confluenceTd\" colspan=\"1\">Taille du fichier en bytes, conversion de l’attribut « SIZE » utilisé lors de la création du fichier.</td></tr><tr><td class=\"confluenceTd\" colspan=\"1\">autoextensible</td><td class=\"confluenceTd\" colspan=\"1\">Est ce que le fichier peut être étendu automatiquement ? Si oui, Oracle va être capable d’ajouter automatiquement de l’espace à ce fichier lorsqu’il est presque plein. <span style=\"text-decoration: underline;\">**Ceci n’est pas recommandé !**</span></td></tr></tbody></table></div>\n## Créer et modifier des tablespaces\n\n### Créer un tablespace\n\nLorsque vous créer un tablespace, il faudra également créer un datafile, pas de souci, tout tient dans la même ligne ","html":"<h2 id=\"aproposdestablespacesetdesdatafiles\">A propos des tablespaces et des datafiles</h2>\n\n<p>Les tablespaces sont la plus grosse unité de stockage logicielle d’Oracle, un tablespace est composé d’un ou plusieurs datafile.</p>\n\n<p>Un datafile est un fichier physique, visible sur le file system de la machine hôte, il ne peut appartenir qu’à un et un seul tablespace. Il s’agit d’un fichier spécial dont le contenu n’est pas lisible, il est « formaté » par Oracle.</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Attention :</span></strong><span style=\"text-decoration: underline;\">Vous ne pouvez ni ne devez</span> compresser, ziper, gziper un datafile. Si vous le faites toutes les données qu’il contient seront perdues !</p>\n\n<p>Un tablespace Oracle peut être dédié à un utilisateur qui peut y stocker tout ou partie de ses données.</p>\n\n<p>A l’intérieur d’un datafile, les objets sont stockés dans des « segments » et des « extents ». Les « extents » sont logiques et composés de « segments » physiques, dans ces « segment », on trouve des blocks. Les blocks sont la plus petites unité de stockage dans une base Oracle, leur taille est fixe et spécifiée lors de la création de la base, <strong><span style=\"text-decoration: underline;\">elle ne peut être changé sans recréer la base</span></strong> (leur taille par défaut est 8 Ko).</p>\n\n<h2 id=\"lesvuesutilespourgrerlestablespacesetlesdatafiles\">Les vues utiles pour gérer les tablespaces et les datafiles</h2>\n\n<h3 id=\"dba_tablespaces\">dba_tablespaces</h3>\n\n<p><a href=\"https://techan.fr/images/2015/01/tbs_dbf_1.png\"><img src=\"https://techan.fr/images/2015/01/tbs_dbf_1.png\" alt=\"Gérer les tablespaces et les datafiles\" title=\"\" /></a></p>\n\n<p>Je vais décrire les champs les plus important dans le tableau ci-dessous :</p>\n\n<div class=\"table-wrap\" style=\"text-align: justify;\"><table class=\"confluenceTable tablesorter\"><thead><tr class=\"sortableHeader\"><th class=\"confluenceTh sortableHeader\" data-column=\"0\"><div class=\"tablesorter-header-inner\">Champ</div></th><th class=\"confluenceTh sortableHeader\" data-column=\"1\"><div class=\"tablesorter-header-inner\">Description</div></th></tr></thead><tbody><tr><td class=\"confluenceTd\">tablespace_name</td><td class=\"confluenceTd\">Nom du tablespace</td></tr><tr><td class=\"confluenceTd\">status</td><td class=\"confluenceTd\">Peut être : Online, Offline, Read Only</td></tr></tbody></table></div>### dba_data_files\n\n[![Gérer les tablespaces et les datafiles](https://techan.fr/images/2015/01/tbs_dbf_2.png)](https://techan.fr/images/2015/01/tbs_dbf_2.png)\n\nJe vais décrire les champs les plus important dans le tableau ci-dessous :\n\n<div class=\"table-wrap\" style=\"text-align: justify;\"><table class=\"confluenceTable tablesorter\"><thead><tr class=\"sortableHeader\"><th class=\"confluenceTh sortableHeader\" data-column=\"0\"><div class=\"tablesorter-header-inner\">Champ</div></th><th class=\"confluenceTh sortableHeader\" data-column=\"1\"><div class=\"tablesorter-header-inner\">Description</div></th></tr></thead><tbody><tr><td class=\"confluenceTd\">file_name</td><td class=\"confluenceTd\">Chemin complet vers le datafile</td></tr><tr><td class=\"confluenceTd\">file_id</td><td class=\"confluenceTd\">Numéro séquentiel donné à chaque fichier, cela peut etre utile lorsque l’on utilise RMAN.</td></tr><tr><td class=\"confluenceTd\" colspan=\"1\">tablespace_name</td><td class=\"confluenceTd\" colspan=\"1\">Nom du tablespace auquel appartient le fichier</td></tr><tr><td class=\"confluenceTd\" colspan=\"1\">bytes</td><td class=\"confluenceTd\" colspan=\"1\">Taille du fichier en bytes, conversion de l’attribut « SIZE » utilisé lors de la création du fichier.</td></tr><tr><td class=\"confluenceTd\" colspan=\"1\">autoextensible</td><td class=\"confluenceTd\" colspan=\"1\">Est ce que le fichier peut être étendu automatiquement ? Si oui, Oracle va être capable d’ajouter automatiquement de l’espace à ce fichier lorsqu’il est presque plein. <span style=\"text-decoration: underline;\">**Ceci n’est pas recommandé !**</span></td></tr></tbody></table></div>  \n\n<h2 id=\"creretmodifierdestablespaces\">Créer et modifier des tablespaces</h2>\n\n<h3 id=\"creruntablespace\">Créer un tablespace</h3>\n\n<p>Lorsque vous créer un tablespace, il faudra également créer un datafile, pas de souci, tout tient dans la même ligne ","image":"https://techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-28T10:21:42.000Z","created_by":1,"updated_at":"2015-01-27T11:42:13.000Z","updated_by":1,"published_at":"2015-01-28T10:21:42.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":92,"uuid":"e7fff16e-7df8-4e88-8867-98b0db74afc0","title":"Changer l'emplacement des données MySQL","slug":"changer-lemplacement-des-donnees-mysql","markdown":"\nPar défaut, sur Linux, MySQL stocke ses données dans le dossier /var/lib/mysql. Ce comportement peut être dangereux car dans la grande majorité des cas, le /var n’est pas sur un disque à part et donc MySQL écrit dans le /. On changer l’emplacement des données MySQL par quelques actions simple que vous trouverez ci-dessous.\n\n\n## Création du nouvel emplacement\n\nJ’ai choisi de créer un nouveau Logical Volume LVM pour héberger les data de MySQL.\n\n[root@xxxxxx ~]# pvcreate /dev/sdb Physical volume \"/dev/sdb\" successfully created [root@xxxxxx ~]# vgcreate vg_mysql /dev/sdb Volume group \"vg_mysql\" successfully created [root@xxxxxx ~]# lvcreate -n lv_mysql -l 100%VG vg_mysql Logical volume \"lv_mysql\" created [root@xxxxxx ~]# mkfs.ext4 /dev/mapper/vg_mysql-lv_mysql mke2fs 1.41.12 (17-May-2010) Étiquette de système de fichiers= Type de système d'exploitation : Linux Taille de bloc=4096 (log=2) Taille de fragment=4096 (log=2) « Stride » = 0 blocs, « Stripe width » = 0 blocs 655360 i-noeuds, 2620416 blocs 131020 blocs (5.00%) réservés pour le super utilisateur Premier bloc de données=0 Nombre maximum de blocs du système de fichiers=2684354560 80 groupes de blocs 32768 blocs par groupe, 32768 fragments par groupe 8192 i-noeuds par groupe Superblocs de secours stockés sur les blocs : 32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632 Écriture des tables d'i-noeuds : complété Création du journal (32768 blocs) : complété Écriture des superblocs et de l'information de comptabilité du système de fichiers : complété Le système de fichiers sera automatiquement vérifié tous les 26 montages ou après 180 jours, selon la première éventualité. Utiliser tune2fs -c ou -i pour écraser la valeur. [root@xxxxxx1 ~]# mkdir -p /data/mysql [root@xxxxxx ~]# vi /etc/fstab [root@xxxxxx ~]# mount /data/mysql/\n\nVoici la ligne que j’ai ajoutée dans le fichier /etc/fstab :\n\n/dev/mapper/vg_mysql-lv_mysql /data/mysql ext4 defaults 1 2\n\nJ’ai donc un tout nouveau file system de 10 Go rien que pour MySQL.\n\n\n## Configurer MySQL et migrer les données\n\nTout d’abord, on arrête MySQL.\n\n[root@xxxxxx ~]# service mysqld stop Arrêt de mysqld : [ OK ]\n\nOn passe ensuite à la configuration.\n\n[root@xxxxxx ~]# vi /etc/my.cnf [mysqld] datadir=/data/mysql socket=/var/lib/mysql/mysql.sock user=mysql # Disabling symbolic-links is recommended to prevent assorted security risks symbolic-links=0 [mysqld_safe] log-error=/var/log/mysqld.log pid-file=/var/run/mysqld/mysqld.pid\n\nVous avez compris, dans le fichier /etc/my.cnf, il faut changer la ligne « datadir ».\n\nOn prépare la nouvelle destination et on copie les données existantes.\n\n[root@xxxxxx ~]# rm -rf /data/mysql/lost+found/ [root@xxxxxx ~]# chown -R mysql: /data/mysql/ [root@xxxxxx ~]# cp -rp /var/lib/mysql/* /data/mysql/ [root@xxxxxx ~]# mv /var/lib/mysql{,.moved}\n\nEnfin, on redémarre MySQL ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n[root@xxxxxx ~]# service mysqld start Démarrage de mysqld : [ OK ]\n\n\n","html":"<p>Par défaut, sur Linux, MySQL stocke ses données dans le dossier /var/lib/mysql. Ce comportement peut être dangereux car dans la grande majorité des cas, le /var n’est pas sur un disque à part et donc MySQL écrit dans le /. On changer l’emplacement des données MySQL par quelques actions simple que vous trouverez ci-dessous.</p>\n\n<h2 id=\"crationdunouvelemplacement\">Création du nouvel emplacement</h2>\n\n<p>J’ai choisi de créer un nouveau Logical Volume LVM pour héberger les data de MySQL.</p>\n\n<p>[root@xxxxxx ~]# pvcreate /dev/sdb Physical volume \"/dev/sdb\" successfully created [root@xxxxxx ~]# vgcreate vg<em>mysql /dev/sdb Volume group \"vg</em>mysql\" successfully created [root@xxxxxx ~]# lvcreate -n lv<em>mysql -l 100%VG vg</em>mysql Logical volume \"lv<em>mysql\" created [root@xxxxxx ~]# mkfs.ext4 /dev/mapper/vg</em>mysql-lv_mysql mke2fs 1.41.12 (17-May-2010) Étiquette de système de fichiers= Type de système d'exploitation : Linux Taille de bloc=4096 (log=2) Taille de fragment=4096 (log=2) « Stride » = 0 blocs, « Stripe width » = 0 blocs 655360 i-noeuds, 2620416 blocs 131020 blocs (5.00%) réservés pour le super utilisateur Premier bloc de données=0 Nombre maximum de blocs du système de fichiers=2684354560 80 groupes de blocs 32768 blocs par groupe, 32768 fragments par groupe 8192 i-noeuds par groupe Superblocs de secours stockés sur les blocs : 32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632 Écriture des tables d'i-noeuds : complété Création du journal (32768 blocs) : complété Écriture des superblocs et de l'information de comptabilité du système de fichiers : complété Le système de fichiers sera automatiquement vérifié tous les 26 montages ou après 180 jours, selon la première éventualité. Utiliser tune2fs -c ou -i pour écraser la valeur. [root@xxxxxx1 ~]# mkdir -p /data/mysql [root@xxxxxx ~]# vi /etc/fstab [root@xxxxxx ~]# mount /data/mysql/</p>\n\n<p>Voici la ligne que j’ai ajoutée dans le fichier /etc/fstab :</p>\n\n<p>/dev/mapper/vg<em>mysql-lv</em>mysql /data/mysql ext4 defaults 1 2</p>\n\n<p>J’ai donc un tout nouveau file system de 10 Go rien que pour MySQL.</p>\n\n<h2 id=\"configurermysqletmigrerlesdonnes\">Configurer MySQL et migrer les données</h2>\n\n<p>Tout d’abord, on arrête MySQL.</p>\n\n<p>[root@xxxxxx ~]# service mysqld stop Arrêt de mysqld : [ OK ]</p>\n\n<p>On passe ensuite à la configuration.</p>\n\n<p>[root@xxxxxx ~]# vi /etc/my.cnf [mysqld] datadir=/data/mysql socket=/var/lib/mysql/mysql.sock user=mysql # Disabling symbolic-links is recommended to prevent assorted security risks symbolic-links=0 [mysqld_safe] log-error=/var/log/mysqld.log pid-file=/var/run/mysqld/mysqld.pid</p>\n\n<p>Vous avez compris, dans le fichier /etc/my.cnf, il faut changer la ligne « datadir ».</p>\n\n<p>On prépare la nouvelle destination et on copie les données existantes.</p>\n\n<p>[root@xxxxxx ~]# rm -rf /data/mysql/lost+found/ [root@xxxxxx ~]# chown -R mysql: /data/mysql/ [root@xxxxxx ~]# cp -rp /var/lib/mysql/* /data/mysql/ [root@xxxxxx ~]# mv /var/lib/mysql{,.moved}</p>\n\n<p>Enfin, on redémarre MySQL <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>[root@xxxxxx ~]# service mysqld start Démarrage de mysqld : [ OK ]</p>","image":"https://techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-28T12:52:37.000Z","created_by":1,"updated_at":"2015-01-28T12:52:37.000Z","updated_by":1,"published_at":"2015-01-28T12:52:37.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":93,"uuid":"d3ff1629-f60e-47f6-a83e-a1b0aea13bbf","title":"Activer les Huge Pages pour Oracle","slug":"activer-les-huge-pages-pour-oracle","markdown":"\nPar défaut sur Linux, le pages mémoires allouées par le système ont une taille de 4 Ko. Les huge pages elles ont une taille de 2 Mo, vous allez me dire que c’est cool mais à quoi ça nous sert ? Et bien sur les instances qui ont beaucoup de mémoire (on va dire plus de 10 Go), utiliser les huge pages a un réel intérêt car avec les petites pages, Oracle va faire beaucoup de CPU pour passer d’une page à l’autre alors qu’avec les huge pages bien plus grosses, ce comportement sera bien moins impactant !\n\n\n## Les Huges Pages et les Transparent Huge Pages\n\nLes Huges Pages existent depuis assez longtemps sur RedHat (depuis les débuts du noyau 2.6) mais les Transparent Huge Pages elles ont été ajoutées dans RedHat 7. La différence entre ces deux là est que les Huge Pages doivent être configurées, on dit au système combien de Huge Pages il doit créer et il les crée lors de son démarrage. Si on veut en rajouter ou en enlever, il faut alors rebooter pour que cela soit effectif. Les Transparent Huge Pages sont elles allouées à la volée, dynamiquement par le système. Ces Transparent Huge Pages sont déconseillées car contrairement aux Huge Pages, elles sont swappables et Oracle déteste être swappé !\n\n#### Détecter si les Huges Pages et/ou les Transparent Huges Pages sont activées\n\n[root@xxxxxx ~]# cat /proc/meminfo | grep -i huge AnonHugePages: 1054720 kB HugePages_Total: 0 HugePages_Free: 0 HugePages_Rsvd: 0 HugePages_Surp: 0 Hugepagesize: 2048 kB\n\nLe résultat de cette commande nous apprend que les Huge Pages ne sont pas activées sur ce système car le « HugePages_Total » est à zéro cependant, les Transparent Huge Pages sont activées car le « AnonHugePages » n’est pas égal à zéro. On peut également vérifier la présence des Transparent Huge Pages en regardant si le daemon « khugepaged » est présent sur le système.\n\n[root@xxxxxx ~]# ps -ef |grep huge root 60 2 0 2013 ? 00:01:19 [khugepaged] root 18586 18556 0 09:02 pts/1 00:00:00 grep huge\n\n####  Désactiver les Transparent Huge Pages\n\nPour désactiver les Transparent Huge Pages, il faut passer un paramètre supplémentaire au noyau du Linux. Cela se fait dans le fichier de configuration du lanceur (Grub de nos jours). Cette option est : « transparent_hugepage=never ».\n\n[root@xxxxxx ~]# cat /boot/grub/grub.conf default=0 timeout=5 splashimage=(hd0,0)/grub/splash.xpm.gz hiddenmenu title Oracle Linux Server (3.8.13-26.2.1.el6uek.x86_64) root (hd0,0) kernel /vmlinuz-3.8.13-26.2.1.el6uek.x86_64 ro root=/dev/mapper/VolGroupSystem-LogVolRacine rd_NO_LUKS rd_LVM_LV=VolGroupSystem/LogVolSwap rd_LVM_LV=VolGroupSystem/LogVolRacine rd_NO_MD LANG=fr_FR.UTF-8 SYSFONT=latarcyrheb-sun16 KEYBOARDTYPE=pc KEYTABLE=fr-latin9 rd_NO_DM rhgb quiet numa=off transparent_hugepage=never initrd /initramfs-3.8.13-26.2.1.el6uek.x86_64.img\n\nLes modifications seront effectives au prochain reboot sur ce noyau.\n\n**<span style=\"text-decoration: underline;\">Attention :</span>** En cas de mise à jour du système, il se peut qu’un nouveau noyau soit ajouté, il faudra penser a refaire cette manipulation.\n\n\n## Activer les Huge Pages pour Oracle\n\n#### Désactiver la gestion automatique de la mémoire\n\nLa gestion automatique de la mémoire est disponible depuis la version 11g d’Oracle, elle permet de ne plus avoir a gérer les différentes zones de la mémoire d’Oracle (SGA et PGA). On donne un total de mémoire a utiliser et Oracle coupe et redimensionne ses zones en fonction de ses besoins. Ce comportement n’est pas compatible avec les Huge Pages.\n\nPour désactiver l’AMM, il faut revenir au comportement qu’avait Oracle en 10g, c’est à dire :\n\n- Mettre les paramètres « memory_target » et « memory_max_target » à 0 pour les désactiver\n- Renseigner les paramètres liés à la SGA et à la PGA : - Pour la SGA : « sga_target » et « sga_max_size »\n- Pour la PGA : « pga_target » et « pga_aggregate_target »\n\nCes paramètres ne sont appliqués qu’une fois que la base aura redémarrée.\n\n#### Calculer le nombre de Huge Pages a créer\n\n[root@xxxxxx ~]# cat /proc/meminfo MemTotal: 6125356 kB MemFree: 134556 kB\n\nLa machine dispose de 6 Go de mémoire totale, nous allons allouer 5 Go de mémoire aux HugePages.\n\nDans le fichier /etc/security/limits.conf, positionner les paramètres suivant :\n\n* soft memlock 5242880 * hard memlock 5242880\n\nSe reconnecter en temps qu’oracle pour vérifier la modification du paramètre via la commande :\n\nulimit –l\n\nCalculons le nombre de de HugePages qui seront nécessaires à Oracle, le script utilisé est fourni par Oracle, vous le trouverez en vous connectant à au site [http://support.oracle.com](http://support.oracle.com), dans le Doc : « Doc ID 401749.1 ».\n\nRecommended setting: vm.nr_hugepages = 1538\n\nVérifions que le paramètres des Huge Pages n’est pas déjà défini sur le système.\n\n[root@CNSDAO11 ~]# grep \"vm.nr_hugepages\" /etc/sysctl.conf\n\nLe paramètre « vm.nr_hugepages » n’est pas positionné sur ce système. Ajouter la ligne suivante dans le fichier « /etc/sysctl.conf ».\n\nvm.nr_hugepages = 1538\n\nIl ne reste plus qu’a redémarrer la machine et Oracle utilisera les Huge Pages ","html":"<p>Par défaut sur Linux, le pages mémoires allouées par le système ont une taille de 4 Ko. Les huge pages elles ont une taille de 2 Mo, vous allez me dire que c’est cool mais à quoi ça nous sert ? Et bien sur les instances qui ont beaucoup de mémoire (on va dire plus de 10 Go), utiliser les huge pages a un réel intérêt car avec les petites pages, Oracle va faire beaucoup de CPU pour passer d’une page à l’autre alors qu’avec les huge pages bien plus grosses, ce comportement sera bien moins impactant !</p>\n\n<h2 id=\"leshugespagesetlestransparenthugepages\">Les Huges Pages et les Transparent Huge Pages</h2>\n\n<p>Les Huges Pages existent depuis assez longtemps sur RedHat (depuis les débuts du noyau 2.6) mais les Transparent Huge Pages elles ont été ajoutées dans RedHat 7. La différence entre ces deux là est que les Huge Pages doivent être configurées, on dit au système combien de Huge Pages il doit créer et il les crée lors de son démarrage. Si on veut en rajouter ou en enlever, il faut alors rebooter pour que cela soit effectif. Les Transparent Huge Pages sont elles allouées à la volée, dynamiquement par le système. Ces Transparent Huge Pages sont déconseillées car contrairement aux Huge Pages, elles sont swappables et Oracle déteste être swappé !</p>\n\n<h4 id=\"dtectersileshugespagesetoulestransparenthugespagessontactives\">Détecter si les Huges Pages et/ou les Transparent Huges Pages sont activées</h4>\n\n<p>[root@xxxxxx ~]# cat /proc/meminfo | grep -i huge AnonHugePages: 1054720 kB HugePages<em>Total: 0 HugePages</em>Free: 0 HugePages<em>Rsvd: 0 HugePages</em>Surp: 0 Hugepagesize: 2048 kB</p>\n\n<p>Le résultat de cette commande nous apprend que les Huge Pages ne sont pas activées sur ce système car le « HugePages_Total » est à zéro cependant, les Transparent Huge Pages sont activées car le « AnonHugePages » n’est pas égal à zéro. On peut également vérifier la présence des Transparent Huge Pages en regardant si le daemon « khugepaged » est présent sur le système.</p>\n\n<p>[root@xxxxxx ~]# ps -ef |grep huge root 60 2 0 2013 ? 00:01:19 [khugepaged] root 18586 18556 0 09:02 pts/1 00:00:00 grep huge</p>\n\n<h4 id=\"dsactiverlestransparenthugepages\"> Désactiver les Transparent Huge Pages</h4>\n\n<p>Pour désactiver les Transparent Huge Pages, il faut passer un paramètre supplémentaire au noyau du Linux. Cela se fait dans le fichier de configuration du lanceur (Grub de nos jours). Cette option est : « transparent_hugepage=never ».</p>\n\n<p>[root@xxxxxx ~]# cat /boot/grub/grub.conf default=0 timeout=5 splashimage=(hd0,0)/grub/splash.xpm.gz hiddenmenu title Oracle Linux Server (3.8.13-26.2.1.el6uek.x86<em>64) root (hd0,0) kernel /vmlinuz-3.8.13-26.2.1.el6uek.x86</em>64 ro root=/dev/mapper/VolGroupSystem-LogVolRacine rd<em>NO</em>LUKS rd<em>LVM</em>LV=VolGroupSystem/LogVolSwap rd<em>LVM</em>LV=VolGroupSystem/LogVolRacine rd<em>NO</em>MD LANG=fr<em>FR.UTF-8 SYSFONT=latarcyrheb-sun16 KEYBOARDTYPE=pc KEYTABLE=fr-latin9 rd</em>NO<em>DM rhgb quiet numa=off transparent</em>hugepage=never initrd /initramfs-3.8.13-26.2.1.el6uek.x86_64.img</p>\n\n<p>Les modifications seront effectives au prochain reboot sur ce noyau.</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Attention :</span></strong> En cas de mise à jour du système, il se peut qu’un nouveau noyau soit ajouté, il faudra penser a refaire cette manipulation.</p>\n\n<h2 id=\"activerleshugepagespouroracle\">Activer les Huge Pages pour Oracle</h2>\n\n<h4 id=\"dsactiverlagestionautomatiquedelammoire\">Désactiver la gestion automatique de la mémoire</h4>\n\n<p>La gestion automatique de la mémoire est disponible depuis la version 11g d’Oracle, elle permet de ne plus avoir a gérer les différentes zones de la mémoire d’Oracle (SGA et PGA). On donne un total de mémoire a utiliser et Oracle coupe et redimensionne ses zones en fonction de ses besoins. Ce comportement n’est pas compatible avec les Huge Pages.</p>\n\n<p>Pour désactiver l’AMM, il faut revenir au comportement qu’avait Oracle en 10g, c’est à dire :</p>\n\n<ul>\n<li>Mettre les paramètres « memory<em>target » et « memory</em>max_target » à 0 pour les désactiver</li>\n<li>Renseigner les paramètres liés à la SGA et à la PGA : - Pour la SGA : « sga<em>target » et « sga</em>max_size »</li>\n<li>Pour la PGA : « pga<em>target » et « pga</em>aggregate_target »</li>\n</ul>\n\n<p>Ces paramètres ne sont appliqués qu’une fois que la base aura redémarrée.</p>\n\n<h4 id=\"calculerlenombredehugepagesacrer\">Calculer le nombre de Huge Pages a créer</h4>\n\n<p>[root@xxxxxx ~]# cat /proc/meminfo MemTotal: 6125356 kB MemFree: 134556 kB</p>\n\n<p>La machine dispose de 6 Go de mémoire totale, nous allons allouer 5 Go de mémoire aux HugePages.</p>\n\n<p>Dans le fichier /etc/security/limits.conf, positionner les paramètres suivant :</p>\n\n<ul>\n<li>soft memlock 5242880 * hard memlock 5242880</li>\n</ul>\n\n<p>Se reconnecter en temps qu’oracle pour vérifier la modification du paramètre via la commande :</p>\n\n<p>ulimit –l</p>\n\n<p>Calculons le nombre de de HugePages qui seront nécessaires à Oracle, le script utilisé est fourni par Oracle, vous le trouverez en vous connectant à au site <a href=\"http://support.oracle.com\">http://support.oracle.com</a>, dans le Doc : « Doc ID 401749.1 ».</p>\n\n<p>Recommended setting: vm.nr_hugepages = 1538</p>\n\n<p>Vérifions que le paramètres des Huge Pages n’est pas déjà défini sur le système.</p>\n\n<p>[root@CNSDAO11 ~]# grep \"vm.nr_hugepages\" /etc/sysctl.conf</p>\n\n<p>Le paramètre « vm.nr_hugepages » n’est pas positionné sur ce système. Ajouter la ligne suivante dans le fichier « /etc/sysctl.conf ».</p>\n\n<p>vm.nr_hugepages = 1538</p>\n\n<p>Il ne reste plus qu’a redémarrer la machine et Oracle utilisera les Huge Pages ","image":"https://techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-29T10:03:18.000Z","created_by":1,"updated_at":"2015-01-29T11:06:16.000Z","updated_by":1,"published_at":"2015-01-29T10:03:18.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":94,"uuid":"0ee427a3-109f-4d3e-9215-b40511356cef","title":"Ajouter automatiquement les hôtes dans les known hosts de SSH","slug":"ajouter-automatiquement-les-hotes-dans-les-known-hosts-de-ssh","markdown":"\nLorsque que l’on se connecte pour la première fois à une machine en SSH, le client demande si l’on souhaite ajouter l’hôte aux « known hosts ». En gros, il écrit la « RSA FingerPrint » dans un fichier local, ainsi SSH est sûr que l’hôte est bien celui qu’il dit être. Cependant, ça m’ennuie de devoir taper ‘yes’ à chaque fois … J’ai donc trouvé une astuce pour ajouter automatiquement les hôtes dans les known hosts de SSH.\n\n\n## L’astuce\n\nÉditez le fichier ‘~/.ssh/config’, s’il n’existe pas créez le. Ajoutez autant de blocs comme ci-dessous que nécessaire.\n\nHost 192.* StrictHostKeyChecking no\n\nDans ce cas, tous les hosts dont le nom commence par ‘sl-‘ sont acceptés automatiquement.\n\n[nagios@xxxxxx .ssh]$ ssh 192.168.0.1 Warning: Permanently added '192.168.0.1' (RSA) to the list of known hosts. [nagios@192.168.0.1 ~]$ logout Connection to 192.168.0.1 closed.\n\n \n\n \n\n\n","html":"<p>Lorsque que l’on se connecte pour la première fois à une machine en SSH, le client demande si l’on souhaite ajouter l’hôte aux « known hosts ». En gros, il écrit la « RSA FingerPrint » dans un fichier local, ainsi SSH est sûr que l’hôte est bien celui qu’il dit être. Cependant, ça m’ennuie de devoir taper ‘yes’ à chaque fois … J’ai donc trouvé une astuce pour ajouter automatiquement les hôtes dans les known hosts de SSH.</p>\n\n<h2 id=\"lastuce\">L’astuce</h2>\n\n<p>Éditez le fichier ‘~/.ssh/config’, s’il n’existe pas créez le. Ajoutez autant de blocs comme ci-dessous que nécessaire.</p>\n\n<p>Host 192.* StrictHostKeyChecking no</p>\n\n<p>Dans ce cas, tous les hosts dont le nom commence par ‘sl-‘ sont acceptés automatiquement.</p>\n\n<p>[nagios@xxxxxx .ssh]$ ssh 192.168.0.1 Warning: Permanently added '192.168.0.1' (RSA) to the list of known hosts. [nagios@192.168.0.1 ~]$ logout Connection to 192.168.0.1 closed.</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-29T17:13:04.000Z","created_by":1,"updated_at":"2015-01-29T17:16:00.000Z","updated_by":1,"published_at":"2015-01-29T17:13:04.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":95,"uuid":"c3a9c050-2e45-481b-8c7e-6b449077ad2d","title":"Configurer le chroot avec OpenSSHD","slug":"configurer-le-chroot-avec-opensshd","markdown":"\nLe but de cet article est de décrire comment configurer le chroot avec OpenSSHD. Ce mécanisme permet de « coincer » un utilisateur pouvant se connecter en SSH dans un dossier spécifique. C’est très pratique dans le monde du web pour permettre à des gens de mettre à jour leur site web hébergé sur un serveur mutualisé par exemple. Pour que cela soit possible, il faut qu’OpenSSHD soit au moins installé en version 4.  \n  \n Nous allons « chrooter » tous les users qui appartiennent au groupe « sftp ». Le groupe ‘sftp’ doit exister sur la machine :\n\n[root@xxxxxx /etc/ssh> cat /etc/group | grep sftp sftp:x:501:\n\nSi ce n’est pas le cas, le créer avec la commande :\n\n[root@xxxxxx /etc/ssh> groupadd sftp\n\n \n\n\n## Configuration du chroot\n\nEditer le fichier de configuration d’openssh-server :\n\n[root@xxxxxx /etc/ssh> vi /etc/ssh/sshd_config\n\nLes dernières lignes du fichier doivent être :\n\n# override default of no subsystems Subsystem sftp internal-sftp # These lines must appear at the *end* of sshd_config Match Group sftp ChrootDirectory /sftp_mnt/%u ForceCommand internal-sftp AllowTcpForwarding no\n\nLa ligne ChrootDirectory définie le dossier dans lequel l’utilisateur sera enfermé.\n\n- %h remplace le chemin complet vers le dossier home de l’utilisateur.\n- %u sera remplacé par le nom de l’utilisateur.\n\n \n\n<span style=\"text-decoration: underline;\">Note :</span> La configuration actuelle va donc emprisonner les utilisateurs dans un dossier portant leur nom, placé sous le dossier /sftp_mnt.\n\nIl faut maintenant créer le dossier /sftp_mnt, puis lui donner les droits :\n\n[root@xxxxxx /etc/ssh> chown root: /sftp [root@xxxxxx /etc/ssh> chown 755 /sftp\n\n \n\nUne fois la configuration sauvée, il faut redémarrer le daemon SSHD :\n\n[root@xxxxxx/etc/ssh> service sshd restart Stopping sshd: [ OK ] Starting sshd: [ OK ]\n\nLes utilisateurs devant être chrootés doivent appartenir au groupe ‘sftp’.\n\nSi l’utilisateur existe déjà :\n\n[root@xxxxxx /etc/ssh> usermod -aG sftp usftp [root@xxxxxx /etc/ssh> id usftp uid=2890(usftp) gid=501(sftp) groups=501(sftp)\n\n \n\nLe dossier dans lequel va être enfermé l’utilisateur et les dossiers au-dessus de ce dernier doivent impérativement appartenir à root:root :\n\n[root@xxxxxx/app> chown root: /sftp/<nom_utilisateur> [root@xxxxxx/app> ls -lrt | grep <nom_utilisateur> drwxr-xr-x 12 root root 1024 Apr 29 14:33 <nom_utilisateur>\n\nPour que les autres utilisateurs puissent ‘descendre’ dans l’arborescence chrootée, il faut positionner les droits : 755\n\n[root@xxxxxx/app> chown 755 /sftp/<nom_utilisateur>\n\n \n\n<span style=\"text-decoration: underline;\">Note :</span> A partir du moment où la configuration du serveur SSH a été rechargée et qu’un utilisateur a été ajouté dans le groupe sftp. Il ne lui sera plus possible de se connecter en SSH. Le compte ne sera plus non plus accessible par la commande su.\n\nIl ne pourra plus faire que du sftp avec ce serveur.\n\n \n\n\n","html":"<p>Le but de cet article est de décrire comment configurer le chroot avec OpenSSHD. Ce mécanisme permet de « coincer » un utilisateur pouvant se connecter en SSH dans un dossier spécifique. C’est très pratique dans le monde du web pour permettre à des gens de mettre à jour leur site web hébergé sur un serveur mutualisé par exemple. Pour que cela soit possible, il faut qu’OpenSSHD soit au moins installé en version 4.  </p>\n\n<p>Nous allons « chrooter » tous les users qui appartiennent au groupe « sftp ». Le groupe ‘sftp’ doit exister sur la machine :</p>\n\n<p>[root@xxxxxx /etc/ssh> cat /etc/group | grep sftp sftp:x:501:</p>\n\n<p>Si ce n’est pas le cas, le créer avec la commande :</p>\n\n<p>[root@xxxxxx /etc/ssh> groupadd sftp</p>\n\n<h2 id=\"configurationduchroot\">Configuration du chroot</h2>\n\n<p>Editer le fichier de configuration d’openssh-server :</p>\n\n<p>[root@xxxxxx /etc/ssh> vi /etc/ssh/sshd_config</p>\n\n<p>Les dernières lignes du fichier doivent être :</p>\n\n<h1 id=\"overridedefaultofnosubsystemssubsystemsftpinternalsftptheselinesmustappearattheendofsshd_configmatchgroupsftpchrootdirectorysftp_mntuforcecommandinternalsftpallowtcpforwardingno\">override default of no subsystems Subsystem sftp internal-sftp # These lines must appear at the <em>end</em> of sshd<em>config Match Group sftp ChrootDirectory /sftp</em>mnt/%u ForceCommand internal-sftp AllowTcpForwarding no</h1>\n\n<p>La ligne ChrootDirectory définie le dossier dans lequel l’utilisateur sera enfermé.</p>\n\n<ul>\n<li>%h remplace le chemin complet vers le dossier home de l’utilisateur.</li>\n<li><p>%u sera remplacé par le nom de l’utilisateur.</p></li>\n</ul>\n\n<p><span style=\"text-decoration: underline;\">Note :</span> La configuration actuelle va donc emprisonner les utilisateurs dans un dossier portant leur nom, placé sous le dossier /sftp_mnt.</p>\n\n<p>Il faut maintenant créer le dossier /sftp_mnt, puis lui donner les droits :</p>\n\n<p>[root@xxxxxx /etc/ssh> chown root: /sftp [root@xxxxxx /etc/ssh> chown 755 /sftp</p>\n\n<p>Une fois la configuration sauvée, il faut redémarrer le daemon SSHD :</p>\n\n<p>[root@xxxxxx/etc/ssh> service sshd restart Stopping sshd: [ OK ] Starting sshd: [ OK ]</p>\n\n<p>Les utilisateurs devant être chrootés doivent appartenir au groupe ‘sftp’.</p>\n\n<p>Si l’utilisateur existe déjà :</p>\n\n<p>[root@xxxxxx /etc/ssh> usermod -aG sftp usftp [root@xxxxxx /etc/ssh> id usftp uid=2890(usftp) gid=501(sftp) groups=501(sftp)</p>\n\n<p>Le dossier dans lequel va être enfermé l’utilisateur et les dossiers au-dessus de ce dernier doivent impérativement appartenir à root:root :</p>\n\n<p>[root@xxxxxx/app> chown root: /sftp/<nom_utilisateur> [root@xxxxxx/app> ls -lrt | grep <nom_utilisateur> drwxr-xr-x 12 root root 1024 Apr 29 14:33 <nom_utilisateur></p>\n\n<p>Pour que les autres utilisateurs puissent ‘descendre’ dans l’arborescence chrootée, il faut positionner les droits : 755</p>\n\n<p>[root@xxxxxx/app> chown 755 /sftp/<nom_utilisateur></p>\n\n<p><span style=\"text-decoration: underline;\">Note :</span> A partir du moment où la configuration du serveur SSH a été rechargée et qu’un utilisateur a été ajouté dans le groupe sftp. Il ne lui sera plus possible de se connecter en SSH. Le compte ne sera plus non plus accessible par la commande su.</p>\n\n<p>Il ne pourra plus faire que du sftp avec ce serveur.</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-30T10:20:37.000Z","created_by":1,"updated_at":"2015-01-27T10:21:56.000Z","updated_by":1,"published_at":"2015-01-30T10:20:37.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":96,"uuid":"b6719911-d10a-47b9-9e0d-2b03898974fe","title":"Changer le moteur utilisé par une base MySQL","slug":"changer-le-moteur-utilise-par-une-base-mysql","markdown":"\nIl est parfois nécessaire de changer le moteur qu’utilise MySQL pour gérer une ou plusieurs tables. Les deux moteurs principaux sont MyISAM et InnoDB. Chacun a ses avantages et ses inconvénients et parfois, on a pas trop le choix, certaines applications utilisent une fonctionnalité d’un de ces moteurs et est donc figée sur celui-ci.  Il reste cependant possible d’en changer en cours de route, c’est ce que nous allons voir ici.\n\nJe pars du principe que l’on veut changer le moteur de toutes les tables de la base, pour ne le changer que sur une table, c’est très simple, il suffit de jouer la requête SQL à la fin de cet article juste une fois sur la table visée.\n\n\n## La table INFORMATION_SCHEMA.tables\n\n[![Changer le moteur utilisé par une base MySQL](https://techan.fr/images/2015/01/describe_information_schema_tables.png)](https://techan.fr/images/2015/01/describe_information_schema_tables.png)\n\nCette table stocke les informations liées à toutes les tables existantes dans l’instance MySQL. On y trouve notamment, les champs « table_name » et « table_schema ».\n\n- Table_name, est bizarrement le nom de la table\n- Table_schema est le nom de la base dans laquelle la table a été créée.\n\n\n## Générer le code SQL pour changer le moteur utilisé par une base MySQL\n\n La requête suivante est ce que l’on appelle du méta-SQL, un bien grand mot pour désigner une requête qui en génère d’autre. Une fois exécutée elle retourne une requête customisée par ligne de résultat qu’elle aurait normalement retournée.\n\nmysql> select concat('ALTER TABLE ', table_name, ' ENGINE = MyISAM;') from (select table_name from INFORMATION_SCHEMA.tables where TABLE_schema='xxxx') a ; +---------------------------------------------------------+ | concat('ALTER TABLE ', table_name, ' ENGINE = MyISAM;') | +---------------------------------------------------------+ | ALTER TABLE wp_commentmeta ENGINE = MyISAM; | | ALTER TABLE wp_comments ENGINE = MyISAM; | | ALTER TABLE wp_wfVulnScanners ENGINE = MyISAM; | +---------------------------------------------------------+ 36 rows in set (0.00 sec)\n\n Il suffit en suite d’exécuter les requêtes qu’elle génère et les tables passent en MyISAM.\n\nmysql> ALTER TABLE wp_commentmeta ENGINE = MyISAM; Query OK, 0 rows affected (0.03 sec) Records: 0 Duplicates: 0 Warnings: 0\n\n[![Changer le moteur utilisé par une base MySQL](https://techan.fr/images/2015/01/table_transformee_myisam.png)](https://techan.fr/images/2015/01/table_transformee_myisam.png)\n\n\n","html":"<p>Il est parfois nécessaire de changer le moteur qu’utilise MySQL pour gérer une ou plusieurs tables. Les deux moteurs principaux sont MyISAM et InnoDB. Chacun a ses avantages et ses inconvénients et parfois, on a pas trop le choix, certaines applications utilisent une fonctionnalité d’un de ces moteurs et est donc figée sur celui-ci.  Il reste cependant possible d’en changer en cours de route, c’est ce que nous allons voir ici.</p>\n\n<p>Je pars du principe que l’on veut changer le moteur de toutes les tables de la base, pour ne le changer que sur une table, c’est très simple, il suffit de jouer la requête SQL à la fin de cet article juste une fois sur la table visée.</p>\n\n<h2 id=\"latableinformation_schematables\">La table INFORMATION_SCHEMA.tables</h2>\n\n<p><a href=\"https://techan.fr/images/2015/01/describe_information_schema_tables.png\"><img src=\"https://techan.fr/images/2015/01/describe_information_schema_tables.png\" alt=\"Changer le moteur utilisé par une base MySQL\" title=\"\" /></a></p>\n\n<p>Cette table stocke les informations liées à toutes les tables existantes dans l’instance MySQL. On y trouve notamment, les champs « table<em>name » et « table</em>schema ».</p>\n\n<ul>\n<li>Table_name, est bizarrement le nom de la table</li>\n<li>Table_schema est le nom de la base dans laquelle la table a été créée.</li>\n</ul>\n\n<h2 id=\"gnrerlecodesqlpourchangerlemoteurutilisparunebasemysql\">Générer le code SQL pour changer le moteur utilisé par une base MySQL</h2>\n\n<p> La requête suivante est ce que l’on appelle du méta-SQL, un bien grand mot pour désigner une requête qui en génère d’autre. Une fois exécutée elle retourne une requête customisée par ligne de résultat qu’elle aurait normalement retournée.</p>\n\n<p>mysql> select concat('ALTER TABLE ', table<em>name, ' ENGINE = MyISAM;') from (select table</em>name from INFORMATION<em>SCHEMA.tables where TABLE</em>schema='xxxx') a ; +---------------------------------------------------------+ | concat('ALTER TABLE ', table<em>name, ' ENGINE = MyISAM;') | +---------------------------------------------------------+ | ALTER TABLE wp</em>commentmeta ENGINE = MyISAM; | | ALTER TABLE wp<em>comments ENGINE = MyISAM; | | ALTER TABLE wp</em>wfVulnScanners ENGINE = MyISAM; | +---------------------------------------------------------+ 36 rows in set (0.00 sec)</p>\n\n<p> Il suffit en suite d’exécuter les requêtes qu’elle génère et les tables passent en MyISAM.</p>\n\n<p>mysql> ALTER TABLE wp_commentmeta ENGINE = MyISAM; Query OK, 0 rows affected (0.03 sec) Records: 0 Duplicates: 0 Warnings: 0</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/table_transformee_myisam.png\"><img src=\"https://techan.fr/images/2015/01/table_transformee_myisam.png\" alt=\"Changer le moteur utilisé par une base MySQL\" title=\"\" /></a></p>","image":"https://techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-02-02T11:20:21.000Z","created_by":1,"updated_at":"2015-02-02T11:32:34.000Z","updated_by":1,"published_at":"2015-02-02T11:20:21.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":97,"uuid":"baccbae8-335e-47e7-af4b-9b45468600a0","title":"Ménage dans SRM après un test de bascule","slug":"menage-dans-srm-apres-un-test-de-bascule","markdown":"\nDans le cadre d’un exercice de Plan de Reprise d’Activité (PCA), nous avons coupé le lien réseau qui liait le site principal et le site secondaire. Les deux site se sont alors retrouvés isolés, la production continue de tourner sur le site principal et le PCA peut être déclenché sur le site secondaire car il ne voit plus son grand frère.  \n  \n Nous partons du principe que le stockage a bien été répliqué, que la bascule avec Site Recovery Manager (SRM) a bien fonctionné, que les tests sont terminés et que vous souhaitez revenir à la configuration initiale. Une fois la configuration du retour arrière mise en place, les deux sites se revoient mais pour SRM, la production est toujours sur le site de secours car le FailBack (retour arrière) n’a pas été fait. On ne souhaite pas le faire car il demande l’inversion des flux de synchronisation stockage et NAS comme si la production était réellement passée sur le site de secours.\n\nVoici la marche à suivre pour faire le ménage dans SRM après un test de bascule.\n\nTout d’abord, retirez tous les Protection Groups de vos Recovery Plans.\n\n[![Ménage dans SRM après un test de bascule](https://techan.fr/images/2015/02/screenshot.1422870859.png)](https://techan.fr/images/2015/02/screenshot.1422870859.png)\n\n<div style=\"float: left; margin-right: 10px;\"><div class=\"wp-caption aligncenter\" id=\"attachment_951\" style=\"width: 416px\">[![Ménage dans SRM après un test de bascule](https://techan.fr/images/2015/01/pg_post_bacule.png)](https://techan.fr/images/2015/01/pg_post_bacule.png)Voici à quoi devraient ressembler vos Protection Groups\n\n</div></div><div style=\"float: left;\"><div class=\"wp-caption aligncenter\" id=\"attachment_953\" style=\"width: 369px\">[![Ménage dans SRM après un test de bascule](https://techan.fr/images/2015/01/rp_post_bacule.png)](https://techan.fr/images/2015/01/rp_post_bacule.png)Et vos Recovery Plan, même s’ils peuvent ne pas être dans cet état car la capture a été prise après la suppression de quelques Protection Groups.\n\n</div></div><div style=\"clear: both;\"></div>Dans cet état là, vous allez devoir supprimer vos Protection Groups ce qui va retirer la protection de VMs qu’ils hébergent. Une fois ceci fait, vous devrez supprimer vos Recovery Plans. Vous devrez ensuite recréer vos Protections Groups comme ils étaient configurés puis protéger vos VMs.\n\nUne fois cette reconfiguration faite, vous devriez avoir un résultat propre comme celui ci-dessous les warnings en moins. J’ai de warnings car les deux VMs ont des Raw Device Mapping qui ne sont pas répliqués.\n\n<div style=\"float: left; margin-right: 10px;\">[![Ménage dans SRM après un test de bascule](https://techan.fr/images/2015/01/pg_post_menage.png)](https://techan.fr/images/2015/01/pg_post_menage.png)</div><div style=\"float: left;\">[![Ménage dans SRM après un test de bascule](https://techan.fr/images/2015/01/vm_erreur_post_menage.png)](https://techan.fr/images/2015/01/vm_erreur_post_menage.png)</div><div style=\"clear: both;\">  Ils suffit ensuite de recréer les Recovery Plans et de remettre les priorités sur les VMs comme c’était avant.</div>[![Ménage dans SRM après un test de bascule](https://techan.fr/images/2015/01/rp_post_menage.png)](https://techan.fr/images/2015/01/rp_post_menage.png)\n\nEt voilà, SRM est reparti dans le bon sens !\n\nPour les curieux, voici la KB qui m’a donné la solution, vous trouverez son le lien vers la page web dans les annexes en bas de la page.\n\n[![Ménage dans SRM après un test de bascule](https://techan.fr/images/2015/01/kb_srm_vmware.jpg)](https://techan.fr/images/2015/01/kb_srm_vmware.jpg)\n\nLiens :\n\n- [La KB VMware](https://www.vmware.com/support/srm/srm-releasenotes-5-8-0.html)\n\n\n","html":"<p>Dans le cadre d’un exercice de Plan de Reprise d’Activité (PCA), nous avons coupé le lien réseau qui liait le site principal et le site secondaire. Les deux site se sont alors retrouvés isolés, la production continue de tourner sur le site principal et le PCA peut être déclenché sur le site secondaire car il ne voit plus son grand frère.  </p>\n\n<p>Nous partons du principe que le stockage a bien été répliqué, que la bascule avec Site Recovery Manager (SRM) a bien fonctionné, que les tests sont terminés et que vous souhaitez revenir à la configuration initiale. Une fois la configuration du retour arrière mise en place, les deux sites se revoient mais pour SRM, la production est toujours sur le site de secours car le FailBack (retour arrière) n’a pas été fait. On ne souhaite pas le faire car il demande l’inversion des flux de synchronisation stockage et NAS comme si la production était réellement passée sur le site de secours.</p>\n\n<p>Voici la marche à suivre pour faire le ménage dans SRM après un test de bascule.</p>\n\n<p>Tout d’abord, retirez tous les Protection Groups de vos Recovery Plans.</p>\n\n<p><a href=\"https://techan.fr/images/2015/02/screenshot.1422870859.png\"><img src=\"https://techan.fr/images/2015/02/screenshot.1422870859.png\" alt=\"Ménage dans SRM après un test de bascule\" title=\"\" /></a></p>\n\n<p><div style=\"float: left; margin-right: 10px;\"><div class=\"wp-caption aligncenter\" id=\"attachment_951\" style=\"width: 416px\"><a href=\"https://techan.fr/images/2015/01/pg_post_bacule.png\"><img src=\"https://techan.fr/images/2015/01/pg_post_bacule.png\" alt=\"Ménage dans SRM après un test de bascule\" title=\"\" /></a>Voici à quoi devraient ressembler vos Protection Groups</p>\n\n<p></div></div><div style=\"float: left;\"><div class=\"wp-caption aligncenter\" id=\"attachment_953\" style=\"width: 369px\"><a href=\"https://techan.fr/images/2015/01/rp_post_bacule.png\"><img src=\"https://techan.fr/images/2015/01/rp_post_bacule.png\" alt=\"Ménage dans SRM après un test de bascule\" title=\"\" /></a>Et vos Recovery Plan, même s’ils peuvent ne pas être dans cet état car la capture a été prise après la suppression de quelques Protection Groups.</p>\n\n<p></div></div><div style=\"clear: both;\"></div>Dans cet état là, vous allez devoir supprimer vos Protection Groups ce qui va retirer la protection de VMs qu’ils hébergent. Une fois ceci fait, vous devrez supprimer vos Recovery Plans. Vous devrez ensuite recréer vos Protections Groups comme ils étaient configurés puis protéger vos VMs.</p>\n\n<p>Une fois cette reconfiguration faite, vous devriez avoir un résultat propre comme celui ci-dessous les warnings en moins. J’ai de warnings car les deux VMs ont des Raw Device Mapping qui ne sont pas répliqués.</p>\n\n<p><div style=\"float: left; margin-right: 10px;\"><a href=\"https://techan.fr/images/2015/01/pg_post_menage.png\"><img src=\"https://techan.fr/images/2015/01/pg_post_menage.png\" alt=\"Ménage dans SRM après un test de bascule\" title=\"\" /></a></div><div style=\"float: left;\"><a href=\"https://techan.fr/images/2015/01/vm_erreur_post_menage.png\"><img src=\"https://techan.fr/images/2015/01/vm_erreur_post_menage.png\" alt=\"Ménage dans SRM après un test de bascule\" title=\"\" /></a></div><div style=\"clear: both;\">  Ils suffit ensuite de recréer les Recovery Plans et de remettre les priorités sur les VMs comme c’était avant.</div><a href=\"https://techan.fr/images/2015/01/rp_post_menage.png\"><img src=\"https://techan.fr/images/2015/01/rp_post_menage.png\" alt=\"Ménage dans SRM après un test de bascule\" title=\"\" /></a></p>\n\n<p>Et voilà, SRM est reparti dans le bon sens !</p>\n\n<p>Pour les curieux, voici la KB qui m’a donné la solution, vous trouverez son le lien vers la page web dans les annexes en bas de la page.</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/kb_srm_vmware.jpg\"><img src=\"https://techan.fr/images/2015/01/kb_srm_vmware.jpg\" alt=\"Ménage dans SRM après un test de bascule\" title=\"\" /></a></p>\n\n<p>Liens :</p>\n\n<ul>\n<li><a href=\"https://www.vmware.com/support/srm/srm-releasenotes-5-8-0.html\">La KB VMware</a></li>\n</ul>","image":"https://techan.fr/images/2015/01/vmware_vsphere_client_high_def_icon_by_flakshack-d4o96dy.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-02-03T10:17:58.000Z","created_by":1,"updated_at":"2015-02-02T11:56:21.000Z","updated_by":1,"published_at":"2015-02-03T10:17:58.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":98,"uuid":"70a19ed6-555d-4566-a547-d2dec3211cf6","title":"Réduire la taille d'un tempfile qui a pris ses aises","slug":"reduire-la-taille-dun-tempfile-qui-a-pris-ses-aises","markdown":"\nParfois les tempfiles prennent un peu leurs aises sur leur file system, notamment s’ils sont configurés en auto extend avec une limite haute, je crois que par défaut la taille max est de 32 Go. Quand ils abusent vraiment, ils peuvent bloquer le file system à 100% et comme évidement, il est sur le même que vos data files, vous êtes coincés …\n\nVoici donc la marche à suivre pour réduire la taille de ce fichier indélicat sans en créer de nouveau et sans manipulation compliquée. Il faut par contre avoir une base en version 10g minimum …\n\n\n## Le constat\n\n[![Réduire la taille d'un tempfile qui a pris ses aises](https://techan.fr/images/2015/01/temp_file_plein_avant_reduction.png)](https://techan.fr/images/2015/01/temp_file_plein_avant_reduction.png)\n\nLe voilà ce méchant temp01.dbf qui prend toute la couette avec ses 31,3 Go … On va lui régler son compte !\n\n\n## Réduire la taille d’un tempfile qui a pris ses aises\n\nVoilà comment procéder pour réduire la taille d’un tempfile qui a explosé :\n\n[oracle@xxxxxx trace](DWH)$ sqlplus SQL*Plus: Release 11.2.0.1.0 Production on Wed Jan 28 15:42:11 2015 Copyright (c) 1982, 2009, Oracle. All rights reserved. Enter user-name: /as sysdba Connecte a : Oracle Database 11g Release 11.2.0.1.0 - 64bit Production SQL> alter tablespace TEMP shrink space keep 1G; Tablespace modifie. SQL> alter database tempfile '/u02/oradata/DWH/temp01.dbf' resize 1G; Base de donnees modifiee.\n\nJ’ai ensuite bloqué sa taille max à 10G au lieu de 32G avant.\n\nSQL> alter database tempfile '/u02/oradata/DWH/temp01.dbf' autoextend on maxsize 10G ; Base de donnees modifiee.\n\nEt voilà, le file system respire ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n[oracle@xxxxxx trace](DWH)$ df -h /u02 Sys. de fichiers Taille Uti. Disp. Uti% Monté sur /dev/mapper/VolGroup--u02-vol--u02 102G 70G 30G 71% /u02\n\n[![Réduire la taille d'un tempfile qui a pris ses aises](https://techan.fr/images/2015/01/temp_file_plein_aprest_reduction.png)](https://techan.fr/images/2015/01/temp_file_plein_aprest_reduction.png)\n\n\n","html":"<p>Parfois les tempfiles prennent un peu leurs aises sur leur file system, notamment s’ils sont configurés en auto extend avec une limite haute, je crois que par défaut la taille max est de 32 Go. Quand ils abusent vraiment, ils peuvent bloquer le file system à 100% et comme évidement, il est sur le même que vos data files, vous êtes coincés …</p>\n\n<p>Voici donc la marche à suivre pour réduire la taille de ce fichier indélicat sans en créer de nouveau et sans manipulation compliquée. Il faut par contre avoir une base en version 10g minimum …</p>\n\n<h2 id=\"leconstat\">Le constat</h2>\n\n<p><a href=\"https://techan.fr/images/2015/01/temp_file_plein_avant_reduction.png\"><img src=\"https://techan.fr/images/2015/01/temp_file_plein_avant_reduction.png\" alt=\"Réduire la taille d'un tempfile qui a pris ses aises\" title=\"\" /></a></p>\n\n<p>Le voilà ce méchant temp01.dbf qui prend toute la couette avec ses 31,3 Go … On va lui régler son compte !</p>\n\n<h2 id=\"rduirelatailleduntempfilequiaprissesaises\">Réduire la taille d’un tempfile qui a pris ses aises</h2>\n\n<p>Voilà comment procéder pour réduire la taille d’un tempfile qui a explosé :</p>\n\n<p><a href=\"DWH\">oracle@xxxxxx trace</a>$ sqlplus SQL*Plus: Release 11.2.0.1.0 Production on Wed Jan 28 15:42:11 2015 Copyright (c) 1982, 2009, Oracle. All rights reserved. Enter user-name: /as sysdba Connecte a : Oracle Database 11g Release 11.2.0.1.0 - 64bit Production SQL> alter tablespace TEMP shrink space keep 1G; Tablespace modifie. SQL> alter database tempfile '/u02/oradata/DWH/temp01.dbf' resize 1G; Base de donnees modifiee.</p>\n\n<p>J’ai ensuite bloqué sa taille max à 10G au lieu de 32G avant.</p>\n\n<p>SQL> alter database tempfile '/u02/oradata/DWH/temp01.dbf' autoextend on maxsize 10G ; Base de donnees modifiee.</p>\n\n<p>Et voilà, le file system respire <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p><a href=\"DWH\">oracle@xxxxxx trace</a>$ df -h /u02 Sys. de fichiers Taille Uti. Disp. Uti% Monté sur /dev/mapper/VolGroup--u02-vol--u02 102G 70G 30G 71% /u02</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/temp_file_plein_aprest_reduction.png\"><img src=\"https://techan.fr/images/2015/01/temp_file_plein_aprest_reduction.png\" alt=\"Réduire la taille d'un tempfile qui a pris ses aises\" title=\"\" /></a></p>","image":"https://techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-02-04T10:30:31.000Z","created_by":1,"updated_at":"2015-02-04T16:21:37.000Z","updated_by":1,"published_at":"2015-02-04T10:30:31.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":99,"uuid":"74f8acf0-494b-4eb8-b12d-a3f5232bd89a","title":"Terminer les connexions réseau avec tcpkill","slug":"terminer-les-connexions-reseau-avec-tcpkill","markdown":"\nRécemment, un charmant ressortissant d’Albion a gentiment tenté une attaque de brute force sur le présent site. Vous trouverez dans cette article les deux actions que j’ai faite afin de bannir et terminer les connexions réseau avec tcpkill et IPtables.\n\n\n## Action 1: Empêcher les nouvelles connexions\n\nPour empêcher que l’attaquant créer de nouvelles connexions, j’ai ajouté une règle dans IPtables.\n\niptables -I INPUT -s XXX.XXX.XXX.XXX -j DROP\n\nVoilà qui l’empêche d’ouvrir de nouvelles connexions, mais j’en avais encore pas mal d’actives …\n\n\n## Action2: Sortir le bazooka\n\nPour terminer les connexions restantes, j’ai trouvé la commande « tcpkill » que j’ai installé comme ceci sur Ubuntu (sur RedHat le paquet porte le même nom) :\n\naptitude install dsniff\n\nVoici un exemple d’utilisation avec une connexion SSH que j’ai ouverte pour le test. Dans un premier temps, je liste les connexions ouvertes depuis « host1 » qui est l’attaquant.\n\nroot@host2:~# netstat -anp | grep host1 tcp 0 0 host2:22 host1:39524 ESTABLISHED 16882/8\n\nEnsuite, je lance « tcpkill » pour fermer les connexion venant de « host1 » et visant mon port SSH.\n\nroot@host2:~# tcpkill host host1.domain.net and src port 22 tcpkill: listening on eth0 [host host1.domain.net and src port 22] host2.domain.net:22 > host1.domain.net:39524: R 2052257557:2052257557(0) win 0\n\nEt voilà, le ménage est fait.\n\nroot@host2:~# netstat -anp | grep host1 root@host2:~#\n\nCette commande est très flexible et permet de filtrer assez facilement les connexions a tuer et celles qu’il faut laisser vivre. Voici d’autre exemple d’utilisation.\n\n###### Tuer toutes les connexions venant de 192.168.0.100\n\ntcpkill host 192.168.0.100\n\n######  Tuer toutes les connexions sur le port FTP de l’interface eth0\n\ntcpkill -i eth0 port 21\n\n \n\n \n\n\n","html":"<p>Récemment, un charmant ressortissant d’Albion a gentiment tenté une attaque de brute force sur le présent site. Vous trouverez dans cette article les deux actions que j’ai faite afin de bannir et terminer les connexions réseau avec tcpkill et IPtables.</p>\n\n<h2 id=\"action1empcherlesnouvellesconnexions\">Action 1: Empêcher les nouvelles connexions</h2>\n\n<p>Pour empêcher que l’attaquant créer de nouvelles connexions, j’ai ajouté une règle dans IPtables.</p>\n\n<p>iptables -I INPUT -s XXX.XXX.XXX.XXX -j DROP</p>\n\n<p>Voilà qui l’empêche d’ouvrir de nouvelles connexions, mais j’en avais encore pas mal d’actives …</p>\n\n<h2 id=\"action2sortirlebazooka\">Action2: Sortir le bazooka</h2>\n\n<p>Pour terminer les connexions restantes, j’ai trouvé la commande « tcpkill » que j’ai installé comme ceci sur Ubuntu (sur RedHat le paquet porte le même nom) :</p>\n\n<p>aptitude install dsniff</p>\n\n<p>Voici un exemple d’utilisation avec une connexion SSH que j’ai ouverte pour le test. Dans un premier temps, je liste les connexions ouvertes depuis « host1 » qui est l’attaquant.</p>\n\n<p>root@host2:~# netstat -anp | grep host1 tcp 0 0 host2:22 host1:39524 ESTABLISHED 16882/8</p>\n\n<p>Ensuite, je lance « tcpkill » pour fermer les connexion venant de « host1 » et visant mon port SSH.</p>\n\n<p>root@host2:~# tcpkill host host1.domain.net and src port 22 tcpkill: listening on eth0 [host host1.domain.net and src port 22] host2.domain.net:22 > host1.domain.net:39524: R 2052257557:2052257557(0) win 0</p>\n\n<p>Et voilà, le ménage est fait.</p>\n\n<p>root@host2:~# netstat -anp | grep host1 root@host2:~#</p>\n\n<p>Cette commande est très flexible et permet de filtrer assez facilement les connexions a tuer et celles qu’il faut laisser vivre. Voici d’autre exemple d’utilisation.</p>\n\n<h6 id=\"tuertouteslesconnexionsvenantde1921680100\">Tuer toutes les connexions venant de 192.168.0.100</h6>\n\n<p>tcpkill host 192.168.0.100</p>\n\n<h6 id=\"tuertouteslesconnexionssurleportftpdelinterfaceeth0\"> Tuer toutes les connexions sur le port FTP de l’interface eth0</h6>\n\n<p>tcpkill -i eth0 port 21</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-02-04T18:37:49.000Z","created_by":1,"updated_at":"2015-02-04T18:37:49.000Z","updated_by":1,"published_at":"2015-02-04T18:37:49.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":100,"uuid":"2c8f230a-d7e6-456a-8537-a7368eb6cfba","title":"La migration la plus rapide du monde","slug":"la-migration-la-plus-rapide-du-monde","markdown":"\nJe vais vous présenter la migration la plus rapide du monde, elle est également à mon sens la plus simple du monde ! Il s’agit du passage de MySQL à MariaDB. MariaDB est un fork de MySQL créé par des anciens de MySQL qui n’ont pas apprécié le passage de MySQL dans le giron d’Oracle. Les deux SGBD sont très proches car l’équipe de MariaDB utilise le code de MySQL, qu’ils améliorent et étoffent pour faire évoluer MariaDB. MariaDB est réputée plus performante que MySQL car pas mal de bugs ont été corrigés.\n\nC’est surtout sur un coup de tête que j’ai entrepris cette migration, mais il est vrai qu’on remarque très vite que MariaDB est un peu plus réactif que MySQL !\n\n\n## La SUPER migration\n\nJ’ai fait, par acquis de conscience, un backup de mes bases MySQL avant la migration car on ne sait jamais … De plus, j’ai éteint MySQL et copié les fichiers de données pour être sûr …\n\nVoici les commandes qui permettent la migration.\n\nroot@xxxxxx:~# service mysql stop mysql stop/waiting root@xxxxxx:~# aptitude install mariadb-server\n\nEt voilà, MariaDB démarre et la migration est faite !\n\n\n","html":"<p>Je vais vous présenter la migration la plus rapide du monde, elle est également à mon sens la plus simple du monde ! Il s’agit du passage de MySQL à MariaDB. MariaDB est un fork de MySQL créé par des anciens de MySQL qui n’ont pas apprécié le passage de MySQL dans le giron d’Oracle. Les deux SGBD sont très proches car l’équipe de MariaDB utilise le code de MySQL, qu’ils améliorent et étoffent pour faire évoluer MariaDB. MariaDB est réputée plus performante que MySQL car pas mal de bugs ont été corrigés.</p>\n\n<p>C’est surtout sur un coup de tête que j’ai entrepris cette migration, mais il est vrai qu’on remarque très vite que MariaDB est un peu plus réactif que MySQL !</p>\n\n<h2 id=\"lasupermigration\">La SUPER migration</h2>\n\n<p>J’ai fait, par acquis de conscience, un backup de mes bases MySQL avant la migration car on ne sait jamais … De plus, j’ai éteint MySQL et copié les fichiers de données pour être sûr …</p>\n\n<p>Voici les commandes qui permettent la migration.</p>\n\n<p>root@xxxxxx:~# service mysql stop mysql stop/waiting root@xxxxxx:~# aptitude install mariadb-server</p>\n\n<p>Et voilà, MariaDB démarre et la migration est faite !</p>","image":"https://techan.fr/images/2015/02/mysql_to_mariadb.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-02-05T10:30:00.000Z","created_by":1,"updated_at":"2015-02-02T11:31:37.000Z","updated_by":1,"published_at":"2015-02-05T10:30:00.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":101,"uuid":"ee84c0a5-9675-45ac-97c9-0ae14bd50cd8","title":"Optimiser la consommation électrique de Linux","slug":"optimiser-la-consommation-electrique-de-linux","markdown":"\nJe suis tombé plutôt par hasard sur un outil en ligne de commande qui permet d’optimiser la consommation électrique de Linux. Il se base pour cela sur pas mal d’outils bas niveau que l’on a pas forcément l’idée de configurer par soi même. Cet utilitaire permet de gagner de l’autonomie lorsqu’on utilise un portable sur batterie mais également de réduire sa facture d’électricité quand on a une machine toujours allumée. Je suis dans ce deuxième cas.\n\nL’outil est capable de mettre les disques en veille lorsqu’ils ne sont pas utilisés, mettre les carte PCI/PCIe, les périphériques USB, la carte Wifi en veille et de baisser la fréquence du CPU tout cela dynamiquement en fonction de l’activité de la machine.\n\nCet outil s’appelle « tlp », je vous parlerai également de « powertop » qui permet de monitorer en temps réel l’utilisation de puissance électrique de la machine. TLP peut être configuré pour une utilisation sur batterie et/ou sur branché sur le courant.\n\n\n## Installation des packages\n\nyum install tlp tlp-rdw smartmontools powertop\n\nLa configuration de TLP se fait dans le fichier : /etc/default/tlp, voici les paramètres que j’ai changé dans un premier temps.\n\n#CPU_SCALING_GOVERNOR_ON_AC=ondemand -> CPU_SCALING_GOVERNOR_ON_AC=ondemand #CPU_SCALING_GOVERNOR_ON_BAT=ondemand -> CPU_SCALING_GOVERNOR_ON_BAT=ondemand SCHED_POWERSAVE_ON_AC=0 -> SCHED_POWERSAVE_ON_AC=1 DISK_DEVICES=\"sda sdb\" -> DISK_DEVICES=\"sda sdb sdc sdd\" DISK_APM_LEVEL_ON_AC=\"254 254\" -> DISK_APM_LEVEL_ON_AC=\"254 127 127 127\"\n\nEnsuite, on démarre TLP :\n\n[root@xxxxx ~]# tlp ac TLP started in ac mode.\n\nEnsuite, vous pouvez récupérer des informations avec les commandes suivantes :\n\ntlp stat powertop\n\nPar exemple, la commande « powertop » m’apprend que la fréquence de mon CPU0 est 1,7 GHz alors que la fréquence nominale du CPU est 3,3 GHz.\n\n[![Optimiser la consommation électrique de Linux](https://techan.fr/images/2015/02/screenshot.1423041272.png)](https://techan.fr/images/2015/02/screenshot.1423041272.png)\n\nLa commande « tlp stat » donne quand a elle des informations sur le système et les paramètres que tlp lui applique.\n\n[![Optimiser la consommation électrique de Linux](https://techan.fr/images/2015/02/screenshot.1423041485.png)](https://techan.fr/images/2015/02/screenshot.1423041485.png)\n\nIci , on voit les bornes de fréquences qu’impose tlp au CPU.\n\n\n","html":"<p>Je suis tombé plutôt par hasard sur un outil en ligne de commande qui permet d’optimiser la consommation électrique de Linux. Il se base pour cela sur pas mal d’outils bas niveau que l’on a pas forcément l’idée de configurer par soi même. Cet utilitaire permet de gagner de l’autonomie lorsqu’on utilise un portable sur batterie mais également de réduire sa facture d’électricité quand on a une machine toujours allumée. Je suis dans ce deuxième cas.</p>\n\n<p>L’outil est capable de mettre les disques en veille lorsqu’ils ne sont pas utilisés, mettre les carte PCI/PCIe, les périphériques USB, la carte Wifi en veille et de baisser la fréquence du CPU tout cela dynamiquement en fonction de l’activité de la machine.</p>\n\n<p>Cet outil s’appelle « tlp », je vous parlerai également de « powertop » qui permet de monitorer en temps réel l’utilisation de puissance électrique de la machine. TLP peut être configuré pour une utilisation sur batterie et/ou sur branché sur le courant.</p>\n\n<h2 id=\"installationdespackages\">Installation des packages</h2>\n\n<p>yum install tlp tlp-rdw smartmontools powertop</p>\n\n<p>La configuration de TLP se fait dans le fichier : /etc/default/tlp, voici les paramètres que j’ai changé dans un premier temps.</p>\n\n<h1 id=\"cpu_scaling_governor_on_acondemandcpu_scaling_governor_on_acondemandcpu_scaling_governor_on_batondemandcpu_scaling_governor_on_batondemandsched_powersave_on_ac0sched_powersave_on_ac1disk_devicessdasdbdisk_devicessdasdbsdcsdddisk_apm_level_on_ac254254disk_apm_level_on_ac254127127127\">CPU<em>SCALING</em>GOVERNOR<em>ON</em>AC=ondemand -> CPU<em>SCALING</em>GOVERNOR<em>ON</em>AC=ondemand #CPU<em>SCALING</em>GOVERNOR<em>ON</em>BAT=ondemand -> CPU<em>SCALING</em>GOVERNOR<em>ON</em>BAT=ondemand SCHED<em>POWERSAVE</em>ON<em>AC=0 -> SCHED</em>POWERSAVE<em>ON</em>AC=1 DISK<em>DEVICES=\"sda sdb\" -> DISK</em>DEVICES=\"sda sdb sdc sdd\" DISK<em>APM</em>LEVEL<em>ON</em>AC=\"254 254\" -> DISK<em>APM</em>LEVEL<em>ON</em>AC=\"254 127 127 127\"</h1>\n\n<p>Ensuite, on démarre TLP :</p>\n\n<p>[root@xxxxx ~]# tlp ac TLP started in ac mode.</p>\n\n<p>Ensuite, vous pouvez récupérer des informations avec les commandes suivantes :</p>\n\n<p>tlp stat powertop</p>\n\n<p>Par exemple, la commande « powertop » m’apprend que la fréquence de mon CPU0 est 1,7 GHz alors que la fréquence nominale du CPU est 3,3 GHz.</p>\n\n<p><a href=\"https://techan.fr/images/2015/02/screenshot.1423041272.png\"><img src=\"https://techan.fr/images/2015/02/screenshot.1423041272.png\" alt=\"Optimiser la consommation électrique de Linux\" title=\"\" /></a></p>\n\n<p>La commande « tlp stat » donne quand a elle des informations sur le système et les paramètres que tlp lui applique.</p>\n\n<p><a href=\"https://techan.fr/images/2015/02/screenshot.1423041485.png\"><img src=\"https://techan.fr/images/2015/02/screenshot.1423041485.png\" alt=\"Optimiser la consommation électrique de Linux\" title=\"\" /></a></p>\n\n<p>Ici , on voit les bornes de fréquences qu’impose tlp au CPU.</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-02-06T10:21:09.000Z","created_by":1,"updated_at":"2015-02-04T11:22:24.000Z","updated_by":1,"published_at":"2015-02-06T10:21:09.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":102,"uuid":"186bdedd-1499-4baf-83b0-b1bea0344a09","title":"Installer Nagios et Centreon sur Centos 6","slug":"installer-nagios-et-centreon-sur-centos-6","markdown":"\n\n## Actions préparatoires\n\n#### Désactiver SELinux\n\n[root@xxxxxx ~]# selinuxenabled [root@xxxxxx ~]# echo $? 1 [root@xxxxxx ~]#\n\n \n\n \n\nLe résultat est 1 donc SELinux n’est pas activé, si tel était le cas, voici la marche à suivre pour le désactiver.\n\n[root@xxxxxx ~]# vi /etc/sysconfig/selinux # This file controls the state of SELinux on the system. # SELINUX= can take one of these three values: # enforcing - SELinux security policy is enforced. # permissive - SELinux prints warnings instead of enforcing. # disabled - No SELinux policy is loaded. SELINUX=disabled # SELINUXTYPE= can take one of these two values: # targeted - Targeted processes are protected, # mls - Multi Level Security protection. SELINUXTYPE=targeted\n\nPasser le paramètre SELINUX à disabled\n\n \n\n#### Installation des paquets nécessaires\n\n[root@xxxxxx ~]# yum install phpMyAdmin mysql-server [...] Dépendances résolues ===================================================================================================================================================================================== Paquet Architecture Version Dépôt Taille ===================================================================================================================================================================================== Installation: mysql-server x86_64 5.1.73-3.el6_5 base 8.6 M phpMyAdmin noarch 3.5.7-1.el6.rf rpmforge 4.4 M Installation pour dépendance: httpd x86_64 2.2.15-39.el6.centos base 825 k libmcrypt x86_64 2.5.7-1.2.el6.rf rpmforge 196 k mysql x86_64 5.1.73-3.el6_5 base 894 k perl-DBD-MySQL x86_64 4.013-3.el6 base 134 k perl-DBI x86_64 1.609-4.el6 base 705 k php x86_64 5.3.3-40.el6_6 updates 1.1 M php-cli x86_64 5.3.3-40.el6_6 updates 2.2 M php-common x86_64 5.3.3-40.el6_6 updates 527 k php-gd x86_64 5.3.3-40.el6_6 updates 109 k php-mbstring x86_64 5.3.3-40.el6_6 updates 458 k php-mcrypt x86_64 5.3.3-1.el6.rf rpmforge 42 k php-mysql x86_64 5.3.3-40.el6_6 updates 84 k php-pdo x86_64 5.3.3-40.el6_6 updates 78 k Résumé de la transaction ===================================================================================================================================================================================== Installation de 15 paquet(s) Taille totale des téléchargements : 20 M Taille d'installation : 66 M Est-ce correct [o/N] :\n\nCela installe Apache, Php, MySQL et phpMyAdmin.\n\n#### Configuration de PHP\n\nDans le fichier /etc/php.ini, modifier la ligne « date.timezone ».\n\n[Date] ; Defines the default timezone used by the date functions ; http://www.php.net/manual/en/datetime.configuration.php#ini.date.timezone ;date.timezone = date.timezone = Europe/Paris\n\nPuis redémarrer Apache.\n\n[root@sxxxxxx ~]# service httpd restart Arrêt de httpd : [ OK ] Démarrage de httpd : [ OK ]\n\n \n\n\n## Passons aux choses sérieuses\n\n#### Ajouter le dépôt Cenreon\n\n wget http://yum.centreon.com/standard/3.0/stable/ces-standard.repo -O /etc/yum.repos.d/ces-standard.repo\n\nRécupérer la clef GPG du dépôt [à cette adresse](http://yum.centreon.com/standard/3.0/stable/RPM-GPG-KEY-CES) et copier son contenu dans le ficiher /etc/pki/rpm-gpg/RPM-GPG-KEY-CES.\n\n#### Installer Centreon et Nagios\n\n[root@xxxxxx ~]# yum install centreon-base-config-nagios centreon\n\n \n\n#### Configuration de Centréon\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_980\" style=\"width: 634px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422450421.png)](https://techan.fr/images/2015/01/screenshot.1422450421.png)Se rendre sur la page http://servername/centreon\n\n</div> \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_981\" style=\"width: 634px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422450430.png)](https://techan.fr/images/2015/01/screenshot.1422450430.png)Vérifier que les prérequis sont validés.\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_982\" style=\"width: 630px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422450453.png)](https://techan.fr/images/2015/01/screenshot.1422450453.png)Déplier la liste de choix.\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_983\" style=\"width: 631px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422450504.png)](https://techan.fr/images/2015/01/screenshot.1422450504.png)Choisir Nagios et valider que les chemins affichés sont bons sur le serveur.\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_984\" style=\"width: 634px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422450523.png)](https://techan.fr/images/2015/01/screenshot.1422450523.png)Cliquer sur Next.\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_986\" style=\"width: 632px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422450875.png)](https://techan.fr/images/2015/01/screenshot.1422450875.png)Configurer le compte administrateur de Centréon.\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_987\" style=\"width: 634px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422450997.png)](https://techan.fr/images/2015/01/screenshot.1422450997.png)Configurer les connexions à MySQL.\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_988\" style=\"width: 633px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422451027.png)](https://techan.fr/images/2015/01/screenshot.1422451027.png)Si comme moi vous avez cette erreur, appliquer les actions ci-dessous.\n\n</div> \n\nÉditer le fichier de configuration de MySQL et ajouter la ligne :\n\ninnodb_file_per_table=1\n\nDans la partie [mysqld].\n\nPuis redémarrer MySQL et cliquer sur Refresh dans l’installateur de Centréon.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_989\" style=\"width: 642px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422451083.png)](https://techan.fr/images/2015/01/screenshot.1422451083.png)Attendre la fin de l’installation.\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_990\" style=\"width: 635px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422451120.png)](https://techan.fr/images/2015/01/screenshot.1422451120.png)Cliquer sur Next\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_991\" style=\"width: 632px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422451133.png)](https://techan.fr/images/2015/01/screenshot.1422451133.png)Et voilà !\n\n</div> \n\n \n\nEt voilà, il ne reste plus qu’a configurer  la supervision ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n[![screenshot.1422451183](https://techan.fr/images/2015/01/screenshot.1422451183.png)](https://techan.fr/images/2015/01/screenshot.1422451183.png)\n\n \n\n\n","html":"<h2 id=\"actionsprparatoires\">Actions préparatoires</h2>\n\n<h4 id=\"dsactiverselinux\">Désactiver SELinux</h4>\n\n<p>[root@xxxxxx ~]# selinuxenabled [root@xxxxxx ~]# echo $? 1 [root@xxxxxx ~]#</p>\n\n<p>Le résultat est 1 donc SELinux n’est pas activé, si tel était le cas, voici la marche à suivre pour le désactiver.</p>\n\n<p>[root@xxxxxx ~]# vi /etc/sysconfig/selinux # This file controls the state of SELinux on the system. # SELINUX= can take one of these three values: # enforcing - SELinux security policy is enforced. # permissive - SELinux prints warnings instead of enforcing. # disabled - No SELinux policy is loaded. SELINUX=disabled # SELINUXTYPE= can take one of these two values: # targeted - Targeted processes are protected, # mls - Multi Level Security protection. SELINUXTYPE=targeted</p>\n\n<p>Passer le paramètre SELINUX à disabled</p>\n\n<h4 id=\"installationdespaquetsncessaires\">Installation des paquets nécessaires</h4>\n\n<p>[root@xxxxxx ~]# yum install phpMyAdmin mysql-server [...] Dépendances résolues ===================================================================================================================================================================================== Paquet Architecture Version Dépôt Taille ===================================================================================================================================================================================== Installation: mysql-server x86<em>64 5.1.73-3.el6</em>5 base 8.6 M phpMyAdmin noarch 3.5.7-1.el6.rf rpmforge 4.4 M Installation pour dépendance: httpd x86<em>64 2.2.15-39.el6.centos base 825 k libmcrypt x86</em>64 2.5.7-1.2.el6.rf rpmforge 196 k mysql x86<em>64 5.1.73-3.el6</em>5 base 894 k perl-DBD-MySQL x86<em>64 4.013-3.el6 base 134 k perl-DBI x86</em>64 1.609-4.el6 base 705 k php x86<em>64 5.3.3-40.el6</em>6 updates 1.1 M php-cli x86<em>64 5.3.3-40.el6</em>6 updates 2.2 M php-common x86<em>64 5.3.3-40.el6</em>6 updates 527 k php-gd x86<em>64 5.3.3-40.el6</em>6 updates 109 k php-mbstring x86<em>64 5.3.3-40.el6</em>6 updates 458 k php-mcrypt x86<em>64 5.3.3-1.el6.rf rpmforge 42 k php-mysql x86</em>64 5.3.3-40.el6<em>6 updates 84 k php-pdo x86</em>64 5.3.3-40.el6_6 updates 78 k Résumé de la transaction ===================================================================================================================================================================================== Installation de 15 paquet(s) Taille totale des téléchargements : 20 M Taille d'installation : 66 M Est-ce correct [o/N] :</p>\n\n<p>Cela installe Apache, Php, MySQL et phpMyAdmin.</p>\n\n<h4 id=\"configurationdephp\">Configuration de PHP</h4>\n\n<p>Dans le fichier /etc/php.ini, modifier la ligne « date.timezone ».</p>\n\n<p>[Date] ; Defines the default timezone used by the date functions ; <a href=\"http://www.php.net/manual/en/datetime.configuration.php#ini.date.timezone\">http://www.php.net/manual/en/datetime.configuration.php#ini.date.timezone</a> ;date.timezone = date.timezone = Europe/Paris</p>\n\n<p>Puis redémarrer Apache.</p>\n\n<p>[root@sxxxxxx ~]# service httpd restart Arrêt de httpd : [ OK ] Démarrage de httpd : [ OK ]</p>\n\n<h2 id=\"passonsauxchosessrieuses\">Passons aux choses sérieuses</h2>\n\n<h4 id=\"ajouterledptcenreon\">Ajouter le dépôt Cenreon</h4>\n\n<p>wget <a href=\"http://yum.centreon.com/standard/3.0/stable/ces-standard.repo\">http://yum.centreon.com/standard/3.0/stable/ces-standard.repo</a> -O /etc/yum.repos.d/ces-standard.repo</p>\n\n<p>Récupérer la clef GPG du dépôt <a href=\"http://yum.centreon.com/standard/3.0/stable/RPM-GPG-KEY-CES\">à cette adresse</a> et copier son contenu dans le ficiher /etc/pki/rpm-gpg/RPM-GPG-KEY-CES.</p>\n\n<h4 id=\"installercentreonetnagios\">Installer Centreon et Nagios</h4>\n\n<p>[root@xxxxxx ~]# yum install centreon-base-config-nagios centreon</p>\n\n<h4 id=\"configurationdecentron\">Configuration de Centréon</h4>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_980\" style=\"width: 634px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422450421.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422450421.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Se rendre sur la page <a href=\"http://servername/centreon\">http://servername/centreon</a></p>\n\n<p></div> </p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_981\" style=\"width: 634px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422450430.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422450430.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Vérifier que les prérequis sont validés.</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_982\" style=\"width: 630px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422450453.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422450453.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Déplier la liste de choix.</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_983\" style=\"width: 631px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422450504.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422450504.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Choisir Nagios et valider que les chemins affichés sont bons sur le serveur.</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_984\" style=\"width: 634px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422450523.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422450523.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Cliquer sur Next.</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_986\" style=\"width: 632px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422450875.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422450875.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Configurer le compte administrateur de Centréon.</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_987\" style=\"width: 634px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422450997.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422450997.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Configurer les connexions à MySQL.</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_988\" style=\"width: 633px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422451027.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422451027.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Si comme moi vous avez cette erreur, appliquer les actions ci-dessous.</p>\n\n<p></div> </p>\n\n<p>Éditer le fichier de configuration de MySQL et ajouter la ligne :</p>\n\n<p>innodb_file_per_table=1</p>\n\n<p>Dans la partie [mysqld].</p>\n\n<p>Puis redémarrer MySQL et cliquer sur Refresh dans l’installateur de Centréon.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_989\" style=\"width: 642px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422451083.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422451083.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Attendre la fin de l’installation.</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_990\" style=\"width: 635px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422451120.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422451120.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Cliquer sur Next</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_991\" style=\"width: 632px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422451133.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422451133.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Et voilà !</p>\n\n<p></div> </p>\n\n<p>Et voilà, il ne reste plus qu’a configurer  la supervision <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p><a href=\"https://techan.fr/images/2015/01/screenshot.1422451183.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422451183.png\" alt=\"screenshot.1422451183\" title=\"\" /></a></p>","image":"https://techan.fr/images/2015/01/Centreon-Logo-Cube.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-02-09T10:39:51.000Z","created_by":1,"updated_at":"2015-02-04T11:41:51.000Z","updated_by":1,"published_at":"2015-02-09T10:39:51.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":103,"uuid":"a30f0e3b-77aa-47cb-95ff-559e49178386","title":"Désactiver FirewallD et remettre iptables sur Fedora 21","slug":"desactiver-firewalld-et-remettre-iptables-sur-fedora-21","markdown":"\n**[Edit 16/03/2015] Testé avec succès sur CentOS 7**\n\nTout récemment j’ai remplacé mon Ubuntu serveur de la maison par une Fedora 21 et c’est peu de dire qu’il y a beaucoup de nouveautés, en bien ou en mal … Le nouveau systemd est terrible, la bête démarre presque instantanément sur un SSD, mais par contre FirewallD est une daube incommensurable à mes yeux … Il doit falloir un Bac +8 pour l’utiliser … Une actions simple comme bannir une IP me prend exactement une seconde avec iptables mais ça devient un vrai chemin de croix avec FirewallD …\n\nCe n’est pas le premier outil que je rencontre visant a simplifier ou améliorer iptables, je citerais par exemple UFW sur Ubuntu. Contrairement à FirewallD, UFW ajoute pas mal de simplicité à iptables et est utilisable simplement car il utilise une syntaxe sympa. FirewallD quant à lui apporte une syntaxe assez brouillon et le support de zones et de pleins d’autres trucs dont personne ou presque ne se servira jamais …\n\nUne semaine après l’installation de Fedora, constatant que je n’étais toujours pas protégé, j’ai viré tout ça et réactivé le bon vieux iptables. Voici donc la marche à suivre pour désactiver FirewallD et remettre iptables sur Fedora 21.\n\n \n\n\n## La marche à suivre\n\n[root@xxxx ~]# systemctl disable firewalld Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service. Removed symlink /etc/systemd/system/basic.target.wants/firewalld.service. [root@xxxx ~]# systemctl stop firewalld [root@xxxx ~]# yum install iptables-services Modules complémentaires chargés : fastestmirror, langpacks Loading mirror speeds from cached hostfile * fedora: ftp.free.fr * updates: ftp.free.fr Le paquet iptables-services-1.4.21-13.fc21.x86_64 est déjà installé dans sa dernière version Rien à faire [root@xxxx ~]# touch /etc/sysconfig/iptables [root@xxxx ~]# touch /etc/sysconfig/ip6tables [root@xxxx ~]# systemctl start iptables [root@xxxx ~]# systemctl start ip6tables Job for ip6tables.service failed. See \"systemctl status ip6tables.service\" and \"journalctl -xe\" for details. [root@xxxx ~]# systemctl enable iptables Created symlink from /etc/systemd/system/basic.target.wants/iptables.service to /usr/lib/systemd/system/iptables.service. [root@xxxx ~]# systemctl enable ip6tables Created symlink from /etc/systemd/system/basic.target.wants/ip6tables.service to /usr/lib/systemd/system/ip6tables.service. [root@xxxx ~]# systemctl start ip6tables Job for ip6tables.service failed. See \"systemctl status ip6tables.service\" and \"journalctl -xe\" for details.\n\nDans mon cas, j’ai une erreur lors du démarrage d’ip6tables car j’ai désactivé l’IPV6 sur ma machine.  On peut vérifier dans les logs que tout c’est bien passé.\n\nfévr. 11 08:48:52 xxxx.domain.net systemd[1]: Unit ip6tables.service entered failed state. févr. 11 08:48:52 xxxx.domain.net systemd[1]: ip6tables.service failed. févr. 11 08:49:00 xxxx.domain.net systemd[1]: Configuration file /usr/lib/systemd/system/auditd.service is marked world-inaccessible. This has no effect as configuration data is acc févr. 11 08:49:00 xxxx.domain.net systemd[1]: Configuration file /usr/lib/systemd/system/wpa_supplicant.service is marked executable. Please remove executable permission bits. Proce févr. 11 08:49:04 xxxx.domain.net systemd[1]: Configuration file /usr/lib/systemd/system/auditd.service is marked world-inaccessible. This has no effect as configuration data is acc févr. 11 08:49:04 xxxx.domain.net systemd[1]: Configuration file /usr/lib/systemd/system/wpa_supplicant.service is marked executable. Please remove executable permission bits. Proce févr. 11 08:49:09 xxxx.domain.net ip6tables.init[9791]: ip6tables: ipv6 is disabled. févr. 11 08:49:09 xxxx.domain.net systemd[1]: ip6tables.service: main process exited, code=exited, status=150/n/a févr. 11 08:49:09 xxxx.domain.net systemd[1]: Failed to start IPv6 firewall with ip6tables. -- Subject: L'unité (unit) ip6tables.service a échoué\n\n \n\n\n##  Quelques règles iptables de base\n\nLa configuration d’iptables est stockée dans le fichier /etc/sysconfig/iptables, après une modification des règles présentes dans ce fichier, il suffit de relancer le daemon iptables pour les appliquer.\n\n#### Autoriser le réseau local\n\n-A INPUT -s 192.168.0.0/24 -j ACCEPT\n\n####  Autoriser le SSH de partout\n\n-A INPUT -p tcp -m state --state NEW -m tcp --dport 22 -j ACCEPT\n\n \n\n \n\n\n","html":"<p><strong>[Edit 16/03/2015] Testé avec succès sur CentOS 7</strong></p>\n\n<p>Tout récemment j’ai remplacé mon Ubuntu serveur de la maison par une Fedora 21 et c’est peu de dire qu’il y a beaucoup de nouveautés, en bien ou en mal … Le nouveau systemd est terrible, la bête démarre presque instantanément sur un SSD, mais par contre FirewallD est une daube incommensurable à mes yeux … Il doit falloir un Bac +8 pour l’utiliser … Une actions simple comme bannir une IP me prend exactement une seconde avec iptables mais ça devient un vrai chemin de croix avec FirewallD …</p>\n\n<p>Ce n’est pas le premier outil que je rencontre visant a simplifier ou améliorer iptables, je citerais par exemple UFW sur Ubuntu. Contrairement à FirewallD, UFW ajoute pas mal de simplicité à iptables et est utilisable simplement car il utilise une syntaxe sympa. FirewallD quant à lui apporte une syntaxe assez brouillon et le support de zones et de pleins d’autres trucs dont personne ou presque ne se servira jamais …</p>\n\n<p>Une semaine après l’installation de Fedora, constatant que je n’étais toujours pas protégé, j’ai viré tout ça et réactivé le bon vieux iptables. Voici donc la marche à suivre pour désactiver FirewallD et remettre iptables sur Fedora 21.</p>\n\n<h2 id=\"lamarchesuivre\">La marche à suivre</h2>\n\n<p>[root@xxxx ~]# systemctl disable firewalld Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service. Removed symlink /etc/systemd/system/basic.target.wants/firewalld.service. [root@xxxx ~]# systemctl stop firewalld [root@xxxx ~]# yum install iptables-services Modules complémentaires chargés : fastestmirror, langpacks Loading mirror speeds from cached hostfile * fedora: ftp.free.fr * updates: ftp.free.fr Le paquet iptables-services-1.4.21-13.fc21.x86_64 est déjà installé dans sa dernière version Rien à faire [root@xxxx ~]# touch /etc/sysconfig/iptables [root@xxxx ~]# touch /etc/sysconfig/ip6tables [root@xxxx ~]# systemctl start iptables [root@xxxx ~]# systemctl start ip6tables Job for ip6tables.service failed. See \"systemctl status ip6tables.service\" and \"journalctl -xe\" for details. [root@xxxx ~]# systemctl enable iptables Created symlink from /etc/systemd/system/basic.target.wants/iptables.service to /usr/lib/systemd/system/iptables.service. [root@xxxx ~]# systemctl enable ip6tables Created symlink from /etc/systemd/system/basic.target.wants/ip6tables.service to /usr/lib/systemd/system/ip6tables.service. [root@xxxx ~]# systemctl start ip6tables Job for ip6tables.service failed. See \"systemctl status ip6tables.service\" and \"journalctl -xe\" for details.</p>\n\n<p>Dans mon cas, j’ai une erreur lors du démarrage d’ip6tables car j’ai désactivé l’IPV6 sur ma machine.  On peut vérifier dans les logs que tout c’est bien passé.</p>\n\n<p>févr. 11 08:48:52 xxxx.domain.net systemd[1]: Unit ip6tables.service entered failed state. févr. 11 08:48:52 xxxx.domain.net systemd[1]: ip6tables.service failed. févr. 11 08:49:00 xxxx.domain.net systemd[1]: Configuration file /usr/lib/systemd/system/auditd.service is marked world-inaccessible. This has no effect as configuration data is acc févr. 11 08:49:00 xxxx.domain.net systemd[1]: Configuration file /usr/lib/systemd/system/wpa<em>supplicant.service is marked executable. Please remove executable permission bits. Proce févr. 11 08:49:04 xxxx.domain.net systemd[1]: Configuration file /usr/lib/systemd/system/auditd.service is marked world-inaccessible. This has no effect as configuration data is acc févr. 11 08:49:04 xxxx.domain.net systemd[1]: Configuration file /usr/lib/systemd/system/wpa</em>supplicant.service is marked executable. Please remove executable permission bits. Proce févr. 11 08:49:09 xxxx.domain.net ip6tables.init[9791]: ip6tables: ipv6 is disabled. févr. 11 08:49:09 xxxx.domain.net systemd[1]: ip6tables.service: main process exited, code=exited, status=150/n/a févr. 11 08:49:09 xxxx.domain.net systemd[1]: Failed to start IPv6 firewall with ip6tables. -- Subject: L'unité (unit) ip6tables.service a échoué</p>\n\n<h2 id=\"quelquesrglesiptablesdebase\"> Quelques règles iptables de base</h2>\n\n<p>La configuration d’iptables est stockée dans le fichier /etc/sysconfig/iptables, après une modification des règles présentes dans ce fichier, il suffit de relancer le daemon iptables pour les appliquer.</p>\n\n<h4 id=\"autoriserlerseaulocal\">Autoriser le réseau local</h4>\n\n<p>-A INPUT -s 192.168.0.0/24 -j ACCEPT</p>\n\n<h4 id=\"autoriserlesshdepartout\"> Autoriser le SSH de partout</h4>\n\n<p>-A INPUT -p tcp -m state --state NEW -m tcp --dport 22 -j ACCEPT</p>","image":"https://techan.fr/images/2015/02/120px-Fedora_logo.svg_.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-02-11T11:18:08.000Z","created_by":1,"updated_at":"2015-03-16T20:41:16.000Z","updated_by":1,"published_at":"2015-02-11T11:18:08.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":104,"uuid":"1d50408d-eec4-4013-a85d-e9c403205ee3","title":"Synchronisation SSL impossible entre iOS et OwnCloud 8","slug":"synchronisation-ssl-impossible-entre-ios-et-owncloud-8","markdown":"\nAprès avoir entrepris la migration d’OwnCloud 7 vers la version 8, j’ai eu, entre autre surprise, la déception de constater que la synchronisation des contacts et des calendriers venant d’OwnCloud sur mon iPhone ne fonctionnait plus … Après pas mal d’investigation hier dans la soirée, j’ai trouvé mon erreur et vous la partage à présent. En fait, il suffisait de suivre la documentation d’OwnCloud mais je ne trouve pas ça très clair …\n\n \n\nLa documentation en question est [accessible ici](http://doc.owncloud.org/server/8.0/user_manual/pim/sync_ios.html), voici le passage qui a solutionné mon souci et que je ne trouve pas hyper clair.\n\n \n\n[![Synchronisation SSL impossible entre iOS et OwnCloud 8](https://techan.fr/images/2015/02/ios_cardav_caldav_5.png)](https://techan.fr/images/2015/02/ios_cardav_caldav_5.png)\n\nLorsque vous configurez votre/vos compte(s), il faut indiquer l’adresse du serveur en utilisant l’URL complète, comme indiqué, <span style=\"text-decoration: underline;\">mais ne surtout pas mettre le « https:// » au début</span>, sinon la sanction est immédiate, cela ne fonctionne pas !\n\n \n\nJe vais décrire la procédure ci-dessous, attention, les captures d’écran ont été faites <span style=\"text-decoration: underline;\">après</span> la configuration, les valeurs ont été modifiées par iOS. Je vous indiquerai à chaque fois ce qu’il faut mettre dans les champs.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1043\" style=\"width: 760px\">[![Synchronisation SSL impossible entre iOS et OwnCloud 8](https://techan.fr/images/2015/02/ios_cardav_caldav_1.png)](https://techan.fr/images/2015/02/ios_cardav_caldav_1.png)Serveur : ADDRESS/remote.php/caldav/principals/username  \n Renseigner l’URL complète en changeant « ADDRESS » et « username » mais enlever le « https:// » au début !\n\n</div> \n\n \n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1044\" style=\"width: 760px\">[![Synchronisation SSL impossible entre iOS et OwnCloud 8](https://techan.fr/images/2015/02/ios_cardav_caldav_2.png)](https://techan.fr/images/2015/02/ios_cardav_caldav_2.png)Effacer le contenu du champs « URL du compte ».\n\n</div> \n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1045\" style=\"width: 760px\">[![Synchronisation SSL impossible entre iOS et OwnCloud 8](https://techan.fr/images/2015/02/ios_cardav_caldav_3.png)](https://techan.fr/images/2015/02/ios_cardav_caldav_3.png)Serveur : ADDRESS/remote.php/carddav/principals/username  \n Renseigner l’URL complète en changeant « ADDRESS » et « username » mais enlever le « https:// » au début !\n\n</div> \n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1046\" style=\"width: 760px\">[![Synchronisation SSL impossible entre iOS et OwnCloud 8](https://techan.fr/images/2015/02/ios_cardav_caldav_4.png)](https://techan.fr/images/2015/02/ios_cardav_caldav_4.png)Effacer le contenu du champs « URL du compte ».\n\n</div> \n\nEt voila, tout devrait fonctionner et les valeurs affichées après la vérification des comptes devraient ressembler à celles des captures d’écran.\n\n \n\n\n","html":"<p>Après avoir entrepris la migration d’OwnCloud 7 vers la version 8, j’ai eu, entre autre surprise, la déception de constater que la synchronisation des contacts et des calendriers venant d’OwnCloud sur mon iPhone ne fonctionnait plus … Après pas mal d’investigation hier dans la soirée, j’ai trouvé mon erreur et vous la partage à présent. En fait, il suffisait de suivre la documentation d’OwnCloud mais je ne trouve pas ça très clair …</p>\n\n<p>La documentation en question est <a href=\"http://doc.owncloud.org/server/8.0/user_manual/pim/sync_ios.html\">accessible ici</a>, voici le passage qui a solutionné mon souci et que je ne trouve pas hyper clair.</p>\n\n<p><a href=\"https://techan.fr/images/2015/02/ios_cardav_caldav_5.png\"><img src=\"https://techan.fr/images/2015/02/ios_cardav_caldav_5.png\" alt=\"Synchronisation SSL impossible entre iOS et OwnCloud 8\" title=\"\" /></a></p>\n\n<p>Lorsque vous configurez votre/vos compte(s), il faut indiquer l’adresse du serveur en utilisant l’URL complète, comme indiqué, <span style=\"text-decoration: underline;\">mais ne surtout pas mettre le « https:// » au début</span>, sinon la sanction est immédiate, cela ne fonctionne pas !</p>\n\n<p>Je vais décrire la procédure ci-dessous, attention, les captures d’écran ont été faites <span style=\"text-decoration: underline;\">après</span> la configuration, les valeurs ont été modifiées par iOS. Je vous indiquerai à chaque fois ce qu’il faut mettre dans les champs.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1043\" style=\"width: 760px\"><a href=\"https://techan.fr/images/2015/02/ios_cardav_caldav_1.png\"><img src=\"https://techan.fr/images/2015/02/ios_cardav_caldav_1.png\" alt=\"Synchronisation SSL impossible entre iOS et OwnCloud 8\" title=\"\" /></a>Serveur : ADDRESS/remote.php/caldav/principals/username <br />\n Renseigner l’URL complète en changeant « ADDRESS » et « username » mais enlever le « https:// » au début !</p>\n\n<p></div> </p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1044\" style=\"width: 760px\"><a href=\"https://techan.fr/images/2015/02/ios_cardav_caldav_2.png\"><img src=\"https://techan.fr/images/2015/02/ios_cardav_caldav_2.png\" alt=\"Synchronisation SSL impossible entre iOS et OwnCloud 8\" title=\"\" /></a>Effacer le contenu du champs « URL du compte ».</p>\n\n<p></div> </p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1045\" style=\"width: 760px\"><a href=\"https://techan.fr/images/2015/02/ios_cardav_caldav_3.png\"><img src=\"https://techan.fr/images/2015/02/ios_cardav_caldav_3.png\" alt=\"Synchronisation SSL impossible entre iOS et OwnCloud 8\" title=\"\" /></a>Serveur : ADDRESS/remote.php/carddav/principals/username <br />\n Renseigner l’URL complète en changeant « ADDRESS » et « username » mais enlever le « https:// » au début !</p>\n\n<p></div> </p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1046\" style=\"width: 760px\"><a href=\"https://techan.fr/images/2015/02/ios_cardav_caldav_4.png\"><img src=\"https://techan.fr/images/2015/02/ios_cardav_caldav_4.png\" alt=\"Synchronisation SSL impossible entre iOS et OwnCloud 8\" title=\"\" /></a>Effacer le contenu du champs « URL du compte ».</p>\n\n<p></div> </p>\n\n<p>Et voila, tout devrait fonctionner et les valeurs affichées après la vérification des comptes devraient ressembler à celles des captures d’écran.</p>","image":"https://techan.fr/images/2014/09/iOS_icone_reglages.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-02-19T10:01:59.000Z","created_by":1,"updated_at":"2015-02-19T10:03:19.000Z","updated_by":1,"published_at":"2015-02-19T10:01:59.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":105,"uuid":"ed522592-d4c5-40f7-91c9-b49639c18586","title":"La réplication multi-maitres avec MySQL","slug":"la-replication-multi-maitres-avec-mysql","markdown":"\nMySQL, ou MariaDB dans mon cas, proposent depuis longtemps une solution incluse de réplication. Je vais expliquer ici comment utiliser ce mécanisme afin de faire de la réplication multi-maitre d’une base entre deux instances MySQL. Rassurez-vous ce n’est pas très compliqué ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nDans cet article, je pars du principe que vous avez déjà dans toutes les instances MySQL la même base de donnée, avec la même fraîcheur de données. Dans mon exemple, j’ai deux instance MySQL comportant chacune une base « techd », j’ai créé cette base dans ma deuxième instance avec export mysqldump.\n\nPour cet exemple, je vais donc partir du principe que ma base « techd » existait sur le serveur A, que je l’ai importé sur le serveur B et que je vais mettre la réplication entre techd@A vers techd@B puis de techd@B vers techd@A.\n\n \n\n\n## Préparation des instances MySQL\n\nAfin de pouvoir utiliser la réplication fournie par MySQL/MariaDB, il y a deux prérequis que voici :\n\n- Avoir activé les binlogs\n- Avoir configuré un « server-id » différent sur les instances MySQL\n\nIl y a d’autres paramètres que l’on peut spécifier afin de coller plus aux besoins mais ces deux là sont les seuls vraiment nécessaires.\n\n#### Les prérequis au niveau des instances\n\nDans le fichier de configuration de MySQL, il faut ajouter ou dé-commenter les lignes (pensez également a ajuster les valeurs pour votre cas) :\n\nserver-id = 3456723 log_bin = /data/mysql/logs/mysql-bin.log\n\nCes lignes doivent se trouver dans la partie « [mysqld] » du fichier de configuration. Chaque instance MySQL mise en réplication doit avoir une valeur de « sever-id » différente.\n\nLe fait d’ajouter la ligne « log_bin » active les « binlogs » de MySQL, l’équivalent des archive logs d’Oracle. Le chemin spécifié comme valeur de ce paramètres permet de dire à MySQL ou aller stocker ses binlogs.\n\n \n\nDeux paramètres supplémentaires peuvent être intéressants :\n\nbinlog_do_db = techd expire_logs_days = 10\n\nLe paramètre « binlog_do_db » est utilisé pour spécifier pour quelle(s) base(s) ont active les binlogs, si il n’est pas spécifié, ils sont activés pour toutes les bases même pour les bases système … On peut ne pas spécifier ce paramètre et exclure certaines bases, comme les bases système, le paramètre pour faire ça est « binlog_ignore_db ».\n\nLe paramètre « expire_log_days » permet de faire un peu de ménage et de ne pas garder tous les binlogs en ligne.\n\nUne fois que tous les paramètres ont été correctement positionné, il faut redémarrer MySQL.\n\n#### Créer le compte de réplication\n\nPour que la réplication fonctionne, il faut créer un utilisateur dans chaque instance MySQL. Cet utilisateur aura un privilège spécifique pour pouvoir gérer la réplication, il ne pourra rien faire d’autre dans MySQL.\n\nVoici comment créer cet utilisateur.\n\nMariaDB [(none)]> create user 'replicator'@'%' identified by 'password'; Query OK, 0 rows affected (0.00 sec) MariaDB [(none)]> grant replication slave on *.* to 'replicator'@'%'; Query OK, 0 rows affected (0.00 sec)\n\n \n\n#### Récupérer la position actuelle dans le binlogs\n\nMaintenant que les instances MySQL écrivent des binlogs, il faut récupérer la position de chaque instance dans ses logs. Ce sera la position de départ pour notre réplication.\n\nVoici la marche à suivre pour avoir ces informations, il faut faire cette manipulation sur les deux instance MySQL.\n\nMariaDB [(none)]> show master status; +------------------+----------+--------------+------------------+ | File | Position | Binlog_Do_DB | Binlog_Ignore_DB | +------------------+----------+--------------+------------------+ | mysql-bin.000191 | 245 | techd | | +------------------+----------+--------------+------------------+ 1 row in set (0.00 sec)\n\n\n##  La réplication multi-maitres avec MySQL\n\n#### Sur le serveur B, réplication de techd@A vers techd@B\n\nDans un premier temps, on arrête le processus esclave, au cas ou il tournerait déjà.\n\nMariaDB [(none)]> stop slave ; Query OK, 0 rows affected, 1 warning (0,00 sec)\n\n**<span style=\"text-decoration: underline;\"> Note :</span>** Ceci est la syntaxe pour MariaDB, pour MySQL, il faut inverser les mots. Dans ce cas, la commande pour MySQL aurait été : « slave stop; »\n\nMaintenant on définit le maître, il faut adapter l’IP, le mot de passe et la position dans le binlogs avec ce que l’on a récupéré plus tôt.\n\nMariaDB [(none)]> CHANGE MASTER TO MASTER_HOST = 'IP DE A', MASTER_USER = 'replicator', MASTER_PASSWORD = 'password', MASTER_LOG_FILE = 'mysql-bin.000190', MASTER_LOG_POS = 22182220; Query OK, 0 rows affected (0,04 sec)\n\nEt enfin, on démarre l’esclave.\n\nMariaDB [(none)]> start slave ; Query OK, 0 rows affected (0,00 sec\n\n \n\n#### Sur le serveur A, réplication de techd@B vers techd@A\n\nMême manipulation dans l’autre sens, toujours en adaptant le password, l’IP et les positions dans les binlogs.\n\nMariaDB [(none)]> stop slave ; Query OK, 0 rows affected, 1 warning (0.00 sec) MariaDB [(none)]> CHANGE MASTER TO MASTER_HOST = 'IP de B', MASTER_USER = 'replicator', MASTER_PASSWORD = 'password', MASTER_LOG_FILE = 'mysql-bin.000001', MASTER_LOG_POS = 631; Query OK, 0 rows affected (0.18 sec) MariaDB [(none)]> start slave ; Query OK, 0 rows affected (0.01 sec)\n\n####  Vérifier l’état de la synchronisation\n\nOn peut vérifier l’état de la synchronisation dans des outils comme phpMyAdmin, mais on peut également le faire avec le client MySQL sur la machine.\n\nMariaDB [(none)]> show slave status \\G *************************** 1. row *************************** Slave_IO_State: Waiting for master to send event Master_Host: IP du Maitre Master_User: replicator Master_Port: 3306 Connect_Retry: 60 Master_Log_File: mysql-bin.000001 Read_Master_Log_Pos: 631 Relay_Log_File: mysqld-relay-bin.000002 Relay_Log_Pos: 532 Relay_Master_Log_File: mysql-bin.000001 Slave_IO_Running: Yes Slave_SQL_Running: Yes Replicate_Do_DB: Replicate_Ignore_DB: Replicate_Do_Table: Replicate_Ignore_Table: Replicate_Wild_Do_Table: Replicate_Wild_Ignore_Table: Last_Errno: 0 Last_Error: Skip_Counter: 0 Exec_Master_Log_Pos: 631 Relay_Log_Space: 827 Until_Condition: None Until_Log_File: Until_Log_Pos: 0 Master_SSL_Allowed: No Master_SSL_CA_File: Master_SSL_CA_Path: Master_SSL_Cert: Master_SSL_Cipher: Master_SSL_Key: Seconds_Behind_Master: 0 Master_SSL_Verify_Server_Cert: No Last_IO_Errno: 0 Last_IO_Error: Last_SQL_Errno: 0 Last_SQL_Error: Replicate_Ignore_Server_Ids: Master_Server_Id: 3456723 1 row in set (0.00 sec)\n\n \n\n\n","html":"<p>MySQL, ou MariaDB dans mon cas, proposent depuis longtemps une solution incluse de réplication. Je vais expliquer ici comment utiliser ce mécanisme afin de faire de la réplication multi-maitre d’une base entre deux instances MySQL. Rassurez-vous ce n’est pas très compliqué <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>Dans cet article, je pars du principe que vous avez déjà dans toutes les instances MySQL la même base de donnée, avec la même fraîcheur de données. Dans mon exemple, j’ai deux instance MySQL comportant chacune une base « techd », j’ai créé cette base dans ma deuxième instance avec export mysqldump.</p>\n\n<p>Pour cet exemple, je vais donc partir du principe que ma base « techd » existait sur le serveur A, que je l’ai importé sur le serveur B et que je vais mettre la réplication entre techd@A vers techd@B puis de techd@B vers techd@A.</p>\n\n<h2 id=\"prparationdesinstancesmysql\">Préparation des instances MySQL</h2>\n\n<p>Afin de pouvoir utiliser la réplication fournie par MySQL/MariaDB, il y a deux prérequis que voici :</p>\n\n<ul>\n<li>Avoir activé les binlogs</li>\n<li>Avoir configuré un « server-id » différent sur les instances MySQL</li>\n</ul>\n\n<p>Il y a d’autres paramètres que l’on peut spécifier afin de coller plus aux besoins mais ces deux là sont les seuls vraiment nécessaires.</p>\n\n<h4 id=\"lesprrequisauniveaudesinstances\">Les prérequis au niveau des instances</h4>\n\n<p>Dans le fichier de configuration de MySQL, il faut ajouter ou dé-commenter les lignes (pensez également a ajuster les valeurs pour votre cas) :</p>\n\n<p>server-id = 3456723 log_bin = /data/mysql/logs/mysql-bin.log</p>\n\n<p>Ces lignes doivent se trouver dans la partie « [mysqld] » du fichier de configuration. Chaque instance MySQL mise en réplication doit avoir une valeur de « sever-id » différente.</p>\n\n<p>Le fait d’ajouter la ligne « log_bin » active les « binlogs » de MySQL, l’équivalent des archive logs d’Oracle. Le chemin spécifié comme valeur de ce paramètres permet de dire à MySQL ou aller stocker ses binlogs.</p>\n\n<p>Deux paramètres supplémentaires peuvent être intéressants :</p>\n\n<p>binlog_do_db = techd expire<em>logs</em>days = 10</p>\n\n<p>Le paramètre « binlog<em>do</em>db » est utilisé pour spécifier pour quelle(s) base(s) ont active les binlogs, si il n’est pas spécifié, ils sont activés pour toutes les bases même pour les bases système … On peut ne pas spécifier ce paramètre et exclure certaines bases, comme les bases système, le paramètre pour faire ça est « binlog<em>ignore</em>db ».</p>\n\n<p>Le paramètre « expire<em>log</em>days » permet de faire un peu de ménage et de ne pas garder tous les binlogs en ligne.</p>\n\n<p>Une fois que tous les paramètres ont été correctement positionné, il faut redémarrer MySQL.</p>\n\n<h4 id=\"crerlecomptederplication\">Créer le compte de réplication</h4>\n\n<p>Pour que la réplication fonctionne, il faut créer un utilisateur dans chaque instance MySQL. Cet utilisateur aura un privilège spécifique pour pouvoir gérer la réplication, il ne pourra rien faire d’autre dans MySQL.</p>\n\n<p>Voici comment créer cet utilisateur.</p>\n\n<p>MariaDB [(none)]> create user 'replicator'@'%' identified by 'password'; Query OK, 0 rows affected (0.00 sec) MariaDB [(none)]> grant replication slave on <em>.</em> to 'replicator'@'%'; Query OK, 0 rows affected (0.00 sec)</p>\n\n<h4 id=\"rcuprerlapositionactuelledanslebinlogs\">Récupérer la position actuelle dans le binlogs</h4>\n\n<p>Maintenant que les instances MySQL écrivent des binlogs, il faut récupérer la position de chaque instance dans ses logs. Ce sera la position de départ pour notre réplication.</p>\n\n<p>Voici la marche à suivre pour avoir ces informations, il faut faire cette manipulation sur les deux instance MySQL.</p>\n\n<p>MariaDB [(none)]> show master status; +------------------+----------+--------------+------------------+ | File | Position | Binlog<em>Do</em>DB | Binlog<em>Ignore</em>DB | +------------------+----------+--------------+------------------+ | mysql-bin.000191 | 245 | techd | | +------------------+----------+--------------+------------------+ 1 row in set (0.00 sec)</p>\n\n<h2 id=\"larplicationmultimaitresavecmysql\"> La réplication multi-maitres avec MySQL</h2>\n\n<h4 id=\"surleserveurbrplicationdetechdaverstechdb\">Sur le serveur B, réplication de techd@A vers techd@B</h4>\n\n<p>Dans un premier temps, on arrête le processus esclave, au cas ou il tournerait déjà.</p>\n\n<p>MariaDB [(none)]> stop slave ; Query OK, 0 rows affected, 1 warning (0,00 sec)</p>\n\n<p><strong><span style=\"text-decoration: underline;\"> Note :</span></strong> Ceci est la syntaxe pour MariaDB, pour MySQL, il faut inverser les mots. Dans ce cas, la commande pour MySQL aurait été : « slave stop; »</p>\n\n<p>Maintenant on définit le maître, il faut adapter l’IP, le mot de passe et la position dans le binlogs avec ce que l’on a récupéré plus tôt.</p>\n\n<p>MariaDB [(none)]> CHANGE MASTER TO MASTER<em>HOST = 'IP DE A', MASTER</em>USER = 'replicator', MASTER<em>PASSWORD = 'password', MASTER</em>LOG<em>FILE = 'mysql-bin.000190', MASTER</em>LOG_POS = 22182220; Query OK, 0 rows affected (0,04 sec)</p>\n\n<p>Et enfin, on démarre l’esclave.</p>\n\n<p>MariaDB [(none)]> start slave ; Query OK, 0 rows affected (0,00 sec</p>\n\n<h4 id=\"surleserveurarplicationdetechdbverstechda\">Sur le serveur A, réplication de techd@B vers techd@A</h4>\n\n<p>Même manipulation dans l’autre sens, toujours en adaptant le password, l’IP et les positions dans les binlogs.</p>\n\n<p>MariaDB [(none)]> stop slave ; Query OK, 0 rows affected, 1 warning (0.00 sec) MariaDB [(none)]> CHANGE MASTER TO MASTER<em>HOST = 'IP de B', MASTER</em>USER = 'replicator', MASTER<em>PASSWORD = 'password', MASTER</em>LOG<em>FILE = 'mysql-bin.000001', MASTER</em>LOG_POS = 631; Query OK, 0 rows affected (0.18 sec) MariaDB [(none)]> start slave ; Query OK, 0 rows affected (0.01 sec)</p>\n\n<h4 id=\"vrifierltatdelasynchronisation\"> Vérifier l’état de la synchronisation</h4>\n\n<p>On peut vérifier l’état de la synchronisation dans des outils comme phpMyAdmin, mais on peut également le faire avec le client MySQL sur la machine.</p>\n\n<p>MariaDB [(none)]> show slave status \\G <strong><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</strong> 1. row <strong></em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em>*</strong> Slave<em>IO</em>State: Waiting for master to send event Master<em>Host: IP du Maitre Master</em>User: replicator Master<em>Port: 3306 Connect</em>Retry: 60 Master<em>Log</em>File: mysql-bin.000001 Read<em>Master</em>Log<em>Pos: 631 Relay</em>Log<em>File: mysqld-relay-bin.000002 Relay</em>Log<em>Pos: 532 Relay</em>Master<em>Log</em>File: mysql-bin.000001 Slave<em>IO</em>Running: Yes Slave<em>SQL</em>Running: Yes Replicate<em>Do</em>DB: Replicate<em>Ignore</em>DB: Replicate<em>Do</em>Table: Replicate<em>Ignore</em>Table: Replicate<em>Wild</em>Do<em>Table: Replicate</em>Wild<em>Ignore</em>Table: Last<em>Errno: 0 Last</em>Error: Skip<em>Counter: 0 Exec</em>Master<em>Log</em>Pos: 631 Relay<em>Log</em>Space: 827 Until<em>Condition: None Until</em>Log<em>File: Until</em>Log<em>Pos: 0 Master</em>SSL<em>Allowed: No Master</em>SSL<em>CA</em>File: Master<em>SSL</em>CA<em>Path: Master</em>SSL<em>Cert: Master</em>SSL<em>Cipher: Master</em>SSL<em>Key: Seconds</em>Behind<em>Master: 0 Master</em>SSL<em>Verify</em>Server<em>Cert: No Last</em>IO<em>Errno: 0 Last</em>IO<em>Error: Last</em>SQL<em>Errno: 0 Last</em>SQL<em>Error: Replicate</em>Ignore<em>Server</em>Ids: Master<em>Server</em>Id: 3456723 1 row in set (0.00 sec)</p>","image":"https://techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-02-25T16:09:46.000Z","created_by":1,"updated_at":"2015-03-05T14:56:29.000Z","updated_by":1,"published_at":"2015-02-25T16:09:46.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":106,"uuid":"974a9f20-6ec0-4227-bbeb-d36a2e8d85d1","title":"[Édit][Saga] Changement d'hébergeur","slug":"saga-changement-dhebergeur","markdown":"\n**[Édit : 3 Avril 2015]**  \n Après pas mal de péripéties (voir [[Saga] Et me voilà chez PulseHeberg](https://techan.fr/saga-et-me-voila-chez-pulseheberg/)), j’ai finalement pris un virage à 180 degrés et qui maintenant hébergé chez Online.net (voir [[Saga] Bascule chez Online.net](https://techan.fr/saga-bascule-chez-online-net/)).\n\nJusqu’à maintenant ce site était hébergé sur un serveur Kimsufi à Roubaix, mais depuis quelques temps la machine souffrait pas mal sous la charge (notamment en terme de mémoire). J’ai donc essayé d’obtenir une machine plus puissante chez Kimsufi car je suis content de la prestation. Malheureusement, ils ne délivrent de nouveaux serveurs qu’au compte goutte … Je suis entré en contact avec le support de Kimsufi pour savoir s’il était possible de mettre à niveau la machine que j’utilise en ajoutant 2 Go de RAM. Les machines proposées dans la gamme actuelle de Kimsufi correspondant à celle dont je dispose ont la même carte mère, un CPU un peu plus puissant et 4 Go de RAM au lieu de 2. Je souhaitais donc qu’il ajoutent bêtement une barrette de mémoire dans la bécane, sans changer le CPU ni rien moyennant quoi, je signai pour un an de plus.\n\nLa réponse du support m’a plutôt déplu, ils m’ont « gentiment » conseillé de commander une nouvelle machine et de faire la bascule. Mais le problème initial se repose, il n’y a jamais de serveurs disponibles … Donc je vais partir de chez Kimsufi.\n\nLors de mes recherches d’un nouvel hébergeur, je suis tombé sur [PulseHerbeg](https://www.pulseheberg.com/) qui m’a tout de suite tapé dans l’oeil. Déjà leur offres sont assez intéressantes financièrement et en plus ils sont disponibles. Je les ai contacté sur Tweeter pour avoir des informations, la réponse est rapide, aimable et précise ! C’est appréciable !\n\nJe suis parti sur l’offre « VPS Dedicated », autant dire que cela risque de me changer de ma bécane dédiée mais cette offre me plait particulièrement car elle permet de se créer ses propres VPS (Virtual Private Server). Dans ce cas, une machine physique est partagée entre 2 ou 4 personnes ou complètement dédiée, dans mon cas, je vais la partager avec un autre client PulseHeberg. J’espère juste qu’on ne se marchera pas trop dessus avec mon colocataire de machine physique ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nActuellement il y a quelques soucis avec la mise en place de mon « VPS Dedicated », j’ai été en lien avec le support ce matin, j’espère que cela sera réglé vite afin de commencer à bidouiller l’engin ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\nTout cela pour vous dire qu’il y a eu des indisponibilité ces derniers jours, qu’il y en aura encore (malheureusement) sans doute quelques unes sur les prochains jours … Je tâcherai de faire le plus transparent possible.\n\n \n\n\n","html":"<p><strong>[Édit : 3 Avril 2015]</strong> <br />\n Après pas mal de péripéties (voir <a href=\"https://techan.fr/saga-et-me-voila-chez-pulseheberg/\">[Saga] Et me voilà chez PulseHeberg</a>), j’ai finalement pris un virage à 180 degrés et qui maintenant hébergé chez Online.net (voir <a href=\"https://techan.fr/saga-bascule-chez-online-net/\">[Saga] Bascule chez Online.net</a>).</p>\n\n<p>Jusqu’à maintenant ce site était hébergé sur un serveur Kimsufi à Roubaix, mais depuis quelques temps la machine souffrait pas mal sous la charge (notamment en terme de mémoire). J’ai donc essayé d’obtenir une machine plus puissante chez Kimsufi car je suis content de la prestation. Malheureusement, ils ne délivrent de nouveaux serveurs qu’au compte goutte … Je suis entré en contact avec le support de Kimsufi pour savoir s’il était possible de mettre à niveau la machine que j’utilise en ajoutant 2 Go de RAM. Les machines proposées dans la gamme actuelle de Kimsufi correspondant à celle dont je dispose ont la même carte mère, un CPU un peu plus puissant et 4 Go de RAM au lieu de 2. Je souhaitais donc qu’il ajoutent bêtement une barrette de mémoire dans la bécane, sans changer le CPU ni rien moyennant quoi, je signai pour un an de plus.</p>\n\n<p>La réponse du support m’a plutôt déplu, ils m’ont « gentiment » conseillé de commander une nouvelle machine et de faire la bascule. Mais le problème initial se repose, il n’y a jamais de serveurs disponibles … Donc je vais partir de chez Kimsufi.</p>\n\n<p>Lors de mes recherches d’un nouvel hébergeur, je suis tombé sur <a href=\"https://www.pulseheberg.com/\">PulseHerbeg</a> qui m’a tout de suite tapé dans l’oeil. Déjà leur offres sont assez intéressantes financièrement et en plus ils sont disponibles. Je les ai contacté sur Tweeter pour avoir des informations, la réponse est rapide, aimable et précise ! C’est appréciable !</p>\n\n<p>Je suis parti sur l’offre « VPS Dedicated », autant dire que cela risque de me changer de ma bécane dédiée mais cette offre me plait particulièrement car elle permet de se créer ses propres VPS (Virtual Private Server). Dans ce cas, une machine physique est partagée entre 2 ou 4 personnes ou complètement dédiée, dans mon cas, je vais la partager avec un autre client PulseHeberg. J’espère juste qu’on ne se marchera pas trop dessus avec mon colocataire de machine physique <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>Actuellement il y a quelques soucis avec la mise en place de mon « VPS Dedicated », j’ai été en lien avec le support ce matin, j’espère que cela sera réglé vite afin de commencer à bidouiller l’engin <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>Tout cela pour vous dire qu’il y a eu des indisponibilité ces derniers jours, qu’il y en aura encore (malheureusement) sans doute quelques unes sur les prochains jours … Je tâcherai de faire le plus transparent possible.</p>","image":"https://techan.fr/images/2015/03/Travaux.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-03-05T14:53:56.000Z","created_by":1,"updated_at":"2015-09-21T14:33:27.000Z","updated_by":1,"published_at":"2015-03-05T14:53:56.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":107,"uuid":"69f45d77-b5e3-4d2b-b7ca-3ea94d25f9f9","title":"[Saga] Et me voilà chez PulseHeberg !","slug":"saga-et-me-voila-chez-pulseheberg","markdown":"\n**[Edit] **Après pas mal de péripéties, je suis parti de chez PulseHeberg après moins d’un moins, je suis passé chez Online.net (voir [[Saga] Bascule chez Online.net](https://techan.fr/saga-bascule-chez-online-net/)).\n\nComme je le disait dans l’article [[Saga] Changement d’hébergeur](https://techan.fr/saga-changement-dhebergeur/), j’ai lâché Kimsufi et j’ai pu prendre possession hier de mes nouveaux serveurs virtuels tout beaux, tout neufs ! Ils sont au nombre de trois pour l’instant.\n\nJ’ai pu réaliser la migration express de tous mes sites web et de mes mails hier dans la soirée. Donc oui, bienvenu sur un tout nouveau serveur ! Les machines virtuelles fournies par [PulseHerberg](https://pulseheberg.com) sont créées par [OpenVZ](http://openvz.org/Main_Page). Je trouve leurs performances en tout point irréprochable !\n\nToute fois un bug dans l’outil de provisionning de vms chez PulseHeberg a retardé la livraison des serveurs virtuels, mais le support est efficace et un opérateur a créé les vms manuellement. La prochaine fois que j’aurais besoin d’en créer cela fonctionnera au poil, je n’en doute pas !\n\nLe site n’était pas très stable ces derniers jours car hébergé chez moi. Il était même carrément inaccessible hier car une mise a jour de la FreeBox jeudi soir avait fait sauter mes redirections de ports … Voici qui devrait aller bien mieux maintenant ","html":"<p><em>*[Edit] *</em>Après pas mal de péripéties, je suis parti de chez PulseHeberg après moins d’un moins, je suis passé chez Online.net (voir <a href=\"https://techan.fr/saga-bascule-chez-online-net/\">[Saga] Bascule chez Online.net</a>).</p>\n\n<p>Comme je le disait dans l’article <a href=\"https://techan.fr/saga-changement-dhebergeur/\">[Saga] Changement d’hébergeur</a>, j’ai lâché Kimsufi et j’ai pu prendre possession hier de mes nouveaux serveurs virtuels tout beaux, tout neufs ! Ils sont au nombre de trois pour l’instant.</p>\n\n<p>J’ai pu réaliser la migration express de tous mes sites web et de mes mails hier dans la soirée. Donc oui, bienvenu sur un tout nouveau serveur ! Les machines virtuelles fournies par <a href=\"https://pulseheberg.com\">PulseHerberg</a> sont créées par <a href=\"http://openvz.org/Main_Page\">OpenVZ</a>. Je trouve leurs performances en tout point irréprochable !</p>\n\n<p>Toute fois un bug dans l’outil de provisionning de vms chez PulseHeberg a retardé la livraison des serveurs virtuels, mais le support est efficace et un opérateur a créé les vms manuellement. La prochaine fois que j’aurais besoin d’en créer cela fonctionnera au poil, je n’en doute pas !</p>\n\n<p>Le site n’était pas très stable ces derniers jours car hébergé chez moi. Il était même carrément inaccessible hier car une mise a jour de la FreeBox jeudi soir avait fait sauter mes redirections de ports … Voici qui devrait aller bien mieux maintenant ","image":"https://techan.fr/images/2015/03/IMG_9395.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-03-14T16:01:25.000Z","created_by":1,"updated_at":"2015-09-21T14:33:09.000Z","updated_by":1,"published_at":"2015-03-14T16:01:25.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":108,"uuid":"2f665c3b-fd94-4479-872c-ac9cf0efd4e0","title":"Lancer plusieurs instances MySQL sur une machine","slug":"lancer-plusieurs-instances-mysql-sur-une-machine","markdown":"\nJ’ai dû faire en sorte que l’on puisse faire tourner deux instances MySQL sur une seule machine afin d’en faire une machine « esclave » dans une architecture MySQL répliquée, voir [La réplication multi-maitres avec MySQL ](https://techan.fr/la-replication-multi-maitres-avec-mysql/). Chacune des deux instances va recevoir les modifications apportées à l’une des eux instances de prod (LAN et DMZ). Vous allez voir que c’est plutôt simple de faire tourner deux instances MySQL sur une même machine, mieux que ça, cela a déjà été pensé pour !\n\nJe pars du principe que vous avez déjà installé MySQL sur la machine en question et que MySQL fonctionne correctement et que le daemon est éteint.\n\n \n\n\n## Les préparatifs\n\nAfin de bien cloisonner les deux instances, j’ai fais en sorte que les dossiers de données de chaque instance soir placé sur un disque dédié, un LV en fait.\n\nMon architecture de fichiers est faite comme suit :\n\n/data + mysql + LAN + data + logs + DMZ + data + logs\n\nMes LVs sont montés sur /data/mysql/LAN et /data/mysql/DMZ ainsi chaque instance est étanche.\n\n\n## La mise en place\n\n### Création des groupes\n\nAfin de créer chaque instance, il nous faut éditer le fichier /etc/my.cnf et créer des groupes. Le fichier de base en contient déjà, chaque groupe commence par un mot encadré de crochets. Par exemple : [mysqld] en est un.\n\nJ’ai besoin de deux instances, je vais donc créer deux groupes, j’ai remplacé le groupe [mysqld] existant par ce qui suit :\n\n[mysqld1] datadir=/data/mysql/LAN/data socket=/var/lib/mysql/mysqlLAN.sock user=mysql symbolic-links=0 port=3306 pid-file=/var/run/mysqld/mysqldLAN.pid [mysqld2] datadir=/data/mysql/DMZ/data socket=/var/lib/mysql/mysqlDMZ.sock user=mysql symbolic-links=0 port=3307 pid-file=/var/run/mysqld/mysqldDMZ.pid\n\n###  Le « gros » du problème\n\nEn fait, il n’y en a pas, il suffit maintenant d’une commande pour voir l’état des instance MySQL et pour interagir avec elles. Cette commande : « mysqld_multi ».\n\n#### Afficher le statut des instances\n\n[root@sl-0-mysqlslaveint1 log]# mysqld_multi report Reporting MySQL servers MySQL server from group: mysqld1 is not running MySQL server from group: mysqld2 is not running\n\nLa commande nous apprend que les deux instances sont arrêtées.\n\n#### Démarrer les instances MySQL\n\n[root@sl-0-mysqlslaveint1 log]# mysqld_multi start [root@sl-0-mysqlslaveint1 log]# mysqld_multi report Reporting MySQL servers MySQL server from group: mysqld1 is running MySQL server from group: mysqld2 is running\n\nL’option « start » de la commande « mysqld_multi » permet, comme son nom l’indique de démarrer une ou plusieurs instances. Sans paramètre supplémentaire, l’option « start » va démarrer toutes les instances disponibles. Il suffit de préciser après cette option le numéro du groupe a démarrer pour cibler une seule instance.\n\n \n\n#### Le compte d’arrêt\n\nMaintenant que nos instances démarrent, on va créer le compte technique pour les arrêter. Notez la manière un peu différente de se connecter au instances lorsque l’on est sur la machine locale, je précise le fichier socket afin de me connecter à la bonne instance.\n\n[root@xxxx ~]# mysql -u root -p -S /var/lib/mysql/mysqlLAN.sock Enter password: Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 2 Server version: 5.1.73 Source distribution Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. mysql> GRANT SHUTDOWN ON *.* TO 'multi_admin'@'localhost' IDENTIFIED BY 'password'; Query OK, 0 rows affected (0.00 sec) mysql> FLUSH PRIVILEGES; Query OK, 0 rows affected (0.00 sec) mysql> exit Bye\n\nUne fois le compte créer, on arrête toutes les instances.\n\n[root@xxxx ~]# mysqld_multi stop [root@xxxx ~]# mysqld_multi report Reporting MySQL servers MySQL server from group: mysqld1 is not running MySQL server from group: mysqld2 is not running\n\nIl faut maintenant modifier le fichier /etc/my/cnf pour y ajouter un nouveau groupe.\n\n[mysqld_multi] mysqld = /usr/bin/mysqld_safe mysqladmin = /usr/bin/mysqladmin user = multi_admin password = password [mysqld_safe] log-error=/var/log/mysqld.log pid-file=/var/run/mysqld/mysqld.pid\n\n####  On relance tout est c’est fini !\n\nIl suffit maintenant de redémarrer toutes les instances et le tour est joué !\n\n[root@xxxx ~]# mysqld_multi start [root@xxxx ~]# mysqld_multi report Reporting MySQL servers MySQL server from group: mysqld1 is running MySQL server from group: mysqld2 is running\n\nOn vérifie que les instances écoutent bien sur le port que l’on souhaitait :\n\n[root@xxxx ~]# netstat -anp | grep 330 tcp 0 0 0.0.0.0:3306 0.0.0.0:* LISTEN 15778/mysqld tcp 0 0 0.0.0.0:3307 0.0.0.0:* LISTEN 15784/mysqld\n\nEt voilà comment lancer plusieurs instances MySQL sur une machine ! ","html":"<p>J’ai dû faire en sorte que l’on puisse faire tourner deux instances MySQL sur une seule machine afin d’en faire une machine « esclave » dans une architecture MySQL répliquée, voir <a href=\"https://techan.fr/la-replication-multi-maitres-avec-mysql/\">La réplication multi-maitres avec MySQL </a>. Chacune des deux instances va recevoir les modifications apportées à l’une des eux instances de prod (LAN et DMZ). Vous allez voir que c’est plutôt simple de faire tourner deux instances MySQL sur une même machine, mieux que ça, cela a déjà été pensé pour !</p>\n\n<p>Je pars du principe que vous avez déjà installé MySQL sur la machine en question et que MySQL fonctionne correctement et que le daemon est éteint.</p>\n\n<h2 id=\"lesprparatifs\">Les préparatifs</h2>\n\n<p>Afin de bien cloisonner les deux instances, j’ai fais en sorte que les dossiers de données de chaque instance soir placé sur un disque dédié, un LV en fait.</p>\n\n<p>Mon architecture de fichiers est faite comme suit :</p>\n\n<p>/data + mysql + LAN + data + logs + DMZ + data + logs</p>\n\n<p>Mes LVs sont montés sur /data/mysql/LAN et /data/mysql/DMZ ainsi chaque instance est étanche.</p>\n\n<h2 id=\"lamiseenplace\">La mise en place</h2>\n\n<h3 id=\"crationdesgroupes\">Création des groupes</h3>\n\n<p>Afin de créer chaque instance, il nous faut éditer le fichier /etc/my.cnf et créer des groupes. Le fichier de base en contient déjà, chaque groupe commence par un mot encadré de crochets. Par exemple : [mysqld] en est un.</p>\n\n<p>J’ai besoin de deux instances, je vais donc créer deux groupes, j’ai remplacé le groupe [mysqld] existant par ce qui suit :</p>\n\n<p>[mysqld1] datadir=/data/mysql/LAN/data socket=/var/lib/mysql/mysqlLAN.sock user=mysql symbolic-links=0 port=3306 pid-file=/var/run/mysqld/mysqldLAN.pid [mysqld2] datadir=/data/mysql/DMZ/data socket=/var/lib/mysql/mysqlDMZ.sock user=mysql symbolic-links=0 port=3307 pid-file=/var/run/mysqld/mysqldDMZ.pid</p>\n\n<h3 id=\"legrosduproblme\"> Le « gros » du problème</h3>\n\n<p>En fait, il n’y en a pas, il suffit maintenant d’une commande pour voir l’état des instance MySQL et pour interagir avec elles. Cette commande : « mysqld_multi ».</p>\n\n<h4 id=\"afficherlestatutdesinstances\">Afficher le statut des instances</h4>\n\n<p>[root@sl-0-mysqlslaveint1 log]# mysqld_multi report Reporting MySQL servers MySQL server from group: mysqld1 is not running MySQL server from group: mysqld2 is not running</p>\n\n<p>La commande nous apprend que les deux instances sont arrêtées.</p>\n\n<h4 id=\"dmarrerlesinstancesmysql\">Démarrer les instances MySQL</h4>\n\n<p>[root@sl-0-mysqlslaveint1 log]# mysqld<em>multi start [root@sl-0-mysqlslaveint1 log]# mysqld</em>multi report Reporting MySQL servers MySQL server from group: mysqld1 is running MySQL server from group: mysqld2 is running</p>\n\n<p>L’option « start » de la commande « mysqld_multi » permet, comme son nom l’indique de démarrer une ou plusieurs instances. Sans paramètre supplémentaire, l’option « start » va démarrer toutes les instances disponibles. Il suffit de préciser après cette option le numéro du groupe a démarrer pour cibler une seule instance.</p>\n\n<h4 id=\"lecomptedarrt\">Le compte d’arrêt</h4>\n\n<p>Maintenant que nos instances démarrent, on va créer le compte technique pour les arrêter. Notez la manière un peu différente de se connecter au instances lorsque l’on est sur la machine locale, je précise le fichier socket afin de me connecter à la bonne instance.</p>\n\n<p>[root@xxxx ~]# mysql -u root -p -S /var/lib/mysql/mysqlLAN.sock Enter password: Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 2 Server version: 5.1.73 Source distribution Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. mysql> GRANT SHUTDOWN ON <em>.</em> TO 'multi_admin'@'localhost' IDENTIFIED BY 'password'; Query OK, 0 rows affected (0.00 sec) mysql> FLUSH PRIVILEGES; Query OK, 0 rows affected (0.00 sec) mysql> exit Bye</p>\n\n<p>Une fois le compte créer, on arrête toutes les instances.</p>\n\n<p>[root@xxxx ~]# mysqld<em>multi stop [root@xxxx ~]# mysqld</em>multi report Reporting MySQL servers MySQL server from group: mysqld1 is not running MySQL server from group: mysqld2 is not running</p>\n\n<p>Il faut maintenant modifier le fichier /etc/my/cnf pour y ajouter un nouveau groupe.</p>\n\n<p>[mysqld<em>multi] mysqld = /usr/bin/mysqld</em>safe mysqladmin = /usr/bin/mysqladmin user = multi<em>admin password = password [mysqld</em>safe] log-error=/var/log/mysqld.log pid-file=/var/run/mysqld/mysqld.pid</p>\n\n<h4 id=\"onrelancetoutestcestfini\"> On relance tout est c’est fini !</h4>\n\n<p>Il suffit maintenant de redémarrer toutes les instances et le tour est joué !</p>\n\n<p>[root@xxxx ~]# mysqld<em>multi start [root@xxxx ~]# mysqld</em>multi report Reporting MySQL servers MySQL server from group: mysqld1 is running MySQL server from group: mysqld2 is running</p>\n\n<p>On vérifie que les instances écoutent bien sur le port que l’on souhaitait :</p>\n\n<p>[root@xxxx ~]# netstat -anp | grep 330 tcp 0 0 0.0.0.0:3306 0.0.0.0:* LISTEN 15778/mysqld tcp 0 0 0.0.0.0:3307 0.0.0.0:* LISTEN 15784/mysqld</p>\n\n<p>Et voilà comment lancer plusieurs instances MySQL sur une machine ! ","image":"https://techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-03-24T09:25:52.000Z","created_by":1,"updated_at":"2015-03-24T09:27:24.000Z","updated_by":1,"published_at":"2015-03-24T09:25:52.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":109,"uuid":"889783df-712e-4b70-adda-d51225d22e30","title":"[Saga] Le site est protégé par SSL","slug":"saga-le-site-est-protege-par-ssl","markdown":"\nEt voila, dernière action en date, l’ajout d’un certificat SSL et la redirection de tout le trafic HTTP vers du HTTPS.\n\n[![[Saga] Le site est protégé par SSL](https://techan.fr/images/2015/03/screenshot.174.jpg)](https://techan.fr/images/2015/03/screenshot.174.jpg)\n\nEt grâce à mon NginX préféré, si votre navigateur est compatible, vous profitez également de l’implémentation de SPDY en attendant l’arrivée du protocole HTTP/2.\n\n[![[Saga] Le site est protégé par SSL](https://techan.fr/images/2015/03/screenshot.175.jpg)](https://techan.fr/images/2015/03/screenshot.175.jpg)\n\n \n\n\n","html":"<p>Et voila, dernière action en date, l’ajout d’un certificat SSL et la redirection de tout le trafic HTTP vers du HTTPS.</p>\n\n<p><a href=\"https://techan.fr/images/2015/03/screenshot.174.jpg\"><img src=\"https://techan.fr/images/2015/03/screenshot.174.jpg\" alt=\"[Saga] Le site est protégé par SSL\" title=\"\" /></a></p>\n\n<p>Et grâce à mon NginX préféré, si votre navigateur est compatible, vous profitez également de l’implémentation de SPDY en attendant l’arrivée du protocole HTTP/2.</p>\n\n<p><a href=\"https://techan.fr/images/2015/03/screenshot.175.jpg\"><img src=\"https://techan.fr/images/2015/03/screenshot.175.jpg\" alt=\"[Saga] Le site est protégé par SSL\" title=\"\" /></a></p>","image":"https://techan.fr/images/2015/03/PositiveSSL_tl_trans2.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-03-26T11:22:19.000Z","created_by":1,"updated_at":"2015-09-21T14:32:47.000Z","updated_by":1,"published_at":"2015-03-26T11:22:19.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":110,"uuid":"6397644b-08e5-4c72-9a32-c4557fe50380","title":"IP Failover avec KeepAlived","slug":"ip-failover-avec-keepalived","markdown":"\nJe vais expliquer ici comme faire du failover IP sur Centos / RedHat en utilisant [KeepAlived](http://www.keepalived.org/index.html). Même si cet outil peut faire bien plus, je n’utilise que cette fonctionnalité déjà très pratique et très facile à mettre en place !\n\n[![refonte_DMZ](https://techan.fr/images/2015/03/refonte_DMZ.png)](https://techan.fr/images/2015/03/refonte_DMZ.png)\n\nVoici donc l’infrastructure cible. Deux serveurs avec chacun une IP et une vIP qui passera d’un serveur à l’autre (172.16.17.83). C’est KeepAlived qui va s’occuper de vérifier lequel des serveurs doit avoir la vIP et la remonter sur une serveur si celui qui la possède n’est plus disponible.\n\n\n## Installation de KeepAlived\n\nyum -y install keepalived chkconfig --add keepalived chkconfig --level 2345 keepalived on cp /etc/keepalived/keepalived.conf{,.ori}\n\nCe n’est pas plus compliqué que ça, on en profite pour faire un backup du fichier de configuration original.\n\n\n## Configuration de KeepAlived\n\n \n\nvi /etc/keepalived/keepalived.conf\n\nVoici le fichier de configuration type pour du failover IP.\n\n! Configuration File for keepalived global_defs { notification_email { acassen@firewall.loc failover@firewall.loc sysadmin@firewall.loc } notification_email_from Alexandre.Cassen@firewall.loc smtp_server 127.0.0.1 smtp_connect_timeout 30 router_id LVS_DEVEL } vrrp_instance VI_1 { state MASTER interface eth0 virtual_router_id 51 priority 100 advert_int 1 authentication { auth_type PASS auth_pass 1111 } virtual_ipaddress { 172.16.17.83/24 dev eth0 } }\n\nLes deux seuls modifications a faire sont :\n\n- Modifier la « virtual_ipaddress » et l’interface sur laquelle elle va être bindée\n- Adapter la « priority » en mettant 101 sur le serveur maître et 100 sur le serveur backup.\n\nOn redémarre KeepAlived.\n\nservice keepalived restart Arrêt de keepalived : [ OK ] Démarrage de keepalived : [ OK ]\n\nEt on vérifie sur le serveur maître que la vIP est bien montée.\n\n# ip addr show eth0 2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000 link/ether 00:50:56:a0:29:8f brd ff:ff:ff:ff:ff:ff inet 172.16.17.82/24 brd 172.16.17.255 scope global eth0 inet 172.16.17.83/24 scope global secondary eth0 inet6 fe80::250:56ff:fea0:298f/64 scope link valid_lft forever preferred_lft forever\n\nEt voilà !\n\n \n\n \n\n\n","html":"<p>Je vais expliquer ici comme faire du failover IP sur Centos / RedHat en utilisant <a href=\"http://www.keepalived.org/index.html\">KeepAlived</a>. Même si cet outil peut faire bien plus, je n’utilise que cette fonctionnalité déjà très pratique et très facile à mettre en place !</p>\n\n<p><a href=\"https://techan.fr/images/2015/03/refonte_DMZ.png\"><img src=\"https://techan.fr/images/2015/03/refonte_DMZ.png\" alt=\"refonte_DMZ\" title=\"\" /></a></p>\n\n<p>Voici donc l’infrastructure cible. Deux serveurs avec chacun une IP et une vIP qui passera d’un serveur à l’autre (172.16.17.83). C’est KeepAlived qui va s’occuper de vérifier lequel des serveurs doit avoir la vIP et la remonter sur une serveur si celui qui la possède n’est plus disponible.</p>\n\n<h2 id=\"installationdekeepalived\">Installation de KeepAlived</h2>\n\n<p>yum -y install keepalived chkconfig --add keepalived chkconfig --level 2345 keepalived on cp /etc/keepalived/keepalived.conf{,.ori}</p>\n\n<p>Ce n’est pas plus compliqué que ça, on en profite pour faire un backup du fichier de configuration original.</p>\n\n<h2 id=\"configurationdekeepalived\">Configuration de KeepAlived</h2>\n\n<p>vi /etc/keepalived/keepalived.conf</p>\n\n<p>Voici le fichier de configuration type pour du failover IP.</p>\n\n<p>! Configuration File for keepalived global<em>defs { notification</em>email { acassen@firewall.loc failover@firewall.loc sysadmin@firewall.loc } notification<em>email</em>from Alexandre.Cassen@firewall.loc smtp<em>server 127.0.0.1 smtp</em>connect<em>timeout 30 router</em>id LVS<em>DEVEL } vrrp</em>instance VI<em>1 { state MASTER interface eth0 virtual</em>router<em>id 51 priority 100 advert</em>int 1 authentication { auth<em>type PASS auth</em>pass 1111 } virtual_ipaddress { 172.16.17.83/24 dev eth0 } }</p>\n\n<p>Les deux seuls modifications a faire sont :</p>\n\n<ul>\n<li>Modifier la « virtual_ipaddress » et l’interface sur laquelle elle va être bindée</li>\n<li>Adapter la « priority » en mettant 101 sur le serveur maître et 100 sur le serveur backup.</li>\n</ul>\n\n<p>On redémarre KeepAlived.</p>\n\n<p>service keepalived restart Arrêt de keepalived : [ OK ] Démarrage de keepalived : [ OK ]</p>\n\n<p>Et on vérifie sur le serveur maître que la vIP est bien montée.</p>\n\n<h1 id=\"ipaddrshoweth02eth0broadcastmulticastuplower_upmtu1500qdiscpfifo_faststateupqlen1000linkether005056a0298fbrdffffffffffffinet17216178224brd1721617255scopeglobaleth0inet17216178324scopeglobalsecondaryeth0inet6fe8025056fffea0298f64scopelinkvalid_lftforeverpreferred_lftforever\">ip addr show eth0 2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo<em>fast state UP qlen 1000 link/ether 00:50:56:a0:29:8f brd ff:ff:ff:ff:ff:ff inet 172.16.17.82/24 brd 172.16.17.255 scope global eth0 inet 172.16.17.83/24 scope global secondary eth0 inet6 fe80::250:56ff:fea0:298f/64 scope link valid</em>lft forever preferred_lft forever</h1>\n\n<p>Et voilà !</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-03-27T09:18:15.000Z","created_by":1,"updated_at":"2015-03-26T18:20:40.000Z","updated_by":1,"published_at":"2015-03-27T09:18:15.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":111,"uuid":"a361ef9c-1791-4558-b789-fb55f68fffbc","title":"[Saga] Bascule chez Online.net","slug":"saga-bascule-chez-online-net","markdown":"\nAprès pas mal de péripéties chez [PulseHeberg](http://pulseheberg.com/), j’ai pris un virage à 180° et suis allé voir chez [Online.net ](http://www.online.net/fr)… Même si j’étais très enthousiaste lorsque j’ai souscrit mon offre de [VPS Dedicated chez PulseHeberg](https://www.pulseheberg.com/vps/dedicated), la perspective de pouvoir créer les VMs que je souhaitais comme je le souhaitais me bottais pas mal, j’ai très vite déchanté …\n\nLeur support est certes très réactif quand il s’agit de transmettre des informations au chef de projet mais une fois que c’est fait, il faut se battre pour avoir des nouvelles et que les choses avancent … J’ai ainsi mis presque 15 jours a avoir mes VMs … Impossible de les créer via l’interface web dédiée … Le support me les a créées à la main au bout de 15 jours et il a fallu que je crie … Mais comme ils ont fait cela manuellement, les VMs ne remontaient pas dans l’interface de gestion de la prestation, donc il m’était impossible de voir les ressources restantes dans mon VPS Dedicated.  Une fois que j’ai eu mes VMs, je leur ai demandé d’attacher une adresse IP privée sur chaque VM et de mettre un reverse DNS (pour les mails), cela fait presque 3 semaines et j’attends toujours…\n\nJe passe également sur la latence réseau parfois infâme … Bref, je me suis sauvé … J’ai repris les bonnes habitudes, j’ai souscrit un bon vieux serveur dédié quatre fois plus puissant que celui que j’avais chez [Kimsufi ](https://www.kimsufi.com/fr/index.xml)et les bascules sont presque terminées.\n\nOn ne me reprendra plus sur un VPS, promis !\n\n\n","html":"<p>Après pas mal de péripéties chez <a href=\"http://pulseheberg.com/\">PulseHeberg</a>, j’ai pris un virage à 180° et suis allé voir chez <a href=\"http://www.online.net/fr\">Online.net </a>… Même si j’étais très enthousiaste lorsque j’ai souscrit mon offre de <a href=\"https://www.pulseheberg.com/vps/dedicated\">VPS Dedicated chez PulseHeberg</a>, la perspective de pouvoir créer les VMs que je souhaitais comme je le souhaitais me bottais pas mal, j’ai très vite déchanté …</p>\n\n<p>Leur support est certes très réactif quand il s’agit de transmettre des informations au chef de projet mais une fois que c’est fait, il faut se battre pour avoir des nouvelles et que les choses avancent … J’ai ainsi mis presque 15 jours a avoir mes VMs … Impossible de les créer via l’interface web dédiée … Le support me les a créées à la main au bout de 15 jours et il a fallu que je crie … Mais comme ils ont fait cela manuellement, les VMs ne remontaient pas dans l’interface de gestion de la prestation, donc il m’était impossible de voir les ressources restantes dans mon VPS Dedicated.  Une fois que j’ai eu mes VMs, je leur ai demandé d’attacher une adresse IP privée sur chaque VM et de mettre un reverse DNS (pour les mails), cela fait presque 3 semaines et j’attends toujours…</p>\n\n<p>Je passe également sur la latence réseau parfois infâme … Bref, je me suis sauvé … J’ai repris les bonnes habitudes, j’ai souscrit un bon vieux serveur dédié quatre fois plus puissant que celui que j’avais chez <a href=\"https://www.kimsufi.com/fr/index.xml\">Kimsufi </a>et les bascules sont presque terminées.</p>\n\n<p>On ne me reprendra plus sur un VPS, promis !</p>","image":"https://techan.fr/images/2015/03/06102550-photo-logo-online-net.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-03-30T14:29:06.000Z","created_by":1,"updated_at":"2015-09-21T14:32:30.000Z","updated_by":1,"published_at":"2015-03-30T14:29:06.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":112,"uuid":"c75fd051-d69a-40d6-bd4d-463989aec313","title":"Surveiller les performances d'un site avec Nagios","slug":"surveiller-les-performances-dun-site-avec-nagios","markdown":"\nJ’ai eu besoin de créer un script pour pouvoir surveiller les performances d’un site avec Nagios. Seul souci, ce site web est protégé par un SSO et il me fallait récupérer un cookie pour pouvoir récupérer la page de contenu avec « wget ». Heureusement, il est « assez » simple de gérer les cookies avec « wget ».\n\n\n##  Le script\n\nVoici donc le fameux script, anonymisé bien sûr !\n\n#!/bin/bash ####################################################### ### Monitor_website.sh ### ### Auteur : MrRaph_ ### ### Site : https://techan.fr ### ### Date : 31/03/2015 ### ### ### ####################################################### ####################################################### ### Constantes ### ####################################################### export TMP_DIRECTORY='/tmp/Monitor' export COOKIE_BASE_NAME='cookie_' export WGET=\"/usr/bin/wget\" export DATE=/bin/date ####################################################### ### Les paramètres ### ####################################################### export HOST=$1 export PORT=$2 export WARN=$3 export CRIT=$4 ####################################################### ### Le script ### ####################################################### mkdir -p ${TMP_DIRECTORY}/${PORT} cd ${TMP_DIRECTORY}/${PORT} export COOKIE=${TMP_DIRECTORY}/${PORT}/${COOKIE_BASE_NAME}${PORT} STARTTIME=$($DATE +%s%N) wget --cache=off -nv -p -H --cookies=on --post-data 'username=USER&password=PASS' --load-cookies=${COOKIE} --keep-session-cookies --save-cookies=${COOKIE} http://${HOST}:${PORT}/LOGINPAGE >/dev/null 2>&1 wget --cache=off -nv -p -H --cookies=on --post-data 'username=USER&password=PASS' --load-cookies=${COOKIE} --keep-session-cookies --save-cookies=${COOKIE} --refer=http://${HOST}:${PORT}/LOGINPAGE http://${HOST}:${PORT}/CONTENTPAGE >/dev/null 2>&1 ENDTIME=$($DATE +%s%N) TIMEDIFF=$((($ENDTIME-$STARTTIME)/1000000)) if [ \"$TIMEDIFF\" -lt \"$WARN\" ]; then STATUS=OK elif [ \"$TIMEDIFF\" -ge \"$WARN\" ] && [ \"$TIMEDIFF\" -lt \"$CRIT\" ]; then STATUS=WARNING elif [ \"$TIMEDIFF\" -ge \"$CRIT\" ]; then STATUS=CRITICAL fi OUTMSG=\"$TIMEDIFF ms\" cd ${TMP_DIRECTORY} rm -rf ${PORT} echo \"RESPONSE: $STATUS - $OUTMSG\"\"|Response=\"$TIMEDIFF\"ms;\"$WARN\";\"$CRIT\";0\" if [ \"$STATUS\" = \"OK\" ]; then exit 0 elif [ \"$STATUS\" = \"WARNING\" ]; then exit 1 elif [ \"$STATUS\" = \"CRITICAL\" ]; then exit 2 fi exit 3\n\nIl vous faudra adapter :\n\n- Les champs du formulaire de la page de connexion (dans le –post-data)\n- Les URL des pages a cibler\n\n\n## Intégration dans Nagios\n\nAfin d’intégrer le script dans Nagios, je l’ai copié dans le dossier « /usr/lib64/nagios/plugins », mon dossier $USER1$.\n\n####  Création de la commande[![Surveiller les performances d'un site avec Nagios](https://techan.fr/images/2015/03/screenshot.182.jpg)](https://techan.fr/images/2015/03/screenshot.182.jpg)\n\n#### Création du service\n\n[![Surveiller les performances d’un site avec Nagios ](https://techan.fr/images/2015/03/screenshot.183.jpg)](https://techan.fr/images/2015/03/screenshot.183.jpg)\n\nAvec ces réglages on aura :\n\n- Une alerte « WARNING » lorsque la page mettra plus de 5 secondes à charger.\n- Une alerte « CRITICAL » lorsque la page mettra plus de 7 secondes à charger.\n\n#### Et voilà !\n\n[![Surveiller les performances d’un site avec Nagios ](https://techan.fr/images/2015/03/screenshot.179.jpg)](https://techan.fr/images/2015/03/screenshot.179.jpg)\n\n\n","html":"<p>J’ai eu besoin de créer un script pour pouvoir surveiller les performances d’un site avec Nagios. Seul souci, ce site web est protégé par un SSO et il me fallait récupérer un cookie pour pouvoir récupérer la page de contenu avec « wget ». Heureusement, il est « assez » simple de gérer les cookies avec « wget ».</p>\n\n<h2 id=\"lescript\"> Le script</h2>\n\n<p>Voici donc le fameux script, anonymisé bien sûr !</p>\n\n<h1 id=\"binbashmonitor_websiteshauteurmrraph_sitehttpstechanfrdate31032015constantesexporttmp_directorytmpmonitorexportcookie_base_namecookie_exportwgetusrbinwgetexportdatebindatelesparamtresexporthostd1exportportd2exportwarnd3exportcritd4lescriptmkdirpdtmp_directorydportcddtmp_directorydportexportcookiedtmp_directorydportdcookie_base_namedportstarttimedddatesnwgetcacheoffnvphcookiesonpostdatausernameuserpasswordpassloadcookiesdcookiekeepsessioncookiessavecookiesdcookiehttpdhostdportloginpagedevnull21wgetcacheoffnvphcookiesonpostdatausernameuserpasswordpassloadcookiesdcookiekeepsessioncookiessavecookiesdcookiereferhttpdhostdportloginpagehttpdhostdportcontentpagedevnull21endtimedddatesntimediffddendtimedstarttime1000000ifdtimediffltdwarnthenstatusokelifdtimediffgedwarndtimediffltdcritthenstatuswarningelifdtimediffgedcritthenstatuscriticalfioutmsgdtimediffmscddtmp_directoryrmrfdportechoresponsedstatusdoutmsgresponsedtimediffmsdwarndcrit0ifdstatusokthenexit0elifdstatuswarningthenexit1elifdstatuscriticalthenexit2fiexit3\">!/bin/bash ####################################################### ### Monitor<em>website.sh ### ### Auteur : MrRaph</em> ### ### Site : <a href=\"https://techan.fr\">https://techan.fr</a> ### ### Date : 31/03/2015 ### ### ### ####################################################### ####################################################### ### Constantes ### ####################################################### export TMP<em>DIRECTORY='/tmp/Monitor' export COOKIE</em>BASE<em>NAME='cookie</em>' export WGET=\"/usr/bin/wget\" export DATE=/bin/date ####################################################### ### Les paramètres ### ####################################################### export HOST=$1 export PORT=$2 export WARN=$3 export CRIT=$4 ####################################################### ### Le script ### ####################################################### mkdir -p ${TMP<em>DIRECTORY}/${PORT} cd ${TMP</em>DIRECTORY}/${PORT} export COOKIE=${TMP<em>DIRECTORY}/${PORT}/${COOKIE</em>BASE<em>NAME}${PORT} STARTTIME=$($DATE +%s%N) wget --cache=off -nv -p -H --cookies=on --post-data 'username=USER&amp;password=PASS' --load-cookies=${COOKIE} --keep-session-cookies --save-cookies=${COOKIE} <a href=\"http://${HOST}:${PORT}/LOGINPAGE\">http://${HOST}:${PORT}/LOGINPAGE</a> >/dev/null 2>&amp;1 wget --cache=off -nv -p -H --cookies=on --post-data 'username=USER&amp;password=PASS' --load-cookies=${COOKIE} --keep-session-cookies --save-cookies=${COOKIE} --refer=<a href=\"http://${HOST}:${PORT}/LOGINPAGE\">http://${HOST}:${PORT}/LOGINPAGE</a> <a href=\"http://${HOST}:${PORT}/CONTENTPAGE\">http://${HOST}:${PORT}/CONTENTPAGE</a> >/dev/null 2>&amp;1 ENDTIME=$($DATE +%s%N) TIMEDIFF=$((($ENDTIME-$STARTTIME)/1000000)) if [ \"$TIMEDIFF\" -lt \"$WARN\" ]; then STATUS=OK elif [ \"$TIMEDIFF\" -ge \"$WARN\" ] &amp;&amp; [ \"$TIMEDIFF\" -lt \"$CRIT\" ]; then STATUS=WARNING elif [ \"$TIMEDIFF\" -ge \"$CRIT\" ]; then STATUS=CRITICAL fi OUTMSG=\"$TIMEDIFF ms\" cd ${TMP</em>DIRECTORY} rm -rf ${PORT} echo \"RESPONSE: $STATUS - $OUTMSG\"\"|Response=\"$TIMEDIFF\"ms;\"$WARN\";\"$CRIT\";0\" if [ \"$STATUS\" = \"OK\" ]; then exit 0 elif [ \"$STATUS\" = \"WARNING\" ]; then exit 1 elif [ \"$STATUS\" = \"CRITICAL\" ]; then exit 2 fi exit 3</h1>\n\n<p>Il vous faudra adapter :</p>\n\n<ul>\n<li>Les champs du formulaire de la page de connexion (dans le –post-data)</li>\n<li>Les URL des pages a cibler</li>\n</ul>\n\n<h2 id=\"intgrationdansnagios\">Intégration dans Nagios</h2>\n\n<p>Afin d’intégrer le script dans Nagios, je l’ai copié dans le dossier « /usr/lib64/nagios/plugins », mon dossier $USER1$.</p>\n\n<h4 id=\"crationdelacommandesurveillerlesperformancesdunsiteavecnagioshttpstechanfrwpcontentuploads201503screenshot182jpghttpstechanfrwpcontentuploads201503screenshot182jpg\"> Création de la commande<a href=\"https://techan.fr/images/2015/03/screenshot.182.jpg\"><img src=\"https://techan.fr/images/2015/03/screenshot.182.jpg\" alt=\"Surveiller les performances d'un site avec Nagios\" title=\"\" /></a></h4>\n\n<h4 id=\"crationduservice\">Création du service</h4>\n\n<p><a href=\"https://techan.fr/images/2015/03/screenshot.183.jpg\"><img src=\"https://techan.fr/images/2015/03/screenshot.183.jpg\" alt=\"Surveiller les performances d’un site avec Nagios \" title=\"\" /></a></p>\n\n<p>Avec ces réglages on aura :</p>\n\n<ul>\n<li>Une alerte « WARNING » lorsque la page mettra plus de 5 secondes à charger.</li>\n<li>Une alerte « CRITICAL » lorsque la page mettra plus de 7 secondes à charger.</li>\n</ul>\n\n<h4 id=\"etvoil\">Et voilà !</h4>\n\n<p><a href=\"https://techan.fr/images/2015/03/screenshot.179.jpg\"><img src=\"https://techan.fr/images/2015/03/screenshot.179.jpg\" alt=\"Surveiller les performances d’un site avec Nagios \" title=\"\" /></a></p>","image":"https://techan.fr/images/2015/03/nagios.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-03-31T15:03:16.000Z","created_by":1,"updated_at":"2015-03-31T15:03:16.000Z","updated_by":1,"published_at":"2015-03-31T15:03:16.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":113,"uuid":"5d049e7d-498c-44bd-806d-64739dca5a77","title":"Impossible de compiler le module vmnet sur Fedora 21","slug":"impossible-de-compiler-le-module-vmnet-sur-fedora-21","markdown":"\nJe tentais d’installer [VMware Workstation ](http://www.vmware.com/products/workstation/workstation-evaluation)11 sur mon PC personnel sous Fedora 21 et malheureusement, ce système n’étant pas supporté par VMware, il m’étais impossible de compiler les modules noyau de VMware.\n\nAprès quelques recherches sur le net, je suis tombé sur un fil sur le site [ask.fedoraproject.org ](https://ask.fedoraproject.org/en/question/65849/vmware-workstation-11-fails-to-build-vmnet-on-fedora-21/ \"ask.fedoraproject.org\")et en quelques commandes, tout s’est résolu !\n\n\n##  Les commandes\n\n[$](https://ask.fedoraproject.org/en/question/65849/vmware-workstation-11-fails-to-build-vmnet-on-fedora-21/ \"ask.fedoraproject.org\") curl http://pastie.org/pastes/9934018/download -o /tmp/vmnet-3.19.patch $ cd /usr/lib/vmware/modules/source # tar -xf vmnet.tar # patch -p0 -i /tmp/vmnet-3.19.patch # tar -cf vmnet.tar vmnet-only # rm -r *-only # vmware-modconfig --console --install-all\n\nSi tout se passe bien, le daemon vmware va démarrer sans souci.\n\nStarting vmware (via systemctl): [ OK ]\n\nEt voilà ! VMware Workstation 11 est prêt !\n\n\n","html":"<p>Je tentais d’installer <a href=\"http://www.vmware.com/products/workstation/workstation-evaluation\">VMware Workstation </a>11 sur mon PC personnel sous Fedora 21 et malheureusement, ce système n’étant pas supporté par VMware, il m’étais impossible de compiler les modules noyau de VMware.</p>\n\n<p>Après quelques recherches sur le net, je suis tombé sur un fil sur le site <a href=\"https://ask.fedoraproject.org/en/question/65849/vmware-workstation-11-fails-to-build-vmnet-on-fedora-21/\" title=\"ask.fedoraproject.org\">ask.fedoraproject.org </a>et en quelques commandes, tout s’est résolu !</p>\n\n<h2 id=\"lescommandes\"> Les commandes</h2>\n\n<p><a href=\"https://ask.fedoraproject.org/en/question/65849/vmware-workstation-11-fails-to-build-vmnet-on-fedora-21/\" title=\"ask.fedoraproject.org\">$</a> curl <a href=\"http://pastie.org/pastes/9934018/download\">http://pastie.org/pastes/9934018/download</a> -o /tmp/vmnet-3.19.patch $ cd /usr/lib/vmware/modules/source # tar -xf vmnet.tar # patch -p0 -i /tmp/vmnet-3.19.patch # tar -cf vmnet.tar vmnet-only # rm -r *-only # vmware-modconfig --console --install-all</p>\n\n<p>Si tout se passe bien, le daemon vmware va démarrer sans souci.</p>\n\n<p>Starting vmware (via systemctl): [ OK ]</p>\n\n<p>Et voilà ! VMware Workstation 11 est prêt !</p>","image":"https://techan.fr/images/2015/04/vmware_workstation_logo.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-03T11:02:35.000Z","created_by":1,"updated_at":"2015-04-03T18:06:49.000Z","updated_by":1,"published_at":"2015-04-03T11:02:35.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":114,"uuid":"d9cf2760-dab2-4e22-98e1-ceb1fc5d943f","title":"Office Lens, le scanner mobile de Microsoft","slug":"office-lens-le-scanner-mobile-de-microsoft","markdown":"\nDepuis quelques temps déjà, les applications Office sont disponibles gratuitement sur plateformes mobiles iOS et Android. Le tout connecté sur le cloud Microsoft OneDrive.\n\n![Office Lens, le scanner mobile de Microsoft](https://techan.fr/images/2015/04/IMG_9468-0.png)\n\nJ’utilise tout ceci depuis quelques temps et il faut reconnaître que tout cela fonctionne vraiment bien. C’est assez pratique de pouvoir consulter et modifier les documents ses documents de partout.\n\nMa dernière découverte, Office Lens, permet de transformer son mobile en véritable scanner. On est d’accord, il y a beaucoup d’applications qui proposent cette fonction, mais celle-ci est vraiment aboutie et pratique. Et le clou du spectacle, elle est gratuite.\n\n         [![Office Lens, le scanner mobile de Microsoft](https://techan.fr/images/2015/04/image.jpg)](https://techan.fr/images/2015/04/image.jpg)\n\n Voilà comment cela se présente, en fait comme dans les autres applications scanner. L’application détecte le document a scanner. Une fois qu’il est bien détecté, on appuye pour prendre la photo.\n\n[![Office Lens, le scanner mobile de Microsoft](https://techan.fr/images/2015/04/image1.jpg)](https://techan.fr/images/2015/04/image1.jpg)\n\nL’application travaille un peu sur la photo puis vous présente lendoculent scanné, redressé et amélioré.\n\n[![Office Lens, le scanner mobile de Microsoft](https://techan.fr/images/2015/04/image2.jpg)](https://techan.fr/images/2015/04/image2.jpg)\n\nOn peut toujours recadrer l’image ensuite, puis l’envoyer dans le cloud, par mail ou l’inclure dans un document Office.\n\n[![image](https://techan.fr/images/2015/04/image3.jpg)](https://techan.fr/images/2015/04/image3.jpg)\n\n\n","html":"<p>Depuis quelques temps déjà, les applications Office sont disponibles gratuitement sur plateformes mobiles iOS et Android. Le tout connecté sur le cloud Microsoft OneDrive.</p>\n\n<p><img src=\"https://techan.fr/images/2015/04/IMG_9468-0.png\" alt=\"Office Lens, le scanner mobile de Microsoft\" /></p>\n\n<p>J’utilise tout ceci depuis quelques temps et il faut reconnaître que tout cela fonctionne vraiment bien. C’est assez pratique de pouvoir consulter et modifier les documents ses documents de partout.</p>\n\n<p>Ma dernière découverte, Office Lens, permet de transformer son mobile en véritable scanner. On est d’accord, il y a beaucoup d’applications qui proposent cette fonction, mais celle-ci est vraiment aboutie et pratique. Et le clou du spectacle, elle est gratuite.</p>\n\n<p>         <a href=\"https://techan.fr/images/2015/04/image.jpg\"><img src=\"https://techan.fr/images/2015/04/image.jpg\" alt=\"Office Lens, le scanner mobile de Microsoft\" title=\"\" /></a></p>\n\n<p> Voilà comment cela se présente, en fait comme dans les autres applications scanner. L’application détecte le document a scanner. Une fois qu’il est bien détecté, on appuye pour prendre la photo.</p>\n\n<p><a href=\"https://techan.fr/images/2015/04/image1.jpg\"><img src=\"https://techan.fr/images/2015/04/image1.jpg\" alt=\"Office Lens, le scanner mobile de Microsoft\" title=\"\" /></a></p>\n\n<p>L’application travaille un peu sur la photo puis vous présente lendoculent scanné, redressé et amélioré.</p>\n\n<p><a href=\"https://techan.fr/images/2015/04/image2.jpg\"><img src=\"https://techan.fr/images/2015/04/image2.jpg\" alt=\"Office Lens, le scanner mobile de Microsoft\" title=\"\" /></a></p>\n\n<p>On peut toujours recadrer l’image ensuite, puis l’envoyer dans le cloud, par mail ou l’inclure dans un document Office.</p>\n\n<p><a href=\"https://techan.fr/images/2015/04/image3.jpg\"><img src=\"https://techan.fr/images/2015/04/image3.jpg\" alt=\"image\" title=\"\" /></a></p>","image":"https://techan.fr/images/2015/04/IMG_9469.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-05T13:16:09.000Z","created_by":1,"updated_at":"2015-04-05T14:12:51.000Z","updated_by":1,"published_at":"2015-04-05T13:16:09.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":115,"uuid":"0fc6c878-b28e-4f5c-ba3d-8c6acb3c603f","title":"IP Failover avec uCARP","slug":"ip-failover-avec-ucarp","markdown":"\nComme je l’ai fait avec KeepAlived (voir [IP Failover avec KeepAlived](https://techan.fr/ip-failover-avec-keepalived/)), j’ai voulu tester le FailOver IP avec uCarp.  [uCarp](http://www.pureftpd.org/project/ucarp) est le portage sur Linux de Carp – *Common Address Redundancy Protocol –* disponible sur OpenBSD.\n\nVous allez le voir, son implémentation est encore plus simple que celle de KeepAlived, qui n’était déjà pas très complexe … Il suffit en effet de configurer une interface virtuelle sur les nœuds du cluster qui doivent monter l’IP virtuelle puis de renseigner le nom de cette interface dans le fichier de configuration d’uCarp.\n\n\n## Ajouter une interface virtuelle\n\n# vi /etc/sysconfig/network-scripts/ifcfg-eth0:0 DEVICE=eth0:0 BOOTPRO=none ONBOOT=no IPADDR=172.16.17.87 NETMASK=255.255.255.0 IPV6INIT=no\n\nFaire de même sur les autres nœuds du cluster uCarp.\n\n\n## Installation et configuration d’uCarp\n\nTout d’abord on installe les paquets nécessaires, j’ajoute Apache pour faire des tests.\n\n# yum install ucarp httpd.x86_64\n\nOn duplique l’exemple de configuration.\n\n# cp /etc/sysconfig/carp/vip-001.conf.example /etc/sysconfig/carp/vip-001.conf\n\nOn renseigne la configuration avec les informations nécessaires, le nom de l’interface sur laquelle monter l’IP virtuelle – *eth0 dans mon cas* – le nom de l’interface VIP que l’on vient de créer – *eth0:0* – et un mot de passe à votre discrétion.\n\nvi /etc/sysconfig/carp/vip-001.conf # Configuration de CARP #172.16.17.87 ha-0-extappdev vip #172.16.17.85 sl-0-extappdev1.domain.fr #172.16.17.86 sl-0-extappdev2.domain.fr # # # Nom de l'interface ou accrocher la VIP BIND_INTERFACE=\"eth0\" # Nom de l'interface virtuel. Voir le fichier /etc/sysconfig/network-scripts/ifcfg-eth0:0 # Attention : forcer bootpro=none VIP_INTERFACE=\"eth0:0\" # Mot de passe du cluster: le mot de passe doit être identique pour tous les noeud du cluster. PASSWORD=\"password\"\n\nIl faut ensuite copier ce fichier sur tous les nœuds du cluster utilisant uCarp.\n\n#### Petite correction de bug\n\nLe paquet pour CentOS 6 est buggé, rassurez-vous, rien de bien grave, il suffit de corriger une ligne du fichier d’init d’uCarp. [Un bug est référencé à ce sujet](%20http://bugs.centos.org/view.php?id=6651).\n\n# vi /etc/init.d/carp\n\nRemplacer la lige 55 comme suit :\n\n#BIND_ADDRESS=\"`ifconfig ${BIND_INTERFACE} | sed -n 's/.*inet addr:\\([^ ]*\\) .*/\\1/p' | head -n 1`\" BIND_ADDRESS=\"`ifconfig ${BIND_INTERFACE} | sed -n 's/.*inet adr:\\([^ ]*\\) .*/\\1/p' | head -n 1`\"\n\n\n##  Et on est bon !\n\nIl ne reste plus qu’a démarrer uCarp.\n\n# service carp start Démarrage de démon du protocole de redondance d'adresses co[ OK ] # chkconfig --level 2345 carp on\n\n[Les mêmes tests que pour KeepAlived](https://techan.fr/ip-failover-avec-keepalived/) peuvent être joués pour valider que l’IP bascule bien.\n\n\n","html":"<p>Comme je l’ai fait avec KeepAlived (voir <a href=\"https://techan.fr/ip-failover-avec-keepalived/\">IP Failover avec KeepAlived</a>), j’ai voulu tester le FailOver IP avec uCarp.  <a href=\"http://www.pureftpd.org/project/ucarp\">uCarp</a> est le portage sur Linux de Carp – <em>Common Address Redundancy Protocol –</em> disponible sur OpenBSD.</p>\n\n<p>Vous allez le voir, son implémentation est encore plus simple que celle de KeepAlived, qui n’était déjà pas très complexe … Il suffit en effet de configurer une interface virtuelle sur les nœuds du cluster qui doivent monter l’IP virtuelle puis de renseigner le nom de cette interface dans le fichier de configuration d’uCarp.</p>\n\n<h2 id=\"ajouteruneinterfacevirtuelle\">Ajouter une interface virtuelle</h2>\n\n<h1 id=\"vietcsysconfignetworkscriptsifcfgeth00deviceeth00bootprononeonbootnoipaddr172161787netmask2552552550ipv6initno\">vi /etc/sysconfig/network-scripts/ifcfg-eth0:0 DEVICE=eth0:0 BOOTPRO=none ONBOOT=no IPADDR=172.16.17.87 NETMASK=255.255.255.0 IPV6INIT=no</h1>\n\n<p>Faire de même sur les autres nœuds du cluster uCarp.</p>\n\n<h2 id=\"installationetconfigurationducarp\">Installation et configuration d’uCarp</h2>\n\n<p>Tout d’abord on installe les paquets nécessaires, j’ajoute Apache pour faire des tests.</p>\n\n<h1 id=\"yuminstallucarphttpdx86_64\">yum install ucarp httpd.x86_64</h1>\n\n<p>On duplique l’exemple de configuration.</p>\n\n<h1 id=\"cpetcsysconfigcarpvip001confexampleetcsysconfigcarpvip001conf\">cp /etc/sysconfig/carp/vip-001.conf.example /etc/sysconfig/carp/vip-001.conf</h1>\n\n<p>On renseigne la configuration avec les informations nécessaires, le nom de l’interface sur laquelle monter l’IP virtuelle – <em>eth0 dans mon cas</em> – le nom de l’interface VIP que l’on vient de créer – <em>eth0:0</em> – et un mot de passe à votre discrétion.</p>\n\n<p>vi /etc/sysconfig/carp/vip-001.conf # Configuration de CARP #172.16.17.87 ha-0-extappdev vip #172.16.17.85 sl-0-extappdev1.domain.fr #172.16.17.86 sl-0-extappdev2.domain.fr # # # Nom de l'interface ou accrocher la VIP BIND<em>INTERFACE=\"eth0\" # Nom de l'interface virtuel. Voir le fichier /etc/sysconfig/network-scripts/ifcfg-eth0:0 # Attention : forcer bootpro=none VIP</em>INTERFACE=\"eth0:0\" # Mot de passe du cluster: le mot de passe doit être identique pour tous les noeud du cluster. PASSWORD=\"password\"</p>\n\n<p>Il faut ensuite copier ce fichier sur tous les nœuds du cluster utilisant uCarp.</p>\n\n<h4 id=\"petitecorrectiondebug\">Petite correction de bug</h4>\n\n<p>Le paquet pour CentOS 6 est buggé, rassurez-vous, rien de bien grave, il suffit de corriger une ligne du fichier d’init d’uCarp. <a href=\"%20http://bugs.centos.org/view.php?id=6651\">Un bug est référencé à ce sujet</a>.</p>\n\n<h1 id=\"vietcinitdcarp\">vi /etc/init.d/carp</h1>\n\n<p>Remplacer la lige 55 comme suit :</p>\n\n<h1 id=\"bind_addressifconfigdbind_interfacesednsinetaddr1pheadn1bind_addressifconfigdbind_interfacesednsinetadr1pheadn1\">BIND<em>ADDRESS=\"<code>ifconfig ${BIND_INTERFACE} | sed -n 's/.*inet addr:\\([^ ]*\\) .*/\\1/p' | head -n 1</code>\" BIND</em>ADDRESS=\"<code>ifconfig ${BIND_INTERFACE} | sed -n 's/.*inet adr:\\([^ ]*\\) .*/\\1/p' | head -n 1</code>\"</h1>\n\n<h2 id=\"etonestbon\"> Et on est bon !</h2>\n\n<p>Il ne reste plus qu’a démarrer uCarp.</p>\n\n<h1 id=\"servicecarpstartdmarragededmonduprotocolederedondancedadressescookchkconfiglevel2345carpon\">service carp start Démarrage de démon du protocole de redondance d'adresses co[ OK ] # chkconfig --level 2345 carp on</h1>\n\n<p><a href=\"https://techan.fr/ip-failover-avec-keepalived/\">Les mêmes tests que pour KeepAlived</a> peuvent être joués pour valider que l’IP bascule bien.</p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-07T11:22:33.000Z","created_by":1,"updated_at":"2015-04-07T15:47:02.000Z","updated_by":1,"published_at":"2015-04-07T11:22:33.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":116,"uuid":"4538614d-a50a-40c1-8d82-e4532c9c57ae","title":"Clefs beta pour Heroes of the Storm","slug":"clefs-beta-pour-heroes-of-the-storm","markdown":"\n**[Édit 13/04/2015] **<span style=\"line-height: normal; -webkit-text-size-adjust: auto; background-color: rgba(255, 255, 255, 0);\">*Il ne reste plus de clef disponible …*</span>**  \n**\n\n**[Édit 12/04/2015] ***Il ne reste plus qu’une clef disponible !*\n\nIl y a quelques temps déjà, j’ai reçu une clef pour l’alpha d’[*Heroes of the Storm*](http://us.battle.net/heroes/en/), le nouveau jeu de Blizzard. C’est un « MOBA », le même genre de jeu que [*League of Legends*](http://euw.leagueoflegends.com/). Le dernier arrivé de la famille Blizzard regroupe toutes les séries du studio. On peut y incarner des personnages comme Diablo, Jim Raynor ou Thrall, le but étant de détruire le cœur de la base adversaire avant que l’équipe opposée ne le fasse.\n\n[![Clefs beta pour Heroes of the Storm](https://techan.fr/images/2015/04/Heroes_of_the_Storm_logo.png)](https://techan.fr/images/2015/04/Heroes_of_the_Storm_logo.png)\n\nCe nouveau jeu est commercialisé sous la forme d’un freemium, comme *League of Legends* d’ailleurs. Le jeu de base sera gratuit et vous pourrez progresser avec de l’argent gagné en jouant. L’éditeur propose d’acheter la monnaie du jeu afin de progresser plus vite, de posséder plus de héro, …\n\nJ’ai reçu par mail aujourd’hui 4 clefs beta pour Heroes of the Storm et visiblement, ces clefs débloquent également un héro supplémentaire : *Valla la chasseuse de démons*.\n\n[![Clefs beta pour Heroes of the Storm](https://techan.fr/images/2015/04/mail_blizzard_HotS.jpg)](https://techan.fr/images/2015/04/mail_blizzard_HotS.jpg)\n\nJ’offre donc ces clefs aux 4 premières personnes qui laissent un commentaire sur cet article. Je vous la ferait suivre directement par mail. A vos claviers !\n\n\n","html":"<p><strong>[Édit 13/04/2015] <em>*<span style=\"line-height: normal; -webkit-text-size-adjust: auto; background-color: rgba(255, 255, 255, 0);\"></em>Il ne reste plus de clef disponible …<em></span></strong> <br />\n*</em></p>\n\n<p><strong>[Édit 12/04/2015] <em></strong>Il ne reste plus qu’une clef disponible !</em></p>\n\n<p>Il y a quelques temps déjà, j’ai reçu une clef pour l’alpha d’<a href=\"http://us.battle.net/heroes/en/\"><em>Heroes of the Storm</em></a>, le nouveau jeu de Blizzard. C’est un « MOBA », le même genre de jeu que <a href=\"http://euw.leagueoflegends.com/\"><em>League of Legends</em></a>. Le dernier arrivé de la famille Blizzard regroupe toutes les séries du studio. On peut y incarner des personnages comme Diablo, Jim Raynor ou Thrall, le but étant de détruire le cœur de la base adversaire avant que l’équipe opposée ne le fasse.</p>\n\n<p><a href=\"https://techan.fr/images/2015/04/Heroes_of_the_Storm_logo.png\"><img src=\"https://techan.fr/images/2015/04/Heroes_of_the_Storm_logo.png\" alt=\"Clefs beta pour Heroes of the Storm\" title=\"\" /></a></p>\n\n<p>Ce nouveau jeu est commercialisé sous la forme d’un freemium, comme <em>League of Legends</em> d’ailleurs. Le jeu de base sera gratuit et vous pourrez progresser avec de l’argent gagné en jouant. L’éditeur propose d’acheter la monnaie du jeu afin de progresser plus vite, de posséder plus de héro, …</p>\n\n<p>J’ai reçu par mail aujourd’hui 4 clefs beta pour Heroes of the Storm et visiblement, ces clefs débloquent également un héro supplémentaire : <em>Valla la chasseuse de démons</em>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/04/mail_blizzard_HotS.jpg\"><img src=\"https://techan.fr/images/2015/04/mail_blizzard_HotS.jpg\" alt=\"Clefs beta pour Heroes of the Storm\" title=\"\" /></a></p>\n\n<p>J’offre donc ces clefs aux 4 premières personnes qui laissent un commentaire sur cet article. Je vous la ferait suivre directement par mail. A vos claviers !</p>","image":"https://techan.fr/images/2015/04/cadeau_blizzard.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-08T17:29:55.000Z","created_by":1,"updated_at":"2015-04-15T08:45:01.000Z","updated_by":1,"published_at":"2015-04-08T17:29:55.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":117,"uuid":"8f81a1c1-31cb-4237-abf5-8e75314b615a","title":"Astuces utiles pour MySQL","slug":"astuces-utiles-pour-mysql","markdown":"\nVoici une compilation de différentes astuces utiles pour MySQL. Je les ai trouvées sur différents sites et j’en avais marre de refaire les mêmes recherches à chaque fois que ces petits tracas se représente.\n\n\n## Recréer le user « debian-sys-maint »\n\nCet utilisateur privilégié est créé lors de l’installation de MySQL sur les plateformes de la famille Debian. Il permet au système de faire des actions d’administration sans avoir à demander le mot de passe « root ». Par exemple, il me sert à faire les backups MySQL avec BackupNinja. Cependant, il arrive que ce compte soit mal créé ou qu’il soit supprimé … Ça m’est arrivé lorsque j’ai voulu installer un outil psycho -rigide qui voulait forcer l’installation de MySQL en lieu et place de mon serveur MariaDB.\n\n#### Bon à savoir\n\nLe mot de passe de l’utilisateur « debian-sys-maint’ est renseigné dans le fichier de configuration « /etc/mysql/debian.cnf ».\n\n#### La marche à suivre\n\nIl suffit de se connecter à MySQL en root et lancer les commandes SQL suivantes.\n\nuse mysql ; INSERT INTO `user` ( `Host`, `User`, `Password`, `Select_priv`, `Insert_priv`, `Update_priv`, `Delete_priv`, `Create_priv`, `Drop_priv`, `Reload_priv`, `Shutdown_priv`, `Process_priv`, `File_priv`, `Grant_priv`, `References_priv`, `Index_priv`, `Alter_priv`, `Show_db_priv`, `Super_priv`, `Create_tmp_table_priv`, `Lock_tables_priv`, `Execute_priv`, `Repl_slave_priv`, `Repl_client_priv`, `Create_view_priv`, `Show_view_priv`, `Create_routine_priv`, `Alter_routine_priv`, `Create_user_priv`, `ssl_type`, `ssl_cipher`, `x509_issuer`, `x509_subject`, `max_questions`, `max_updates`, `max_connections`, `max_user_connections` ) VALUES ( 'localhost', 'debian-sys-maint', password('A recuperer dans le fichier /etc/mysql/debian.cnf'), 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'N', 'N', 'N', 'N', 'N', '', '', '', '', 0, 0, 0, 0 ); FLUSH PRIVILEGES;\n\n####  Plus de fun\n\nSi le compte est toujours là mais que le mot de passe a été changé, la méthode ci-avant ne fonctionnera pas. Dans ce cas précis, il faut utiliser la commande suivante.\n\nuse mysql; update user set password=password('A recuperer dans le fichier /etc/mysql/debian.cnf') where User='debian-sys-maint' ;\n\n####  La source\n\nL’astuce vient du site : [www.electrictoolbox.com](http://www.electrictoolbox.com/restore-debian-sys-maint-mysql-user/ \"www.electrictoolbox.com\")\n\n \n\n\n## Réinitialiser le mot de passe root\n\nSi comme moi vous n’avez pas de mémoire ou tout simplement que vous n’avez jamais su le mot de passe root d’une instance MySQL, il est possible de le changer. <span style=\"text-decoration: underline;\">Attention toute fois</span>, ceci nécessite un arrêt de l’instance MySQL <span style=\"text-decoration: underline;\">et</span> les programmes se connectant à cette instance MySQL avec le compte root n’y auront plus accès !\n\n#### La marche à suivre\n\nComme je vous le disais, la première chose à faire est d’arrêter MySQL.\n\n# service mysql stop * Stopping MariaDB database server mysqld [ OK ]\n\nOn redémarre sans la gestion des privilèges et on se connecte à l’instance en root, <span style=\"text-decoration: underline;\">aucun mot de passe n’est demandé dans ce mode</span>.\n\nNotez bien le PID lors du démarrage.\n\n# mysqld --skip-grant-tables & [1] 27126 # mysql -u root mysql Reading table information for completion of table and column names You can turn off this feature to get a quicker startup with -A Welcome to the MariaDB monitor. Commands end with ; or \\g. Your MariaDB connection id is 2 Server version: 10.0.17-MariaDB-1~utopic mariadb.org binary distribution Copyright (c) 2000, 2015, Oracle, MariaDB Corporation Ab and others. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. MariaDB [mysql]>\n\nOn peut alors mettre à jour le mot de passe de l’utilisateur ‘root’.\n\nMariaDB [mysql]> UPDATE user SET Password=PASSWORD('NOUVEAU MOT DE PASSE') WHERE User='root'; Query OK, 4 rows affected (0.00 sec) Rows matched: 4 Changed: 4 Warnings: 0 MariaDB [mysql]> FLUSH PRIVILEGES; Query OK, 0 rows affected (0.03 sec) MariaDB [mysql]> exit; Bye\n\nOn éteint le serveur MySQL en lançant un ‘kill’ sur le PID qu’on a noté juste avant.\n\n# kill 27126\n\nOn attend quelques secondes, on appuie plusieurs fois sur la touche Entrée jusqu’à voir ceci :\n\n# # [1]+ Done mysqld --skip-grant-tables # #\n\nOn peut maintenant redémarrer MySQL normalement.\n\n# service mysql start * Starting MariaDB database server mysqld [ OK ] * Checking for corrupt, not cleanly closed and upgrade needing tables.\n\nEt se connecter avec le nouveau mot de passe root.\n\n# mysql -u root -p Enter password: Welcome to the MariaDB monitor. Commands end with ; or \\g. Your MariaDB connection id is 2 Server version: 10.0.17-MariaDB-1~utopic mariadb.org binary distribution Copyright (c) 2000, 2015, Oracle, MariaDB Corporation Ab and others. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. MariaDB []>\n\n####  La source\n\nL’astuce vient du site : [ubuntu.flowconsult.at](http://ubuntu.flowconsult.at/en/mysql-set-change-reset-root-password/)\n\n\n","html":"<p>Voici une compilation de différentes astuces utiles pour MySQL. Je les ai trouvées sur différents sites et j’en avais marre de refaire les mêmes recherches à chaque fois que ces petits tracas se représente.</p>\n\n<h2 id=\"recrerleuserdebiansysmaint\">Recréer le user « debian-sys-maint »</h2>\n\n<p>Cet utilisateur privilégié est créé lors de l’installation de MySQL sur les plateformes de la famille Debian. Il permet au système de faire des actions d’administration sans avoir à demander le mot de passe « root ». Par exemple, il me sert à faire les backups MySQL avec BackupNinja. Cependant, il arrive que ce compte soit mal créé ou qu’il soit supprimé … Ça m’est arrivé lorsque j’ai voulu installer un outil psycho -rigide qui voulait forcer l’installation de MySQL en lieu et place de mon serveur MariaDB.</p>\n\n<h4 id=\"bonsavoir\">Bon à savoir</h4>\n\n<p>Le mot de passe de l’utilisateur « debian-sys-maint’ est renseigné dans le fichier de configuration « /etc/mysql/debian.cnf ».</p>\n\n<h4 id=\"lamarchesuivre\">La marche à suivre</h4>\n\n<p>Il suffit de se connecter à MySQL en root et lancer les commandes SQL suivantes.</p>\n\n<p>use mysql ; INSERT INTO <code>user</code> ( <code>Host</code>, <code>User</code>, <code>Password</code>, <code>Select_priv</code>, <code>Insert_priv</code>, <code>Update_priv</code>, <code>Delete_priv</code>, <code>Create_priv</code>, <code>Drop_priv</code>, <code>Reload_priv</code>, <code>Shutdown_priv</code>, <code>Process_priv</code>, <code>File_priv</code>, <code>Grant_priv</code>, <code>References_priv</code>, <code>Index_priv</code>, <code>Alter_priv</code>, <code>Show_db_priv</code>, <code>Super_priv</code>, <code>Create_tmp_table_priv</code>, <code>Lock_tables_priv</code>, <code>Execute_priv</code>, <code>Repl_slave_priv</code>, <code>Repl_client_priv</code>, <code>Create_view_priv</code>, <code>Show_view_priv</code>, <code>Create_routine_priv</code>, <code>Alter_routine_priv</code>, <code>Create_user_priv</code>, <code>ssl_type</code>, <code>ssl_cipher</code>, <code>x509_issuer</code>, <code>x509_subject</code>, <code>max_questions</code>, <code>max_updates</code>, <code>max_connections</code>, <code>max_user_connections</code> ) VALUES ( 'localhost', 'debian-sys-maint', password('A recuperer dans le fichier /etc/mysql/debian.cnf'), 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'N', 'N', 'N', 'N', 'N', '', '', '', '', 0, 0, 0, 0 ); FLUSH PRIVILEGES;</p>\n\n<h4 id=\"plusdefun\"> Plus de fun</h4>\n\n<p>Si le compte est toujours là mais que le mot de passe a été changé, la méthode ci-avant ne fonctionnera pas. Dans ce cas précis, il faut utiliser la commande suivante.</p>\n\n<p>use mysql; update user set password=password('A recuperer dans le fichier /etc/mysql/debian.cnf') where User='debian-sys-maint' ;</p>\n\n<h4 id=\"lasource\"> La source</h4>\n\n<p>L’astuce vient du site : <a href=\"http://www.electrictoolbox.com/restore-debian-sys-maint-mysql-user/\" title=\"www.electrictoolbox.com\">www.electrictoolbox.com</a></p>\n\n<h2 id=\"rinitialiserlemotdepasseroot\">Réinitialiser le mot de passe root</h2>\n\n<p>Si comme moi vous n’avez pas de mémoire ou tout simplement que vous n’avez jamais su le mot de passe root d’une instance MySQL, il est possible de le changer. <span style=\"text-decoration: underline;\">Attention toute fois</span>, ceci nécessite un arrêt de l’instance MySQL <span style=\"text-decoration: underline;\">et</span> les programmes se connectant à cette instance MySQL avec le compte root n’y auront plus accès !</p>\n\n<h4 id=\"lamarchesuivre\">La marche à suivre</h4>\n\n<p>Comme je vous le disais, la première chose à faire est d’arrêter MySQL.</p>\n\n<h1 id=\"servicemysqlstopstoppingmariadbdatabaseservermysqldok\">service mysql stop * Stopping MariaDB database server mysqld [ OK ]</h1>\n\n<p>On redémarre sans la gestion des privilèges et on se connecte à l’instance en root, <span style=\"text-decoration: underline;\">aucun mot de passe n’est demandé dans ce mode</span>.</p>\n\n<p>Notez bien le PID lors du démarrage.</p>\n\n<h1 id=\"mysqldskipgranttables127126mysqlurootmysqlreadingtableinformationforcompletionoftableandcolumnnamesyoucanturnoffthisfeaturetogetaquickerstartupwithawelcometothemariadbmonitorcommandsendwithorgyourmariadbconnectionidis2serverversion10017mariadb1tutopicmariadborgbinarydistributioncopyrightc20002015oraclemariadbcorporationabandotherstypehelporhforhelptypectoclearthecurrentinputstatementmariadbmysql\">mysqld --skip-grant-tables &amp; [1] 27126 # mysql -u root mysql Reading table information for completion of table and column names You can turn off this feature to get a quicker startup with -A Welcome to the MariaDB monitor. Commands end with ; or \\g. Your MariaDB connection id is 2 Server version: 10.0.17-MariaDB-1~utopic mariadb.org binary distribution Copyright (c) 2000, 2015, Oracle, MariaDB Corporation Ab and others. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. MariaDB [mysql]></h1>\n\n<p>On peut alors mettre à jour le mot de passe de l’utilisateur ‘root’.</p>\n\n<p>MariaDB [mysql]> UPDATE user SET Password=PASSWORD('NOUVEAU MOT DE PASSE') WHERE User='root'; Query OK, 4 rows affected (0.00 sec) Rows matched: 4 Changed: 4 Warnings: 0 MariaDB [mysql]> FLUSH PRIVILEGES; Query OK, 0 rows affected (0.03 sec) MariaDB [mysql]> exit; Bye</p>\n\n<p>On éteint le serveur MySQL en lançant un ‘kill’ sur le PID qu’on a noté juste avant.</p>\n\n<h1 id=\"kill27126\">kill 27126</h1>\n\n<p>On attend quelques secondes, on appuie plusieurs fois sur la touche Entrée jusqu’à voir ceci :</p>\n\n<h1 id=\"1donemysqldskipgranttables\"># [1]+ Done mysqld --skip-grant-tables #</h1>\n\n<p>On peut maintenant redémarrer MySQL normalement.</p>\n\n<h1 id=\"servicemysqlstartstartingmariadbdatabaseservermysqldokcheckingforcorruptnotcleanlyclosedandupgradeneedingtables\">service mysql start * Starting MariaDB database server mysqld [ OK ] * Checking for corrupt, not cleanly closed and upgrade needing tables.</h1>\n\n<p>Et se connecter avec le nouveau mot de passe root.</p>\n\n<h1 id=\"mysqlurootpenterpasswordwelcometothemariadbmonitorcommandsendwithorgyourmariadbconnectionidis2serverversion10017mariadb1tutopicmariadborgbinarydistributioncopyrightc20002015oraclemariadbcorporationabandotherstypehelporhforhelptypectoclearthecurrentinputstatementmariadb\">mysql -u root -p Enter password: Welcome to the MariaDB monitor. Commands end with ; or \\g. Your MariaDB connection id is 2 Server version: 10.0.17-MariaDB-1~utopic mariadb.org binary distribution Copyright (c) 2000, 2015, Oracle, MariaDB Corporation Ab and others. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. MariaDB []></h1>\n\n<h4 id=\"lasource\"> La source</h4>\n\n<p>L’astuce vient du site : <a href=\"http://ubuntu.flowconsult.at/en/mysql-set-change-reset-root-password/\">ubuntu.flowconsult.at</a></p>","image":"https://techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-15T14:44:07.000Z","created_by":1,"updated_at":"2015-04-22T10:55:26.000Z","updated_by":1,"published_at":"2015-04-15T14:44:07.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":118,"uuid":"4cda794d-110f-4422-8196-aa897358ac1b","title":"Installer manuellement Tomcat 8 sur Fedora 21","slug":"installer-manuellement-tomcat-8-sur-fedora-21","markdown":"\nVoici un procédure pour installer manuellement Tomcat8 sur Fedora 21. L’installation manuelle a des avantages, on peut notamment avoir une version récente avant que l’éditeur de la distribution ne les pousse dans les dépôts. Cependant avec cette méthode, on se prive des mises à jour automatiques et en particulier des patchs de sécurité. Il faut donc peser le pour et le contre avant de choisir…\n\n \n\nJe souhaitais installer Tomcat8 manuellement pour pouvoir faire des tests en parallèle du Tomcat installé par Fedora 21.\n\n\n## \n\n\n## Installation de Java 8 (Oracle)\n\nIl faut dans un premier temps télécharger le package et le décompresser.\n\n[root@xxxx tmp]# cd /opt/ [root@xxxx opt]# wget --no-cookies --no-check-certificate --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie\" \"http://download.oracle.com/otn-pub/java/jdk/8u31-b13/jdk-8u31-linux-x64.tar.gz\" [root@xxxx opt]# tar xzf jdk-8u31-linux-x64.tar.gz\n\nOn ajoute la nouvelle alternative pour Java.\n\n[root@xxxx jdk1.8.0_31]# alternatives --install /usr/bin/java java /opt/jdk1.8.0_31/bin/java 2 [root@xxxx jdk1.8.0_31]# alternatives --config java Il existe 2 programmes qui fournissent « java ». Sélection Commande ----------------------------------------------- *+ 1 /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.31-3.b13.fc21.x86_64/jre/bin/java 2 /opt/jdk1.8.0_31/bin/java Entrez pour garder la sélection courante [+] ou saisissez le numéro de type de sélection :2\n\nOn met ensuite à jour les alternatives pour que notre nouveau Java devienne la version par défaut du système.\n\n[root@xxxx jdk1.8.0_31]# alternatives --install /usr/bin/jar jar /opt/jdk1.8.0_31/bin/jar 2 [root@xxxx jdk1.8.0_31]# alternatives --install /usr/bin/javac javac /opt/jdk1.8.0_31/bin/javac 2 [root@xxxx jdk1.8.0_31]# alternatives --set jar /opt/jdk1.8.0_31/bin/jar [root@xxxx jdk1.8.0_31]# alternatives --set javac /opt/jdk1.8.0_31/bin/javac\n\nUn petit test :\n\n[root@xxxx jdk1.8.0_31]# java -version java version \"1.8.0_31\" Java(TM) SE Runtime Environment (build 1.8.0_31-b13) Java HotSpot(TM) 64-Bit Server VM (build 25.31-b07, mixed mode)\n\n \n\n\n## Installation de Tomcat 8\n\nOn télécharge Tomcat, on le décompresse dans « /opt/tomcat8 ».\n\n[root@xxxx ~]# cd /tmp [root@xxxx tmp]# wget http://mirror.tcpdiag.net/apache/tomcat/tomcat-8/v8.0.18/bin/apache-tomcat-8.0.18.tar.gz [root@xxxx tmp]# tar xvzf apache-tomcat-8.0.18.tar.gz [root@xxxx tmp]# mv apache-tomcat-8.0.18 /opt/tomcat8 [root@xxxx tmp]# ln -s /opt/tomcat8 /opt/tomcat-latest\n\nLe lient symbolique « /opt/tomcat-latest » va nous permettre d’être un peu plus fexible dans la gestion des versions de Tomcat installées manuellement. Le jour ou j’installerais Tomcat 9, je le mettrais à jour et tout mes scripts « suivront » cette évolution.\n\nMaintenant, démarrons Tomcat 8 le plus simplement du monde.\n\n[root@xxxx tmp]# cd /opt/tomcat-latest/ [root@xxxx tomcat-latest]# ll total 116 drwxr-xr-x. 2 root root 4096 11 févr. 08:40 bin drwxr-xr-x. 2 root root 4096 28 janv. 16:54 conf drwxr-xr-x. 2 root root 4096 11 févr. 08:40 lib -rw-r--r--. 1 root root 56812 28 janv. 16:54 LICENSE drwxr-xr-x. 2 root root 4096 28 janv. 16:51 logs -rw-r--r--. 1 root root 1192 28 janv. 16:54 NOTICE -rw-r--r--. 1 root root 8963 28 janv. 16:54 RELEASE-NOTES -rw-r--r--. 1 root root 16204 28 janv. 16:54 RUNNING.txt drwxr-xr-x. 2 root root 4096 11 févr. 08:40 temp drwxr-xr-x. 7 root root 4096 28 janv. 16:53 webapps drwxr-xr-x. 2 root root 4096 28 janv. 16:51 work [root@xxxx tomcat7]# ./bin/startup.sh Using CATALINA_BASE: /opt/tomcat-latest Using CATALINA_HOME: /opt/tomcat-latest Using CATALINA_TMPDIR: /opt/tomcat-latest/temp Using JRE_HOME: / Using CLASSPATH: /opt/tomcat-latest/bin/bootstrap.jar:/opt/tomcat7/bin/tomcat-juli.jar Tomcat started.\n\n\n## \n\n\n## Configuration de Tomcat 8\n\n####  Création de l’utilisateur admin\n\nOn se rend dans le dossier « /opt/tomcat-latest » et on édite le fichier « conf/tomcat-users.xml ».\n\n[root@xxxx ~]# cd /opt/tomcat-latest/ [root@xxxx tomcat-latest]# vi conf/tomcat-users.xml\n\nVoici à quoi ce fichier doit ressembler pour que l’utilisateur « admin » ai accès à l’interface d’administration de Tomcat 8.\n\nxmlns=\"http://tomcat.apache.org/xml\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://tomcat.apache.org/xml tomcat-users.xsd\" version=\"1.0\">\n\nOn positionne les droits comme il faut.\n\n[root@xxxx ~]# chown -R tomcat:tomcat /opt/tomcat-latest/\n\n####  Configuration avec Systemd\n\nOn va créer un nouveau fichier « tomcat8.service » dans le dossier « /etc/systemd/system/ ». Ce fichier remplace le bon vieux « /etc/init.d/tomcat8 » et va nous permettre de démarrer Tomcat 8 avec le système et/ou la commande « service ».\n\n[root@xxxx tomcat-latest]# vi /etc/systemd/system/tomcat8.service\n\nVoici le contenu de ce fichier.\n\n[Unit] Description=Tomcat8 After=network.target [Service] Type=forking User=tomcat Group=tomcat Environment=CATALINA_PID=/opt/tomcat-latest/tomcat8.pid Environment=TOMCAT_JAVA_HOME=/opt/jdk1.8.0_31/ Environment=CATALINA_HOME=/opt/tomcat-latest Environment=CATALINA_BASE=/opt/tomcat-latest Environment=CATALINA_OPTS= Environment=\"JAVA_OPTS=-Dfile.encoding=UTF-8 -Dnet.sf.ehcache.skipUpdateCheck=true -XX:+UseConcMarkSweepGC -XX:+CMSClassUnloadingEnabled -XX:+UseParNewGC -XX:MaxPermSize=128m -Xms512m -Xmx512m\" ExecStart=/opt/tomcat-latest/bin/startup.sh ExecStop=/bin/kill -15 $MAINPID [Install] WantedBy=multi-user.target\n\nOn démarre Tomcat 8 !\n\n[root@xxxx tomcat-latest]# systemctl daemon-reload [root@xxxx tomcat-latest]# systemctl restart tomcat8\n\nOn peut maintenant se rendre à l’adresse : http://localhost:8080/ et voir cette magnifique page.\n\n[![screenshot.1423643818](https://techan.fr/images/2015/02/screenshot.1423643818.png)](https://techan.fr/images/2015/02/screenshot.1423643818.png)Et dans les logs :\n\n[root@xxxx logs]# journalctl -f -- Logs begin at dim. 2015-02-01 15:14:43 CET. -- févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using CATALINA_BASE: /opt/tomcat-latest févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using CATALINA_HOME: /opt/tomcat-latest févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using CATALINA_TMPDIR: /opt/tomcat-latest/temp févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using JRE_HOME: /usr févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using CLASSPATH: /opt/tomcat-latest/bin/bootstrap.jar:/opt/tomcat-latest/bin/tomcat-juli.jar févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using CATALINA_PID: /opt/tomcat-latest/tomcat8.pid févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Tomcat started.\n\n\n","html":"<p>Voici un procédure pour installer manuellement Tomcat8 sur Fedora 21. L’installation manuelle a des avantages, on peut notamment avoir une version récente avant que l’éditeur de la distribution ne les pousse dans les dépôts. Cependant avec cette méthode, on se prive des mises à jour automatiques et en particulier des patchs de sécurité. Il faut donc peser le pour et le contre avant de choisir…</p>\n\n<p>Je souhaitais installer Tomcat8 manuellement pour pouvoir faire des tests en parallèle du Tomcat installé par Fedora 21.</p>\n\n<h2 id=\"\"> </h2>\n\n<h2 id=\"installationdejava8oracle\">Installation de Java 8 (Oracle)</h2>\n\n<p>Il faut dans un premier temps télécharger le package et le décompresser.</p>\n\n<p>[root@xxxx tmp]# cd /opt/ [root@xxxx opt]# wget --no-cookies --no-check-certificate --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie\" \"<a href=\"http://download.oracle.com/otn-pub/java/jdk/8u31-b13/jdk-8u31-linux-x64.tar.gz\">http://download.oracle.com/otn-pub/java/jdk/8u31-b13/jdk-8u31-linux-x64.tar.gz</a>\" [root@xxxx opt]# tar xzf jdk-8u31-linux-x64.tar.gz</p>\n\n<p>On ajoute la nouvelle alternative pour Java.</p>\n\n<p>[root@xxxx jdk1.8.0<em>31]# alternatives --install /usr/bin/java java /opt/jdk1.8.0</em>31/bin/java 2 [root@xxxx jdk1.8.0<em>31]# alternatives --config java Il existe 2 programmes qui fournissent « java ». Sélection Commande ----------------------------------------------- *+ 1 /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.31-3.b13.fc21.x86</em>64/jre/bin/java 2 /opt/jdk1.8.0_31/bin/java Entrez pour garder la sélection courante [+] ou saisissez le numéro de type de sélection :2</p>\n\n<p>On met ensuite à jour les alternatives pour que notre nouveau Java devienne la version par défaut du système.</p>\n\n<p>[root@xxxx jdk1.8.0<em>31]# alternatives --install /usr/bin/jar jar /opt/jdk1.8.0</em>31/bin/jar 2 [root@xxxx jdk1.8.0<em>31]# alternatives --install /usr/bin/javac javac /opt/jdk1.8.0</em>31/bin/javac 2 [root@xxxx jdk1.8.0<em>31]# alternatives --set jar /opt/jdk1.8.0</em>31/bin/jar [root@xxxx jdk1.8.0<em>31]# alternatives --set javac /opt/jdk1.8.0</em>31/bin/javac</p>\n\n<p>Un petit test :</p>\n\n<p>[root@xxxx jdk1.8.0<em>31]# java -version java version \"1.8.0</em>31\" Java(TM) SE Runtime Environment (build 1.8.0_31-b13) Java HotSpot(TM) 64-Bit Server VM (build 25.31-b07, mixed mode)</p>\n\n<h2 id=\"installationdetomcat8\">Installation de Tomcat 8</h2>\n\n<p>On télécharge Tomcat, on le décompresse dans « /opt/tomcat8 ».</p>\n\n<p>[root@xxxx ~]# cd /tmp [root@xxxx tmp]# wget <a href=\"http://mirror.tcpdiag.net/apache/tomcat/tomcat-8/v8.0.18/bin/apache-tomcat-8.0.18.tar.gz\">http://mirror.tcpdiag.net/apache/tomcat/tomcat-8/v8.0.18/bin/apache-tomcat-8.0.18.tar.gz</a> [root@xxxx tmp]# tar xvzf apache-tomcat-8.0.18.tar.gz [root@xxxx tmp]# mv apache-tomcat-8.0.18 /opt/tomcat8 [root@xxxx tmp]# ln -s /opt/tomcat8 /opt/tomcat-latest</p>\n\n<p>Le lient symbolique « /opt/tomcat-latest » va nous permettre d’être un peu plus fexible dans la gestion des versions de Tomcat installées manuellement. Le jour ou j’installerais Tomcat 9, je le mettrais à jour et tout mes scripts « suivront » cette évolution.</p>\n\n<p>Maintenant, démarrons Tomcat 8 le plus simplement du monde.</p>\n\n<p>[root@xxxx tmp]# cd /opt/tomcat-latest/ [root@xxxx tomcat-latest]# ll total 116 drwxr-xr-x. 2 root root 4096 11 févr. 08:40 bin drwxr-xr-x. 2 root root 4096 28 janv. 16:54 conf drwxr-xr-x. 2 root root 4096 11 févr. 08:40 lib -rw-r--r--. 1 root root 56812 28 janv. 16:54 LICENSE drwxr-xr-x. 2 root root 4096 28 janv. 16:51 logs -rw-r--r--. 1 root root 1192 28 janv. 16:54 NOTICE -rw-r--r--. 1 root root 8963 28 janv. 16:54 RELEASE-NOTES -rw-r--r--. 1 root root 16204 28 janv. 16:54 RUNNING.txt drwxr-xr-x. 2 root root 4096 11 févr. 08:40 temp drwxr-xr-x. 7 root root 4096 28 janv. 16:53 webapps drwxr-xr-x. 2 root root 4096 28 janv. 16:51 work [root@xxxx tomcat7]# ./bin/startup.sh Using CATALINA<em>BASE: /opt/tomcat-latest Using CATALINA</em>HOME: /opt/tomcat-latest Using CATALINA<em>TMPDIR: /opt/tomcat-latest/temp Using JRE</em>HOME: / Using CLASSPATH: /opt/tomcat-latest/bin/bootstrap.jar:/opt/tomcat7/bin/tomcat-juli.jar Tomcat started.</p>\n\n<h2 id=\"\"> </h2>\n\n<h2 id=\"configurationdetomcat8\">Configuration de Tomcat 8</h2>\n\n<h4 id=\"crationdelutilisateuradmin\"> Création de l’utilisateur admin</h4>\n\n<p>On se rend dans le dossier « /opt/tomcat-latest » et on édite le fichier « conf/tomcat-users.xml ».</p>\n\n<p>[root@xxxx ~]# cd /opt/tomcat-latest/ [root@xxxx tomcat-latest]# vi conf/tomcat-users.xml</p>\n\n<p>Voici à quoi ce fichier doit ressembler pour que l’utilisateur « admin » ai accès à l’interface d’administration de Tomcat 8.</p>\n\n<p>xmlns=\"<a href=\"http://tomcat.apache.org/xml\">http://tomcat.apache.org/xml</a>\" xmlns:xsi=\"<a href=\"http://www.w3.org/2001/XMLSchema-instance\">http://www.w3.org/2001/XMLSchema-instance</a>\" xsi:schemaLocation=\"<a href=\"http://tomcat.apache.org/xml\">http://tomcat.apache.org/xml</a> tomcat-users.xsd\" version=\"1.0\"></p>\n\n<p>On positionne les droits comme il faut.</p>\n\n<p>[root@xxxx ~]# chown -R tomcat:tomcat /opt/tomcat-latest/</p>\n\n<h4 id=\"configurationavecsystemd\"> Configuration avec Systemd</h4>\n\n<p>On va créer un nouveau fichier « tomcat8.service » dans le dossier « /etc/systemd/system/ ». Ce fichier remplace le bon vieux « /etc/init.d/tomcat8 » et va nous permettre de démarrer Tomcat 8 avec le système et/ou la commande « service ».</p>\n\n<p>[root@xxxx tomcat-latest]# vi /etc/systemd/system/tomcat8.service</p>\n\n<p>Voici le contenu de ce fichier.</p>\n\n<p>[Unit] Description=Tomcat8 After=network.target [Service] Type=forking User=tomcat Group=tomcat Environment=CATALINA<em>PID=/opt/tomcat-latest/tomcat8.pid Environment=TOMCAT</em>JAVA<em>HOME=/opt/jdk1.8.0</em>31/ Environment=CATALINA<em>HOME=/opt/tomcat-latest Environment=CATALINA</em>BASE=/opt/tomcat-latest Environment=CATALINA<em>OPTS= Environment=\"JAVA</em>OPTS=-Dfile.encoding=UTF-8 -Dnet.sf.ehcache.skipUpdateCheck=true -XX:+UseConcMarkSweepGC -XX:+CMSClassUnloadingEnabled -XX:+UseParNewGC -XX:MaxPermSize=128m -Xms512m -Xmx512m\" ExecStart=/opt/tomcat-latest/bin/startup.sh ExecStop=/bin/kill -15 $MAINPID [Install] WantedBy=multi-user.target</p>\n\n<p>On démarre Tomcat 8 !</p>\n\n<p>[root@xxxx tomcat-latest]# systemctl daemon-reload [root@xxxx tomcat-latest]# systemctl restart tomcat8</p>\n\n<p>On peut maintenant se rendre à l’adresse : <a href=\"http://localhost:8080/\">http://localhost:8080/</a> et voir cette magnifique page.</p>\n\n<p><a href=\"https://techan.fr/images/2015/02/screenshot.1423643818.png\"><img src=\"https://techan.fr/images/2015/02/screenshot.1423643818.png\" alt=\"screenshot.1423643818\" title=\"\" /></a>Et dans les logs :</p>\n\n<p>[root@xxxx logs]# journalctl -f -- Logs begin at dim. 2015-02-01 15:14:43 CET. -- févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using CATALINA<em>BASE: /opt/tomcat-latest févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using CATALINA</em>HOME: /opt/tomcat-latest févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using CATALINA<em>TMPDIR: /opt/tomcat-latest/temp févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using JRE</em>HOME: /usr févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using CLASSPATH: /opt/tomcat-latest/bin/bootstrap.jar:/opt/tomcat-latest/bin/tomcat-juli.jar févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using CATALINA_PID: /opt/tomcat-latest/tomcat8.pid févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Tomcat started.</p>","image":"https://techan.fr/images/2015/02/120px-Fedora_logo.svg_.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-16T14:54:42.000Z","created_by":1,"updated_at":"2015-04-16T14:54:42.000Z","updated_by":1,"published_at":"2015-04-16T14:54:42.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":119,"uuid":"318c3ec2-4e5d-4a54-8b80-fe69a8ad889d","title":"Avec Ubuntu 15.10, vous direz adieu aux reboots !","slug":"avec-ubuntu-15-10-vous-direz-adieu-aux-reboots","markdown":"\nLe 12 avril dernier, Linus Torvalds annonçait la version 4.0 du kernel Linux. Cette nouvelle version majeure ajoute, comme souvent, le support de nouveaux composants matériels. Le plus intéressant dans cette nouvelle mouture est sans aucun doute l’intégration d’une fonctionnalité du même type que [Ksplice](http://www.ksplice.com/), un outil qui permet le patch du noyau à chaud. Ksplice est passé dans les mains de plusieurs grandes sociétés avant d’atterrir chez Oracle en 2011.\n\nIl était déjà possible d’installer la version communautaire de [Ksplice sur Ubuntu ou Fedora](http://www.ksplice.com/try/desktop). Maintenant cette fonctionnalité sera intégrée dans toutes les distributions.\n\n\n## Le kernel 4.0 sur Ubuntu\n\n \n\nMalheureusement, la prochaine version d’Ubuntu, 15.04, qui va sortir le bout de son nez le 23 avril prochain n’en sera pourvue car le freeze du noyau à eu lieu le 9 avril dernier… La prochaine version d’Ubuntu disposera ainsi de la version 3.19 du kernel.\n\n \n\n[![ubuntu-release-schedule11](https://techan.fr/images/2015/04/ubuntu-release-schedule111.jpg)](https://techan.fr/images/2015/04/ubuntu-release-schedule111.jpg)\n\n \n\nIl est toute fois possible d’installer le kernel 4.0 sur une version d’Ubuntu 15.04 en le téléchargeant depuis [le dépôt « kernel » d’Ubuntu](http://kernel.ubuntu.com/~kernel-ppa/mainline/?C=N;O=D).\n\n \n\n\n## Encore plus de nouveautés à venir\n\n \n\n> “Feature-wise, 4.0 doesn’t have all that much special. Much have been  \n>  made of the new kernel patching infrastructure, but realistically […] we’ve  \n>  had much bigger changes in other versions.  So this is very much a “solid code progress” release.”\n> \n> L. Torvalds\n\nSelon L. Torvalds, la version 4.1 apportera encore plus de nouvelles fonctionnalités. Espérons donc qu’Ubuntu 15.10 embarquera au moins cette version 4.1. Ubuntu 15.10, elle, sera livrée avec ce tout nouveau noyau, il se pourrait même qu’une version plus récente soit intégrée, 4.1, 4.2 ?\n\n \n\n<span style=\"text-decoration: underline;\">Source :</span>[www.omgubuntu.co.uk](http://www.omgubuntu.co.uk/2015/04/linux-kernel-4-0-new-featureshttp://)\n\n\n","html":"<p>Le 12 avril dernier, Linus Torvalds annonçait la version 4.0 du kernel Linux. Cette nouvelle version majeure ajoute, comme souvent, le support de nouveaux composants matériels. Le plus intéressant dans cette nouvelle mouture est sans aucun doute l’intégration d’une fonctionnalité du même type que <a href=\"http://www.ksplice.com/\">Ksplice</a>, un outil qui permet le patch du noyau à chaud. Ksplice est passé dans les mains de plusieurs grandes sociétés avant d’atterrir chez Oracle en 2011.</p>\n\n<p>Il était déjà possible d’installer la version communautaire de <a href=\"http://www.ksplice.com/try/desktop\">Ksplice sur Ubuntu ou Fedora</a>. Maintenant cette fonctionnalité sera intégrée dans toutes les distributions.</p>\n\n<h2 id=\"lekernel40surubuntu\">Le kernel 4.0 sur Ubuntu</h2>\n\n<p>Malheureusement, la prochaine version d’Ubuntu, 15.04, qui va sortir le bout de son nez le 23 avril prochain n’en sera pourvue car le freeze du noyau à eu lieu le 9 avril dernier… La prochaine version d’Ubuntu disposera ainsi de la version 3.19 du kernel.</p>\n\n<p><a href=\"https://techan.fr/images/2015/04/ubuntu-release-schedule111.jpg\"><img src=\"https://techan.fr/images/2015/04/ubuntu-release-schedule111.jpg\" alt=\"ubuntu-release-schedule11\" title=\"\" /></a></p>\n\n<p>Il est toute fois possible d’installer le kernel 4.0 sur une version d’Ubuntu 15.04 en le téléchargeant depuis <a href=\"http://kernel.ubuntu.com/~kernel-ppa/mainline/?C=N;O=D\">le dépôt « kernel » d’Ubuntu</a>.</p>\n\n<h2 id=\"encoreplusdenouveautsvenir\">Encore plus de nouveautés à venir</h2>\n\n<blockquote>\n  <p>“Feature-wise, 4.0 doesn’t have all that much special. Much have been <br />\n   made of the new kernel patching infrastructure, but realistically […] we’ve <br />\n   had much bigger changes in other versions.  So this is very much a “solid code progress” release.”</p>\n  \n  <p>L. Torvalds</p>\n</blockquote>\n\n<p>Selon L. Torvalds, la version 4.1 apportera encore plus de nouvelles fonctionnalités. Espérons donc qu’Ubuntu 15.10 embarquera au moins cette version 4.1. Ubuntu 15.10, elle, sera livrée avec ce tout nouveau noyau, il se pourrait même qu’une version plus récente soit intégrée, 4.1, 4.2 ?</p>\n\n<p><span style=\"text-decoration: underline;\">Source :</span><a href=\"http://www.omgubuntu.co.uk/2015/04/linux-kernel-4-0-new-featureshttp://\">www.omgubuntu.co.uk</a></p>","image":"https://techan.fr/images/2015/04/Ubuntu_Logo.gif","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-17T07:51:24.000Z","created_by":1,"updated_at":"2015-04-22T10:06:27.000Z","updated_by":1,"published_at":"2015-04-17T07:51:24.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":120,"uuid":"fa504e01-ea8f-40fc-9cdd-8c8f6fe343f9","title":"Donner un coup de jeune à un vieux MacBook","slug":"donner-un-coup-de-jeune-a-un-vieux-macbook","markdown":"\nJe suis l’heureux possesseur d’un MacBook Unibody Mid 2010, un modèle qui a été arrêté en 2012. Mon Mac soufflera sa cinquième bougie en septembre prochain ! Pour une machine de cet âge là, il tourne encore comme un charme ! J’ai pu faire toutes les mise à jour de Mac OS depuis la version fournie – Snow Leopard – jusqu’à la dernière en data – Yosemite -.\n\nChacune de ces version ont rendu mon Mac plus lent, c’est triste mais c’est malheureusement comme ça avec tous les systèmes ou presque … Cependant, le passage à Mavericks m’avait rendu pas mal d’autonomie sur batterie. Cela fait maintenant deux ans que le système m’alerte sur la durée de vie de ma batterie, me disant qu’il faudrait que je la change. Comme elle tient encore près de 3 heures en surfant sur le net, je n’envisage pas de la changer dans l’immédiat.\n\nLors du passage à Yosemite, les lenteurs du systèmes se sont faites de plus en plus gênantes … Je suis donc parti en quête de la cause de ces ralentissements pénibles. Et j’ai trouvé ! Depuis Mavericks, OS X embarque un système de compression de la mémoire vive des applications inactives. Ceci peut représenter un gain évident car cela libère de la mémoire pour les applications actives. Mais dans le cas de mon vieux MacBook, le processeur Core 2 Duo embarqué souffrait un peu de devoir compresser/décompresser des pages mémoire lors du changement d’application.\n\nJ’ai donc trouvé comment désactiver cette fonctionnalité et j’ai gagné pas mal de réactivité !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1212\" style=\"width: 730px\">[![Donner un coup de jeune à un vieux MacBook](https://techan.fr/images/2015/04/macbook-mid-2010-laterale-anteriore.jpg)](https://techan.fr/images/2015/04/macbook-mid-2010-laterale-anteriore.jpg)Image : http://www.nonsolomac.com\n\n</div> \n\n*Je mettrais à jour cet article lorsque je trouverai d’autres moyen de donner un coup de jeune à un vieux MacBook ! ","html":"<p>Je suis l’heureux possesseur d’un MacBook Unibody Mid 2010, un modèle qui a été arrêté en 2012. Mon Mac soufflera sa cinquième bougie en septembre prochain ! Pour une machine de cet âge là, il tourne encore comme un charme ! J’ai pu faire toutes les mise à jour de Mac OS depuis la version fournie – Snow Leopard – jusqu’à la dernière en data – Yosemite -.</p>\n\n<p>Chacune de ces version ont rendu mon Mac plus lent, c’est triste mais c’est malheureusement comme ça avec tous les systèmes ou presque … Cependant, le passage à Mavericks m’avait rendu pas mal d’autonomie sur batterie. Cela fait maintenant deux ans que le système m’alerte sur la durée de vie de ma batterie, me disant qu’il faudrait que je la change. Comme elle tient encore près de 3 heures en surfant sur le net, je n’envisage pas de la changer dans l’immédiat.</p>\n\n<p>Lors du passage à Yosemite, les lenteurs du systèmes se sont faites de plus en plus gênantes … Je suis donc parti en quête de la cause de ces ralentissements pénibles. Et j’ai trouvé ! Depuis Mavericks, OS X embarque un système de compression de la mémoire vive des applications inactives. Ceci peut représenter un gain évident car cela libère de la mémoire pour les applications actives. Mais dans le cas de mon vieux MacBook, le processeur Core 2 Duo embarqué souffrait un peu de devoir compresser/décompresser des pages mémoire lors du changement d’application.</p>\n\n<p>J’ai donc trouvé comment désactiver cette fonctionnalité et j’ai gagné pas mal de réactivité !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1212\" style=\"width: 730px\"><a href=\"https://techan.fr/images/2015/04/macbook-mid-2010-laterale-anteriore.jpg\"><img src=\"https://techan.fr/images/2015/04/macbook-mid-2010-laterale-anteriore.jpg\" alt=\"Donner un coup de jeune à un vieux MacBook\" title=\"\" /></a>Image : <a href=\"http://www.nonsolomac.com\">http://www.nonsolomac.com</a></p>\n\n<p></div> </p>\n\n<p><em>Je mettrais à jour cet article lorsque je trouverai d’autres moyen de donner un coup de jeune à un vieux MacBook ! ","image":"https://techan.fr/images/2015/04/hero_icon_large1.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-21T11:58:10.000Z","created_by":1,"updated_at":"2015-06-24T08:31:32.000Z","updated_by":1,"published_at":"2015-04-21T11:58:10.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":122,"uuid":"0243e54a-d95f-4e8e-9e54-1262afcd3764","title":"Identifier les processus swapés sur Linux","slug":"identifier-les-processus-swapes-sur-linux","markdown":"\nIl est fréquent de voir un Linux swaper, c’est normal et l’agressivité du processus de mise en swap peut être réglée (voir [[Linux Tuning] Ajuster la swappiness](https://techan.fr/linux-tuning-ajuster-la-swappiness/)). Cependant, il peut être intéressant de savoir quels processus sont actuellement swapés. Malheureusement, il est assez compliqué de trouver cette information dans le système.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1222\" style=\"width: 876px\">[![Identifier les processus swapés sur Linux](https://techan.fr/images/2015/04/htop_swap.png)](https://techan.fr/images/2015/04/htop_swap.png)Un Linux qui swape un petit peu\n\n</div> \n\nVoici donc une commande qui permet de lister tous les processus présents dans le swap, ainsi que la taille qu’ils occupent dans cet espace.\n\n \n\n\n## La commande\n\n# for file in /proc/*/status ; do awk '/VmSwap|Name|^Pid:/{printf $2 \" \" $4 \" \" $3}END{ print \"\"}' $file; done | sort -k 3 -n -r | less\n\n \n\nVoici un extrait du retour de cette commande sur l’une de mes machines.\n\nmysqld 27370 120096 kB memcached 5388 65860 kB java 14287 55308 kB uwsgi 5436 47300 kB uwsgi 5434 44684 kB uwsgi 5431 42552 kB uwsgi 5432 39248 kB uwsgi 5433 32960 kB uwsgi 5437 29628 kB uwsgi 5420 20568 kB uwsgi 5438 16412 kB uwsgi 5435 16316 kB /usr/sbin/postg 11405 14304 kB named 1721 14152 kB MCMA2_Linux_x86 15355 11212 kB /usr/sbin/apach 24671 10704 kB /usr/sbin/apach 26361 6832 kB\n\nOn voit que MySQL, memcached, uwsgi et apache ont été swapés, ainsi que la taille qu’il occupent dans le swap – près de 117 Mo pour MySQL.\n\n \n\n\n## Forcer un vidage du swap\n\nIl est possible de vider le cache de manière brutale en désactivant/réactivant l’espace de swap. La désactivation de l’espace de swap force le Linux a écrire les pages en swap dans sa mémoire. La  réactivation rend l’espace de swap de nouveau disponible.\n\n \n\n*<span style=\"color: #ff0000;\">**<span style=\"text-decoration: underline;\">Attention :</span> Avant de vider le swap, assurez vous d’avoir assez de mémoire disponible pour absorber le contenu du swap, et même un peu de marge, sinon le système risque de killer des processus !**</span>*\n\n \n\n# swapoff -a # swapon -a\n\n<span style=\"text-decoration: underline;\">Note :</span> Le vidage du swap peut être un peu long en fonction de la taille utilisée.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1225\" style=\"width: 882px\">[![Identifier les processus swapés sur Linux](https://techan.fr/images/2015/04/htop_swap_vide.jpg)](https://techan.fr/images/2015/04/htop_swap_vide.jpg)Après le vidage du swap\n\n</div> \n\n\n","html":"<p>Il est fréquent de voir un Linux swaper, c’est normal et l’agressivité du processus de mise en swap peut être réglée (voir <a href=\"https://techan.fr/linux-tuning-ajuster-la-swappiness/\">[Linux Tuning] Ajuster la swappiness</a>). Cependant, il peut être intéressant de savoir quels processus sont actuellement swapés. Malheureusement, il est assez compliqué de trouver cette information dans le système.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1222\" style=\"width: 876px\"><a href=\"https://techan.fr/images/2015/04/htop_swap.png\"><img src=\"https://techan.fr/images/2015/04/htop_swap.png\" alt=\"Identifier les processus swapés sur Linux\" title=\"\" /></a>Un Linux qui swape un petit peu</p>\n\n<p></div> </p>\n\n<p>Voici donc une commande qui permet de lister tous les processus présents dans le swap, ainsi que la taille qu’ils occupent dans cet espace.</p>\n\n<h2 id=\"lacommande\">La commande</h2>\n\n<h1 id=\"forfileinprocstatusdoawkvmswapnamepidprintfd2d4d3endprintdfiledonesortk3nrless\">for file in /proc/*/status ; do awk '/VmSwap|Name|^Pid:/{printf $2 \" \" $4 \" \" $3}END{ print \"\"}' $file; done | sort -k 3 -n -r | less</h1>\n\n<p>Voici un extrait du retour de cette commande sur l’une de mes machines.</p>\n\n<p>mysqld 27370 120096 kB memcached 5388 65860 kB java 14287 55308 kB uwsgi 5436 47300 kB uwsgi 5434 44684 kB uwsgi 5431 42552 kB uwsgi 5432 39248 kB uwsgi 5433 32960 kB uwsgi 5437 29628 kB uwsgi 5420 20568 kB uwsgi 5438 16412 kB uwsgi 5435 16316 kB /usr/sbin/postg 11405 14304 kB named 1721 14152 kB MCMA2<em>Linux</em>x86 15355 11212 kB /usr/sbin/apach 24671 10704 kB /usr/sbin/apach 26361 6832 kB</p>\n\n<p>On voit que MySQL, memcached, uwsgi et apache ont été swapés, ainsi que la taille qu’il occupent dans le swap – près de 117 Mo pour MySQL.</p>\n\n<h2 id=\"forcerunvidageduswap\">Forcer un vidage du swap</h2>\n\n<p>Il est possible de vider le cache de manière brutale en désactivant/réactivant l’espace de swap. La désactivation de l’espace de swap force le Linux a écrire les pages en swap dans sa mémoire. La  réactivation rend l’espace de swap de nouveau disponible.</p>\n\n<p><em><span style=\"color: #ff0000;\"><strong><span style=\"text-decoration: underline;\">Attention :</span> Avant de vider le swap, assurez vous d’avoir assez de mémoire disponible pour absorber le contenu du swap, et même un peu de marge, sinon le système risque de killer des processus !</strong></span></em></p>\n\n<h1 id=\"swapoffaswapona\">swapoff -a # swapon -a</h1>\n\n<p><span style=\"text-decoration: underline;\">Note :</span> Le vidage du swap peut être un peu long en fonction de la taille utilisée.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1225\" style=\"width: 882px\"><a href=\"https://techan.fr/images/2015/04/htop_swap_vide.jpg\"><img src=\"https://techan.fr/images/2015/04/htop_swap_vide.jpg\" alt=\"Identifier les processus swapés sur Linux\" title=\"\" /></a>Après le vidage du swap</p>\n\n<p></div> </p>","image":"https://techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-22T10:04:55.000Z","created_by":1,"updated_at":"2015-05-17T09:41:15.000Z","updated_by":1,"published_at":"2015-04-22T10:04:55.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":123,"uuid":"2cb39083-a43a-4aab-8468-11297594de79","title":"Activer les HugePages pour MySQL","slug":"activer-les-hugepages-pour-mysql","markdown":"\nTout comme Oracle, MySQL support les HugePages, et pour les même raisons que pour Oracle, cela peut valoir le coup de les activer. Les Huge Pages sont des pages mémoires allouées au démarrage du système, elles font 2 Mo, les pages mémoire classique font elles 4 Ko. Les performances des applications qui font beaucoup d’accès mémoire – comme les SGBD – peuvent être améliorées en activant ces Huge Pages. Cela réduit le nombre d’appels systèmes pour faire les liens entre les multiples pages de 4 Ko, vu que les Huge Pages font 2 Mo !\n\n<span style=\"text-decoration: underline;\">Note :</span> Dans MySQL, les Huge Pages sont utilisées par le moteur InnoDB, si vous ne l’utilisez peu ou pas, ce n’est pas la peine de les activer. Les Huge Pages ne sont supportées par MySQL que sur les systèmes Linux.\n\n***<span style=\"text-decoration: underline;\">Attention :</span> L’activation des Huge Pages nécessite la modification de paramètres systèmes avancés, n’entrepenez pas les actions décrites ci-dessous si vous ne les comprenez pas !***\n\n \n\n\n## \n\n\n## Collecter les données requises\n\n#### Vérifier que le noyau est capable de gérer les Huge Pages\n\nSi la commande ci-dessous retourne des lignes, votre noyau supporte les Huge Pages.\n\n# grep -i huge /proc/meminfo AnonHugePages: 1404928 kB HugePages_Total: 0 HugePages_Free: 0 HugePages_Rsvd: 0 HugePages_Surp: 0 Hugepagesize: 2048 kB\n\n \n\n#### Récupérer le gid auquel appartient mysql\n\nNotez bien le gid affecté à l’utilisateur MySQL, il nous sera utile par la suite.\n\n# id mysql uid=106(mysql) gid=114(mysql) groups=114(mysql)\n\n \n\n#### Calculer les valeurs de SHMMAX et SHMALL pour votre système\n\nCes paramètres définissent les tailles de mémoire partagée, il faut les positionner à des valeurs cohérentes en fonction de votre système et de la taille de mémoire que vous souhaitez allouer aux Huge Pages.\n\nLes script ci-dessous – écrit par *DANGLADE JEAN-SEBASTIEN* sur le site dev.mysql.com, voir sources – vous donnera un bon point de départ. Spécifiez la mémoire que vous voulez laisser disponible au système – je laisse 6 Go sur mes 8 disponibles.\n\n##### SCRIPT START ######### #!/bin/bash # keep 6go memory for system keep_for_system=6291456 mem=$(free|grep Mem|awk '{print$2}') mem=$(echo \"$mem-$keep_for_system\"|bc) totmem=$(echo \"$mem*1024\"|bc) huge=$(grep Hugepagesize /proc/meminfo|awk '{print $2}') max=$(echo \"$totmem*75/100\"|bc) all=$(echo \"$max/$huge\"|bc) echo \"kernel.shmmax = $max\" echo \"kernel.shmall = $all\" ######### SCRIPT END #########\n\nVoici le résultat de ce script, noter les deux lignes.\n\n# /tmp/hugepages.sh kernel.shmmax = 1437026304 kernel.shmall = 701673\n\n \n\n\n## La configuration\n\n#### Côté système\n\nÉditez le fichier /etc/sysctl.conf.\n\nvi /etc/sysctl.conf\n\nAjouter les lignes suivantes à la fin du fichier, modifiez les si elles existent déjà.\n\nvm.nr_hugepages=512 vm.hugetlb_shm_group=114 kernel.shmmax = 1437026304 kernel.shmall = 701673\n\nJe crée ici 512 Huge Pages de 4 Mo, soit 2 Go de mémoire réservées aux Huge Pages.\n\n \n\nOn va modifier le fichier /etc/security/limits.conf afin de ne plus limiter la mémoire que MySQL va pouvoir locker.\n\nvi /etc/security/limits.conf\n\nAjouter les lignes suivantes à la fin du fichier.\n\n@mysql soft memlock unlimited @mysql hard memlock unlimited # End of file\n\n \n\n#### Côté MySQL\n\nÉditer le fichier /etc/mysql/my.cnf.\n\nvi /etc/mysql/my.cnf\n\nAjouter la ligne « large-pages » dans la section « [mysqld] ».\n\n[mysqld] large-pages\n\nÉditer également le script d’initialisation de MySQL.\n\nvi /etc/init.d/mysql\n\nAjouter la ligne « ulimit -l unlimited » dans ce fichier comme suit :\n\n#!/bin/bash # ### BEGIN INIT INFO # Provides: mysql # Required-Start: $remote_fs $syslog # Required-Stop: $remote_fs $syslog # Should-Start: $network $named $time # Should-Stop: $network $named $time # Default-Start: 2 3 4 5 # Default-Stop: 0 1 6 # Short-Description: Start and stop the mysql database server daemon # Description: Controls the main MariaDB database server daemon \"mysqld\" # and its wrapper script \"mysqld_safe\". ### END INIT INFO # set -e set -u ulimit -l unlimited ${DEBIAN_SCRIPT_DEBUG:+ set -v -x} test -x /usr/sbin/mysqld || exit 0 . /lib/lsb/init-functions\n\n \n\n\n## Application des modifications\n\nOn regarde le total de Huge Pages allouées avant le reboot.\n\n# cat /proc/meminfo | grep -i huge AnonHugePages: 1261568 kB HugePages_Total: 39 HugePages_Free: 37 HugePages_Rsvd: 6 HugePages_Surp: 0 Hugepagesize: 2048 kB\n\nOn redémarre la machine.\n\n# reboot\n\nAprès le reboot, on revérifie et magie, on a nos 512 Huge Pages et MySQL en a réservé 124.\n\n# cat /proc/meminfo | grep -i huge AnonHugePages: 120832 kB HugePages_Total: 512 HugePages_Free: 388 HugePages_Rsvd: 124 HugePages_Surp: 0 Hugepagesize: 2048 kB\n\n \n\n<span style=\"text-decoration: underline;\">Sources :</span>\n\n- [dev.mysql.com](https://dev.mysql.com/doc/refman/5.0/en/large-page-support.html) (notamment le commentaire de « DANGLADE JEAN-SEBASTIEN  » à la fin)\n- [ashwinvasani.wordpress.com](https://ashwinvasani.wordpress.com/2011/03/03/reserving-huge-pages-for-mysql/)\n\n\n","html":"<p>Tout comme Oracle, MySQL support les HugePages, et pour les même raisons que pour Oracle, cela peut valoir le coup de les activer. Les Huge Pages sont des pages mémoires allouées au démarrage du système, elles font 2 Mo, les pages mémoire classique font elles 4 Ko. Les performances des applications qui font beaucoup d’accès mémoire – comme les SGBD – peuvent être améliorées en activant ces Huge Pages. Cela réduit le nombre d’appels systèmes pour faire les liens entre les multiples pages de 4 Ko, vu que les Huge Pages font 2 Mo !</p>\n\n<p><span style=\"text-decoration: underline;\">Note :</span> Dans MySQL, les Huge Pages sont utilisées par le moteur InnoDB, si vous ne l’utilisez peu ou pas, ce n’est pas la peine de les activer. Les Huge Pages ne sont supportées par MySQL que sur les systèmes Linux.</p>\n\n<p><strong><em><span style=\"text-decoration: underline;\">Attention :</span> L’activation des Huge Pages nécessite la modification de paramètres systèmes avancés, n’entrepenez pas les actions décrites ci-dessous si vous ne les comprenez pas !</em></strong></p>\n\n<h2 id=\"\"> </h2>\n\n<h2 id=\"collecterlesdonnesrequises\">Collecter les données requises</h2>\n\n<h4 id=\"vrifierquelenoyauestcapabledegrerleshugepages\">Vérifier que le noyau est capable de gérer les Huge Pages</h4>\n\n<p>Si la commande ci-dessous retourne des lignes, votre noyau supporte les Huge Pages.</p>\n\n<h1 id=\"grepihugeprocmeminfoanonhugepages1404928kbhugepages_total0hugepages_free0hugepages_rsvd0hugepages_surp0hugepagesize2048kb\">grep -i huge /proc/meminfo AnonHugePages: 1404928 kB HugePages<em>Total: 0 HugePages</em>Free: 0 HugePages<em>Rsvd: 0 HugePages</em>Surp: 0 Hugepagesize: 2048 kB</h1>\n\n<h4 id=\"rcuprerlegidauquelappartientmysql\">Récupérer le gid auquel appartient mysql</h4>\n\n<p>Notez bien le gid affecté à l’utilisateur MySQL, il nous sera utile par la suite.</p>\n\n<h1 id=\"idmysqluid106mysqlgid114mysqlgroups114mysql\">id mysql uid=106(mysql) gid=114(mysql) groups=114(mysql)</h1>\n\n<h4 id=\"calculerlesvaleursdeshmmaxetshmallpourvotresystme\">Calculer les valeurs de SHMMAX et SHMALL pour votre système</h4>\n\n<p>Ces paramètres définissent les tailles de mémoire partagée, il faut les positionner à des valeurs cohérentes en fonction de votre système et de la taille de mémoire que vous souhaitez allouer aux Huge Pages.</p>\n\n<p>Les script ci-dessous – écrit par <em>DANGLADE JEAN-SEBASTIEN</em> sur le site dev.mysql.com, voir sources – vous donnera un bon point de départ. Spécifiez la mémoire que vous voulez laisser disponible au système – je laisse 6 Go sur mes 8 disponibles.</p>\n\n<h5 id=\"scriptstartbinbashkeep6gomemoryforsystemkeep_for_system6291456memdfreegrepmemawkprintd2memdechodmemdkeep_for_systembctotmemdechodmem1024bchugedgrephugepagesizeprocmeminfoawkprintd2maxdechodtotmem75100bcalldechodmaxdhugebcechokernelshmmaxdmaxechokernelshmalldallscriptend\">SCRIPT START ######### #!/bin/bash # keep 6go memory for system keep<em>for</em>system=6291456 mem=$(free|grep Mem|awk '{print$2}') mem=$(echo \"$mem-$keep<em>for</em>system\"|bc) totmem=$(echo \"$mem<em>1024\"|bc) huge=$(grep Hugepagesize /proc/meminfo|awk '{print $2}') max=$(echo \"$totmem</em>75/100\"|bc) all=$(echo \"$max/$huge\"|bc) echo \"kernel.shmmax = $max\" echo \"kernel.shmall = $all\" ######### SCRIPT END</h5>\n\n<p>Voici le résultat de ce script, noter les deux lignes.</p>\n\n<h1 id=\"tmphugepagesshkernelshmmax1437026304kernelshmall701673\">/tmp/hugepages.sh kernel.shmmax = 1437026304 kernel.shmall = 701673</h1>\n\n<h2 id=\"laconfiguration\">La configuration</h2>\n\n<h4 id=\"ctsystme\">Côté système</h4>\n\n<p>Éditez le fichier /etc/sysctl.conf.</p>\n\n<p>vi /etc/sysctl.conf</p>\n\n<p>Ajouter les lignes suivantes à la fin du fichier, modifiez les si elles existent déjà.</p>\n\n<p>vm.nr<em>hugepages=512 vm.hugetlb</em>shm_group=114 kernel.shmmax = 1437026304 kernel.shmall = 701673</p>\n\n<p>Je crée ici 512 Huge Pages de 4 Mo, soit 2 Go de mémoire réservées aux Huge Pages.</p>\n\n<p>On va modifier le fichier /etc/security/limits.conf afin de ne plus limiter la mémoire que MySQL va pouvoir locker.</p>\n\n<p>vi /etc/security/limits.conf</p>\n\n<p>Ajouter les lignes suivantes à la fin du fichier.</p>\n\n<p>@mysql soft memlock unlimited @mysql hard memlock unlimited # End of file</p>\n\n<h4 id=\"ctmysql\">Côté MySQL</h4>\n\n<p>Éditer le fichier /etc/mysql/my.cnf.</p>\n\n<p>vi /etc/mysql/my.cnf</p>\n\n<p>Ajouter la ligne « large-pages » dans la section « [mysqld] ».</p>\n\n<p>[mysqld] large-pages</p>\n\n<p>Éditer également le script d’initialisation de MySQL.</p>\n\n<p>vi /etc/init.d/mysql</p>\n\n<p>Ajouter la ligne « ulimit -l unlimited » dans ce fichier comme suit :</p>\n\n<h1 id=\"binbashbegininitinfoprovidesmysqlrequiredstartdremote_fsdsyslogrequiredstopdremote_fsdsyslogshouldstartdnetworkdnameddtimeshouldstopdnetworkdnameddtimedefaultstart2345defaultstop016shortdescriptionstartandstopthemysqldatabaseserverdaemondescriptioncontrolsthemainmariadbdatabaseserverdaemonmysqldanditswrapperscriptmysqld_safeendinitinfosetesetuulimitlunlimitedddebian_script_debugsetvxtestxusrsbinmysqldexit0liblsbinitfunctions\">!/bin/bash # ### BEGIN INIT INFO # Provides: mysql # Required-Start: $remote<em>fs $syslog # Required-Stop: $remote</em>fs $syslog # Should-Start: $network $named $time # Should-Stop: $network $named $time # Default-Start: 2 3 4 5 # Default-Stop: 0 1 6 # Short-Description: Start and stop the mysql database server daemon # Description: Controls the main MariaDB database server daemon \"mysqld\" # and its wrapper script \"mysqld<em>safe\". ### END INIT INFO # set -e set -u ulimit -l unlimited ${DEBIAN</em>SCRIPT_DEBUG:+ set -v -x} test -x /usr/sbin/mysqld || exit 0 . /lib/lsb/init-functions</h1>\n\n<h2 id=\"applicationdesmodifications\">Application des modifications</h2>\n\n<p>On regarde le total de Huge Pages allouées avant le reboot.</p>\n\n<h1 id=\"catprocmeminfogrepihugeanonhugepages1261568kbhugepages_total39hugepages_free37hugepages_rsvd6hugepages_surp0hugepagesize2048kb\">cat /proc/meminfo | grep -i huge AnonHugePages: 1261568 kB HugePages<em>Total: 39 HugePages</em>Free: 37 HugePages<em>Rsvd: 6 HugePages</em>Surp: 0 Hugepagesize: 2048 kB</h1>\n\n<p>On redémarre la machine.</p>\n\n<h1 id=\"reboot\">reboot</h1>\n\n<p>Après le reboot, on revérifie et magie, on a nos 512 Huge Pages et MySQL en a réservé 124.</p>\n\n<h1 id=\"catprocmeminfogrepihugeanonhugepages120832kbhugepages_total512hugepages_free388hugepages_rsvd124hugepages_surp0hugepagesize2048kb\">cat /proc/meminfo | grep -i huge AnonHugePages: 120832 kB HugePages<em>Total: 512 HugePages</em>Free: 388 HugePages<em>Rsvd: 124 HugePages</em>Surp: 0 Hugepagesize: 2048 kB</h1>\n\n<p><span style=\"text-decoration: underline;\">Sources :</span></p>\n\n<ul>\n<li><a href=\"https://dev.mysql.com/doc/refman/5.0/en/large-page-support.html\">dev.mysql.com</a> (notamment le commentaire de « DANGLADE JEAN-SEBASTIEN  » à la fin)</li>\n<li><a href=\"https://ashwinvasani.wordpress.com/2011/03/03/reserving-huge-pages-for-mysql/\">ashwinvasani.wordpress.com</a></li>\n</ul>","image":"https://techan.fr/images/2015/04/MariaDB-seal.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-23T09:21:17.000Z","created_by":1,"updated_at":"2015-04-22T13:21:39.000Z","updated_by":1,"published_at":"2015-04-23T09:21:17.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":125,"uuid":"4cc18272-7953-4306-9b6c-9d5f7af5a225","title":"Vous êtes toujours plus nombreux !!","slug":"vous-etes-toujours-plus-nombreux","markdown":"\nCela fait maintenant sept mois que j’ai créé le blog « Tech AN » et vous êtes de plus en plus nombreux à le découvrir ou à le consulter régulièrement. J’ai créé ce blog pour palier à ma mauvaise mémoire. Je perdais un temps fou à chercher de l’information – parfois plusieurs fois la même chose a quelques jours d’intervalle – sur internet. Cet espace me permet de rassembler une partie de mes connaissances et de retrouver facilement mes petits. J’espère qu’il vous permet également de trouver des solutions à vos problèmes ! En tout cas, vous êtes toujours plus nombreux !!\n\nC’est avec une grande joie que je vois les chiffres de la fréquentation augmenter de mois en mois ! Et je vous rassure tout de suite – s’il y en avait besoin – je ne vais pas m’arrêter en si bon chemin !\n\n\n## Tech AN en chiffres\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1254\" style=\"width: 664px\">[![Un nouveau cap est atteint !](https://techan.fr/images/2015/04/stats_mois.jpg)](https://techan.fr/images/2015/04/stats_mois.jpg)Progression des vues au fil des mois\n\n</div> \n\nMille vues sur le mois d’avril 2015, soit dix fois plus que sur le mois de septembre 2014 – premier mois d’existence du blog !! Elles sont loin les 100 vues du mois de septembre, la semaine dernière vous étiez 400 à consulter les pages que mes doigts vous concoctent !\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1253\" style=\"width: 663px\">[![Un nouveau cap est atteint !](https://techan.fr/images/2015/04/stats_annees.jpg)](https://techan.fr/images/2015/04/stats_annees.jpg)2015, une année qui a commencé sur les chapeaux de roues !\n\n</div>L’année 2015 s’annonce sous de très bons hospices avec déjà plus de 3000 vues en cette fin du mois d’avril ! Comme je le disais en titre, un nouveau cap est atteint ! Le simple fait de voir ces chiffres monter me motive pour écrire de nouveau articles, alors lisez, lisez sans retenue et il y aura toujours plus de contenu ! ","html":"<p>Cela fait maintenant sept mois que j’ai créé le blog « Tech AN » et vous êtes de plus en plus nombreux à le découvrir ou à le consulter régulièrement. J’ai créé ce blog pour palier à ma mauvaise mémoire. Je perdais un temps fou à chercher de l’information – parfois plusieurs fois la même chose a quelques jours d’intervalle – sur internet. Cet espace me permet de rassembler une partie de mes connaissances et de retrouver facilement mes petits. J’espère qu’il vous permet également de trouver des solutions à vos problèmes ! En tout cas, vous êtes toujours plus nombreux !!</p>\n\n<p>C’est avec une grande joie que je vois les chiffres de la fréquentation augmenter de mois en mois ! Et je vous rassure tout de suite – s’il y en avait besoin – je ne vais pas m’arrêter en si bon chemin !</p>\n\n<h2 id=\"techanenchiffres\">Tech AN en chiffres</h2>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1254\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/04/stats_mois.jpg\"><img src=\"https://techan.fr/images/2015/04/stats_mois.jpg\" alt=\"Un nouveau cap est atteint !\" title=\"\" /></a>Progression des vues au fil des mois</p>\n\n<p></div> </p>\n\n<p>Mille vues sur le mois d’avril 2015, soit dix fois plus que sur le mois de septembre 2014 – premier mois d’existence du blog !! Elles sont loin les 100 vues du mois de septembre, la semaine dernière vous étiez 400 à consulter les pages que mes doigts vous concoctent !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1253\" style=\"width: 663px\"><a href=\"https://techan.fr/images/2015/04/stats_annees.jpg\"><img src=\"https://techan.fr/images/2015/04/stats_annees.jpg\" alt=\"Un nouveau cap est atteint !\" title=\"\" /></a>2015, une année qui a commencé sur les chapeaux de roues !</p>\n\n<p></div>L’année 2015 s’annonce sous de très bons hospices avec déjà plus de 3000 vues en cette fin du mois d’avril ! Comme je le disais en titre, un nouveau cap est atteint ! Le simple fait de voir ces chiffres monter me motive pour écrire de nouveau articles, alors lisez, lisez sans retenue et il y aura toujours plus de contenu ! ","image":"https://techan.fr/images/2014/09/TechAN_moyen.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-28T20:42:02.000Z","created_by":1,"updated_at":"2015-05-09T12:02:13.000Z","updated_by":1,"published_at":"2015-04-28T20:42:02.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":126,"uuid":"07a00d0d-219e-4dbf-a4c2-c18e5ea9535b","title":"La version mobile des sites influe maintenant sur le classement de Google","slug":"la-version-mobile-des-sites-influe-maintenant-sur-le-classement-de-google","markdown":"\nAu détours d’un passage sur un des sites Google utile pour les webmasters – Google Analytics pour ne pas le citer – j’ai reçu une nouvelle via un intrigant bandeau.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1294\" style=\"width: 784px\">[![La version mobile des sites influe maintenant sur le score de Google](https://techan.fr/images/2015/04/screenshot.405.jpg)](https://techan.fr/images/2015/04/screenshot.405.jpg)Le bandeau de l’étrange\n\n</div> \n\nGoogle informe les gens qui souhaitent être référencés sur leur moteur de recherche que la qualité de la version mobile des sites influe maintenant sur le classement de Google – en plus des nombreux autres critères – pour définir le classement dans les résultats qu’ils fournissent.\n\nCela a piqué ma curiosité au vif et je n’ai pas pu m’empêcher de cliquer sur le lien « En savoir plus ». Ce lien vous emmène sur une page « Google Developers » qui vous permet de tester la qualité de la version mobile de votre site.\n\n \n\nLa fameuse page est disponible [par ici](https://www.google.fr/webmasters/tools/mobile-friendly/), voici à quoi elle ressemble.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1295\" style=\"width: 664px\">[![La version mobile des sites influe maintenant sur le score de Google](https://techan.fr/images/2015/04/screenshot.406.jpg)](https://techan.fr/images/2015/04/screenshot.406.jpg)Demander à Google de tester la version mobile de votre site web\n\n</div> \n\n\n## Le test !\n\n \n\nBien évidement, je n’ai pas résisté à la tentation de tester cet outil et de voir ce qu’il pense de mon site sur mobile. Il suffit pour cela de renseigner l’URL du site et de lancer l’analyse !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1263\" style=\"width: 665px\">[![google_test_mobile_en_cours](https://techan.fr/images/2015/04/google_test_mobile_en_cours.jpg)](https://techan.fr/images/2015/04/google_test_mobile_en_cours.jpg)Pour tester, il suffit de renseigner l’URL du site et d’attendre quelques – dizaines – de secondes.\n\n</div> \n\nAprès quelques dizaines de secondes d’attente, le couperet tombe ! Pour ma part c’est plutôt une bonne nouvelle, les robots de Google semblent apprécier la version mobile de Tech AN ! ![:-)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\n[![google_test_mobile_fini](https://techan.fr/images/2015/04/google_test_mobile_fini.jpg)](https://techan.fr/images/2015/04/google_test_mobile_fini.jpg)\n\nAller, à votre tour de tester !\n\n\n","html":"<p>Au détours d’un passage sur un des sites Google utile pour les webmasters – Google Analytics pour ne pas le citer – j’ai reçu une nouvelle via un intrigant bandeau.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1294\" style=\"width: 784px\"><a href=\"https://techan.fr/images/2015/04/screenshot.405.jpg\"><img src=\"https://techan.fr/images/2015/04/screenshot.405.jpg\" alt=\"La version mobile des sites influe maintenant sur le score de Google\" title=\"\" /></a>Le bandeau de l’étrange</p>\n\n<p></div> </p>\n\n<p>Google informe les gens qui souhaitent être référencés sur leur moteur de recherche que la qualité de la version mobile des sites influe maintenant sur le classement de Google – en plus des nombreux autres critères – pour définir le classement dans les résultats qu’ils fournissent.</p>\n\n<p>Cela a piqué ma curiosité au vif et je n’ai pas pu m’empêcher de cliquer sur le lien « En savoir plus ». Ce lien vous emmène sur une page « Google Developers » qui vous permet de tester la qualité de la version mobile de votre site.</p>\n\n<p>La fameuse page est disponible <a href=\"https://www.google.fr/webmasters/tools/mobile-friendly/\">par ici</a>, voici à quoi elle ressemble.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1295\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/04/screenshot.406.jpg\"><img src=\"https://techan.fr/images/2015/04/screenshot.406.jpg\" alt=\"La version mobile des sites influe maintenant sur le score de Google\" title=\"\" /></a>Demander à Google de tester la version mobile de votre site web</p>\n\n<p></div> </p>\n\n<h2 id=\"letest\">Le test !</h2>\n\n<p>Bien évidement, je n’ai pas résisté à la tentation de tester cet outil et de voir ce qu’il pense de mon site sur mobile. Il suffit pour cela de renseigner l’URL du site et de lancer l’analyse !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1263\" style=\"width: 665px\"><a href=\"https://techan.fr/images/2015/04/google_test_mobile_en_cours.jpg\"><img src=\"https://techan.fr/images/2015/04/google_test_mobile_en_cours.jpg\" alt=\"google<em>test</em>mobile<em>en</em>cours\" title=\"\" /></a>Pour tester, il suffit de renseigner l’URL du site et d’attendre quelques – dizaines – de secondes.</p>\n\n<p></div> </p>\n\n<p>Après quelques dizaines de secondes d’attente, le couperet tombe ! Pour ma part c’est plutôt une bonne nouvelle, les robots de Google semblent apprécier la version mobile de Tech AN ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":-)\" title=\"\" /></p>\n\n<p><a href=\"https://techan.fr/images/2015/04/google_test_mobile_fini.jpg\"><img src=\"https://techan.fr/images/2015/04/google_test_mobile_fini.jpg\" alt=\"google<em>test</em>mobile_fini\" title=\"\" /></a></p>\n\n<p>Aller, à votre tour de tester !</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-29T19:30:19.000Z","created_by":1,"updated_at":"2015-04-29T11:46:56.000Z","updated_by":1,"published_at":"2015-04-29T19:30:19.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":127,"uuid":"65771068-b4a8-4fd4-a193-16a8dc53a9e7","title":"Envoyer les identifiants TeamViewer par mail avec un AppleScript","slug":"envoyer-les-identifiants-teamviewer-par-mail-avec-un-applescript","markdown":"\nComme je suis très tête en l’air j’oublie souvent de lancer – ou de relancer – TeamViewer en partant de chez moi. Et quand j’oublie de le faire et bien je suis triste … J’ai donc mis en place une solution pour envoyer les identifiants TeamViewer par mail avec un AppleScript, cela date déjà de quelques années en arrière mais cela fonctionne toujours comme un charme.\n\nPour la culture, AppleScript est un langage de programmation très pratique pour customiser son Mac. Il est par ailleurs très simple à adopter !\n\nJe vais donc vous partager mes très chères sources et inaugurer par la même la catégorie « AppleScript ». Qui sera prochainement enrichie d’autre scripts qui me simplifient la vie !\n\n \n\n\n## Le script\n\nVoilà la bête ! Remplacez juste votre nom, votre adresse email et un autre chemin pour stocker temporairement la capture d’écran et vous serez prêt !\n\ndo shell script (\"open /Applications/TeamViewer.app\") delay 1.5 set tmpPath to \"/Users/raphael/Downloads/tw.png\" do shell script \"screencapture \" & quoted form of tmpPath tell application \"Mail\" set theMessage to make new outgoing message with properties {visible:true, subject:\"[TeamViewer] :: \" & (current date) as string, content:\"\"} tell content of theMessage to make new attachment with properties {file name:tmpPath} at after last paragraph tell theMessage to make new to recipient at end of to recipients with properties {name:\"Votre Nom\", address:\"yourmail@domain.com\"} send theMessage end tell set myFile to POSIX file tmpPath as alias tell application \"Finder\" if exists file myFile then delete file myFile end if end tell\n\n \n\n\n## Le résultat\n\nOn lance le script, et quelques secondes après, ô bonheur, vous recevez la capture d’écran de TeamViewer avec le précieux sésame pour s’y connecter !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1303\" style=\"width: 366px\">[![Envoyer les identifiants TeamViewer par mail avec un ApplScript](https://techan.fr/images/2015/04/screenshot.4201.jpg)](https://techan.fr/images/2015/04/screenshot.4201.jpg)Et voilà le travail !\n\n</div> \n\n\n","html":"<p>Comme je suis très tête en l’air j’oublie souvent de lancer – ou de relancer – TeamViewer en partant de chez moi. Et quand j’oublie de le faire et bien je suis triste … J’ai donc mis en place une solution pour envoyer les identifiants TeamViewer par mail avec un AppleScript, cela date déjà de quelques années en arrière mais cela fonctionne toujours comme un charme.</p>\n\n<p>Pour la culture, AppleScript est un langage de programmation très pratique pour customiser son Mac. Il est par ailleurs très simple à adopter !</p>\n\n<p>Je vais donc vous partager mes très chères sources et inaugurer par la même la catégorie « AppleScript ». Qui sera prochainement enrichie d’autre scripts qui me simplifient la vie !</p>\n\n<h2 id=\"lescript\">Le script</h2>\n\n<p>Voilà la bête ! Remplacez juste votre nom, votre adresse email et un autre chemin pour stocker temporairement la capture d’écran et vous serez prêt !</p>\n\n<p>do shell script (\"open /Applications/TeamViewer.app\") delay 1.5 set tmpPath to \"/Users/raphael/Downloads/tw.png\" do shell script \"screencapture \" &amp; quoted form of tmpPath tell application \"Mail\" set theMessage to make new outgoing message with properties {visible:true, subject:\"[TeamViewer] :: \" &amp; (current date) as string, content:\"\"} tell content of theMessage to make new attachment with properties {file name:tmpPath} at after last paragraph tell theMessage to make new to recipient at end of to recipients with properties {name:\"Votre Nom\", address:\"yourmail@domain.com\"} send theMessage end tell set myFile to POSIX file tmpPath as alias tell application \"Finder\" if exists file myFile then delete file myFile end if end tell</p>\n\n<h2 id=\"lersultat\">Le résultat</h2>\n\n<p>On lance le script, et quelques secondes après, ô bonheur, vous recevez la capture d’écran de TeamViewer avec le précieux sésame pour s’y connecter !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1303\" style=\"width: 366px\"><a href=\"https://techan.fr/images/2015/04/screenshot.4201.jpg\"><img src=\"https://techan.fr/images/2015/04/screenshot.4201.jpg\" alt=\"Envoyer les identifiants TeamViewer par mail avec un ApplScript\" title=\"\" /></a>Et voilà le travail !</p>\n\n<p></div> </p>","image":"https://techan.fr/images/2015/04/screenshot.423.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-30T15:04:47.000Z","created_by":1,"updated_at":"2015-04-30T15:06:38.000Z","updated_by":1,"published_at":"2015-04-30T15:04:47.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":128,"uuid":"32a5fd64-0725-4d21-8fc4-49a4200b92b9","title":"Réinstaller votre Mac depuis Internet","slug":"reinstaller-votre-mac-depuis-internet","markdown":"\nVoici une fonctionnalité d’OS X que j’avais carrément ratée et autant dire que j’ai été – très – heureux de la découvrir complètement par hasard. Il s’agit de la possibilité de réinstaller votre Mac depuis Internet. Cette fonctionnalité a été introduite dans OS X Lion, ça date un peu déjà … Je l’ai découverte car j’avais inscrit mon Mac dans la bêta d’OS X Yosemite, et dans chaque mise à jour bêta, Apple incluait un lien vers une [KB expliquant le mode opératoire pour utiliser cette fonctionnalité](https://support.apple.com/fr-fr/HT4718).\n\nJe cherche toujours à accélérer les plus possible mon MacBook Unibody Mid 2010 et pour cela, je souhaitais remplacer son disque dur – SSHD 500 Go – par un SSD de 128 Go. Le SSHD n’était dejà pas son disque d’origine – qui est mort il y a de ça presque 2 ans, pour l’utiliser j’avais dû ressortir le DVD de Snow Leopard et refaire toutes les mise à jour du système. Le processus était long et fastidieux, aussi j’ai sauté sur l’occasion de tester la restauration par Internet.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1317\" style=\"width: 664px\">[![Réinstaller votre Mac depuis Internet](https://techan.fr/images/2015/05/restauration_par_internet.png)](https://techan.fr/images/2015/05/restauration_par_internet.png)Voici un extrait de la KB.\n\n</div> \n\nMon MacBook n’était pas fourni avec OS X Lion, aussi il m’a fallut vérifier que la fonctionnalité était bien disponible. [Une autre KB](https://support.apple.com/fr-fr/HT4904) m’a grandement soulagé, mon vieux machin est donc bien compatible !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1315\" style=\"width: 664px\">[![Réinstaller votre Mac depuis Internet](https://techan.fr/images/2015/05/restauration_internet_liste_ancien_mac_compatibles.png)](https://techan.fr/images/2015/05/restauration_internet_liste_ancien_mac_compatibles.png)Liste des anciens Mac compatibles.\n\n</div> \n\nIl faut cependant faire une mise à jour si vous souhaitez utiliser la restauration par Internet, il s’agit d’une nouvelle version du programme d’amorçage du Mac – EFI. Pour le MacBook Unibody Mid-2010, [vous trouverez cette mise à jour ici](https://support.apple.com/kb/DL1480?locale=fr_FR&viewlocale=fr_FR).\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1316\" style=\"width: 664px\">[![Réinstaller votre Mac depuis Internet](https://techan.fr/images/2015/05/restauration_internet_maj_EFI.png)](https://techan.fr/images/2015/05/restauration_internet_maj_EFI.png)La page de téléchargement de la mise à jour de l’EFI.\n\n</div> \n\nLa mise à jour se présente sous la forme d’un fichier « .pkg » sur lequel il faut double cliquer, la mise à jour se fait ensuite, un redémarrage est sans doute nécessaire. Comme j’ai réalisé toutes les montées de version d’OS X, je n’ai pas eu a appliquer ce patch.\n\n \n\n[![Réinstaller votre Mac depuis Internet](https://techan.fr/images/2015/05/contenu_mise_a_jour.png)](https://techan.fr/images/2015/05/contenu_mise_a_jour.png)\n\n \n\n\n## Et maintenant, nous allons réinstaller votre Mac depuis Internet !\n\n \n\nLa manipulation n’est pas compliquée, tout d’abord, si vous souhaitez utiliser Time Machine pour récupérer vos documents, assurez-vous que votre sauvegarde fonctionne et qu’elle est passée il y a peu de temps. Une fois ce point validé, redémarrer votre Mac.\n\nLorsque l’écran devient noir, maintenant appuyées les touches **Commande **et **R** jusqu’à ce que l’écran passe. Un écran de chargement avec un globe terrestre apparaît et vous avez gagné ! L’outil de restauration ne m’a pas demandé de me connecter à mon réseau Wifi, mais il peut vous le demander.\n\n**<span style=\"text-decoration: underline;\">Note :</span>** Si vous n’arrivez pas à vous connecter à votre réseau Wifi dans l’écran de récupération, il est probable que le clavier soit passé en QWERTY. Il vous faudra ruser pour taper votre mot de passe à l’aveugle.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1323\" style=\"width: 423px\">[![Réinstaller votre Mac depuis Internet](https://techan.fr/images/2015/05/screenshot.426.jpg)](https://techan.fr/images/2015/05/screenshot.426.jpg)Chargement des outils de réinstallation\n\n</div> \n\nEt voilà, 35 bonnes minutes après j’avais un OS X Lion opérationnel sur mon SSD, j’ai repassé la mise à jour vers Yosemite et me voilà avec un MacBook comme neuf !\n\n\n","html":"<p>Voici une fonctionnalité d’OS X que j’avais carrément ratée et autant dire que j’ai été – très – heureux de la découvrir complètement par hasard. Il s’agit de la possibilité de réinstaller votre Mac depuis Internet. Cette fonctionnalité a été introduite dans OS X Lion, ça date un peu déjà … Je l’ai découverte car j’avais inscrit mon Mac dans la bêta d’OS X Yosemite, et dans chaque mise à jour bêta, Apple incluait un lien vers une <a href=\"https://support.apple.com/fr-fr/HT4718\">KB expliquant le mode opératoire pour utiliser cette fonctionnalité</a>.</p>\n\n<p>Je cherche toujours à accélérer les plus possible mon MacBook Unibody Mid 2010 et pour cela, je souhaitais remplacer son disque dur – SSHD 500 Go – par un SSD de 128 Go. Le SSHD n’était dejà pas son disque d’origine – qui est mort il y a de ça presque 2 ans, pour l’utiliser j’avais dû ressortir le DVD de Snow Leopard et refaire toutes les mise à jour du système. Le processus était long et fastidieux, aussi j’ai sauté sur l’occasion de tester la restauration par Internet.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1317\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/05/restauration_par_internet.png\"><img src=\"https://techan.fr/images/2015/05/restauration_par_internet.png\" alt=\"Réinstaller votre Mac depuis Internet\" title=\"\" /></a>Voici un extrait de la KB.</p>\n\n<p></div> </p>\n\n<p>Mon MacBook n’était pas fourni avec OS X Lion, aussi il m’a fallut vérifier que la fonctionnalité était bien disponible. <a href=\"https://support.apple.com/fr-fr/HT4904\">Une autre KB</a> m’a grandement soulagé, mon vieux machin est donc bien compatible !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1315\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/05/restauration_internet_liste_ancien_mac_compatibles.png\"><img src=\"https://techan.fr/images/2015/05/restauration_internet_liste_ancien_mac_compatibles.png\" alt=\"Réinstaller votre Mac depuis Internet\" title=\"\" /></a>Liste des anciens Mac compatibles.</p>\n\n<p></div> </p>\n\n<p>Il faut cependant faire une mise à jour si vous souhaitez utiliser la restauration par Internet, il s’agit d’une nouvelle version du programme d’amorçage du Mac – EFI. Pour le MacBook Unibody Mid-2010, <a href=\"https://support.apple.com/kb/DL1480?locale=fr_FR&amp;viewlocale=fr_FR\">vous trouverez cette mise à jour ici</a>.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1316\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/05/restauration_internet_maj_EFI.png\"><img src=\"https://techan.fr/images/2015/05/restauration_internet_maj_EFI.png\" alt=\"Réinstaller votre Mac depuis Internet\" title=\"\" /></a>La page de téléchargement de la mise à jour de l’EFI.</p>\n\n<p></div> </p>\n\n<p>La mise à jour se présente sous la forme d’un fichier « .pkg » sur lequel il faut double cliquer, la mise à jour se fait ensuite, un redémarrage est sans doute nécessaire. Comme j’ai réalisé toutes les montées de version d’OS X, je n’ai pas eu a appliquer ce patch.</p>\n\n<p><a href=\"https://techan.fr/images/2015/05/contenu_mise_a_jour.png\"><img src=\"https://techan.fr/images/2015/05/contenu_mise_a_jour.png\" alt=\"Réinstaller votre Mac depuis Internet\" title=\"\" /></a></p>\n\n<h2 id=\"etmaintenantnousallonsrinstallervotremacdepuisinternet\">Et maintenant, nous allons réinstaller votre Mac depuis Internet !</h2>\n\n<p>La manipulation n’est pas compliquée, tout d’abord, si vous souhaitez utiliser Time Machine pour récupérer vos documents, assurez-vous que votre sauvegarde fonctionne et qu’elle est passée il y a peu de temps. Une fois ce point validé, redémarrer votre Mac.</p>\n\n<p>Lorsque l’écran devient noir, maintenant appuyées les touches <strong>Commande <em>*et *</em>R</strong> jusqu’à ce que l’écran passe. Un écran de chargement avec un globe terrestre apparaît et vous avez gagné ! L’outil de restauration ne m’a pas demandé de me connecter à mon réseau Wifi, mais il peut vous le demander.</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Note :</span></strong> Si vous n’arrivez pas à vous connecter à votre réseau Wifi dans l’écran de récupération, il est probable que le clavier soit passé en QWERTY. Il vous faudra ruser pour taper votre mot de passe à l’aveugle.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1323\" style=\"width: 423px\"><a href=\"https://techan.fr/images/2015/05/screenshot.426.jpg\"><img src=\"https://techan.fr/images/2015/05/screenshot.426.jpg\" alt=\"Réinstaller votre Mac depuis Internet\" title=\"\" /></a>Chargement des outils de réinstallation</p>\n\n<p></div> </p>\n\n<p>Et voilà, 35 bonnes minutes après j’avais un OS X Lion opérationnel sur mon SSD, j’ai repassé la mise à jour vers Yosemite et me voilà avec un MacBook comme neuf !</p>","image":"https://techan.fr/images/2015/04/hero_icon_large1.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-05-04T09:13:42.000Z","created_by":1,"updated_at":"2015-05-04T09:13:42.000Z","updated_by":1,"published_at":"2015-05-04T09:13:42.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":129,"uuid":"5020a26c-5459-4b53-b5e8-a1b5a93d3aa4","title":"Trouver et supprimer les doublons dans Photos sur Mac","slug":"trouver-et-supprimer-les-doublons-dans-photos-sur-mac","markdown":"\nL’apparition de la nouvelle app [Photos](https://www.apple.com/osx/photos/) sur Mac – avec OS X Yosemite 10.10.3 – a été une petite révolution en soi, elle remplace la poussiéreuse app iPhoto qui avait fait son temps. iPhoto était une application gourmande en ressources, force est de reconnaître que Photos fait beaucoup mieux de ce côté là.\n\nPhotos est l’adaptation de l’application portant le même nom sur iOS, montrant une fois de plus la volonté qu’a Apple de faire converger les deux systèmes. L’application était bien avancée sur iOS et certaines fonctions manquaient encore sur OS X, comme la photothèque iCloud – que j’ai attendue avec impatience. La petite nouvelle propose de synchroniser les photos stockées localement sur le Mac dans cette photothèque iCloud. J’avais déjà transféré une grande partie de mes photos dans iCloud en utilisant une astuce, en créant des flux de photos iCloud via [iPhoto](https://www.apple.com/mac/iphoto/), je pouvais récupérer mes photos sur mon iPhone et les transférer dans la photothèque iCloud.\n\nOui mais voilà, le jour ou Photos est apparue dans Yosemite, il m’a proposé d’importer les photos d’iPhoto et là les ennuis commencent … L’importation s’est bien passée, trop bien même, toutes mes photos étaient bien là mais celles que j’avais déjà uploadées se sont retrouvées en double, triple, … J’ai quelques 16 000 photos dans ma bibliothèque et il y avait presque 7 000 doublons en plus, soit presque 50% de photos inutiles qui consommaient de l’espace dans iCloud et sur mon Mac.\n\n \n\nJ’ai lu quelque part sur Internet qu’Apple aurait mis en place un mécanisme de recherche de doublons côté serveur, mais en quelques semaines d’utilisation, il n’en a pas trouvé beaucoup – pas du tout même. J’ai donc cherché des outils qui pourraient faire ce travail. Je suis tombé sur un article du site [www.communicatejesus.com](http://www.communicatejesus.com/2015/05/how-to-find-and-remove-duplicates-from-the-new-mac-photos-app/) dans lequel l’auteur compare plusieurs outils qu’il a testé.\n\nIl conseille d’utiliser [PowerPhotos](http://www.fatcatsoftware.com/powerphotos/) (Fat Cat Software – 24$) que j’ai testé également, l’interface est claire et l’outil simple à utiliser. Par contre, il ne m’a trouvé que 500 – sur plus de 6 000 – doublons après plusieurs passages …\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1332\" style=\"width: 664px\">[![Trouver et supprimer les doublons dans la nouvelle app Mac Photos](https://techan.fr/images/2015/05/screenshot.429.jpg)](https://techan.fr/images/2015/05/screenshot.429.jpg)PowerPhotos chercher des doublons …\n\n</div> \n\nJ’ai donc décidé de tester un autre outil que propose l’auteur de l’article : [PhotoSweeper](http://overmacs.com/?p=photosweeper) (Gwinno Software, Inc – 9,99$), il est également disponible sur le [Mac App Store au même prix](https://itunes.apple.com/app/photosweeper/id463362050). PhotoSweeper lui, a bien trouvé mes quelques 6 000 doublons et j’ai pu les supprimer simplement !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1334\" style=\"width: 664px\">[![Trouver et supprimer les doublons dans la nouvelle app Mac Photos](https://techan.fr/images/2015/05/screenshot.430.jpg)](https://techan.fr/images/2015/05/screenshot.430.jpg)PhotoSweeper en trouve !\n\n</div> \n\nUne fois les doublons identifiés et validés par vous, PhotoSweeper vous guide pour les supprimer dans Photos.app. Je vous recommande donc PhotoSweeper même s’il est un peu moins sympa à l’utilisation, il me paraît bien plus efficace !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1342\" style=\"width: 664px\">[![Trouver et supprimer les doublons dans la nouvelle app Mac Photos](https://techan.fr/images/2015/05/photosweeper_delete_duplicates.png)](https://techan.fr/images/2015/05/photosweeper_delete_duplicates.png)Vous êtes guidé pour supprimer les doublons dans Photos.app\n\n</div> \n\nBon courage avec vos doublons !\n\n \n\n<span style=\"text-decoration: underline;\">**[EDIT : 25/06/2015]**</span>\n\nJ’ai écrit un tutoriel pour utiliser ce logiciel, [ça se passe par ici !](https://techan.fr/retirer-les-doublons-dans-photos-sur-mac-avec-photosweeper/)\n\n \n\n**<span style=\"text-decoration: underline;\">Utilitaires :</span>**\n\n- [PowerPhotos](http://www.fatcatsoftware.com/powerphotos/) (24$)\n- [PhotoSweeperX](http://overmacs.com/?p=photosweeper) (9,99$)\n\n**<span style=\"text-decoration: underline;\">Source :</span>**[www.communicatejesus.com](http://www.communicatejesus.com/2015/05/how-to-find-and-remove-duplicates-from-the-new-mac-photos-app/)\n\n \n\n \n\n\n","html":"<p>L’apparition de la nouvelle app <a href=\"https://www.apple.com/osx/photos/\">Photos</a> sur Mac – avec OS X Yosemite 10.10.3 – a été une petite révolution en soi, elle remplace la poussiéreuse app iPhoto qui avait fait son temps. iPhoto était une application gourmande en ressources, force est de reconnaître que Photos fait beaucoup mieux de ce côté là.</p>\n\n<p>Photos est l’adaptation de l’application portant le même nom sur iOS, montrant une fois de plus la volonté qu’a Apple de faire converger les deux systèmes. L’application était bien avancée sur iOS et certaines fonctions manquaient encore sur OS X, comme la photothèque iCloud – que j’ai attendue avec impatience. La petite nouvelle propose de synchroniser les photos stockées localement sur le Mac dans cette photothèque iCloud. J’avais déjà transféré une grande partie de mes photos dans iCloud en utilisant une astuce, en créant des flux de photos iCloud via <a href=\"https://www.apple.com/mac/iphoto/\">iPhoto</a>, je pouvais récupérer mes photos sur mon iPhone et les transférer dans la photothèque iCloud.</p>\n\n<p>Oui mais voilà, le jour ou Photos est apparue dans Yosemite, il m’a proposé d’importer les photos d’iPhoto et là les ennuis commencent … L’importation s’est bien passée, trop bien même, toutes mes photos étaient bien là mais celles que j’avais déjà uploadées se sont retrouvées en double, triple, … J’ai quelques 16 000 photos dans ma bibliothèque et il y avait presque 7 000 doublons en plus, soit presque 50% de photos inutiles qui consommaient de l’espace dans iCloud et sur mon Mac.</p>\n\n<p>J’ai lu quelque part sur Internet qu’Apple aurait mis en place un mécanisme de recherche de doublons côté serveur, mais en quelques semaines d’utilisation, il n’en a pas trouvé beaucoup – pas du tout même. J’ai donc cherché des outils qui pourraient faire ce travail. Je suis tombé sur un article du site <a href=\"http://www.communicatejesus.com/2015/05/how-to-find-and-remove-duplicates-from-the-new-mac-photos-app/\">www.communicatejesus.com</a> dans lequel l’auteur compare plusieurs outils qu’il a testé.</p>\n\n<p>Il conseille d’utiliser <a href=\"http://www.fatcatsoftware.com/powerphotos/\">PowerPhotos</a> (Fat Cat Software – 24$) que j’ai testé également, l’interface est claire et l’outil simple à utiliser. Par contre, il ne m’a trouvé que 500 – sur plus de 6 000 – doublons après plusieurs passages …</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1332\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/05/screenshot.429.jpg\"><img src=\"https://techan.fr/images/2015/05/screenshot.429.jpg\" alt=\"Trouver et supprimer les doublons dans la nouvelle app Mac Photos\" title=\"\" /></a>PowerPhotos chercher des doublons …</p>\n\n<p></div> </p>\n\n<p>J’ai donc décidé de tester un autre outil que propose l’auteur de l’article : <a href=\"http://overmacs.com/?p=photosweeper\">PhotoSweeper</a> (Gwinno Software, Inc – 9,99$), il est également disponible sur le <a href=\"https://itunes.apple.com/app/photosweeper/id463362050\">Mac App Store au même prix</a>. PhotoSweeper lui, a bien trouvé mes quelques 6 000 doublons et j’ai pu les supprimer simplement !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1334\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/05/screenshot.430.jpg\"><img src=\"https://techan.fr/images/2015/05/screenshot.430.jpg\" alt=\"Trouver et supprimer les doublons dans la nouvelle app Mac Photos\" title=\"\" /></a>PhotoSweeper en trouve !</p>\n\n<p></div> </p>\n\n<p>Une fois les doublons identifiés et validés par vous, PhotoSweeper vous guide pour les supprimer dans Photos.app. Je vous recommande donc PhotoSweeper même s’il est un peu moins sympa à l’utilisation, il me paraît bien plus efficace !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1342\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/05/photosweeper_delete_duplicates.png\"><img src=\"https://techan.fr/images/2015/05/photosweeper_delete_duplicates.png\" alt=\"Trouver et supprimer les doublons dans la nouvelle app Mac Photos\" title=\"\" /></a>Vous êtes guidé pour supprimer les doublons dans Photos.app</p>\n\n<p></div> </p>\n\n<p>Bon courage avec vos doublons !</p>\n\n<p><span style=\"text-decoration: underline;\"><strong>[EDIT : 25/06/2015]</strong></span></p>\n\n<p>J’ai écrit un tutoriel pour utiliser ce logiciel, <a href=\"https://techan.fr/retirer-les-doublons-dans-photos-sur-mac-avec-photosweeper/\">ça se passe par ici !</a></p>\n\n<p><strong><span style=\"text-decoration: underline;\">Utilitaires :</span></strong></p>\n\n<ul>\n<li><a href=\"http://www.fatcatsoftware.com/powerphotos/\">PowerPhotos</a> (24$)</li>\n<li><a href=\"http://overmacs.com/?p=photosweeper\">PhotoSweeperX</a> (9,99$)</li>\n</ul>\n\n<p><strong><span style=\"text-decoration: underline;\">Source :</span></strong><a href=\"http://www.communicatejesus.com/2015/05/how-to-find-and-remove-duplicates-from-the-new-mac-photos-app/\">www.communicatejesus.com</a></p>","image":"https://techan.fr/images/2015/05/screenshot.428.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-05-05T15:00:09.000Z","created_by":1,"updated_at":"2015-06-25T18:44:23.000Z","updated_by":1,"published_at":"2015-05-05T15:00:09.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":130,"uuid":"05482072-d5c0-4903-aba6-e476188b2c47","title":"Boîte à idées","slug":"boite-a-idees","markdown":"\nUne technologie vous interpelle et vous n’avez pas le temps de la tester ? Vous hésitez entre deux solutions mais vous ne savez pas laquelle choisir ? Vous vous cassez les dents sur une erreur pénible ?\n\nPas de souci ! Déposez votre idée dans la boîte à idée, j’y prêterai attention ","html":"<p>Une technologie vous interpelle et vous n’avez pas le temps de la tester ? Vous hésitez entre deux solutions mais vous ne savez pas laquelle choisir ? Vous vous cassez les dents sur une erreur pénible ?</p>\n\n<p>Pas de souci ! Déposez votre idée dans la boîte à idée, j’y prêterai attention ","image":null,"featured":0,"page":1,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-05-05T18:33:57.000Z","created_by":1,"updated_at":"2015-05-05T18:34:25.000Z","updated_by":1,"published_at":"2015-05-05T18:33:57.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":131,"uuid":"bfce3804-0204-46b4-8fa5-63550926ad20","title":"Synchroniser votre OneDrive sur Ubuntu","slug":"synchroniser-votre-onedrive-sur-ubuntu","markdown":"\nJ’utilise [OneDrive ](https://onedrive.live.com/)depuis quelques temps pour synchroniser mes documentations client entre mes différents ordinateurs. C’est également très pratique pour partage ces informations avec les clients. De plus, une petite astuce – toute petite hein – permet de passer des 15 Go gracieusement offerts par Microsoft à 30 Go. OneDrive vous offre ces 15 Go supplémentaires dès lors que vous activer la sauvegarde de vos photos dans l’outil. Vous pouvez le désactiver directement, vous conserverez cet espace.\n\n \n\nIl me manquait toute fois la possibilité de synchroniser ces dossiers sur mon serveur Ubuntu à la maison – une sauvegarde de plus, au cas ou – mais évidement Microsoft ne propose pas d’application pour Linux, contrairement à OS X. Heureusement, de joyeux bidouilleurs ont mis les mains dans le cambouis pour nous proposer une application à la fois en ligne de commande et en interface graphique.\n\n \n\n\n## Installation des pré requis\n\n \n\nraphael@xxxx:~/bin/onedrive-d$ sudo aptitude install python3-gi psutils python3-psutil python3-dev python3-gobject inotify-tools python3-setuptools\n\n \n\nUne fois les paquets requis installés, il faut récupérer le programme depuis GitHub.\n\nraphael@xxxx:~/bin$ git clone https://github.com/xybu/onedrive-d.git Clonage dans 'onedrive-d'... remote: Counting objects: 876, done. remote: Total 876 (delta 0), reused 0 (delta 0), pack-reused 876 Réception d'objets: 100% (876/876), 287.45 KiB | 0 bytes/s, fait. Résolution des deltas: 100% (472/472), fait. Vérification de la connectivité... fait.\n\n \n\n\n## Installation de OneDrive-d\n\n \n\nL’installation en elle même est très simple, les scripts fournis vont tout faire pour vous, il suffit de les lancer !\n\nraphael@xxxx:~/bin$ cd onedrive-d/ raphael@xxxx:~/bin/onedrive-d$ sudo python3 setup.py install raphael@xxxx:~/bin/onedrive-d$ sudo python3 setup.py clean\n\n \n\nOn termine l’installation en créant le dossier de configuration et le fichier de log.\n\nraphael@xxxx:~/bin/onedrive-d$ mkdir ~/.onedrive raphael@xxxx:~/bin/onedrive-d$ cp ./onedrive_d/res/default_ignore.ini ~/.onedrive/ignore_v2.ini raphael@xxxx:~/bin/onedrive-d$ sudo touch /var/log/onedrive_d.log raphael@xxxx:~/bin/onedrive-d$ sudo chown `whoami` /var/log/onedrive_d.log\n\n \n\n\n## Configuration de OneDrive-d\n\n \n\nPour configurer l’outil, c’est comme pour l’installation, un outil va vous guider. J’ai personnellement choisi de le configurer et de l’utiliser en ligne de commande – je préfère – sachez qu’il est possible de faire pareil avec une interface graphique. Il suffit d’ajouter l’option « –ui=gtk » à la fin de la commande.\n\nraphael@xxxx:~/bin/onedrive-d$ onedrive-pref Loading configuration ... OK [2015-05-12 14:14:14,326] DEBUG: thread_mgr: started. Setting up onedrive-d... (STEP 1/4) Do you want to authorize sign in with your OneDrive account? [Y/n] You will need to visit the OneDrive sign-in page in a browser, log in and authorize onedrive-d, and then copy and paste the callback URL, which should start with \"https://login.live.com/oauth20_desktop.srf\". The callback URL is the URL where the sign-in page finally goes blank. Please visit the sign-in URL in your browser: https://login.live.com/oauth20_authorize.srf?client_id=00000000XXXXXXXX&redirect_uri=https%3A%2F%2Flogin.live.com%2Foauth20_desktop.srf&locale=en&scope=wl.skydrive+wl.skydrive_update+wl.offline_access&display=touch&response_type=code Please paste the callback URL:\n\nA ce stade, il va vous falloir copier l’URL fourni par le programme de configuration dans votre navigateur Web préféré. L’URL à cette tête là : « https://login.live.com/oauth20_authorize.srf?client_id=00000000XXXXXXXX&redirect_uri=https%3A%2F%2Flogin.live.com%2Foauth20_desktop.srf&locale=en&scope=wl.skydrive+wl.skydrive_update+wl.offline_access&display=touch&response_type=code »\n\nUne fois que vous aurez chargé la page, il va falloir vous connecter avec votre compte OneDrive.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1362\" style=\"width: 402px\">[![Synchroniser votre OneDrive sur Ubuntu](https://techan.fr/images/2015/05/screenshot.458.jpg)](https://techan.fr/images/2015/05/screenshot.458.jpg)Connecter vous à votre compte OneDrive\n\n</div> \n\nEt autoriser l’application.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1359\" style=\"width: 375px\">[![Synchroniser votre OneDrive sur Ubuntu](https://techan.fr/images/2015/05/screenshot.455.jpg)](https://techan.fr/images/2015/05/screenshot.455.jpg)Autoriser ensuite l’application à accéder à votre OneDrive.\n\n</div> \n\nVous allez être redirigé vers une page blanche, copiez son URL et donnez la en réponse au programme d’installation. Vous avez encore à répondre à quelques questions et ça sera prêt !\n\n \n\n[2015-05-12 14:24:38,125] DEBUG: MainThread: config saved. onedrive-d has been successfully authorized. (STEP 2/4) Do you want to specify path to local OneDrive repository? [Y/n] Please enter the abs path to sync with your OneDrive (default: /home/raphael/OneDrive): The path \"/home/raphael/OneDrive\" does not exist. Try creating it. [2015-05-12 14:24:41,216] DEBUG: MainThread: config saved. Path successfully set. (STEP 3/4) Do you want to change the numeric settings? [Y/n] y How many seconds to wait for before retrying a network failure (current: 10)? Files larger than what size (in MiB) will be uploaded blocks by blocks? (current: 4.0)? When a file is uploaded blocks by blocks, what is the block size (in KiB)? (current: 512.0)? [2015-05-12 14:16:26,069] DEBUG: MainThread: config saved. (STEP 4/4) Do you want to edit the ignore list file? [Y/n] Calling your default editor... You have exited from the text editor. All steps are finished. [2015-05-12 14:16:36,670] DEBUG: Dummy-2: config saved.\n\n \n\nVoilà ! Vous pouvez maintenant démarrer onedrive-d !\n\n \n\nraphael@xxxx:~/bin/onedrive-d$ onedrive-d start Loading configuration ... OK [2015-05-12 14:25:15,551] DEBUG: MainThread: running in daemon node. Starting onedrive-d ... OK\n\n \n\nPour qu’il démarre automatiquement avec votre système, ajouter la ligne suivante dans le fichier « /etc/rc.local » avant la ligne « exit 0 ».\n\n \n\nraphael@xxxx:~/bin/onedrive-d$ sudo vi /etc/rc.local su - raphael -c '/usr/local/bin/onedrive-d start' exit 0\n\n \n\n\n## Et voilà, OneDrive se synchronise !\n\n \n\nraphael@xxxx:~/bin/onedrive-d$ cd ~/OneDrive/ raphael@xxxx:~/OneDrive$ ll total 32 drwxrwxr-x 5 raphael raphael 4096 mai 12 14:25 ./ drwxr-xr-x 26 raphael raphael 4096 mai 12 14:24 ../ drwxr-xr-x 4 raphael raphael 4096 mai 12 14:25 Documents/ drwxr-xr-x 176 raphael raphael 16384 mai 12 14:26 Images/ drwxr-xr-x 2 raphael raphael 4096 mai 12 14:25 Musique/ raphael@baal:~/OneDrive$ du -sh . 125M .\n\n \n\n**<span style=\"text-decoration: underline;\">Source :</span>**[github](https://github.com/xybu/onedrive-d)\n\n\n","html":"<p>J’utilise <a href=\"https://onedrive.live.com/\">OneDrive </a>depuis quelques temps pour synchroniser mes documentations client entre mes différents ordinateurs. C’est également très pratique pour partage ces informations avec les clients. De plus, une petite astuce – toute petite hein – permet de passer des 15 Go gracieusement offerts par Microsoft à 30 Go. OneDrive vous offre ces 15 Go supplémentaires dès lors que vous activer la sauvegarde de vos photos dans l’outil. Vous pouvez le désactiver directement, vous conserverez cet espace.</p>\n\n<p>Il me manquait toute fois la possibilité de synchroniser ces dossiers sur mon serveur Ubuntu à la maison – une sauvegarde de plus, au cas ou – mais évidement Microsoft ne propose pas d’application pour Linux, contrairement à OS X. Heureusement, de joyeux bidouilleurs ont mis les mains dans le cambouis pour nous proposer une application à la fois en ligne de commande et en interface graphique.</p>\n\n<h2 id=\"installationdesprrequis\">Installation des pré requis</h2>\n\n<p>raphael@xxxx:~/bin/onedrive-d$ sudo aptitude install python3-gi psutils python3-psutil python3-dev python3-gobject inotify-tools python3-setuptools</p>\n\n<p>Une fois les paquets requis installés, il faut récupérer le programme depuis GitHub.</p>\n\n<p>raphael@xxxx:~/bin$ git clone <a href=\"https://github.com/xybu/onedrive-d.git\">https://github.com/xybu/onedrive-d.git</a> Clonage dans 'onedrive-d'... remote: Counting objects: 876, done. remote: Total 876 (delta 0), reused 0 (delta 0), pack-reused 876 Réception d'objets: 100% (876/876), 287.45 KiB | 0 bytes/s, fait. Résolution des deltas: 100% (472/472), fait. Vérification de la connectivité... fait.</p>\n\n<h2 id=\"installationdeonedrived\">Installation de OneDrive-d</h2>\n\n<p>L’installation en elle même est très simple, les scripts fournis vont tout faire pour vous, il suffit de les lancer !</p>\n\n<p>raphael@xxxx:~/bin$ cd onedrive-d/ raphael@xxxx:~/bin/onedrive-d$ sudo python3 setup.py install raphael@xxxx:~/bin/onedrive-d$ sudo python3 setup.py clean</p>\n\n<p>On termine l’installation en créant le dossier de configuration et le fichier de log.</p>\n\n<p>raphael@xxxx:~/bin/onedrive-d$ mkdir ~/.onedrive raphael@xxxx:~/bin/onedrive-d$ cp ./onedrive<em>d/res/default</em>ignore.ini ~/.onedrive/ignore<em>v2.ini raphael@xxxx:~/bin/onedrive-d$ sudo touch /var/log/onedrive</em>d.log raphael@xxxx:~/bin/onedrive-d$ sudo chown <code>whoami</code> /var/log/onedrive_d.log</p>\n\n<h2 id=\"configurationdeonedrived\">Configuration de OneDrive-d</h2>\n\n<p>Pour configurer l’outil, c’est comme pour l’installation, un outil va vous guider. J’ai personnellement choisi de le configurer et de l’utiliser en ligne de commande – je préfère – sachez qu’il est possible de faire pareil avec une interface graphique. Il suffit d’ajouter l’option « –ui=gtk » à la fin de la commande.</p>\n\n<p>raphael@xxxx:~/bin/onedrive-d$ onedrive-pref Loading configuration ... OK [2015-05-12 14:14:14,326] DEBUG: thread<em>mgr: started. Setting up onedrive-d... (STEP 1/4) Do you want to authorize sign in with your OneDrive account? [Y/n] You will need to visit the OneDrive sign-in page in a browser, log in and authorize onedrive-d, and then copy and paste the callback URL, which should start with \"<a href=\"https://login.live.com/oauth20\">https://login.live.com/oauth20</a></em>desktop.srf\". The callback URL is the URL where the sign-in page finally goes blank. Please visit the sign-in URL in your browser: <a href=\"https://login.live.com/oauth20\">https://login.live.com/oauth20</a><em>authorize.srf?client</em>id=00000000XXXXXXXX&amp;redirect<em>uri=https%3A%2F%2Flogin.live.com%2Foauth20</em>desktop.srf&amp;locale=en&amp;scope=wl.skydrive+wl.skydrive<em>update+wl.offline</em>access&amp;display=touch&amp;response_type=code Please paste the callback URL:</p>\n\n<p>A ce stade, il va vous falloir copier l’URL fourni par le programme de configuration dans votre navigateur Web préféré. L’URL à cette tête là : « <a href=\"https://login.live.com/oauth20\">https://login.live.com/oauth20</a><em>authorize.srf?client</em>id=00000000XXXXXXXX&amp;redirect<em>uri=https%3A%2F%2Flogin.live.com%2Foauth20</em>desktop.srf&amp;locale=en&amp;scope=wl.skydrive+wl.skydrive<em>update+wl.offline</em>access&amp;display=touch&amp;response_type=code »</p>\n\n<p>Une fois que vous aurez chargé la page, il va falloir vous connecter avec votre compte OneDrive.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1362\" style=\"width: 402px\"><a href=\"https://techan.fr/images/2015/05/screenshot.458.jpg\"><img src=\"https://techan.fr/images/2015/05/screenshot.458.jpg\" alt=\"Synchroniser votre OneDrive sur Ubuntu\" title=\"\" /></a>Connecter vous à votre compte OneDrive</p>\n\n<p></div> </p>\n\n<p>Et autoriser l’application.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1359\" style=\"width: 375px\"><a href=\"https://techan.fr/images/2015/05/screenshot.455.jpg\"><img src=\"https://techan.fr/images/2015/05/screenshot.455.jpg\" alt=\"Synchroniser votre OneDrive sur Ubuntu\" title=\"\" /></a>Autoriser ensuite l’application à accéder à votre OneDrive.</p>\n\n<p></div> </p>\n\n<p>Vous allez être redirigé vers une page blanche, copiez son URL et donnez la en réponse au programme d’installation. Vous avez encore à répondre à quelques questions et ça sera prêt !</p>\n\n<p>[2015-05-12 14:24:38,125] DEBUG: MainThread: config saved. onedrive-d has been successfully authorized. (STEP 2/4) Do you want to specify path to local OneDrive repository? [Y/n] Please enter the abs path to sync with your OneDrive (default: /home/raphael/OneDrive): The path \"/home/raphael/OneDrive\" does not exist. Try creating it. [2015-05-12 14:24:41,216] DEBUG: MainThread: config saved. Path successfully set. (STEP 3/4) Do you want to change the numeric settings? [Y/n] y How many seconds to wait for before retrying a network failure (current: 10)? Files larger than what size (in MiB) will be uploaded blocks by blocks? (current: 4.0)? When a file is uploaded blocks by blocks, what is the block size (in KiB)? (current: 512.0)? [2015-05-12 14:16:26,069] DEBUG: MainThread: config saved. (STEP 4/4) Do you want to edit the ignore list file? [Y/n] Calling your default editor... You have exited from the text editor. All steps are finished. [2015-05-12 14:16:36,670] DEBUG: Dummy-2: config saved.</p>\n\n<p>Voilà ! Vous pouvez maintenant démarrer onedrive-d !</p>\n\n<p>raphael@xxxx:~/bin/onedrive-d$ onedrive-d start Loading configuration ... OK [2015-05-12 14:25:15,551] DEBUG: MainThread: running in daemon node. Starting onedrive-d ... OK</p>\n\n<p>Pour qu’il démarre automatiquement avec votre système, ajouter la ligne suivante dans le fichier « /etc/rc.local » avant la ligne « exit 0 ».</p>\n\n<p>raphael@xxxx:~/bin/onedrive-d$ sudo vi /etc/rc.local su - raphael -c '/usr/local/bin/onedrive-d start' exit 0</p>\n\n<h2 id=\"etvoilonedrivesesynchronise\">Et voilà, OneDrive se synchronise !</h2>\n\n<p>raphael@xxxx:~/bin/onedrive-d$ cd ~/OneDrive/ raphael@xxxx:~/OneDrive$ ll total 32 drwxrwxr-x 5 raphael raphael 4096 mai 12 14:25 ./ drwxr-xr-x 26 raphael raphael 4096 mai 12 14:24 ../ drwxr-xr-x 4 raphael raphael 4096 mai 12 14:25 Documents/ drwxr-xr-x 176 raphael raphael 16384 mai 12 14:26 Images/ drwxr-xr-x 2 raphael raphael 4096 mai 12 14:25 Musique/ raphael@baal:~/OneDrive$ du -sh . 125M .</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Source :</span></strong><a href=\"https://github.com/xybu/onedrive-d\">github</a></p>","image":"https://techan.fr/images/2015/05/ubuntu_et_onedrive_logo.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-05-12T15:37:41.000Z","created_by":1,"updated_at":"2015-05-13T08:31:17.000Z","updated_by":1,"published_at":"2015-05-12T15:37:41.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":132,"uuid":"3e7c159e-45f3-47e1-906d-9bffa8d47434","title":"Cher lecteur de Mac Génération","slug":"cher-lecteur-de-mac-generation","markdown":"\nCher lecteur, vous avez été redirigé vers cette page car vous venez des [forums de Mac Génération](http://forums.macg.co/).\n\n \n\nSachez qu’un des membres de l’équipe de ces sites d’informations – orienté autour de l’univers Apple – a considéré que le contenu proposé par ce site comme du « spam ». Je vous protège donc par moi même de ce « spam » en vous épargnant la lecture des lignes que j’ai écrites. Je trouve la démarche du community manager très dommageable …\n\n \n\nM’enfin, comme je l’ai indiqué à cette personne, mon but n’est pas lucratif – il me soupçonne de faire de la publicité. Je souhaite juste proposer de l’information aux personnes qui en ont besoin.\n\n \n\nVous trouverez juste ici la conversation qui m’a convaincue de vous rediriger vers cette page.\n\n \n\n[![macgé.co_1_](https://techan.fr/images/2015/05/macgé.co_1_.png)](https://techan.fr/images/2015/05/macgé.co_1_.png) [![macgé.co_2_](https://techan.fr/images/2015/05/macgé.co_2_.png)](https://techan.fr/images/2015/05/macgé.co_2_.png) [![macgé.co_3_](https://techan.fr/images/2015/05/macgé.co_3_.png)](https://techan.fr/images/2015/05/macgé.co_3_.png) [![macgé.co_4_](https://techan.fr/images/2015/05/macgé.co_4_.png)](https://techan.fr/images/2015/05/macgé.co_4_.png)\n\n \n\nSi vous souhaitez tout de même consulter le contenu que vous veniez chercher ici, vous pouvez le faire en cliquant sur [ce lien](https://techan.fr) ou en recherchant l’article via l’outil de recherche en haut de cette page.\n\n \n\nBien à vous,\n\nMrRaph_\n\n\n","html":"<p>Cher lecteur, vous avez été redirigé vers cette page car vous venez des <a href=\"http://forums.macg.co/\">forums de Mac Génération</a>.</p>\n\n<p>Sachez qu’un des membres de l’équipe de ces sites d’informations – orienté autour de l’univers Apple – a considéré que le contenu proposé par ce site comme du « spam ». Je vous protège donc par moi même de ce « spam » en vous épargnant la lecture des lignes que j’ai écrites. Je trouve la démarche du community manager très dommageable …</p>\n\n<p>M’enfin, comme je l’ai indiqué à cette personne, mon but n’est pas lucratif – il me soupçonne de faire de la publicité. Je souhaite juste proposer de l’information aux personnes qui en ont besoin.</p>\n\n<p>Vous trouverez juste ici la conversation qui m’a convaincue de vous rediriger vers cette page.</p>\n\n<p><a href=\"https://techan.fr/images/2015/05/macgé.co_1_.png\"><img src=\"https://techan.fr/images/2015/05/macgé.co_1_.png\" alt=\"macgé.co<em>1</em>\" title=\"\" /></a> <a href=\"https://techan.fr/images/2015/05/macgé.co_2_.png\"><img src=\"https://techan.fr/images/2015/05/macgé.co_2_.png\" alt=\"macgé.co<em>2</em>\" title=\"\" /></a> <a href=\"https://techan.fr/images/2015/05/macgé.co_3_.png\"><img src=\"https://techan.fr/images/2015/05/macgé.co_3_.png\" alt=\"macgé.co<em>3</em>\" title=\"\" /></a> <a href=\"https://techan.fr/images/2015/05/macgé.co_4_.png\"><img src=\"https://techan.fr/images/2015/05/macgé.co_4_.png\" alt=\"macgé.co<em>4</em>\" title=\"\" /></a></p>\n\n<p>Si vous souhaitez tout de même consulter le contenu que vous veniez chercher ici, vous pouvez le faire en cliquant sur <a href=\"https://techan.fr\">ce lien</a> ou en recherchant l’article via l’outil de recherche en haut de cette page.</p>\n\n<p>Bien à vous,</p>\n\n<p>MrRaph_</p>","image":null,"featured":0,"page":1,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-05-14T19:40:54.000Z","created_by":1,"updated_at":"2015-05-15T11:04:20.000Z","updated_by":1,"published_at":"2015-05-14T19:40:54.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":133,"uuid":"6f6ddc94-a455-413e-ab52-f3ebfb33ec98","title":"Accrochez vous bien à votre Apple Watch","slug":"accrochez-vous-bien-a-votre-apple-watch","markdown":"\nLe site [MacRumors](http://www.macrumors.com) pointe ce matin un point plutôt inquiétant en matière de sécurité sur l’Apple Watch. Le système embarqué Watch OS 1.0 ne dispose pas d’une fonctionnalité permettant de bloquer ou même d’effacer une montre à distance. Cette fonctionnalité est présente depuis bien longtemps dans nos iPhone, nos iPad et même nos Mac – à condition d’avoir activé au préalable « [Localiser mon [iPhone/iPad/Mac]](https://www.apple.com/fr/icloud/find-my-iphone.html) » ([L’appli sur l’App Store](https://itunes.apple.com/fr/app/localiser-mon-iphone/id376101648?mt=8)).\n\n \n\n[Dans leur article](http://www.macrumors.com/2015/05/13/apple-watch-no-activation-lock/), MacRumors souligne qu’il existe bel et bien une protection par mot de passe de la montre. Il s’agit de taper une suite de chiffre lorsque la montre est ôtée du poignet. Toutefois, cette option ne protège que les données de l’utilisateur, elle ne protège pas la montrer en elle-même. Ainsi une simple réinitialisation de l’appareil permettrait de disposer d’une montre pleinement utilisable.\n\n \n\n<div class=\"wp-caption aligncenter\" style=\"width: 664px\">![Accrochez vous bien à votre Apple Watch](https://techan.fr/images/2015/05/applewatchpasscode3.jpg)La protection par mot de passe de l’Apple Watch.  \n Crédit : [http://www.macrumors.com/](http://www.macrumors.com/)\n\n</div> \n\nMacRumors donne même la procédure pour « nettoyer » la montre, il suffit d’appuyer sur le bouton vers le bas et d’appuyer fort sur l’écran pour voir apparaître l’écran de réinitialisation de la montre – image de droite.\n\nLa fonctionnalité « Localiser mon iPhone » est également pratique pour faire sonner l’iPhone ou l’iPad, depuis un autre appareil ou directement depuis [iCloud.com,](https://www.icloud.com/) lorsque l’on ne sait plus où on l’a posé … Aillant une assez mauvaise mémoire je dois avouer que je me sers fréquemment de cela pour remettre la main sur un de mes iBidules. Vu la taille de l’Apple Watch, on pourrait penser que cette fonctionnalité puisse être utile à pas mal de personnes …\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1396\" style=\"width: 550px\">[![Accrochez vous bien à votre Apple Watch](https://techan.fr/images/2015/05/screenshot.480.jpg)](https://techan.fr/images/2015/05/screenshot.480.jpg)Faire sonner un iBidule depuis [iCloud.com](https://www.icloud.com/#find)\n\n</div> \n\nSelon la source de MacRumors – [www.idownloadblog.com](http://www.idownloadblog.com/2015/05/13/the-apple-watch-thieves-reset-no-activation-lock-security/) – Apple aurait prévu d’ajouter de nouvelles mesures de sécurité dans une prochaine version de Watch OS. En attendant, surveillez votre poignet et accrochez-vous bien à votre Apple Watch !\n\n \n\n**<span style=\"text-decoration: underline;\">Source :</span>**[L’article sur MacRumors](http://www.macrumors.com/2015/05/13/apple-watch-no-activation-lock/)\n\n\n","html":"<p>Le site <a href=\"http://www.macrumors.com\">MacRumors</a> pointe ce matin un point plutôt inquiétant en matière de sécurité sur l’Apple Watch. Le système embarqué Watch OS 1.0 ne dispose pas d’une fonctionnalité permettant de bloquer ou même d’effacer une montre à distance. Cette fonctionnalité est présente depuis bien longtemps dans nos iPhone, nos iPad et même nos Mac – à condition d’avoir activé au préalable « <a href=\"https://www.apple.com/fr/icloud/find-my-iphone.html\">Localiser mon [iPhone/iPad/Mac]</a> » (<a href=\"https://itunes.apple.com/fr/app/localiser-mon-iphone/id376101648?mt=8\">L’appli sur l’App Store</a>).</p>\n\n<p><a href=\"http://www.macrumors.com/2015/05/13/apple-watch-no-activation-lock/\">Dans leur article</a>, MacRumors souligne qu’il existe bel et bien une protection par mot de passe de la montre. Il s’agit de taper une suite de chiffre lorsque la montre est ôtée du poignet. Toutefois, cette option ne protège que les données de l’utilisateur, elle ne protège pas la montrer en elle-même. Ainsi une simple réinitialisation de l’appareil permettrait de disposer d’une montre pleinement utilisable.</p>\n\n<p><div class=\"wp-caption aligncenter\" style=\"width: 664px\"><img src=\"https://techan.fr/images/2015/05/applewatchpasscode3.jpg\" alt=\"Accrochez vous bien à votre Apple Watch\" title=\"\" />La protection par mot de passe de l’Apple Watch. <br />\n Crédit : <a href=\"http://www.macrumors.com/\">http://www.macrumors.com/</a></p>\n\n<p></div> </p>\n\n<p>MacRumors donne même la procédure pour « nettoyer » la montre, il suffit d’appuyer sur le bouton vers le bas et d’appuyer fort sur l’écran pour voir apparaître l’écran de réinitialisation de la montre – image de droite.</p>\n\n<p>La fonctionnalité « Localiser mon iPhone » est également pratique pour faire sonner l’iPhone ou l’iPad, depuis un autre appareil ou directement depuis <a href=\"https://www.icloud.com/\">iCloud.com,</a> lorsque l’on ne sait plus où on l’a posé … Aillant une assez mauvaise mémoire je dois avouer que je me sers fréquemment de cela pour remettre la main sur un de mes iBidules. Vu la taille de l’Apple Watch, on pourrait penser que cette fonctionnalité puisse être utile à pas mal de personnes …</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1396\" style=\"width: 550px\"><a href=\"https://techan.fr/images/2015/05/screenshot.480.jpg\"><img src=\"https://techan.fr/images/2015/05/screenshot.480.jpg\" alt=\"Accrochez vous bien à votre Apple Watch\" title=\"\" /></a>Faire sonner un iBidule depuis <a href=\"https://www.icloud.com/#find\">iCloud.com</a></p>\n\n<p></div> </p>\n\n<p>Selon la source de MacRumors – <a href=\"http://www.idownloadblog.com/2015/05/13/the-apple-watch-thieves-reset-no-activation-lock-security/\">www.idownloadblog.com</a> – Apple aurait prévu d’ajouter de nouvelles mesures de sécurité dans une prochaine version de Watch OS. En attendant, surveillez votre poignet et accrochez-vous bien à votre Apple Watch !</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Source :</span></strong><a href=\"http://www.macrumors.com/2015/05/13/apple-watch-no-activation-lock/\">L’article sur MacRumors</a></p>","image":"https://techan.fr/images/2015/05/screenshot.479.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-05-15T10:39:08.000Z","created_by":1,"updated_at":"2015-05-15T10:46:58.000Z","updated_by":1,"published_at":"2015-05-15T10:39:08.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":134,"uuid":"00571b5e-4a2b-44ce-9fe1-00fda05d0ba1","title":"Toujours plus de puissance avec OneNote","slug":"toujours-plus-de-puissance-avec-onenote","markdown":"\n[OneNote](http://www.onenote.com/) est une excellent outil proposé par Microsoft, il permet la prise de note. Les notes sont organisées en Bloc-notes, Sections et Pages. OneDrive est complètement intégré dans la version 2013 ce qui simplifie encore plus le partage de bloc-notes entre différentes personnes. Autres points à prendre en compte c’est que cet outil peut être utilisé de manière gratuite, de plus l’application est disponible pour Windows – normal -, OS X, iOS et Android !\n\nC’est un outil qui a su s’imposer dans mes habitudes de travail ainsi que dans ma vie personnelle. Je l’utilise notamment pour m’aider à organiser mon déménagement et les travaux dans mon nouvel appartement.\n\n \n\n\n## Copier le texte contenu dans une image\n\nLa force de cet outil sont les nouvelles fonctionnalités qui arrivent régulièrement le compléter. La toute première que j’ai utilisée – et appréciée – c’est d’avoir la possibilité de copier le texte contenu dans une image, c’est tout bonnement <span style=\"text-decoration: underline;\">génial</span> !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1406\" style=\"width: 664px\">[![Toujours plus de puissance avec OneNote](https://techan.fr/images/2015/05/screenshot.483.jpg)](https://techan.fr/images/2015/05/screenshot.483.jpg)Un clic droit sur une image insérée dans une note permet d’en copier le texte.\n\n</div> \n\nOn colle ensuite le texte ou l’on veut – en corrigeant les quelques fautes qui s’y sont glissées – et on peut gagner pas mal de temps !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1407\" style=\"width: 664px\">[![Toujours plus de puissance avec OneNote](https://techan.fr/images/2015/05/screenshot.484.jpg)](https://techan.fr/images/2015/05/screenshot.484.jpg)Il ne reste plus qu’à coller et le tour est joué !\n\n</div> \n\n\n## Les toutes dernières nouveautés !\n\nHier Microsoft a publié une nouvelle version de OneNote, elle inclue deux toutes nouvelles fonctionnalités. L’application permet maintenant de rechercher du contenu[ dans du texte manuscrit](http://blogs.office.com/2015/05/14/search-handwritten-notes-and-apple-watch-support-for-onenote/) et [l’enregistrement audio dans OneNote pour Mac](http://blogs.office.com/2015/05/14/audio-recording-comes-to-onenote-for-mac-2/).\n\n \n\nDans la version Windows – je n’ai pas trouvé la même option sur OS X – il est également possible de faire des recherches de contenu à l’intérieur même de ces enregistrements audio et vidéo.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1404\" style=\"width: 664px\">[![Activer la recherche dans les enregistrement audio et vidéo](https://techan.fr/images/2015/05/screenshot.481.jpg)](https://techan.fr/images/2015/05/screenshot.481.jpg)Activer la recherche dans les enregistrements audio et vidéo\n\n</div> \n\n\n","html":"<p><a href=\"http://www.onenote.com/\">OneNote</a> est une excellent outil proposé par Microsoft, il permet la prise de note. Les notes sont organisées en Bloc-notes, Sections et Pages. OneDrive est complètement intégré dans la version 2013 ce qui simplifie encore plus le partage de bloc-notes entre différentes personnes. Autres points à prendre en compte c’est que cet outil peut être utilisé de manière gratuite, de plus l’application est disponible pour Windows – normal -, OS X, iOS et Android !</p>\n\n<p>C’est un outil qui a su s’imposer dans mes habitudes de travail ainsi que dans ma vie personnelle. Je l’utilise notamment pour m’aider à organiser mon déménagement et les travaux dans mon nouvel appartement.</p>\n\n<h2 id=\"copierletextecontenudansuneimage\">Copier le texte contenu dans une image</h2>\n\n<p>La force de cet outil sont les nouvelles fonctionnalités qui arrivent régulièrement le compléter. La toute première que j’ai utilisée – et appréciée – c’est d’avoir la possibilité de copier le texte contenu dans une image, c’est tout bonnement <span style=\"text-decoration: underline;\">génial</span> !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1406\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/05/screenshot.483.jpg\"><img src=\"https://techan.fr/images/2015/05/screenshot.483.jpg\" alt=\"Toujours plus de puissance avec OneNote\" title=\"\" /></a>Un clic droit sur une image insérée dans une note permet d’en copier le texte.</p>\n\n<p></div> </p>\n\n<p>On colle ensuite le texte ou l’on veut – en corrigeant les quelques fautes qui s’y sont glissées – et on peut gagner pas mal de temps !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1407\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/05/screenshot.484.jpg\"><img src=\"https://techan.fr/images/2015/05/screenshot.484.jpg\" alt=\"Toujours plus de puissance avec OneNote\" title=\"\" /></a>Il ne reste plus qu’à coller et le tour est joué !</p>\n\n<p></div> </p>\n\n<h2 id=\"lestoutesderniresnouveauts\">Les toutes dernières nouveautés !</h2>\n\n<p>Hier Microsoft a publié une nouvelle version de OneNote, elle inclue deux toutes nouvelles fonctionnalités. L’application permet maintenant de rechercher du contenu<a href=\"http://blogs.office.com/2015/05/14/search-handwritten-notes-and-apple-watch-support-for-onenote/\"> dans du texte manuscrit</a> et <a href=\"http://blogs.office.com/2015/05/14/audio-recording-comes-to-onenote-for-mac-2/\">l’enregistrement audio dans OneNote pour Mac</a>.</p>\n\n<p>Dans la version Windows – je n’ai pas trouvé la même option sur OS X – il est également possible de faire des recherches de contenu à l’intérieur même de ces enregistrements audio et vidéo.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1404\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/05/screenshot.481.jpg\"><img src=\"https://techan.fr/images/2015/05/screenshot.481.jpg\" alt=\"Activer la recherche dans les enregistrement audio et vidéo\" title=\"\" /></a>Activer la recherche dans les enregistrements audio et vidéo</p>\n\n<p></div> </p>","image":"https://techan.fr/images/2015/05/OneNote-Logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-05-15T14:29:22.000Z","created_by":1,"updated_at":"2015-05-15T12:03:29.000Z","updated_by":1,"published_at":"2015-05-15T14:29:22.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":135,"uuid":"1b5f13a2-49eb-4c45-8ced-509e10f411f5","title":"Installer un serveur OpenVPN sur Ubuntu 15.04","slug":"installer-un-serveur-openvpn-sur-ubuntu-15-04","markdown":"\nParmi les solutions de VPN que l’on peut mettre en place sur Linux, OpenVPN est ma préférée, c’est de plus – selon moi – la plus sécurisante. Le bon vieux PPTP est certes très facile à mettre en place, mais je sais pas, je me sens mieux protégé derrière une connexion sécurisée par OpenVPN, c’est peut être une vue de l’esprit, et vous qu’en pensez-vous ?\n\nVous trouverez en tout cas ci-dessous une procédure pour installer un serveur OpenVPN sur Ubuntu 15.04 – la procédure serait quasiment similaire sur les autres Linux.\n\n \n\n\n## Création des certificats\n\nOpenVPN utilise des certificats pour sécuriser le tunnel qu’il met en place, il faut donc créer un certificat pour le serveur mais également, un certificat par utilisateur qui va se connecter au VPN. On peut augmenter le niveau de sécurité en demandant aux utilisateur un mot de passe en plus du certificat qui leur a été attribué – je n’ai pas documenté cette partie dans là dans cet article.\n\n#### Le certificat serveur\n\nPremière étape, créer le certificat pour le serveur OpenVPN, pour cela, on va tout d’abord installer les paquets nécessaires à OpenVPN et à sa configuration.\n\nroot@xxxx:~# apt-get install openvpn easy-rsa Reading package lists... Done Building dependency tree Reading state information... Done openvpn is already the newest version. The following packages were automatically installed and are no longer required: linux-headers-3.16.0-33 linux-headers-3.16.0-33-generic linux-image-3.16.0-33-generic linux-image-extra-3.16.0-33-generic Use 'apt-get autoremove' to remove them. The following extra packages will be installed: libccid libpcsclite1 opensc pcscd Suggested packages: pcmciautils The following NEW packages will be installed: easy-rsa libccid libpcsclite1 opensc pcscd 0 upgraded, 5 newly installed, 0 to remove and 0 not upgraded. Need to get 970 kB of archives. After this operation, 3,402 kB of additional disk space will be used. Do you want to continue? [Y/n]\n\nMaintenant que l’on dispose de tous les outils, nous allons créer le fameux certificat serveur, pour cela préparons « easy-rsa ».\n\nroot@xxxx:~# mkdir /etc/openvpn/easy-rsa/ root@xxxx:~# cp -r /usr/share/easy-rsa/* /etc/openvpn/easy-rsa/\n\nOn édite le fichier contenant les variables utilisées par « easy-rsa », cela va nous faire gagner un temps précieux.\n\nroot@xxxx:~# vi /etc/openvpn/easy-rsa/vars\n\nRemplacer les valeurs suivantes dans le fichier par les informations qui correspondent à votre serveur.\n\nexport KEY_COUNTRY=\"FRANCE\" export KEY_PROVINCE=\"FR\" export KEY_CITY=\"Lyon\" export KEY_ORG=\"Example Company\" export KEY_EMAIL=\"email@example.com\" export KEY_CN=MyVPN export KEY_NAME=MyVPN export KEY_OU=MyVPN\n\nOn source ensuite ce fichier, puis on construit le certificat « root » et sa clef.\n\nroot@xxxx:/etc/openvpn/easy-rsa# . vars root@xxxx:/etc/openvpn/easy-rsa# ./build-ca error on line 198 of [/etc/openvpn/easy-rsa/openssl-1.0.0.cnf](http://etc/openvpn/easy-rsa/openssl-1.0.0.cnf) 139708269794976:error:0E065068:configuration file routines:STR_COPY:variable has no value:conf_def.c:618:line 198\n\nSi vous rencontrez cette erreur lors de la génération du certificat, éditez de nouveau le fichier « vars ».\n\nroot@xxxx:/etc/openvpn/easy-rsa# vi vars\n\nAjoutez la ligne suivante à la fin du fichier et relancer la génération du certificat, cela devrait fonctionner.\n\nexport KEY_ALTNAMES=$KEY_EMAIL\n\nOn peut désormais générer le certificat.\n\nroot@xxxx:/etc/openvpn/easy-rsa# cd /etc/openvpn/easy-rsa/ root@xxxx:/etc/openvpn/easy-rsa# mkdir -p keys root@xxxx:/etc/openvpn/easy-rsa# ./clean-all root@xxxx:/etc/openvpn/easy-rsa# source ./vars NOTE: If you run ./clean-all, I will be doing a rm -rf on /etc/openvpn/easy-rsa/keys root@xxxx:/etc/openvpn/easy-rsa# ./clean-all root@xxxx:/etc/openvpn/easy-rsa# ./build-ca Generating a 2048 bit RSA private key …………+++ ……………+++ writing new private key to ‘ca.key’ —— You are about to be asked to enter information that will be incorporated into your certificate request. What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blank For some fields there will be a default value, If you enter ‘.’, the field will be left blank. —— Country Name (2 letter code) [FRANCE]:FR State or Province Name (full name) [FR]:France Locality Name (eg, city) [Lyon]:Lyon Organization Name (eg, company) [Example Company]: Organizational Unit Name (eg, section) [MyVPN]: Common Name (eg, your name or your server’s hostname) [MyVPN]:serveur.fr Name [EasyRSA]:MyVPN Email Address [email@example.com]:\n\nMaintenant que le serveur « root » est créé, on génère le certificat propre au serveur.\n\nroot@xxxx:/etc/openvpn/easy-rsa# ./build-key-server serveur.fr Generating a 2048 bit RSA private key ……………………+++ ……………………+++ writing new private key to ‘serveur.fr.key’ —— You are about to be asked to enter information that will be incorporated into your certificate request. What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blank For some fields there will be a default value, If you enter ‘.’, the field will be left blank. —— Country Name (2 letter code) [FRANCE]:FR State or Province Name (full name) [FR]:France Locality Name (eg, city) [Lyon]: Organization Name (eg, company) [Example Company]: Organizational Unit Name (eg, section) [MyVPN]: Common Name (eg, your name or your server’s hostname) [serveur.fr]: Name [EasyRSA]:MyVPN Email Address [email@exmaple.com]: Please enter the following ‘extra’ attributes to be sent with your certificate request A challenge password []: An optional company name []: Using configuration from /etc/openvpn/easy-rsa/openssl-1.0.0.cnf Check that the request matches the signature Signature ok The Subject’s Distinguished Name is as follows countryName :PRINTABLE:’FR’ stateOrProvinceName :PRINTABLE:’France’ localityName :PRINTABLE:’Lyon’ organizationName :PRINTABLE:’Example Company’ organizationalUnitName:PRINTABLE:’MyVPN’ commonName :PRINTABLE:’serveur.fr’ name :PRINTABLE:’MyVPN’ emailAddress :IA5STRING:’email@exmaple.com’ Certificate is to be certified until May 2 09:39:31 2025 GMT (3650 days) Sign the certificate? [y/n]:y 1 out of 1 certificate requests certified, commit? [y/n]y Write out database with 1 new entries Data Base Updated\n\nOn génère la clef Diffie-Hellman, c’est un peu long car nous demandons une clef d’une longueur de 2048 bits.\n\nroot@xxxx:/etc/openvpn/easy-rsa# ./build-dh Generating DH parameters, 2048 bit long safe prime, generator 2 This is going to take a long time ...+...........................................+............+...........................................................................................................................................................................................................+.+.......................................................................................................................................................................................................................................................................................................................................................................................................................................................+.....................................+...........................+...............................................................................................................................................................................................................................................................................................................................................................................................................................................................+.........+...........+...................................................................+.......................+.......+...............+..........................................................................................................................................................................................................................................................+............................................................................................................................+.+............+.................+....................................................................................................................................................+....................................+........................................................................................................................................................................+......................................................................................................................+........................................................................................................\n\nCopions les clefs générées dans le dossier de configuration d’OpenVPN.\n\nroot@xxxx:/etc/openvpn/easy-rsa# cd keys root@xxxx:/etc/openvpn/easy-rsa/keys# cp serveur.fr.crt serveur.fr.key ca.crt dh2048.pem /etc/openvpn/\n\n \n\n#### Le certificat client\n\nCréons le dernier certificat, celui du client. Dans cet exemple, je vais en créer un pour ma Freebox – qui dispose d’un client OpenVPN intégré.\n\nroot@xxxx:/etc/openvpn/easy-rsa/keys# cd /etc/openvpn/easy-rsa/ root@xxxx:/etc/openvpn/easy-rsa# source vars NOTE: If you run ./clean-all, I will be doing a rm -rf on /etc/openvpn/easy-rsa/keys root@xxxx:/etc/openvpn/easy-rsa# ./build-key freebox Generating a 2048 bit RSA private key …………………………………..+++ ………………………………………..+++ writing new private key to ‘freebox.key’ —— You are about to be asked to enter information that will be incorporated into your certificate request. What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blank For some fields there will be a default value, If you enter ‘.’, the field will be left blank. —— Country Name (2 letter code) [FRANCE]:FR State or Province Name (full name) [FR]:France Locality Name (eg, city) [Lyon]: Organization Name (eg, company) [Example Company]: Organizational Unit Name (eg, section) [MyVPN]: Common Name (eg, your name or your server’s hostname) [freebox]: Name [EasyRSA]:MyVPN Email Address [email@exmaple.com]: Please enter the following ‘extra’ attributes to be sent with your certificate request A challenge password []: An optional company name []: Using configuration from /etc/openvpn/easy-rsa/openssl-1.0.0.cnf Check that the request matches the signature Signature ok The Subject’s Distinguished Name is as follows countryName :PRINTABLE:’FR’ stateOrProvinceName :PRINTABLE:’France’ localityName :PRINTABLE:’Lyon’ organizationName :PRINTABLE:’Example Company’ organizationalUnitName:PRINTABLE:’MyVPN’ commonName :PRINTABLE:’freebox’ name :PRINTABLE:’MyVPN’ emailAddress :IA5STRING:’email@exmaple.com’ Certificate is to be certified until May 2 09:59:24 2025 GMT (3650 days) Sign the certificate? [y/n]:y 1 out of 1 certificate requests certified, commit? [y/n]y Write out database with 1 new entries Data Base Updated\n\n \n\nOn crée une petite archive avec tous les fichiers nécessaires au client pour établir la connexion avec notre tout nouveau serveur OpenVPN.\n\n \n\nroot@xxxx:/etc/openvpn/easy-rsa# zip freebox.zip /etc/openvpn/ca.crt /etc/openvpn/easy-rsa/keys/freebox.crt /etc/openvpn/easy-rsa/keys/freebox.key /usr/share/doc/openvpn/examples/sample-config-files/client.conf adding: etc/openvpn/ca.crt (deflated 37%) adding: etc/openvpn/easy-rsa/keys/freebox.crt (deflated 47%) adding: etc/openvpn/easy-rsa/keys/freebox.key (deflated 23%) adding: usr/share/doc/openvpn/examples/sample-config-files/client.conf (deflated 54%)\n\n \n\n\n## La configuration d’OpenVPN\n\nPassons au dernier point, la configuration !\n\n#### Configurons le serveur\n\nOn copie le fichier e configuration par défaut dans le dossier openvpn.\n\nroot@xxxx:/etc/openvpn/easy-rsa# sudo cp /usr/share/doc/openvpn/examples/sample-config-files/server.conf.gz /etc/openvpn/ root@nefarian:/etc/openvpn/easy-rsa# sudo gzip -d /etc/openvpn/server.conf.gz\n\nOn édite ce fichier afin de régler quelques options.\n\nroot@xxxx:/etc/openvpn/easy-rsa# vi /etc/openvpn/server.conf\n\nModifier le nom du fichier de clef Difiie-Hellman pour qu’il corresponde à celui qu’on a généré plus haut.\n\n# Diffie hellman parameters. # Generate your own with: # openssl dhparam -out dh1024.pem 1024 # Substitute 2048 for 1024 if you are using # 2048 bit keys. ;dh dh1024.pem dh dh2048.pem\n\nDe même pour les fichiers de certificats, vérifiez en fonction des noms qu’ont vos fichiers.\n\n# Any X509 key management system can be used. # OpenVPN can also use a PKCS #12 formatted key file # (see \"pkcs12\" directive in man page). ca ca.crt ;cert server.crt ;key server.key # This file should be kept secret cert serveur.fr.crt key serveur.fr.key # This file should be kept secret\n\nC’est l’heure de vérité, on redémarre le dament OpenVPN afin qu’il intègre notre nouvelle configuration.\n\nroot@xxxx:/etc/openvpn/easy-rsa# service openvpn restart * Stopping virtual private network daemon(s)... * No VPN is running. * Starting virtual private network daemon(s)... * Autostarting VPN 'server'\n\nOn peut également vérifier que l’interface « tune » est bien apparue sur le système.\n\nroot@xxxx:/etc/openvpn/easy-rsa# ifconfig [...] tun0 Link encap:UNSPEC HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00 inet addr:10.8.0.1 P-t-P:10.8.0.2 Mask:255.255.255.255 UP POINTOPOINT RUNNING NOARP MULTICAST MTU:1500 Metric:1 RX packets:0 errors:0 dropped:0 overruns:0 frame:0 TX packets:0 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:100 RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)\n\n \n\n\n","html":"<p>Parmi les solutions de VPN que l’on peut mettre en place sur Linux, OpenVPN est ma préférée, c’est de plus – selon moi – la plus sécurisante. Le bon vieux PPTP est certes très facile à mettre en place, mais je sais pas, je me sens mieux protégé derrière une connexion sécurisée par OpenVPN, c’est peut être une vue de l’esprit, et vous qu’en pensez-vous ?</p>\n\n<p>Vous trouverez en tout cas ci-dessous une procédure pour installer un serveur OpenVPN sur Ubuntu 15.04 – la procédure serait quasiment similaire sur les autres Linux.</p>\n\n<h2 id=\"crationdescertificats\">Création des certificats</h2>\n\n<p>OpenVPN utilise des certificats pour sécuriser le tunnel qu’il met en place, il faut donc créer un certificat pour le serveur mais également, un certificat par utilisateur qui va se connecter au VPN. On peut augmenter le niveau de sécurité en demandant aux utilisateur un mot de passe en plus du certificat qui leur a été attribué – je n’ai pas documenté cette partie dans là dans cet article.</p>\n\n<h4 id=\"lecertificatserveur\">Le certificat serveur</h4>\n\n<p>Première étape, créer le certificat pour le serveur OpenVPN, pour cela, on va tout d’abord installer les paquets nécessaires à OpenVPN et à sa configuration.</p>\n\n<p>root@xxxx:~# apt-get install openvpn easy-rsa Reading package lists... Done Building dependency tree Reading state information... Done openvpn is already the newest version. The following packages were automatically installed and are no longer required: linux-headers-3.16.0-33 linux-headers-3.16.0-33-generic linux-image-3.16.0-33-generic linux-image-extra-3.16.0-33-generic Use 'apt-get autoremove' to remove them. The following extra packages will be installed: libccid libpcsclite1 opensc pcscd Suggested packages: pcmciautils The following NEW packages will be installed: easy-rsa libccid libpcsclite1 opensc pcscd 0 upgraded, 5 newly installed, 0 to remove and 0 not upgraded. Need to get 970 kB of archives. After this operation, 3,402 kB of additional disk space will be used. Do you want to continue? [Y/n]</p>\n\n<p>Maintenant que l’on dispose de tous les outils, nous allons créer le fameux certificat serveur, pour cela préparons « easy-rsa ».</p>\n\n<p>root@xxxx:~# mkdir /etc/openvpn/easy-rsa/ root@xxxx:~# cp -r /usr/share/easy-rsa/* /etc/openvpn/easy-rsa/</p>\n\n<p>On édite le fichier contenant les variables utilisées par « easy-rsa », cela va nous faire gagner un temps précieux.</p>\n\n<p>root@xxxx:~# vi /etc/openvpn/easy-rsa/vars</p>\n\n<p>Remplacer les valeurs suivantes dans le fichier par les informations qui correspondent à votre serveur.</p>\n\n<p>export KEY<em>COUNTRY=\"FRANCE\" export KEY</em>PROVINCE=\"FR\" export KEY<em>CITY=\"Lyon\" export KEY</em>ORG=\"Example Company\" export KEY<em>EMAIL=\"email@example.com\" export KEY</em>CN=MyVPN export KEY<em>NAME=MyVPN export KEY</em>OU=MyVPN</p>\n\n<p>On source ensuite ce fichier, puis on construit le certificat « root » et sa clef.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# . vars root@xxxx:/etc/openvpn/easy-rsa# ./build-ca error on line 198 of <a href=\"http://etc/openvpn/easy-rsa/openssl-1.0.0.cnf\">/etc/openvpn/easy-rsa/openssl-1.0.0.cnf</a> 139708269794976:error:0E065068:configuration file routines:STR<em>COPY:variable has no value:conf</em>def.c:618:line 198</p>\n\n<p>Si vous rencontrez cette erreur lors de la génération du certificat, éditez de nouveau le fichier « vars ».</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# vi vars</p>\n\n<p>Ajoutez la ligne suivante à la fin du fichier et relancer la génération du certificat, cela devrait fonctionner.</p>\n\n<p>export KEY<em>ALTNAMES=$KEY</em>EMAIL</p>\n\n<p>On peut désormais générer le certificat.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# cd /etc/openvpn/easy-rsa/ root@xxxx:/etc/openvpn/easy-rsa# mkdir -p keys root@xxxx:/etc/openvpn/easy-rsa# ./clean-all root@xxxx:/etc/openvpn/easy-rsa# source ./vars NOTE: If you run ./clean-all, I will be doing a rm -rf on /etc/openvpn/easy-rsa/keys root@xxxx:/etc/openvpn/easy-rsa# ./clean-all root@xxxx:/etc/openvpn/easy-rsa# ./build-ca Generating a 2048 bit RSA private key …………+++ ……………+++ writing new private key to ‘ca.key’ —— You are about to be asked to enter information that will be incorporated into your certificate request. What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blank For some fields there will be a default value, If you enter ‘.’, the field will be left blank. —— Country Name (2 letter code) [FRANCE]:FR State or Province Name (full name) [FR]:France Locality Name (eg, city) [Lyon]:Lyon Organization Name (eg, company) [Example Company]: Organizational Unit Name (eg, section) [MyVPN]: Common Name (eg, your name or your server’s hostname) [MyVPN]:serveur.fr Name [EasyRSA]:MyVPN Email Address [email@example.com]:</p>\n\n<p>Maintenant que le serveur « root » est créé, on génère le certificat propre au serveur.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# ./build-key-server serveur.fr Generating a 2048 bit RSA private key ……………………+++ ……………………+++ writing new private key to ‘serveur.fr.key’ —— You are about to be asked to enter information that will be incorporated into your certificate request. What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blank For some fields there will be a default value, If you enter ‘.’, the field will be left blank. —— Country Name (2 letter code) [FRANCE]:FR State or Province Name (full name) [FR]:France Locality Name (eg, city) [Lyon]: Organization Name (eg, company) [Example Company]: Organizational Unit Name (eg, section) [MyVPN]: Common Name (eg, your name or your server’s hostname) [serveur.fr]: Name [EasyRSA]:MyVPN Email Address [email@exmaple.com]: Please enter the following ‘extra’ attributes to be sent with your certificate request A challenge password []: An optional company name []: Using configuration from /etc/openvpn/easy-rsa/openssl-1.0.0.cnf Check that the request matches the signature Signature ok The Subject’s Distinguished Name is as follows countryName :PRINTABLE:’FR’ stateOrProvinceName :PRINTABLE:’France’ localityName :PRINTABLE:’Lyon’ organizationName :PRINTABLE:’Example Company’ organizationalUnitName:PRINTABLE:’MyVPN’ commonName :PRINTABLE:’serveur.fr’ name :PRINTABLE:’MyVPN’ emailAddress :IA5STRING:’email@exmaple.com’ Certificate is to be certified until May 2 09:39:31 2025 GMT (3650 days) Sign the certificate? [y/n]:y 1 out of 1 certificate requests certified, commit? [y/n]y Write out database with 1 new entries Data Base Updated</p>\n\n<p>On génère la clef Diffie-Hellman, c’est un peu long car nous demandons une clef d’une longueur de 2048 bits.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# ./build-dh Generating DH parameters, 2048 bit long safe prime, generator 2 This is going to take a long time ...+...........................................+............+...........................................................................................................................................................................................................+.+.......................................................................................................................................................................................................................................................................................................................................................................................................................................................+.....................................+...........................+...............................................................................................................................................................................................................................................................................................................................................................................................................................................................+.........+...........+...................................................................+.......................+.......+...............+..........................................................................................................................................................................................................................................................+............................................................................................................................+.+............+.................+....................................................................................................................................................+....................................+........................................................................................................................................................................+......................................................................................................................+........................................................................................................</p>\n\n<p>Copions les clefs générées dans le dossier de configuration d’OpenVPN.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# cd keys root@xxxx:/etc/openvpn/easy-rsa/keys# cp serveur.fr.crt serveur.fr.key ca.crt dh2048.pem /etc/openvpn/</p>\n\n<h4 id=\"lecertificatclient\">Le certificat client</h4>\n\n<p>Créons le dernier certificat, celui du client. Dans cet exemple, je vais en créer un pour ma Freebox – qui dispose d’un client OpenVPN intégré.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa/keys# cd /etc/openvpn/easy-rsa/ root@xxxx:/etc/openvpn/easy-rsa# source vars NOTE: If you run ./clean-all, I will be doing a rm -rf on /etc/openvpn/easy-rsa/keys root@xxxx:/etc/openvpn/easy-rsa# ./build-key freebox Generating a 2048 bit RSA private key …………………………………..+++ ………………………………………..+++ writing new private key to ‘freebox.key’ —— You are about to be asked to enter information that will be incorporated into your certificate request. What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blank For some fields there will be a default value, If you enter ‘.’, the field will be left blank. —— Country Name (2 letter code) [FRANCE]:FR State or Province Name (full name) [FR]:France Locality Name (eg, city) [Lyon]: Organization Name (eg, company) [Example Company]: Organizational Unit Name (eg, section) [MyVPN]: Common Name (eg, your name or your server’s hostname) [freebox]: Name [EasyRSA]:MyVPN Email Address [email@exmaple.com]: Please enter the following ‘extra’ attributes to be sent with your certificate request A challenge password []: An optional company name []: Using configuration from /etc/openvpn/easy-rsa/openssl-1.0.0.cnf Check that the request matches the signature Signature ok The Subject’s Distinguished Name is as follows countryName :PRINTABLE:’FR’ stateOrProvinceName :PRINTABLE:’France’ localityName :PRINTABLE:’Lyon’ organizationName :PRINTABLE:’Example Company’ organizationalUnitName:PRINTABLE:’MyVPN’ commonName :PRINTABLE:’freebox’ name :PRINTABLE:’MyVPN’ emailAddress :IA5STRING:’email@exmaple.com’ Certificate is to be certified until May 2 09:59:24 2025 GMT (3650 days) Sign the certificate? [y/n]:y 1 out of 1 certificate requests certified, commit? [y/n]y Write out database with 1 new entries Data Base Updated</p>\n\n<p>On crée une petite archive avec tous les fichiers nécessaires au client pour établir la connexion avec notre tout nouveau serveur OpenVPN.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# zip freebox.zip /etc/openvpn/ca.crt /etc/openvpn/easy-rsa/keys/freebox.crt /etc/openvpn/easy-rsa/keys/freebox.key /usr/share/doc/openvpn/examples/sample-config-files/client.conf adding: etc/openvpn/ca.crt (deflated 37%) adding: etc/openvpn/easy-rsa/keys/freebox.crt (deflated 47%) adding: etc/openvpn/easy-rsa/keys/freebox.key (deflated 23%) adding: usr/share/doc/openvpn/examples/sample-config-files/client.conf (deflated 54%)</p>\n\n<h2 id=\"laconfigurationdopenvpn\">La configuration d’OpenVPN</h2>\n\n<p>Passons au dernier point, la configuration !</p>\n\n<h4 id=\"configuronsleserveur\">Configurons le serveur</h4>\n\n<p>On copie le fichier e configuration par défaut dans le dossier openvpn.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# sudo cp /usr/share/doc/openvpn/examples/sample-config-files/server.conf.gz /etc/openvpn/ root@nefarian:/etc/openvpn/easy-rsa# sudo gzip -d /etc/openvpn/server.conf.gz</p>\n\n<p>On édite ce fichier afin de régler quelques options.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# vi /etc/openvpn/server.conf</p>\n\n<p>Modifier le nom du fichier de clef Difiie-Hellman pour qu’il corresponde à celui qu’on a généré plus haut.</p>\n\n<h1 id=\"diffiehellmanparametersgenerateyourownwithopenssldhparamoutdh1024pem1024substitute2048for1024ifyouareusing2048bitkeysdhdh1024pemdhdh2048pem\">Diffie hellman parameters. # Generate your own with: # openssl dhparam -out dh1024.pem 1024 # Substitute 2048 for 1024 if you are using # 2048 bit keys. ;dh dh1024.pem dh dh2048.pem</h1>\n\n<p>De même pour les fichiers de certificats, vérifiez en fonction des noms qu’ont vos fichiers.</p>\n\n<h1 id=\"anyx509keymanagementsystemcanbeusedopenvpncanalsouseapkcs12formattedkeyfileseepkcs12directiveinmanpagecacacrtcertservercrtkeyserverkeythisfileshouldbekeptsecretcertserveurfrcrtkeyserveurfrkeythisfileshouldbekeptsecret\">Any X509 key management system can be used. # OpenVPN can also use a PKCS #12 formatted key file # (see \"pkcs12\" directive in man page). ca ca.crt ;cert server.crt ;key server.key # This file should be kept secret cert serveur.fr.crt key serveur.fr.key # This file should be kept secret</h1>\n\n<p>C’est l’heure de vérité, on redémarre le dament OpenVPN afin qu’il intègre notre nouvelle configuration.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# service openvpn restart * Stopping virtual private network daemon(s)... * No VPN is running. * Starting virtual private network daemon(s)... * Autostarting VPN 'server'</p>\n\n<p>On peut également vérifier que l’interface « tune » est bien apparue sur le système.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# ifconfig [...] tun0 Link encap:UNSPEC HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00 inet addr:10.8.0.1 P-t-P:10.8.0.2 Mask:255.255.255.255 UP POINTOPOINT RUNNING NOARP MULTICAST MTU:1500 Metric:1 RX packets:0 errors:0 dropped:0 overruns:0 frame:0 TX packets:0 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:100 RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)</p>","image":"https://techan.fr/images/2015/05/openvpntech_logo1.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-05-17T09:35:24.000Z","created_by":1,"updated_at":"2015-05-17T09:35:24.000Z","updated_by":1,"published_at":"2015-05-17T09:35:24.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":136,"uuid":"9a4e2943-716a-4088-afcd-9dc1dbc23951","title":"Archive des sondages","slug":"yop-poll-archive","markdown":"\nDésolé, il n’y a pas de sondages archivés …\n\n\n","html":"<p>Désolé, il n’y a pas de sondages archivés …</p>","image":null,"featured":0,"page":1,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-05-18T22:34:35.000Z","created_by":1,"updated_at":"2015-05-18T22:34:35.000Z","updated_by":1,"published_at":"2015-05-18T22:34:35.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":138,"uuid":"f6cd983a-a4f4-4ab4-8d07-009c0f98ee15","title":"Empêcher les mises à jour d'un paquet sur Ubuntu","slug":"empecher-les-mises-a-jour-dun-paquet-sur-ubuntu","markdown":"\nLorsque j’ai fait l’upgrade de mes Ubuntu de la version 14.10 vers la toute nouvelle 15.04, j’ai été surpris que l’utilitaire me propose de supprimer MariaDB pour remettre MySQL. Je ne voulais évidement pas de cette « solution ». J’ai donc cherché un moyen d’empêcher la mise à jour des paquets liés à MariaDB afin de réaliser leurs mises à jour après coup.\n\n**<span style=\"text-decoration: underline;\">Note :</span>** Cette astuce fonctionne également sur Debian ainsi que sur toutes les distributions qui en dérivent.\n\nPour empêcher les mises à jour d’un paquet sur Ubuntu, il faut dire à « apt » – le gestionnaire de paquets – de ne pas prendre en compte les nouvelles versions des paquets. Dans cet article, je décris également comment faire la même chose pour l’outil « aptitude » que je préfère souvent à « apt ».\n\n \n\n\n## Trouver les paquets à conserver\n\nAfin de placer des verrous sur les paquets à protéger, il faut déjà connaitre leur nom et la liste exacte. Dans l’exemple ci-dessous, je cherches tous les paquets liés à mon installation de MariaDB. La commande « dpkg » me permet de lister les paquets installés sur ma machine.\n\n# dpkg -l | grep maria ii libmariadbclient18 10.0.20+maria-1~vivid amd64 MariaDB database client library ii libmysqlclient18 10.0.20+maria-1~vivid amd64 Virtual package to satisfy external depends ii mariadb-client-10.0 10.0.20+maria-1~vivid amd64 MariaDB database client binaries ic mariadb-client-5.5 5.5.41-1ubuntu0.14.10.1 amd64 MariaDB database client binaries ii mariadb-client-core-10.0 10.0.20+maria-1~vivid amd64 MariaDB database core client binaries ii mariadb-common 10.0.20+maria-1~vivid all MariaDB database common files (e.g. /etc/mysql/conf.d/mariadb.cnf) ii mariadb-server 10.0.20+maria-1~vivid all MariaDB database server (metapackage depending on the latest version) ii mariadb-server-10.0 10.0.20+maria-1~vivid amd64 MariaDB database server binaries ic mariadb-server-5.5 5.5.41-1ubuntu0.14.10.1 amd64 MariaDB database server binaries ii mariadb-server-core-10.0 10.0.20+maria-1~vivid amd64 MariaDB database core server files ii mysql-common 10.0.20+maria-1~vivid all MariaDB database common files (e.g. /etc/mysql/my.cnf)\n\nMaintenant que l’on a la liste des paquets, on va pouvoir les verrouiller.\n\n\n## La méthode pour APT\n\n#### Holder un paquet\n\nOn utilise la commande « apt-mark » pour verrouiller le paquet en lui précisant qu’on souhaite ajouter un verrou – « hold ».\n\n# apt-mark hold mariadb-client-10.0 mariadb-client-10.0 was already set on hold.\n\n \n\n#### Dé-holder un paquet\n\nOn utilise la commande « apt-mark » pour déverrouiller le paquet en lui précisant qu’on souhaite enlever un verrou – « unhold ».\n\n# apt-mark unhold mariadb-client-10.0 Canceled hold on mariadb-client-10.0.\n\n \n\n\n## La méthode pour APTITUDE\n\n#### Holder un paquet\n\nOn utilise la directement commande « aptitude » pour verrouiller le paquet en lui précisant qu’on souhaite ajouter un verrou – « hold ».\n\n# aptitude hold mariadb-client-10.0\n\n \n\n#### Dé-holder un paquet\n\nOn utilise la directement commande « aptitude » pour déverrouiller le paquet en lui précisant qu’on souhaite enlever un verrou – « unhold ».\n\n# aptitude unhold mariadb-client-10.0\n\n \n\n\n## La méthode massive\n\n#### Holder des paquets\n\nVoici la méthode massive pour holder les paquets – utile lorsque vous avez une bonne liste de paquets à verrouiller. J’ai repris ici les deux méthodes APT/APTITUDE.\n\n# dpkg -l | grep maria | awk '{print $2}' | while read package ; do apt-mark hold ${package}; done # dpkg -l | grep maria | awk '{print $2}' | while read package ; do aptitude hold ${package}; done\n\n<span style=\"text-decoration: underline;\">L’explication :</span>\n\nOn fait la recherche de paquets via « dpkg » et « grep », on récupère le nom des paquets avec « awk » et on boucle sur tous ces noms pour les holder.\n\n \n\n#### Dé-holder des paquets\n\nMême méthode pour déverrouiller.\n\n# dpkg -l | grep maria | awk '{print $2}' | while read package ; do apt-mark unhold ${package}; done # dpkg -l | grep maria | awk '{print $2}' | while read package ; do aptitude unhold ${package}; done\n\n \n\n\n","html":"<p>Lorsque j’ai fait l’upgrade de mes Ubuntu de la version 14.10 vers la toute nouvelle 15.04, j’ai été surpris que l’utilitaire me propose de supprimer MariaDB pour remettre MySQL. Je ne voulais évidement pas de cette « solution ». J’ai donc cherché un moyen d’empêcher la mise à jour des paquets liés à MariaDB afin de réaliser leurs mises à jour après coup.</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Note :</span></strong> Cette astuce fonctionne également sur Debian ainsi que sur toutes les distributions qui en dérivent.</p>\n\n<p>Pour empêcher les mises à jour d’un paquet sur Ubuntu, il faut dire à « apt » – le gestionnaire de paquets – de ne pas prendre en compte les nouvelles versions des paquets. Dans cet article, je décris également comment faire la même chose pour l’outil « aptitude » que je préfère souvent à « apt ».</p>\n\n<h2 id=\"trouverlespaquetsconserver\">Trouver les paquets à conserver</h2>\n\n<p>Afin de placer des verrous sur les paquets à protéger, il faut déjà connaitre leur nom et la liste exacte. Dans l’exemple ci-dessous, je cherches tous les paquets liés à mon installation de MariaDB. La commande « dpkg » me permet de lister les paquets installés sur ma machine.</p>\n\n<h1 id=\"dpkglgrepmariaiilibmariadbclient1810020maria1tvividamd64mariadbdatabaseclientlibraryiilibmysqlclient1810020maria1tvividamd64virtualpackagetosatisfyexternaldependsiimariadbclient10010020maria1tvividamd64mariadbdatabaseclientbinariesicmariadbclient5555411ubuntu014101amd64mariadbdatabaseclientbinariesiimariadbclientcore10010020maria1tvividamd64mariadbdatabasecoreclientbinariesiimariadbcommon10020maria1tvividallmariadbdatabasecommonfilesegetcmysqlconfdmariadbcnfiimariadbserver10020maria1tvividallmariadbdatabaseservermetapackagedependingonthelatestversioniimariadbserver10010020maria1tvividamd64mariadbdatabaseserverbinariesicmariadbserver5555411ubuntu014101amd64mariadbdatabaseserverbinariesiimariadbservercore10010020maria1tvividamd64mariadbdatabasecoreserverfilesiimysqlcommon10020maria1tvividallmariadbdatabasecommonfilesegetcmysqlmycnf\">dpkg -l | grep maria ii libmariadbclient18 10.0.20+maria-1~vivid amd64 MariaDB database client library ii libmysqlclient18 10.0.20+maria-1~vivid amd64 Virtual package to satisfy external depends ii mariadb-client-10.0 10.0.20+maria-1~vivid amd64 MariaDB database client binaries ic mariadb-client-5.5 5.5.41-1ubuntu0.14.10.1 amd64 MariaDB database client binaries ii mariadb-client-core-10.0 10.0.20+maria-1~vivid amd64 MariaDB database core client binaries ii mariadb-common 10.0.20+maria-1~vivid all MariaDB database common files (e.g. /etc/mysql/conf.d/mariadb.cnf) ii mariadb-server 10.0.20+maria-1~vivid all MariaDB database server (metapackage depending on the latest version) ii mariadb-server-10.0 10.0.20+maria-1~vivid amd64 MariaDB database server binaries ic mariadb-server-5.5 5.5.41-1ubuntu0.14.10.1 amd64 MariaDB database server binaries ii mariadb-server-core-10.0 10.0.20+maria-1~vivid amd64 MariaDB database core server files ii mysql-common 10.0.20+maria-1~vivid all MariaDB database common files (e.g. /etc/mysql/my.cnf)</h1>\n\n<p>Maintenant que l’on a la liste des paquets, on va pouvoir les verrouiller.</p>\n\n<h2 id=\"lamthodepourapt\">La méthode pour APT</h2>\n\n<h4 id=\"holderunpaquet\">Holder un paquet</h4>\n\n<p>On utilise la commande « apt-mark » pour verrouiller le paquet en lui précisant qu’on souhaite ajouter un verrou – « hold ».</p>\n\n<h1 id=\"aptmarkholdmariadbclient100mariadbclient100wasalreadysetonhold\">apt-mark hold mariadb-client-10.0 mariadb-client-10.0 was already set on hold.</h1>\n\n<h4 id=\"dholderunpaquet\">Dé-holder un paquet</h4>\n\n<p>On utilise la commande « apt-mark » pour déverrouiller le paquet en lui précisant qu’on souhaite enlever un verrou – « unhold ».</p>\n\n<h1 id=\"aptmarkunholdmariadbclient100canceledholdonmariadbclient100\">apt-mark unhold mariadb-client-10.0 Canceled hold on mariadb-client-10.0.</h1>\n\n<h2 id=\"lamthodepouraptitude\">La méthode pour APTITUDE</h2>\n\n<h4 id=\"holderunpaquet\">Holder un paquet</h4>\n\n<p>On utilise la directement commande « aptitude » pour verrouiller le paquet en lui précisant qu’on souhaite ajouter un verrou – « hold ».</p>\n\n<h1 id=\"aptitudeholdmariadbclient100\">aptitude hold mariadb-client-10.0</h1>\n\n<h4 id=\"dholderunpaquet\">Dé-holder un paquet</h4>\n\n<p>On utilise la directement commande « aptitude » pour déverrouiller le paquet en lui précisant qu’on souhaite enlever un verrou – « unhold ».</p>\n\n<h1 id=\"aptitudeunholdmariadbclient100\">aptitude unhold mariadb-client-10.0</h1>\n\n<h2 id=\"lamthodemassive\">La méthode massive</h2>\n\n<h4 id=\"holderdespaquets\">Holder des paquets</h4>\n\n<p>Voici la méthode massive pour holder les paquets – utile lorsque vous avez une bonne liste de paquets à verrouiller. J’ai repris ici les deux méthodes APT/APTITUDE.</p>\n\n<h1 id=\"dpkglgrepmariaawkprintd2whilereadpackagedoaptmarkholddpackagedonedpkglgrepmariaawkprintd2whilereadpackagedoaptitudeholddpackagedone\">dpkg -l | grep maria | awk '{print $2}' | while read package ; do apt-mark hold ${package}; done # dpkg -l | grep maria | awk '{print $2}' | while read package ; do aptitude hold ${package}; done</h1>\n\n<p><span style=\"text-decoration: underline;\">L’explication :</span></p>\n\n<p>On fait la recherche de paquets via « dpkg » et « grep », on récupère le nom des paquets avec « awk » et on boucle sur tous ces noms pour les holder.</p>\n\n<h4 id=\"dholderdespaquets\">Dé-holder des paquets</h4>\n\n<p>Même méthode pour déverrouiller.</p>\n\n<h1 id=\"dpkglgrepmariaawkprintd2whilereadpackagedoaptmarkunholddpackagedonedpkglgrepmariaawkprintd2whilereadpackagedoaptitudeunholddpackagedone\">dpkg -l | grep maria | awk '{print $2}' | while read package ; do apt-mark unhold ${package}; done # dpkg -l | grep maria | awk '{print $2}' | while read package ; do aptitude unhold ${package}; done</h1>","image":"https://techan.fr/images/2015/04/UBUNTU.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-19T10:25:08.000Z","created_by":1,"updated_at":"2015-06-19T10:25:08.000Z","updated_by":1,"published_at":"2015-06-19T10:25:08.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":139,"uuid":"1e10a6da-12d9-47e6-891f-bb2ebb36dce9","title":"Transformer un vieux PC en média center avec Windows 10 preview","slug":"transformer-un-vieux-pc-en-media-center-avec-windows-10-preview","markdown":"\nLors de mon déménagement j’ai retrouvé ma bonne vieille [Asus EeeBox B202](https://www.asus.com/fr/Commercial_Desktops/EeeBox_PC_B202/specifications/) et comme mon serveur a ête lâchement installé dans un placard, je ne peux plus le connecter directement en HDMI sur mon Home Cinéma. D’où l’idée de faire de cette bonne vielle Eee Box un petit média center afin de diffuser les flux venant de Plex, naviguer sur NetFlix et visionner des émissions en replay.\n\nMon premier reflex aurait été de faire tourner ce média center sous Linux comme d’habitude mais je dois avouer qu’[un ami](http://wokhan.online.fr/index.php) a réussi à éveiller ma curiosité sur Windows 10 – dont [la preview est disponible ici](http://windows.microsoft.com/en-us/windows/preview-iso-update-1504).\n\n\n## Quelques astuces tout de même …\n\nL’installation de Windows 10 s’est bien passée même si elle a bien pris sont temps mais on lui pardonne, je lui ai collé un sérieux boulet quand même …\n\nAprès l’installation du système, il redémarre et commence la configuration du système. Windows 10 demande une connexion Wifi et vous propose de choisir différentes options. Lorsque vos choix sont fait, il tente de les appliquer, dans mon cas, il devait tomber sur un os car après quelques secondes/minutes il m’affichait un écran noir puis redémarrait. J’ai réussi à passer cela en ne me connectant pas au Wifi lors de l’étape de configuration.\n\nLa configuration dure alors plus longtemps, mais – et oui il a fallut se battre – le système fini par se bloquer sur un écran noir. A la différence du premier, celui-ci restait fixe et j’avais la possibilité de bouger le mulot – le pointeur se déplaçait bien sur l’écran. Cet écran noir ne voulait passer, comme ci le système attendait une action de ma part – un écran de paramétrage hors de l’écran ? – un simple « Alt + F4 » m’a permis de passer à la suite.\n\nVoilà les seules « difficultés » que j’ai rencontrées lors de l’installation sur mon vieux bouzin !\n\n \n\n\n## Réactif malgré l’âge de la machine\n\nLe moins que je puisse dire c’est que je suis bluffé par la réactivité du système sur une machine qui ne dispose que d’un processeur Intel Atom mono cœur cadencé à 1,6 GHz et 2 Go de RAM !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1450\" style=\"width: 664px\">[![Transformer un vieux PC en média center avec Windows 10 preview](https://techan.fr/images/2015/06/brutus_processeur.png)](https://techan.fr/images/2015/06/brutus_processeur.png)Et oui, les processeurs mono cœur existent encore …\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_1451\" style=\"width: 664px\">[![Transformer un vieux PC en média center avec Windows 10 preview](https://techan.fr/images/2015/06/brutus_memoire.png)](https://techan.fr/images/2015/06/brutus_memoire.png)2 Go de RAM !?! Et bah ça suffit !! :)\n\n</div> \n\nLa seule petite astuce que j’ai utilisée c’est une clef USB de 8 Go dédiée à ReadyBoost, ça soulage carrément cette vieille machine !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1456\" style=\"width: 634px\">[![Transformer un vieux PC en média center avec Windows 10 preview](https://techan.fr/images/2015/06/brutus_ready_boost.png)](https://techan.fr/images/2015/06/brutus_ready_boost.png)Bon j’avoue j’ai triché un peu avec ReadyBoost …\n\n</div> \n\n\n## Transformer un vieux PC en média center avec Windows 10 preview\n\nEt voilà maintenant que Windows 10 preview est prêt, il ne reste plus qu’à installer les applications pour en faire un media center.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1448\" style=\"width: 665px\">[![Transformer un vieux PC en média center avec Windows 10 preview](https://techan.fr/images/2015/06/Capture-d’écran-2015-06-22-à-07.13.38.png)](https://techan.fr/images/2015/06/Capture-d’écran-2015-06-22-à-07.13.38.png)Ohhhh, le bel écran de connexion !\n\n</div>Pour commencer, j’ai ajouté l’application [Plex Home Theater for Windows](https://plex.tv/downloads) qui diffusera le contenu de mon Plex Media Server installé lui sur mon serveur Ubuntu.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1454\" style=\"width: 664px\">[![Transformer un vieux PC en média center avec Windows 10 preview](https://techan.fr/images/2015/06/brutus_plex.png)](https://techan.fr/images/2015/06/brutus_plex.png)L’application Plex Home Theater\n\n</div>Et j’ai trouvé les applications Netflix, Pluzz, My TF1 et 6Play sur le Store Microsoft afin de compléter ce media center. L’utilisation du mode tablette permet une utilisation très facile depuis le fond du canapé ! ![:-)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1457\" style=\"width: 664px\">[![Transformer un vieux PC en média center avec Windows 10 preview](https://techan.fr/images/2015/06/brutus_mode_tablette.png)](https://techan.fr/images/2015/06/brutus_mode_tablette.png)Passer en mode « tablette » pour fluidifier la navigation.\n\n</div> \n\nJe vraiment agréablement surpris par cette nouvelle mouture de Windows !\n\n\n","html":"<p>Lors de mon déménagement j’ai retrouvé ma bonne vieille <a href=\"https://www.asus.com/fr/Commercial_Desktops/EeeBox_PC_B202/specifications/\">Asus EeeBox B202</a> et comme mon serveur a ête lâchement installé dans un placard, je ne peux plus le connecter directement en HDMI sur mon Home Cinéma. D’où l’idée de faire de cette bonne vielle Eee Box un petit média center afin de diffuser les flux venant de Plex, naviguer sur NetFlix et visionner des émissions en replay.</p>\n\n<p>Mon premier reflex aurait été de faire tourner ce média center sous Linux comme d’habitude mais je dois avouer qu’<a href=\"http://wokhan.online.fr/index.php\">un ami</a> a réussi à éveiller ma curiosité sur Windows 10 – dont <a href=\"http://windows.microsoft.com/en-us/windows/preview-iso-update-1504\">la preview est disponible ici</a>.</p>\n\n<h2 id=\"quelquesastucestoutdemme\">Quelques astuces tout de même …</h2>\n\n<p>L’installation de Windows 10 s’est bien passée même si elle a bien pris sont temps mais on lui pardonne, je lui ai collé un sérieux boulet quand même …</p>\n\n<p>Après l’installation du système, il redémarre et commence la configuration du système. Windows 10 demande une connexion Wifi et vous propose de choisir différentes options. Lorsque vos choix sont fait, il tente de les appliquer, dans mon cas, il devait tomber sur un os car après quelques secondes/minutes il m’affichait un écran noir puis redémarrait. J’ai réussi à passer cela en ne me connectant pas au Wifi lors de l’étape de configuration.</p>\n\n<p>La configuration dure alors plus longtemps, mais – et oui il a fallut se battre – le système fini par se bloquer sur un écran noir. A la différence du premier, celui-ci restait fixe et j’avais la possibilité de bouger le mulot – le pointeur se déplaçait bien sur l’écran. Cet écran noir ne voulait passer, comme ci le système attendait une action de ma part – un écran de paramétrage hors de l’écran ? – un simple « Alt + F4 » m’a permis de passer à la suite.</p>\n\n<p>Voilà les seules « difficultés » que j’ai rencontrées lors de l’installation sur mon vieux bouzin !</p>\n\n<h2 id=\"ractifmalgrlgedelamachine\">Réactif malgré l’âge de la machine</h2>\n\n<p>Le moins que je puisse dire c’est que je suis bluffé par la réactivité du système sur une machine qui ne dispose que d’un processeur Intel Atom mono cœur cadencé à 1,6 GHz et 2 Go de RAM !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1450\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/06/brutus_processeur.png\"><img src=\"https://techan.fr/images/2015/06/brutus_processeur.png\" alt=\"Transformer un vieux PC en média center avec Windows 10 preview\" title=\"\" /></a>Et oui, les processeurs mono cœur existent encore …</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_1451\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/06/brutus_memoire.png\"><img src=\"https://techan.fr/images/2015/06/brutus_memoire.png\" alt=\"Transformer un vieux PC en média center avec Windows 10 preview\" title=\"\" /></a>2 Go de RAM !?! Et bah ça suffit !! :)</p>\n\n<p></div> </p>\n\n<p>La seule petite astuce que j’ai utilisée c’est une clef USB de 8 Go dédiée à ReadyBoost, ça soulage carrément cette vieille machine !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1456\" style=\"width: 634px\"><a href=\"https://techan.fr/images/2015/06/brutus_ready_boost.png\"><img src=\"https://techan.fr/images/2015/06/brutus_ready_boost.png\" alt=\"Transformer un vieux PC en média center avec Windows 10 preview\" title=\"\" /></a>Bon j’avoue j’ai triché un peu avec ReadyBoost …</p>\n\n<p></div> </p>\n\n<h2 id=\"transformerunvieuxpcenmdiacenteravecwindows10preview\">Transformer un vieux PC en média center avec Windows 10 preview</h2>\n\n<p>Et voilà maintenant que Windows 10 preview est prêt, il ne reste plus qu’à installer les applications pour en faire un media center.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1448\" style=\"width: 665px\"><a href=\"https://techan.fr/images/2015/06/Capture-d’écran-2015-06-22-à-07.13.38.png\"><img src=\"https://techan.fr/images/2015/06/Capture-d’écran-2015-06-22-à-07.13.38.png\" alt=\"Transformer un vieux PC en média center avec Windows 10 preview\" title=\"\" /></a>Ohhhh, le bel écran de connexion !</p>\n\n<p></div>Pour commencer, j’ai ajouté l’application <a href=\"https://plex.tv/downloads\">Plex Home Theater for Windows</a> qui diffusera le contenu de mon Plex Media Server installé lui sur mon serveur Ubuntu.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1454\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/06/brutus_plex.png\"><img src=\"https://techan.fr/images/2015/06/brutus_plex.png\" alt=\"Transformer un vieux PC en média center avec Windows 10 preview\" title=\"\" /></a>L’application Plex Home Theater</p>\n\n<p></div>Et j’ai trouvé les applications Netflix, Pluzz, My TF1 et 6Play sur le Store Microsoft afin de compléter ce media center. L’utilisation du mode tablette permet une utilisation très facile depuis le fond du canapé ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":-)\" title=\"\" /></p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1457\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/06/brutus_mode_tablette.png\"><img src=\"https://techan.fr/images/2015/06/brutus_mode_tablette.png\" alt=\"Transformer un vieux PC en média center avec Windows 10 preview\" title=\"\" /></a>Passer en mode « tablette » pour fluidifier la navigation.</p>\n\n<p></div> </p>\n\n<p>Je vraiment agréablement surpris par cette nouvelle mouture de Windows !</p>","image":"https://techan.fr/images/2015/06/windows_10_logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-21T14:15:46.000Z","created_by":1,"updated_at":"2015-07-04T18:05:32.000Z","updated_by":1,"published_at":"2015-06-21T14:15:46.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":140,"uuid":"8abcd58a-df19-4513-8d1b-bbb1be3dcd63","title":"La FAQ","slug":"la-faq","markdown":"\nVous n’avez pas trouvé la réponse à votre question sur le site ? Vous êtes resté sur votre faim ?\n\nN’hésitez pas à poser votre question ici, j’y répondrais rapidement !\n\n\n## La FAQ interactive\n\n<script src=\"//www.pubble.io/resources/javascript/QAInit.js\" type=\"text/javascript\">// < ![CDATA[\n\n// ]]></script>  \n<script type=\"text/javascript\">// < ![CDATA[\nvar lpQA = lpQA({ appID:\"8932\", genQ: \"false\", identifier: \"8932\" });\n// ]]></script>\n\n<span style=\"color: #ffffff;\">**z35W7z4v9z8w**</span>\n\n\n","html":"<p>Vous n’avez pas trouvé la réponse à votre question sur le site ? Vous êtes resté sur votre faim ?</p>\n\n<p>N’hésitez pas à poser votre question ici, j’y répondrais rapidement !</p>\n\n<h2 id=\"lafaqinteractive\">La FAQ interactive</h2>\n\n<script src=\"//www.pubble.io/resources/javascript/QAInit.js\" type=\"text/javascript\">// < ![CDATA[\n\n// ]]></script>  \n\n<script type=\"text/javascript\">// < ![CDATA[  \nvar lpQA = lpQA({ appID:\"8932\", genQ: \"false\", identifier: \"8932\" });  \n// ]]></script>\n\n<p><span style=\"color: #ffffff;\"><strong>z35W7z4v9z8w</strong></span></p>","image":null,"featured":0,"page":1,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-22T16:50:50.000Z","created_by":1,"updated_at":"2015-06-30T11:47:24.000Z","updated_by":1,"published_at":"2015-06-22T16:50:50.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":141,"uuid":"0dc24871-f398-47be-9e1f-4fa7fcf9dc8b","title":"DuckDuckGo protège votre vie privée et ajoute des nouvelles fonctionnalités","slug":"duckduckgo-protege-votre-vie-privee-et-ajoute-des-nouvelles-fonctionnalites","markdown":"\nLe moteur de recherche [DuckDuckGo](https://duckduckgo.com), le moteur de recherche qui monte, qui monte propose désormais des [Instant Answers](https://duckduckgo.com/tour#answers). DuckDuckGo protège votre vie privée et ajoute des nouvelles fonctionnalités le rendant toujours plus agréable à utiliser.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1471\" style=\"width: 526px\">[![DuckDuckGo protège votre vie privée et ajoute des nouvelles fonctionnalités](https://techan.fr/images/2015/06/Capture-d’écran-2015-06-22-à-18.21.45.png)](https://techan.fr/images/2015/06/Capture-d’écran-2015-06-22-à-18.21.45.png)La protection de vos données personnelles est leur priorité !\n\n</div> \n\n\n## Et maintenant les Instant Answers\n\nL’annonce est tombée aujourd’hui, on peut désormais utiliser les Instant Answers – Réponses Instanées – de DuckDuckGo pour rechercher des vols. Ce mécanisme vous permet également de trouver très rapidement des recettes de cuisine, de la musique, la météo, …\n\n> Here's how to check up on flight times instantly: [https://t.co/8LACeuuJ3s](https://t.co/8LACeuuJ3s) Another [#InstantAnswer](https://twitter.com/hashtag/InstantAnswer?src=hash) by tommytommytommy [pic.twitter.com/AKBstUqNGZ](http://t.co/AKBstUqNGZ)\n> \n> — DuckDuckGo (@duckduckgo) [June 22, 2015](https://twitter.com/duckduckgo/status/612959479395651584)\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>\n\nJ’ai fait le test pour un vol Lyon-Barcelone, le résultat est très sympa ! ![:-)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1463\" style=\"width: 665px\">[![DuckDuckGo protège votre vie privée et ajoute des nouvelles fonctionnalités](https://techan.fr/images/2015/06/screenshot.530.jpg)](https://techan.fr/images/2015/06/screenshot.530.jpg)Les Instant Answers concernant les vols Lyon-Barcelone avec EasyJet.\n\n</div> \n\nBref ce moteur de recherche s’améliore de mois en mois depuis sa création. Ca vaut le coup de le tester !\n\n\n","html":"<p>Le moteur de recherche <a href=\"https://duckduckgo.com\">DuckDuckGo</a>, le moteur de recherche qui monte, qui monte propose désormais des <a href=\"https://duckduckgo.com/tour#answers\">Instant Answers</a>. DuckDuckGo protège votre vie privée et ajoute des nouvelles fonctionnalités le rendant toujours plus agréable à utiliser.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1471\" style=\"width: 526px\"><a href=\"https://techan.fr/images/2015/06/Capture-d’écran-2015-06-22-à-18.21.45.png\"><img src=\"https://techan.fr/images/2015/06/Capture-d’écran-2015-06-22-à-18.21.45.png\" alt=\"DuckDuckGo protège votre vie privée et ajoute des nouvelles fonctionnalités\" title=\"\" /></a>La protection de vos données personnelles est leur priorité !</p>\n\n<p></div> </p>\n\n<h2 id=\"etmaintenantlesinstantanswers\">Et maintenant les Instant Answers</h2>\n\n<p>L’annonce est tombée aujourd’hui, on peut désormais utiliser les Instant Answers – Réponses Instanées – de DuckDuckGo pour rechercher des vols. Ce mécanisme vous permet également de trouver très rapidement des recettes de cuisine, de la musique, la météo, …</p>\n\n<blockquote>\n  <p>Here's how to check up on flight times instantly: <a href=\"https://t.co/8LACeuuJ3s\">https://t.co/8LACeuuJ3s</a> Another <a href=\"https://twitter.com/hashtag/InstantAnswer?src=hash\">#InstantAnswer</a> by tommytommytommy <a href=\"http://t.co/AKBstUqNGZ\">pic.twitter.com/AKBstUqNGZ</a></p>\n  \n  <p>— DuckDuckGo (@duckduckgo) <a href=\"https://twitter.com/duckduckgo/status/612959479395651584\">June 22, 2015</a></p>\n</blockquote>\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>\n\n<p>J’ai fait le test pour un vol Lyon-Barcelone, le résultat est très sympa ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":-)\" title=\"\" /></p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1463\" style=\"width: 665px\"><a href=\"https://techan.fr/images/2015/06/screenshot.530.jpg\"><img src=\"https://techan.fr/images/2015/06/screenshot.530.jpg\" alt=\"DuckDuckGo protège votre vie privée et ajoute des nouvelles fonctionnalités\" title=\"\" /></a>Les Instant Answers concernant les vols Lyon-Barcelone avec EasyJet.</p>\n\n<p></div> </p>\n\n<p>Bref ce moteur de recherche s’améliore de mois en mois depuis sa création. Ca vaut le coup de le tester !</p>","image":"https://techan.fr/images/2015/06/DDG-icon_256x256.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-22T18:33:41.000Z","created_by":1,"updated_at":"2015-06-22T18:33:41.000Z","updated_by":1,"published_at":"2015-06-22T18:33:41.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":143,"uuid":"ae289319-06ca-425a-ad7c-ff11f3d2bfdc","title":"Lister les jobs concurrents dans BackupExec avec PowserShell","slug":"lister-les-jobs-concurrents-dans-backupexec-avec-powsershell","markdown":"\nAfin de corriger des erreurs de backup et d’éviter  d’en avoir plus, nous avons fait le choix de lisser les jobs dans le temps afin d’avoir le moins de concurrence. L’interface de [BackupExec 2012](http://www.symantec.com/backup-exec/) est très pauvre à ce niveau là et je voulais absolument éviter de reporter toutes les planifications à la main dans un fichier.\n\nJ’ai donc trouvé une requête et un script PowerShell qui permettent de lister l’historique des jobs sur les X derniers jours. J’ai adapté ces scripts afin d’avoir l’historique des jobs et la concurrence entre ces derniers. Sur chaque ligne de résultat j’ai les informations de l’exécution du job et les jobs qui étaient actifs en même temps que lui.\n\n \n\n\n## L’historique des jobs BackupEXEC\n\nVoici la requête que j’ai trouvée sur le site [technet.microsoft.com](https://social.technet.microsoft.com/Forums/scriptcenter/en-US/f00d1c09-6373-415d-ab91-cfb80e94395d/powershell-xml-to-csv-backup-exec-logfiles), elle retourne les jobs qui ont été exécutés dans la fenêtre de temps donnée dans la clause « WHERE » – 7 jours dans cet exemple.\n\nSELECT [JobName] ,[ActualStartTime] ,[ElapsedTimeSeconds] ,[FinalJobStatus] ,[FinalErrorCode] ,[MachineName] ,[TargetName] ,[MediaSetName] ,[TotalDataSizeBytes] ,[TotalNumberOfFiles] ,[TotalNumberOfDirectories] ,[TotalSkippedFiles] ,[TotalCorruptFiles] ,[TotalInUseFiles] FROM [BEDB].[dbo].[JobHistorySummary] WHERE [OriginalStartTime] > dateadd(day,-7, cast(getdate() as date))\n\nVoici le résultat de son exécution dans Management Studio.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1491\" style=\"width: 664px\">[![Lister les jobs concurrents dans BackupExec avec PowserShell](https://techan.fr/images/2015/06/BE_listee_des_jobs.jpg)](https://techan.fr/images/2015/06/BE_listee_des_jobs.jpg)L’historique des jobs sur les 7 derniers jours\n\n</div> \n\nVoici le script PowerShell fourni sur le site [technet.microsoft.com](https://social.technet.microsoft.com/Forums/scriptcenter/en-US/f00d1c09-6373-415d-ab91-cfb80e94395d/powershell-xml-to-csv-backup-exec-logfiles), j’y ai juste ajouté une sortie dans un fichier CSV.\n\n$sqlinstance='<NOM DU SERVEUR WINDOWS>\\' $connectionstring=\"Integrated Security=SSPI;Persist Security Info=False;Initial Catalog=BEDB;Data Source=$sqlinstance\" $date=[dateTIme]::Today.AddDays(-7) $query=@\" SELECT [JobName] ,[ActualStartTime] ,[EndTime] ,[ElapsedTimeSeconds] ,[FinalJobStatus] ,[FinalErrorCode] ,[MachineName] ,[TargetName] ,[MediaSetName] ,[TotalDataSizeBytes] ,[TotalNumberOfFiles] ,[TotalNumberOfDirectories] ,[TotalSkippedFiles] ,[TotalCorruptFiles] ,[TotalInUseFiles] FROM [BEDB].[dbo].[JobHistorySummary] WHERE [OriginalStartTime] > '$date' ORDER BY [ActualStartTime], [EndTime] \"@ function Get-DatabaseData { [CmdletBinding()] param( [string]$connectionString, [string]$query ) $connection = New-Object System.Data.SqlClient.SqlConnection $connection.ConnectionString = $connectionString $command = $connection.CreateCommand() $command.CommandText = $query $adapter = New-Object System.Data.SqlClient.SqlDataAdapter $command $dataset = New-Object System.Data.DataSet [void]$adapter.Fill($dataset) $dataset.Tables[0] } function Out-Excel { param($Path = \"C:\\temp\\BE_Reports\\Job_History_$(Get-Date -Format yyyyMMddHHmmss).csv\") $input | Export-CSV -Path $Path -UseCulture -Encoding UTF8 -NoTypeInformation Invoke-Item -Path $Path } Get-DatabaseData $connectionstring $query | select machinename, actualstarttime, finaljobstatus, targetname Get-DatabaseData $connectionstring $query | Out-Excel\n\n \n\nC’est intéressant, mais voyons comment répondre à la problématique …\n\n \n\n\n## Lister les jobs concurrents dans BackupExec avec PowserShell\n\n \n\nVoici donc la requête que j’ai créée à partir de celle que j’ai présentée plus haut.\n\nWITH ALL_JOBS AS ( SELECT [JobHistoryID] ,[JobName] ,[ActualStartTime] ,[EndTime] ,[ElapsedTimeSeconds] ,[FinalJobStatus] ,[FinalErrorCode] ,[MachineName] ,[TargetName] ,[MediaSetName] ,[TotalDataSizeBytes] ,[TotalNumberOfFiles] ,[TotalNumberOfDirectories] ,[TotalSkippedFiles] ,[TotalCorruptFiles] ,[TotalInUseFiles] FROM [BEDB].[dbo].[JobHistorySummary] WHERE [OriginalStartTime] > dateadd(day,-7, cast(getdate() as date)) ) SELECT ALL_JOBS.JobName, ALL_JOBS.ActualStartTime, ALL_JOBS.EndTime, ALL_JOBS.TargetName, ( SELECT JobName + ', ' AS 'data()' FROM [BEDB].[dbo].[JobHistorySummary] WHERE [BEDB].[dbo].[JobHistorySummary].[JobHistoryID] != ALL_JOBS.[JobHistoryID] AND [BEDB].[dbo].[JobHistorySummary].[TargetName] = ALL_JOBS.[TargetName] AND ( ([BEDB].[dbo].[JobHistorySummary].[ActualStartTime] BETWEEN ALL_JOBS.[ActualStartTime] AND ALL_JOBS.[EndTime] ) OR ([BEDB].[dbo].[JobHistorySummary].[EndTime] BETWEEN ALL_JOBS.[ActualStartTime] AND ALL_JOBS.[EndTime] ) ) FOR XML PATH('') ) AS 'Jobs Concurrents' FROM ALL_JOBS ORDER BY ALL_JOBS.ActualStartTime DESC, ALL_JOBS.EndTime DESC\n\nPour chacun des jobs listés dans l’historique, j’ajoute un champ dans lequel je concatène le nom des jobs qui remplissent les conditions suivantes :\n\n- Ne pas avoir le même ID que le job étudié : un job ne peut pas se concurrencer lui même.\n- Avoir la même target que le job étudié : je compare uniquement la concurrence des jobs sur disque entre eux et des jobs sur bandes entre eux.\n- Il faut également que la période d’exécution du job « concurrent » empiète sur celle du job étudié.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1492\" style=\"width: 664px\">[![Lister les jobs concurrents dans BackupExec avec PowserShell](https://techan.fr/images/2015/06/BE_jobs_concurrents.jpg)](https://techan.fr/images/2015/06/BE_jobs_concurrents.jpg)On voit ici que les deux jobs sont concurrents.\n\n</div> \n\nJ’ai adapté le script PowerShell avec cette requête et j’y ai ajouté une sortie vers un fichier CSV afin de me simplifier la lecture des résultats.\n\n \n\n$sqlinstance='<NOM DU SERVEUR WINDOWS>\\' $connectionstring=\"Integrated Security=SSPI;Persist Security Info=False;Initial Catalog=BEDB;Data Source=$sqlinstance\" $date=[dateTIme]::Today.AddDays(-7) $query=@\" WITH ALL_JOBS AS ( SELECT [JobHistoryID] ,[JobName] ,[ActualStartTime] ,[EndTime] ,[ElapsedTimeSeconds] ,[FinalJobStatus] ,[FinalErrorCode] ,[MachineName] ,[TargetName] ,[MediaSetName] ,[TotalDataSizeBytes] ,[TotalNumberOfFiles] ,[TotalNumberOfDirectories] ,[TotalSkippedFiles] ,[TotalCorruptFiles] ,[TotalInUseFiles] FROM [BEDB].[dbo].[JobHistorySummary] WHERE [OriginalStartTime] > '$date' ) SELECT ALL_JOBS.JobName, ALL_JOBS.ActualStartTime, ALL_JOBS.EndTime, ALL_JOBS.TargetName, ( SELECT JobName + ', ' AS 'data()' FROM [BEDB].[dbo].[JobHistorySummary] WHERE [BEDB].[dbo].[JobHistorySummary].[JobHistoryID] != ALL_JOBS.[JobHistoryID] AND [BEDB].[dbo].[JobHistorySummary].[TargetName] = ALL_JOBS.[TargetName] AND ( ([BEDB].[dbo].[JobHistorySummary].[ActualStartTime] BETWEEN ALL_JOBS.[ActualStartTime] AND ALL_JOBS.[EndTime] ) OR ([BEDB].[dbo].[JobHistorySummary].[EndTime] BETWEEN ALL_JOBS.[ActualStartTime] AND ALL_JOBS.[EndTime] ) ) FOR XML PATH('') ) AS 'Jobs Concurrents' FROM ALL_JOBS ORDER BY ALL_JOBS.ActualStartTime DESC, ALL_JOBS.EndTime DESC \"@ function Get-DatabaseData { [CmdletBinding()] param( [string]$connectionString, [string]$query ) $connection = New-Object System.Data.SqlClient.SqlConnection $connection.ConnectionString = $connectionString $command = $connection.CreateCommand() $command.CommandText = $query $adapter = New-Object System.Data.SqlClient.SqlDataAdapter $command $dataset = New-Object System.Data.DataSet [void]$adapter.Fill($dataset) $dataset.Tables[0] } function Out-Excel { param($Path = \"C:\\temp\\BE_Reports\\Job_Concurrents_$(Get-Date -Format yyyyMMddHHmmss).csv\") $input | Export-CSV -Path $Path -UseCulture -Encoding UTF8 -NoTypeInformation Invoke-Item -Path $Path } Get-DatabaseData $connectionstring $query | Out-Excel\n\n \n\nEt voilà, il ne reste plus qu’a analyser et modifier les jobs BackupEXEC.\n\n \n\n\n##  Sources :\n\n- Post sur le site [technet.microsoft.com](https://social.technet.microsoft.com/Forums/scriptcenter/en-US/f00d1c09-6373-415d-ab91-cfb80e94395d/powershell-xml-to-csv-backup-exec-logfiles)\n- Sur [blogs.technet.com](http://blogs.technet.com) : [PowerShell and Excel: Fast, Safe, and Reliable](http://blogs.technet.com/b/heyscriptingguy/archive/2014/01/10/powershell-and-excel-fast-safe-and-reliable.aspx)\n\n\n","html":"<p>Afin de corriger des erreurs de backup et d’éviter  d’en avoir plus, nous avons fait le choix de lisser les jobs dans le temps afin d’avoir le moins de concurrence. L’interface de <a href=\"http://www.symantec.com/backup-exec/\">BackupExec 2012</a> est très pauvre à ce niveau là et je voulais absolument éviter de reporter toutes les planifications à la main dans un fichier.</p>\n\n<p>J’ai donc trouvé une requête et un script PowerShell qui permettent de lister l’historique des jobs sur les X derniers jours. J’ai adapté ces scripts afin d’avoir l’historique des jobs et la concurrence entre ces derniers. Sur chaque ligne de résultat j’ai les informations de l’exécution du job et les jobs qui étaient actifs en même temps que lui.</p>\n\n<h2 id=\"lhistoriquedesjobsbackupexec\">L’historique des jobs BackupEXEC</h2>\n\n<p>Voici la requête que j’ai trouvée sur le site <a href=\"https://social.technet.microsoft.com/Forums/scriptcenter/en-US/f00d1c09-6373-415d-ab91-cfb80e94395d/powershell-xml-to-csv-backup-exec-logfiles\">technet.microsoft.com</a>, elle retourne les jobs qui ont été exécutés dans la fenêtre de temps donnée dans la clause « WHERE » – 7 jours dans cet exemple.</p>\n\n<p>SELECT [JobName] ,[ActualStartTime] ,[ElapsedTimeSeconds] ,[FinalJobStatus] ,[FinalErrorCode] ,[MachineName] ,[TargetName] ,[MediaSetName] ,[TotalDataSizeBytes] ,[TotalNumberOfFiles] ,[TotalNumberOfDirectories] ,[TotalSkippedFiles] ,[TotalCorruptFiles] ,[TotalInUseFiles] FROM [BEDB].[dbo].[JobHistorySummary] WHERE [OriginalStartTime] > dateadd(day,-7, cast(getdate() as date))</p>\n\n<p>Voici le résultat de son exécution dans Management Studio.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1491\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/06/BE_listee_des_jobs.jpg\"><img src=\"https://techan.fr/images/2015/06/BE_listee_des_jobs.jpg\" alt=\"Lister les jobs concurrents dans BackupExec avec PowserShell\" title=\"\" /></a>L’historique des jobs sur les 7 derniers jours</p>\n\n<p></div> </p>\n\n<p>Voici le script PowerShell fourni sur le site <a href=\"https://social.technet.microsoft.com/Forums/scriptcenter/en-US/f00d1c09-6373-415d-ab91-cfb80e94395d/powershell-xml-to-csv-backup-exec-logfiles\">technet.microsoft.com</a>, j’y ai juste ajouté une sortie dans un fichier CSV.</p>\n\n<p>$sqlinstance='<NOM DU SERVEUR WINDOWS>\\' $connectionstring=\"Integrated Security=SSPI;Persist Security Info=False;Initial Catalog=BEDB;Data Source=$sqlinstance\" $date=[dateTIme]::Today.AddDays(-7) $query=@\" SELECT [JobName] ,[ActualStartTime] ,[EndTime] ,[ElapsedTimeSeconds] ,[FinalJobStatus] ,[FinalErrorCode] ,[MachineName] ,[TargetName] ,[MediaSetName] ,[TotalDataSizeBytes] ,[TotalNumberOfFiles] ,[TotalNumberOfDirectories] ,[TotalSkippedFiles] ,[TotalCorruptFiles] ,[TotalInUseFiles] FROM [BEDB].[dbo].[JobHistorySummary] WHERE [OriginalStartTime] > '$date' ORDER BY [ActualStartTime], [EndTime] \"@ function Get-DatabaseData { [CmdletBinding()] param( [string]$connectionString, [string]$query ) $connection = New-Object System.Data.SqlClient.SqlConnection $connection.ConnectionString = $connectionString $command = $connection.CreateCommand() $command.CommandText = $query $adapter = New-Object System.Data.SqlClient.SqlDataAdapter $command $dataset = New-Object System.Data.DataSet [void]$adapter.Fill($dataset) $dataset.Tables[0] } function Out-Excel { param($Path = \"C:\\temp\\BE<em>Reports\\Job</em>History_$(Get-Date -Format yyyyMMddHHmmss).csv\") $input | Export-CSV -Path $Path -UseCulture -Encoding UTF8 -NoTypeInformation Invoke-Item -Path $Path } Get-DatabaseData $connectionstring $query | select machinename, actualstarttime, finaljobstatus, targetname Get-DatabaseData $connectionstring $query | Out-Excel</p>\n\n<p>C’est intéressant, mais voyons comment répondre à la problématique …</p>\n\n<h2 id=\"listerlesjobsconcurrentsdansbackupexecavecpowsershell\">Lister les jobs concurrents dans BackupExec avec PowserShell</h2>\n\n<p>Voici donc la requête que j’ai créée à partir de celle que j’ai présentée plus haut.</p>\n\n<p>WITH ALL<em>JOBS AS ( SELECT [JobHistoryID] ,[JobName] ,[ActualStartTime] ,[EndTime] ,[ElapsedTimeSeconds] ,[FinalJobStatus] ,[FinalErrorCode] ,[MachineName] ,[TargetName] ,[MediaSetName] ,[TotalDataSizeBytes] ,[TotalNumberOfFiles] ,[TotalNumberOfDirectories] ,[TotalSkippedFiles] ,[TotalCorruptFiles] ,[TotalInUseFiles] FROM [BEDB].[dbo].[JobHistorySummary] WHERE [OriginalStartTime] > dateadd(day,-7, cast(getdate() as date)) ) SELECT ALL</em>JOBS.JobName, ALL<em>JOBS.ActualStartTime, ALL</em>JOBS.EndTime, ALL<em>JOBS.TargetName, ( SELECT JobName + ', ' AS 'data()' FROM [BEDB].[dbo].[JobHistorySummary] WHERE [BEDB].[dbo].[JobHistorySummary].[JobHistoryID] != ALL</em>JOBS.[JobHistoryID] AND [BEDB].[dbo].[JobHistorySummary].[TargetName] = ALL<em>JOBS.[TargetName] AND ( ([BEDB].[dbo].[JobHistorySummary].[ActualStartTime] BETWEEN ALL</em>JOBS.[ActualStartTime] AND ALL<em>JOBS.[EndTime] ) OR ([BEDB].[dbo].[JobHistorySummary].[EndTime] BETWEEN ALL</em>JOBS.[ActualStartTime] AND ALL<em>JOBS.[EndTime] ) ) FOR XML PATH('') ) AS 'Jobs Concurrents' FROM ALL</em>JOBS ORDER BY ALL<em>JOBS.ActualStartTime DESC, ALL</em>JOBS.EndTime DESC</p>\n\n<p>Pour chacun des jobs listés dans l’historique, j’ajoute un champ dans lequel je concatène le nom des jobs qui remplissent les conditions suivantes :</p>\n\n<ul>\n<li>Ne pas avoir le même ID que le job étudié : un job ne peut pas se concurrencer lui même.</li>\n<li>Avoir la même target que le job étudié : je compare uniquement la concurrence des jobs sur disque entre eux et des jobs sur bandes entre eux.</li>\n<li><p>Il faut également que la période d’exécution du job « concurrent » empiète sur celle du job étudié.</p></li>\n</ul>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1492\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/06/BE_jobs_concurrents.jpg\"><img src=\"https://techan.fr/images/2015/06/BE_jobs_concurrents.jpg\" alt=\"Lister les jobs concurrents dans BackupExec avec PowserShell\" title=\"\" /></a>On voit ici que les deux jobs sont concurrents.</p>\n\n<p></div> </p>\n\n<p>J’ai adapté le script PowerShell avec cette requête et j’y ai ajouté une sortie vers un fichier CSV afin de me simplifier la lecture des résultats.</p>\n\n<p>$sqlinstance='<NOM DU SERVEUR WINDOWS>\\' $connectionstring=\"Integrated Security=SSPI;Persist Security Info=False;Initial Catalog=BEDB;Data Source=$sqlinstance\" $date=[dateTIme]::Today.AddDays(-7) $query=@\" WITH ALL<em>JOBS AS ( SELECT [JobHistoryID] ,[JobName] ,[ActualStartTime] ,[EndTime] ,[ElapsedTimeSeconds] ,[FinalJobStatus] ,[FinalErrorCode] ,[MachineName] ,[TargetName] ,[MediaSetName] ,[TotalDataSizeBytes] ,[TotalNumberOfFiles] ,[TotalNumberOfDirectories] ,[TotalSkippedFiles] ,[TotalCorruptFiles] ,[TotalInUseFiles] FROM [BEDB].[dbo].[JobHistorySummary] WHERE [OriginalStartTime] > '$date' ) SELECT ALL</em>JOBS.JobName, ALL<em>JOBS.ActualStartTime, ALL</em>JOBS.EndTime, ALL<em>JOBS.TargetName, ( SELECT JobName + ', ' AS 'data()' FROM [BEDB].[dbo].[JobHistorySummary] WHERE [BEDB].[dbo].[JobHistorySummary].[JobHistoryID] != ALL</em>JOBS.[JobHistoryID] AND [BEDB].[dbo].[JobHistorySummary].[TargetName] = ALL<em>JOBS.[TargetName] AND ( ([BEDB].[dbo].[JobHistorySummary].[ActualStartTime] BETWEEN ALL</em>JOBS.[ActualStartTime] AND ALL<em>JOBS.[EndTime] ) OR ([BEDB].[dbo].[JobHistorySummary].[EndTime] BETWEEN ALL</em>JOBS.[ActualStartTime] AND ALL<em>JOBS.[EndTime] ) ) FOR XML PATH('') ) AS 'Jobs Concurrents' FROM ALL</em>JOBS ORDER BY ALL<em>JOBS.ActualStartTime DESC, ALL</em>JOBS.EndTime DESC \"@ function Get-DatabaseData { [CmdletBinding()] param( [string]$connectionString, [string]$query ) $connection = New-Object System.Data.SqlClient.SqlConnection $connection.ConnectionString = $connectionString $command = $connection.CreateCommand() $command.CommandText = $query $adapter = New-Object System.Data.SqlClient.SqlDataAdapter $command $dataset = New-Object System.Data.DataSet [void]$adapter.Fill($dataset) $dataset.Tables[0] } function Out-Excel { param($Path = \"C:\\temp\\BE<em>Reports\\Job</em>Concurrents_$(Get-Date -Format yyyyMMddHHmmss).csv\") $input | Export-CSV -Path $Path -UseCulture -Encoding UTF8 -NoTypeInformation Invoke-Item -Path $Path } Get-DatabaseData $connectionstring $query | Out-Excel</p>\n\n<p>Et voilà, il ne reste plus qu’a analyser et modifier les jobs BackupEXEC.</p>\n\n<h2 id=\"sources\"> Sources :</h2>\n\n<ul>\n<li>Post sur le site <a href=\"https://social.technet.microsoft.com/Forums/scriptcenter/en-US/f00d1c09-6373-415d-ab91-cfb80e94395d/powershell-xml-to-csv-backup-exec-logfiles\">technet.microsoft.com</a></li>\n<li>Sur <a href=\"http://blogs.technet.com\">blogs.technet.com</a> : <a href=\"http://blogs.technet.com/b/heyscriptingguy/archive/2014/01/10/powershell-and-excel-fast-safe-and-reliable.aspx\">PowerShell and Excel: Fast, Safe, and Reliable</a></li>\n</ul>","image":"https://techan.fr/images/2015/06/powershell-logo.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-24T16:29:34.000Z","created_by":1,"updated_at":"2015-06-24T16:29:34.000Z","updated_by":1,"published_at":"2015-06-24T16:29:34.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":144,"uuid":"0aa4caf9-0102-4c83-814c-85c99880ef81","title":"Problème de flush de cache disque sur Linux hébergeant Oracle","slug":"probleme-de-flush-de-cache-disque-sur-linux-hebergeant-oracle","markdown":"\nEn arrivant chez mon client ce matin, je me suis rendu compte en ouvrant ma boite mail qu’ils avaient du passer une assez sale nuit … En effet, une livraison était prévue sur une des bases Oracle critique de la société. Cette livraison comprenait entre autre l’exécution de scripts sur la-dite base. Lorsque que le script SQL a été lancé, la personne qui réalisait ces actions a remarquer que l’exécution des commandes était de plus en plus lente, jusqu’à ne plus passer du tout. Quelques minutes après la base s’arrêtait violemment … Impossible alors de relancer la base, il lui a fallut redémarrer la VM pour pouvoir relancer Oracle.\n\nJ’ai donc pris mon client SSH préféré et voici ce que j’ai trouvé dans l’alert.log de la base.\n\nWARNING:io_getevents timed out 600 sec Tue Jun 23 20:21:56 2015 Errors in file /u01/oracle/diag/rdbms/labase/LABASE/trace/LABASE_ora_30952.trc  (incident=58427): ORA-00494: mise en file d'attente [CF] détenue pendant trop longtemps (plus de 900 secondes) par 'inst 1, osid 5336' Incident details in: /u01/oracle/diag/rdbms/labase/LABASE/incident/incdir_58427/LABASE_ora_30952_i58427.trc Killing enqueue blocker (pid=5336) on resource CF-00000000-00000000 by (pid=30952) by killing session 815.1\n\nFinalement le « pmon » a terminé l’instance … Je suis donc allez enquêter sur le pourquoi de cette interruption soudaine. Dans le fichier /var/log/messages j’ai trouvé des erreurs inquiétantes, pas mal de processus – dont certains appartenant à Oracle – ont été bloqués.\n\nJun 23 19:46:15 le-serveur kernel: INFO: task kworker/0:144:24895 blocked for more than 120 seconds. Jun 23 19:46:15 le-serveur kernel: \"echo 0 > /proc/sys/kernel/hung_task_timeout_secs\" disables this message. Jun 23 19:46:15 le-serveur kernel: kworker/0:144   D 0000000000000000     0 24895      2 0x00000080 Jun 23 19:46:15 le-serveur kernel: ffff88010edb3c58 0000000000000046 ffff88010edb3fd8 0000000000013fc0 Jun 23 19:46:15 le-serveur kernel: ffff88010edb2010 0000000000013fc0 0000000000013fc0 0000000000013fc0 Jun 23 19:46:15 le-serveur kernel: ffff88010edb3fd8 0000000000013fc0 ffff88010f318040 ffff88015dee24c0 Jun 23 19:46:15 le-serveur kernel: Call Trace: Jun 23 19:46:15 le-serveur kernel: [<ffffffff815924f9>] schedule+0x29/0x70 Jun 23 19:46:15 le-serveur kernel: [<ffffffff815927ee>] schedule_preempt_disabled+0xe/0x10 Jun 23 19:46:15 le-serveur kernel: [<ffffffff81590e27>] __mutex_lock_slowpath+0x177/0x220 Jun 23 19:46:15 le-serveur kernel: [<ffffffff8109dd44>] ? dequeue_entity+0x1a4/0x630 Jun 23 19:46:15 le-serveur kernel: [<ffffffff81590c8b>] mutex_lock+0x2b/0x50 Jun 23 19:46:15 le-serveur kernel: [<ffffffffa01976ef>] ext4_sync_file+0x9f/0x290 [ext4] Jun 23 19:46:15 le-serveur kernel: [<ffffffff811c02ae>] vfs_fsync_range+0x2e/0x30 Jun 23 19:46:15 le-serveur kernel: [<ffffffff811c0311>] generic_write_sync+0x41/0x50 Jun 23 19:46:15 le-serveur kernel: [<ffffffff811cbbbb>] dio_complete+0x11b/0x140 Jun 23 19:46:15 le-serveur kernel: [<ffffffff811cbd34>] dio_aio_complete_work+0x24/0x30 Jun 23 19:46:15 le-serveur kernel: [<ffffffff8107b8f0>] process_one_work+0x180/0x420 Jun 23 19:46:15 le-serveur kernel: [<ffffffff8107d92e>] worker_thread+0x12e/0x390 Jun 23 19:46:15 le-serveur kernel: [<ffffffff8107d800>] ? manage_workers+0x180/0x180 Jun 23 19:46:15 le-serveur kernel: [<ffffffff81082c7e>] kthread+0xce/0xe0 Jun 23 19:46:15 le-serveur kernel: [<ffffffff81082bb0>] ? kthread_freezable_should_stop+0x70/0x70 Jun 23 19:46:15 le-serveur kernel: [<ffffffff8159bf2c>] ret_from_fork+0x7c/0xb0 Jun 23 19:46:15 le-serveur kernel: [<ffffffff81082bb0>] ? kthread_freezable_should_stop+0x70/0x70\n\nLe site [oracleseeds.wordpress.com](https://oracleseeds.wordpress.com) m’a fourni une bonne partie de la réponse.\n\n[![Problème de flush de cache disque sur Linux hébergeant Oracle](https://techan.fr/images/2015/06/Capture-d’écran-2015-06-24-à-19.16.02.png)](https://techan.fr/images/2015/06/Capture-d’écran-2015-06-24-à-19.16.02.png)\n\n \n\nDonc le système se garde par défaut 40% de la mémoire du système pour faire du cache au niveau du File System.\n\n[root@le-serveur log]# sysctl vm.dirty_ratio vm.dirty_ratio = 20\n\n \n\nDans le cas de cette VM, le paramètre « vm.dirty_ratio » est positionné à 20 donc 20% des 18 Go de RAM dont elle dispose ça fait 3,6 Go de cache. Quand ces 3,6 Go sont pleins, le système écrit ce cache sur le disque, les nouvelles I/O réalisées pendant ce processus deviennent <span style=\"text-decoration: underline;\">synchrones</span>.\n\nLe système a une limite de 120 secondes pour flusher son cache d’ou le calcul de la mort, pour flusher 3,6 Go en 120 secondes, il faut un écrire 30,72 Mo/s. Ce qui n’était malheureusement pas le cas de cette VM à ce moment là. Dans les statistiques de l’ESXi qui l’héberge, j’ai pu voir que la vitesse d’écriture maximum au moment de ce flush était de 18 Mo/s.\n\n \n\nUne première action corrective sera de passer le paramètre « vm.dirty_ratio » à 10, ainsi on n’aura que 1,8 Go de RAM a flusher en 120 secondes.\n\n[root@le-serveur log]# sysctl vm.dirty_ratio=10\n\nPour rendre cette modification persistante après un reboot de la machine, il faut l’ajouter dans le fichier « /etc/systcl.conf ».\n\n \n\nIl faudra également améliorer les performances d’écritures de l’ESXi et de cette VM Oracle pour se prémunir de futures erreurs comme celle-ci.\n\n \n\n\n## Sources\n\n- [blog.ronnyegner-consulting.de](http://blog.ronnyegner-consulting.de/2011/10/13/info-task-blocked-for-more-than-120-seconds/comment-page-1/)\n- [oracleseeds.wordpress.com](https://oracleseeds.wordpress.com/2012/03/02/dedicated-and-shared-server-processes/)\n\n \n\n\n","html":"<p>En arrivant chez mon client ce matin, je me suis rendu compte en ouvrant ma boite mail qu’ils avaient du passer une assez sale nuit … En effet, une livraison était prévue sur une des bases Oracle critique de la société. Cette livraison comprenait entre autre l’exécution de scripts sur la-dite base. Lorsque que le script SQL a été lancé, la personne qui réalisait ces actions a remarquer que l’exécution des commandes était de plus en plus lente, jusqu’à ne plus passer du tout. Quelques minutes après la base s’arrêtait violemment … Impossible alors de relancer la base, il lui a fallut redémarrer la VM pour pouvoir relancer Oracle.</p>\n\n<p>J’ai donc pris mon client SSH préféré et voici ce que j’ai trouvé dans l’alert.log de la base.</p>\n\n<p>WARNING:io<em>getevents timed out 600 sec Tue Jun 23 20:21:56 2015 Errors in file /u01/oracle/diag/rdbms/labase/LABASE/trace/LABASE</em>ora<em>30952.trc  (incident=58427): ORA-00494: mise en file d'attente [CF] détenue pendant trop longtemps (plus de 900 secondes) par 'inst 1, osid 5336' Incident details in: /u01/oracle/diag/rdbms/labase/LABASE/incident/incdir</em>58427/LABASE<em>ora</em>30952_i58427.trc Killing enqueue blocker (pid=5336) on resource CF-00000000-00000000 by (pid=30952) by killing session 815.1</p>\n\n<p>Finalement le « pmon » a terminé l’instance … Je suis donc allez enquêter sur le pourquoi de cette interruption soudaine. Dans le fichier /var/log/messages j’ai trouvé des erreurs inquiétantes, pas mal de processus – dont certains appartenant à Oracle – ont été bloqués.</p>\n\n<p>Jun 23 19:46:15 le-serveur kernel: INFO: task kworker/0:144:24895 blocked for more than 120 seconds. Jun 23 19:46:15 le-serveur kernel: \"echo 0 > /proc/sys/kernel/hung<em>task</em>timeout<em>secs\" disables this message. Jun 23 19:46:15 le-serveur kernel: kworker/0:144   D 0000000000000000     0 24895      2 0x00000080 Jun 23 19:46:15 le-serveur kernel: ffff88010edb3c58 0000000000000046 ffff88010edb3fd8 0000000000013fc0 Jun 23 19:46:15 le-serveur kernel: ffff88010edb2010 0000000000013fc0 0000000000013fc0 0000000000013fc0 Jun 23 19:46:15 le-serveur kernel: ffff88010edb3fd8 0000000000013fc0 ffff88010f318040 ffff88015dee24c0 Jun 23 19:46:15 le-serveur kernel: Call Trace: Jun 23 19:46:15 le-serveur kernel: [<ffffffff815924f9>] schedule+0x29/0x70 Jun 23 19:46:15 le-serveur kernel: [<ffffffff815927ee>] schedule</em>preempt<em>disabled+0xe/0x10 Jun 23 19:46:15 le-serveur kernel: [<ffffffff81590e27>] _</em>mutex<em>lock</em>slowpath+0x177/0x220 Jun 23 19:46:15 le-serveur kernel: [<ffffffff8109dd44>] ? dequeue<em>entity+0x1a4/0x630 Jun 23 19:46:15 le-serveur kernel: [<ffffffff81590c8b>] mutex</em>lock+0x2b/0x50 Jun 23 19:46:15 le-serveur kernel: [<ffffffffa01976ef>] ext4<em>sync</em>file+0x9f/0x290 [ext4] Jun 23 19:46:15 le-serveur kernel: [<ffffffff811c02ae>] vfs<em>fsync</em>range+0x2e/0x30 Jun 23 19:46:15 le-serveur kernel: [<ffffffff811c0311>] generic<em>write</em>sync+0x41/0x50 Jun 23 19:46:15 le-serveur kernel: [<ffffffff811cbbbb>] dio<em>complete+0x11b/0x140 Jun 23 19:46:15 le-serveur kernel: [<ffffffff811cbd34>] dio</em>aio<em>complete</em>work+0x24/0x30 Jun 23 19:46:15 le-serveur kernel: [<ffffffff8107b8f0>] process<em>one</em>work+0x180/0x420 Jun 23 19:46:15 le-serveur kernel: [<ffffffff8107d92e>] worker<em>thread+0x12e/0x390 Jun 23 19:46:15 le-serveur kernel: [<ffffffff8107d800>] ? manage</em>workers+0x180/0x180 Jun 23 19:46:15 le-serveur kernel: [<ffffffff81082c7e>] kthread+0xce/0xe0 Jun 23 19:46:15 le-serveur kernel: [<ffffffff81082bb0>] ? kthread<em>freezable</em>should<em>stop+0x70/0x70 Jun 23 19:46:15 le-serveur kernel: [<ffffffff8159bf2c>] ret</em>from<em>fork+0x7c/0xb0 Jun 23 19:46:15 le-serveur kernel: [<ffffffff81082bb0>] ? kthread</em>freezable<em>should</em>stop+0x70/0x70</p>\n\n<p>Le site <a href=\"https://oracleseeds.wordpress.com\">oracleseeds.wordpress.com</a> m’a fourni une bonne partie de la réponse.</p>\n\n<p><a href=\"https://techan.fr/images/2015/06/Capture-d’écran-2015-06-24-à-19.16.02.png\"><img src=\"https://techan.fr/images/2015/06/Capture-d’écran-2015-06-24-à-19.16.02.png\" alt=\"Problème de flush de cache disque sur Linux hébergeant Oracle\" title=\"\" /></a></p>\n\n<p>Donc le système se garde par défaut 40% de la mémoire du système pour faire du cache au niveau du File System.</p>\n\n<p>[root@le-serveur log]# sysctl vm.dirty<em>ratio vm.dirty</em>ratio = 20</p>\n\n<p>Dans le cas de cette VM, le paramètre « vm.dirty_ratio » est positionné à 20 donc 20% des 18 Go de RAM dont elle dispose ça fait 3,6 Go de cache. Quand ces 3,6 Go sont pleins, le système écrit ce cache sur le disque, les nouvelles I/O réalisées pendant ce processus deviennent <span style=\"text-decoration: underline;\">synchrones</span>.</p>\n\n<p>Le système a une limite de 120 secondes pour flusher son cache d’ou le calcul de la mort, pour flusher 3,6 Go en 120 secondes, il faut un écrire 30,72 Mo/s. Ce qui n’était malheureusement pas le cas de cette VM à ce moment là. Dans les statistiques de l’ESXi qui l’héberge, j’ai pu voir que la vitesse d’écriture maximum au moment de ce flush était de 18 Mo/s.</p>\n\n<p>Une première action corrective sera de passer le paramètre « vm.dirty_ratio » à 10, ainsi on n’aura que 1,8 Go de RAM a flusher en 120 secondes.</p>\n\n<p>[root@le-serveur log]# sysctl vm.dirty_ratio=10</p>\n\n<p>Pour rendre cette modification persistante après un reboot de la machine, il faut l’ajouter dans le fichier « /etc/systcl.conf ».</p>\n\n<p>Il faudra également améliorer les performances d’écritures de l’ESXi et de cette VM Oracle pour se prémunir de futures erreurs comme celle-ci.</p>\n\n<h2 id=\"sources\">Sources</h2>\n\n<ul>\n<li><a href=\"http://blog.ronnyegner-consulting.de/2011/10/13/info-task-blocked-for-more-than-120-seconds/comment-page-1/\">blog.ronnyegner-consulting.de</a></li>\n<li><p><a href=\"https://oracleseeds.wordpress.com/2012/03/02/dedicated-and-shared-server-processes/\">oracleseeds.wordpress.com</a></p></li>\n</ul>","image":"https://techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-24T19:32:29.000Z","created_by":1,"updated_at":"2015-06-24T19:32:29.000Z","updated_by":1,"published_at":"2015-06-24T19:32:29.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":145,"uuid":"69eb01b2-1c53-4aa0-b6c4-368d49229f79","title":"Petite parenthèse de Geek solidaire pour soutenir une bonne cause","slug":"petite-parenthese-de-geek-solidaire-soutenir-bonne-cause","markdown":"\nBonjour à tous,\n\nPetite parenthèse de Geek solidaire pour soutenir une bonne cause.  L’association [Village Pilote](http://villagepilote.org/) organise son tout premier Festival Solidaire cet été à Lyon pour soutenir les actions qu’elle mène auprès des enfants des rues au Sénégal. Peut-être l’avez-vous déjà visionner mais [un reportage sur Village Pilote](http://www.dailymotion.com/video/x2tqfxf) a été diffusé sur France 2 et TV5 Monde la semaine dernière, pour ceux que ça intéresse ","html":"<p>Bonjour à tous,</p>\n\n<p>Petite parenthèse de Geek solidaire pour soutenir une bonne cause.  L’association <a href=\"http://villagepilote.org/\">Village Pilote</a> organise son tout premier Festival Solidaire cet été à Lyon pour soutenir les actions qu’elle mène auprès des enfants des rues au Sénégal. Peut-être l’avez-vous déjà visionner mais <a href=\"http://www.dailymotion.com/video/x2tqfxf\">un reportage sur Village Pilote</a> a été diffusé sur France 2 et TV5 Monde la semaine dernière, pour ceux que ça intéresse ","image":"https://techan.fr/images/2015/06/village_pilote.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-25T15:40:22.000Z","created_by":1,"updated_at":"2015-08-03T16:19:26.000Z","updated_by":1,"published_at":"2015-06-25T15:40:22.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":146,"uuid":"19e900f9-ee63-4d88-ad1e-37d10e0d3e2d","title":"Retirer les doublons dans Photos sur Mac avec PhotoSweeper","slug":"retirer-les-doublons-dans-photos-sur-mac-avec-photosweeper","markdown":"\nJ’ai récemment indiqué que j’avais pu supprimer mes photos doublonnées dans la toute nouvelle bibliothèque de Photos avec [PhotoSweeper](http://overmacs.com/?p=photosweeper) (voir [Trouver et supprimer les doublons dans Photos sur Mac](https://techan.fr/trouver-et-supprimer-les-doublons-dans-photos-sur-mac/)). Or, l’interface de cet outil bien pratique n’est pas traduite en Français, ce qui pose problème à des utilisateurs qui aimeraient également nettoyer un peu cette bibliothèque.\n\nC’est le cas de lilie22 qui m’a gentiment demandé de l’aide. Je vais donc expliquer ici la marche à suivre pour faire du ménage dans vos doublons en utilisant [PhotoSweeper](http://overmacs.com/?p=photosweeper).\n\n[![Retirer les doublons dans Photos sur Mac avec PhotoSweeper](https://techan.fr/images/2015/05/screenshot.513.jpg)](https://techan.fr/images/2015/05/screenshot.513.jpg)\n\n\n## La marche à suivre\n\nDans un premier temps, après avoir lancé l’application, vous devez lui donner votre photothèque. Pour ce faire, il suffit de glisser/déposer le fichier « Photothèque » qui se trouve par défaut dans le dossier « Images » de votre répertoire personnel.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1505\" style=\"width: 664px\">[![Retirer les doublons dans Photos sur Mac avec PhotoSweeper](https://techan.fr/images/2015/06/1_charger_bibliothèque_photos.png)](https://techan.fr/images/2015/06/1_charger_bibliothèque_photos.png)Glisser/déposer la photothèque.\n\n</div> \n\nLe programme demande votre confirmation, cliquez sur « Add ».\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1506\" style=\"width: 410px\">[![Retirer les doublons dans Photos sur Mac avec PhotoSweeper](https://techan.fr/images/2015/06/2_charger_bibliothèque_photos_configrmation.png)](https://techan.fr/images/2015/06/2_charger_bibliothèque_photos_configrmation.png)Cliquez sur « Add ».\n\n</div>En quelques secondes, vos photos apparaissent dans l’application. Il faut alors cliquer sur « Compare » pour que l’outil lance la recherche de doublons.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1507\" style=\"width: 664px\">[![Retirer les doublons dans Photos sur Mac avec PhotoSweeper](https://techan.fr/images/2015/06/3_cliquer_sur_comparer.png)](https://techan.fr/images/2015/06/3_cliquer_sur_comparer.png)Lorsque vos photos sont apparues, cliquez sur « Compare ».\n\n</div>PhotoSweeper vous demande ensuite quel type de doublons chercher, par défaut l’option sélectionnée est « Similar Photos » : « Photos with the same aspect ratio ». L’outil va comparer l’aspect « visuel » des photos au lieu de se contenter d’en comparer le nom ou la taille.\n\nCliquez sur « start » pour lancer la comparaison.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1508\" style=\"width: 430px\">[![Retirer les doublons dans Photos sur Mac avec PhotoSweeper](https://techan.fr/images/2015/06/4_choix_comparation-420x348.png)](https://techan.fr/images/2015/06/4_choix_comparation.png)Cliquez sur « Start ».\n\n</div>Pendant que l’analyse se poursuit, PhotoSweeper vous affiche une animation.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1509\" style=\"width: 209px\">[![Retirer les doublons dans Photos sur Mac avec PhotoSweeper](https://techan.fr/images/2015/06/5_comparaison_des_photos.png)](https://techan.fr/images/2015/06/5_comparaison_des_photos.png)L’animation lors de la comparaison.\n\n</div>Après quelques secondes/minutes, une question vous est posée. L’outil veut savoir s’il doit marquer automatiquement tous les doublons qu’il a trouvé. Les photos marquées seront supprimées dans une étape suivante. Lorsque vous avez deux photos identifiées comme « doublonnées », l’outil n’en marque qu’une pour suppression, la deuxième restera dans votre Photothèque.\n\nL’option « automark » permet de gagner du temps, mais attention, <span style=\"text-decoration: underline;\">vérifiez bien tous les doublons marqués pour ne pas perdre de photos !</span>\n\n[![Retirer les doublons dans Photos sur Mac avec PhotoSweeper](https://techan.fr/images/2015/06/6_menage_automatique-420x116.png)](https://techan.fr/images/2015/06/6_menage_automatique.png)\n\nVous pourrez ensuite contrôler les doublons identifiés, le plus pratique est d’utiliser le mode « Face-to-Face » accessible en haut au milieu de l’écran.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1511\" style=\"width: 664px\">[![Retirer les doublons dans Photos sur Mac avec PhotoSweeper](https://techan.fr/images/2015/06/7_comparaison_manuelle.png)](https://techan.fr/images/2015/06/7_comparaison_manuelle.png)Contrôle des doublons en mode « Face-to-Face ».\n\n</div>Pour marquer des photos comme « doublonnées » il suffit de cliquer sur « Mark » en bas à gauche, pour les marquer comme non « doublonnées » pareil, cliquez sur « Unmark ».\n\n[![Retirer les doublons dans Photos sur Mac avec PhotoSweeper](https://techan.fr/images/2015/06/8_marquer_comme_doublons.png)](https://techan.fr/images/2015/06/8_marquer_comme_doublons.png)\n\nLorsque que vous avez marqué et contrôlé toute vos photos, cliquez sur « Trash Marked » en bas à gauche. L’application Photos va aors s’ouvrir, il vous suffira de suivre les indications visuelles.\n\n\n","html":"<p>J’ai récemment indiqué que j’avais pu supprimer mes photos doublonnées dans la toute nouvelle bibliothèque de Photos avec <a href=\"http://overmacs.com/?p=photosweeper\">PhotoSweeper</a> (voir <a href=\"https://techan.fr/trouver-et-supprimer-les-doublons-dans-photos-sur-mac/\">Trouver et supprimer les doublons dans Photos sur Mac</a>). Or, l’interface de cet outil bien pratique n’est pas traduite en Français, ce qui pose problème à des utilisateurs qui aimeraient également nettoyer un peu cette bibliothèque.</p>\n\n<p>C’est le cas de lilie22 qui m’a gentiment demandé de l’aide. Je vais donc expliquer ici la marche à suivre pour faire du ménage dans vos doublons en utilisant <a href=\"http://overmacs.com/?p=photosweeper\">PhotoSweeper</a>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/05/screenshot.513.jpg\"><img src=\"https://techan.fr/images/2015/05/screenshot.513.jpg\" alt=\"Retirer les doublons dans Photos sur Mac avec PhotoSweeper\" title=\"\" /></a></p>\n\n<h2 id=\"lamarchesuivre\">La marche à suivre</h2>\n\n<p>Dans un premier temps, après avoir lancé l’application, vous devez lui donner votre photothèque. Pour ce faire, il suffit de glisser/déposer le fichier « Photothèque » qui se trouve par défaut dans le dossier « Images » de votre répertoire personnel.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1505\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/06/1_charger_bibliothèque_photos.png\"><img src=\"https://techan.fr/images/2015/06/1_charger_bibliothèque_photos.png\" alt=\"Retirer les doublons dans Photos sur Mac avec PhotoSweeper\" title=\"\" /></a>Glisser/déposer la photothèque.</p>\n\n<p></div> </p>\n\n<p>Le programme demande votre confirmation, cliquez sur « Add ».</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1506\" style=\"width: 410px\"><a href=\"https://techan.fr/images/2015/06/2_charger_bibliothèque_photos_configrmation.png\"><img src=\"https://techan.fr/images/2015/06/2_charger_bibliothèque_photos_configrmation.png\" alt=\"Retirer les doublons dans Photos sur Mac avec PhotoSweeper\" title=\"\" /></a>Cliquez sur « Add ».</p>\n\n<p></div>En quelques secondes, vos photos apparaissent dans l’application. Il faut alors cliquer sur « Compare » pour que l’outil lance la recherche de doublons.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1507\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/06/3_cliquer_sur_comparer.png\"><img src=\"https://techan.fr/images/2015/06/3_cliquer_sur_comparer.png\" alt=\"Retirer les doublons dans Photos sur Mac avec PhotoSweeper\" title=\"\" /></a>Lorsque vos photos sont apparues, cliquez sur « Compare ».</p>\n\n<p></div>PhotoSweeper vous demande ensuite quel type de doublons chercher, par défaut l’option sélectionnée est « Similar Photos » : « Photos with the same aspect ratio ». L’outil va comparer l’aspect « visuel » des photos au lieu de se contenter d’en comparer le nom ou la taille.</p>\n\n<p>Cliquez sur « start » pour lancer la comparaison.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1508\" style=\"width: 430px\"><a href=\"https://techan.fr/images/2015/06/4_choix_comparation.png\"><img src=\"https://techan.fr/images/2015/06/4_choix_comparation-420x348.png\" alt=\"Retirer les doublons dans Photos sur Mac avec PhotoSweeper\" title=\"\" /></a>Cliquez sur « Start ».</p>\n\n<p></div>Pendant que l’analyse se poursuit, PhotoSweeper vous affiche une animation.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1509\" style=\"width: 209px\"><a href=\"https://techan.fr/images/2015/06/5_comparaison_des_photos.png\"><img src=\"https://techan.fr/images/2015/06/5_comparaison_des_photos.png\" alt=\"Retirer les doublons dans Photos sur Mac avec PhotoSweeper\" title=\"\" /></a>L’animation lors de la comparaison.</p>\n\n<p></div>Après quelques secondes/minutes, une question vous est posée. L’outil veut savoir s’il doit marquer automatiquement tous les doublons qu’il a trouvé. Les photos marquées seront supprimées dans une étape suivante. Lorsque vous avez deux photos identifiées comme « doublonnées », l’outil n’en marque qu’une pour suppression, la deuxième restera dans votre Photothèque.</p>\n\n<p>L’option « automark » permet de gagner du temps, mais attention, <span style=\"text-decoration: underline;\">vérifiez bien tous les doublons marqués pour ne pas perdre de photos !</span></p>\n\n<p><a href=\"https://techan.fr/images/2015/06/6_menage_automatique.png\"><img src=\"https://techan.fr/images/2015/06/6_menage_automatique-420x116.png\" alt=\"Retirer les doublons dans Photos sur Mac avec PhotoSweeper\" title=\"\" /></a></p>\n\n<p>Vous pourrez ensuite contrôler les doublons identifiés, le plus pratique est d’utiliser le mode « Face-to-Face » accessible en haut au milieu de l’écran.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1511\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/06/7_comparaison_manuelle.png\"><img src=\"https://techan.fr/images/2015/06/7_comparaison_manuelle.png\" alt=\"Retirer les doublons dans Photos sur Mac avec PhotoSweeper\" title=\"\" /></a>Contrôle des doublons en mode « Face-to-Face ».</p>\n\n<p></div>Pour marquer des photos comme « doublonnées » il suffit de cliquer sur « Mark » en bas à gauche, pour les marquer comme non « doublonnées » pareil, cliquez sur « Unmark ».</p>\n\n<p><a href=\"https://techan.fr/images/2015/06/8_marquer_comme_doublons.png\"><img src=\"https://techan.fr/images/2015/06/8_marquer_comme_doublons.png\" alt=\"Retirer les doublons dans Photos sur Mac avec PhotoSweeper\" title=\"\" /></a></p>\n\n<p>Lorsque que vous avez marqué et contrôlé toute vos photos, cliquez sur « Trash Marked » en bas à gauche. L’application Photos va aors s’ouvrir, il vous suffira de suivre les indications visuelles.</p>","image":"https://techan.fr/images/2015/05/screenshot.428.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-25T16:35:35.000Z","created_by":1,"updated_at":"2015-06-25T16:35:35.000Z","updated_by":1,"published_at":"2015-06-25T16:35:35.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":147,"uuid":"bac53fe1-cd2c-4601-8119-996356b1d4c3","title":"Installer Ubuntu MATE 15.04 sur une RaspBerry Pi 2","slug":"installer-ubuntu-mate-15-04-sur-une-raspberry-pi-2","markdown":"\nDepuis hier je suis l’heureux propriétaire d’un [Raspberry Pi](https://www.amazon.fr/gp/product/B01CYQJP9O/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&camp=1642&creative=6746&creativeASIN=B01CYQJP9O&linkCode=as2&tag=techan0f-21), et je dois dire que cette toute petite machine m’a très vite séduit ! Sa simplicité tout d’abord, on déballe l’emballage, on la glisse dans sa boite, on insère une carte SD puis on branche clavier/souris et écran, on met sous tension et c’est parti ! Bon ok, c’est je suis passé un peu vite sur l’installation du système … Mais c’est enfantin ! Je ne vais pas redécrire ici la marche à suivre pour installer le système sur la carte SD car un super article à ce sujet existe déjà sur [raspbian-france.fr](http://raspbian-france.fr/creez-carte-sd-raspbian-raspberry-pi-windows/).\n\nDans l’article, les gens de [raspbian-france.fr](http://raspbian-france.fr) décrive la marche à suivre pour installer Raspbian, et bien les étapes sont les mêmes pour installer Ubuntu MATE 15.04 sur une RaspBerry Pi 2 - ou 3 -, c’est juste l’image qui change. Il faut aller [la télécharger par ici](http://master.dl.sourceforge.net/project/ubuntu-mate/15.04/armhf/ubuntu-mate-15.04-desktop-armhf-raspberry-pi-2.img.bz2). Lors du premier démarrage, vous pourrez customiser Ubuntu MATE et créer votre utilisateur. L’installer n’est cependant pas parfait et il vous faudra réaliser quelques actions – agrandir le file system, créer du swap, … – à la main, c’est ce que je vais décrire ici.\n\n\n## Installer les programmes vitaux\n\nMême s’il y a déjà presque tout ce qu’il faut dans cette distribution, il manque quand même quelques utilitaire vitaux – selon moi. Vous comment les installer.\n\n    $ sudo aptitude update\n    $ sudo aptitude install htop openssh-server\n    $ sudo aptitude upgrade\n    $ sudo reboot\n\nJ’ajoute une petite mise à jour du système au passage \n ","html":"<p>Depuis hier je suis l’heureux propriétaire d’un <a href=\"https://www.amazon.fr/gp/product/B01CYQJP9O/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=1642&amp;creative=6746&amp;creativeASIN=B01CYQJP9O&amp;linkCode=as2&amp;tag=techan0f-21\">Raspberry Pi</a>, et je dois dire que cette toute petite machine m’a très vite séduit ! Sa simplicité tout d’abord, on déballe l’emballage, on la glisse dans sa boite, on insère une carte SD puis on branche clavier/souris et écran, on met sous tension et c’est parti ! Bon ok, c’est je suis passé un peu vite sur l’installation du système … Mais c’est enfantin ! Je ne vais pas redécrire ici la marche à suivre pour installer le système sur la carte SD car un super article à ce sujet existe déjà sur <a href=\"http://raspbian-france.fr/creez-carte-sd-raspbian-raspberry-pi-windows/\">raspbian-france.fr</a>.</p>\n\n<p>Dans l’article, les gens de <a href=\"http://raspbian-france.fr\">raspbian-france.fr</a> décrive la marche à suivre pour installer Raspbian, et bien les étapes sont les mêmes pour installer Ubuntu MATE 15.04 sur une RaspBerry Pi 2 - ou 3 -, c’est juste l’image qui change. Il faut aller <a href=\"http://master.dl.sourceforge.net/project/ubuntu-mate/15.04/armhf/ubuntu-mate-15.04-desktop-armhf-raspberry-pi-2.img.bz2\">la télécharger par ici</a>. Lors du premier démarrage, vous pourrez customiser Ubuntu MATE et créer votre utilisateur. L’installer n’est cependant pas parfait et il vous faudra réaliser quelques actions – agrandir le file system, créer du swap, … – à la main, c’est ce que je vais décrire ici.</p>\n\n<h2 id=\"installerlesprogrammesvitaux\">Installer les programmes vitaux</h2>\n\n<p>Même s’il y a déjà presque tout ce qu’il faut dans cette distribution, il manque quand même quelques utilitaire vitaux – selon moi. Vous comment les installer.</p>\n\n<pre><code>$ sudo aptitude update\n$ sudo aptitude install htop openssh-server\n$ sudo aptitude upgrade\n$ sudo reboot\n</code></pre>\n\n<p>J’ajoute une petite mise à jour du système au passage </p>","image":"https://techan.fr/images/2015/06/Raspi_Colour_R.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-28T13:44:27.000Z","created_by":1,"updated_at":"2016-12-12T12:54:46.000Z","updated_by":1,"published_at":"2015-06-28T13:44:27.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":148,"uuid":"3a2a5053-1eb6-4236-a06e-a0c0629f6f33","title":"Installer Flash pour Chromium sur un Raspberry Pi 2","slug":"installer-flash-pour-chromium-sur-un-raspberry-pi-2","markdown":"\nJe suis toujours en train de bidouiller sur ma toute nouvelle Raspberry Pi 2 – voir [Installer Ubuntu MATE 15.04 sur une RaspBerry Pi 2](https://techan.fr/installer-ubuntu-mate-15-04-sur-une-raspberry-pi-2/) – et aussi surprenant que cela puisse paraître, le lecteur Flash m’a manqué assez vite. C’est tout bête, j’ai voulu mettre de la musique depuis Spotify sur le Raspberry et sans Flash … Bah ça fonctionne pas, beurk !\n\nDu coup, j’ai cherché une solution sur la toile. La solution vient de Google – haha ! – et plus précisément de leur ChromeOS. En effet un bidouilleur a réussi à isoler la librairie permettant aux appareils sous ChromeOS de lire du contenu Flash et le propose pour le Rapsberry Pi. L’installation est assez simple mais elle ne fonctionne que pour Chromium visiblement … ","html":"<p>Je suis toujours en train de bidouiller sur ma toute nouvelle Raspberry Pi 2 – voir <a href=\"https://techan.fr/installer-ubuntu-mate-15-04-sur-une-raspberry-pi-2/\">Installer Ubuntu MATE 15.04 sur une RaspBerry Pi 2</a> – et aussi surprenant que cela puisse paraître, le lecteur Flash m’a manqué assez vite. C’est tout bête, j’ai voulu mettre de la musique depuis Spotify sur le Raspberry et sans Flash … Bah ça fonctionne pas, beurk !</p>\n\n<p>Du coup, j’ai cherché une solution sur la toile. La solution vient de Google – haha ! – et plus précisément de leur ChromeOS. En effet un bidouilleur a réussi à isoler la librairie permettant aux appareils sous ChromeOS de lire du contenu Flash et le propose pour le Rapsberry Pi. L’installation est assez simple mais elle ne fonctionne que pour Chromium visiblement … ","image":"https://techan.fr/images/2015/06/Raspi_Colour_R.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-30T11:30:41.000Z","created_by":1,"updated_at":"2015-06-30T11:30:41.000Z","updated_by":1,"published_at":"2015-06-30T11:30:41.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":149,"uuid":"e4f24acc-8a1b-4630-8f48-77fb77a51db2","title":"La fin est proche ...","slug":"la-fin-est-proche","markdown":"\nHello tout le monde,\n\nCet article est une espèce d’appel à l’aide désespéré. En effet suite à un événement personnel, je ne serais plus en mesure d’assurer l’hébergement de ce site d’ici à la fin août, la fin est proche… La machine que je loue chez [Online.net](http://www.online.net/fr/serveur-dedie/dedibox-classic) me coûte presque 21 euros par mois et je ne pourrai plus supporter cette dépense d’ici les tout petits deux mois qui restent.\n\nC’est un crève cœur pour moi que de lâcher ce blog qui je pense vous rend service. L’affluence ne cesse de monter, vous êtes maintenant 75 en moyenne à consulter les articles que je vous ai concoctés contre 50 le mois dernier. Certains d’entre vous l’ont sûrement remarqué, de la pub est apparue récemment sur techan.fr, ce n’est pas de gaité de cœur que j’ai sauté ce pas, mais bien pour essayer de trouver des solutions. Malheureusement, celle ci n’est pas viable à court terme.\n\nMon souhait serait de trouver de bonnes âmes qui pourraient m’aider à sauver ces articles afin que de plus en plus de personnes puissent les lire et y trouver des réponses dans les mois et les années qui viennent.\n\nJ’ajoute un formulaire de contact ci dessous. Si vous souhaitez m’aider ou juste me témoigner votre sympathie, c’est ici.  \n Merci à tous !\n\nMrRaph_\n\n[contact-form to=’raphael.charrat@aldanet.fr’ subject='[TechAN La fin est proche …’][contact-field label=’Nom’ type=’name’ required=’1’/][contact-field label=’E-mail’ type=’email’ required=’1’/][contact-field label=’Site Web’ type=’url’/][contact-field label=’Commentaire’ type=’textarea’ required=’1’/][/contact-form]\n\n \n\n\n","html":"<p>Hello tout le monde,</p>\n\n<p>Cet article est une espèce d’appel à l’aide désespéré. En effet suite à un événement personnel, je ne serais plus en mesure d’assurer l’hébergement de ce site d’ici à la fin août, la fin est proche… La machine que je loue chez <a href=\"http://www.online.net/fr/serveur-dedie/dedibox-classic\">Online.net</a> me coûte presque 21 euros par mois et je ne pourrai plus supporter cette dépense d’ici les tout petits deux mois qui restent.</p>\n\n<p>C’est un crève cœur pour moi que de lâcher ce blog qui je pense vous rend service. L’affluence ne cesse de monter, vous êtes maintenant 75 en moyenne à consulter les articles que je vous ai concoctés contre 50 le mois dernier. Certains d’entre vous l’ont sûrement remarqué, de la pub est apparue récemment sur techan.fr, ce n’est pas de gaité de cœur que j’ai sauté ce pas, mais bien pour essayer de trouver des solutions. Malheureusement, celle ci n’est pas viable à court terme.</p>\n\n<p>Mon souhait serait de trouver de bonnes âmes qui pourraient m’aider à sauver ces articles afin que de plus en plus de personnes puissent les lire et y trouver des réponses dans les mois et les années qui viennent.</p>\n\n<p>J’ajoute un formulaire de contact ci dessous. Si vous souhaitez m’aider ou juste me témoigner votre sympathie, c’est ici. <br />\n Merci à tous !</p>\n\n<p>MrRaph_</p>\n\n<p>[contact-form to=’raphael.charrat@aldanet.fr’ subject='[TechAN La fin est proche …’][contact-field label=’Nom’ type=’name’ required=’1’/][contact-field label=’E-mail’ type=’email’ required=’1’/][contact-field label=’Site Web’ type=’url’/][contact-field label=’Commentaire’ type=’textarea’ required=’1’/][/contact-form]</p>","image":"https://techan.fr/images/2014/09/cropped-TechAN_moyen13.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-07-04T17:57:34.000Z","created_by":1,"updated_at":"2015-08-03T16:19:17.000Z","updated_by":1,"published_at":"2015-07-04T17:57:34.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":150,"uuid":"b8f54b45-6e06-4f3c-aa6b-80cbe4da3936","title":"Désactiver l'écran de connexion dans Windows 10","slug":"desactiver-lecran-de-connexion-dans-windows-10","markdown":"\nSi vous avez réussi à faire la mise à jour de votre ordinateur vers Windows 10, il y a surement des points qui vous ennuient un peu. Pour ma part le premier d’entre eux est l’écran de connexion. Je n’accède à ma machine qu’à distance – avec TeamViewer ou via le streaming de Steam et l’écran de connexion a la fâcheuse tendance à s’afficher régulièrement. Ce comportement n’est pas gênant en soi mais empêche le steaming de Steam…\n\n \n\nEn effet, le streaming ne démarre pas si l’écran est verrouillé … J’ai donc cherché une solution afin de désactiver cela.\n\n \n\n\n## La marche à suivre\n\nIl va vous falloir utiliser l’éditeur du registre pour cela, pour le lancer pressez les touches **Windows **et **R** simultanément, une pop-up va s’ouvrir. Dans cette pop-up tapez **regedit** puis cliquez sur **Ok**.\n\n \n\n[![Désactiver l'écran de connexion dans Windows 10](https://techan.fr/images/2015/08/screenshot.679.jpg)](https://techan.fr/images/2015/08/screenshot.679.jpg)\n\nSi le système vous demande une confirmation, cliquez sur **Oui**.\n\n \n\n[![Désactiver l'écran de connexion dans Windows 10](https://techan.fr/images/2015/08/screenshot.680.jpg)](https://techan.fr/images/2015/08/screenshot.680.jpg)\n\nVous voici maintenant dans l’éditeur du registre. Nous allons y ajouter un valeur, pour cela, il faut naviguer dans les clefs – comme dans l’explorateur Windows. Suivez ce chemin dans l’arborescence :\n\n**HKEY_LOCAL_MACHINE** -> **SOFTWARE** -> **Policies** -> **Microsoft** -> **Personalization**\n\nSi vous n’avez pas la clef **Personalization**, il va falloir l’ajouter. Faites un clic droit sur la clef du niveau supérieur – **Windows** – dépliez le menu **Nouveau** puis cliquez sur **Clé**.\n\n \n\n[![Désactiver l'écran de connexion dans Windows 10](https://techan.fr/images/2015/08/screenshot.682.jpg)](https://techan.fr/images/2015/08/screenshot.682.jpg)\n\nNommez cette nouvelle clef **Personalization**.\n\n \n\n[![Désactiver l'écran de connexion dans Windows 10](https://techan.fr/images/2015/08/screenshot.683.jpg)](https://techan.fr/images/2015/08/screenshot.683.jpg)\n\n \n\n \n\n[![Désactiver l'écran de connexion dans Windows 10](https://techan.fr/images/2015/08/screenshot.681.jpg)](https://techan.fr/images/2015/08/screenshot.681.jpg)\n\n \n\n \n\nMaintenant, nous allons ajouter une nouvelle valeur dans la clef **Personalization**. Faites un clic droit sur la clef **Personalization**, développez le menu **Nouveau** et choisissez l’option **Valeur DWORD 32 bits**. Nommez cette nouvelle valeur **NoLockScreen**.\n\n \n\n[![Désactiver l'écran de connexion dans Windows 10](https://techan.fr/images/2015/08/screenshot.684.jpg)](https://techan.fr/images/2015/08/screenshot.684.jpg)\n\n \n\n[![Désactiver l'écran de connexion dans Windows 10](https://techan.fr/images/2015/08/screenshot.685.jpg)](https://techan.fr/images/2015/08/screenshot.685.jpg)\n\nDouble cliquez sur cette nouvelle valeur et mettez sa valeur à **1 **puis cliquez sur **Ok**.\n\n \n\n[![Désactiver l'écran de connexion dans Windows 10](https://techan.fr/images/2015/08/screenshot.686.jpg)](https://techan.fr/images/2015/08/screenshot.686.jpg)\n\nTout est prêt, vous n’avez plus qu’a redémarrer votre ordinateur, vous n’aurez plus l’écran de connexion à tout bout de champ !\n\n\n","html":"<p>Si vous avez réussi à faire la mise à jour de votre ordinateur vers Windows 10, il y a surement des points qui vous ennuient un peu. Pour ma part le premier d’entre eux est l’écran de connexion. Je n’accède à ma machine qu’à distance – avec TeamViewer ou via le streaming de Steam et l’écran de connexion a la fâcheuse tendance à s’afficher régulièrement. Ce comportement n’est pas gênant en soi mais empêche le steaming de Steam…</p>\n\n<p>En effet, le streaming ne démarre pas si l’écran est verrouillé … J’ai donc cherché une solution afin de désactiver cela.</p>\n\n<h2 id=\"lamarchesuivre\">La marche à suivre</h2>\n\n<p>Il va vous falloir utiliser l’éditeur du registre pour cela, pour le lancer pressez les touches <strong>Windows <em>*et *</em>R</strong> simultanément, une pop-up va s’ouvrir. Dans cette pop-up tapez <strong>regedit</strong> puis cliquez sur <strong>Ok</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.679.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.679.jpg\" alt=\"Désactiver l'écran de connexion dans Windows 10\" title=\"\" /></a></p>\n\n<p>Si le système vous demande une confirmation, cliquez sur <strong>Oui</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.680.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.680.jpg\" alt=\"Désactiver l'écran de connexion dans Windows 10\" title=\"\" /></a></p>\n\n<p>Vous voici maintenant dans l’éditeur du registre. Nous allons y ajouter un valeur, pour cela, il faut naviguer dans les clefs – comme dans l’explorateur Windows. Suivez ce chemin dans l’arborescence :</p>\n\n<p><strong>HKEY<em>LOCAL</em>MACHINE</strong> -> <strong>SOFTWARE</strong> -> <strong>Policies</strong> -> <strong>Microsoft</strong> -> <strong>Personalization</strong></p>\n\n<p>Si vous n’avez pas la clef <strong>Personalization</strong>, il va falloir l’ajouter. Faites un clic droit sur la clef du niveau supérieur – <strong>Windows</strong> – dépliez le menu <strong>Nouveau</strong> puis cliquez sur <strong>Clé</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.682.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.682.jpg\" alt=\"Désactiver l'écran de connexion dans Windows 10\" title=\"\" /></a></p>\n\n<p>Nommez cette nouvelle clef <strong>Personalization</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.683.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.683.jpg\" alt=\"Désactiver l'écran de connexion dans Windows 10\" title=\"\" /></a></p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.681.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.681.jpg\" alt=\"Désactiver l'écran de connexion dans Windows 10\" title=\"\" /></a></p>\n\n<p>Maintenant, nous allons ajouter une nouvelle valeur dans la clef <strong>Personalization</strong>. Faites un clic droit sur la clef <strong>Personalization</strong>, développez le menu <strong>Nouveau</strong> et choisissez l’option <strong>Valeur DWORD 32 bits</strong>. Nommez cette nouvelle valeur <strong>NoLockScreen</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.684.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.684.jpg\" alt=\"Désactiver l'écran de connexion dans Windows 10\" title=\"\" /></a></p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.685.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.685.jpg\" alt=\"Désactiver l'écran de connexion dans Windows 10\" title=\"\" /></a></p>\n\n<p>Double cliquez sur cette nouvelle valeur et mettez sa valeur à <strong>1 <em>*puis cliquez sur *</em>Ok</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.686.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.686.jpg\" alt=\"Désactiver l'écran de connexion dans Windows 10\" title=\"\" /></a></p>\n\n<p>Tout est prêt, vous n’avez plus qu’a redémarrer votre ordinateur, vous n’aurez plus l’écran de connexion à tout bout de champ !</p>","image":"https://techan.fr/images/2015/06/windows_10_logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-08-03T09:13:26.000Z","created_by":1,"updated_at":"2015-09-21T10:16:43.000Z","updated_by":1,"published_at":"2015-08-03T09:13:26.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":151,"uuid":"42d92849-5559-4c4b-9b6e-31e841203f27","title":"Activer le God Mode dans Windows 10","slug":"activer-le-god-mode-dans-windows-10","markdown":"\nVoici une astuce que je viens de découvrir et qui permet de faire gagner pas mal de temps, surtout si comme moi vous galérez dans Windows 10 pour retrouver l’ancien Panneau de configuration qui est maintenant bien caché. Cette astuce permet d’afficher le « God Mode » de Windows, c’est un dossier avec un nom spécial dans lequel sont listés tous les paramètres de Windows.\n\n \n\nAvec cette astuce, vous n’aurez plus besoin de courir à droit et à gauche pour trouver les paramètres que vous cherchez. Il vous suffira de jeter un œil dans ce dossier – ou lancer une petite recherche dans ce dossier – pour trouver rapidement ce que vous cherchez. Et le top du top dans tout ça ? Il n’y a même pas besoin d’éditer la base de registre pour faire cela !\n\n \n\n<span style=\"text-decoration: underline;\">Note :</span>  Cette astuce fonctionne également sur Windows 7 et 8 ! ![:-)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n\n## La marche à suivre\n\nCréer un nouveau dossier ou vous le souhaitez, personnellement je l’ai fait sur le Bureau.\n\n[![Activer le God Mode dans Windows 10](https://techan.fr/images/2015/08/screenshot.693.jpg)](https://techan.fr/images/2015/08/screenshot.693.jpg)\n\nRenommez ce dossier comme ceci :\n\nGodMode.{ED7BA470-8E54-465E-825C-99712043E01C}\n\n \n\n \n\n[![Activer le God Mode dans Windows 10](https://techan.fr/images/2015/08/screenshot.694.jpg)](https://techan.fr/images/2015/08/screenshot.694.jpg)\n\nValidez la modification, le dossier va alors changer d’apparence, pour ressembler à une espèce d’ordinateur.\n\n[![Activer le God Mode dans Windows 10](https://techan.fr/images/2015/08/screenshot.695.jpg)](https://techan.fr/images/2015/08/screenshot.695.jpg)\n\nIl ne reste plus qu’à double cliquer sur ce dossier pour accéder aux paramètres Windows.\n\n \n\n[![Activer le God Mode dans Windows 10](https://techan.fr/images/2015/08/screenshot.696.jpg)](https://techan.fr/images/2015/08/screenshot.696.jpg)\n\n \n\n \n\n \n\n \n\n\n","html":"<p>Voici une astuce que je viens de découvrir et qui permet de faire gagner pas mal de temps, surtout si comme moi vous galérez dans Windows 10 pour retrouver l’ancien Panneau de configuration qui est maintenant bien caché. Cette astuce permet d’afficher le « God Mode » de Windows, c’est un dossier avec un nom spécial dans lequel sont listés tous les paramètres de Windows.</p>\n\n<p>Avec cette astuce, vous n’aurez plus besoin de courir à droit et à gauche pour trouver les paramètres que vous cherchez. Il vous suffira de jeter un œil dans ce dossier – ou lancer une petite recherche dans ce dossier – pour trouver rapidement ce que vous cherchez. Et le top du top dans tout ça ? Il n’y a même pas besoin d’éditer la base de registre pour faire cela !</p>\n\n<p><span style=\"text-decoration: underline;\">Note :</span>  Cette astuce fonctionne également sur Windows 7 et 8 ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":-)\" title=\"\" /></p>\n\n<h2 id=\"lamarchesuivre\">La marche à suivre</h2>\n\n<p>Créer un nouveau dossier ou vous le souhaitez, personnellement je l’ai fait sur le Bureau.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.693.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.693.jpg\" alt=\"Activer le God Mode dans Windows 10\" title=\"\" /></a></p>\n\n<p>Renommez ce dossier comme ceci :</p>\n\n<p>GodMode.{ED7BA470-8E54-465E-825C-99712043E01C}</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.694.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.694.jpg\" alt=\"Activer le God Mode dans Windows 10\" title=\"\" /></a></p>\n\n<p>Validez la modification, le dossier va alors changer d’apparence, pour ressembler à une espèce d’ordinateur.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.695.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.695.jpg\" alt=\"Activer le God Mode dans Windows 10\" title=\"\" /></a></p>\n\n<p>Il ne reste plus qu’à double cliquer sur ce dossier pour accéder aux paramètres Windows.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.696.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.696.jpg\" alt=\"Activer le God Mode dans Windows 10\" title=\"\" /></a></p>","image":"https://techan.fr/images/2015/06/windows_10_logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-08-03T16:24:44.000Z","created_by":1,"updated_at":"2015-08-07T11:39:44.000Z","updated_by":1,"published_at":"2015-08-03T16:24:44.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":152,"uuid":"2612719c-858b-4c0f-97d9-3a932c07cf60","title":"Réinitialiser le mot de passe root sur une appliance vCenter","slug":"reinitialiser-le-mot-de-passe-root-sur-une-appliance-vcenter","markdown":"\nDans une infrastructure VMware le vCenter est bien souvent le cœur du dispositif et l’accès à son interface d’administration n’en ai que plus importante. Chez un client, le compte « root » du vCenter était verrouillé, j’ai cherché comment réinitialiser le mot de passe « root » du vCenter car ce mot de passe oublié/verrouillé empêchait de se connecter à la VAMI – Virtual Applicance Management Interface – à savoir, pour le vCenter l’URL de cette VAMI est https://<IP du vCenter>:5480/.\n\nCette interface permet de gérer les paramètres vitaux du vCenter – DB, SSO, Services, … – son accès est donc très important.\n\nVoici la méthode que j’ai suivie pour récupérer l’accès à cette VAMI via le compte « root ».\n\n \n\n\n## La marche à suivre\n\nLa première étape est de redémarrer le vCenter, au reboot, il faut éditer la configuration de GRUB.\n\nLorsque cet écran apparait, utilisez les flèches du clavier pour désactiver le boot automatique – quelques secondes par défaut.\n\n \n\n[![Réinitialiser le mot de passe root sur une appliance vCenter](https://techan.fr/images/2015/08/1_menu_GRUB.png)](https://techan.fr/images/2015/08/1_menu_GRUB.png)\n\n \n\nUne fois que vous êtes tranquille avec le boot automatique, appuyez sur la touche **p**, un mot de passe vous sera alors demandé.\n\n \n\n[![Réinitialiser le mot de passe root sur une appliance vCenter](https://techan.fr/images/2015/08/2_menu_GRUB_password.png)](https://techan.fr/images/2015/08/2_menu_GRUB_password.png)  \n Ce mot de passe est **vmware** par défaut. Ce mot de passe peut être différent si vous avez réinitialisé le mot de passe du compte root en utilisant la VAMI.\n\nUne fois le mot de passe accepté, surlignez la ligne **VMware vCenter Server Appliance** et appuyez sur **e**.\n\n \n\n[![Réinitialiser le mot de passe root sur une appliance vCenter](https://techan.fr/images/2015/08/3_menu_GRUB_kernel.png)](https://techan.fr/images/2015/08/3_menu_GRUB_kernel.png)\n\n \n\nSurlignez la ligne qui commence par **kernel** et appuyez sur la touche **e**.\n\nVous entrez en mode « édition », l’éditeur vous met directement en fin de ligne, ajoutez **init=/bin/bash** à la fin.\n\n \n\n[![4_menu_GRUB_kernel_bash](https://techan.fr/images/2015/08/4_menu_GRUB_kernel_bash.png)](https://techan.fr/images/2015/08/4_menu_GRUB_kernel_bash.png)\n\n \n\nUne fois l’ajout réalisé, appuyez sur **Entrée**. Le menu de GRUB réapparait alors, appuyez sur **b** pour lancer la séquence de boot de l’appliance.\n\nLe système démarre et vous amène directement dans un Shell « root », utilisez la commande **passwd root** pour changer le mot de passe de « root ».\n\n \n\n[![5_vcenter_boot_single](https://techan.fr/images/2015/08/5_vcenter_boot_single.png)](https://techan.fr/images/2015/08/5_vcenter_boot_single.png)\n\n \n\nTout est bon maintenant, il n’y a plus qu’à lancer un **reboot** de l’appliance et à attendre que le système démarre complètement.\n\nEt voilà, vous pouvez vous connecter à la VAMI en utilisant le nouveau mot de passe du compte « root ».\n\n \n\n[![6_vami_fonctionnelle](https://techan.fr/images/2015/08/6_vami_fonctionnelle.png)](https://techan.fr/images/2015/08/6_vami_fonctionnelle.png)\n\n \n\n\n## Source\n\n- [www.settlersoman.com (Anglais)](http://www.settlersoman.com/how-to-reset-root-password-on-vcenter-appliance/)\n\n\n","html":"<p>Dans une infrastructure VMware le vCenter est bien souvent le cœur du dispositif et l’accès à son interface d’administration n’en ai que plus importante. Chez un client, le compte « root » du vCenter était verrouillé, j’ai cherché comment réinitialiser le mot de passe « root » du vCenter car ce mot de passe oublié/verrouillé empêchait de se connecter à la VAMI – Virtual Applicance Management Interface – à savoir, pour le vCenter l’URL de cette VAMI est https://<IP du vCenter>:5480/.</p>\n\n<p>Cette interface permet de gérer les paramètres vitaux du vCenter – DB, SSO, Services, … – son accès est donc très important.</p>\n\n<p>Voici la méthode que j’ai suivie pour récupérer l’accès à cette VAMI via le compte « root ».</p>\n\n<h2 id=\"lamarchesuivre\">La marche à suivre</h2>\n\n<p>La première étape est de redémarrer le vCenter, au reboot, il faut éditer la configuration de GRUB.</p>\n\n<p>Lorsque cet écran apparait, utilisez les flèches du clavier pour désactiver le boot automatique – quelques secondes par défaut.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/1_menu_GRUB.png\"><img src=\"https://techan.fr/images/2015/08/1_menu_GRUB.png\" alt=\"Réinitialiser le mot de passe root sur une appliance vCenter\" title=\"\" /></a></p>\n\n<p>Une fois que vous êtes tranquille avec le boot automatique, appuyez sur la touche <strong>p</strong>, un mot de passe vous sera alors demandé.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/2_menu_GRUB_password.png\"><img src=\"https://techan.fr/images/2015/08/2_menu_GRUB_password.png\" alt=\"Réinitialiser le mot de passe root sur une appliance vCenter\" title=\"\" /></a> <br />\n Ce mot de passe est <strong>vmware</strong> par défaut. Ce mot de passe peut être différent si vous avez réinitialisé le mot de passe du compte root en utilisant la VAMI.</p>\n\n<p>Une fois le mot de passe accepté, surlignez la ligne <strong>VMware vCenter Server Appliance</strong> et appuyez sur <strong>e</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/3_menu_GRUB_kernel.png\"><img src=\"https://techan.fr/images/2015/08/3_menu_GRUB_kernel.png\" alt=\"Réinitialiser le mot de passe root sur une appliance vCenter\" title=\"\" /></a></p>\n\n<p>Surlignez la ligne qui commence par <strong>kernel</strong> et appuyez sur la touche <strong>e</strong>.</p>\n\n<p>Vous entrez en mode « édition », l’éditeur vous met directement en fin de ligne, ajoutez <strong>init=/bin/bash</strong> à la fin.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/4_menu_GRUB_kernel_bash.png\"><img src=\"https://techan.fr/images/2015/08/4_menu_GRUB_kernel_bash.png\" alt=\"4<em>menu</em>GRUB<em>kernel</em>bash\" title=\"\" /></a></p>\n\n<p>Une fois l’ajout réalisé, appuyez sur <strong>Entrée</strong>. Le menu de GRUB réapparait alors, appuyez sur <strong>b</strong> pour lancer la séquence de boot de l’appliance.</p>\n\n<p>Le système démarre et vous amène directement dans un Shell « root », utilisez la commande <strong>passwd root</strong> pour changer le mot de passe de « root ».</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/5_vcenter_boot_single.png\"><img src=\"https://techan.fr/images/2015/08/5_vcenter_boot_single.png\" alt=\"5<em>vcenter</em>boot_single\" title=\"\" /></a></p>\n\n<p>Tout est bon maintenant, il n’y a plus qu’à lancer un <strong>reboot</strong> de l’appliance et à attendre que le système démarre complètement.</p>\n\n<p>Et voilà, vous pouvez vous connecter à la VAMI en utilisant le nouveau mot de passe du compte « root ».</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/6_vami_fonctionnelle.png\"><img src=\"https://techan.fr/images/2015/08/6_vami_fonctionnelle.png\" alt=\"6<em>vami</em>fonctionnelle\" title=\"\" /></a></p>\n\n<h2 id=\"source\">Source</h2>\n\n<ul>\n<li><a href=\"http://www.settlersoman.com/how-to-reset-root-password-on-vcenter-appliance/\">www.settlersoman.com (Anglais)</a></li>\n</ul>","image":"https://techan.fr/images/2015/01/vmware_vsphere_client_high_def_icon_by_flakshack-d4o96dy.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-08-04T16:24:49.000Z","created_by":1,"updated_at":"2015-08-04T16:24:49.000Z","updated_by":1,"published_at":"2015-08-04T16:24:49.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":153,"uuid":"13d8fced-6927-4bd1-a61d-0975e73a6c22","title":"Forcer un programme à utiliser une carte réseau sur Windows","slug":"forcer-un-programme-a-utiliser-une-carte-reseau-sur-windows","markdown":"\nUne des choses un peu pénibles sur Windows, c’est qu’il est très difficile – voire impossible – de forcer un programme à utiliser une carte réseau spécifique. C’est un problème pour moi car sur mon serveur – qui est désormais sous Windows 10 – j’héberge mon Media Center Plex, Steam pour le streaming local et j’utilise également cette machine pour faire du surf sur Internet à distance. Le problème c’est que je ne souhaite pas « polluer » la connexion Ethernet de la machine, que je veux dédier à Plex, avec mon surf internet.\n\nMon souhait était donc de forcer Plex à utiliser la carte Ethernet et Firefox la carte Wifi de la machine. La bonne nouvelle ? J’ai trouvé un petit programme qui permet de gérer ça assez facilement !!\n\n \n\n\n## ForceBindIP\n\nForceBindIP, c’est le nom de cet utilitaire. Sur le [site de l’éditeur](http://old.r1ch.net/stuff/forcebindip/), il est indiqué qu’il est compatible avec Windows NT/2000/XP/2003, pour ma part, j’ai testé sur Windows 10 cela fonctionne également ! ![:-)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\n#### L’installation de l’outil\n\nAlors là attention, c’est très très compliqué ! Le seul truc a savoir c’est que l’installeur n’a pas fonctionné, j’ai du utiliser [la version zippée](http://old.r1ch.net/stuff/forcebindip/download/ForceBindIP-1.2a.zip). Téléchargez donc ce zip et extrayez-en les deux fichiers qu’il contient :\n\n- BindIP.dll\n- ForceBindIP.exe\n\nLa librairie **BindIP.dll** doit être copiée dans le dossier **C:\\Windows\\System32**, le fichier exécutable lui, peut être placé ou vous le souhaitez. Pour ma part je l’ai mis dans **C:\\Tools**.\n\nIl ne vous reste plus qu’à modifier la variable d’environnement **path** afin de pouvoir utilise le programme de manière plus souple.\n\n<span style=\"text-decoration: underline;\">Note :</span> Cette étape n’est pas obligatoire, si vous ne la faites pas, il suffira d’appeler le programme avec son chemin complet au lieu du seul nom de l’exécutable.\n\n \n\n#### Ajouter le dossier au « path »\n\n \n\nOuvrez un explorateur de fichier, faites un clic droit sur **Ce PC** et cliquez sur **Propriétés**.\n\n[![Forcer un programme à utiliser une carte réseau sur Windows](https://techan.fr/images/2015/08/screenshot.709.jpg)](https://techan.fr/images/2015/08/screenshot.709.jpg)\n\nSur la gauche de la fenêtre qui s’ouvre, cliquez sur **Paramètres système avancés**.\n\n \n\n[![Forcer un programme à utiliser une carte réseau sur Windows](https://techan.fr/images/2015/08/screenshot.710.jpg)](https://techan.fr/images/2015/08/screenshot.710.jpg)\n\nDans la nouvelle fenêtre, cliquez sur **Variables d’environnement…**.\n\n \n\n[![Forcer un programme à utiliser une carte réseau sur Windows](https://techan.fr/images/2015/08/screenshot.711.jpg)](https://techan.fr/images/2015/08/screenshot.711.jpg)\n\n \n\nScrollez jusqu’à voir la ligne de la variable **path** et sélectionnez la et cliquez sur **Modifier**. Une pop-up s’ouvre, allez jusqu’à la fin de la **Valeur de la variable** et ajoutez la chaine suivante :\n\n;C:\\Tools\n\nAdaptez ce chemin en fonction de là ou vous avez enregistré le l’exécutable **ForceBinIP.exe**.\n\n \n\n[![Forcer un programme à utiliser une carte réseau sur Windows](https://techan.fr/images/2015/08/screenshot.712.jpg)](https://techan.fr/images/2015/08/screenshot.712.jpg)\n\nValidez le tout, fermez votre session et rouvrez la pour que les modifications soient prisent en compte.\n\n \n\n\n## Forcer un programme à utiliser une carte réseau sur Windows\n\nMaintenant que ForceBindIP est installé sur votre machine, voici comment l’utiliser.\n\n \n\nTout d’abord, il va falloir identifier les différentes adresses IP attribuées à votre ordinateur. Pour cela, appuyez sur les touches **Windows** et **R** simultanément.\n\n \n\n[![Forcer un programme à utiliser une carte réseau sur Windows](https://techan.fr/images/2015/08/screenshot.714.jpg)](https://techan.fr/images/2015/08/screenshot.714.jpg)\n\nTapez **cmd** dans la pop-up et cliquez sur **OK**. Une invite de commandes s’ouvre, tapez la commande :\n\nipconfig /all\n\nCeci va lister les informations concernant toutes les cartes réseau de la machine avec leur IP.\n\n \n\n[![Forcer un programme à utiliser une carte réseau sur Windows](https://techan.fr/images/2015/08/screenshot.715.jpg)](https://techan.fr/images/2015/08/screenshot.715.jpg)\n\nNotez la valeur en face du libellé **Adresse IPv4**.\n\nMaintenant, configurons une application pour utiliser ForceBinIP. Je vais prendre l’exemple de mon Firefox. Je lance habituellement ce programme via le raccourci qui se trouve sur le Bureau, on va donc faire un clic droit dessus.\n\n \n\n[![Forcer un programme à utiliser une carte réseau sur Windows](https://techan.fr/images/2015/08/screenshot.713.jpg)](https://techan.fr/images/2015/08/screenshot.713.jpg)\n\nCliquez sur **Propriétés**.\n\n \n\n[![Forcer un programme à utiliser une carte réseau sur Windows](https://techan.fr/images/2015/08/screenshot.716.jpg)](https://techan.fr/images/2015/08/screenshot.716.jpg)\n\nC’est dans le champs **Cible** que tout va se jouer. Par défaut, ce champ ne contient que le chemin vers le binaire de Firefox, nous allons ajouter **ForceBindIP **juste avant.\n\n \n\n<span style=\"text-decoration: underline;\">Si vous avez configuré la variable **path** et que vous vous êtes reconnecté</span> modifiez le champ **Cible **pour qu’il ressemble à ceci :\n\nForceBindIP.exe <IP de la carte> \"C:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe\"\n\n<span style=\"text-decoration: underline;\">Si vous n’avez pas configuré la variable **path** ou que vous ne vous êtes pas reconnecté</span> modifiez le champ **Cible **pour qu’il ressemble à ceci :\n\nC:\\Tools\\ForceBindIP.exe <IP de la carte> \"C:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe\"\n\n \n\nValidez les changements de relancez Firefox !\n\nCette méthode peut être appliquée à bien d’autre programmes ! ","html":"<p>Une des choses un peu pénibles sur Windows, c’est qu’il est très difficile – voire impossible – de forcer un programme à utiliser une carte réseau spécifique. C’est un problème pour moi car sur mon serveur – qui est désormais sous Windows 10 – j’héberge mon Media Center Plex, Steam pour le streaming local et j’utilise également cette machine pour faire du surf sur Internet à distance. Le problème c’est que je ne souhaite pas « polluer » la connexion Ethernet de la machine, que je veux dédier à Plex, avec mon surf internet.</p>\n\n<p>Mon souhait était donc de forcer Plex à utiliser la carte Ethernet et Firefox la carte Wifi de la machine. La bonne nouvelle ? J’ai trouvé un petit programme qui permet de gérer ça assez facilement !!</p>\n\n<h2 id=\"forcebindip\">ForceBindIP</h2>\n\n<p>ForceBindIP, c’est le nom de cet utilitaire. Sur le <a href=\"http://old.r1ch.net/stuff/forcebindip/\">site de l’éditeur</a>, il est indiqué qu’il est compatible avec Windows NT/2000/XP/2003, pour ma part, j’ai testé sur Windows 10 cela fonctionne également ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":-)\" title=\"\" /></p>\n\n<h4 id=\"linstallationdeloutil\">L’installation de l’outil</h4>\n\n<p>Alors là attention, c’est très très compliqué ! Le seul truc a savoir c’est que l’installeur n’a pas fonctionné, j’ai du utiliser <a href=\"http://old.r1ch.net/stuff/forcebindip/download/ForceBindIP-1.2a.zip\">la version zippée</a>. Téléchargez donc ce zip et extrayez-en les deux fichiers qu’il contient :</p>\n\n<ul>\n<li>BindIP.dll</li>\n<li>ForceBindIP.exe</li>\n</ul>\n\n<p>La librairie <strong>BindIP.dll</strong> doit être copiée dans le dossier <strong>C:\\Windows\\System32</strong>, le fichier exécutable lui, peut être placé ou vous le souhaitez. Pour ma part je l’ai mis dans <strong>C:\\Tools</strong>.</p>\n\n<p>Il ne vous reste plus qu’à modifier la variable d’environnement <strong>path</strong> afin de pouvoir utilise le programme de manière plus souple.</p>\n\n<p><span style=\"text-decoration: underline;\">Note :</span> Cette étape n’est pas obligatoire, si vous ne la faites pas, il suffira d’appeler le programme avec son chemin complet au lieu du seul nom de l’exécutable.</p>\n\n<h4 id=\"ajouterledossieraupath\">Ajouter le dossier au « path »</h4>\n\n<p>Ouvrez un explorateur de fichier, faites un clic droit sur <strong>Ce PC</strong> et cliquez sur <strong>Propriétés</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.709.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.709.jpg\" alt=\"Forcer un programme à utiliser une carte réseau sur Windows\" title=\"\" /></a></p>\n\n<p>Sur la gauche de la fenêtre qui s’ouvre, cliquez sur <strong>Paramètres système avancés</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.710.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.710.jpg\" alt=\"Forcer un programme à utiliser une carte réseau sur Windows\" title=\"\" /></a></p>\n\n<p>Dans la nouvelle fenêtre, cliquez sur <strong>Variables d’environnement…</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.711.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.711.jpg\" alt=\"Forcer un programme à utiliser une carte réseau sur Windows\" title=\"\" /></a></p>\n\n<p>Scrollez jusqu’à voir la ligne de la variable <strong>path</strong> et sélectionnez la et cliquez sur <strong>Modifier</strong>. Une pop-up s’ouvre, allez jusqu’à la fin de la <strong>Valeur de la variable</strong> et ajoutez la chaine suivante :</p>\n\n<p>;C:\\Tools</p>\n\n<p>Adaptez ce chemin en fonction de là ou vous avez enregistré le l’exécutable <strong>ForceBinIP.exe</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.712.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.712.jpg\" alt=\"Forcer un programme à utiliser une carte réseau sur Windows\" title=\"\" /></a></p>\n\n<p>Validez le tout, fermez votre session et rouvrez la pour que les modifications soient prisent en compte.</p>\n\n<h2 id=\"forcerunprogrammeutiliserunecarterseausurwindows\">Forcer un programme à utiliser une carte réseau sur Windows</h2>\n\n<p>Maintenant que ForceBindIP est installé sur votre machine, voici comment l’utiliser.</p>\n\n<p>Tout d’abord, il va falloir identifier les différentes adresses IP attribuées à votre ordinateur. Pour cela, appuyez sur les touches <strong>Windows</strong> et <strong>R</strong> simultanément.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.714.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.714.jpg\" alt=\"Forcer un programme à utiliser une carte réseau sur Windows\" title=\"\" /></a></p>\n\n<p>Tapez <strong>cmd</strong> dans la pop-up et cliquez sur <strong>OK</strong>. Une invite de commandes s’ouvre, tapez la commande :</p>\n\n<p>ipconfig /all</p>\n\n<p>Ceci va lister les informations concernant toutes les cartes réseau de la machine avec leur IP.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.715.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.715.jpg\" alt=\"Forcer un programme à utiliser une carte réseau sur Windows\" title=\"\" /></a></p>\n\n<p>Notez la valeur en face du libellé <strong>Adresse IPv4</strong>.</p>\n\n<p>Maintenant, configurons une application pour utiliser ForceBinIP. Je vais prendre l’exemple de mon Firefox. Je lance habituellement ce programme via le raccourci qui se trouve sur le Bureau, on va donc faire un clic droit dessus.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.713.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.713.jpg\" alt=\"Forcer un programme à utiliser une carte réseau sur Windows\" title=\"\" /></a></p>\n\n<p>Cliquez sur <strong>Propriétés</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.716.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.716.jpg\" alt=\"Forcer un programme à utiliser une carte réseau sur Windows\" title=\"\" /></a></p>\n\n<p>C’est dans le champs <strong>Cible</strong> que tout va se jouer. Par défaut, ce champ ne contient que le chemin vers le binaire de Firefox, nous allons ajouter <em>*ForceBindIP *</em>juste avant.</p>\n\n<p><span style=\"text-decoration: underline;\">Si vous avez configuré la variable <strong>path</strong> et que vous vous êtes reconnecté</span> modifiez le champ <em>*Cible *</em>pour qu’il ressemble à ceci :</p>\n\n<p>ForceBindIP.exe <IP de la carte> \"C:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe\"</p>\n\n<p><span style=\"text-decoration: underline;\">Si vous n’avez pas configuré la variable <strong>path</strong> ou que vous ne vous êtes pas reconnecté</span> modifiez le champ <em>*Cible *</em>pour qu’il ressemble à ceci :</p>\n\n<p>C:\\Tools\\ForceBindIP.exe <IP de la carte> \"C:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe\"</p>\n\n<p>Validez les changements de relancez Firefox !</p>\n\n<p>Cette méthode peut être appliquée à bien d’autre programmes ! ","image":"https://techan.fr/images/2015/06/windows_10_logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-08-07T10:44:43.000Z","created_by":1,"updated_at":"2015-08-07T11:39:20.000Z","updated_by":1,"published_at":"2015-08-07T10:44:43.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":154,"uuid":"14ac51a3-b2ca-41dd-b9a3-d178f5c0fe29","title":"Empêcher Windows de rebooter automatiquement après une mise à jour","slug":"empecher-windows-de-rebooter-automatiquement-apres-une-mise-a-jour","markdown":"\nIl n’y a rien de plus ennuyeux que de devoir arrêter ce qu’on fait car Windows nous force a redémarrer après une mise à jour … Vous savez le petite fenêtre en base qui vous demande si vous voulez reporter le redémarrage ou non ..? Et bien sachez qu’on peut désactiver ce fonctionnement, voici comme s’y prendre.\n\n \n\n\n## La marche à suivre\n\nAppuyez sur la touche **Windows**.\n\n \n\n[![screenshot.662](https://techan.fr/images/2015/07/screenshot.662.jpg)](https://techan.fr/images/2015/07/screenshot.662.jpg)\n\nTapez **regedit** dans la zone de recherche.\n\n \n\n[![screenshot.663](https://techan.fr/images/2015/07/screenshot.663.jpg)](https://techan.fr/images/2015/07/screenshot.663.jpg)\n\nFaites un clic droit sur **regedit.exe** et cliquez sur **Exécuter en tant qu’administrateur**.\n\n \n\n[![screenshot.664](https://techan.fr/images/2015/07/screenshot.664.jpg)](https://techan.fr/images/2015/07/screenshot.664.jpg)\n\nCliquez sur **Oui**.\n\n \n\n[![Empêcher Windows de rebooter automatiquement après une mise à jour](https://techan.fr/images/2015/07/screenshot.665.jpg)](https://techan.fr/images/2015/07/screenshot.665.jpg)\n\n \n\nDépliez l’arborescence suivante : **HKEY_LOCAL_MACHINE\\SOFTWARE\\Policies\\Microsoft\\Windows\\WindowsUpdate\\AU**. Si comme dans mon cas les clefs **WindowsUpdate **et **AU** n’existent dans votre registre, créez les comme suit.\n\n \n\n[![Empêcher Windows de rebooter automatiquement après une mise à jour](https://techan.fr/images/2015/07/screenshot.666.jpg)](https://techan.fr/images/2015/07/screenshot.666.jpg)\n\nFaites une clic droit sur le niveau supérieur – **Windows** -, dépliez **Nouveau** et cliquez sur **Clé**. Nommez la **WindowsUpdate**.\n\n \n\n[![Empêcher Windows de rebooter automatiquement après une mise à jour](https://techan.fr/images/2015/07/screenshot.667.jpg)](https://techan.fr/images/2015/07/screenshot.667.jpg)\n\nFaites une clic droit sur la clef **WindowsUpdate**, dépliez **Nouveau** et cliquez sur **Clé**. Nommez la **AU**.\n\n \n\n[![Empêcher Windows de rebooter automatiquement après une mise à jour](https://techan.fr/images/2015/07/screenshot.668.jpg)](https://techan.fr/images/2015/07/screenshot.668.jpg)\n\n \n\nMaintenant que vous avez toute l’arborescence, faites un clic droit sur la clef **AU**, dépliez **Nouveau** et cliquez sur **Valeur DWORD 32 bits**. Nommez la **NoAutoRebootWithLoggedOnusers**.\n\n \n\n[![Empêcher Windows de rebooter automatiquement après une mise à jour](https://techan.fr/images/2015/07/screenshot.669.jpg)](https://techan.fr/images/2015/07/screenshot.669.jpg)\n\n \n\nDouble cliquez sur cette nouvelle valeur et renseignez **1 **dans le champ ** Données de la valeur**.\n\nUn reboot de la machine et vous ne serez plus embêté par le redémarrage intempestifs !\n\n \n\n\n##  Source\n\n- [lifehacker.com (Anglais)](http://lifehacker.com/stop-windows-from-restarting-your-computer-after-update-509712123)\n\n \n\n\n","html":"<p>Il n’y a rien de plus ennuyeux que de devoir arrêter ce qu’on fait car Windows nous force a redémarrer après une mise à jour … Vous savez le petite fenêtre en base qui vous demande si vous voulez reporter le redémarrage ou non ..? Et bien sachez qu’on peut désactiver ce fonctionnement, voici comme s’y prendre.</p>\n\n<h2 id=\"lamarchesuivre\">La marche à suivre</h2>\n\n<p>Appuyez sur la touche <strong>Windows</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/07/screenshot.662.jpg\"><img src=\"https://techan.fr/images/2015/07/screenshot.662.jpg\" alt=\"screenshot.662\" title=\"\" /></a></p>\n\n<p>Tapez <strong>regedit</strong> dans la zone de recherche.</p>\n\n<p><a href=\"https://techan.fr/images/2015/07/screenshot.663.jpg\"><img src=\"https://techan.fr/images/2015/07/screenshot.663.jpg\" alt=\"screenshot.663\" title=\"\" /></a></p>\n\n<p>Faites un clic droit sur <strong>regedit.exe</strong> et cliquez sur <strong>Exécuter en tant qu’administrateur</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/07/screenshot.664.jpg\"><img src=\"https://techan.fr/images/2015/07/screenshot.664.jpg\" alt=\"screenshot.664\" title=\"\" /></a></p>\n\n<p>Cliquez sur <strong>Oui</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/07/screenshot.665.jpg\"><img src=\"https://techan.fr/images/2015/07/screenshot.665.jpg\" alt=\"Empêcher Windows de rebooter automatiquement après une mise à jour\" title=\"\" /></a></p>\n\n<p>Dépliez l’arborescence suivante : <strong>HKEY<em>LOCAL</em>MACHINE\\SOFTWARE\\Policies\\Microsoft\\Windows\\WindowsUpdate\\AU</strong>. Si comme dans mon cas les clefs <strong>WindowsUpdate <em>*et *</em>AU</strong> n’existent dans votre registre, créez les comme suit.</p>\n\n<p><a href=\"https://techan.fr/images/2015/07/screenshot.666.jpg\"><img src=\"https://techan.fr/images/2015/07/screenshot.666.jpg\" alt=\"Empêcher Windows de rebooter automatiquement après une mise à jour\" title=\"\" /></a></p>\n\n<p>Faites une clic droit sur le niveau supérieur – <strong>Windows</strong> -, dépliez <strong>Nouveau</strong> et cliquez sur <strong>Clé</strong>. Nommez la <strong>WindowsUpdate</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/07/screenshot.667.jpg\"><img src=\"https://techan.fr/images/2015/07/screenshot.667.jpg\" alt=\"Empêcher Windows de rebooter automatiquement après une mise à jour\" title=\"\" /></a></p>\n\n<p>Faites une clic droit sur la clef <strong>WindowsUpdate</strong>, dépliez <strong>Nouveau</strong> et cliquez sur <strong>Clé</strong>. Nommez la <strong>AU</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/07/screenshot.668.jpg\"><img src=\"https://techan.fr/images/2015/07/screenshot.668.jpg\" alt=\"Empêcher Windows de rebooter automatiquement après une mise à jour\" title=\"\" /></a></p>\n\n<p>Maintenant que vous avez toute l’arborescence, faites un clic droit sur la clef <strong>AU</strong>, dépliez <strong>Nouveau</strong> et cliquez sur <strong>Valeur DWORD 32 bits</strong>. Nommez la <strong>NoAutoRebootWithLoggedOnusers</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/07/screenshot.669.jpg\"><img src=\"https://techan.fr/images/2015/07/screenshot.669.jpg\" alt=\"Empêcher Windows de rebooter automatiquement après une mise à jour\" title=\"\" /></a></p>\n\n<p>Double cliquez sur cette nouvelle valeur et renseignez <strong>1 <em>*dans le champ *</em> Données de la valeur</strong>.</p>\n\n<p>Un reboot de la machine et vous ne serez plus embêté par le redémarrage intempestifs !</p>\n\n<h2 id=\"source\"> Source</h2>\n\n<ul>\n<li><p><a href=\"http://lifehacker.com/stop-windows-from-restarting-your-computer-after-update-509712123\">lifehacker.com (Anglais)</a></p></li>\n</ul>","image":"https://techan.fr/images/2014/12/windows_logo_mini.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-08-07T11:37:43.000Z","created_by":1,"updated_at":"2015-08-07T11:37:43.000Z","updated_by":1,"published_at":"2015-08-07T11:37:43.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":155,"uuid":"2b674896-da7e-4212-8590-d3c33f120d83","title":"iOS 9 permet d'éditer les PDF","slug":"ios-9-permet-dediter-les-pdf","markdown":"\nLa prochaine version majeure du système d’exploitation mobile d’Apple – [iOS 9](https://www.apple.com/fr/ios/ios9-preview/) – n’est attendu que pour la rentrée prochaine, cependant il est déjà disponible en [version beta](https://appleseed.apple.com/sp/welcome).pour les plus courageux. Cette nouvelle version promet une [amélioration de la stabilité du système](https://www.apple.com/fr/ios/ios9-preview/#foundation) et une plus grande autonomie, notamment grâce au nouveau mode d’économie d’énergie. Il y a également, comme toujours, quelques nouveautés qui ne sont pas annoncées sur le site d’Apple. Charge aux utilisateurs de les découvrir au fur et à mesure de l’utilisation d’iOS. Etant curieux, j’ai installé la version beta sur mon iPhone et mon iPad, force est de constater que l’autonomie des appareils et <span style=\"text-decoration: underline;\">réellement</span> plus importante.\n\nVendredi, alors que je répondais à un mail, je suis tombé sur une des nouvelles fonctionnalités non annoncées. Il est possible d’éditer des fichiers PDF directement sur son périphérique mobile Apple. Ceci ne paye pas de mine, mais il est quand même applicable de pouvoir faire des ajouts mineurs dans un PDF directement depuis son téléphone et le renvoyer directement.\n\n\n## Editer des PDF avec iOS 9\n\n \n\n[![iOS 9 permet d'éditer les PDF](https://techan.fr/images/2015/08/IMG_0110.png)](https://techan.fr/images/2015/08/IMG_0110.png)\n\n \n\n \n\nComme je le disais, j’étais en train de consulter un mail lorsque je suis tombé sur cette fonctionnalité. J’ai ouvert le fichier afin d’en voir le contenu.\n\n \n\n[![iOS 9 permet d'éditer les PDF](https://techan.fr/images/2015/08/IMG_0111.png)](https://techan.fr/images/2015/08/IMG_0111.png)\n\n \n\nUne nouvelle icône en forme de boîte à outils a fait son apparition.\n\n \n\n[![iOS 9 permet d'éditer les PDF](https://techan.fr/images/2015/08/boite_a_outil.png)](https://techan.fr/images/2015/08/boite_a_outil.png)\n\n \n\nEn faisant un « tap » dessus, on entre en mode Annotation, ce qui offre plusieurs options.\n\n \n\n[![iOS 9 permet d'éditer les PDF](https://techan.fr/images/2015/08/IMG_0112.png)](https://techan.fr/images/2015/08/IMG_0112.png)\n\n \n\nOn peut ajouter des formes graphiques tracées à la main – lignes, cercles – ou bien du texte.\n\n \n\n[![iOS 9 permet d'éditer les PDF](https://techan.fr/images/2015/08/IMG_0114.png)](https://techan.fr/images/2015/08/IMG_0114.png)\n\n \n\nL’outil le plus utile selon moi est celui qui se trouve tout à droite, avec l’icône en forme de signature.\n\n \n\n[![iOS 9 permet d'éditer les PDF](https://techan.fr/images/2015/08/signature.png)](https://techan.fr/images/2015/08/signature.png)\n\n \n\nLorsqu’on entre dans ce mode pour la première fois, il propose d’ajouter une signature. Si on en a déjà enregistré une, il propose les signatures déjà enregistrées.\n\n \n\n[![iOS 9 permet d'éditer les PDF](https://techan.fr/images/2015/08/IMG_0115.png)](https://techan.fr/images/2015/08/IMG_0115.png)\n\n \n\nOn trace gracieusement sa signature avec le doigt sur l’écran, puis on valide avec OK.\n\n \n\n[![iOS 9 permet d'éditer les PDF](https://techan.fr/images/2015/08/IMG_0116.png)](https://techan.fr/images/2015/08/IMG_0116.png)\n\n \n\nUne fois la signature validée, l’outil l’ajoute sur le fichier PDF, libre à l’utilisateur de la déplacer ou il le souhaite dans le document ou d’en réduire la taille.\n\n \n\n[![iOS 9 permet d'éditer les PDF](https://techan.fr/images/2015/08/IMG_0117.png)](https://techan.fr/images/2015/08/IMG_0117.png)\n\n \n\n \n\nQuand les modifications du fichier sont terminées, Mail.app crée automatiquement une réponse au mail dans lequel le fichier était joint avec le nouveau fichier en pièce jointe.\n\n \n\n \n\n \n\n[![iOS 9 permet d'éditer les PDF](https://techan.fr/images/2015/08/IMG_0118.jpeg)](https://techan.fr/images/2015/08/IMG_0118.jpeg)\n\n \n\nVoila de quoi gagner pas mal de temps ! ![:-)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n\n","html":"<p>La prochaine version majeure du système d’exploitation mobile d’Apple – <a href=\"https://www.apple.com/fr/ios/ios9-preview/\">iOS 9</a> – n’est attendu que pour la rentrée prochaine, cependant il est déjà disponible en <a href=\"https://appleseed.apple.com/sp/welcome\">version beta</a>.pour les plus courageux. Cette nouvelle version promet une <a href=\"https://www.apple.com/fr/ios/ios9-preview/#foundation\">amélioration de la stabilité du système</a> et une plus grande autonomie, notamment grâce au nouveau mode d’économie d’énergie. Il y a également, comme toujours, quelques nouveautés qui ne sont pas annoncées sur le site d’Apple. Charge aux utilisateurs de les découvrir au fur et à mesure de l’utilisation d’iOS. Etant curieux, j’ai installé la version beta sur mon iPhone et mon iPad, force est de constater que l’autonomie des appareils et <span style=\"text-decoration: underline;\">réellement</span> plus importante.</p>\n\n<p>Vendredi, alors que je répondais à un mail, je suis tombé sur une des nouvelles fonctionnalités non annoncées. Il est possible d’éditer des fichiers PDF directement sur son périphérique mobile Apple. Ceci ne paye pas de mine, mais il est quand même applicable de pouvoir faire des ajouts mineurs dans un PDF directement depuis son téléphone et le renvoyer directement.</p>\n\n<h2 id=\"editerdespdfavecios9\">Editer des PDF avec iOS 9</h2>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0110.png\"><img src=\"https://techan.fr/images/2015/08/IMG_0110.png\" alt=\"iOS 9 permet d'éditer les PDF\" title=\"\" /></a></p>\n\n<p>Comme je le disais, j’étais en train de consulter un mail lorsque je suis tombé sur cette fonctionnalité. J’ai ouvert le fichier afin d’en voir le contenu.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0111.png\"><img src=\"https://techan.fr/images/2015/08/IMG_0111.png\" alt=\"iOS 9 permet d'éditer les PDF\" title=\"\" /></a></p>\n\n<p>Une nouvelle icône en forme de boîte à outils a fait son apparition.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/boite_a_outil.png\"><img src=\"https://techan.fr/images/2015/08/boite_a_outil.png\" alt=\"iOS 9 permet d'éditer les PDF\" title=\"\" /></a></p>\n\n<p>En faisant un « tap » dessus, on entre en mode Annotation, ce qui offre plusieurs options.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0112.png\"><img src=\"https://techan.fr/images/2015/08/IMG_0112.png\" alt=\"iOS 9 permet d'éditer les PDF\" title=\"\" /></a></p>\n\n<p>On peut ajouter des formes graphiques tracées à la main – lignes, cercles – ou bien du texte.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0114.png\"><img src=\"https://techan.fr/images/2015/08/IMG_0114.png\" alt=\"iOS 9 permet d'éditer les PDF\" title=\"\" /></a></p>\n\n<p>L’outil le plus utile selon moi est celui qui se trouve tout à droite, avec l’icône en forme de signature.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/signature.png\"><img src=\"https://techan.fr/images/2015/08/signature.png\" alt=\"iOS 9 permet d'éditer les PDF\" title=\"\" /></a></p>\n\n<p>Lorsqu’on entre dans ce mode pour la première fois, il propose d’ajouter une signature. Si on en a déjà enregistré une, il propose les signatures déjà enregistrées.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0115.png\"><img src=\"https://techan.fr/images/2015/08/IMG_0115.png\" alt=\"iOS 9 permet d'éditer les PDF\" title=\"\" /></a></p>\n\n<p>On trace gracieusement sa signature avec le doigt sur l’écran, puis on valide avec OK.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0116.png\"><img src=\"https://techan.fr/images/2015/08/IMG_0116.png\" alt=\"iOS 9 permet d'éditer les PDF\" title=\"\" /></a></p>\n\n<p>Une fois la signature validée, l’outil l’ajoute sur le fichier PDF, libre à l’utilisateur de la déplacer ou il le souhaite dans le document ou d’en réduire la taille.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0117.png\"><img src=\"https://techan.fr/images/2015/08/IMG_0117.png\" alt=\"iOS 9 permet d'éditer les PDF\" title=\"\" /></a></p>\n\n<p>Quand les modifications du fichier sont terminées, Mail.app crée automatiquement une réponse au mail dans lequel le fichier était joint avec le nouveau fichier en pièce jointe.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0118.jpeg\"><img src=\"https://techan.fr/images/2015/08/IMG_0118.jpeg\" alt=\"iOS 9 permet d'éditer les PDF\" title=\"\" /></a></p>\n\n<p>Voila de quoi gagner pas mal de temps ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":-)\" title=\"\" /></p>","image":"https://techan.fr/images/2015/08/ios9_icon_large.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-08-09T12:00:37.000Z","created_by":1,"updated_at":"2015-08-09T12:00:37.000Z","updated_by":1,"published_at":"2015-08-09T12:00:37.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":156,"uuid":"9ed30ad7-dced-4289-a4c4-a6d94646194e","title":"[Sponsorié] Test des protection d'écran DocPhone","slug":"sponsorie-test-des-protection-decran-docphone","markdown":"\nIl y a quelques temps une personne du site [DocPhone.org](http://www.docphone.org) m’a contacté pour que je teste leurs protection d’écran en verre trempé pour smartphone. Je dois dire que cela est bien tombé car la protection que j’utilisais alors – un film de protection de chez Spigen – était en train de rendre l’âme et de commençait à se décoller de tous les côtés. Les protections en verre trempé sont réputées plus résistantes et surtout plus agréable à l’usage.\n\nJe n’avais encore jamais utilisé de protection en verre trempé jusqu’alors. J’ai donc accepté la proposition.\n\n \n\nJe dois dire que je suis vraiment satisfait de ce produit jusque là, reste à voir comment il va tenir dans le temps. Le seul point négatif serait peut être le manque d’une documentation « imagée » dans le colis. Pour l’avoir il faut aller sur le site de [DocPhone.org](http://www.docphone.org/#video).\n\n \n\n\n## Le déballage\n\nLes protections sont livrées dans des envelopes signées [DocPhone.org](http://www.docphone.org). Les instructions d’installation sont fournies au verso des-dites enveloppes.\n\n[![[Sponsorié] Test des protection d'écran DocPhone](https://techan.fr/images/2015/08/IMG_0122-e1439120800694.jpg)](https://techan.fr/images/2015/08/IMG_0122-e1439120800694.jpg) [![[Sponsorié] Test des protection d'écran DocPhone](https://techan.fr/images/2015/08/IMG_0125-e1439120952477.jpg)](https://techan.fr/images/2015/08/IMG_0125-e1439120952477.jpg)\n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\nLe kit comprend :\n\n- Les protections d’écran dans des emballages translucides\n\n- Deux sachets scellés – nommés **Screen protector accesories** – qui contiennent une lingette micro-fibres pour nettoyer l’écran\n- Une pochette en papier contenant les lingettes imbibées de produit nettoyant.\n\n \n\n[![[Sponsorié] Test des protection d'écran DocPhone](https://techan.fr/images/2015/08/IMG_0123-e1439121131918.jpg)](https://techan.fr/images/2015/08/IMG_0123.jpg)\n\n \n\nVoici le contenu de la petite pochette en papier, deux lingettes nettoyantes et des stickers pour se débarrasser des dernières poussières récalcitrantes.\n\n \n\n[![[Sponsorié] Test des protection d'écran DocPhone](https://techan.fr/images/2015/08/IMG_0124-e1439121390233.jpg)](https://techan.fr/images/2015/08/IMG_0124-e1439121390233.jpg)\n\n \n\n\n## L’installation\n\nL’installation est extrêmement simple, à ma grande surprise. J’avais l’habitude de poser des films de protection qui eux nécessitent une attention toute particulière pour qu’il n’y ai pas de bulles entre le film et l’écran. Avec ces protections en verre trempé, il n’y a pas besoin de se soucier de ces bulles, et la protection est installée en moins de 5 minutes.\n\n \n\nTout d’abord, il faut commencer par bien nettoyer l’écran avec les lingettes imbibées, il ne doit plus y avoir de traces sur l’écran. Ensuite, séchez l’écran avec une lingette micro-fibres. L’écran doit être bien sec et sans poussière. Si des poussières demeurent ou se sont re-déposées sur l’écran, ôtez les avec les stickers.\n\n \n\nMaintenant que le téléphone est prêt, ôtez le film protecteur de la vitre en verre trempée. Positionnez cette vitre avec précision sur votre téléphone, les trous dans la vitre doivent concorder parfaitement avec les boutons et les capteurs de votre téléphone. Chassez l’air entre la vitre et le téléphone en glissant le doigt sur la protection. Et voilà !\n\n \n\n\n## Le « feeling »\n\nContrairement aux films protecteurs, j’ai l’impression d’utiliser mon téléphone sans perte de capacité tactile. Le touché est vraiment agréable avec cette [protection en verre trempé](http://www.docphone.org/#order).\n\n \n\n\n","html":"<p>Il y a quelques temps une personne du site <a href=\"http://www.docphone.org\">DocPhone.org</a> m’a contacté pour que je teste leurs protection d’écran en verre trempé pour smartphone. Je dois dire que cela est bien tombé car la protection que j’utilisais alors – un film de protection de chez Spigen – était en train de rendre l’âme et de commençait à se décoller de tous les côtés. Les protections en verre trempé sont réputées plus résistantes et surtout plus agréable à l’usage.</p>\n\n<p>Je n’avais encore jamais utilisé de protection en verre trempé jusqu’alors. J’ai donc accepté la proposition.</p>\n\n<p>Je dois dire que je suis vraiment satisfait de ce produit jusque là, reste à voir comment il va tenir dans le temps. Le seul point négatif serait peut être le manque d’une documentation « imagée » dans le colis. Pour l’avoir il faut aller sur le site de <a href=\"http://www.docphone.org/#video\">DocPhone.org</a>.</p>\n\n<h2 id=\"ledballage\">Le déballage</h2>\n\n<p>Les protections sont livrées dans des envelopes signées <a href=\"http://www.docphone.org\">DocPhone.org</a>. Les instructions d’installation sont fournies au verso des-dites enveloppes.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0122-e1439120800694.jpg\"><img src=\"https://techan.fr/images/2015/08/IMG_0122-e1439120800694.jpg\" alt=\"[Sponsorié] Test des protection d'écran DocPhone\" title=\"\" /></a> <a href=\"https://techan.fr/images/2015/08/IMG_0125-e1439120952477.jpg\"><img src=\"https://techan.fr/images/2015/08/IMG_0125-e1439120952477.jpg\" alt=\"[Sponsorié] Test des protection d'écran DocPhone\" title=\"\" /></a></p>\n\n<p>Le kit comprend :</p>\n\n<ul>\n<li><p>Les protections d’écran dans des emballages translucides</p></li>\n<li><p>Deux sachets scellés – nommés <strong>Screen protector accesories</strong> – qui contiennent une lingette micro-fibres pour nettoyer l’écran</p></li>\n<li><p>Une pochette en papier contenant les lingettes imbibées de produit nettoyant.</p></li>\n</ul>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0123.jpg\"><img src=\"https://techan.fr/images/2015/08/IMG_0123-e1439121131918.jpg\" alt=\"[Sponsorié] Test des protection d'écran DocPhone\" title=\"\" /></a></p>\n\n<p>Voici le contenu de la petite pochette en papier, deux lingettes nettoyantes et des stickers pour se débarrasser des dernières poussières récalcitrantes.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0124-e1439121390233.jpg\"><img src=\"https://techan.fr/images/2015/08/IMG_0124-e1439121390233.jpg\" alt=\"[Sponsorié] Test des protection d'écran DocPhone\" title=\"\" /></a></p>\n\n<h2 id=\"linstallation\">L’installation</h2>\n\n<p>L’installation est extrêmement simple, à ma grande surprise. J’avais l’habitude de poser des films de protection qui eux nécessitent une attention toute particulière pour qu’il n’y ai pas de bulles entre le film et l’écran. Avec ces protections en verre trempé, il n’y a pas besoin de se soucier de ces bulles, et la protection est installée en moins de 5 minutes.</p>\n\n<p>Tout d’abord, il faut commencer par bien nettoyer l’écran avec les lingettes imbibées, il ne doit plus y avoir de traces sur l’écran. Ensuite, séchez l’écran avec une lingette micro-fibres. L’écran doit être bien sec et sans poussière. Si des poussières demeurent ou se sont re-déposées sur l’écran, ôtez les avec les stickers.</p>\n\n<p>Maintenant que le téléphone est prêt, ôtez le film protecteur de la vitre en verre trempée. Positionnez cette vitre avec précision sur votre téléphone, les trous dans la vitre doivent concorder parfaitement avec les boutons et les capteurs de votre téléphone. Chassez l’air entre la vitre et le téléphone en glissant le doigt sur la protection. Et voilà !</p>\n\n<h2 id=\"lefeeling\">Le « feeling »</h2>\n\n<p>Contrairement aux films protecteurs, j’ai l’impression d’utiliser mon téléphone sans perte de capacité tactile. Le touché est vraiment agréable avec cette <a href=\"http://www.docphone.org/#order\">protection en verre trempé</a>.</p>","image":"https://techan.fr/images/2015/08/docphone_logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-08-09T14:09:18.000Z","created_by":1,"updated_at":"2015-08-09T14:09:18.000Z","updated_by":1,"published_at":"2015-08-09T14:09:18.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":157,"uuid":"81effe53-2543-45b8-9871-9cb14cd7a607","title":"Finis les congés, Bonjour la reprise !","slug":"finis-les-conges-bonjour-la-reprise","markdown":"\nMe voilà de retour au bureau après quelques congés très appréciables et appréciés dans la Cité des Doges ! Pour prolonger un petit peu les vacances, je vous offre quelques photos ![:-)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\n[![Finis les congés, Bonjour la reprise !](https://techan.fr/images/2015/09/IMG_0514.jpg)](https://techan.fr/images/2015/09/IMG_0514.jpg)\n\n \n\n[![Finis les congés, Bonjour la reprise !](https://techan.fr/images/2015/09/IMG_0476.jpg)](https://techan.fr/images/2015/09/IMG_0476.jpg)\n\n \n\n[![Finis les congés, Bonjour la reprise !](https://techan.fr/images/2015/09/IMG_0437.jpg)](https://techan.fr/images/2015/09/IMG_0437.jpg)\n\n \n\n[![Finis les congés, Bonjour la reprise !](https://techan.fr/images/2015/09/IMG_0425.jpg)](https://techan.fr/images/2015/09/IMG_0425.jpg)\n\n \n\n[![Finis les congés, Bonjour la reprise !](https://techan.fr/images/2015/09/IMG_0405.jpg)](https://techan.fr/images/2015/09/IMG_0405.jpg)\n\nBonne journée ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n\n","html":"<p>Me voilà de retour au bureau après quelques congés très appréciables et appréciés dans la Cité des Doges ! Pour prolonger un petit peu les vacances, je vous offre quelques photos <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":-)\" title=\"\" /></p>\n\n<p><a href=\"https://techan.fr/images/2015/09/IMG_0514.jpg\"><img src=\"https://techan.fr/images/2015/09/IMG_0514.jpg\" alt=\"Finis les congés, Bonjour la reprise !\" title=\"\" /></a></p>\n\n<p><a href=\"https://techan.fr/images/2015/09/IMG_0476.jpg\"><img src=\"https://techan.fr/images/2015/09/IMG_0476.jpg\" alt=\"Finis les congés, Bonjour la reprise !\" title=\"\" /></a></p>\n\n<p><a href=\"https://techan.fr/images/2015/09/IMG_0437.jpg\"><img src=\"https://techan.fr/images/2015/09/IMG_0437.jpg\" alt=\"Finis les congés, Bonjour la reprise !\" title=\"\" /></a></p>\n\n<p><a href=\"https://techan.fr/images/2015/09/IMG_0425.jpg\"><img src=\"https://techan.fr/images/2015/09/IMG_0425.jpg\" alt=\"Finis les congés, Bonjour la reprise !\" title=\"\" /></a></p>\n\n<p><a href=\"https://techan.fr/images/2015/09/IMG_0405.jpg\"><img src=\"https://techan.fr/images/2015/09/IMG_0405.jpg\" alt=\"Finis les congés, Bonjour la reprise !\" title=\"\" /></a></p>\n\n<p>Bonne journée ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>","image":"https://techan.fr/images/2015/09/venise_petit.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-09-09T09:00:13.000Z","created_by":1,"updated_at":"2015-09-09T09:12:53.000Z","updated_by":1,"published_at":"2015-09-09T09:00:13.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":158,"uuid":"91ac75ce-6331-4342-a14b-f23a50fa03cd","title":"Redémarrer un ordinateur Windows à distance","slug":"redemarrer-un-ordinateur-windows-a-distance-2","markdown":"\nIl est pratique de pouvoir redémarrer un ordinateur à distance surtout quand ce dernier se trouve dans un placard, sans clavier ni souris, voire même sans écran. Avec Linux la chose est très aisée, une petite connexion SSH, la commande reboot et le tour est joué ! Mais lorsque la machine tourne sous Windows la chose est un peu moins facile.\n\n \n\nIl existe toute fois une commande DOS – équivalente à la commande **shutdown** sous Linux – qui permet de redémarrer, ou d’arrêter l’ordinateur.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1712\" style=\"width: 664px\">[![Redémarrer un ordinateur Windows à distance](https://techan.fr/images/2015/09/screenshot.840.jpg)](https://techan.fr/images/2015/09/screenshot.840.jpg)Page d’aide de la commande shutdown.\n\n</div> \n\nComme indiqué dans l’aide, cette commande peut être utilisée sur l’ordinateur local ou bien sur une machine distante. La syntaxe pour l’utiliser sur un Windows distant est la suivante :\n\nshutdown -r -f -m \\\\<NOM DE L'ORDINATEUR> -t 0\n\n \n\nL’option **-r** précise que l’on souhaite que l’ordinateur redémarre après l’arrêt, le flag **-f** quant à lui force l’action, l’option **-t** précise le temps – en secondes – dans lequel l’action sera réalisée ici j’ai mis **0** pour que ce soit fait immédiatement. Enfin, l’option **-m** est celle qui nous intéresse le plus, elle permet de spécifier la cible de la commande – l’ordinateur distant – notez que le nom de l’ordinateur est préfixé des deux « back slash » – **\\\\** – très Windowsiens.\n\n \n\nSi comme dans mon cas cette commande vous renvoie une erreur d’authentification, il faut ajouter une commande supplémentaire avant de lancer le **shutdown**. On va s’identifier sur un partage spécial de l’ordinateur distant avant de lancer la commande. Cette opération se fait en utilisant la commande **NET USE** comme pour monter un partage réseau. Il vous faudra spécifier :\n\n- Le nom de l’ordinateur distant\n- Le mot de passe du compte administrateur de la machine que l’on souhaite utiliser\n- Le nom de ce compte préfixé du nom de l’ordinateur distant séparés par un **\\**.\n\n \n\nNET USE \\\\<NOM DE L'ORDINATEUR>\\IPC$ <mot de passe de l'utilisater> /USER:<NOM DE L'ORDINATEUR>\\<Identifiant de l'utilisateur> shutdown -r -f -m \\\\<NOM DE L'ORDINATEUR> -t 0\n\n \n\nEt voilà, vous pouvez maintenant vous passer de connecter un clavier et une souris pour redémarrer des ordinateurs fonctionnant sous Windows !\n\n \n\n\n","html":"<p>Il est pratique de pouvoir redémarrer un ordinateur à distance surtout quand ce dernier se trouve dans un placard, sans clavier ni souris, voire même sans écran. Avec Linux la chose est très aisée, une petite connexion SSH, la commande reboot et le tour est joué ! Mais lorsque la machine tourne sous Windows la chose est un peu moins facile.</p>\n\n<p>Il existe toute fois une commande DOS – équivalente à la commande <strong>shutdown</strong> sous Linux – qui permet de redémarrer, ou d’arrêter l’ordinateur.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1712\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/09/screenshot.840.jpg\"><img src=\"https://techan.fr/images/2015/09/screenshot.840.jpg\" alt=\"Redémarrer un ordinateur Windows à distance\" title=\"\" /></a>Page d’aide de la commande shutdown.</p>\n\n<p></div> </p>\n\n<p>Comme indiqué dans l’aide, cette commande peut être utilisée sur l’ordinateur local ou bien sur une machine distante. La syntaxe pour l’utiliser sur un Windows distant est la suivante :</p>\n\n<p>shutdown -r -f -m \\<NOM DE L'ORDINATEUR> -t 0</p>\n\n<p>L’option <strong>-r</strong> précise que l’on souhaite que l’ordinateur redémarre après l’arrêt, le flag <strong>-f</strong> quant à lui force l’action, l’option <strong>-t</strong> précise le temps – en secondes – dans lequel l’action sera réalisée ici j’ai mis <strong>0</strong> pour que ce soit fait immédiatement. Enfin, l’option <strong>-m</strong> est celle qui nous intéresse le plus, elle permet de spécifier la cible de la commande – l’ordinateur distant – notez que le nom de l’ordinateur est préfixé des deux « back slash » – <strong>\\</strong> – très Windowsiens.</p>\n\n<p>Si comme dans mon cas cette commande vous renvoie une erreur d’authentification, il faut ajouter une commande supplémentaire avant de lancer le <strong>shutdown</strong>. On va s’identifier sur un partage spécial de l’ordinateur distant avant de lancer la commande. Cette opération se fait en utilisant la commande <strong>NET USE</strong> comme pour monter un partage réseau. Il vous faudra spécifier :</p>\n\n<ul>\n<li>Le nom de l’ordinateur distant</li>\n<li>Le mot de passe du compte administrateur de la machine que l’on souhaite utiliser</li>\n<li><p>Le nom de ce compte préfixé du nom de l’ordinateur distant séparés par un <em>**</em>.</p></li>\n</ul>\n\n<p>NET USE \\<NOM DE L'ORDINATEUR>\\IPC$ <mot de passe de l'utilisater> /USER:<NOM DE L'ORDINATEUR>\\<Identifiant de l'utilisateur> shutdown -r -f -m \\<NOM DE L'ORDINATEUR> -t 0</p>\n\n<p>Et voilà, vous pouvez maintenant vous passer de connecter un clavier et une souris pour redémarrer des ordinateurs fonctionnant sous Windows !</p>","image":"https://techan.fr/images/2015/06/windows_10_logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-09-09T10:45:04.000Z","created_by":1,"updated_at":"2015-09-09T08:55:07.000Z","updated_by":1,"published_at":"2015-09-09T10:45:04.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":159,"uuid":"cd77bd15-c6d0-4d98-9c4d-d5af17b4a48b","title":"Des bons plans pour vos forfaits mobile et ADSL","slug":"des-bons-plans-pour-vos-forfaits-mobile-et-adsl","markdown":"\nCes dernières semaines les bons plans pleuvent pour les forfaits mobiles et pour les offres ADSL. Les promotions sur les forfaits mobile qui m’ont le plus marquées sont celles faites par RED, l’opérateur low cost de SFR. Ce dernier propose depuis plusieurs jours déjà des forfaits à prix cassés dans le cadre des ses [journées guerrières](http://red.sfr.fr/forfait-mobile-pas-cher.html#sfrintid=Red_mobile_forfait-sans-engagement). Hier c’était au tour de Virgin d’annoncer une belle promotion sur sa box ADSL !\n\nLes offres RED proposées dans le cadre des journées guerrières sont disponible jusqu’au 15 Septembre.\n\n \n\n[![Des bons plans pour vos forfaits mobile et ADSL](https://techan.fr/images/2015/09/screenshot.844.jpg)](https://techan.fr/images/2015/09/screenshot.844.jpg)\n\n[L’offre de Virgin](http://www.virginmobile.fr/offre-box) quant à elle est disponible jusqu’au 14 Septembre.\n\n[![Des bons plans pour vos forfaits mobile et ADSL](https://techan.fr/images/2015/09/screenshot.843.jpg)](https://techan.fr/images/2015/09/screenshot.843.jpg)\n\n \n\nCerise sur le gâteau, si vous avez un compte iGraal, chacun de ces marchands offre un cashback lors de votre commande, de quoi vous faire économiser quelques euros supplémentaires ! (voir [Bon plans à gogo](https://techan.fr/bons-plans-a-gogo/))\n\n\n","html":"<p>Ces dernières semaines les bons plans pleuvent pour les forfaits mobiles et pour les offres ADSL. Les promotions sur les forfaits mobile qui m’ont le plus marquées sont celles faites par RED, l’opérateur low cost de SFR. Ce dernier propose depuis plusieurs jours déjà des forfaits à prix cassés dans le cadre des ses <a href=\"http://red.sfr.fr/forfait-mobile-pas-cher.html#sfrintid=Red_mobile_forfait-sans-engagement\">journées guerrières</a>. Hier c’était au tour de Virgin d’annoncer une belle promotion sur sa box ADSL !</p>\n\n<p>Les offres RED proposées dans le cadre des journées guerrières sont disponible jusqu’au 15 Septembre.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/screenshot.844.jpg\"><img src=\"https://techan.fr/images/2015/09/screenshot.844.jpg\" alt=\"Des bons plans pour vos forfaits mobile et ADSL\" title=\"\" /></a></p>\n\n<p><a href=\"http://www.virginmobile.fr/offre-box\">L’offre de Virgin</a> quant à elle est disponible jusqu’au 14 Septembre.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/screenshot.843.jpg\"><img src=\"https://techan.fr/images/2015/09/screenshot.843.jpg\" alt=\"Des bons plans pour vos forfaits mobile et ADSL\" title=\"\" /></a></p>\n\n<p>Cerise sur le gâteau, si vous avez un compte iGraal, chacun de ces marchands offre un cashback lors de votre commande, de quoi vous faire économiser quelques euros supplémentaires ! (voir <a href=\"https://techan.fr/bons-plans-a-gogo/\">Bon plans à gogo</a>)</p>","image":"https://techan.fr/images/2015/01/MMA-Cochon-tirelire.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-09-10T10:28:59.000Z","created_by":1,"updated_at":"2015-09-10T10:30:32.000Z","updated_by":1,"published_at":"2015-09-10T10:28:59.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":160,"uuid":"82dc9e13-2a27-4f5e-aaed-ed5ef9b4bc48","title":"Avec iOS9 vous devrez vous présenter à Siri avant de l'interpeler !","slug":"avec-ios9-vous-devrez-vous-presenter-a-siri-avant-de-linterpeler","markdown":"\nVoici du neuf dans iOS9 – haha – vous devrez maintenant faire un brin de configuration afin de réactiver la fonction « Dis Siri » de votre iBidule. La mise à jour vers le nouvel iOS désactive cette fonction, au moment ou vous demandez sa réactivation, Siri va vous demandez de vous présenter. Vous devrez dire quelques mots ou phrases afin qu’il reconnaisse votre voix. Siri sera ensuite votre assistant exclusif et ne répondra plus aux sollicitations de votre voisin de métro ou de votre collègue blagueur.\n\nVous trouverez ci-dessous quelques captures d’écran illustrant le processus de configuration de la fonction « Dis Siri ». Notez que la fonction est désactivée après la mise à niveau vers iOS 9.\n\n \n\n[![Avec iOS9 vous devrez vous présenter à Siri avant de l'interpeler !](https://techan.fr/images/2015/09/image61.png)](https://techan.fr/images/2015/09/image61.png)\n\nLorsque l’on réactive la fonction, iOS vous demande de configurer « Dis Siri » afin qu’il puisse reconnaitre votre voix.\n\n \n\n[![Avec iOS9 vous devrez vous présenter à Siri avant de l'interpeler !](https://techan.fr/images/2015/09/image5.png)](https://techan.fr/images/2015/09/image5.png)\n\nLes premières étapes consistent à répéter « Dis Siri ».\n\n \n\n[![Avec iOS9 vous devrez vous présenter à Siri avant de l'interpeler !](https://techan.fr/images/2015/09/image1.png)](https://techan.fr/images/2015/09/image1.png)\n\nPar la suite, on demande à Siri le temps qu’il fait.\n\n \n\n[![Avec iOS9 vous devrez vous présenter à Siri avant de l'interpeler !](https://techan.fr/images/2015/09/image2.png)](https://techan.fr/images/2015/09/image2.png)\n\n \n\nEt dans un dernier, on lui rappelle qui est le boss ","html":"<p>Voici du neuf dans iOS9 – haha – vous devrez maintenant faire un brin de configuration afin de réactiver la fonction « Dis Siri » de votre iBidule. La mise à jour vers le nouvel iOS désactive cette fonction, au moment ou vous demandez sa réactivation, Siri va vous demandez de vous présenter. Vous devrez dire quelques mots ou phrases afin qu’il reconnaisse votre voix. Siri sera ensuite votre assistant exclusif et ne répondra plus aux sollicitations de votre voisin de métro ou de votre collègue blagueur.</p>\n\n<p>Vous trouverez ci-dessous quelques captures d’écran illustrant le processus de configuration de la fonction « Dis Siri ». Notez que la fonction est désactivée après la mise à niveau vers iOS 9.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/image61.png\"><img src=\"https://techan.fr/images/2015/09/image61.png\" alt=\"Avec iOS9 vous devrez vous présenter à Siri avant de l'interpeler !\" title=\"\" /></a></p>\n\n<p>Lorsque l’on réactive la fonction, iOS vous demande de configurer « Dis Siri » afin qu’il puisse reconnaitre votre voix.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/image5.png\"><img src=\"https://techan.fr/images/2015/09/image5.png\" alt=\"Avec iOS9 vous devrez vous présenter à Siri avant de l'interpeler !\" title=\"\" /></a></p>\n\n<p>Les premières étapes consistent à répéter « Dis Siri ».</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/image1.png\"><img src=\"https://techan.fr/images/2015/09/image1.png\" alt=\"Avec iOS9 vous devrez vous présenter à Siri avant de l'interpeler !\" title=\"\" /></a></p>\n\n<p>Par la suite, on demande à Siri le temps qu’il fait.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/image2.png\"><img src=\"https://techan.fr/images/2015/09/image2.png\" alt=\"Avec iOS9 vous devrez vous présenter à Siri avant de l'interpeler !\" title=\"\" /></a></p>\n\n<p>Et dans un dernier, on lui rappelle qui est le boss ","image":"https://techan.fr/images/2015/08/ios9_icon_large.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-09-10T16:55:51.000Z","created_by":1,"updated_at":"2015-09-10T16:55:51.000Z","updated_by":1,"published_at":"2015-09-10T16:55:51.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":161,"uuid":"29b7c751-f05c-47ee-8e60-65c096b404c6","title":"[Saga] La saga continue, maintenant chez Scaleway","slug":"saga-la-saga-continue-maintenant-chez-scaleway","markdown":"\nAprès un été difficile, auquel j’ai bien cru que le site ne survivrait pas (voir [La fin est proche](https://techan.fr/la-fin-est-proche/)), j’ai finalement trouvé une solution pour héberger le blog pour un coût raisonnable. Jusqu’à la semaine il était hébergé chez [Online.net](http://www.online.net/fr), le service qu’offre cet herbergeur est plus que correct, mais le prix devenait un peu trop élevé – plus de 20€ mensuel …\n\nJ’avais déjà essayé de réduire le coût de cet hébergement en passant sur des VPS mais l’expérience n’a pas été concluante et les performances n’étaient pas au rendez-vous (voir [[Saga] Bascule chez Online.net](https://techan.fr/saga-bascule-chez-online-net/)). J’avais donc abandonné [PulsHeberg](https://www.pulseheberg.com) que je jugeais trop peu performant et trop peu mature pour [Online.net](http://www.online.net/fr) et j’avais alors souscrit une offre de Dédibox.\n\n \n\n \n\n[![[Saga] la saga continue, maintenant chez Scaleway](https://techan.fr/images/2015/09/IMG_0615.jpg)](https://techan.fr/images/2015/09/IMG_0615.jpg)\n\n \n\nJ’ai redécouvert il y a peu l’offre de [Scaleway](https://www.scaleway.com/fr/pricing/), une filiale d’Online.net qui propose désormais des serveurs basés sur des processeurs ARMv7 facturés à l’heure où pour 2,99€ par mois. J’avais déjà testé ce concept pendant la phase de bêta et j’avais été séduit, mais les prix étaient un peu élevés, jusqu’à ce que ces derniers baissent récemment.\n\n \n\n> Read more about the 70% price slash on our blog post, the C1 is now the most affordable dedicated cloud server! [https://t.co/yQwaV1MNqC](https://t.co/yQwaV1MNqC)\n> \n> — scaleway (@scaleway) [September 2, 2015](https://twitter.com/scaleway/status/639095015696953344)\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>\n\n \n\nLe principe est simple, vous disposez d’une interface administration depuis laquelle vous pouvez créer jusqu’à 10 machines – cette milite peut être augmentée en contactant le support. Chacune de ses machines peut utiliser l’une des nombreuses distributions Linux mises à disposition par Scaleway ou une « InstantApp », c’est à dire un Linux avec une application pré-installée – comme WordPress, PrestaShop, ou Minecraft par exemple. Le temps de déploiement de ces machines est très court, en deux minutes vous avez accès à la bête – un quad cœurs avec 2 Go de RAM.\n\n \n\n[![IMG_0616](https://techan.fr/images/2015/09/IMG_0616-e1442817922572.png)](https://techan.fr/images/2015/09/IMG_0616-e1442817922572.png)\n\n \n\nLe site [techan.fr](https://techan.fr) est actuellement hébergé par l’une de ces machines C1 de chez Scaleway. Qu’en pensez-vous ? ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n\n","html":"<p>Après un été difficile, auquel j’ai bien cru que le site ne survivrait pas (voir <a href=\"https://techan.fr/la-fin-est-proche/\">La fin est proche</a>), j’ai finalement trouvé une solution pour héberger le blog pour un coût raisonnable. Jusqu’à la semaine il était hébergé chez <a href=\"http://www.online.net/fr\">Online.net</a>, le service qu’offre cet herbergeur est plus que correct, mais le prix devenait un peu trop élevé – plus de 20€ mensuel …</p>\n\n<p>J’avais déjà essayé de réduire le coût de cet hébergement en passant sur des VPS mais l’expérience n’a pas été concluante et les performances n’étaient pas au rendez-vous (voir <a href=\"https://techan.fr/saga-bascule-chez-online-net/\">[Saga] Bascule chez Online.net</a>). J’avais donc abandonné <a href=\"https://www.pulseheberg.com\">PulsHeberg</a> que je jugeais trop peu performant et trop peu mature pour <a href=\"http://www.online.net/fr\">Online.net</a> et j’avais alors souscrit une offre de Dédibox.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/IMG_0615.jpg\"><img src=\"https://techan.fr/images/2015/09/IMG_0615.jpg\" alt=\"[Saga] la saga continue, maintenant chez Scaleway\" title=\"\" /></a></p>\n\n<p>J’ai redécouvert il y a peu l’offre de <a href=\"https://www.scaleway.com/fr/pricing/\">Scaleway</a>, une filiale d’Online.net qui propose désormais des serveurs basés sur des processeurs ARMv7 facturés à l’heure où pour 2,99€ par mois. J’avais déjà testé ce concept pendant la phase de bêta et j’avais été séduit, mais les prix étaient un peu élevés, jusqu’à ce que ces derniers baissent récemment.</p>\n\n<blockquote>\n  <p>Read more about the 70% price slash on our blog post, the C1 is now the most affordable dedicated cloud server! <a href=\"https://t.co/yQwaV1MNqC\">https://t.co/yQwaV1MNqC</a></p>\n  \n  <p>— scaleway (@scaleway) <a href=\"https://twitter.com/scaleway/status/639095015696953344\">September 2, 2015</a></p>\n</blockquote>\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>\n\n<p>Le principe est simple, vous disposez d’une interface administration depuis laquelle vous pouvez créer jusqu’à 10 machines – cette milite peut être augmentée en contactant le support. Chacune de ses machines peut utiliser l’une des nombreuses distributions Linux mises à disposition par Scaleway ou une « InstantApp », c’est à dire un Linux avec une application pré-installée – comme WordPress, PrestaShop, ou Minecraft par exemple. Le temps de déploiement de ces machines est très court, en deux minutes vous avez accès à la bête – un quad cœurs avec 2 Go de RAM.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/IMG_0616-e1442817922572.png\"><img src=\"https://techan.fr/images/2015/09/IMG_0616-e1442817922572.png\" alt=\"IMG_0616\" title=\"\" /></a></p>\n\n<p>Le site <a href=\"https://techan.fr\">techan.fr</a> est actuellement hébergé par l’une de ces machines C1 de chez Scaleway. Qu’en pensez-vous ? <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>","image":"https://techan.fr/images/2015/09/IMG_0614.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-09-20T13:05:33.000Z","created_by":1,"updated_at":"2015-09-21T14:28:52.000Z","updated_by":1,"published_at":"2015-09-20T13:05:33.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":162,"uuid":"8082d7ea-5e8e-492f-8127-059d252078de","title":"Une faille dans iOS 9 permet d'accéder aux contacts et aux photos","slug":"une-faille-dans-ios-9-permet-dacceder-aux-contacts-et-aux-photos","markdown":"\nLe site [Mac4Ever](http://www.mac4ever.com) révèle ce matin une faille d’iOS 9 qui permet à une personne ayant un accès physique à votre iPhone ou à votre iPad d’accéder à vos contacts et à vos photos – les vidéos ne peuvent être lues. Cet accès est possible même si votre iBidule est protégé par un code ou par TouchID. Une manipulation simple – mais un peu longue et fastidieuse permet au malandrin de voir vos précieuses informations\n\n \n\n> iOS 9 : une faille donne accès aux contacts et aux photos malgré le verrouillage [http://t.co/ioCzFDWCTS](http://t.co/ioCzFDWCTS) [pic.twitter.com/PesCVKpLtC](http://t.co/PesCVKpLtC)\n> \n> — Mac4Ever.com (@Mac4ever) [September 21, 2015](https://twitter.com/Mac4ever/status/645849692941717504)\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>\n\n \n\nLa manipulation est la suivante :\n\n- Saisissez 4 codes incorrects pour le déverrouillage\n- Saisissez 3 chiffres au hasard à la cinquième tentative, puis maintenez appuyé le bouton « Home » pour activer Siri et entrez sans attendre le 4ème chiffre\n- L’iPhone sera bloqué pendant une minute suite aux multiples codes faux, mais Siri restera accessible\n- Demandez à Siri quelle heure il est\n- Touchez l’icone de l’horloge pour ouvrir l’application idoine\n- Touchez le bouton « + » en haut à droite de la fenêtre, puis saisissez un nom de ville qui n’existe pas dans le champ de sélection\n- Sélectionnez le nom tout juste saisi et choisissez l’option « Partager »\n- Touchez l’icone de l’app Message dans les options de partage\n- Saisissez un nom absent de votre répertoire dans le champ du destinataire du message, puis appuyez sur « Retour »\n- Touchez deux fois le nom juste saisi pour ouvrir la page d’infos\n- Touchez l’option « Créer un nouveau contact »\n- Touchez l’option « Ajouter une photo », puis « Choisir une photo »\n- Vous avez ainsi accès à la pellicule du smartphone, sans avoir eu besoin de saisir le code d’accès et alors que l’appareil est encore verrouillé\n\n \n\n**Il est toute fois possible d’empêcher ce comportement non souhaité – et non souhaitable – et désactivant l’utilisation de Siri lorsque le téléphone est verrouillé, via le menu « Touch ID et code » des Paramètres.**\n\n \n\n[![Une faille dans iOS 9 permet d'accéder aux contacts et aux photos](https://techan.fr/images/2015/09/ios9_faille_photos_contacts.png)](https://techan.fr/images/2015/09/ios9_faille_photos_contacts.png)\n\n \n\n\n","html":"<p>Le site <a href=\"http://www.mac4ever.com\">Mac4Ever</a> révèle ce matin une faille d’iOS 9 qui permet à une personne ayant un accès physique à votre iPhone ou à votre iPad d’accéder à vos contacts et à vos photos – les vidéos ne peuvent être lues. Cet accès est possible même si votre iBidule est protégé par un code ou par TouchID. Une manipulation simple – mais un peu longue et fastidieuse permet au malandrin de voir vos précieuses informations</p>\n\n<blockquote>\n  <p>iOS 9 : une faille donne accès aux contacts et aux photos malgré le verrouillage <a href=\"http://t.co/ioCzFDWCTS\">http://t.co/ioCzFDWCTS</a> <a href=\"http://t.co/PesCVKpLtC\">pic.twitter.com/PesCVKpLtC</a></p>\n  \n  <p>— Mac4Ever.com (@Mac4ever) <a href=\"https://twitter.com/Mac4ever/status/645849692941717504\">September 21, 2015</a></p>\n</blockquote>\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>\n\n<p>La manipulation est la suivante :</p>\n\n<ul>\n<li>Saisissez 4 codes incorrects pour le déverrouillage</li>\n<li>Saisissez 3 chiffres au hasard à la cinquième tentative, puis maintenez appuyé le bouton « Home » pour activer Siri et entrez sans attendre le 4ème chiffre</li>\n<li>L’iPhone sera bloqué pendant une minute suite aux multiples codes faux, mais Siri restera accessible</li>\n<li>Demandez à Siri quelle heure il est</li>\n<li>Touchez l’icone de l’horloge pour ouvrir l’application idoine</li>\n<li>Touchez le bouton « + » en haut à droite de la fenêtre, puis saisissez un nom de ville qui n’existe pas dans le champ de sélection</li>\n<li>Sélectionnez le nom tout juste saisi et choisissez l’option « Partager »</li>\n<li>Touchez l’icone de l’app Message dans les options de partage</li>\n<li>Saisissez un nom absent de votre répertoire dans le champ du destinataire du message, puis appuyez sur « Retour »</li>\n<li>Touchez deux fois le nom juste saisi pour ouvrir la page d’infos</li>\n<li>Touchez l’option « Créer un nouveau contact »</li>\n<li>Touchez l’option « Ajouter une photo », puis « Choisir une photo »</li>\n<li><p>Vous avez ainsi accès à la pellicule du smartphone, sans avoir eu besoin de saisir le code d’accès et alors que l’appareil est encore verrouillé</p></li>\n</ul>\n\n<p><strong>Il est toute fois possible d’empêcher ce comportement non souhaité – et non souhaitable – et désactivant l’utilisation de Siri lorsque le téléphone est verrouillé, via le menu « Touch ID et code » des Paramètres.</strong></p>\n\n<p><a href=\"https://techan.fr/images/2015/09/ios9_faille_photos_contacts.png\"><img src=\"https://techan.fr/images/2015/09/ios9_faille_photos_contacts.png\" alt=\"Une faille dans iOS 9 permet d'accéder aux contacts et aux photos\" title=\"\" /></a></p>","image":"https://techan.fr/images/2015/08/ios9_icon_large.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-09-21T10:15:15.000Z","created_by":1,"updated_at":"2015-10-27T11:22:05.000Z","updated_by":1,"published_at":"2015-09-21T10:15:15.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":164,"uuid":"b72a8112-f669-462a-99f7-2e8d0b9f370a","title":"Rome2Rio une App pour globe-trotters","slug":"rome2rio-une-app-pour-globe-trotters","markdown":"\nLorsque l’on a la chance de voyager à l’étranger, la première difficulté rencontrée – outre la barrière de la langue – est bien souvent de se rendre d’un point A à un point B. Il est souvent compliqué et il est rarement aisé de savoir quel moyen de transport est le moins cher ou le plus rapide …\n\nPour pallier à cela, je vous présente donc [Rome2Rio](https://itunes.apple.com/fr/app/rome2rio-rail-air-road-sea/id569793256?mt=8) [Rome2rio Pty Ltd, *Gratuit*], une application qui m’a été très précieuse lors de mes congés à Venise (voir [Finis les congés, Bonjour la reprise](https://techan.fr/finis-les-conges-bonjour-la-reprise/)). Cet outil vous permet d’avoir une idée assez précise des moyens de transports disponibles et du coût qu’ils représentent. Dans le cas ou il n’y aurait pas de transports disponibles, vous pouvez également utiliser cette application pour vous repérer, mieux vaut tout de même préférer une vraie application GPS dans ce cas là.\n\nVoici un petit exemple en images, vous venez d’atterrir à l’aéroport Marco Polo de Venise et vous souhaitez vous rendre dans Venise. Vous lancez l’application Rome2Rio et vous faites une recherche d’itinéraire, comme vous le feriez avec votre application GPS habituelle.\n\n \n\n[![Rome2Rio une App pour globe-trotters](https://techan.fr/images/2015/09/image2-1.png)](https://techan.fr/images/2015/09/image11.png)\n\nL’application vous liste alors les différentes possibilités qui s’offrent à vous que ce soit à pieds, en bus, par ferry ou en taxi. Vous avez également une estimation du coût de chacun de ces moyens de transport et le temps estimé de votre trajet.\n\n \n\n[![Rome2Rio une App pour globe-trotters](https://techan.fr/images/2015/09/image11.png)](https://techan.fr/images/2015/09/image11.png)\n\nCe service est également disponible sur [le site internet de Rome2Rio](http://www.rome2rio.com/fr).\n\n\n","html":"<p>Lorsque l’on a la chance de voyager à l’étranger, la première difficulté rencontrée – outre la barrière de la langue – est bien souvent de se rendre d’un point A à un point B. Il est souvent compliqué et il est rarement aisé de savoir quel moyen de transport est le moins cher ou le plus rapide …</p>\n\n<p>Pour pallier à cela, je vous présente donc <a href=\"https://itunes.apple.com/fr/app/rome2rio-rail-air-road-sea/id569793256?mt=8\">Rome2Rio</a> [Rome2rio Pty Ltd, <em>Gratuit</em>], une application qui m’a été très précieuse lors de mes congés à Venise (voir <a href=\"https://techan.fr/finis-les-conges-bonjour-la-reprise/\">Finis les congés, Bonjour la reprise</a>). Cet outil vous permet d’avoir une idée assez précise des moyens de transports disponibles et du coût qu’ils représentent. Dans le cas ou il n’y aurait pas de transports disponibles, vous pouvez également utiliser cette application pour vous repérer, mieux vaut tout de même préférer une vraie application GPS dans ce cas là.</p>\n\n<p>Voici un petit exemple en images, vous venez d’atterrir à l’aéroport Marco Polo de Venise et vous souhaitez vous rendre dans Venise. Vous lancez l’application Rome2Rio et vous faites une recherche d’itinéraire, comme vous le feriez avec votre application GPS habituelle.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/image11.png\"><img src=\"https://techan.fr/images/2015/09/image2-1.png\" alt=\"Rome2Rio une App pour globe-trotters\" title=\"\" /></a></p>\n\n<p>L’application vous liste alors les différentes possibilités qui s’offrent à vous que ce soit à pieds, en bus, par ferry ou en taxi. Vous avez également une estimation du coût de chacun de ces moyens de transport et le temps estimé de votre trajet.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/image11.png\"><img src=\"https://techan.fr/images/2015/09/image11.png\" alt=\"Rome2Rio une App pour globe-trotters\" title=\"\" /></a></p>\n\n<p>Ce service est également disponible sur <a href=\"http://www.rome2rio.com/fr\">le site internet de Rome2Rio</a>.</p>","image":"https://techan.fr/images/2015/09/IMG_0629.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-09-21T18:55:37.000Z","created_by":1,"updated_at":"2015-09-22T11:44:40.000Z","updated_by":1,"published_at":"2015-09-21T18:55:37.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":165,"uuid":"92b74a99-19f6-44f8-a214-a57654dbb72b","title":"OSMC avec PleXBMC et le Replay Francais sur Raspberry PI 2","slug":"osmc-avec-plexbmc-et-le-replay-francais-sur-raspberry-pi-2","markdown":"\nMe voilà l’heureux propriétaire de deux nouvelles [Rapsberry PI](https://www.amazon.fr/gp/product/B01CYQJP9O/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&camp=1642&creative=6746&creativeASIN=B01CYQJP9O&linkCode=as2&tag=techan0f-21), ces petites nouvelles vont remplacer – avantageusement – la box TV fournie par mon fournisseur d’accès à internet. Comme je dispose d’un serveur Plex, il aurait été logique que j’installe la distribution [Rasplex](http://www.rasplex.com/) sur mes petites PI. Rasplex est une distribution basée sur OpenELEC sur laquelle est implantée le client Plex – Plex Home Theater. Cette distribution est très très agréable a utiliser et fonctionne à merveille, mais dans mon cas, je souhaitais pouvoir accéder aux sites de replay depuis mes télévisions, ce que Plex et donc Rasplex ne proposent pas.\n\n \n\nJ’avais remarqué que plusieurs addons intéressants existaient pour Kodi – anciennement XMBC – notamment un qui permet d’accéder au serveur Plex via Kodi – PleXBMC et un seconde qui permet d’accéder aux vidéos en Replay – FReplay. C’est donc pour cela que j’ai opté pour [OSMC](https://osmc.tv/), une distribution pour la PI basée sur Debian et embarquant Kodi.\n\nJe vais décrire ici comment disposer d’OSMC avec PleXBMC et le Replay Francais sur Raspberry PI 2.\n\n\n## Installation d’OSMC sur la PI\n\nLe processus d’installation d’OSMC est très simple et peut se depuis n’importe quel système d’exploitation. Les étapes sont simples et un installeur va vous guider. Voire dans la partie **Sources** pour le lien de téléchargement.\n\n**Note :** Il est conseillé par OSMC de disposer d'un <a rel=\"nofollow\" href=\"https://www.amazon.fr/gp/product/B013UDL5RU/ref=as_li_tl?ie=UTF8&camp=1642&creative=6746&creativeASIN=B013UDL5RU&linkCode=as2&tag=techan0f-21\">carte mémoire microSDHC de classe 10</a><img src=\"http://ir-fr.amazon-adsystem.com/e/ir?t=techan0f-21&l=as2&o=8&a=B013UDL5RU\" width=\"1\" height=\"1\" border=\"0\" alt=\"\" style=\"border:none !important; margin:0px !important;\" />, ceci permet à la [Rapsberry PI](https://www.amazon.fr/gp/product/B01CYQJP9O/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&camp=1642&creative=6746&creativeASIN=B01CYQJP9O&linkCode=as2&tag=techan0f-21) de réaliser des lecture/écriture performantes.\n\n\n[![OSMC avec PleXBMC et le Replay Francais sur Raspberry PI 2](https://techan.fr/images/2015/09/winstaller.png)](https://techan.fr/images/2015/09/winstaller.png)\n\nLorsque que votre [Rapsberry PI](https://www.amazon.fr/gp/product/B01CYQJP9O/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&camp=1642&creative=6746&creativeASIN=B01CYQJP9O&linkCode=as2&tag=techan0f-21) est correctement installé et qu’OSMC a démarré pour la première fois, récupérer l’adresse IP de votre PI.\n\n\n## Installation des addons\n\nPour cela, connectez-vous en SSH sur votre PI, vous pouvez utiliser pour cela le programme [PuTTY](http://the.earth.li/~sgtatham/putty/latest/x86/putty.exe).\n\nLe login par défaut est **osmc** et le mot de passe par défaut est **osmc**.\n\n \n\nTout d’abord, faisons quelques mises à jour du système.\n\n    sudo apt-get update sudo apt-get upgrade sudo apt-get dist-upgrade\n\n \n\nNous allons maintenant télécharger les addons directement sur la PI.\n\n    wget https://github.com/hippojay/plugin.video.plexbmc/archive/helix.zip\n    wget https://github.com/hippojay/script.plexbmc.helper/archive/master.zip -O script.plexbmc.helper.zip\n    wget https://github.com/pecinko/skin.amber/archive/master.zip -O amber.zip\n    wget http://media-passion.fr/addons/Download.php/plugin.video.freplay/plugin.video.freplay-0.5.5.zip\n\n \n\nPuis activer les addons dans cet ordre :\n\n1. helix.zip\n2. script.plexbmc.helper.zip\n3. amber.zip\n4. plugin.video.freplay-0.5.5.zip\n\n \n\nLa marche à suivre pour installer les plugins est la suivante. Depuis les paramètres de Kodi, allez dans la section **Extensions** puis dans l’options **Installer des extensions**. Ensuite de faire :\n\n1. Installer depuis un fichier ZIP\n2. Choisr « Depuis le dossier personnel »\n3. Sélectionner l’addon et il s’installe.\n\n \n\nLorsque vous installer le thème **Amber**, Kodi va vous demander si vous souhaiter utiliser ce thème, répondez **oui**.\n\n \n\nLorsque tout est installé, vous utiliserez alors le thème **Amber**, naviguer dans l’interface jusqu’à la section **Paramètres**, appuyer sur la flèche vers le bas du clavier pour sélectionner l’option **Aller vers Plex**, validez avec **Entrée** et le tour est joué !\n\n \n\n\n## Ajouter du swap\n\nAjouter du swap sur OSMC permet d’accroitre un peu les perfomances du système en lui ajoutant de la mémoire vive supplémentaire – moins performante car placée sur la carte SD.\n\n \n\nVoici les actions a réaliser pour ajouter du swap. Tout d’abord, il faudra vous connecter à la PI en SSH et lancer les commandes suivantes.\n\n \n\n    sudo dd if=/dev/zero of=/swap count=2097152\n    sudo mkswap /swap\n    sudo chmod 600 /swap\n\n \n\nÉditez le fichier **/etc/fstab.**\n\n    sudo vi /etc/fstab\n\nAjoutez la ligne suivante à la fin de ce fichier.\n\n    /swap none swap defaults,_netdev,nobootwait 0 0\n\n \n\nEditez le fichier **/etc/init.d/swap**.\n\n    sudo vi /etc/init.d/swap\n\nAjoutez-y le contenu suivant.\n\n    #!/bin/bash\n    ### BEGIN INIT INFO\n    # Provides: mountswap\n    # Required-Start: $network $local_fs\n    # Required-Stop: $local_fs\n    # Default-Start: 2 3 4 5\n    # Default-Stop: 0 1 6\n    # X-Start-After: nbd-client\n    # Short-Description: Workaround to mount an NBD device as swap OS device. IMPORTANT: add '_netdev' mount option to the swap device in /etc/fstab \n    ### END INIT INFO\n    . /lib/lsb/init-functions\n    case \"${1:-''}\" in 'start') log_daemon_msg \"Activating swap devices\" /sbin/swapon -a [ $? -eq 0 ] && log_end_msg 0 || log_end_msg 1 ;; esac\n\n \n\nOn rend le script exécutable et on active le swap !\n\n    sudo chmod +x /etc/init.d/swap sudo swapon -a\n\n \n\nLa commande suivante permet de vérifier que le swap est bien actif sur le système.\n\n    sudo free -m\n    total used free shared buffers cached\n    Mem: 2023 1867 156 57 134 1232\n    -/+ buffers/cache: 500 1522\n    Swap: 1023 0 1023\n\n \n\n \n\n\n## Sources\n\n- [ilogblog.wordpress.com (Anglais)](https://ilogblog.wordpress.com/2015/06/03/osmc-with-plexbmc/)\n- [OSMC – Download](https://osmc.tv/download/)\n\n\n","html":"<p>Me voilà l’heureux propriétaire de deux nouvelles <a href=\"https://www.amazon.fr/gp/product/B01CYQJP9O/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=1642&amp;creative=6746&amp;creativeASIN=B01CYQJP9O&amp;linkCode=as2&amp;tag=techan0f-21\">Rapsberry PI</a>, ces petites nouvelles vont remplacer – avantageusement – la box TV fournie par mon fournisseur d’accès à internet. Comme je dispose d’un serveur Plex, il aurait été logique que j’installe la distribution <a href=\"http://www.rasplex.com/\">Rasplex</a> sur mes petites PI. Rasplex est une distribution basée sur OpenELEC sur laquelle est implantée le client Plex – Plex Home Theater. Cette distribution est très très agréable a utiliser et fonctionne à merveille, mais dans mon cas, je souhaitais pouvoir accéder aux sites de replay depuis mes télévisions, ce que Plex et donc Rasplex ne proposent pas.</p>\n\n<p>J’avais remarqué que plusieurs addons intéressants existaient pour Kodi – anciennement XMBC – notamment un qui permet d’accéder au serveur Plex via Kodi – PleXBMC et un seconde qui permet d’accéder aux vidéos en Replay – FReplay. C’est donc pour cela que j’ai opté pour <a href=\"https://osmc.tv/\">OSMC</a>, une distribution pour la PI basée sur Debian et embarquant Kodi.</p>\n\n<p>Je vais décrire ici comment disposer d’OSMC avec PleXBMC et le Replay Francais sur Raspberry PI 2.</p>\n\n<h2 id=\"installationdosmcsurlapi\">Installation d’OSMC sur la PI</h2>\n\n<p>Le processus d’installation d’OSMC est très simple et peut se depuis n’importe quel système d’exploitation. Les étapes sont simples et un installeur va vous guider. Voire dans la partie <strong>Sources</strong> pour le lien de téléchargement.</p>\n\n<p><strong>Note :</strong> Il est conseillé par OSMC de disposer d'un <a rel=\"nofollow\" href=\"https://www.amazon.fr/gp/product/B013UDL5RU/ref=as_li_tl?ie=UTF8&amp;camp=1642&amp;creative=6746&amp;creativeASIN=B013UDL5RU&amp;linkCode=as2&amp;tag=techan0f-21\">carte mémoire microSDHC de classe 10</a><img src=\"http://ir-fr.amazon-adsystem.com/e/ir?t=techan0f-21&amp;l=as2&amp;o=8&amp;a=B013UDL5RU\" width=\"1\" height=\"1\" border=\"0\" alt=\"\" style=\"border:none !important; margin:0px !important;\" />, ceci permet à la <a href=\"https://www.amazon.fr/gp/product/B01CYQJP9O/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=1642&amp;creative=6746&amp;creativeASIN=B01CYQJP9O&amp;linkCode=as2&amp;tag=techan0f-21\">Rapsberry PI</a> de réaliser des lecture/écriture performantes.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/winstaller.png\"><img src=\"https://techan.fr/images/2015/09/winstaller.png\" alt=\"OSMC avec PleXBMC et le Replay Francais sur Raspberry PI 2\" title=\"\" /></a></p>\n\n<p>Lorsque que votre <a href=\"https://www.amazon.fr/gp/product/B01CYQJP9O/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=1642&amp;creative=6746&amp;creativeASIN=B01CYQJP9O&amp;linkCode=as2&amp;tag=techan0f-21\">Rapsberry PI</a> est correctement installé et qu’OSMC a démarré pour la première fois, récupérer l’adresse IP de votre PI.</p>\n\n<h2 id=\"installationdesaddons\">Installation des addons</h2>\n\n<p>Pour cela, connectez-vous en SSH sur votre PI, vous pouvez utiliser pour cela le programme <a href=\"http://the.earth.li/~sgtatham/putty/latest/x86/putty.exe\">PuTTY</a>.</p>\n\n<p>Le login par défaut est <strong>osmc</strong> et le mot de passe par défaut est <strong>osmc</strong>.</p>\n\n<p>Tout d’abord, faisons quelques mises à jour du système.</p>\n\n<pre><code>sudo apt-get update sudo apt-get upgrade sudo apt-get dist-upgrade\n</code></pre>\n\n<p>Nous allons maintenant télécharger les addons directement sur la PI.</p>\n\n<pre><code>wget https://github.com/hippojay/plugin.video.plexbmc/archive/helix.zip\nwget https://github.com/hippojay/script.plexbmc.helper/archive/master.zip -O script.plexbmc.helper.zip\nwget https://github.com/pecinko/skin.amber/archive/master.zip -O amber.zip\nwget http://media-passion.fr/addons/Download.php/plugin.video.freplay/plugin.video.freplay-0.5.5.zip\n</code></pre>\n\n<p>Puis activer les addons dans cet ordre :</p>\n\n<ol>\n<li>helix.zip  </li>\n<li>script.plexbmc.helper.zip  </li>\n<li>amber.zip  </li>\n<li><p>plugin.video.freplay-0.5.5.zip</p></li>\n</ol>\n\n<p>La marche à suivre pour installer les plugins est la suivante. Depuis les paramètres de Kodi, allez dans la section <strong>Extensions</strong> puis dans l’options <strong>Installer des extensions</strong>. Ensuite de faire :</p>\n\n<ol>\n<li>Installer depuis un fichier ZIP  </li>\n<li>Choisr « Depuis le dossier personnel »  </li>\n<li><p>Sélectionner l’addon et il s’installe.</p></li>\n</ol>\n\n<p>Lorsque vous installer le thème <strong>Amber</strong>, Kodi va vous demander si vous souhaiter utiliser ce thème, répondez <strong>oui</strong>.</p>\n\n<p>Lorsque tout est installé, vous utiliserez alors le thème <strong>Amber</strong>, naviguer dans l’interface jusqu’à la section <strong>Paramètres</strong>, appuyer sur la flèche vers le bas du clavier pour sélectionner l’option <strong>Aller vers Plex</strong>, validez avec <strong>Entrée</strong> et le tour est joué !</p>\n\n<h2 id=\"ajouterduswap\">Ajouter du swap</h2>\n\n<p>Ajouter du swap sur OSMC permet d’accroitre un peu les perfomances du système en lui ajoutant de la mémoire vive supplémentaire – moins performante car placée sur la carte SD.</p>\n\n<p>Voici les actions a réaliser pour ajouter du swap. Tout d’abord, il faudra vous connecter à la PI en SSH et lancer les commandes suivantes.</p>\n\n<pre><code>sudo dd if=/dev/zero of=/swap count=2097152\nsudo mkswap /swap\nsudo chmod 600 /swap\n</code></pre>\n\n<p>Éditez le fichier <strong>/etc/fstab.</strong></p>\n\n<pre><code>sudo vi /etc/fstab\n</code></pre>\n\n<p>Ajoutez la ligne suivante à la fin de ce fichier.</p>\n\n<pre><code>/swap none swap defaults,_netdev,nobootwait 0 0\n</code></pre>\n\n<p>Editez le fichier <strong>/etc/init.d/swap</strong>.</p>\n\n<pre><code>sudo vi /etc/init.d/swap\n</code></pre>\n\n<p>Ajoutez-y le contenu suivant.</p>\n\n<pre><code>#!/bin/bash\n### BEGIN INIT INFO\n# Provides: mountswap\n# Required-Start: $network $local_fs\n# Required-Stop: $local_fs\n# Default-Start: 2 3 4 5\n# Default-Stop: 0 1 6\n# X-Start-After: nbd-client\n# Short-Description: Workaround to mount an NBD device as swap OS device. IMPORTANT: add '_netdev' mount option to the swap device in /etc/fstab \n### END INIT INFO\n. /lib/lsb/init-functions\ncase \"${1:-''}\" in 'start') log_daemon_msg \"Activating swap devices\" /sbin/swapon -a [ $? -eq 0 ] &amp;&amp; log_end_msg 0 || log_end_msg 1 ;; esac\n</code></pre>\n\n<p>On rend le script exécutable et on active le swap !</p>\n\n<pre><code>sudo chmod +x /etc/init.d/swap sudo swapon -a\n</code></pre>\n\n<p>La commande suivante permet de vérifier que le swap est bien actif sur le système.</p>\n\n<pre><code>sudo free -m\ntotal used free shared buffers cached\nMem: 2023 1867 156 57 134 1232\n-/+ buffers/cache: 500 1522\nSwap: 1023 0 1023\n</code></pre>\n\n<h2 id=\"sources\">Sources</h2>\n\n<ul>\n<li><a href=\"https://ilogblog.wordpress.com/2015/06/03/osmc-with-plexbmc/\">ilogblog.wordpress.com (Anglais)</a></li>\n<li><a href=\"https://osmc.tv/download/\">OSMC – Download</a></li>\n</ul>","image":"https://techan.fr/images/2015/06/Raspi_Colour_R.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-09-23T11:17:16.000Z","created_by":1,"updated_at":"2016-12-12T13:05:21.000Z","updated_by":1,"published_at":"2015-09-23T11:17:16.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":166,"uuid":"31b87d6d-c90c-40ad-a553-5b15942baaeb","title":"Virgin Mobile prend ses clients pour des pigeons","slug":"virgin-mobile-prend-ses-clients-pour-des-pigeons","markdown":"\nIl y a 15 jours, je vous donnais des bons plans pour des forfaits mobiles et ADSL – les offres sont maintenant terminées – (voir [Des bons plans pour vos forfaits mobiles et ADSL](https://techan.fr/des-bons-plans-pour-vos-forfaits-mobile-et-adsl/)). Soucieux de faire des économies, j’ai souscris à l’offre de Virgin Mobile qui proposait une box ADSL pour 1,99€ par mois pendant 12 mois. Ce prix m’a attiré vu le prix de l’ADSL chez Free avec la FreeBox Révolution.\n\nJusque là, tout va bien, je souscris, ils me prélèvent, je reçois ma Box et j’attends patiemment l’activation de ma ligne par Virgin. J’avais un débit correct – pour de l’ADSL – chez Free, il montait régulièrement à 1,9 Mo/s et ne descendait jamais en dessous de 1,6 Mo/s. Avant de souscrire j’ai fait un test d’éligibilité chez Virgin, par acquis de conscience. Virgin annonçait un débit pouvant aller jusqu’à 14  Mb/s, pas très loin donc de ce que j’avais chez Free – 1,9 Mo/s correspondant à 15,2 Mb/s.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1871\" style=\"width: 510px\">[![Virgin Mobile prend ses clients pour des pigeons](https://techan.fr/images/2015/09/eligibilité.png)](https://techan.fr/images/2015/09/eligibilité.png)Débit annoncé par Virgin jusqu’à. 14 Mb/s\n\n</div> \n\nCependant, la réalité est bien loin de ça … Voici un test de débit que j’ai réalisé sur ma ligne Free, celui ci montre un débit honorable de quasiment 14 Mb/s.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1877\" style=\"width: 510px\">[![Virgin Mobile prend ses clients pour des pigeons](https://techan.fr/images/2015/09/IMG_0641.png)](https://techan.fr/images/2015/09/IMG_0641.png)Test de débit sur la ligne Free\n\n</div>Et maintenant, le même test mais depuis la ligne Virgin Mobile, avec le même équipement, rien n’a changé chez moi, à part la Box. Et paf, deux fois moins de débit …\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1878\" style=\"width: 510px\">[![Virgin Mobile prend ses clients pour des pigeons](https://techan.fr/images/2015/09/IMG_0642.png)](https://techan.fr/images/2015/09/IMG_0642.png)Test de débit sur la ligne Virgin Mobile\n\n</div> \n\nDéçu, j’ai entrepris des recherches sur internet pour savoir ce qu’il en était, et force est de constater que je ne suis pas le seul à avoir des problèmes de débit avec Virgin Mobile. Il faut savoir – j’ai appris plein de choses lors de ces recherches – que pour se connecter à Internet, votre Box dispose de plusieurs types de modulations. Chacune de ces options a ses avantages et ses inconvénients, il faut tout d’abord que votre ligne soit éligible pour pouvoir en utiliser certains – comme l’ADSL 2+ par exemple. En fonction du type de modulation utilisé, vous aurez également plus ou moins de débit.\n\n \n\nSachez que par défaut, Virgin Mobile force votre Box a utiliser la modulation G.DMT et ceci même si votre ligne peut supporter des modulations bien plus avantageuses pour vous. D’après les multiples témoignages sur le forum de la communauté Virgin Mobile, des utilisateurs ont pu bénéficier de l’ADSL 2+ en se plaignant au service client de Virgin Mobile. Un utilisateur – mick2207 – rapporte même cette déclaration troublante d’un conseiller Virgin Mobile :\n\n> **La personne m’a indiqué que même si la ligne permettait plus, « la politique commerciale de Virgin était de proposer le strict****minimum » pour éviter tout problème technique !**\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1873\" style=\"width: 664px\">[![Virgin Mobile prend ses clients pour des pigeons](https://techan.fr/images/2015/09/virgin_service_minimum.png)](https://techan.fr/images/2015/09/virgin_service_minimum.png)[Lien vers le message sur la communauté Virgin Mobile](http://communaute.virginmobile.fr/t5/La-Virgin-Box-au-quotidien/Comment-arriver-%C3%A0-passer-en-ADSL2/td-p/188434/page/3)\n\n</div> \n\nOutré par cette politique scandaleuse, j’ai laissé un message “musclé” en réponse au précédent post.\n\n \n\n[![Virgin Mobile prend ses clients pour des pigeons](https://techan.fr/images/2015/09/virgin_mon_message.png)](https://techan.fr/images/2015/09/virgin_mon_message.png)\n\nCroyez-moi ou pas, 30 minutes après ce message ma box se synchronisait en ADSL 2+ … Mais il ne faut pas trop rêver non plus, le débit est toujours le même … J’en ai donc parlé à plusieurs collègues – qui ont travaillé chez Orange et un autre opérateur ADSL – et chacune de ces personnes m’a rapporté des pratiques identiques. Lorsqu’un client souscrivait à une Box, le débit “max” était estimé en fonction de plusieurs critères – comme la distance avec le DSLAM par exemple – puis était bridé à cette valeur maximale et ce même si la ligne aurait pu supporter un débit plus important. Ils m’ont également raconté qu’ils pouvaient “augmenter” le débit de leurs amis d’un simple clic et qu’ils le faisaient par fois pour des clients qui râlaient trop sur leur débit.\n\n \n\n[![passage_en_adsl2+](https://techan.fr/images/2015/09/passage_en_adsl2-.jpg)](https://techan.fr/images/2015/09/passage_en_adsl2-.jpg)\n\n \n\nChez Virgin Mobile, cela paraît encore pire, quelles que soient les caractéristiques de votre ligne, vous n’aurez que le minimum, à savoir le type de modulation qui ne permet pas de dépasser 8M/s – soit 1 Mo/s grand max … Pas mal de clients se plaignent donc au service client pour passer à un débit supérieur et l’obtiennent ! Mais il semble que cette modification ne soit pas gravée dans le marbre, en effet certains utilisateurs témoignent également d’une perte subite de débit, et constatent que leur Box a été bridée de nouveau… Pire encore, les utilisateurs <span style=\"text-decoration: underline;\">remercient</span> le service client de le fournir la <span style=\"text-decoration: underline;\">totalité</span> du service auquel ils ont souscrit …\n\nBref, du coup j’ai rappelé Free, le technicien était surpris de la chute de débit mais a – très gentiment – lancé le recâblage de ma ligne chez Free. Je compte bien également faire jouer le « Satisfait ou Remboursé de Virgin Mobile.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1884\" style=\"width: 166px\">[![Virgin Mobile prend ses clients pour des pigeons](https://techan.fr/images/2015/09/virgin_satisfait_rembourse.png)](https://techan.fr/images/2015/09/virgin_satisfait_rembourse.png)[Lien vers le formulaire](http://www.virginmobile.fr/media/virgin/promotions/pdf/adsl-coupon-satisfaitourembourse.pdf)\n\n</div> \n\nTout ceci n’est « Veryment » pas très sérieux …\n\n\n","html":"<p>Il y a 15 jours, je vous donnais des bons plans pour des forfaits mobiles et ADSL – les offres sont maintenant terminées – (voir <a href=\"https://techan.fr/des-bons-plans-pour-vos-forfaits-mobile-et-adsl/\">Des bons plans pour vos forfaits mobiles et ADSL</a>). Soucieux de faire des économies, j’ai souscris à l’offre de Virgin Mobile qui proposait une box ADSL pour 1,99€ par mois pendant 12 mois. Ce prix m’a attiré vu le prix de l’ADSL chez Free avec la FreeBox Révolution.</p>\n\n<p>Jusque là, tout va bien, je souscris, ils me prélèvent, je reçois ma Box et j’attends patiemment l’activation de ma ligne par Virgin. J’avais un débit correct – pour de l’ADSL – chez Free, il montait régulièrement à 1,9 Mo/s et ne descendait jamais en dessous de 1,6 Mo/s. Avant de souscrire j’ai fait un test d’éligibilité chez Virgin, par acquis de conscience. Virgin annonçait un débit pouvant aller jusqu’à 14  Mb/s, pas très loin donc de ce que j’avais chez Free – 1,9 Mo/s correspondant à 15,2 Mb/s.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1871\" style=\"width: 510px\"><a href=\"https://techan.fr/images/2015/09/eligibilité.png\"><img src=\"https://techan.fr/images/2015/09/eligibilité.png\" alt=\"Virgin Mobile prend ses clients pour des pigeons\" title=\"\" /></a>Débit annoncé par Virgin jusqu’à. 14 Mb/s</p>\n\n<p></div> </p>\n\n<p>Cependant, la réalité est bien loin de ça … Voici un test de débit que j’ai réalisé sur ma ligne Free, celui ci montre un débit honorable de quasiment 14 Mb/s.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1877\" style=\"width: 510px\"><a href=\"https://techan.fr/images/2015/09/IMG_0641.png\"><img src=\"https://techan.fr/images/2015/09/IMG_0641.png\" alt=\"Virgin Mobile prend ses clients pour des pigeons\" title=\"\" /></a>Test de débit sur la ligne Free</p>\n\n<p></div>Et maintenant, le même test mais depuis la ligne Virgin Mobile, avec le même équipement, rien n’a changé chez moi, à part la Box. Et paf, deux fois moins de débit …</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1878\" style=\"width: 510px\"><a href=\"https://techan.fr/images/2015/09/IMG_0642.png\"><img src=\"https://techan.fr/images/2015/09/IMG_0642.png\" alt=\"Virgin Mobile prend ses clients pour des pigeons\" title=\"\" /></a>Test de débit sur la ligne Virgin Mobile</p>\n\n<p></div> </p>\n\n<p>Déçu, j’ai entrepris des recherches sur internet pour savoir ce qu’il en était, et force est de constater que je ne suis pas le seul à avoir des problèmes de débit avec Virgin Mobile. Il faut savoir – j’ai appris plein de choses lors de ces recherches – que pour se connecter à Internet, votre Box dispose de plusieurs types de modulations. Chacune de ces options a ses avantages et ses inconvénients, il faut tout d’abord que votre ligne soit éligible pour pouvoir en utiliser certains – comme l’ADSL 2+ par exemple. En fonction du type de modulation utilisé, vous aurez également plus ou moins de débit.</p>\n\n<p>Sachez que par défaut, Virgin Mobile force votre Box a utiliser la modulation G.DMT et ceci même si votre ligne peut supporter des modulations bien plus avantageuses pour vous. D’après les multiples témoignages sur le forum de la communauté Virgin Mobile, des utilisateurs ont pu bénéficier de l’ADSL 2+ en se plaignant au service client de Virgin Mobile. Un utilisateur – mick2207 – rapporte même cette déclaration troublante d’un conseiller Virgin Mobile :</p>\n\n<blockquote>\n  <p><strong>La personne m’a indiqué que même si la ligne permettait plus, « la politique commerciale de Virgin était de proposer le strict<em>*</strong>minimum » pour éviter tout problème technique !</em>*</p>\n</blockquote>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1873\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/09/virgin_service_minimum.png\"><img src=\"https://techan.fr/images/2015/09/virgin_service_minimum.png\" alt=\"Virgin Mobile prend ses clients pour des pigeons\" title=\"\" /></a><a href=\"http://communaute.virginmobile.fr/t5/La-Virgin-Box-au-quotidien/Comment-arriver-%C3%A0-passer-en-ADSL2/td-p/188434/page/3\">Lien vers le message sur la communauté Virgin Mobile</a></p>\n\n<p></div> </p>\n\n<p>Outré par cette politique scandaleuse, j’ai laissé un message “musclé” en réponse au précédent post.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/virgin_mon_message.png\"><img src=\"https://techan.fr/images/2015/09/virgin_mon_message.png\" alt=\"Virgin Mobile prend ses clients pour des pigeons\" title=\"\" /></a></p>\n\n<p>Croyez-moi ou pas, 30 minutes après ce message ma box se synchronisait en ADSL 2+ … Mais il ne faut pas trop rêver non plus, le débit est toujours le même … J’en ai donc parlé à plusieurs collègues – qui ont travaillé chez Orange et un autre opérateur ADSL – et chacune de ces personnes m’a rapporté des pratiques identiques. Lorsqu’un client souscrivait à une Box, le débit “max” était estimé en fonction de plusieurs critères – comme la distance avec le DSLAM par exemple – puis était bridé à cette valeur maximale et ce même si la ligne aurait pu supporter un débit plus important. Ils m’ont également raconté qu’ils pouvaient “augmenter” le débit de leurs amis d’un simple clic et qu’ils le faisaient par fois pour des clients qui râlaient trop sur leur débit.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/passage_en_adsl2-.jpg\"><img src=\"https://techan.fr/images/2015/09/passage_en_adsl2-.jpg\" alt=\"passage<em>en</em>adsl2+\" title=\"\" /></a></p>\n\n<p>Chez Virgin Mobile, cela paraît encore pire, quelles que soient les caractéristiques de votre ligne, vous n’aurez que le minimum, à savoir le type de modulation qui ne permet pas de dépasser 8M/s – soit 1 Mo/s grand max … Pas mal de clients se plaignent donc au service client pour passer à un débit supérieur et l’obtiennent ! Mais il semble que cette modification ne soit pas gravée dans le marbre, en effet certains utilisateurs témoignent également d’une perte subite de débit, et constatent que leur Box a été bridée de nouveau… Pire encore, les utilisateurs <span style=\"text-decoration: underline;\">remercient</span> le service client de le fournir la <span style=\"text-decoration: underline;\">totalité</span> du service auquel ils ont souscrit …</p>\n\n<p>Bref, du coup j’ai rappelé Free, le technicien était surpris de la chute de débit mais a – très gentiment – lancé le recâblage de ma ligne chez Free. Je compte bien également faire jouer le « Satisfait ou Remboursé de Virgin Mobile.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1884\" style=\"width: 166px\"><a href=\"https://techan.fr/images/2015/09/virgin_satisfait_rembourse.png\"><img src=\"https://techan.fr/images/2015/09/virgin_satisfait_rembourse.png\" alt=\"Virgin Mobile prend ses clients pour des pigeons\" title=\"\" /></a><a href=\"http://www.virginmobile.fr/media/virgin/promotions/pdf/adsl-coupon-satisfaitourembourse.pdf\">Lien vers le formulaire</a></p>\n\n<p></div> </p>\n\n<p>Tout ceci n’est « Veryment » pas très sérieux …</p>","image":"https://techan.fr/images/2015/09/virgin_mobile_pigeons.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-09-25T17:36:52.000Z","created_by":1,"updated_at":"2015-10-23T08:29:22.000Z","updated_by":1,"published_at":"2015-09-25T17:36:52.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":167,"uuid":"c4cefbf3-041a-49c7-ba26-19fbba104c38","title":"Mail-in-a-Box les astuces qui vous sauveront la vie","slug":"mail-in-a-box-les-astuces-qui-vous-sauveront-la-vie","markdown":"\n[Mail-in-a-Box](https://mailinabox.email/) est un ensemble de scripts qui permettent de transformer une Ubuntu 14.04 en un serveur de mail complet. Cet outil installe et configure Postfix et Dovecot pour l’envoi et la réception d’emails, mais aussi le webmail RoundCube, OwnCloud pour la gestion des contacts et des calendriers – mais également la partie stockage de fichiers. [Mail-in-a-Box](https://mailinabox.email/) propose également de servir de serveur DNS pour votre domaine. Notons également la présence de Z-Push dans cette installation qui fournit le support du « Push » pour la réception des emails.\n\n \n\nSon installation est très simple sur une machine classique, [ce processus](https://mailinabox.email/guide.html#checklist) est décrit sur le site de [Mail-in-a-Box](https://mailinabox.email/). Cependant, malgré la simplicité d’installation de cet excellent outil, il y a quelques petits bugs/manques qui risquent de très vite vous ennuyer … Je vais décrire ici comment solutionner une grande majorité d’entre eux !\n\n \n\n\n## Installation sur une machine ARM\n\nSi vous souhaitez installer [Mail-in-a-Box](https://mailinabox.email/) sur une machine basée sur une infrastructure ARM – comme une RaspBerry Pi ou un serveur chez [Scaleway](https://www.scaleway.com/) – il va vous falloir suivre quelques étapes préparatoires !\n\n \n\n#### Empêcher l’installation du FireWall\n\n \n\nChez [Scaleway](https://www.scaleway.com/), vous devrez empêcher [Mail-in-a-Box](https://mailinabox.email/) d’installer et surtout de configurer UFW car la configuration mise en place bloquerait les accès du serveur à ses disques. En effet les serveurs ARM de chez Scaleway sont connectés à leurs disques par le réseau via le protocole NBD. J’ai testé une installation sans désactiver UFW et j’ai du supprimer la machine. ;-)\n\nLa désactivation se fait simplement en assignant une valeur à la variable DISABLE_FIREWALL.\n\n    \n    export DISABLE_FIREWALL=PASDEFIREWALLSTP\n\n\n\n\n\n#### Préparation de l'installation\n\n\n\n\nUne fois que ceci est fait, on va récupérer les sources d'installation et ajouter un utilisateur \"nsd\". Cet utilisateur est normalement créé à l'installation du serveur DNS, mais un bug dans le paquet fourni par Ubuntu ne le fait pas et bloque ainsi l'installation de Mail-in-a-Box.\n\n\n\n    \n    apt-get install git\n    git clone https://github.com/mail-in-a-box/mailinabox\n    cd mailinabox\n    curl -s https://keybase.io/joshdata/key.asc | gpg --import\n    git verify-tag v0.13b\n    useradd nsd\n\n\n\n\nOn édite le script de Mail-in-a-Box qui configure Dovecot afin de ne pas installer le plugin pour Solr, le paquet n'existe pas sur ARM.\n\n    \n    vim setup/mail-dovecot.sh\n\n\n\n\nRechercher les lignes suivantes dans le fichier et commentez **dovecot-lucene**, comme suit.\n\n    \n    echo \"Installing Dovecot (IMAP server)...\"\n    apt_install \\\n            dovecot-core dovecot-imapd dovecot-pop3d dovecot-lmtpd dovecot-sqlite sqlite3 \\\n            dovecot-sieve dovecot-managesieved # dovecot-lucene\n\n\n\n\nRechercher les lignes suivantes dans le fichier et remplacez la ligne** mail_plugins**, comme suit.\n\n    \n    # Full Text Search - Enable full text search of mail using dovecot's lucene plugin,\n    # which *we* package and distribute (dovecot-lucene package).\n    tools/editconf.py /etc/dovecot/conf.d/10-mail.conf \\\n            mail_plugins=\"\\$mail_plugins fts\"\n            #mail_plugins=\"\\$mail_plugins fts fts_lucene\"\n    cat > /etc/dovecot/conf.d/90-plugin-fts.conf << EOF;\n\n\n\n\nOn peut maintenant lancer l'installation de Mail-in-a-Box via la commande suivante.\n\n    \n    sudo setup/start.sh\n\n\n\n\nL'installation se déroullera alors comme documenté [ici](https://mailinabox.email/guide.html#setup).\n\nhttps://www.youtube.com/watch?v=HQOj-Mm1fYs&start;=625&end;=753\n\n\n\n\n## Configuration d'IPTables chez Scaleway\n\n\n\n\nComme on l'a vu plus haut, chez Scaleway on doit désactiver l'installation d'UFW, ce qui laisse le système un peu vulnérable. Pour pallier à l'abscence d'UFW, j'ai pris le parti de configurer IPTables via un script.\n\n    \n    mkdir /root/bin\n    vi /root/bin/iptables.sh\n\n\n\n\nVoici le contenu du script **iptables.sh**b, libre à vous d'ajouter les lignes de votre choix. Les lignes cruciales sont celles surlignées, elles permettent de laisser paser le traffic réseau entre le serveur et ses disques.\n\n    \n    #!/bin/bash\n    \n    nbdip=$(curl -s 169.254.42.42/conf | grep VOLUMES_0_EXPORT_URI=nbd:// | sed \"s/VOLUMES_0_EXPORT_URI=nbd:\\/\\///\" | awk -F \":\" '{ print $1 }' | grep -E -o \"10\\.1\\.([0-2]?[0-9][0-9]?)\\.([0-2]?[0-9][0-9]?)\")\n    if [ $? -eq 1 ]; then\n            nbdip=\"10.1.18.0/23\"\n    fi\n    \n    iptables -P INPUT ACCEPT\n    iptables -F INPUT\n    iptables -F OUTPUT\n    iptables -F FORWARD\n    \n    iptables -P OUTPUT ACCEPT\n    iptables -P FORWARD ACCEPT\n    \n    iptables -A INPUT -i lo -j ACCEPT\n    iptables -A INPUT -i eth0 -s $nbdip -j ACCEPT\n    iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT\n    \n    #--- règles perso ici ----\n    iptables -A INPUT -p tcp --dport 22 -m state --state NEW,ESTABLISHED -j ACCEPT\n    iptables -A INPUT -p tcp --dport 25 -m state --state NEW,ESTABLISHED -j ACCEPT\n    iptables -A INPUT -p tcp --dport 53 -m state --state NEW,ESTABLISHED -j ACCEPT\n    iptables -A INPUT -p tcp --dport 80 -m state --state NEW,ESTABLISHED -j ACCEPT\n    iptables -A INPUT -p tcp --dport 443 -m state --state NEW,ESTABLISHED -j ACCEPT\n    \n    iptables -A INPUT -p tcp --dport 110 -m state --state NEW,ESTABLISHED -j ACCEPT\n    iptables -A INPUT -p tcp --dport 143 -m state --state NEW,ESTABLISHED -j ACCEPT\n    iptables -A INPUT -p tcp --dport 993 -m state --state NEW,ESTABLISHED -j ACCEPT\n    iptables -A INPUT -p tcp --dport 465 -m state --state NEW,ESTABLISHED -j ACCEPT\n    iptables -A INPUT -p tcp --dport 587 -m state --state NEW,ESTABLISHED -j ACCEPT\n    #-------------------------------\n    \n    iptables -P INPUT DROP\n    \n    exit 0\n    \n\n\n\n\n\n\n\n## Erreur lors du System Status Check\n\n\n\n\nIl se peut que vous rencontriez une erreur sur la page d'accueil de Mail-in-a-Box - System Status Check. Cette page peut être lingue a charger car l'outil fait des vérification sur la bonne santé des différents composants mais également sur la configuration des différents domaines DNS dont elle s'occupe.\n\nIl se peut donc que vous aillez une erreur de ce type :\n\n[![MailInABox les astuces qui vous sauveront la vie](https://techan.fr/images/2015/09/screenshot.876.jpg)](https://techan.fr/images/2015/09/screenshot.876.jpg)\n\nRien de grave, cette erreur apparaît lorsque les vérifications sont trop longues et que le serveur Web - NGinx - en a marre d'attendre ... Il suffit d’allonger ce temps d'attente pour ne plus avoir cette erreur.\n\n\n\nPour cela, éditez le fichier de configuration de NGinx.\n\n    \n    vi /etc/nginx/conf.d/local.conf\n\n\n\n\nRepérez le bloc suivant :\n\n    \n            # Control Panel\n            # Proxy /admin to our Python based control panel daemon. It is\n            # listening on IPv4 only so use an IP address and not 'localhost'.\n            rewrite ^/admin$ /admin/;\n            rewrite ^/admin/munin$ /admin/munin/ redirect;\n            location /admin/ {\n                    proxy_pass http://127.0.0.1:10222/;\n                    proxy_set_header X-Forwarded-For $remote_addr;\n            }\n    \n\n\n\n\nEt modifiez le comme suit :\n\n    \n            # Control Panel\n            # Proxy /admin to our Python based control panel daemon. It is\n            # listening on IPv4 only so use an IP address and not 'localhost'.\n            rewrite ^/admin$ /admin/;\n            rewrite ^/admin/munin$ /admin/munin/ redirect;\n            location /admin/ {\n                    proxy_connect_timeout   90;\n                    proxy_send_timeout      90;\n                    proxy_read_timeout      90;\n                    proxy_pass http://127.0.0.1:10222/;\n                    proxy_set_header X-Forwarded-For $remote_addr;\n            }\n    \n\n\n\n\nIl ne vous reste plus maintenant qu'a redémarrer NGinx !\n\n    \n    # service nginx restart\n     * Restarting nginx nginx\n\n\n\n\n\n\n\n## Ajouter du swap\n\n\n\n\nCette étape n'est pas nécessaire si Mail-in-a-box est hébergé sur une machine \"classique\", en revanche sur une petite machine, cela peut lui donner un petit plus de pèche. C'est mon cas chez Scaleway, mon hôte n'a que 2 Go de RAM, j'ai donc ajouté 1 Go de swap !\n\n\n\nOn commence par générer un fichier d'un 1 Go, j'ai décidé de le placer directement dans / et de le nommer **swap**.\n\n    \n    root@boxr:~# dd if=/dev/zero of=/swap count=2097152\n    2097152+0 records in\n    2097152+0 records out\n    1073741824 bytes (1.1 GB) copied, 27.25 s, 39.4 MB/s\n    root@boxr:~# mkswap /swap\n    Setting up swapspace version 1, size = 1048572 KiB\n    no label, UUID=9a41b8c0-b106-4f4b-b864-d03140e80c73\n    root@boxr:~# chmod 600 /swap\n\n\n\n\nOn modifie ensuite le fichier **/etc/fstab**.\n\n    \n    root@box:~# vi /etc/fstab\n    \n\n\n\n\nPour y ajouter la ligne renseignant notre fichier de swap.\n\n    \n    /swap none    swap    defaults,_netdev,nobootwait     0 0\n\n\n\n\nOn peut maintenant activer ce swap.\n\n    \n    root@box:~# swapon -a\n\n\n\n\n[caption id=\"attachment_1819\" align=\"aligncenter\" width=\"500\"][![Mail-in-a-Box les astuces qui vous sauveront la vie](https://techan.fr/images/2015/09/screenshot.874.jpg)](https://techan.fr/images/2015/09/screenshot.874.jpg) Le swap est désormais actif ![/caption]\n\nNous allons créer un fichier dans le dossier **/etc/init.d** ceci afin d'activer automatiquement le swap au démarrage de la machine.\n\n    \n    vi /etc/init.d/swap\n\n\n\n\nVoici le contenu de ce script.\n\n    \n    #!/bin/bash\n    ### BEGIN INIT INFO\n    # Provides: mountswap\n    # Required-Start: $network $local_fs\n    # Required-Stop: $local_fs\n    # Default-Start: 2 3 4 5\n    # Default-Stop: 0 1 6\n    # X-Start-After: nbd-client\n    # Short-Description: Workaround to mount an NBD device as swap OS device. IMPORTANT: add '_netdev' mount option to the swap device in /etc/fstab\n    ### END INIT INFO\n    \n    . /lib/lsb/init-functions\n    \n    case \"${1:-''}\" in\n      'start')\n            log_daemon_msg \"Activating swap devices\"\n            /sbin/swapon -a\n            [ $? -eq 0 ] && log_end_msg 0 || log_end_msg 1\n      ;;\n    esac\n\n\n\n\nOn le rend exécutable et le tour est joué !\n\n    \n    chmod +x /etc/init.d/swap\n\n\n\n\n\n\n\n## Z-Push\n\n\n\n\nIl existe un problème de synchronisation lors de l'utilisation de plusieurs comptes sur le même terminal. Par exemple dans le cas ou vous créé deux compte email sur votre Mail-in-a-Box et que vous tentez de les ajouter tous les deux sur votre iPhone. Le premier s'ajoutera sans aucun problème mais vous ne pourrez pas consulter les mails du second lorsque vous l'aurez ajouté ...\n\n\n\nC'est pénible, mais il s'agit d'un bug dans Z-Push ... Heureusement il y a un moyen de résoudre ce problème, our cela, éditez le fichier suivant.\n\n    \n    vi /usr/local/lib/z-push/config.php\n\n\n\n\nEt ajouter les lignes suivantes à la fin du fichier, juste avant la ligne **?>**.\n\n    \n    if (isset($_GET['DeviceId']) && isset($_GET['User']) && $_GET['DeviceId'] != \"\")\n        $_GET['DeviceId'] = sha1($_GET['DeviceId'].\":\".$_GET['User']);\n\n\n\n\nEt voilà !\n\n\n\n\n#### Administration de Z-Push\n\n\n\n\nL'administration de Z-Push peut se faire en ligne de commande, cela permet par exemple de réinitialiser la synchronisation d'un device et cela peut être très utile !\n\n\n\nCependant, pour pouvoir l'utiliser, il faut bidouiller un tout petit peu, commencez par éditer le fichier suivant.\n\n    \n    vi /etc/php5/cli/php.ini\n\n\n\n\nRecherchez le bloc **Paths and Directories** et modifiez la ligne **include_path** comme suit.\n\n    \n    ;;;;;;;;;;;;;;;;;;;;;;;;\n    ; Paths and Directories ;\n    ;;;;;;;;;;;;;;;;;;;;;;;;;\n    \n    ; UNIX: \"/path1:/path2\"\n    ;include_path = \".:/usr/share/php\"\n    include_path = \".:/usr/share/php:/usr/share/pear:/usr/local/lib/z-push/:/usr/share/awl/inc/\"\n    \n\n\n\n\nLa commande **z-push-admin** fonctionnera alors en ligne de commande et vous permettra d'administrer Z-Push.\n\n    \n    root@box-aldanet-fr:/usr/local/lib/z-push# z-push-admin\n    Usage:\n            z-push-admin.php -a ACTION [options]\n    \n    Parameters:\n            -a list/wipe/remove/resync/clearloop\n            [-u] username\n            [-d] deviceid\n    \n    Actions:\n            list                             Lists all devices and synchronized users\n            list -u USER                     Lists all devices of user USER\n            list -d DEVICE                   Lists all users of device DEVICE\n            lastsync                         Lists all devices and synchronized users and the last synchronization time\n            wipe -u USER                     Remote wipes all devices of user USER\n            wipe -d DEVICE                   Remote wipes device DEVICE\n            wipe -u USER -d DEVICE           Remote wipes device DEVICE of user USER\n            remove -u USER                   Removes all state data of all devices of user USER\n            remove -d DEVICE                 Removes all state data of all users synchronized on device DEVICE\n            remove -u USER -d DEVICE         Removes all related state data of device DEVICE of user USER\n            resync -u USER -d DEVICE         Resynchronizes all data of device DEVICE of user USER\n            resync -t TYPE                   Resynchronizes all folders of type 'email', 'calendar', 'contact', 'task' or 'note' for all devices and users.\n            resync -t TYPE -u USER           Resynchronizes all folders of type 'email', 'calendar', 'contact', 'task' or 'note' for the user USER.\n            resync -t TYPE -u USER -d DEVICE Resynchronizes all folders of type 'email', 'calendar', 'contact', 'task' or 'note' for a specified device and user.\n            resync -t FOLDERID -u USER       Resynchronize the specified folder id only. The USER should be specified.\n            clearloop                        Clears system wide loop detection data\n            clearloop -d DEVICE -u USER      Clears all loop detection data of a device DEVICE and an optional user USER\n            fixstates                        Checks the states for integrity and fixes potential issues\n    \n\n\n\n\n\n## Compiler le paquet dovecot-lucene\n\n\nLe paquet dovect-lucene n'est pas compilé pour armhf par la personne qui maintient Mail-in-a-Box, pour bénéficier de l'indexation full text des mail via ce plugin, il va falloir créer le paquet. Voici la marche à suivre.\n\n\n\nTout d'abord, il faut ajouter le dépot PPA, on va récupérer les sources d'ici.\n\n    \n    apt-add-repository ppa:mail-in-a-box/ppa\n\n\nIl faut éditer le fichier de ce dépôt pour activer les sources.\n\n    \n    vi /etc/apt/sources.list.d/mail-in-a-box-ppa-trusty.list\n\n\nOn dé-commente la ligne :\n\n    \n    deb-src http://ppa.launchpad.net/mail-in-a-box/ppa/ubuntu trusty main\n\n\nOn rafraichit apt-get ... Et on installe les outils et dépendances nécessaires.\n\n    \n    apt-get update\n    apt-get install debhelper cdbs lintian build-essential fakeroot devscripts pbuilder dh-make debootstrap\n    apt-get install libclucene-dev libpam0g-dev libpq-dev libmysqlclient-dev libsqlite3-dev libsasl2-dev drac-dev libbz2-dev libdb-dev libcurl4-gnutls-dev libwrap0-dev dh-systemd  libclucene-dev liblzma-dev libexttextcat-dev libstemmer-dev hardening-wrapper dh-autoreconf\n\n\nOn télécharge les sources.\n\n    \n    cd /tmp\n    apt-get source dovecot-lucene\n    cd dovecot-2.2.9/\n\n\nEt on construit le paquet ! Cette étape est un peu longue, comptez 30 bonnes minutes !\n\n    \n    debuild -us -uc -b\n\n\nIl ne reste plus qu'a installer le paquet et à configurer Dovecot !\n\n    \n    cd /tmp\n    dpkg -i dovecot-lucene_2.2.9-1ubuntu2.1+miab1_armhf.deb\n\n\n\n\n    \n    vi /etc/dovecot/conf.d/10-mail.conf\n\n\nChercher le bloc suivant :\n\n    \n    # Space separated list of plugins to load for all services. Plugins specific to\n    # IMAP, LDA, etc. are added to this list in their own .conf files.\n    #mail_plugins =\n\n\n\n\nEt modifiez le comme suit :\n\n    \n    # Space separated list of plugins to load for all services. Plugins specific to\n    # IMAP, LDA, etc. are added to this list in their own .conf files.\n    #mail_plugins =\n    mail_plugins=$mail_plugins fts fts_lucene\n\n\nAssurez vous que le fichier : **/etc/dovecot/conf.d/90-plugin-fts.conf**\n\nContient bien les lignes :\n\n    \n    plugin {\n      fts = lucene\n      fts_lucene = whitespace_chars=@.\n    }\n    \n\n\nIl n'y a plus qu'a redémarrer Dovect !\n\n    \n    service dovecot restart\n\n\n\n\n\n\n\n\n\n## Sources\n\n\n\t\n  * [GitHub - Correction Z-Push (Anglais)](https://github.com/fmbiete/Z-Push-contrib/issues/97)\n\n\t\n  * [discourse.mailinabox.email (dovecot-luncene sur armhf) - Anglais](https://discourse.mailinabox.email/t/armhf-builds-of-dovecot-lucene-and-postgrey/837/5)","html":"<p><a href=\"https://mailinabox.email/\">Mail-in-a-Box</a> est un ensemble de scripts qui permettent de transformer une Ubuntu 14.04 en un serveur de mail complet. Cet outil installe et configure Postfix et Dovecot pour l’envoi et la réception d’emails, mais aussi le webmail RoundCube, OwnCloud pour la gestion des contacts et des calendriers – mais également la partie stockage de fichiers. <a href=\"https://mailinabox.email/\">Mail-in-a-Box</a> propose également de servir de serveur DNS pour votre domaine. Notons également la présence de Z-Push dans cette installation qui fournit le support du « Push » pour la réception des emails.</p>\n\n<p>Son installation est très simple sur une machine classique, <a href=\"https://mailinabox.email/guide.html#checklist\">ce processus</a> est décrit sur le site de <a href=\"https://mailinabox.email/\">Mail-in-a-Box</a>. Cependant, malgré la simplicité d’installation de cet excellent outil, il y a quelques petits bugs/manques qui risquent de très vite vous ennuyer … Je vais décrire ici comment solutionner une grande majorité d’entre eux !</p>\n\n<h2 id=\"installationsurunemachinearm\">Installation sur une machine ARM</h2>\n\n<p>Si vous souhaitez installer <a href=\"https://mailinabox.email/\">Mail-in-a-Box</a> sur une machine basée sur une infrastructure ARM – comme une RaspBerry Pi ou un serveur chez <a href=\"https://www.scaleway.com/\">Scaleway</a> – il va vous falloir suivre quelques étapes préparatoires !</p>\n\n<h4 id=\"empcherlinstallationdufirewall\">Empêcher l’installation du FireWall</h4>\n\n<p>Chez <a href=\"https://www.scaleway.com/\">Scaleway</a>, vous devrez empêcher <a href=\"https://mailinabox.email/\">Mail-in-a-Box</a> d’installer et surtout de configurer UFW car la configuration mise en place bloquerait les accès du serveur à ses disques. En effet les serveurs ARM de chez Scaleway sont connectés à leurs disques par le réseau via le protocole NBD. J’ai testé une installation sans désactiver UFW et j’ai du supprimer la machine. ;-)</p>\n\n<p>La désactivation se fait simplement en assignant une valeur à la variable DISABLE_FIREWALL.</p>\n\n<pre><code>export DISABLE_FIREWALL=PASDEFIREWALLSTP\n</code></pre>\n\n<h4 id=\"prparationdelinstallation\">Préparation de l'installation</h4>\n\n<p>Une fois que ceci est fait, on va récupérer les sources d'installation et ajouter un utilisateur \"nsd\". Cet utilisateur est normalement créé à l'installation du serveur DNS, mais un bug dans le paquet fourni par Ubuntu ne le fait pas et bloque ainsi l'installation de Mail-in-a-Box.</p>\n\n<pre><code>apt-get install git\ngit clone https://github.com/mail-in-a-box/mailinabox\ncd mailinabox\ncurl -s https://keybase.io/joshdata/key.asc | gpg --import\ngit verify-tag v0.13b\nuseradd nsd\n</code></pre>\n\n<p>On édite le script de Mail-in-a-Box qui configure Dovecot afin de ne pas installer le plugin pour Solr, le paquet n'existe pas sur ARM.</p>\n\n<pre><code>vim setup/mail-dovecot.sh\n</code></pre>\n\n<p>Rechercher les lignes suivantes dans le fichier et commentez <strong>dovecot-lucene</strong>, comme suit.</p>\n\n<pre><code>echo \"Installing Dovecot (IMAP server)...\"\napt_install \\\n        dovecot-core dovecot-imapd dovecot-pop3d dovecot-lmtpd dovecot-sqlite sqlite3 \\\n        dovecot-sieve dovecot-managesieved # dovecot-lucene\n</code></pre>\n\n<p>Rechercher les lignes suivantes dans le fichier et remplacez la ligne<em>* mail_plugins</em>*, comme suit.</p>\n\n<pre><code># Full Text Search - Enable full text search of mail using dovecot's lucene plugin,\n# which *we* package and distribute (dovecot-lucene package).\ntools/editconf.py /etc/dovecot/conf.d/10-mail.conf \\\n        mail_plugins=\"\\$mail_plugins fts\"\n        #mail_plugins=\"\\$mail_plugins fts fts_lucene\"\ncat &gt; /etc/dovecot/conf.d/90-plugin-fts.conf &lt;&lt; EOF;\n</code></pre>\n\n<p>On peut maintenant lancer l'installation de Mail-in-a-Box via la commande suivante.</p>\n\n<pre><code>sudo setup/start.sh\n</code></pre>\n\n<p>L'installation se déroullera alors comme documenté <a href=\"https://mailinabox.email/guide.html#setup\">ici</a>.</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=HQOj-Mm1fYs&start;=625&end;=753\">https://www.youtube.com/watch?v=HQOj-Mm1fYs&start;=625&end;=753</a></p>\n\n<h2 id=\"configurationdiptableschezscaleway\">Configuration d'IPTables chez Scaleway</h2>\n\n<p>Comme on l'a vu plus haut, chez Scaleway on doit désactiver l'installation d'UFW, ce qui laisse le système un peu vulnérable. Pour pallier à l'abscence d'UFW, j'ai pris le parti de configurer IPTables via un script.</p>\n\n<pre><code>mkdir /root/bin\nvi /root/bin/iptables.sh\n</code></pre>\n\n<p>Voici le contenu du script <strong>iptables.sh</strong>b, libre à vous d'ajouter les lignes de votre choix. Les lignes cruciales sont celles surlignées, elles permettent de laisser paser le traffic réseau entre le serveur et ses disques.</p>\n\n<pre><code>#!/bin/bash\n\nnbdip=$(curl -s 169.254.42.42/conf | grep VOLUMES_0_EXPORT_URI=nbd:// | sed \"s/VOLUMES_0_EXPORT_URI=nbd:\\/\\///\" | awk -F \":\" '{ print $1 }' | grep -E -o \"10\\.1\\.([0-2]?[0-9][0-9]?)\\.([0-2]?[0-9][0-9]?)\")\nif [ $? -eq 1 ]; then\n        nbdip=\"10.1.18.0/23\"\nfi\n\niptables -P INPUT ACCEPT\niptables -F INPUT\niptables -F OUTPUT\niptables -F FORWARD\n\niptables -P OUTPUT ACCEPT\niptables -P FORWARD ACCEPT\n\niptables -A INPUT -i lo -j ACCEPT\niptables -A INPUT -i eth0 -s $nbdip -j ACCEPT\niptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT\n\n#--- règles perso ici ----\niptables -A INPUT -p tcp --dport 22 -m state --state NEW,ESTABLISHED -j ACCEPT\niptables -A INPUT -p tcp --dport 25 -m state --state NEW,ESTABLISHED -j ACCEPT\niptables -A INPUT -p tcp --dport 53 -m state --state NEW,ESTABLISHED -j ACCEPT\niptables -A INPUT -p tcp --dport 80 -m state --state NEW,ESTABLISHED -j ACCEPT\niptables -A INPUT -p tcp --dport 443 -m state --state NEW,ESTABLISHED -j ACCEPT\n\niptables -A INPUT -p tcp --dport 110 -m state --state NEW,ESTABLISHED -j ACCEPT\niptables -A INPUT -p tcp --dport 143 -m state --state NEW,ESTABLISHED -j ACCEPT\niptables -A INPUT -p tcp --dport 993 -m state --state NEW,ESTABLISHED -j ACCEPT\niptables -A INPUT -p tcp --dport 465 -m state --state NEW,ESTABLISHED -j ACCEPT\niptables -A INPUT -p tcp --dport 587 -m state --state NEW,ESTABLISHED -j ACCEPT\n#-------------------------------\n\niptables -P INPUT DROP\n\nexit 0\n</code></pre>\n\n<h2 id=\"erreurlorsdusystemstatuscheck\">Erreur lors du System Status Check</h2>\n\n<p>Il se peut que vous rencontriez une erreur sur la page d'accueil de Mail-in-a-Box - System Status Check. Cette page peut être lingue a charger car l'outil fait des vérification sur la bonne santé des différents composants mais également sur la configuration des différents domaines DNS dont elle s'occupe.</p>\n\n<p>Il se peut donc que vous aillez une erreur de ce type :</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/screenshot.876.jpg\"><img src=\"https://techan.fr/images/2015/09/screenshot.876.jpg\" alt=\"MailInABox les astuces qui vous sauveront la vie\" title=\"\" /></a></p>\n\n<p>Rien de grave, cette erreur apparaît lorsque les vérifications sont trop longues et que le serveur Web - NGinx - en a marre d'attendre ... Il suffit d’allonger ce temps d'attente pour ne plus avoir cette erreur.</p>\n\n<p>Pour cela, éditez le fichier de configuration de NGinx.</p>\n\n<pre><code>vi /etc/nginx/conf.d/local.conf\n</code></pre>\n\n<p>Repérez le bloc suivant :</p>\n\n<pre><code>        # Control Panel\n        # Proxy /admin to our Python based control panel daemon. It is\n        # listening on IPv4 only so use an IP address and not 'localhost'.\n        rewrite ^/admin$ /admin/;\n        rewrite ^/admin/munin$ /admin/munin/ redirect;\n        location /admin/ {\n                proxy_pass http://127.0.0.1:10222/;\n                proxy_set_header X-Forwarded-For $remote_addr;\n        }\n</code></pre>\n\n<p>Et modifiez le comme suit :</p>\n\n<pre><code>        # Control Panel\n        # Proxy /admin to our Python based control panel daemon. It is\n        # listening on IPv4 only so use an IP address and not 'localhost'.\n        rewrite ^/admin$ /admin/;\n        rewrite ^/admin/munin$ /admin/munin/ redirect;\n        location /admin/ {\n                proxy_connect_timeout   90;\n                proxy_send_timeout      90;\n                proxy_read_timeout      90;\n                proxy_pass http://127.0.0.1:10222/;\n                proxy_set_header X-Forwarded-For $remote_addr;\n        }\n</code></pre>\n\n<p>Il ne vous reste plus maintenant qu'a redémarrer NGinx !</p>\n\n<pre><code># service nginx restart\n * Restarting nginx nginx\n</code></pre>\n\n<h2 id=\"ajouterduswap\">Ajouter du swap</h2>\n\n<p>Cette étape n'est pas nécessaire si Mail-in-a-box est hébergé sur une machine \"classique\", en revanche sur une petite machine, cela peut lui donner un petit plus de pèche. C'est mon cas chez Scaleway, mon hôte n'a que 2 Go de RAM, j'ai donc ajouté 1 Go de swap !</p>\n\n<p>On commence par générer un fichier d'un 1 Go, j'ai décidé de le placer directement dans / et de le nommer <strong>swap</strong>.</p>\n\n<pre><code>root@boxr:~# dd if=/dev/zero of=/swap count=2097152\n2097152+0 records in\n2097152+0 records out\n1073741824 bytes (1.1 GB) copied, 27.25 s, 39.4 MB/s\nroot@boxr:~# mkswap /swap\nSetting up swapspace version 1, size = 1048572 KiB\nno label, UUID=9a41b8c0-b106-4f4b-b864-d03140e80c73\nroot@boxr:~# chmod 600 /swap\n</code></pre>\n\n<p>On modifie ensuite le fichier <strong>/etc/fstab</strong>.</p>\n\n<pre><code>root@box:~# vi /etc/fstab\n</code></pre>\n\n<p>Pour y ajouter la ligne renseignant notre fichier de swap.</p>\n\n<pre><code>/swap none    swap    defaults,_netdev,nobootwait     0 0\n</code></pre>\n\n<p>On peut maintenant activer ce swap.</p>\n\n<pre><code>root@box:~# swapon -a\n</code></pre>\n\n<p>[caption id=\"attachment_1819\" align=\"aligncenter\" width=\"500\"]<a href=\"https://techan.fr/images/2015/09/screenshot.874.jpg\"><img src=\"https://techan.fr/images/2015/09/screenshot.874.jpg\" alt=\"Mail-in-a-Box les astuces qui vous sauveront la vie\" title=\"\" /></a> Le swap est désormais actif ![/caption]</p>\n\n<p>Nous allons créer un fichier dans le dossier <strong>/etc/init.d</strong> ceci afin d'activer automatiquement le swap au démarrage de la machine.</p>\n\n<pre><code>vi /etc/init.d/swap\n</code></pre>\n\n<p>Voici le contenu de ce script.</p>\n\n<pre><code>#!/bin/bash\n### BEGIN INIT INFO\n# Provides: mountswap\n# Required-Start: $network $local_fs\n# Required-Stop: $local_fs\n# Default-Start: 2 3 4 5\n# Default-Stop: 0 1 6\n# X-Start-After: nbd-client\n# Short-Description: Workaround to mount an NBD device as swap OS device. IMPORTANT: add '_netdev' mount option to the swap device in /etc/fstab\n### END INIT INFO\n\n. /lib/lsb/init-functions\n\ncase \"${1:-''}\" in\n  'start')\n        log_daemon_msg \"Activating swap devices\"\n        /sbin/swapon -a\n        [ $? -eq 0 ] &amp;&amp; log_end_msg 0 || log_end_msg 1\n  ;;\nesac\n</code></pre>\n\n<p>On le rend exécutable et le tour est joué !</p>\n\n<pre><code>chmod +x /etc/init.d/swap\n</code></pre>\n\n<h2 id=\"zpush\">Z-Push</h2>\n\n<p>Il existe un problème de synchronisation lors de l'utilisation de plusieurs comptes sur le même terminal. Par exemple dans le cas ou vous créé deux compte email sur votre Mail-in-a-Box et que vous tentez de les ajouter tous les deux sur votre iPhone. Le premier s'ajoutera sans aucun problème mais vous ne pourrez pas consulter les mails du second lorsque vous l'aurez ajouté ...</p>\n\n<p>C'est pénible, mais il s'agit d'un bug dans Z-Push ... Heureusement il y a un moyen de résoudre ce problème, our cela, éditez le fichier suivant.</p>\n\n<pre><code>vi /usr/local/lib/z-push/config.php\n</code></pre>\n\n<p>Et ajouter les lignes suivantes à la fin du fichier, juste avant la ligne <strong>?></strong>.</p>\n\n<pre><code>if (isset($_GET['DeviceId']) &amp;&amp; isset($_GET['User']) &amp;&amp; $_GET['DeviceId'] != \"\")\n    $_GET['DeviceId'] = sha1($_GET['DeviceId'].\":\".$_GET['User']);\n</code></pre>\n\n<p>Et voilà !</p>\n\n<h4 id=\"administrationdezpush\">Administration de Z-Push</h4>\n\n<p>L'administration de Z-Push peut se faire en ligne de commande, cela permet par exemple de réinitialiser la synchronisation d'un device et cela peut être très utile !</p>\n\n<p>Cependant, pour pouvoir l'utiliser, il faut bidouiller un tout petit peu, commencez par éditer le fichier suivant.</p>\n\n<pre><code>vi /etc/php5/cli/php.ini\n</code></pre>\n\n<p>Recherchez le bloc <strong>Paths and Directories</strong> et modifiez la ligne <strong>include_path</strong> comme suit.</p>\n\n<pre><code>;;;;;;;;;;;;;;;;;;;;;;;;\n; Paths and Directories ;\n;;;;;;;;;;;;;;;;;;;;;;;;;\n\n; UNIX: \"/path1:/path2\"\n;include_path = \".:/usr/share/php\"\ninclude_path = \".:/usr/share/php:/usr/share/pear:/usr/local/lib/z-push/:/usr/share/awl/inc/\"\n</code></pre>\n\n<p>La commande <strong>z-push-admin</strong> fonctionnera alors en ligne de commande et vous permettra d'administrer Z-Push.</p>\n\n<pre><code>root@box-aldanet-fr:/usr/local/lib/z-push# z-push-admin\nUsage:\n        z-push-admin.php -a ACTION [options]\n\nParameters:\n        -a list/wipe/remove/resync/clearloop\n        [-u] username\n        [-d] deviceid\n\nActions:\n        list                             Lists all devices and synchronized users\n        list -u USER                     Lists all devices of user USER\n        list -d DEVICE                   Lists all users of device DEVICE\n        lastsync                         Lists all devices and synchronized users and the last synchronization time\n        wipe -u USER                     Remote wipes all devices of user USER\n        wipe -d DEVICE                   Remote wipes device DEVICE\n        wipe -u USER -d DEVICE           Remote wipes device DEVICE of user USER\n        remove -u USER                   Removes all state data of all devices of user USER\n        remove -d DEVICE                 Removes all state data of all users synchronized on device DEVICE\n        remove -u USER -d DEVICE         Removes all related state data of device DEVICE of user USER\n        resync -u USER -d DEVICE         Resynchronizes all data of device DEVICE of user USER\n        resync -t TYPE                   Resynchronizes all folders of type 'email', 'calendar', 'contact', 'task' or 'note' for all devices and users.\n        resync -t TYPE -u USER           Resynchronizes all folders of type 'email', 'calendar', 'contact', 'task' or 'note' for the user USER.\n        resync -t TYPE -u USER -d DEVICE Resynchronizes all folders of type 'email', 'calendar', 'contact', 'task' or 'note' for a specified device and user.\n        resync -t FOLDERID -u USER       Resynchronize the specified folder id only. The USER should be specified.\n        clearloop                        Clears system wide loop detection data\n        clearloop -d DEVICE -u USER      Clears all loop detection data of a device DEVICE and an optional user USER\n        fixstates                        Checks the states for integrity and fixes potential issues\n</code></pre>\n\n<h2 id=\"compilerlepaquetdovecotlucene\">Compiler le paquet dovecot-lucene</h2>\n\n<p>Le paquet dovect-lucene n'est pas compilé pour armhf par la personne qui maintient Mail-in-a-Box, pour bénéficier de l'indexation full text des mail via ce plugin, il va falloir créer le paquet. Voici la marche à suivre.</p>\n\n<p>Tout d'abord, il faut ajouter le dépot PPA, on va récupérer les sources d'ici.</p>\n\n<pre><code>apt-add-repository ppa:mail-in-a-box/ppa\n</code></pre>\n\n<p>Il faut éditer le fichier de ce dépôt pour activer les sources.</p>\n\n<pre><code>vi /etc/apt/sources.list.d/mail-in-a-box-ppa-trusty.list\n</code></pre>\n\n<p>On dé-commente la ligne :</p>\n\n<pre><code>deb-src http://ppa.launchpad.net/mail-in-a-box/ppa/ubuntu trusty main\n</code></pre>\n\n<p>On rafraichit apt-get ... Et on installe les outils et dépendances nécessaires.</p>\n\n<pre><code>apt-get update\napt-get install debhelper cdbs lintian build-essential fakeroot devscripts pbuilder dh-make debootstrap\napt-get install libclucene-dev libpam0g-dev libpq-dev libmysqlclient-dev libsqlite3-dev libsasl2-dev drac-dev libbz2-dev libdb-dev libcurl4-gnutls-dev libwrap0-dev dh-systemd  libclucene-dev liblzma-dev libexttextcat-dev libstemmer-dev hardening-wrapper dh-autoreconf\n</code></pre>\n\n<p>On télécharge les sources.</p>\n\n<pre><code>cd /tmp\napt-get source dovecot-lucene\ncd dovecot-2.2.9/\n</code></pre>\n\n<p>Et on construit le paquet ! Cette étape est un peu longue, comptez 30 bonnes minutes !</p>\n\n<pre><code>debuild -us -uc -b\n</code></pre>\n\n<p>Il ne reste plus qu'a installer le paquet et à configurer Dovecot !</p>\n\n<pre><code>cd /tmp\ndpkg -i dovecot-lucene_2.2.9-1ubuntu2.1+miab1_armhf.deb\n\n\n\n\n\nvi /etc/dovecot/conf.d/10-mail.conf\n</code></pre>\n\n<p>Chercher le bloc suivant :</p>\n\n<pre><code># Space separated list of plugins to load for all services. Plugins specific to\n# IMAP, LDA, etc. are added to this list in their own .conf files.\n#mail_plugins =\n</code></pre>\n\n<p>Et modifiez le comme suit :</p>\n\n<pre><code># Space separated list of plugins to load for all services. Plugins specific to\n# IMAP, LDA, etc. are added to this list in their own .conf files.\n#mail_plugins =\nmail_plugins=$mail_plugins fts fts_lucene\n</code></pre>\n\n<p>Assurez vous que le fichier : <strong>/etc/dovecot/conf.d/90-plugin-fts.conf</strong></p>\n\n<p>Contient bien les lignes :</p>\n\n<pre><code>plugin {\n  fts = lucene\n  fts_lucene = whitespace_chars=@.\n}\n</code></pre>\n\n<p>Il n'y a plus qu'a redémarrer Dovect !</p>\n\n<pre><code>service dovecot restart\n</code></pre>\n\n<h2 id=\"sources\">Sources</h2>\n\n<ul>\n<li><p><a href=\"https://github.com/fmbiete/Z-Push-contrib/issues/97\">GitHub - Correction Z-Push (Anglais)</a></p></li>\n<li><p><a href=\"https://discourse.mailinabox.email/t/armhf-builds-of-dovecot-lucene-and-postgrey/837/5\">discourse.mailinabox.email (dovecot-luncene sur armhf) - Anglais</a></p></li>\n</ul>","image":"https://techan.fr/images/2015/09/Mailinabox.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-09-29T11:32:59.000Z","created_by":1,"updated_at":"2016-05-18T11:42:02.000Z","updated_by":1,"published_at":"2015-09-29T11:32:59.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":170,"uuid":"dfb0700a-130b-4120-bf69-3f18475006a6","title":"Introduction à Docker avec l'indexation full text des mails","slug":"introduction-a-docker-avec-lindexation-full-text-des-mails","markdown":"\nAu début de l’année j’expliquais comment configurer Solr et Dovecot pour ajouter l’indexation full text des mails (voir [Indexation full text des mails](https://techan.fr/indexation-full-text-des-mails/)). A l’époque, la manipulation était plutôt lourde, Solr est puissant mais assez capricieux lors de sa mise en place. Aujourd’hui, je vais présenter Docker et la façon dont cet outil va vous faciliter la vie !\n\nCommençons tout d’abord par une petite présentation de Docker. Il ne s’agit pas de virtualisation ! Cet outil utilise un mécanisme offert par les normes de programmation. Depuis quelques temps, tous les noyaux Linux respectent les même interfaces, le code les implémentant diverge ensuite en fonction de la distribution. Cependant, pour faire simple, les différentes méthodes implémentée répondent à la même définition sur toutes les implémentations. Docker se sert de ce principe, ainsi il est possible de faire fonctionner un **container** comme CentOS sur un hôte installé avec Ubuntu par exemple.\n\nUn **container**  !?! Qu’est ce que c’est que cette bête là ??? Docker se base sur des **images** pour fonctionner, une image est une installation – de base ou non – d’un système. Il existe des images de Debian, d’Ubutnu, de CentOS, d’Oracle Linux, enfin de tout ce que l’on peut imaginer. Une image peut également être une version modifiée de ces images de base. Par exemple celle que je vais proposer plus bas est une image Ubuntu à dans laquelle j’ai installé Java et Solr. Cool non ? Un **container** est instanciation d’une image. Je démarre une image, j’ai un container, je démarre une deuxième image, j’ai deux containers. Ces containers sont isolés du système de base et isolés entre eux, chacun à sa « vie » propre.\n\nDocker permet donc d’installer des choses sur Linux sans pour autant « polluer » le système de base. Dans mon exemple, on peut installer Solr sans avoir besoin d’installer Java sur la machine hôte. On peut également faire tourner des applications très récentes sur une machine un peu ancienne sans avoir besoin de mettre à jour les librairies de cette ancienne machine. D’autre part, Docker permet d’automatiser beaucoup de choses, mais nous verrons cela dans un prochain article.\n\nRevenons à nos moutons. Voyons comment installer Solr via Docker !\n\n \n\n\n## Installation de Docker\n\nVoici comment installer la dernière version de Docker sur Ubuntu. Je vous conseille d’installer Docker depuis leur propre dépôt, plutôt que d’utiliser la version d’Ubuntu. Vous bénéficierez ainsi d’une version bien plus récente.\n\nEn tant que root, lancez les commandes suivantes :\n\n`apt-key adv --keyserver hkp://pgp.mit.edu:80 --recv-keys 58118E89F3A912897C070ADBF76221572C52609D vi /etc/apt/sources.list.d/docker.list`\n\nDans le fichier, ajoutez le contenu suivant, si le fichier n’est pas vide, remplacez son contenu avec ce qui suit.\n\n    # Ubuntu Precise 14.04 deb https://apt.dockerproject.org/repo ubuntu-precise main\n    # Ubuntu Trusty 14.10 deb https://apt.dockerproject.org/repo ubuntu-trusty main\n    # Ubuntu Vivid 15.04 deb https://apt.dockerproject.org/repo ubuntu-vivid main\n    # Ubuntu Wily 15.10 deb https://apt.dockerproject.org/repo ubuntu-wily main\n\nDécommentez les lignes qui ne correspondent pas à la version d’Ubuntu que vous utilisez. Passez ensuite les commandes suivantes toujours en root.\n\n    apt-get update\n    apt-get purge lxc-docker*\n    apt-cache policy docker-engine\n    apt-get install docker-engine\n\nLorsque tout est installé, vérifiez que tout fonctionne en lançant la commande qui suit.\n\n`docker run hello-world`\n\nLa sortie de la commande devrait être comme ceci.\n\n    Unable to find image 'hello-world:latest' locally\n    latest: Pulling from library/hello-world b901d36b6f2f:\n    Pull complete 0a6ba66e537a:\n    Pull complete Digest: sha256:517f03be3f8169d84711c9ffb2b3235a4d27c1eb4ad147f6248c8040adb93113 \n    Status: Downloaded newer image for hello-world:latest\n    Hello from Docker. This message shows that your installation appears to be working correctly. To generate this message, Docker took the following steps: 1. The Docker client contacted the Docker daemon. 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub. 3. The Docker daemon created a new container from that image which runs the executable that produces the output you are currently reading. 4. The Docker daemon streamed that output to the Docker client, which sent it to your terminal. To try something more ambitious, you can run an Ubuntu container with: $ docker run -it ubuntu bash Share images, automate workflows, and more with a free Docker Hub account: https://hub.docker.com For more examples and ideas, visit: https://docs.docker.com/userguide/\n\n \n\nSi c’est le cas, tout est bon ! Vous pouvez maintenant utiliser Docker !\n\n \n\n#### Configuration supplémentaire si vous utilisez UFW\n\nÉditez le fichier suivant.\n\n`vi /etc/default/ufw`\n\n \n\nTrouvez la ligne :\n`\nDEFAULT_FORWARD_POLICY=\"DROP\"`\n\nModifiez la comme suit :\n`\nDEFAULT_FORWARD_POLICY=\"ACCEPT\"`\n\nSauvez le fichier et passez ensuite les deux commandes :\n\n`ufw reload ufw allow 2375/tcp`\n\n \n\n \n\n\n## Solr dans Docker\n\nVotre serviteur a créer une image spéciale basée sur Ubuntu, cette image embarque Java et Solr (4.10.4) et la configuration de Solr pour qu’il fonctionne avec Dovecot. En gros, l’image embarque tout ce qui touchait à Solr dans [mon article de Janvier](https://techan.fr/indexation-full-text-des-mails/). Dans un premier temps, nous allons récupérer l’image et voir comment tout cela fonctionne, ensuite nous brancherons Dovecot sur le Solr embarqué.\n\n \n\n#### Jouons avec Docker\n\nLa première étape est de récupérer l’archive, il n’y a rien de plus simple.\n\n`docker pull mrraph/docker-solr_dovecot`\n\nCette commande télécharge tous les éléments nécessaires au fonctionnement de l’image.\n\n[![Introduction à Docker avec l'indexation full text des mails](https://techan.fr/images/2015/10/screenshot.998.jpg)](https://techan.fr/images/2015/10/screenshot.998.jpg)\n\nLorsque le téléchargement est terminé, vous pouvez lister les images que votre Docker possède en utilisant la commande suivante.\n\n`docker images`\n\n[![Introduction à Docker avec l'indexation full text des mails](https://techan.fr/images/2015/10/screenshot.999.jpg)](https://techan.fr/images/2015/10/screenshot.999.jpg)\n\nGénial, on a téléchargé l’image, maintenant démarrons la !\n\n`docker run -p 8983:8983 -d mrraph/docker-solr_dovecot`\n\nVoici quelques explications sur les options utilisées :\n\n- -p 8983:8983 - Cette option permet de rediriger le port 8983  du container sur le port 8983 de l’hôte.\n- -d - Cette option permet de lancer le container comme un daemon, il va tourner en arrière plan comme un grand.\n\nPour vérifier que tout fonctionne bien, rendez-vous à l’adresse suivante : **http://<ip de l’hote>:8983/solr**.\n\n \n\n[![Introduction à Docker avec l'indexation full text des mails](https://techan.fr/images/2015/10/screenshot.1000.jpg)](https://techan.fr/images/2015/10/screenshot.1000.jpg)\n\n<span style=\"text-decoration: underline;\">**Note :**</span> Si vous utilisez Ubuntu 15.10, il y a un bug avec le réseau dans Docker, il suffit de redémarrer le daemon docker – ***service docker restart*** – et de relancer le container.\n\n \n\nEt voilà, vous avez lancé Solr dans un container Docker ! Cool non ? Bon maintenant, ce n’est pas très sécurisé ainsi car n’importe qui pourrait accéder à l’interface Web et effacer vos index … De plus l’adresse IP des containers change à chaque lancement, il n’y a pas de moyen direct pour donner une IP fixe à un container dans Docker … Rassurez vous, il y a une solution, je vous la donne tout de suite !\n\n \n\n#### Lancer Solr de manière sécurisée et avec une IP fixe\n\nJ’ai adapté un script permettant de fixer l’adresse IP d’un container, [il se trouve dans GitHub](https://github.com/Branlala/Docker-Solr_Dovecot/blob/master/solr_satic_ip.sh). Enregistrez ce script quelque part sur votre système, dans /root/bin par exemple.\n\n \n\n`cd /root/bin chmod +x solr_satic_ip.sh`\n\n \n\nAdaptez les valeurs des variables en haut du script, en portant une attention particulière aux deux dernières.\n\n`# docker & network settings\nDOCKER_IMAGE_NAME=\"mrraph/docker-solr_dovecot\" DOCKER_CONTAINERS_NAME=\"solr_dovecot_bridged\" DOCKER_NETWORK_INTERFACE_NAME=\"em1:1\" DOCKER_NETWORK_INTERFACE_IP=\"10.0.0.1\"`\n\n \n\nDans mon cas, l’interface Ethernet de mon serveur se nomme **em1**, on va donc créer une interface virtuelle nommée **em1:1**. Si votre interface s’appelle **eth0**, nommez l’interface virtuelle **eth0:1**, ou **eth0:2** si  **eth0:1** est déjà prise.\n\nConcernant l’IP de l’interface virtuelle, il faut simplement vérifier qu’elle n’est pas déjà prise sur le système.\n\n \n\nLorsque le script est configuré, il n’y a plus qu’a le lancer !\n\n`# ./solr_static_ip.sh ebcf93133424ea22a4c1eab5a4e8e6190677d1e09cc406000529747be607812f`\n\nLa chaine que le script écrit est l’identifiant du container démarré, on peut voir les containers en cours d’exécution avec la commande suivante.\n\n`# docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES ebcf93133424 mrraph/docker-solr_dovecot:latest \"/bin/bash -c 'cd /o About a minute ago Up About a minute 10.0.0.1:8983->8983/tcp solr_dovecot_bridged`\n\nVoilà, Solr fonctionne et est rattaché à une IP fixe, il n’y a plus qu’à configurer Dovecot !\n\n \n\n#### Configurer Dovecot pour utiliser notre container Solr\n\nOn installer le paquet qui va bien.\n\n`apt-get install dovecot-solr`\n\nOn édite ensuite le fichier de configuration /etc/dovecot/conf.d/90-plugin.conf.\n\n`vi /etc/dovecot/conf.d/90-plugin.conf`\n\nOn ajoute les lignes suivantes à la fin de ce fichier.\n\n`mail_plugins = $mail_plugins fts fts_solr plugin { fts = solr fts_solr = url=http://10.0.0.1:8983/solr/ break-imap-search fts_autoindex = yes }`\n\nEt on redémarre Dovecot !\n\n`service dovecot restart`\n \n\nVous pouvez forcer l’indexation des mails d’un utilisateur avec les commandes :\n\n`# doveadm fts rescan -u <user> # doveadm index -u <user> '*'`\n\n \n\n\n","html":"<p>Au début de l’année j’expliquais comment configurer Solr et Dovecot pour ajouter l’indexation full text des mails (voir <a href=\"https://techan.fr/indexation-full-text-des-mails/\">Indexation full text des mails</a>). A l’époque, la manipulation était plutôt lourde, Solr est puissant mais assez capricieux lors de sa mise en place. Aujourd’hui, je vais présenter Docker et la façon dont cet outil va vous faciliter la vie !</p>\n\n<p>Commençons tout d’abord par une petite présentation de Docker. Il ne s’agit pas de virtualisation ! Cet outil utilise un mécanisme offert par les normes de programmation. Depuis quelques temps, tous les noyaux Linux respectent les même interfaces, le code les implémentant diverge ensuite en fonction de la distribution. Cependant, pour faire simple, les différentes méthodes implémentée répondent à la même définition sur toutes les implémentations. Docker se sert de ce principe, ainsi il est possible de faire fonctionner un <strong>container</strong> comme CentOS sur un hôte installé avec Ubuntu par exemple.</p>\n\n<p>Un <strong>container</strong>  !?! Qu’est ce que c’est que cette bête là ??? Docker se base sur des <strong>images</strong> pour fonctionner, une image est une installation – de base ou non – d’un système. Il existe des images de Debian, d’Ubutnu, de CentOS, d’Oracle Linux, enfin de tout ce que l’on peut imaginer. Une image peut également être une version modifiée de ces images de base. Par exemple celle que je vais proposer plus bas est une image Ubuntu à dans laquelle j’ai installé Java et Solr. Cool non ? Un <strong>container</strong> est instanciation d’une image. Je démarre une image, j’ai un container, je démarre une deuxième image, j’ai deux containers. Ces containers sont isolés du système de base et isolés entre eux, chacun à sa « vie » propre.</p>\n\n<p>Docker permet donc d’installer des choses sur Linux sans pour autant « polluer » le système de base. Dans mon exemple, on peut installer Solr sans avoir besoin d’installer Java sur la machine hôte. On peut également faire tourner des applications très récentes sur une machine un peu ancienne sans avoir besoin de mettre à jour les librairies de cette ancienne machine. D’autre part, Docker permet d’automatiser beaucoup de choses, mais nous verrons cela dans un prochain article.</p>\n\n<p>Revenons à nos moutons. Voyons comment installer Solr via Docker !</p>\n\n<h2 id=\"installationdedocker\">Installation de Docker</h2>\n\n<p>Voici comment installer la dernière version de Docker sur Ubuntu. Je vous conseille d’installer Docker depuis leur propre dépôt, plutôt que d’utiliser la version d’Ubuntu. Vous bénéficierez ainsi d’une version bien plus récente.</p>\n\n<p>En tant que root, lancez les commandes suivantes :</p>\n\n<p><code>apt-key adv --keyserver hkp://pgp.mit.edu:80 --recv-keys 58118E89F3A912897C070ADBF76221572C52609D vi /etc/apt/sources.list.d/docker.list</code></p>\n\n<p>Dans le fichier, ajoutez le contenu suivant, si le fichier n’est pas vide, remplacez son contenu avec ce qui suit.</p>\n\n<pre><code># Ubuntu Precise 14.04 deb https://apt.dockerproject.org/repo ubuntu-precise main\n# Ubuntu Trusty 14.10 deb https://apt.dockerproject.org/repo ubuntu-trusty main\n# Ubuntu Vivid 15.04 deb https://apt.dockerproject.org/repo ubuntu-vivid main\n# Ubuntu Wily 15.10 deb https://apt.dockerproject.org/repo ubuntu-wily main\n</code></pre>\n\n<p>Décommentez les lignes qui ne correspondent pas à la version d’Ubuntu que vous utilisez. Passez ensuite les commandes suivantes toujours en root.</p>\n\n<pre><code>apt-get update\napt-get purge lxc-docker*\napt-cache policy docker-engine\napt-get install docker-engine\n</code></pre>\n\n<p>Lorsque tout est installé, vérifiez que tout fonctionne en lançant la commande qui suit.</p>\n\n<p><code>docker run hello-world</code></p>\n\n<p>La sortie de la commande devrait être comme ceci.</p>\n\n<pre><code>Unable to find image 'hello-world:latest' locally\nlatest: Pulling from library/hello-world b901d36b6f2f:\nPull complete 0a6ba66e537a:\nPull complete Digest: sha256:517f03be3f8169d84711c9ffb2b3235a4d27c1eb4ad147f6248c8040adb93113 \nStatus: Downloaded newer image for hello-world:latest\nHello from Docker. This message shows that your installation appears to be working correctly. To generate this message, Docker took the following steps: 1. The Docker client contacted the Docker daemon. 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub. 3. The Docker daemon created a new container from that image which runs the executable that produces the output you are currently reading. 4. The Docker daemon streamed that output to the Docker client, which sent it to your terminal. To try something more ambitious, you can run an Ubuntu container with: $ docker run -it ubuntu bash Share images, automate workflows, and more with a free Docker Hub account: https://hub.docker.com For more examples and ideas, visit: https://docs.docker.com/userguide/\n</code></pre>\n\n<p>Si c’est le cas, tout est bon ! Vous pouvez maintenant utiliser Docker !</p>\n\n<h4 id=\"configurationsupplmentairesivousutilisezufw\">Configuration supplémentaire si vous utilisez UFW</h4>\n\n<p>Éditez le fichier suivant.</p>\n\n<p><code>vi /etc/default/ufw</code></p>\n\n<p>Trouvez la ligne : <br />\n<code>\nDEFAULT\\_FORWARD\\_POLICY=\"DROP\"</code></p>\n\n<p>Modifiez la comme suit : <br />\n<code>\nDEFAULT\\_FORWARD\\_POLICY=\"ACCEPT\"</code></p>\n\n<p>Sauvez le fichier et passez ensuite les deux commandes :</p>\n\n<p><code>ufw reload ufw allow 2375/tcp</code></p>\n\n<h2 id=\"solrdansdocker\">Solr dans Docker</h2>\n\n<p>Votre serviteur a créer une image spéciale basée sur Ubuntu, cette image embarque Java et Solr (4.10.4) et la configuration de Solr pour qu’il fonctionne avec Dovecot. En gros, l’image embarque tout ce qui touchait à Solr dans <a href=\"https://techan.fr/indexation-full-text-des-mails/\">mon article de Janvier</a>. Dans un premier temps, nous allons récupérer l’image et voir comment tout cela fonctionne, ensuite nous brancherons Dovecot sur le Solr embarqué.</p>\n\n<h4 id=\"jouonsavecdocker\">Jouons avec Docker</h4>\n\n<p>La première étape est de récupérer l’archive, il n’y a rien de plus simple.</p>\n\n<p><code>docker pull mrraph/docker-solr_dovecot</code></p>\n\n<p>Cette commande télécharge tous les éléments nécessaires au fonctionnement de l’image.</p>\n\n<p><a href=\"https://techan.fr/images/2015/10/screenshot.998.jpg\"><img src=\"https://techan.fr/images/2015/10/screenshot.998.jpg\" alt=\"Introduction à Docker avec l'indexation full text des mails\" title=\"\" /></a></p>\n\n<p>Lorsque le téléchargement est terminé, vous pouvez lister les images que votre Docker possède en utilisant la commande suivante.</p>\n\n<p><code>docker images</code></p>\n\n<p><a href=\"https://techan.fr/images/2015/10/screenshot.999.jpg\"><img src=\"https://techan.fr/images/2015/10/screenshot.999.jpg\" alt=\"Introduction à Docker avec l'indexation full text des mails\" title=\"\" /></a></p>\n\n<p>Génial, on a téléchargé l’image, maintenant démarrons la !</p>\n\n<p><code>docker run -p 8983:8983 -d mrraph/docker-solr_dovecot</code></p>\n\n<p>Voici quelques explications sur les options utilisées :</p>\n\n<ul>\n<li>-p 8983:8983 - Cette option permet de rediriger le port 8983  du container sur le port 8983 de l’hôte.</li>\n<li>-d - Cette option permet de lancer le container comme un daemon, il va tourner en arrière plan comme un grand.</li>\n</ul>\n\n<p>Pour vérifier que tout fonctionne bien, rendez-vous à l’adresse suivante : <strong>http://<ip de l’hote>:8983/solr</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/10/screenshot.1000.jpg\"><img src=\"https://techan.fr/images/2015/10/screenshot.1000.jpg\" alt=\"Introduction à Docker avec l'indexation full text des mails\" title=\"\" /></a></p>\n\n<p><span style=\"text-decoration: underline;\"><strong>Note :</strong></span> Si vous utilisez Ubuntu 15.10, il y a un bug avec le réseau dans Docker, il suffit de redémarrer le daemon docker – <strong><em>service docker restart</em></strong> – et de relancer le container.</p>\n\n<p>Et voilà, vous avez lancé Solr dans un container Docker ! Cool non ? Bon maintenant, ce n’est pas très sécurisé ainsi car n’importe qui pourrait accéder à l’interface Web et effacer vos index … De plus l’adresse IP des containers change à chaque lancement, il n’y a pas de moyen direct pour donner une IP fixe à un container dans Docker … Rassurez vous, il y a une solution, je vous la donne tout de suite !</p>\n\n<h4 id=\"lancersolrdemanirescuriseetavecuneipfixe\">Lancer Solr de manière sécurisée et avec une IP fixe</h4>\n\n<p>J’ai adapté un script permettant de fixer l’adresse IP d’un container, <a href=\"https://github.com/Branlala/Docker-Solr_Dovecot/blob/master/solr_satic_ip.sh\">il se trouve dans GitHub</a>. Enregistrez ce script quelque part sur votre système, dans /root/bin par exemple.</p>\n\n<p><code>cd /root/bin chmod +x solr_satic_ip.sh</code></p>\n\n<p>Adaptez les valeurs des variables en haut du script, en portant une attention particulière aux deux dernières.</p>\n\n<p><code># docker &amp; network settings\nDOCKER\\_IMAGE\\_NAME=\"mrraph/docker-solr_dovecot\" DOCKER_CONTAINERS_NAME=\"solr_dovecot_bridged\" DOCKER_NETWORK_INTERFACE_NAME=\"em1:1\" DOCKER_NETWORK_INTERFACE_IP=\"10.0.0.1\"</code></p>\n\n<p>Dans mon cas, l’interface Ethernet de mon serveur se nomme <strong>em1</strong>, on va donc créer une interface virtuelle nommée <strong>em1:1</strong>. Si votre interface s’appelle <strong>eth0</strong>, nommez l’interface virtuelle <strong>eth0:1</strong>, ou <strong>eth0:2</strong> si  <strong>eth0:1</strong> est déjà prise.</p>\n\n<p>Concernant l’IP de l’interface virtuelle, il faut simplement vérifier qu’elle n’est pas déjà prise sur le système.</p>\n\n<p>Lorsque le script est configuré, il n’y a plus qu’a le lancer !</p>\n\n<p><code># ./solr_static_ip.sh ebcf93133424ea22a4c1eab5a4e8e6190677d1e09cc406000529747be607812f</code></p>\n\n<p>La chaine que le script écrit est l’identifiant du container démarré, on peut voir les containers en cours d’exécution avec la commande suivante.</p>\n\n<p><code># docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES ebcf93133424 mrraph/docker-solr_dovecot:latest \"/bin/bash -c 'cd /o About a minute ago Up About a minute 10.0.0.1:8983-&gt;8983/tcp solr_dovecot_bridged</code></p>\n\n<p>Voilà, Solr fonctionne et est rattaché à une IP fixe, il n’y a plus qu’à configurer Dovecot !</p>\n\n<h4 id=\"configurerdovecotpourutilisernotrecontainersolr\">Configurer Dovecot pour utiliser notre container Solr</h4>\n\n<p>On installer le paquet qui va bien.</p>\n\n<p><code>apt-get install dovecot-solr</code></p>\n\n<p>On édite ensuite le fichier de configuration /etc/dovecot/conf.d/90-plugin.conf.</p>\n\n<p><code>vi /etc/dovecot/conf.d/90-plugin.conf</code></p>\n\n<p>On ajoute les lignes suivantes à la fin de ce fichier.</p>\n\n<p><code>mail_plugins = $mail_plugins fts fts_solr plugin { fts = solr fts_solr = url=http://10.0.0.1:8983/solr/ break-imap-search fts_autoindex = yes }</code></p>\n\n<p>Et on redémarre Dovecot !</p>\n\n<p><code>service dovecot restart</code>\n </p>\n\n<p>Vous pouvez forcer l’indexation des mails d’un utilisateur avec les commandes :</p>\n\n<p><code># doveadm fts rescan -u &lt;user&gt; # doveadm index -u &lt;user&gt; '*'</code></p>","image":"https://techan.fr/images/2015/10/Docker_container_engine_logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-10-27T11:19:39.000Z","created_by":1,"updated_at":"2016-06-03T13:47:52.000Z","updated_by":1,"published_at":"2015-10-27T11:19:39.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":171,"uuid":"d083cf52-584f-46b5-936e-47fcf5365063","title":"Mail-in-a-Box migrer la base de données SQLite vers MySQL","slug":"mail-in-a-box-migrer-la-base-de-donnees-sqlite-vers-mysql","markdown":"\nPar défaut, Mail in a Box utilise des bases de données SQLite pour stocker vos données, ces dernières sont très pratique, portables et légères. Elles sont tout à fait adaptées pour l’utilisation qu’en fait Mail in a Box, cependant, j’ai rencontré quelques soucis avec une de ces bases de données, celle qui est utilisée pour OwnCloud. OwnCloud permet de stocker les contacts, les calendriers et les fichiers des utilisateurs de Mail in a Box.\n\n \n\nDans mon cas, lorsque j’initialise Mail in a Box, j’ai plus de 600 contacts et 5 agendas à importer dans OwnCloud et c’est peu dire que la petite base souffre un peu lors de ces imports. Il est même quasiment impossible d’importer les 600 contacts car des verrous bloquent ce processus … J’ai donc pris le parti d’utiliser un serveur MySQL pour OwnCloud. Voici les étapes à suivre pour procéder à cette migration.\n\n**<span style=\"text-decoration: underline;\">Note :</span>** Vous ne perdrez aucun données déjà stockée dans OwnCloud, la migration embarque également les données des utilisateurs.\n\n \n\n\n## Installation de MySQL et pré-requis\n\n \n\nVoici les commandes qui vous permettront d’installer le serveur et le client MySQL sur votre box.\n\n    root@box:/usr/local/lib/owncloud# aptitude install mariadb-client-5.5 mariadb-server-5.5\n    The following NEW packages will be installed: libmariadbclient18{a} libreadline5{a} libterm-readkey-perl{a} mariadb-client-5.5 mariadb-client-core-5.5{a} mariadb-common{a} mariadb-server-5.5 mariadb-server-core-5.5{a} 0 packages upgraded, 8 newly installed, 0 to remove and 0 not upgraded.\n    Need to get 8,933 kB of archives. After unpacking 97.8 MB will be used.\n    Do you want to continue? [Y/n/?]\n\nIl faut également installer le module PHP pour MySQL.\n\n    root@box:/usr/local/lib/owncloud# aptitude install php5-mysql\n     The following NEW packages will be installed: php5-mysql 0 packages upgraded, 1 newly installed, 0 to remove and 0 not upgraded.\n\n \n\n#### Création de la base de données MySQL\n\nMaintenant, nous allons créer la base de données dans laquelle OwnCloud va stocker vos informations.\n\n    root@box:/usr/local/lib/owncloud# mysql -u root -p\n    Enter password:\n    Welcome to the MariaDB monitor. Commands end with ; or \\g.\n    Your MariaDB connection id is 36 Server version: 5.5.44-MariaDB-1ubuntu0.14.04.1 (Ubuntu)\n    Copyright (c) 2000, 2015, Oracle, MariaDB Corporation Ab and others.\n\n    Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\n    MariaDB [(none)]> create database owncloud ;\n    Query OK, 1 row affected (0.00 sec)\n    MariaDB [(none)]> grant all privileges on owncloud.* to owncloud@'localhost' identified by 'password' ;\n    Query OK, 0 rows affected (0.00 sec)\n    MariaDB [(none)]> flush privileges ;\n    Query OK, 0 rows affected (0.00 sec)\n\n**<span style=\"text-decoration: underline;\">Note :</span>**Prenez soin de modifier le mot de passe de l’utilisateur ‘owncloud’.\n\n \n\nNous allons modifier l’utilisateur **www-data** afin de pouvoir lancer le script de migration, nous remettrons cet utilisateur d’aplomb à la fin de cet article.\n\nÉditez le fichier **/etc/passwd**.\n\n    vi /etc/passwd\n\n \n\nRepérez la ligne commençant par **www-data**.\n\n    www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin\n\nRemplacez **/usr/sbin/nologin** par **/bin/bash**.\n\n \n\n\n## Migrons !\n\nMaintenant que tout est en place, nous allons migrer les données. La commande **occ** est fournie par OwnCloud. Elle a créer les tables nécessaires dans la base MySQL, migrer vos données et modifier le fichier de configuration d’OwnCloud pour qu’il utiliser désormais la base MySQL.\n\n    root@box:/usr/local/lib/owncloud# su - www-data -c 'cd /usr/local/lib/owncloud && php ./occ db:convert-type --all-apps mysql owncloud 127.0.0.1 owncloud'\n    What is the database password?\n    Creating schema in new database oc_activity 45/45\n    [============================] 100% oc_activity_mq 0/0 \n    [============================] 0% oc_appconfig 73/73     \n    [============================] 100% oc_clndr_calendars 9/9 \n    [============================] 100% oc_clndr_objects 966/966 \n    [============================] 100% oc_clndr_repeat 63/63 \n    [============================] 100% oc_clndr_share_calendar 0/0 \n    [============================] 0% oc_clndr_share_event 0/0 \n    [============================] 0% oc_contacts_addressbooks 5/5 \n    [============================] 100% oc_contacts_cards 625/625 \n    [============================] 100% oc_contacts_cards_properties 3355/3355 \n    [============================] 100% oc_file_map 0/0 \n    [============================] 0% oc_filecache 73/73 \n    [============================] 100% oc_files_trash 0/0 \n    [============================] 0% oc_group_admin 0/0 \n    [============================] 0% oc_group_user 1/1 \n    [============================] 100% oc_groups 1/1 \n    [============================] 100% oc_jobs 3/3 \n    [============================] 100% oc_mimetypes 11/11 \n    [============================] 100% oc_preferences 11/11 \n    [============================] 100% oc_privatedata 0/0 \n    [============================] 0% oc_properties 0/0 \n    [============================] 0% oc_share 0/0 \n    [============================] 0% oc_share_external 0/0 \n    [============================] 0% oc_storages 7/7 \n    [============================] 100% oc_users 1/1 \n    [============================] 100% oc_users_external 5/5 \n    [============================] 100% oc_vcategory 33/33 \n    [============================] 100% oc_vcategory_to_object 3352/3352 \n    [============================] 100%\n\n \n\nEt voilà ! Il ne reste plus qu’à remettre l’utilisateur **www-data** d’aplomb et tout sera OK !\n\n \n\nÉditez le fichier **/etc/passwd**.\n\n    vi /etc/passwd\n\nRepérez la ligne commençant par **www-data**.\n\n    www-data:x:33:33:www-data:/var/www:/bin/bash\n\nRemplacez **/bin/bash** par **/usr/sbin/nologin **.\n\n \n\n \n\n\n","html":"<p>Par défaut, Mail in a Box utilise des bases de données SQLite pour stocker vos données, ces dernières sont très pratique, portables et légères. Elles sont tout à fait adaptées pour l’utilisation qu’en fait Mail in a Box, cependant, j’ai rencontré quelques soucis avec une de ces bases de données, celle qui est utilisée pour OwnCloud. OwnCloud permet de stocker les contacts, les calendriers et les fichiers des utilisateurs de Mail in a Box.</p>\n\n<p>Dans mon cas, lorsque j’initialise Mail in a Box, j’ai plus de 600 contacts et 5 agendas à importer dans OwnCloud et c’est peu dire que la petite base souffre un peu lors de ces imports. Il est même quasiment impossible d’importer les 600 contacts car des verrous bloquent ce processus … J’ai donc pris le parti d’utiliser un serveur MySQL pour OwnCloud. Voici les étapes à suivre pour procéder à cette migration.</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Note :</span></strong> Vous ne perdrez aucun données déjà stockée dans OwnCloud, la migration embarque également les données des utilisateurs.</p>\n\n<h2 id=\"installationdemysqletprrequis\">Installation de MySQL et pré-requis</h2>\n\n<p>Voici les commandes qui vous permettront d’installer le serveur et le client MySQL sur votre box.</p>\n\n<pre><code>root@box:/usr/local/lib/owncloud# aptitude install mariadb-client-5.5 mariadb-server-5.5\nThe following NEW packages will be installed: libmariadbclient18{a} libreadline5{a} libterm-readkey-perl{a} mariadb-client-5.5 mariadb-client-core-5.5{a} mariadb-common{a} mariadb-server-5.5 mariadb-server-core-5.5{a} 0 packages upgraded, 8 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 8,933 kB of archives. After unpacking 97.8 MB will be used.\nDo you want to continue? [Y/n/?]\n</code></pre>\n\n<p>Il faut également installer le module PHP pour MySQL.</p>\n\n<pre><code>root@box:/usr/local/lib/owncloud# aptitude install php5-mysql\n The following NEW packages will be installed: php5-mysql 0 packages upgraded, 1 newly installed, 0 to remove and 0 not upgraded.\n</code></pre>\n\n<h4 id=\"crationdelabasededonnesmysql\">Création de la base de données MySQL</h4>\n\n<p>Maintenant, nous allons créer la base de données dans laquelle OwnCloud va stocker vos informations.</p>\n\n<pre><code>root@box:/usr/local/lib/owncloud# mysql -u root -p\nEnter password:\nWelcome to the MariaDB monitor. Commands end with ; or \\g.\nYour MariaDB connection id is 36 Server version: 5.5.44-MariaDB-1ubuntu0.14.04.1 (Ubuntu)\nCopyright (c) 2000, 2015, Oracle, MariaDB Corporation Ab and others.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nMariaDB [(none)]&gt; create database owncloud ;\nQuery OK, 1 row affected (0.00 sec)\nMariaDB [(none)]&gt; grant all privileges on owncloud.* to owncloud@'localhost' identified by 'password' ;\nQuery OK, 0 rows affected (0.00 sec)\nMariaDB [(none)]&gt; flush privileges ;\nQuery OK, 0 rows affected (0.00 sec)\n</code></pre>\n\n<p><strong><span style=\"text-decoration: underline;\">Note :</span></strong>Prenez soin de modifier le mot de passe de l’utilisateur ‘owncloud’.</p>\n\n<p>Nous allons modifier l’utilisateur <strong>www-data</strong> afin de pouvoir lancer le script de migration, nous remettrons cet utilisateur d’aplomb à la fin de cet article.</p>\n\n<p>Éditez le fichier <strong>/etc/passwd</strong>.</p>\n\n<pre><code>vi /etc/passwd\n</code></pre>\n\n<p>Repérez la ligne commençant par <strong>www-data</strong>.</p>\n\n<pre><code>www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin\n</code></pre>\n\n<p>Remplacez <strong>/usr/sbin/nologin</strong> par <strong>/bin/bash</strong>.</p>\n\n<h2 id=\"migrons\">Migrons !</h2>\n\n<p>Maintenant que tout est en place, nous allons migrer les données. La commande <strong>occ</strong> est fournie par OwnCloud. Elle a créer les tables nécessaires dans la base MySQL, migrer vos données et modifier le fichier de configuration d’OwnCloud pour qu’il utiliser désormais la base MySQL.</p>\n\n<pre><code>root@box:/usr/local/lib/owncloud# su - www-data -c 'cd /usr/local/lib/owncloud &amp;&amp; php ./occ db:convert-type --all-apps mysql owncloud 127.0.0.1 owncloud'\nWhat is the database password?\nCreating schema in new database oc_activity 45/45\n[============================] 100% oc_activity_mq 0/0 \n[============================] 0% oc_appconfig 73/73     \n[============================] 100% oc_clndr_calendars 9/9 \n[============================] 100% oc_clndr_objects 966/966 \n[============================] 100% oc_clndr_repeat 63/63 \n[============================] 100% oc_clndr_share_calendar 0/0 \n[============================] 0% oc_clndr_share_event 0/0 \n[============================] 0% oc_contacts_addressbooks 5/5 \n[============================] 100% oc_contacts_cards 625/625 \n[============================] 100% oc_contacts_cards_properties 3355/3355 \n[============================] 100% oc_file_map 0/0 \n[============================] 0% oc_filecache 73/73 \n[============================] 100% oc_files_trash 0/0 \n[============================] 0% oc_group_admin 0/0 \n[============================] 0% oc_group_user 1/1 \n[============================] 100% oc_groups 1/1 \n[============================] 100% oc_jobs 3/3 \n[============================] 100% oc_mimetypes 11/11 \n[============================] 100% oc_preferences 11/11 \n[============================] 100% oc_privatedata 0/0 \n[============================] 0% oc_properties 0/0 \n[============================] 0% oc_share 0/0 \n[============================] 0% oc_share_external 0/0 \n[============================] 0% oc_storages 7/7 \n[============================] 100% oc_users 1/1 \n[============================] 100% oc_users_external 5/5 \n[============================] 100% oc_vcategory 33/33 \n[============================] 100% oc_vcategory_to_object 3352/3352 \n[============================] 100%\n</code></pre>\n\n<p>Et voilà ! Il ne reste plus qu’à remettre l’utilisateur <strong>www-data</strong> d’aplomb et tout sera OK !</p>\n\n<p>Éditez le fichier <strong>/etc/passwd</strong>.</p>\n\n<pre><code>vi /etc/passwd\n</code></pre>\n\n<p>Repérez la ligne commençant par <strong>www-data</strong>.</p>\n\n<pre><code>www-data:x:33:33:www-data:/var/www:/bin/bash\n</code></pre>\n\n<p>Remplacez <strong>/bin/bash</strong> par <em>*/usr/sbin/nologin *</em>.</p>","image":"https://techan.fr/images/2015/09/Mailinabox.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-11-09T10:50:49.000Z","created_by":1,"updated_at":"2016-12-01T08:17:00.000Z","updated_by":1,"published_at":"2015-11-09T10:50:49.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":172,"uuid":"abfd2b0e-9c87-4175-9d97-fc9e124d5b05","title":"Soutenez le Rêve des Lucioles","slug":"soutenez-le-reve-des-lucioles","markdown":"\n**<span style=\"text-decoration: underline;\">[Edit 25/01/2015]</span> Grâce à vos clics sur les publicités de ce blog, 25€ de revenus publicitaires ont été reversés au Rêve de Lucioles pour les mois de Novembre et Décembre !!!**\n\n \n\nChers lecteurs, je vous demande de lire ceci jusqu’au bout…\n\nJe souhaite vous présenter une toute jeune mais très importante association qui se bat pour l’avancée de la recherche sur le neuroblastome et les cancers pédiatriques. Il s’agit de l’association [Le Rêve des Lucioles](http://www.le-reve-des-lucioles.fr/).  \n Cette association récolte des fonds afin d’améliorer le bien être des enfants lors de leurs hospitalisation et pour promouvoir la recherche contre le neuroblastome et la recherche contre la douleur. Sachez que sur l’ensemble des dons récoltés pour la recherche sur le cancer, seuls 2% sont affectés à la recherche sur les cancers pédiatriques. Des actions – spectacles, goûters, animation, … – sont menées par l’association [Le Rêve des Lucioles](http://www.le-reve-des-lucioles.fr/)  au sein de  l’Institut d’Hématologie et d’Oncologie Pédiatrique – IHOP – de Lyon.\n\nEn ce moment [Le Rêve des Lucioles](http://www.le-reve-des-lucioles.fr/) contribue et met en place un certain nombre de projets comme le Noël des enfants malades ou encore récemment Halloween pour les enfants à l’hôpital… Les projets sont nombreux, les actions aussi et beaucoup de choses ont déjà ou vont être mises en place.\n\n \n\n<span style=\"color: #ff9900;\">**Les revenus publicitaires générés sur mon blog au cours des mois de novembre et décembre seront intégralement reversés à l’association [Le Rêve des Lucioles](http://www.le-reve-des-lucioles.fr/) sous forme de don.**</span>\n\n \n\n[![Soutenez le Rêve des Lucioles](https://techan.fr/images/2015/11/affiche_RdL.jpg)](https://techan.fr/images/2015/11/affiche_RdL.jpg)\n\n \n\n[Le Rêve des Lucioles](http://www.le-reve-des-lucioles.fr/) compte à ce jour 15 bénévoles qui se mobilisent pour animer les événements, trouver des partenariats et des financements. Ces financements servent à améliorer le bien être des enfants hopstialisés, à aider la recherche contre le neuroblastome ainsi que la recherche contre la douleur et participe à certains projets mis en commun avec d’autres associations. Afin de récolter des fonds, [le Rêve des Lucioles](https://techan.fr/soutenez-le-reve-des-lucioles/) propose plusieurs types d’objets à son effigie, des mugs, des bracelets, des tours de cou, des pins, des boîtes de bonbons, vous pouvez également adhérer – 15 euros – et/ou faire des dons – des reçus peuvent être délivrés à la demande.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1946\" style=\"width: 310px\">[![Soutenez le Rêve des Lucioles](https://techan.fr/images/2015/11/objets_RdL_1.jpg)](https://techan.fr/images/2015/11/objets_RdL_1.jpg)[![lucioles_objets_2](https://techan.fr/images/2015/11/lucioles_objets_2.jpg)](https://techan.fr/images/2015/11/lucioles_objets_2.jpg) Quelques objets mis en vente par l’association\n\n</div> \n\nLe gros projet de [l’association](http://www.le-reve-des-lucioles.fr/association) actuellement est l’organisation du Noël des enfants hospitalisés à l’IHOP. Le 25 décembre prochain les bénévoles de l’association passeront une grande partie de la journée avec les enfants qui seront hospitalisés ce jour là, un goûter, des animations et une distribution de cadeaux personnalisés en fonction de l’âge des enfants sont au programme.\n\n \n\nNous avons besoin de votre aide afin de partager et promouvoir la page de l’association afin de la faire connaître et de lui permettre de récolter des fonds pour le financement de tous ses projets. Je vous laisse aller voir [le site de l’association](http://www.le-reve-des-lucioles.fr/association). Et surtout partager un maximum [la page Facebook et les publications](https://www.facebook.com/Le-R%C3%AAve-des-Lucioles-457068287782832/) !\n\n**Vous pouvez également soutenir [Le Rêve des Lucioles](http://www.le-reve-des-lucioles.fr/) en faisant un don ou en achetant des objets mis en vente par l’association. N’hésitez pas à contacter l’association à l’adresse *<span style=\"text-decoration: underline;\">[contact@le-reve-des-lucioles.fr](mailto:contact@le-reve-des-lucioles.fr)</span>* pour toute demande d’information, pour adhérer, pour acheter ou organiser une vente d’objet !**\n\n\n","html":"<p><strong><span style=\"text-decoration: underline;\">[Edit 25/01/2015]</span> Grâce à vos clics sur les publicités de ce blog, 25€ de revenus publicitaires ont été reversés au Rêve de Lucioles pour les mois de Novembre et Décembre !!!</strong></p>\n\n<p>Chers lecteurs, je vous demande de lire ceci jusqu’au bout…</p>\n\n<p>Je souhaite vous présenter une toute jeune mais très importante association qui se bat pour l’avancée de la recherche sur le neuroblastome et les cancers pédiatriques. Il s’agit de l’association <a href=\"http://www.le-reve-des-lucioles.fr/\">Le Rêve des Lucioles</a>. <br />\n Cette association récolte des fonds afin d’améliorer le bien être des enfants lors de leurs hospitalisation et pour promouvoir la recherche contre le neuroblastome et la recherche contre la douleur. Sachez que sur l’ensemble des dons récoltés pour la recherche sur le cancer, seuls 2% sont affectés à la recherche sur les cancers pédiatriques. Des actions – spectacles, goûters, animation, … – sont menées par l’association <a href=\"http://www.le-reve-des-lucioles.fr/\">Le Rêve des Lucioles</a>  au sein de  l’Institut d’Hématologie et d’Oncologie Pédiatrique – IHOP – de Lyon.</p>\n\n<p>En ce moment <a href=\"http://www.le-reve-des-lucioles.fr/\">Le Rêve des Lucioles</a> contribue et met en place un certain nombre de projets comme le Noël des enfants malades ou encore récemment Halloween pour les enfants à l’hôpital… Les projets sont nombreux, les actions aussi et beaucoup de choses ont déjà ou vont être mises en place.</p>\n\n<p><span style=\"color: #ff9900;\"><strong>Les revenus publicitaires générés sur mon blog au cours des mois de novembre et décembre seront intégralement reversés à l’association <a href=\"http://www.le-reve-des-lucioles.fr/\">Le Rêve des Lucioles</a> sous forme de don.</strong></span></p>\n\n<p><a href=\"https://techan.fr/images/2015/11/affiche_RdL.jpg\"><img src=\"https://techan.fr/images/2015/11/affiche_RdL.jpg\" alt=\"Soutenez le Rêve des Lucioles\" title=\"\" /></a></p>\n\n<p><a href=\"http://www.le-reve-des-lucioles.fr/\">Le Rêve des Lucioles</a> compte à ce jour 15 bénévoles qui se mobilisent pour animer les événements, trouver des partenariats et des financements. Ces financements servent à améliorer le bien être des enfants hopstialisés, à aider la recherche contre le neuroblastome ainsi que la recherche contre la douleur et participe à certains projets mis en commun avec d’autres associations. Afin de récolter des fonds, <a href=\"https://techan.fr/soutenez-le-reve-des-lucioles/\">le Rêve des Lucioles</a> propose plusieurs types d’objets à son effigie, des mugs, des bracelets, des tours de cou, des pins, des boîtes de bonbons, vous pouvez également adhérer – 15 euros – et/ou faire des dons – des reçus peuvent être délivrés à la demande.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1946\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2015/11/objets_RdL_1.jpg\"><img src=\"https://techan.fr/images/2015/11/objets_RdL_1.jpg\" alt=\"Soutenez le Rêve des Lucioles\" title=\"\" /></a><a href=\"https://techan.fr/images/2015/11/lucioles_objets_2.jpg\"><img src=\"https://techan.fr/images/2015/11/lucioles_objets_2.jpg\" alt=\"lucioles<em>objets</em>2\" title=\"\" /></a> Quelques objets mis en vente par l’association</p>\n\n<p></div> </p>\n\n<p>Le gros projet de <a href=\"http://www.le-reve-des-lucioles.fr/association\">l’association</a> actuellement est l’organisation du Noël des enfants hospitalisés à l’IHOP. Le 25 décembre prochain les bénévoles de l’association passeront une grande partie de la journée avec les enfants qui seront hospitalisés ce jour là, un goûter, des animations et une distribution de cadeaux personnalisés en fonction de l’âge des enfants sont au programme.</p>\n\n<p>Nous avons besoin de votre aide afin de partager et promouvoir la page de l’association afin de la faire connaître et de lui permettre de récolter des fonds pour le financement de tous ses projets. Je vous laisse aller voir <a href=\"http://www.le-reve-des-lucioles.fr/association\">le site de l’association</a>. Et surtout partager un maximum <a href=\"https://www.facebook.com/Le-R%C3%AAve-des-Lucioles-457068287782832/\">la page Facebook et les publications</a> !</p>\n\n<p><strong>Vous pouvez également soutenir <a href=\"http://www.le-reve-des-lucioles.fr/\">Le Rêve des Lucioles</a> en faisant un don ou en achetant des objets mis en vente par l’association. N’hésitez pas à contacter l’association à l’adresse <em><span style=\"text-decoration: underline;\"><a href=\"mailto:contact@le-reve-des-lucioles.fr\">contact@le-reve-des-lucioles.fr</a></span></em> pour toute demande d’information, pour adhérer, pour acheter ou organiser une vente d’objet !</strong></p>","image":"https://techan.fr/images/2015/11/logo_accueil_wide.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-11-13T10:08:02.000Z","created_by":1,"updated_at":"2016-01-25T10:16:21.000Z","updated_by":1,"published_at":"2015-11-13T10:08:02.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":173,"uuid":"c07f2914-737c-4e84-95c9-bea63a7658d8","title":"Accéder à Pluzz.fr et Spotify avec Plex","slug":"acceder-a-pluzz-fr-et-spotify-avec-plex","markdown":"\nIl  ya quelques temps, je suis tombé sur un post sur le forum de la communauté de Plex, dans ce post, un utilisateur présentait un plugin qu’il a réalisé. Celui-ci m’a particulièrement intéressé car il permet d’accéder au replay des chaines du groupes France Télévision – Pluzz.\n\n \n\n![screenshot.565](https://techan.fr/images/2015/06/screenshot.565.jpg)\n\nJ’ai donc entrepris de l’installer. Par ailleurs, j’ai également déniché un plugin pour pouvoir écouter Spotify directement dans Plex !\n\n \n\n\n## Installer le plugin pour Pluzz.fr\n\nVoici la marche à suivre pour installer le plugin permettant d’accéder à Pluzz via Plex. Toutes ces actions sont a réaliser sur la machine qui hébèrge le serveur Plex.\n\n    mkdir -p /opt/Plex && cd /opt/Plex\n    git clone https://github.com/lotooo/Pluzz.bundle.git\n    chown -R plex: Pluzz.bundle/\n    ln -s /opt/Plex/Pluzz.bundle/ /var/lib/plexmediaserver/Library/Application\\ Support/Plex\\ Media\\ Server/Plug-ins/\n    chown -h plex: /var/lib/plexmediaserver/Library/Application\\ Support/Plex\\ Media\\ Server/Plug-ins/Pluzz.bundle\n    service plexmediaserver restart\n\n \n\nEt voilà !\n\n \n\n[![pluzz_plex](https://techan.fr/images/2015/06/pluzz_plex.jpg)](https://techan.fr/images/2015/06/pluzz_plex.jpg)\n\n \n\n\n## Installer le plugin pour Spotify\n\nDe la même façon que pour Pluzz, voici la marche à suivre pour installer le support de Spotify dans Plex.\n\n    mkdir -p /opt/Plex && cd /opt/Plex\n    git clone https://github.com/pablorusso/Spotify2.bundle\n    chown -R plex: Spotify2.bundle/\n    ln -s /opt/Plex/Spotify2.bundle/ /var/lib/plexmediaserver/Library/Application\\ Support/Plex\\ Media\\ Server/Plug-ins/\n    chown -h plex: /var/lib/plexmediaserver/Library/Application\\ Support/Plex\\ Media\\ Server/Plug-ins/Spotify2.bundle \n    service plexmediaserver restart\n\n \n\n\n## Sources\n\n- [Plex Bundle](https://github.com/lotooo/Pluzz.bundle)\n- [Spotify Bundle](https://iterando.wordpress.com/2014/06/11/listen-spotify-with-chromecast-and-dlna-using-plex/)\n\n \n\n\n","html":"<p>Il  ya quelques temps, je suis tombé sur un post sur le forum de la communauté de Plex, dans ce post, un utilisateur présentait un plugin qu’il a réalisé. Celui-ci m’a particulièrement intéressé car il permet d’accéder au replay des chaines du groupes France Télévision – Pluzz.</p>\n\n<p><img src=\"https://techan.fr/images/2015/06/screenshot.565.jpg\" alt=\"screenshot.565\" /></p>\n\n<p>J’ai donc entrepris de l’installer. Par ailleurs, j’ai également déniché un plugin pour pouvoir écouter Spotify directement dans Plex !</p>\n\n<h2 id=\"installerlepluginpourpluzzfr\">Installer le plugin pour Pluzz.fr</h2>\n\n<p>Voici la marche à suivre pour installer le plugin permettant d’accéder à Pluzz via Plex. Toutes ces actions sont a réaliser sur la machine qui hébèrge le serveur Plex.</p>\n\n<pre><code>mkdir -p /opt/Plex &amp;&amp; cd /opt/Plex\ngit clone https://github.com/lotooo/Pluzz.bundle.git\nchown -R plex: Pluzz.bundle/\nln -s /opt/Plex/Pluzz.bundle/ /var/lib/plexmediaserver/Library/Application\\ Support/Plex\\ Media\\ Server/Plug-ins/\nchown -h plex: /var/lib/plexmediaserver/Library/Application\\ Support/Plex\\ Media\\ Server/Plug-ins/Pluzz.bundle\nservice plexmediaserver restart\n</code></pre>\n\n<p>Et voilà !</p>\n\n<p><a href=\"https://techan.fr/images/2015/06/pluzz_plex.jpg\"><img src=\"https://techan.fr/images/2015/06/pluzz_plex.jpg\" alt=\"pluzz_plex\" title=\"\" /></a></p>\n\n<h2 id=\"installerlepluginpourspotify\">Installer le plugin pour Spotify</h2>\n\n<p>De la même façon que pour Pluzz, voici la marche à suivre pour installer le support de Spotify dans Plex.</p>\n\n<pre><code>mkdir -p /opt/Plex &amp;&amp; cd /opt/Plex\ngit clone https://github.com/pablorusso/Spotify2.bundle\nchown -R plex: Spotify2.bundle/\nln -s /opt/Plex/Spotify2.bundle/ /var/lib/plexmediaserver/Library/Application\\ Support/Plex\\ Media\\ Server/Plug-ins/\nchown -h plex: /var/lib/plexmediaserver/Library/Application\\ Support/Plex\\ Media\\ Server/Plug-ins/Spotify2.bundle \nservice plexmediaserver restart\n</code></pre>\n\n<h2 id=\"sources\">Sources</h2>\n\n<ul>\n<li><a href=\"https://github.com/lotooo/Pluzz.bundle\">Plex Bundle</a></li>\n<li><p><a href=\"https://iterando.wordpress.com/2014/06/11/listen-spotify-with-chromecast-and-dlna-using-plex/\">Spotify Bundle</a></p></li>\n</ul>","image":"https://techan.fr/images/2015/06/plex_logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-11-16T12:23:33.000Z","created_by":1,"updated_at":"2016-07-09T09:06:26.000Z","updated_by":1,"published_at":"2015-11-16T12:23:33.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":174,"uuid":"7e025e6d-5b11-4dbf-b557-2fdf100b9447","title":"Problèmes de performance sur VMWare du à du CPU Ready","slug":"problemes-de-performance-sur-vmware-du-a-du-cpu-ready","markdown":"\nVoici une constatation que j’ai faite sur un parc VMware. Depuis plusieurs semaines, les utilisateurs se plaignaient de performances – très – dégradées. Des investigations ont été réalisées au niveau applicatif et il n’en ai pas ressorti pas grand chose … Pas de nouvelles applications, pas de grand chamboulement … Rien qui pourrait impliquer une telle surcharge …\n\nJe me suis penché sur les graphes VMware, et ce que j’ai vu n’était pas glop. Voici le graphe d’activité CPU de la VM qui héberge l’Apache qui gère l’authentification des utilisateurs sur les applications et l’accès de ces utilisateurs aux-dites application. On voit tout de suite l’heure à laquelle les gens ont ressenti des problèmes de performances, plus ou moins à partir de 15h lorsque le « Ready » est monté en flèche.  \n On constatait ce même phénomène sur plusieurs autres VMs centrales dans l’architecture applicative.\n\n \n\n\n## Manifestations du problème de performances\n\nDans l’image ci-dessous, on voit tout à fait que la VM passe son temps a attendre que l’hyperviseur lui donne accès au CPU de l’hôte physique. Son utilisation de CPU est bridée par cette attente.\n\n[![Problèmes de performance sur VMWare du à du CPU Ready](https://techan.fr/images/2015/11/http_graphe_CPU.png)](https://techan.fr/images/2015/11/http_graphe_CPU.png)\n\nMaintenant, voici comment est composé le parc VMware en Production :\n\n- 2 ESXi Dell R720 (2 Xeon à 8 cœurs soit 16 cœurs sur chaque)\n- 2 ESXi Dell R710 (2 Xeon à 6 cœurs soit 12 cœurs sur chaque)\n\nLa cible finale est un cluster de 3 R720.\n\n[![Problèmes de performance sur VMWare du à du CPU Ready](https://techan.fr/images/2015/11/cluster_CPU.png)](https://techan.fr/images/2015/11/cluster_CPU.png)\n\nOn constate que les hôtes ne sont pas surchargés au niveau CPU, d’autre part, DRS ne donne aucun conseil pour améliorer les performances.\n\n \n\n\n## Le CPU Ready dans VMware\n\n \n\nJe crois qu’il est temps maintenant d’expliciter un tantinet ce qu’est le CPU Ready dans VMware. Lorsque qu’une, dotée par exemple de 4 vCPU, fait un appel CPU à l’hyperviseur, ce dernier lui réserve 4 coeurs sur l’hôte et ce même si l’appel de la VM de demandait qu’un seul coeur. Les machines physiques présentent dans le cluster cité en exemple ont au mieux 16 – au pire 12 – coeurs physiques. Donc notre VM avec 4 vCPU doit attendre qu’un quart des coerus de la machine soient libres pour pouvoir exécuter ses instructions. Imaginez maintenant une VM qui aurait 8 vCPU, car il y en avait également dans cette infrastructure …\n\n<span style=\"text-decoration: underline;\">**Note :**</span> Il est conseillé de ne mettre qu’un ou deux vCPU par VM pour éviter ce phénomène, sauf cas très spécifique.\n\nVoici ce que disent les Best Practices de VMware – voire le lien dans les sources page 19-20.\n\n> Configuring a virtual machine with more virtual CPUs (vCPUs) than its workload can use might cause slightly increased resource usage, potentially impacting performance on very heavily loaded systems. Common examples of this include a single-threaded workload running in a multiple-vCPU virtual machine or a multi-threaded workload in a virtual machine with more vCPUs than the workload can effectively use.\n> \n> Even if the guest operating system doesn’t use some of its vCPUs, configuring virtual machines with those vCPUs still imposes some small resource requirements on ESXi that translate to real CPU consumption on the host. For example:\n> \n> Unused vCPUs still consume timer interrupts in some guest operating systems. (Though this is not true with “tickless timer” kernels, described in “Guest Operating System CPU Considerations” on page 39.)\n> \n> Maintaining a consistent memory view among multiple vCPUs can consume additional resources, both in the guest operating system and in ESXi. (Though hardware-assisted MMU virtualization significantly reduces this cost.)\n> \n> Most guest operating systems execute an idle loop during periods of inactivity. Within this loop, most of these guest operating systems halt by executing the HLT or MWAIT instructions. Some older guest operating systems (including Windows 2000 (with certain HALs), Solaris 8 and 9, and MS-DOS), however, use busy-waiting within their idle loops. This results in the consumption of resources that might otherwise be available for other uses (other virtual machines, the VMkernel, and so on).\n> \n> ESXi automatically detects these loops and de-schedules the idle vCPU. Though this reduces the CPU > overhead, it can also reduce the performance of some I/O-heavy workloads. For additional information see VMware KB articles 1077 and 2231.\n> \n> The guest operating system’s scheduler might migrate a single-threaded workload amongst multiple vCPUs, thereby losing cache locality.\n> \n> These resource requirements translate to real CPU consumption on the host.\n\nJ’ai trouvé un script PowerSHELL utilisant PowerCLI – vous trouverez un lien dans les Sources – qui calcule l’OverCommitment en terme de CPU, voici le résultats lors de mes constatations.\n\n[![Problèmes de performance sur VMWare du à du CPU Ready](https://techan.fr/images/2015/11/cpu_overcommit.png)](https://techan.fr/images/2015/11/cpu_overcommit.png)\n\nLa majorité des VMs « à problèmes » qui se trouvent être les plus critiques évidement se trouvaient sur l’hôte 1. La majorité des VMs dans le cluster PROD ont 4 vCPU, certaines en avaient même 8.\n\nFort de ces constations, j’ai donc testé de déplacer l’une des VMs qui rencontrait des problème de performance sur l’hôte 5 qui est bien moins chargé. Le résultat a été sans appel, et les utilisateurs se sont moins plaints …\n\n[![Problèmes de performance sur VMWare du à du CPU Ready](https://techan.fr/images/2015/11/dcts_graphe_CPU.png)](https://techan.fr/images/2015/11/dcts_graphe_CPU.png)\n\nOn a donc entrepris de réduire le nombre de vCPU alloués en baissant le nombre de vCPU sur les VMs, on a ainsi gagné 35 vCPU en passant des VMs de 4 à 2 ou de 8 à 2.\n\n[![Problèmes de performance sur VMWare du à du CPU Ready](https://techan.fr/images/2015/11/cpu_overcommit_2.png)](https://techan.fr/images/2015/11/cpu_overcommit_2.png)\n\nJ’ai également déplacé la VM http – dont on a vu le graphe tout au début – sur un hôte moins chargé, l’ESXi 5. J’ai fait le déplacement aux alentours de 11h ce jour là, voici le résultat :\n\n[![Problèmes de performance sur VMWare du à du CPU Ready](https://techan.fr/images/2015/11/http_graphe_CPU_2.png)](https://techan.fr/images/2015/11/http_graphe_CPU_2.png)\n\nAprès cette action, l’équipe du support informatique n’a reçu aucun appel d’utilisateur rencontrant des problèmes de performances, alors qu’habituellement la pire période de la journée commence vers 15h.\n\n \n\n\n## Sources\n\n- [Dépot GitHub contenant les script PowerCLI](https://github.com/MathieuBuisson/Powershell-VMware.git)\n- [Performance Best Practices for VMware vSphere™ 5.0](http://www.vmware.com/pdf/Perf_Best_Practices_vSphere5.0.pdf)\n\n\n","html":"<p>Voici une constatation que j’ai faite sur un parc VMware. Depuis plusieurs semaines, les utilisateurs se plaignaient de performances – très – dégradées. Des investigations ont été réalisées au niveau applicatif et il n’en ai pas ressorti pas grand chose … Pas de nouvelles applications, pas de grand chamboulement … Rien qui pourrait impliquer une telle surcharge …</p>\n\n<p>Je me suis penché sur les graphes VMware, et ce que j’ai vu n’était pas glop. Voici le graphe d’activité CPU de la VM qui héberge l’Apache qui gère l’authentification des utilisateurs sur les applications et l’accès de ces utilisateurs aux-dites application. On voit tout de suite l’heure à laquelle les gens ont ressenti des problèmes de performances, plus ou moins à partir de 15h lorsque le « Ready » est monté en flèche. <br />\n On constatait ce même phénomène sur plusieurs autres VMs centrales dans l’architecture applicative.</p>\n\n<h2 id=\"manifestationsduproblmedeperformances\">Manifestations du problème de performances</h2>\n\n<p>Dans l’image ci-dessous, on voit tout à fait que la VM passe son temps a attendre que l’hyperviseur lui donne accès au CPU de l’hôte physique. Son utilisation de CPU est bridée par cette attente.</p>\n\n<p><a href=\"https://techan.fr/images/2015/11/http_graphe_CPU.png\"><img src=\"https://techan.fr/images/2015/11/http_graphe_CPU.png\" alt=\"Problèmes de performance sur VMWare du à du CPU Ready\" title=\"\" /></a></p>\n\n<p>Maintenant, voici comment est composé le parc VMware en Production :</p>\n\n<ul>\n<li>2 ESXi Dell R720 (2 Xeon à 8 cœurs soit 16 cœurs sur chaque)</li>\n<li>2 ESXi Dell R710 (2 Xeon à 6 cœurs soit 12 cœurs sur chaque)</li>\n</ul>\n\n<p>La cible finale est un cluster de 3 R720.</p>\n\n<p><a href=\"https://techan.fr/images/2015/11/cluster_CPU.png\"><img src=\"https://techan.fr/images/2015/11/cluster_CPU.png\" alt=\"Problèmes de performance sur VMWare du à du CPU Ready\" title=\"\" /></a></p>\n\n<p>On constate que les hôtes ne sont pas surchargés au niveau CPU, d’autre part, DRS ne donne aucun conseil pour améliorer les performances.</p>\n\n<h2 id=\"lecpureadydansvmware\">Le CPU Ready dans VMware</h2>\n\n<p>Je crois qu’il est temps maintenant d’expliciter un tantinet ce qu’est le CPU Ready dans VMware. Lorsque qu’une, dotée par exemple de 4 vCPU, fait un appel CPU à l’hyperviseur, ce dernier lui réserve 4 coeurs sur l’hôte et ce même si l’appel de la VM de demandait qu’un seul coeur. Les machines physiques présentent dans le cluster cité en exemple ont au mieux 16 – au pire 12 – coeurs physiques. Donc notre VM avec 4 vCPU doit attendre qu’un quart des coerus de la machine soient libres pour pouvoir exécuter ses instructions. Imaginez maintenant une VM qui aurait 8 vCPU, car il y en avait également dans cette infrastructure …</p>\n\n<p><span style=\"text-decoration: underline;\"><strong>Note :</strong></span> Il est conseillé de ne mettre qu’un ou deux vCPU par VM pour éviter ce phénomène, sauf cas très spécifique.</p>\n\n<p>Voici ce que disent les Best Practices de VMware – voire le lien dans les sources page 19-20.</p>\n\n<blockquote>\n  <p>Configuring a virtual machine with more virtual CPUs (vCPUs) than its workload can use might cause slightly increased resource usage, potentially impacting performance on very heavily loaded systems. Common examples of this include a single-threaded workload running in a multiple-vCPU virtual machine or a multi-threaded workload in a virtual machine with more vCPUs than the workload can effectively use.</p>\n  \n  <p>Even if the guest operating system doesn’t use some of its vCPUs, configuring virtual machines with those vCPUs still imposes some small resource requirements on ESXi that translate to real CPU consumption on the host. For example:</p>\n  \n  <p>Unused vCPUs still consume timer interrupts in some guest operating systems. (Though this is not true with “tickless timer” kernels, described in “Guest Operating System CPU Considerations” on page 39.)</p>\n  \n  <p>Maintaining a consistent memory view among multiple vCPUs can consume additional resources, both in the guest operating system and in ESXi. (Though hardware-assisted MMU virtualization significantly reduces this cost.)</p>\n  \n  <p>Most guest operating systems execute an idle loop during periods of inactivity. Within this loop, most of these guest operating systems halt by executing the HLT or MWAIT instructions. Some older guest operating systems (including Windows 2000 (with certain HALs), Solaris 8 and 9, and MS-DOS), however, use busy-waiting within their idle loops. This results in the consumption of resources that might otherwise be available for other uses (other virtual machines, the VMkernel, and so on).</p>\n  \n  <p>ESXi automatically detects these loops and de-schedules the idle vCPU. Though this reduces the CPU > overhead, it can also reduce the performance of some I/O-heavy workloads. For additional information see VMware KB articles 1077 and 2231.</p>\n  \n  <p>The guest operating system’s scheduler might migrate a single-threaded workload amongst multiple vCPUs, thereby losing cache locality.</p>\n  \n  <p>These resource requirements translate to real CPU consumption on the host.</p>\n</blockquote>\n\n<p>J’ai trouvé un script PowerSHELL utilisant PowerCLI – vous trouverez un lien dans les Sources – qui calcule l’OverCommitment en terme de CPU, voici le résultats lors de mes constatations.</p>\n\n<p><a href=\"https://techan.fr/images/2015/11/cpu_overcommit.png\"><img src=\"https://techan.fr/images/2015/11/cpu_overcommit.png\" alt=\"Problèmes de performance sur VMWare du à du CPU Ready\" title=\"\" /></a></p>\n\n<p>La majorité des VMs « à problèmes » qui se trouvent être les plus critiques évidement se trouvaient sur l’hôte 1. La majorité des VMs dans le cluster PROD ont 4 vCPU, certaines en avaient même 8.</p>\n\n<p>Fort de ces constations, j’ai donc testé de déplacer l’une des VMs qui rencontrait des problème de performance sur l’hôte 5 qui est bien moins chargé. Le résultat a été sans appel, et les utilisateurs se sont moins plaints …</p>\n\n<p><a href=\"https://techan.fr/images/2015/11/dcts_graphe_CPU.png\"><img src=\"https://techan.fr/images/2015/11/dcts_graphe_CPU.png\" alt=\"Problèmes de performance sur VMWare du à du CPU Ready\" title=\"\" /></a></p>\n\n<p>On a donc entrepris de réduire le nombre de vCPU alloués en baissant le nombre de vCPU sur les VMs, on a ainsi gagné 35 vCPU en passant des VMs de 4 à 2 ou de 8 à 2.</p>\n\n<p><a href=\"https://techan.fr/images/2015/11/cpu_overcommit_2.png\"><img src=\"https://techan.fr/images/2015/11/cpu_overcommit_2.png\" alt=\"Problèmes de performance sur VMWare du à du CPU Ready\" title=\"\" /></a></p>\n\n<p>J’ai également déplacé la VM http – dont on a vu le graphe tout au début – sur un hôte moins chargé, l’ESXi 5. J’ai fait le déplacement aux alentours de 11h ce jour là, voici le résultat :</p>\n\n<p><a href=\"https://techan.fr/images/2015/11/http_graphe_CPU_2.png\"><img src=\"https://techan.fr/images/2015/11/http_graphe_CPU_2.png\" alt=\"Problèmes de performance sur VMWare du à du CPU Ready\" title=\"\" /></a></p>\n\n<p>Après cette action, l’équipe du support informatique n’a reçu aucun appel d’utilisateur rencontrant des problèmes de performances, alors qu’habituellement la pire période de la journée commence vers 15h.</p>\n\n<h2 id=\"sources\">Sources</h2>\n\n<ul>\n<li><a href=\"https://github.com/MathieuBuisson/Powershell-VMware.git\">Dépot GitHub contenant les script PowerCLI</a></li>\n<li><a href=\"http://www.vmware.com/pdf/Perf_Best_Practices_vSphere5.0.pdf\">Performance Best Practices for VMware vSphere™ 5.0</a></li>\n</ul>","image":"https://techan.fr/images/2015/01/vmware_vsphere_client_high_def_icon_by_flakshack-d4o96dy.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-11-17T12:23:02.000Z","created_by":1,"updated_at":"2015-11-17T13:22:20.000Z","updated_by":1,"published_at":"2015-11-17T12:23:02.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":175,"uuid":"2df358b5-91cb-420b-aa5c-51427b2e47e3","title":"Protégez votre vie privée avec OpenVPN sur Docker","slug":"protegez-votre-vie-privee-avec-openvpn-sur-docker","markdown":"\nLa lutte pour protéger sa vie privée sur Internet est de plus en plus compliquée car les entreprises intéressées par votre vie sont de plus en plus nombreuses et agressives pour tout savoir sur vous.\n\nDe plus le premier mouchard est votre téléphone portable, grâce à lui, énormément d’informations peuvent être collectées à votre insu. Lorsque vous naviguez sur Internet avec votre petit bijoux de technologie, votre opérateur est le premier à savoir les sites que vous visitez, la fréquence à laquelle vous les consultez, etc … Par ailleurs, votre opérateur mobile, comme votre fournisseur d’accès à Internet peut choisir de brider certains services – comme Youtube – afin de préserver la qualité de son réseau.\n\nSachez que ces deux mécanismes peuvent être évités en utilisant un VPN. Le VPN est un mécanisme qui permet de créer un tunnel entre deux points sur Internet. Dans notre cas, le tunnel serait ouvert entre votre téléphone et la machine qui héberge votre serveur OpenVPN. Toutes vos connexions à Internet passeront ensuite dans ce tunnel et seront, de ce fait, invisibles par votre opérateur.\n\n\n## Préparation du serveur OpenVPN\n\nDans ce post, je part du principe que Docker et Docker-Compose sont déjà installés sur votre machine.\n\n### La variable d'environnement\n\nNous positionnons la variable `OVPN_DATA` qui nous servira à intéragir avec notre container.\n\n`echo 'OVPN_DATA=\"openvpn_data_1\"' >> ~/.bashrc \nsource ~/.bashrc`\n\n## Configuration du server OpenVPN\n\nTout d'abord, nous allons créer un nouveau dossier et un fichier `docker-compose.yml` pour notre serveur OpenVPN.\n\n`mkdir /data/openvpn\ncd /data/openvpn\nvi docker-compose.yml`\n\nVoici le contenu du fichier `docker-compose.yml`.\n\n\n<pre><code class=\"hljs bash\">\nversion: '2'\n\nservices:\n  vpn:\n    image: kylemanna/openvpn\n    ports:\n      - \"1194:1194\"\n    volumes_from:\n      - data\n    restart: always\n    cap_add:\n      - NET_ADMIN\n  data:\n    image: busybox\n    volumes:\n      - /etc/openvpn`\n</code></pre>\n\nNous allons maintenant démarrer le container qui va stocker nos données - certificats, configuration d'OpenVPN, ...\n\n`docker-composer start data`\n\nEnfin, nous allons lancer la configuration du serveur OpenVPN.\n\n`docker run --volumes-from $OVPN_DATA --rm kylemanna/openvpn ovpn_genconfig -u udp://vpn.domain.net\ndocker run --volumes-from $OVPN_DATA --rm -it kylemanna/openvpn ovpn_initpki`\n\nIl ne reste plus qu'à démarrer le serveur !\n\n`docker-compose up -d`\n\n\n### Ajouter un utilisateur\n\nPour ajouter un utilisateur dans le serveur OpenVPN, il suffit de lancer la commande suivante.\n\n`docker run --volumes-from $OVPN_DATA --rm -it kylemanna/openvpn easyrsa build-client-full CLIENTNAME nopass`\n\nEt pour récupérer la configuration générée pour cet utilisateur, on lance la commande :\n\n`docker run --volumes-from $OVPN_DATA --rm -it kylemanna/openvpn easyrsa build-client-full CLIENTNAME nopass`\n\nL'utilisateur `raphael` peut maintenant se connecter en utilisant sa toute nouvelle configuration !\n","html":"<p>La lutte pour protéger sa vie privée sur Internet est de plus en plus compliquée car les entreprises intéressées par votre vie sont de plus en plus nombreuses et agressives pour tout savoir sur vous.</p>\n\n<p>De plus le premier mouchard est votre téléphone portable, grâce à lui, énormément d’informations peuvent être collectées à votre insu. Lorsque vous naviguez sur Internet avec votre petit bijoux de technologie, votre opérateur est le premier à savoir les sites que vous visitez, la fréquence à laquelle vous les consultez, etc … Par ailleurs, votre opérateur mobile, comme votre fournisseur d’accès à Internet peut choisir de brider certains services – comme Youtube – afin de préserver la qualité de son réseau.</p>\n\n<p>Sachez que ces deux mécanismes peuvent être évités en utilisant un VPN. Le VPN est un mécanisme qui permet de créer un tunnel entre deux points sur Internet. Dans notre cas, le tunnel serait ouvert entre votre téléphone et la machine qui héberge votre serveur OpenVPN. Toutes vos connexions à Internet passeront ensuite dans ce tunnel et seront, de ce fait, invisibles par votre opérateur.</p>\n\n<h2 id=\"prparationduserveuropenvpn\"> Préparation du serveur OpenVPN</h2>\n\n<p>Dans ce post, je part du principe que Docker et Docker-Compose sont déjà installés sur votre machine.</p>\n\n<h3 id=\"lavariabledenvironnement\">La variable d'environnement</h3>\n\n<p>Nous positionnons la variable <code>OVPN_DATA</code> qui nous servira à intéragir avec notre container.</p>\n\n<p><code>echo 'OVPN_DATA=\"openvpn_data_1\"' &gt;&gt; ~/.bashrc \nsource ~/.bashrc</code></p>\n\n<h2 id=\"configurationduserveropenvpn\">Configuration du server OpenVPN</h2>\n\n<p>Tout d'abord, nous allons créer un nouveau dossier et un fichier <code>docker-compose.yml</code> pour notre serveur OpenVPN.</p>\n\n<p><code>mkdir /data/openvpn\ncd /data/openvpn <br />\nvi docker-compose.yml</code></p>\n\n<p>Voici le contenu du fichier <code>docker-compose.yml</code>.</p>\n\n<pre><code class=\"hljs bash\">\nversion: '2'\n\nservices:\n  vpn:\n    image: kylemanna/openvpn\n    ports:\n      - \"1194:1194\"\n    volumes_from:\n      - data\n    restart: always\n    cap_add:\n      - NET_ADMIN\n  data:\n    image: busybox\n    volumes:\n      - /etc/openvpn`\n</code></pre>\n\n<p>Nous allons maintenant démarrer le container qui va stocker nos données - certificats, configuration d'OpenVPN, ...</p>\n\n<p><code>docker-composer start data</code></p>\n\n<p>Enfin, nous allons lancer la configuration du serveur OpenVPN.</p>\n\n<p><code>docker run --volumes-from $OVPN_DATA --rm kylemanna/openvpn ovpn_genconfig -u udp://vpn.domain.net\ndocker run --volumes-from $OVPN_DATA --rm -it kylemanna/openvpn ovpn_initpki</code></p>\n\n<p>Il ne reste plus qu'à démarrer le serveur !</p>\n\n<p><code>docker-compose up -d</code></p>\n\n<h3 id=\"ajouterunutilisateur\"> Ajouter un utilisateur</h3>\n\n<p>Pour ajouter un utilisateur dans le serveur OpenVPN, il suffit de lancer la commande suivante.</p>\n\n<p><code>docker run --volumes-from $OVPN_DATA --rm -it kylemanna/openvpn easyrsa build-client-full CLIENTNAME nopass</code></p>\n\n<p>Et pour récupérer la configuration générée pour cet utilisateur, on lance la commande :</p>\n\n<p><code>docker run --volumes-from $OVPN_DATA --rm -it kylemanna/openvpn easyrsa build-client-full CLIENTNAME nopass</code></p>\n\n<p>L'utilisateur <code>raphael</code> peut maintenant se connecter en utilisant sa toute nouvelle configuration !</p>","image":"https://techan.fr/images/2015/11/docker_plus_openvpn.png","featured":1,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-11-17T16:03:10.000Z","created_by":1,"updated_at":"2016-07-30T13:53:42.000Z","updated_by":1,"published_at":"2016-05-19T11:01:07.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":176,"uuid":"2d105984-1e3a-47fd-978e-7c145f793f26","title":"Exporter les mails d'un fichier PST sur Ubuntu","slug":"exporter-mails-dun-fichier-pst-ubuntu","markdown":"\nLa migration des mails d’Outlook vers Thunderbird est un des problèmes que l’on rencontre lorsque l’on souhaite passer sur Linux. En effet pour ne pas avoir a re-télécharger tous les mails stockés sur le serveur, ou tout simplement car les mails stockés en local n’existent plus sur le-dit serveur, on est tenté de vouloir importer ses mails stockés dans Outlook. Sur Windows, cette migration d’Outlook vers Thunderbird semble très simplifiée car ce dernier propose l’importation lors de son installation et qu’il embarque les outils nécessaires. Sur Linux, s’est une autre paire de manches, ce n’est pas possible sans utiliser un programme spécial.\n\n \n\nC’est après quelques recherches plutôt acharnées que j’ai trouvé ce programme magique ! Je vais vous décrire comment vous y prendre pour extraire vos mails des fichiers PST d’Outlook et les importer dans Thunderbrid.\n\n\n## Exporter les mails stockés dans un fichier PST\n\nCommençons par le commencement, il faut installer le programme magique ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nsudo aptitude install readpst\n\n \n\nEnsuite, on créer un dossier ou seront stockés les mails exportés et on lance la moulinette.\n\nmkdir 2014 readpst -D -M -b -e -o 2014 /media/raphael/Aldata/Outlook/2014.pst\n\n \n\nVoici la sortie écran que génère cette opération.\n\n[![Exporter les mails d'un fichier PST sur Ubuntu](https://techan.fr/images/2015/11/avancement-export.png)](https://techan.fr/images/2015/11/avancement-export.png)\n\n \n\n\n## Importer les mails exportés dans Thunderbird\n\n \n\nTout d’abord, il vous faudra installer le plugin Kivabien – [ImportExportTools](https://addons.mozilla.org/fr/thunderbird/addon/importexporttools/) – dans Thunderbird.\n\nUne fois ce prérequis installé, rien n’est plus simple, faites un clic droit sur le dossier dans lequel vous souhaitez que les mails soient importés et suivez les options suivantes.\n\n \n\n1. Importer / Exporter au format « .mbox »/ ».eml »\n2. Importer tous les fichiers « .eml » depuis un dossier\n3. aussi depuis les sous-dossiers\n\n \n\n[![importer_les_messages](https://techan.fr/images/2015/11/importer_les_messages.png)](https://techan.fr/images/2015/11/importer_les_messages.png)\n\nL’opération prend …. longtemps … mais tout fonctionne au poil !\n\n \n\n\n## Sources\n\n- [askubuntu.com (Anglais)](http://askubuntu.com/questions/264368/how-to-integrate-outlook-2003-pst-file-to-thunderbird)\n- [Addon ImportExportTools](https://addons.mozilla.org/fr/thunderbird/addon/importexporttools/)\n\n\n","html":"<p>La migration des mails d’Outlook vers Thunderbird est un des problèmes que l’on rencontre lorsque l’on souhaite passer sur Linux. En effet pour ne pas avoir a re-télécharger tous les mails stockés sur le serveur, ou tout simplement car les mails stockés en local n’existent plus sur le-dit serveur, on est tenté de vouloir importer ses mails stockés dans Outlook. Sur Windows, cette migration d’Outlook vers Thunderbird semble très simplifiée car ce dernier propose l’importation lors de son installation et qu’il embarque les outils nécessaires. Sur Linux, s’est une autre paire de manches, ce n’est pas possible sans utiliser un programme spécial.</p>\n\n<p>C’est après quelques recherches plutôt acharnées que j’ai trouvé ce programme magique ! Je vais vous décrire comment vous y prendre pour extraire vos mails des fichiers PST d’Outlook et les importer dans Thunderbrid.</p>\n\n<h2 id=\"exporterlesmailsstocksdansunfichierpst\">Exporter les mails stockés dans un fichier PST</h2>\n\n<p>Commençons par le commencement, il faut installer le programme magique ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>sudo aptitude install readpst</p>\n\n<p>Ensuite, on créer un dossier ou seront stockés les mails exportés et on lance la moulinette.</p>\n\n<p>mkdir 2014 readpst -D -M -b -e -o 2014 /media/raphael/Aldata/Outlook/2014.pst</p>\n\n<p>Voici la sortie écran que génère cette opération.</p>\n\n<p><a href=\"https://techan.fr/images/2015/11/avancement-export.png\"><img src=\"https://techan.fr/images/2015/11/avancement-export.png\" alt=\"Exporter les mails d'un fichier PST sur Ubuntu\" title=\"\" /></a></p>\n\n<h2 id=\"importerlesmailsexportsdansthunderbird\">Importer les mails exportés dans Thunderbird</h2>\n\n<p>Tout d’abord, il vous faudra installer le plugin Kivabien – <a href=\"https://addons.mozilla.org/fr/thunderbird/addon/importexporttools/\">ImportExportTools</a> – dans Thunderbird.</p>\n\n<p>Une fois ce prérequis installé, rien n’est plus simple, faites un clic droit sur le dossier dans lequel vous souhaitez que les mails soient importés et suivez les options suivantes.</p>\n\n<ol>\n<li>Importer / Exporter au format « .mbox »/ ».eml »  </li>\n<li>Importer tous les fichiers « .eml » depuis un dossier  </li>\n<li><p>aussi depuis les sous-dossiers</p></li>\n</ol>\n\n<p><a href=\"https://techan.fr/images/2015/11/importer_les_messages.png\"><img src=\"https://techan.fr/images/2015/11/importer_les_messages.png\" alt=\"importer<em>les</em>messages\" title=\"\" /></a></p>\n\n<p>L’opération prend …. longtemps … mais tout fonctionne au poil !</p>\n\n<h2 id=\"sources\">Sources</h2>\n\n<ul>\n<li><a href=\"http://askubuntu.com/questions/264368/how-to-integrate-outlook-2003-pst-file-to-thunderbird\">askubuntu.com (Anglais)</a></li>\n<li><a href=\"https://addons.mozilla.org/fr/thunderbird/addon/importexporttools/\">Addon ImportExportTools</a></li>\n</ul>","image":"https://techan.fr/images/2015/04/Ubuntu_Logo.gif","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-11-19T09:55:28.000Z","created_by":1,"updated_at":"2015-11-25T11:49:04.000Z","updated_by":1,"published_at":"2015-11-19T09:55:28.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":178,"uuid":"4ee9cf77-7b9f-4648-90f1-39cefad73c21","title":"Administration de Postfix","slug":"administration-de-postfix","markdown":"\n \n\npostqueue -p\n\n \n\npostsuper -d ALL\n\n \n\nmailq | tail +2 | grep -v ‘^ *(‘ | awk  ‘BEGIN { RS = «  » } { if ($8 == « root@localhost.localdomain » && $9 == «  ») print $1 } ‘ | tr -d ‘*!’\n\n \n\n \n\n\n## Sources\n\n[www.tech-g.com (Anglais)](http://www.tech-g.com/2012/07/15/inspecting-postfixs-email-queue/)\n\n \n\n \n\n\n","html":"<p>postqueue -p</p>\n\n<p>postsuper -d ALL</p>\n\n<p>mailq | tail +2 | grep -v ‘^ <em>(‘ | awk  ‘BEGIN { RS = «  » } { if ($8 <mark> « root@localhost.localdomain » &amp;&amp; $9 </mark> «  ») print $1 } ‘ | tr -d ‘</em>!’</p>\n\n<h2 id=\"sources\">Sources</h2>\n\n<p><a href=\"http://www.tech-g.com/2012/07/15/inspecting-postfixs-email-queue/\">www.tech-g.com (Anglais)</a></p>","image":null,"featured":0,"page":0,"status":"draft","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-12-17T14:56:33.000Z","created_by":1,"updated_at":"2015-12-17T14:56:33.000Z","updated_by":1,"published_at":"0000-00-00 00:00:00","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":179,"uuid":"dc003382-c0b2-40dc-b87c-8c965aee4afd","title":"Monter un VPN automatiquement lorsqu'une application est lancée sur Windows","slug":"monter-un-vpn-automatiquement-lorsquune-application-est-lancee-sur-windows","markdown":"\nVoici une petite astuce qui permet de faire en sorte que Windows monte une tunnel VPN lorsqu’une application est démarrée. Dans mon cas, pour que je puisse consulter mes emails professionnels, il faut d’abord que je monte le VPN de la société puis que je lance Outlook. PowerShell permet de « masquer » l’étape de connexion au VPN. J’ai donc cherché – et trouvé – comment monter un VPN automatiquement lorsqu’une application est lancée sur Windows, maintenant, lorsque je clique sur l’icône d’Outlook, le VPN se connecte s’il ne l’était pas déjà.\n\nIl suffit d’une seule commande PowerShell pour faire cela !\n\nTout d’abord, fermez Outlook et déconnectez votre connexion VPN puis ouvrez un terminal PowerShell et identifiez le nom de votre connexion VPN avec la commande suivante.\n\n    PS C:\\Users\\Raphael> Get-VpnConnection\n    Name : MaConnexionVPN\n    ServerAddress : vpn.example.com\n    AllUserConnection : False\n    Guid : {F91D7D95-C168-459D-ABE6-6EA2C856A2E6}\n    TunnelType : Automatic\n    AuthenticationMethod : {Chap, MsChapv2, Pap}\n    EncryptionLevel : Optional\n    L2tpIPsecAuth : Certificate\n    UseWinlogonCredential : False\n    EapConfigXmlStream :\n    ConnectionStatus : Connected\n    RememberCredential : True\n    SplitTunneling : True\n    DnsSuffix :\n    IdleDisconnectSeconds : 0\n\n \n\nDans cet exemple, ma connexion VPN s’appelle « MaConnexionVPN ».\n\nEt voilà, vous n’avez plus qu’a ajouter le trigger à votre Windows avec la commande qui suit.\n\n    PS C:\\Users\\Raphael> Add-VPNConnectionTriggerApplication -Name \"MaConnexionVPN\" -ApplicationID \"C:\\Program Files\\Microsoft Office 15\\root\\office15\\OUTLOOK.EXE\" -Passthru ConnectionName : MaConnexionVPN ApplicationID : {C:\\Program Files\\Microsoft Office 15\\root\\office15\\OUTLOOK.EXE}\n\n \n\nÉvidement, il vous faudra peut être ajuster le chemin vers le binaire d’Outlook.\n\nMaintenant, place à la magie, démarrez Outlook et admirez !\n\n \n\n\n## Source\n\n- [technet.microsoft.com](ttps://technet.microsoft.com/fr-fr/library/dn296460%28v=wps.630%29.aspx)\n\n\n","html":"<p>Voici une petite astuce qui permet de faire en sorte que Windows monte une tunnel VPN lorsqu’une application est démarrée. Dans mon cas, pour que je puisse consulter mes emails professionnels, il faut d’abord que je monte le VPN de la société puis que je lance Outlook. PowerShell permet de « masquer » l’étape de connexion au VPN. J’ai donc cherché – et trouvé – comment monter un VPN automatiquement lorsqu’une application est lancée sur Windows, maintenant, lorsque je clique sur l’icône d’Outlook, le VPN se connecte s’il ne l’était pas déjà.</p>\n\n<p>Il suffit d’une seule commande PowerShell pour faire cela !</p>\n\n<p>Tout d’abord, fermez Outlook et déconnectez votre connexion VPN puis ouvrez un terminal PowerShell et identifiez le nom de votre connexion VPN avec la commande suivante.</p>\n\n<pre><code>PS C:\\Users\\Raphael&gt; Get-VpnConnection\nName : MaConnexionVPN\nServerAddress : vpn.example.com\nAllUserConnection : False\nGuid : {F91D7D95-C168-459D-ABE6-6EA2C856A2E6}\nTunnelType : Automatic\nAuthenticationMethod : {Chap, MsChapv2, Pap}\nEncryptionLevel : Optional\nL2tpIPsecAuth : Certificate\nUseWinlogonCredential : False\nEapConfigXmlStream :\nConnectionStatus : Connected\nRememberCredential : True\nSplitTunneling : True\nDnsSuffix :\nIdleDisconnectSeconds : 0\n</code></pre>\n\n<p>Dans cet exemple, ma connexion VPN s’appelle « MaConnexionVPN ».</p>\n\n<p>Et voilà, vous n’avez plus qu’a ajouter le trigger à votre Windows avec la commande qui suit.</p>\n\n<pre><code>PS C:\\Users\\Raphael&gt; Add-VPNConnectionTriggerApplication -Name \"MaConnexionVPN\" -ApplicationID \"C:\\Program Files\\Microsoft Office 15\\root\\office15\\OUTLOOK.EXE\" -Passthru ConnectionName : MaConnexionVPN ApplicationID : {C:\\Program Files\\Microsoft Office 15\\root\\office15\\OUTLOOK.EXE}\n</code></pre>\n\n<p>Évidement, il vous faudra peut être ajuster le chemin vers le binaire d’Outlook.</p>\n\n<p>Maintenant, place à la magie, démarrez Outlook et admirez !</p>\n\n<h2 id=\"source\">Source</h2>\n\n<ul>\n<li><a href=\"ttps://technet.microsoft.com/fr-fr/library/dn296460%28v=wps.630%29.aspx\">technet.microsoft.com</a></li>\n</ul>","image":"https://techan.fr/images/2015/06/powershell-logo.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-12-24T10:55:18.000Z","created_by":1,"updated_at":"2016-11-08T13:05:07.000Z","updated_by":1,"published_at":"2015-12-24T10:55:18.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":180,"uuid":"9473792f-e96d-4023-ad47-d5e0c46cbd18","title":"Importer des utilisateurs Active Directory dans iTop","slug":"importer-des-utilisateurs-active-directory-dans-itop","markdown":"\nIl y a très longtemps, j’ai déjà parlé de la mise en place de l’authentification via l’Active Directory dans iTop – voir [[iTop] Configuration de l’authentification Active Directory](https://techan.fr/itop-configuration-de-lauthentification-active-directory/) – aujourd’hui, je vous propose d’aller un peu plus loin en important les comptes Active Directory dans iTop. Ceci permet de ne plus avoir a créer les comptes utilisateurs et les contacts associés lorsque l’authentification Active Directory est activée. Croyez moi, c’est un gain de temps énorme ! :-)\n\n \n\n\n## Passons à l’action !\n\nTout d’abord, il faut récupérer le script ([ici](http://www.combodo.com/documentation/AD_import_accounts.txt)) développé par [Combodo](http://www.combodo.com/) – l’éditeur d’iTop – et le placer dans le dossier **<ITOP_Directory>/webservices**. Partons du principe que vous l’appellerez : **AD_<span class=\"search_hit\">import</span>_accounts.php.**\n\n \n\nUne fois le script en place, éditez le. La partie à configurer se trouve tout au début.\n\n    ////////////////////////////////////////////////////////////////////////////////\n    // Configuration parameters: adjust them to connect to your AD server\n    // And configure the mapping between AD groups and iTop profiles \n    $aConfig = array( \n    // Configuration of the Active Directory connection \n    'host' => '<AD Server IP ou DNS>', \n    // IP or FQDN of your domain controller \n    'port' => '389', \n    // LDAP port, 398=LDAP, 636= LDAPS \n    'dn' => 'DC=<EXAMPLE>,DC=<COM>', \n    // Domain DN \n    'username' => '<DOMAIN>\\\\<UTILISATEUR>', \n    // username with read access \n    'password' => '<MOT DE PASSE>', \n    // password for above \n    // Query to retrieve and filter the users from AD \n    // Example: retrieve all users from the AD Group \"iTop Users\" \n    //'ldap_query' => '(&(objectCategory=user)(memberOf=OU=__Internal Users__TeamWork,DC=twm,DC=ch))', \n    // Example 2: retrieves ALL the users from AD 'ldap_query' => '(&(objectCategory=user))', \n    // Retrieve all users \n    // Which field to use as the iTop login samaccountname or userprincipalname ? \n    'login' => 'samaccountname', \n    //'login' => 'userprincipalname', \n    // Mapping between the AD groups and the iTop profiles \n    'profiles_mapping' => array( \n    //AD Group Name => iTop Profile Name \n    //'Administrators' => 'Administrator', ),\n    // Since each iTop user must have at least one profile, assign the profile \n    // Below to users for which there was no match in the above mapping \n    'default_profile' => 'Portal user', \n    'default_language' => 'EN US', \n    // Default language for creating new users\n    'default_organization' => <ID de l'organisation dans laquelle créer les utilisateurs>, \n    // ID of the default organization for creating new contacts \n    ); \n    // End of configuration\n\n \n\nEt voilà, tout devrait être OK, maintenant, vous n’avez plus qu’à lancer le script soit directement en ligne de commande :\n\n    php -q AD_import_accounts.php --auth_user=<iTop_admin_user> --auth_pwd=<iTop_admin_pwd>\n\nVous pouvez également le lancer depuis votre navigateur Web, le résultat est bien plus sympa de cette façon. Pour cela il suffit d’ouvrir l’URL suivante :\n\n*http://itop.example.com/webservices/AD_import_accounts.php*\n\n \n\nPar défaut ce script fonctionne en mode « Dry Run », rien ne sera donc créé ou modifié dans votre iTop. Pour que le script réalise les modifications, il faut ajouter un paramètre à la ligne de commande ou dans l’URL.\n\n- php -q AD_import_accounts.php --auth_user=<iTop_admin_user> --auth_pwd=<iTop_admin_pwd> --simulation=0\n- http://itop.example.com/webservices/AD_import_accounts.php?simulation=0\n\n \n\n\n## Sources\n\n- [wiki.openitop.org (Anglais)](https://wiki.openitop.org/doku.php?id=active_directory_integration&s[]=active&s[]=directory&s[]=import)\n\n\n","html":"<p>Il y a très longtemps, j’ai déjà parlé de la mise en place de l’authentification via l’Active Directory dans iTop – voir <a href=\"https://techan.fr/itop-configuration-de-lauthentification-active-directory/\">[iTop] Configuration de l’authentification Active Directory</a> – aujourd’hui, je vous propose d’aller un peu plus loin en important les comptes Active Directory dans iTop. Ceci permet de ne plus avoir a créer les comptes utilisateurs et les contacts associés lorsque l’authentification Active Directory est activée. Croyez moi, c’est un gain de temps énorme ! :-)</p>\n\n<h2 id=\"passonslaction\">Passons à l’action !</h2>\n\n<p>Tout d’abord, il faut récupérer le script (<a href=\"http://www.combodo.com/documentation/AD_import_accounts.txt\">ici</a>) développé par <a href=\"http://www.combodo.com/\">Combodo</a> – l’éditeur d’iTop – et le placer dans le dossier <strong><ITOP_Directory>/webservices</strong>. Partons du principe que vous l’appellerez : <strong>AD<em><span class=\"search_hit\">import</span></em>accounts.php.</strong></p>\n\n<p>Une fois le script en place, éditez le. La partie à configurer se trouve tout au début.</p>\n\n<pre><code>////////////////////////////////////////////////////////////////////////////////\n// Configuration parameters: adjust them to connect to your AD server\n// And configure the mapping between AD groups and iTop profiles \n$aConfig = array( \n// Configuration of the Active Directory connection \n'host' =&gt; '&lt;AD Server IP ou DNS&gt;', \n// IP or FQDN of your domain controller \n'port' =&gt; '389', \n// LDAP port, 398=LDAP, 636= LDAPS \n'dn' =&gt; 'DC=&lt;EXAMPLE&gt;,DC=&lt;COM&gt;', \n// Domain DN \n'username' =&gt; '&lt;DOMAIN&gt;\\\\&lt;UTILISATEUR&gt;', \n// username with read access \n'password' =&gt; '&lt;MOT DE PASSE&gt;', \n// password for above \n// Query to retrieve and filter the users from AD \n// Example: retrieve all users from the AD Group \"iTop Users\" \n//'ldap_query' =&gt; '(&amp;(objectCategory=user)(memberOf=OU=__Internal Users__TeamWork,DC=twm,DC=ch))', \n// Example 2: retrieves ALL the users from AD 'ldap_query' =&gt; '(&amp;(objectCategory=user))', \n// Retrieve all users \n// Which field to use as the iTop login samaccountname or userprincipalname ? \n'login' =&gt; 'samaccountname', \n//'login' =&gt; 'userprincipalname', \n// Mapping between the AD groups and the iTop profiles \n'profiles_mapping' =&gt; array( \n//AD Group Name =&gt; iTop Profile Name \n//'Administrators' =&gt; 'Administrator', ),\n// Since each iTop user must have at least one profile, assign the profile \n// Below to users for which there was no match in the above mapping \n'default_profile' =&gt; 'Portal user', \n'default_language' =&gt; 'EN US', \n// Default language for creating new users\n'default_organization' =&gt; &lt;ID de l'organisation dans laquelle créer les utilisateurs&gt;, \n// ID of the default organization for creating new contacts \n); \n// End of configuration\n</code></pre>\n\n<p>Et voilà, tout devrait être OK, maintenant, vous n’avez plus qu’à lancer le script soit directement en ligne de commande :</p>\n\n<pre><code>php -q AD_import_accounts.php --auth_user=&lt;iTop_admin_user&gt; --auth_pwd=&lt;iTop_admin_pwd&gt;\n</code></pre>\n\n<p>Vous pouvez également le lancer depuis votre navigateur Web, le résultat est bien plus sympa de cette façon. Pour cela il suffit d’ouvrir l’URL suivante :</p>\n\n<p><em><a href=\"http://itop.example.com/webservices/AD_import_accounts.php\">http://itop.example.com/webservices/AD_import_accounts.php</a></em></p>\n\n<p>Par défaut ce script fonctionne en mode « Dry Run », rien ne sera donc créé ou modifié dans votre iTop. Pour que le script réalise les modifications, il faut ajouter un paramètre à la ligne de commande ou dans l’URL.</p>\n\n<ul>\n<li>php -q AD<em>import</em>accounts.php --auth<em>user=<iTop_admin_user> --auth</em>pwd=<iTop_admin_pwd> --simulation=0</li>\n<li><p><a href=\"http://itop.example.com/webservices/AD\">http://itop.example.com/webservices/AD</a><em>import</em>accounts.php?simulation=0</p></li>\n</ul>\n\n<h2 id=\"sources\">Sources</h2>\n\n<ul>\n<li><a href=\"https://wiki.openitop.org/doku.php?id=active_directory_integration&amp;s[]=active&amp;s[]=directory&amp;s[]=import\">wiki.openitop.org (Anglais)</a></li>\n</ul>","image":"https://techan.fr/images/2016/01/itop-logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-01-25T10:13:08.000Z","created_by":1,"updated_at":"2016-11-08T13:09:25.000Z","updated_by":1,"published_at":"2016-01-25T10:13:08.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":182,"uuid":"5744c700-007e-465e-bf0f-93e744310aa3","title":"Vérouiller Ubuntu lorsqu'un périphérique Bluetooth se déconnecte","slug":"verouiller-ubuntu-lorsquun-peripherique-bluetooth-se-deconnecte-2","markdown":"### Installation des pré-requis\n\nAfin de pouvoir utiliser la fonctionnalité fournie par Blueproximity, il faut installer le paquet _blueproximity_.\n\n<pre><code class=\"hljs bash\">sudo apt-get install blueproximity</code></pre>\n\n### Création des scripts de verouillage et de déverrouillage.\n\nNous allons devoir créer les deux scripts suivants.\n\n<pre><code class=\"hljs bash\">sudo vi /usr/share/blueproximity/unlockScreen.sh</code></pre>\n\n<pre><code class=\"hljs bash\">#!/bin/bash\nsession=$(loginctl show-user $SUDO_USER | sed -n '/Display/ s/Display=//p')\nloginctl unlock-session $session</code></pre>\n\n\n<pre><code class=\"hljs bash\">sudo vi /usr/share/blueproximity/lockScreen.sh</code></pre>\n\n<pre><code class=\"hljs bash\">#!/bin/bash\nsession=$(loginctl show-user $SUDO_USER | sed -n '/Display/ s/Display=//p')\nloginctl lock-session $session</code></pre>\n\nIl nous faut maintenant positionner les droits sur ces nouveaux scripts.\n\n<pre><code class=\"hljs bash\">sudo chown root: /usr/share/blueproximity/*lockScreen.sh\nsudo chmod 0755 /usr/share/blueproximity/*lockScreen.sh</code></pre>\n\nEnfin, nous configurons _sudo_ pour que les scripts puissent être utilisés.\n\n<pre><code class=\"hljs bash\">$ sudo su -\n# cat <<EOF >> /etc/sudoers.d/blueproximity\n# Allow users to lock and unlock their screens by running these scripts as sudo\nALL ALL=NOPASSWD: /usr/share/blueproximity/lockScreen.sh\nALL ALL=NOPASSWD: /usr/share/blueproximity/unlockScreen.sh\nEOF</code></pre>\n\n\n### Configuration de Blueproximity\n\nPour configurer l'outil, il faut tout d'abord le lancer.\n\n<pre><code class=\"hljs bash\">blueproximity</code></pre>\n\n\n![Cliquez sur 'Scan for devices'](https://techan.fr/images/2016/04/BlueProximity_Preferences_005.png)\n\n\n![Sélectionnez le périphérique et cliquez sur 'Use selected device'](https://techan.fr/images/2016/04/BlueProximity_Preferences_006.png)\n\n![Cliquez sur 'Scan channels on devices'](https://techan.fr/images/2016/04/BlueProximity_Preferences_007.png)\n\n![Sélectionnez un channel marqué comme 'usable' et cliquez sur 'Fermer'](https://techan.fr/images/2016/04/BlueProximity_Preferences_008.png)\n\nNous allons maintenant ajouter BlueProximity au démarrage de la session, pour cela ouvrez les \"Applications au démarrage\".\n\n![Applications au démarrage](https://techan.fr/images/2016/04/Sélection_009.png)\n\nAjoutez BlueProximity au démarrage.\n\n![Ajoutez BlueProximity au démarrage](https://techan.fr/images/2016/04/BlueProximity_startup_005.png)\n\n\nModifier le fichier de configuration de Blueproximity.\n\n<pre><code class=\"hljs bash\">vi ~/.blueproximity/standard.conf</code></pre>\n\n<pre><code class=\"hljs bash\">lock_command = sudo /usr/share/blueproximity/lockScreen.sh\nunlock_command = sudo /usr/share/blueproximity/unlockScreen.sh\nproximity_command = sudo /usr/share/blueproximity/unlockScreen.sh</code></pre>\n\nEt voilà, fermez et ré-ouvrez votre session !\n\n## Sources\n\n* [www.mljenkins.com](http://www.mljenkins.com/2016/01/24/blueproximity-on-ubuntu-14-04-lts/)\n* [ubuntuforums.org](http://ubuntuforums.org/showthread.php?t=702372)","html":"<h3 id=\"installationdesprrequis\">Installation des pré-requis</h3>\n\n<p>Afin de pouvoir utiliser la fonctionnalité fournie par Blueproximity, il faut installer le paquet <em>blueproximity</em>.</p>\n\n<pre><code class=\"hljs bash\">sudo apt-get install blueproximity</code></pre>\n\n<h3 id=\"crationdesscriptsdeverouillageetdedverrouillage\"> Création des scripts de verouillage et de déverrouillage.</h3>\n\n<p>Nous allons devoir créer les deux scripts suivants.</p>\n\n<pre><code class=\"hljs bash\">sudo vi /usr/share/blueproximity/unlockScreen.sh</code></pre>\n\n<pre><code class=\"hljs bash\">#!/bin/bash\nsession=$(loginctl show-user $SUDO_USER | sed -n '/Display/ s/Display=//p')\nloginctl unlock-session $session</code></pre>\n\n<pre><code class=\"hljs bash\">sudo vi /usr/share/blueproximity/lockScreen.sh</code></pre>\n\n<pre><code class=\"hljs bash\">#!/bin/bash\nsession=$(loginctl show-user $SUDO_USER | sed -n '/Display/ s/Display=//p')\nloginctl lock-session $session</code></pre>\n\n<p>Il nous faut maintenant positionner les droits sur ces nouveaux scripts.</p>\n\n<pre><code class=\"hljs bash\">sudo chown root: /usr/share/blueproximity/*lockScreen.sh\nsudo chmod 0755 /usr/share/blueproximity/*lockScreen.sh</code></pre>\n\n<p>Enfin, nous configurons <em>sudo</em> pour que les scripts puissent être utilisés.</p>\n\n<pre><code class=\"hljs bash\">$ sudo su -\n# cat <<EOF >> /etc/sudoers.d/blueproximity\n# Allow users to lock and unlock their screens by running these scripts as sudo\nALL ALL=NOPASSWD: /usr/share/blueproximity/lockScreen.sh\nALL ALL=NOPASSWD: /usr/share/blueproximity/unlockScreen.sh\nEOF</code></pre>\n\n<h3 id=\"configurationdeblueproximity\">Configuration de Blueproximity</h3>\n\n<p>Pour configurer l'outil, il faut tout d'abord le lancer.</p>\n\n<pre><code class=\"hljs bash\">blueproximity</code></pre>\n\n<p><img src=\"https://techan.fr/images/2016/04/BlueProximity_Preferences_005.png\" alt=\"Cliquez sur 'Scan for devices'\" /></p>\n\n<p><img src=\"https://techan.fr/images/2016/04/BlueProximity_Preferences_006.png\" alt=\"Sélectionnez le périphérique et cliquez sur 'Use selected device'\" /></p>\n\n<p><img src=\"https://techan.fr/images/2016/04/BlueProximity_Preferences_007.png\" alt=\"Cliquez sur 'Scan channels on devices'\" /></p>\n\n<p><img src=\"https://techan.fr/images/2016/04/BlueProximity_Preferences_008.png\" alt=\"Sélectionnez un channel marqué comme 'usable' et cliquez sur 'Fermer'\" /></p>\n\n<p>Nous allons maintenant ajouter BlueProximity au démarrage de la session, pour cela ouvrez les \"Applications au démarrage\".</p>\n\n<p><img src=\"https://techan.fr/images/2016/04/Sélection_009.png\" alt=\"Applications au démarrage\" /></p>\n\n<p>Ajoutez BlueProximity au démarrage.</p>\n\n<p><img src=\"https://techan.fr/images/2016/04/BlueProximity_startup_005.png\" alt=\"Ajoutez BlueProximity au démarrage\" /></p>\n\n<p>Modifier le fichier de configuration de Blueproximity.</p>\n\n<pre><code class=\"hljs bash\">vi ~/.blueproximity/standard.conf</code></pre>\n\n<pre><code class=\"hljs bash\">lock_command = sudo /usr/share/blueproximity/lockScreen.sh\nunlock_command = sudo /usr/share/blueproximity/unlockScreen.sh\nproximity_command = sudo /usr/share/blueproximity/unlockScreen.sh</code></pre>\n\n<p>Et voilà, fermez et ré-ouvrez votre session !</p>\n\n<h2 id=\"sources\"> Sources</h2>\n\n<ul>\n<li><a href=\"http://www.mljenkins.com/2016/01/24/blueproximity-on-ubuntu-14-04-lts/\">www.mljenkins.com</a></li>\n<li><a href=\"http://ubuntuforums.org/showthread.php?t=702372\">ubuntuforums.org</a></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-05-18T09:58:41.000Z","created_by":1,"updated_at":"2016-05-18T10:05:02.000Z","updated_by":1,"published_at":"2016-05-18T10:03:44.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":183,"uuid":"0abc4290-59ea-4fad-a8ea-fb653a642873","title":"Recherche","slug":"recherche","markdown":"","html":"","image":null,"featured":0,"page":1,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-05-19T08:57:35.000Z","created_by":1,"updated_at":"2016-05-19T11:34:53.000Z","updated_by":1,"published_at":"2016-05-19T11:34:50.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":184,"uuid":"b35c28c8-668a-4d6f-a538-cf3e42c8f623","title":"Publier automatiquement sur FaceBook les nouveaux posts dans Hugo","slug":"publier-automatiquement-sur-facebook-les-nouveaux-posts-dans-hugo","markdown":"==Note : Ceci fonctionne également pour [Ghost](https://ghost.org/fr/), en remplaçant l'URL du flux RSS par : http://monsite.net/rss/ ==\n\nDans un premier, il faudra que vous vous créiez un compte sur le site d'[IFTTT](https://ifttt.com).\nUne fois votre en main, vous allez créer une nouvelle recette ! ;-)\n\nUne recette se compose de deux éléments, une condition et une action déclenchée lorsque cette condition est validée.\n\n\n![](https://techan.fr/images/2016/04/Sélection_010.png)\n\n\nComme condition, nous allons utiliser \"_Feed_\" qui vérifie un flux RSS.\n\n![](https://techan.fr/images/2016/04/Sélection_011.png)\n\nDans la configuration de cette condition, nous allons utiliser \"_New feed item_\".\n\n![](https://techan.fr/images/2016/04/Sélection_012.png)\n\nRenseignez l'URL du flux RSS de votre blog Hugo.\n\n![](https://techan.fr/images/2016/04/Sélection_013.png)\n\nComme action, nous allons utiliser \"_Faceboo Pages_\", pour cela, cliquez sur l'icône appropriée.\n\n![](https://techan.fr/images/2016/04/Sélection_014.png)\n\n[IFTTT](https://ifttt.com) vous demandera alors de connecter votre compte Facebook à votre compte sur le site. Suivez les étapes ;-)\n\n![](https://techan.fr/images/2016/04/Sélection_015.png)\n\nPersonnalisez la façon dont les posts seront ajoutés sur votre page Facebook.\n\n![](https://techan.fr/images/2016/04/Sélection_016.png)\n\nEt enfin, créez votre recette ! :-)\n\n## Sources\n\n* [www.mljenkins.com](http://www.mljenkins.com/2016/01/24/blueproximity-on-ubuntu-14-04-lts/)\n* [ubuntuforums.org](http://ubuntuforums.org/showthread.php?t=702372)\n","html":"<p><mark>Note : Ceci fonctionne également pour <a href=\"https://ghost.org/fr/\">Ghost</a>, en remplaçant l'URL du flux RSS par : <a href=\"http://monsite.net/rss/\">http://monsite.net/rss/</a> </mark></p>\n\n<p>Dans un premier, il faudra que vous vous créiez un compte sur le site d'<a href=\"https://ifttt.com\">IFTTT</a>. <br />\nUne fois votre en main, vous allez créer une nouvelle recette ! ;-)</p>\n\n<p>Une recette se compose de deux éléments, une condition et une action déclenchée lorsque cette condition est validée.</p>\n\n<p><img src=\"https://techan.fr/images/2016/04/Sélection_010.png\" alt=\"\" /></p>\n\n<p>Comme condition, nous allons utiliser \"<em>Feed</em>\" qui vérifie un flux RSS.</p>\n\n<p><img src=\"https://techan.fr/images/2016/04/Sélection_011.png\" alt=\"\" /></p>\n\n<p>Dans la configuration de cette condition, nous allons utiliser \"<em>New feed item</em>\".</p>\n\n<p><img src=\"https://techan.fr/images/2016/04/Sélection_012.png\" alt=\"\" /></p>\n\n<p>Renseignez l'URL du flux RSS de votre blog Hugo.</p>\n\n<p><img src=\"https://techan.fr/images/2016/04/Sélection_013.png\" alt=\"\" /></p>\n\n<p>Comme action, nous allons utiliser \"<em>Faceboo Pages</em>\", pour cela, cliquez sur l'icône appropriée.</p>\n\n<p><img src=\"https://techan.fr/images/2016/04/Sélection_014.png\" alt=\"\" /></p>\n\n<p><a href=\"https://ifttt.com\">IFTTT</a> vous demandera alors de connecter votre compte Facebook à votre compte sur le site. Suivez les étapes ;-)</p>\n\n<p><img src=\"https://techan.fr/images/2016/04/Sélection_015.png\" alt=\"\" /></p>\n\n<p>Personnalisez la façon dont les posts seront ajoutés sur votre page Facebook.</p>\n\n<p><img src=\"https://techan.fr/images/2016/04/Sélection_016.png\" alt=\"\" /></p>\n\n<p>Et enfin, créez votre recette ! :-)</p>\n\n<h2 id=\"sources\"> Sources</h2>\n\n<ul>\n<li><a href=\"http://www.mljenkins.com/2016/01/24/blueproximity-on-ubuntu-14-04-lts/\">www.mljenkins.com</a></li>\n<li><a href=\"http://ubuntuforums.org/showthread.php?t=702372\">ubuntuforums.org</a></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-05-19T09:33:24.000Z","created_by":1,"updated_at":"2016-05-19T09:38:02.000Z","updated_by":1,"published_at":"2016-05-19T09:38:02.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":185,"uuid":"5b02622b-c616-4a44-abb4-7678e9fedda6","title":"Utiliser Skype for Business sur Linux","slug":"utiliser-skype-for-business-sur-linux","markdown":"### Installation des pré-requis\n\nAfin de pouvoir se connecter à Skype for Business avec Pidgin, il nous faut installer un dépôt supplémentaire et installer le paquet _pidgin-sipe_.\n\n<pre><code class=\"hljs bash\">sudo add-apt-repository ppa:sipe-collab\nsudo apt-get update\nsudo apt-get upgrade\nsudo apt-get install pidgin-sipe</code></pre>\n\nIl faut également ajouter une ligne dans le fichier _~/.bashrc_.\n\n<pre><code class=\"hljs bash\">echo \"export NSS_SSL_CBC_RANDOM_IV=0\" >> ~/.bashrc\nsource ~/.bashrc</code></pre>\n\n### Configuration de Pidgin\n\nDémarrez Pidgin et ajoutez un nouveau compte, choissiez le protocole _Office Communicator_ et reseignez votre compte - dans le champ _Utilisateur_ - ainsi que le mot de passe de ce compte.\n\n![](https://techan.fr/images/2016/03/skype_configuration_compte_1.png)\n\n\nPassons maintennant à la configuration avancée, ceci se passe dans l'onglet _Avancé_.\n\n* Laissez le _Type de connection_ sur _Auto_\n* Renseignez l'_Agent utilisateur_ avec la valeur : ``UCCAPI/15.0.4753.1000 OC/15.0.4753.1003``\n*  Changez le _Schéma d'authentification_ et choissez _TLS-DSK_\n\n![](https://techan.fr/images/2016/03/skype_configuration_compte_2.png)\n\n\nEt voilà, il ne vous reste plus qu'à vous connecter à votre compte !","html":"<h3 id=\"installationdesprrequis\">Installation des pré-requis</h3>\n\n<p>Afin de pouvoir se connecter à Skype for Business avec Pidgin, il nous faut installer un dépôt supplémentaire et installer le paquet <em>pidgin-sipe</em>.</p>\n\n<pre><code class=\"hljs bash\">sudo add-apt-repository ppa:sipe-collab\nsudo apt-get update\nsudo apt-get upgrade\nsudo apt-get install pidgin-sipe</code></pre>\n\n<p>Il faut également ajouter une ligne dans le fichier <em>~/.bashrc</em>.</p>\n\n<pre><code class=\"hljs bash\">echo \"export NSS_SSL_CBC_RANDOM_IV=0\" >> ~/.bashrc\nsource ~/.bashrc</code></pre>\n\n<h3 id=\"configurationdepidgin\">Configuration de Pidgin</h3>\n\n<p>Démarrez Pidgin et ajoutez un nouveau compte, choissiez le protocole <em>Office Communicator</em> et reseignez votre compte - dans le champ <em>Utilisateur</em> - ainsi que le mot de passe de ce compte.</p>\n\n<p><img src=\"https://techan.fr/images/2016/03/skype_configuration_compte_1.png\" alt=\"\" /></p>\n\n<p>Passons maintennant à la configuration avancée, ceci se passe dans l'onglet <em>Avancé</em>.</p>\n\n<ul>\n<li>Laissez le <em>Type de connection</em> sur <em>Auto</em></li>\n<li>Renseignez l'<em>Agent utilisateur</em> avec la valeur : <code>UCCAPI/15.0.4753.1000 OC/15.0.4753.1003</code></li>\n<li>Changez le <em>Schéma d'authentification</em> et choissez <em>TLS-DSK</em></li>\n</ul>\n\n<p><img src=\"https://techan.fr/images/2016/03/skype_configuration_compte_2.png\" alt=\"\" /></p>\n\n<p>Et voilà, il ne vous reste plus qu'à vous connecter à votre compte !</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-05-19T09:44:40.000Z","created_by":1,"updated_at":"2016-05-19T09:47:31.000Z","updated_by":1,"published_at":"2016-05-19T09:47:31.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":187,"uuid":"13c3da25-084c-4013-bd0a-8f7e8c82d368","title":"Un bien beau métier, Informaticien","slug":"un-bien-beau-metier-informaticien","markdown":"\n\nJe suis informaticien et je ne m'en cache pas, vous avez dû le remarquer. Mes domaines d'expertises sont la virtualisation, les bases de données et les systèmes Linux. Ça fait quelques années que je fais ça, je n'utilise plus que Linux et ça me plait ! \n\nCependant il y a une chose que je ne supporte plus. Plus ennuyeux qu'une mise en production à 3h du matin. Plus pénible qu'un ticket arrivant à 17h un vendredi. Je m'en vais vous compter mon pire cauchemar, oui le pire.\n\nTout d'abord, plantons les décors. C'est le week-end, vous êtes tranquillement sur votre terrasse lorsque des amis arrivent ...\n\n\n## La phase des banalités \n\nJusque là tout va bien me direz vous, la bière est fraîche, les biscuits apéritifs croustillent, bref, le panard ! La conversation va bon train tant et si bien qu'elle glisse sur le sujet professionnel. Arrive alors le moment où Micheline commence son tour de table avec sa fabuleuse question : \n\n> \"Et toi tu es dans quoi ?\"\n\n_Le piège est tendu !_ Même si vous avez déjà bien fondu sur votre chaise, vous êtes toujours visible et Micheline ne vous a pas oublié ! \n\n\n![La phase des banalités](/content/images/2016/05/je_suis---informaticien.png)\n\n\n> \"Je suis ... informaticien ...\"\n>\n> \"Ah c'est bien ! Tu t'occupes des ordinateurs !\"\n>\n> \"Euh non, c'est pas vraiment mon travail.\"\n>\n> \"Ah mais alors tu fais quoi !?!\"\n>\n> \"Je gère des bases de données, j'administre des serveurs Linux et je gère des parcs de serveurs virtualités.\"\n\nJe vous passe les quatre heures d'explications, de toute façon, à la fin, Micheline n'aura toujours pas compris ...\n\n_Clac ! Le piège s'est refermé !_\n\n\n## Le Guêpier\n\nÇa y est maintenant Micheline vous a cerné ! Elle a bien retenu que votre métier est de réparer des ordinateurs toute la journée ! Si elle ne vous a pas encore parlé de l'ordinateur de Mamy Thérèse qui \"est vraiment très très lent\", en revanche elle a bien retenu votre nom, votre adresse, votre page Facebook, votre compte Twitter, ... Pour mieux vous recontacter lorsque Mamy Thérèse en aura vraiment marre de son ordinateur vraiment très très lent.\n\nLe plus drôle c'est que si vous refusez poliment d'aider Mamy Thérèse, vous aurez l'air d'être un goujat !\n\n\n## La \"Solution\"\n\nJe dois avouer que depuis quelques temps, j'ai trouvé une solution. Elle s'imposait, mais elle ne me plait pas vraiment. Maintenant je dit que je travaille dans la vente... \n\n\n\n\n\n_Merci à [Framasoft](http://www.framasoft.net/) pour l’outil [GéGé](http://framalab.org/gknd-creator/) ainsi qu'à [Gee](http://geektionnerd.net/) de prêter ses personnages._","html":"<p>Je suis informaticien et je ne m'en cache pas, vous avez dû le remarquer. Mes domaines d'expertises sont la virtualisation, les bases de données et les systèmes Linux. Ça fait quelques années que je fais ça, je n'utilise plus que Linux et ça me plait ! </p>\n\n<p>Cependant il y a une chose que je ne supporte plus. Plus ennuyeux qu'une mise en production à 3h du matin. Plus pénible qu'un ticket arrivant à 17h un vendredi. Je m'en vais vous compter mon pire cauchemar, oui le pire.</p>\n\n<p>Tout d'abord, plantons les décors. C'est le week-end, vous êtes tranquillement sur votre terrasse lorsque des amis arrivent ...</p>\n\n<h2 id=\"laphasedesbanalits\">La phase des banalités</h2>\n\n<p>Jusque là tout va bien me direz vous, la bière est fraîche, les biscuits apéritifs croustillent, bref, le panard ! La conversation va bon train tant et si bien qu'elle glisse sur le sujet professionnel. Arrive alors le moment où Micheline commence son tour de table avec sa fabuleuse question : </p>\n\n<blockquote>\n  <p>\"Et toi tu es dans quoi ?\"</p>\n</blockquote>\n\n<p><em>Le piège est tendu !</em> Même si vous avez déjà bien fondu sur votre chaise, vous êtes toujours visible et Micheline ne vous a pas oublié ! </p>\n\n<p><img src=\"/content/images/2016/05/je_suis---informaticien.png\" alt=\"La phase des banalités\" /></p>\n\n<blockquote>\n  <p>\"Je suis ... informaticien ...\"</p>\n  \n  <p>\"Ah c'est bien ! Tu t'occupes des ordinateurs !\"</p>\n  \n  <p>\"Euh non, c'est pas vraiment mon travail.\"</p>\n  \n  <p>\"Ah mais alors tu fais quoi !?!\"</p>\n  \n  <p>\"Je gère des bases de données, j'administre des serveurs Linux et je gère des parcs de serveurs virtualités.\"</p>\n</blockquote>\n\n<p>Je vous passe les quatre heures d'explications, de toute façon, à la fin, Micheline n'aura toujours pas compris ...</p>\n\n<p><em>Clac ! Le piège s'est refermé !</em></p>\n\n<h2 id=\"legupier\">Le Guêpier</h2>\n\n<p>Ça y est maintenant Micheline vous a cerné ! Elle a bien retenu que votre métier est de réparer des ordinateurs toute la journée ! Si elle ne vous a pas encore parlé de l'ordinateur de Mamy Thérèse qui \"est vraiment très très lent\", en revanche elle a bien retenu votre nom, votre adresse, votre page Facebook, votre compte Twitter, ... Pour mieux vous recontacter lorsque Mamy Thérèse en aura vraiment marre de son ordinateur vraiment très très lent.</p>\n\n<p>Le plus drôle c'est que si vous refusez poliment d'aider Mamy Thérèse, vous aurez l'air d'être un goujat !</p>\n\n<h2 id=\"lasolution\">La \"Solution\"</h2>\n\n<p>Je dois avouer que depuis quelques temps, j'ai trouvé une solution. Elle s'imposait, mais elle ne me plait pas vraiment. Maintenant je dit que je travaille dans la vente... </p>\n\n<p><em>Merci à <a href=\"http://www.framasoft.net/\">Framasoft</a> pour l’outil <a href=\"http://framalab.org/gknd-creator/\">GéGé</a> ainsi qu'à <a href=\"http://geektionnerd.net/\">Gee</a> de prêter ses personnages.</em></p>","image":"","featured":1,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-05-24T19:00:50.000Z","created_by":1,"updated_at":"2016-05-25T12:36:33.000Z","updated_by":1,"published_at":"2016-05-24T20:53:17.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":189,"uuid":"ff414058-7877-49dd-8de1-75e312f545d8","title":"Configurer la compression HTTP avec HAProxy","slug":"configurer-la-compression-http-avec-haproxy","markdown":"\n\n[HAProxy])http://www.haproxy.org/#desc) est un outil open source gratuit et très performant qui offre des fonctionnalités de proxy mais surtout de Haute Disponibilité et d'Équilibrage de Charge. Il supporte les applications utilisant le protocole HTTP - sites web - mais également toute application utilisant le protocole TCP.\n\nJe l'utilise personnellement pour faut de la terminaison SSL sur mes sites. [HAProxy])http://www.haproxy.org/#desc) me permet également d'équilibrer la charge entre chacun des containers Docker composant mes sites.\n\n[HAProxy])http://www.haproxy.org/#desc) permet également de décharger les serveurs web de vos applications de certaines des tâches qui leur sont habituellement dévolues. Nous allons voir ici comment configurer [HAProxy])http://www.haproxy.org/#desc) pour qu'il prenne en charge la compression de flux HTTP.\n\n\n# Compression\n\nLa compression permet de réduire la quantité de données qui transitent sur internet entre le serveur et le navigateur du visiteur. Le navigateur du visiteur devra décompresser les différents éléments après réception. C'est une méthode très pratique pour réduire le temps de chargement d'une page web, d'autant plus qu'une grande majorité des éléments constitutifs d'un site internet se compressent très bien comme les feuille de style - CSS -,  les fichiers JavaScript ou encore le code HTML.\n\nHAProxy permet la mise en place de la compression très simplement, au moyen des deux lignes ci-dessous.\n\n\n    compression algo gzip\n    compression type text/html text/plain text/css text/javascript\n\nLa première ligne indique quel algorithme de compression HAProxy doit utiliser et la seconde quand à elle lui spécifié quels type de contenus il va devoir compresser.\n\nOn active la compression dans HAProxy en ajoutant ces deux lignes soit dans la partie `defaults` du fichier de configuration - dans ce cas, la compression sera activée pour tous les `backend` définis. On peut également l'activer `backend` par `backend` en ajoutant ces lignes dans leur bloc spécifique.\n\n\n\n##Exemple de configuration générale\n\n\n    defaults\n      log global\n      mode http\n      option forwardfor\n      option http-server-close\n      option httplog\n      option log-health-checks\n      option dontlognull\n      maxconn  2000\n      timeout connect 180000\n      timeout client 180000\n      timeout server 180000\n      compression algo gzip\n      compression type text/html text/plain text/css text/javascript\n\n\n##Exemple de configuration d'un backend spécifique\n\n\n\n    backend sondage_backends\n      mode http\n      option forwardfor\n      balance source\n      cookie SRV insert indirect nocache\n      server sondage_app_1 framadate_app_1.frontend:80 check\n      option httpchk GET /\n      http-check expect status 200\n      compression algo gzip\n      compression type text/html text/plain text/css text/javascript\n\n\nTestons maintenant l'efficacité de cette compression sur un fichier JavaScript.\n\n![Téléchargement sans compression](/content/images/2016/05/telechargement_sans_compression.png)\n\nSans compression, le client télécharge 111 Ko.\n\n![Téléchargement sans compression](/content/images/2016/05/telechargement_avec_compression.png)\n\nAvec la compression, le client ne télécharge plus que 43 Ko !\n\n\n## Source\n* [Doc. HAProxy](http://blog.haproxy.com/2012/10/26/haproxy-and-gzip-compression/)\n","html":"<p>[HAProxy])<a href=\"http://www.haproxy.org/#desc\">http://www.haproxy.org/#desc</a>) est un outil open source gratuit et très performant qui offre des fonctionnalités de proxy mais surtout de Haute Disponibilité et d'Équilibrage de Charge. Il supporte les applications utilisant le protocole HTTP - sites web - mais également toute application utilisant le protocole TCP.</p>\n\n<p>Je l'utilise personnellement pour faut de la terminaison SSL sur mes sites. [HAProxy])<a href=\"http://www.haproxy.org/#desc\">http://www.haproxy.org/#desc</a>) me permet également d'équilibrer la charge entre chacun des containers Docker composant mes sites.</p>\n\n<p>[HAProxy])<a href=\"http://www.haproxy.org/#desc\">http://www.haproxy.org/#desc</a>) permet également de décharger les serveurs web de vos applications de certaines des tâches qui leur sont habituellement dévolues. Nous allons voir ici comment configurer [HAProxy])<a href=\"http://www.haproxy.org/#desc\">http://www.haproxy.org/#desc</a>) pour qu'il prenne en charge la compression de flux HTTP.</p>\n\n<h1 id=\"compression\"> Compression</h1>\n\n<p>La compression permet de réduire la quantité de données qui transitent sur internet entre le serveur et le navigateur du visiteur. Le navigateur du visiteur devra décompresser les différents éléments après réception. C'est une méthode très pratique pour réduire le temps de chargement d'une page web, d'autant plus qu'une grande majorité des éléments constitutifs d'un site internet se compressent très bien comme les feuille de style - CSS -,  les fichiers JavaScript ou encore le code HTML.</p>\n\n<p>HAProxy permet la mise en place de la compression très simplement, au moyen des deux lignes ci-dessous.</p>\n\n<pre><code>compression algo gzip\ncompression type text/html text/plain text/css text/javascript\n</code></pre>\n\n<p>La première ligne indique quel algorithme de compression HAProxy doit utiliser et la seconde quand à elle lui spécifié quels type de contenus il va devoir compresser.</p>\n\n<p>On active la compression dans HAProxy en ajoutant ces deux lignes soit dans la partie <code>defaults</code> du fichier de configuration - dans ce cas, la compression sera activée pour tous les <code>backend</code> définis. On peut également l'activer <code>backend</code> par <code>backend</code> en ajoutant ces lignes dans leur bloc spécifique.</p>\n\n<h2 id=\"exempledeconfigurationgnrale\">Exemple de configuration générale</h2>\n\n<pre><code>defaults\n  log global\n  mode http\n  option forwardfor\n  option http-server-close\n  option httplog\n  option log-health-checks\n  option dontlognull\n  maxconn  2000\n  timeout connect 180000\n  timeout client 180000\n  timeout server 180000\n  compression algo gzip\n  compression type text/html text/plain text/css text/javascript\n</code></pre>\n\n<h2 id=\"exempledeconfigurationdunbackendspcifique\">Exemple de configuration d'un backend spécifique</h2>\n\n<pre><code>backend sondage_backends\n  mode http\n  option forwardfor\n  balance source\n  cookie SRV insert indirect nocache\n  server sondage_app_1 framadate_app_1.frontend:80 check\n  option httpchk GET /\n  http-check expect status 200\n  compression algo gzip\n  compression type text/html text/plain text/css text/javascript\n</code></pre>\n\n<p>Testons maintenant l'efficacité de cette compression sur un fichier JavaScript.</p>\n\n<p><img src=\"/content/images/2016/05/telechargement_sans_compression.png\" alt=\"Téléchargement sans compression\" /></p>\n\n<p>Sans compression, le client télécharge 111 Ko.</p>\n\n<p><img src=\"/content/images/2016/05/telechargement_avec_compression.png\" alt=\"Téléchargement sans compression\" /></p>\n\n<p>Avec la compression, le client ne télécharge plus que 43 Ko !</p>\n\n<h2 id=\"source\"> Source</h2>\n\n<ul>\n<li><a href=\"http://blog.haproxy.com/2012/10/26/haproxy-and-gzip-compression/\">Doc. HAProxy</a></li>\n</ul>","image":"/content/images/2016/05/image-1.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-05-26T17:54:52.000Z","created_by":1,"updated_at":"2016-05-27T13:53:02.000Z","updated_by":1,"published_at":"2016-05-27T13:51:30.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":190,"uuid":"44dda306-25b1-49dc-9258-f05d7557790e","title":"Migrer de WordPress vers Ghost","slug":"migrer-de-wordpress-vers-ghost","markdown":"[Ghost](https://ghost.org/fr/) est un CMS Open Source relativement nouveau sur le marché - comparé aux poids lourds comme WordPress ou Joomla! - la première release de [Ghost](https://ghost.org/fr/) a été rendue disponible sur GitHub le 27 Septembre 2013.\n\nJe vais expliquer ici la marche suivre pour migrer un blog utilisant WordPress dans [Ghost](https://ghost.org/fr/).\n\n\n# A propos de Ghost\n\n\nSous le capot, [Ghost](https://ghost.org/fr/) utilise [Node.js](https://nodejs.org/en/). Par défaut ce CMS utilise une base de donnés SQLite mais il est possible d'utiliser un autre moteur comme MySQL. [Ghost](https://ghost.org/fr/) embarque de base tous les outils dont vous aurez besoin pour gérer votre SEO.\n\nVous êtes convaincus et vous voulez utiliser [Ghost](https://ghost.org/fr/) ? Deux options s'offrent à vous. Vous pouvez héberger votre propre instance de [Ghost](https://ghost.org/fr/) ou prendre le parti du vous faire héberger par [Ghost](https://ghost.org/fr/) eux même - à partir de 19$ par mois tout de même.\n\n# La configuration cible\n\nUne fois la migration effectuée, voici ce que nous aurons : \n- Ghost\n- Serveur Nginx\n\nLe serveur Nginx servira les images importées de WordPress.\n\n\n# La migration en elle même\n\nPour exporter les articles contenus dans WordPress, il faut installer et activer le plugin [Ghost](https://wordpress.org/plugins/ghost/) dans WordPress.\n\n\n## 1. Exporter le contenu de WordPress\n\nDans la page d'administration des plugins pour désactiver tous les autres plugins actifs, ils pourraient ajouter du code dans l'export ce qui pourrait perturber Ghost par la suite.\n\nRendez vous ensuite dans le menu \"Outils\" et cliquez sur l'entrée \"Export to Ghost\". Descendez en bas de la page et téléchargez l'archive.\n\n![Export to Ghost](/content/images/2016/05/image.jpeg)\n\n\n## 2. Importer dans Ghost\n\nRendez vous maintenant dans la page d'administration de Ghost - http://votre.ghost/ghost/. Choisissez le menu \"Labs\", et uploadez l'export réalisé précédemment.\n\n![Menu Labs de l'administration de Ghost](/content/images/2016/05/image-1.jpeg)\n\nL'import peut durer un certain temps, soyez patient ! Il est également probable que vous soyez déconnecté de Ghost pendant le processus.\n\n\n## 3. Les à-côté fastidieux\n\nIl reste maintenant à migrer les images existantes dans WordPress. Ces dernières sont stockées dans le dossier `/dossier/de/wordpress/images`. Copiez ce dossier à côté de votre installation de Ghost - dans cet exemple, je vais utiliser le dossier `/data/ghost/images_wordpress`.\n\nMaintenant que nous avons tout ce qu'il faut dans Ghost et que les images sont disponibles, il ne reste plus qu'à configurer Nginx pour qu'il serve les images et qu'il proxyfie Ghost.\n\nVoici le fichier de configuration à ajouter dans Nginx pour proxyfier Ghost.\n\n    server {\n        listen 0.0.0.0:80;\n        server_name *your-domain-name*;\n        access_log /var/log/nginx/*your-domain-name*.log;\n    \n        location / {\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header HOST $http_host;\n            proxy_set_header X-NginX-Proxy true;\n    \n            proxy_pass http://127.0.0.1:2368;\n            proxy_redirect off;\n        }\n        \n        location /wp-content {\n            alias /data/ghost/images_wordpress ;\n        }\n    }\n\nCe ficher devra être créé dans le dossier /etc/nginx/sites-available, dans cet exemple, je l'appellerai ˋghost.conf`.\n\nIl ne reste qu'à activer cette configuration et à redémarrer Nginx.\n\n`ln -s /etc/nginx/sites-available/ghost.conf /etc/nginx/sites-enabled/ghost.conf`\n\nˋservice nginx restart`\n \n\n# Sources\n\n- [Nginx et Ghost (digitalocean)(Anglais)](https://www.digitalocean.com/community/tutorials/how-to-host-ghost-with-nginx-on-digitalocean)","html":"<p><a href=\"https://ghost.org/fr/\">Ghost</a> est un CMS Open Source relativement nouveau sur le marché - comparé aux poids lourds comme WordPress ou Joomla! - la première release de <a href=\"https://ghost.org/fr/\">Ghost</a> a été rendue disponible sur GitHub le 27 Septembre 2013.</p>\n\n<p>Je vais expliquer ici la marche suivre pour migrer un blog utilisant WordPress dans <a href=\"https://ghost.org/fr/\">Ghost</a>.</p>\n\n<h1 id=\"aproposdeghost\">A propos de Ghost</h1>\n\n<p>Sous le capot, <a href=\"https://ghost.org/fr/\">Ghost</a> utilise <a href=\"https://nodejs.org/en/\">Node.js</a>. Par défaut ce CMS utilise une base de donnés SQLite mais il est possible d'utiliser un autre moteur comme MySQL. <a href=\"https://ghost.org/fr/\">Ghost</a> embarque de base tous les outils dont vous aurez besoin pour gérer votre SEO.</p>\n\n<p>Vous êtes convaincus et vous voulez utiliser <a href=\"https://ghost.org/fr/\">Ghost</a> ? Deux options s'offrent à vous. Vous pouvez héberger votre propre instance de <a href=\"https://ghost.org/fr/\">Ghost</a> ou prendre le parti du vous faire héberger par <a href=\"https://ghost.org/fr/\">Ghost</a> eux même - à partir de 19$ par mois tout de même.</p>\n\n<h1 id=\"laconfigurationcible\">La configuration cible</h1>\n\n<p>Une fois la migration effectuée, voici ce que nous aurons : <br />\n- Ghost\n- Serveur Nginx</p>\n\n<p>Le serveur Nginx servira les images importées de WordPress.</p>\n\n<h1 id=\"lamigrationenellemme\">La migration en elle même</h1>\n\n<p>Pour exporter les articles contenus dans WordPress, il faut installer et activer le plugin <a href=\"https://wordpress.org/plugins/ghost/\">Ghost</a> dans WordPress.</p>\n\n<h2 id=\"1exporterlecontenudewordpress\">1. Exporter le contenu de WordPress</h2>\n\n<p>Dans la page d'administration des plugins pour désactiver tous les autres plugins actifs, ils pourraient ajouter du code dans l'export ce qui pourrait perturber Ghost par la suite.</p>\n\n<p>Rendez vous ensuite dans le menu \"Outils\" et cliquez sur l'entrée \"Export to Ghost\". Descendez en bas de la page et téléchargez l'archive.</p>\n\n<p><img src=\"/content/images/2016/05/image.jpeg\" alt=\"Export to Ghost\" /></p>\n\n<h2 id=\"2importerdansghost\">2. Importer dans Ghost</h2>\n\n<p>Rendez vous maintenant dans la page d'administration de Ghost - <a href=\"http://votre.ghost/ghost/\">http://votre.ghost/ghost/</a>. Choisissez le menu \"Labs\", et uploadez l'export réalisé précédemment.</p>\n\n<p><img src=\"/content/images/2016/05/image-1.jpeg\" alt=\"Menu Labs de l'administration de Ghost\" /></p>\n\n<p>L'import peut durer un certain temps, soyez patient ! Il est également probable que vous soyez déconnecté de Ghost pendant le processus.</p>\n\n<h2 id=\"3lesctfastidieux\">3. Les à-côté fastidieux</h2>\n\n<p>Il reste maintenant à migrer les images existantes dans WordPress. Ces dernières sont stockées dans le dossier <code>/dossier/de/wordpress/images</code>. Copiez ce dossier à côté de votre installation de Ghost - dans cet exemple, je vais utiliser le dossier <code>/data/ghost/images_wordpress</code>.</p>\n\n<p>Maintenant que nous avons tout ce qu'il faut dans Ghost et que les images sont disponibles, il ne reste plus qu'à configurer Nginx pour qu'il serve les images et qu'il proxyfie Ghost.</p>\n\n<p>Voici le fichier de configuration à ajouter dans Nginx pour proxyfier Ghost.</p>\n\n<pre><code>server {\n    listen 0.0.0.0:80;\n    server_name *your-domain-name*;\n    access_log /var/log/nginx/*your-domain-name*.log;\n\n    location / {\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header HOST $http_host;\n        proxy_set_header X-NginX-Proxy true;\n\n        proxy_pass http://127.0.0.1:2368;\n        proxy_redirect off;\n    }\n\n    location /wp-content {\n        alias /data/ghost/images_wordpress ;\n    }\n}\n</code></pre>\n\n<p>Ce ficher devra être créé dans le dossier /etc/nginx/sites-available, dans cet exemple, je l'appellerai ˋghost.conf`.</p>\n\n<p>Il ne reste qu'à activer cette configuration et à redémarrer Nginx.</p>\n\n<p><code>ln -s /etc/nginx/sites-available/ghost.conf /etc/nginx/sites-enabled/ghost.conf</code></p>\n\n<p>ˋservice nginx restart`</p>\n\n<h1 id=\"sources\">Sources</h1>\n\n<ul>\n<li><a href=\"https://www.digitalocean.com/community/tutorials/how-to-host-ghost-with-nginx-on-digitalocean\">Nginx et Ghost (digitalocean)(Anglais)</a></li>\n</ul>","image":"/content/images/2016/05/image-2.jpeg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":"Migrer de WordPress vers Ghost","meta_description":"Je vais expliquer ici la marche suivre pour migrer un blog utilisant WordPress dans Ghost.","author_id":1,"created_at":"2016-05-28T15:00:17.000Z","created_by":1,"updated_at":"2016-05-28T15:06:03.000Z","updated_by":1,"published_at":"2016-05-28T15:06:03.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":191,"uuid":"dc7239a8-eea0-48eb-ada3-4a7451488fa5","title":"Migrer GitLab dans un container Docker","slug":"migrer-gitlab-dans-un-container-docker","markdown":"Depuis quelques temps déjà tous les services que j'auto-héberge sont \"Dockerisés\", tous sauf un ... et pas des moindres ... Le caillou dans ma sandale était mon [GitLab](https://about.gitlab.com/) qui restait hébergé sur une machine qui lui était dédiée. Un beau jour, j'ai pris mon courage à deux mains et j'ai migré ce petit chenapant dans mon infrastructure Docker !\n\n[Une image officielle très bien faite](https://hub.docker.com/r/gitlab/gitlab-ce/) exite déjà depuis un moment pour GitLab, autant en profiter et économiser une machine ! :-)\n\nVoici la manière dont j'ai procédé pour effectuer ce changement.\n\n## Sauvegarder GitLab\n\nLa première étape est de sauvegarder la configuration actuelle du GitLab. Ceci se fait simplement avec la commande ci-dessous.\n\n    sh -c 'umask 0077; tar -cf $(date \"+etc-gitlab-%s.tar\") -C / etc/gitlab'\n\nLorsque la configuration est sauvegardée, c'est au tour de tout le reste ! Pour cela encore, c'est très simple, GitLab fourni tout ce qu'il faut pour ! ;-)\n\n    gitlab-rake gitlab:backup:create RAILS_ENV=production\n\nVous voilà maintenant en possession de vos sauvegardes, que vous prendrez soin de transferer vers l'hôte Docker qui va accueillir GitLab.\n\n## Préparation du fichier docker-compose\n\nNous allons utiliser `docker-compose` pour créer notre GitLab, ceci simplifiera grandement les tâches d'administration - notamment ses mises à jour !\n\nVoici le fichier `docker-compose.yml` que j'ai utilisé, adaptez le suivant votre environnement, en particulier le FQDN, le montages et le réseau.\n\n    version: '2'\n\n    services:\n     gitlab:\n   \n     image: gitlab/gitlab-ce\n   \n     restart: always\n   \n     container_name: gitlab\n   \n     volumes:\n      - /data/gitlab/config:/etc/gitlab\n      - /etc/letsencrypt:/etc/letsencrypt\n      - /data/gitlab/logs:/var/log/gitlab\n      - /data/gitlab/data:/var/opt/gitlab\n      - /data/gitlab/logs/reconfigure:/var/log/gitlab/reconfigure\n    ports:\n      - \"2222:22\"\n    environment:\n      - VIRTUAL_HOST=git.example.com\n      - GITLAB_OMNIBUS_CONFIG=\"external_url 'http://git.example.com'\"\n    networks:\n      - web\n    networks:\n      web:\n     external:\n       name: web\n\nOn démarre un container GitLab avec la commande suivante :\n\n    docker-compose up -d\n\n\n## Migrons !\n\nVoici venu le temps de la migration ! La première étape est de copier le fichier du backup de GitLab dans le container.\n\n`docker cp /tmp/1465464740_gitlab_backup.tar gitlab:/var/opt/gitlab/backups`\n\nIl faut ensuite remettre les droits d'aplomb sur le dossier qui contient les backups.\n\n    docker exec gitlab chmod -R 775 /var/opt/gitlab/backups\n\nOn arrête quelques services de GitLab pour être tranquile.\n\n    docker exec gitlab gitlab-ctl stop unicorn\n    docker exec gitlab gitlab-ctl stop sidekiq\n\nPuis on lance une vérification.\n\n    docker exec gitlab gitlab-rake gitlab:check SANITIZE=true\n\nEt enfin on restaure le backup, aller vous chercher un café, ça peut durer très longtemps !\n\n    docker exec gitlab gitlab-rake gitlab:backup:restore BACKUP=1465464740\n\n# Vérification post restauration\n\nLa restauration est terminée ?!? Il est temps de faire quelques tâches post-restauration. La première est de changer les droits sur le répertoire `/var/opt/gitlab/gitlab-rails/uploads`.\n\n    docker exec gitlab chown -R git /var/opt/gitlab/gitlab-rails/uploads\n\nIl ne reste ensuite qu'a reconfigurer et à démarrer GitLab !\n\n    docker exec gitlab gitlab-ctl reconfigure\n    docker exec gitlab gitlab-ctl start\n\nEt voilà, votre GitLab devrait fonctionner comme l'ancien mais dans un container !! :-)\n\n## En bonus, la procédure de mise à jour !\n\nUne nouvelle version de l'image GitLab est disponible sur le Docker Hub ? Voici comment mettre à jour votre installation !\n\nDans un premier temps, récupérez la nouvelle image avec `docker-compose`.\n\n    docker-compose pull\n\nPuis faites lui recréer votre/vos container(s) !\n\n    dokcer-compose up -d\n\nGitLab est à jour ! :) ","html":"<p>Depuis quelques temps déjà tous les services que j'auto-héberge sont \"Dockerisés\", tous sauf un ... et pas des moindres ... Le caillou dans ma sandale était mon <a href=\"https://about.gitlab.com/\">GitLab</a> qui restait hébergé sur une machine qui lui était dédiée. Un beau jour, j'ai pris mon courage à deux mains et j'ai migré ce petit chenapant dans mon infrastructure Docker !</p>\n\n<p><a href=\"https://hub.docker.com/r/gitlab/gitlab-ce/\">Une image officielle très bien faite</a> exite déjà depuis un moment pour GitLab, autant en profiter et économiser une machine ! :-)</p>\n\n<p>Voici la manière dont j'ai procédé pour effectuer ce changement.</p>\n\n<h2 id=\"sauvegardergitlab\">Sauvegarder GitLab</h2>\n\n<p>La première étape est de sauvegarder la configuration actuelle du GitLab. Ceci se fait simplement avec la commande ci-dessous.</p>\n\n<pre><code>sh -c 'umask 0077; tar -cf $(date \"+etc-gitlab-%s.tar\") -C / etc/gitlab'\n</code></pre>\n\n<p>Lorsque la configuration est sauvegardée, c'est au tour de tout le reste ! Pour cela encore, c'est très simple, GitLab fourni tout ce qu'il faut pour ! ;-)</p>\n\n<pre><code>gitlab-rake gitlab:backup:create RAILS_ENV=production\n</code></pre>\n\n<p>Vous voilà maintenant en possession de vos sauvegardes, que vous prendrez soin de transferer vers l'hôte Docker qui va accueillir GitLab.</p>\n\n<h2 id=\"prparationdufichierdockercompose\">Préparation du fichier docker-compose</h2>\n\n<p>Nous allons utiliser <code>docker-compose</code> pour créer notre GitLab, ceci simplifiera grandement les tâches d'administration - notamment ses mises à jour !</p>\n\n<p>Voici le fichier <code>docker-compose.yml</code> que j'ai utilisé, adaptez le suivant votre environnement, en particulier le FQDN, le montages et le réseau.</p>\n\n<pre><code>version: '2'\n\nservices:\n gitlab:\n\n image: gitlab/gitlab-ce\n\n restart: always\n\n container_name: gitlab\n\n volumes:\n  - /data/gitlab/config:/etc/gitlab\n  - /etc/letsencrypt:/etc/letsencrypt\n  - /data/gitlab/logs:/var/log/gitlab\n  - /data/gitlab/data:/var/opt/gitlab\n  - /data/gitlab/logs/reconfigure:/var/log/gitlab/reconfigure\nports:\n  - \"2222:22\"\nenvironment:\n  - VIRTUAL_HOST=git.example.com\n  - GITLAB_OMNIBUS_CONFIG=\"external_url 'http://git.example.com'\"\nnetworks:\n  - web\nnetworks:\n  web:\n external:\n   name: web\n</code></pre>\n\n<p>On démarre un container GitLab avec la commande suivante :</p>\n\n<pre><code>docker-compose up -d\n</code></pre>\n\n<h2 id=\"migrons\">Migrons !</h2>\n\n<p>Voici venu le temps de la migration ! La première étape est de copier le fichier du backup de GitLab dans le container.</p>\n\n<p><code>docker cp /tmp/1465464740_gitlab_backup.tar gitlab:/var/opt/gitlab/backups</code></p>\n\n<p>Il faut ensuite remettre les droits d'aplomb sur le dossier qui contient les backups.</p>\n\n<pre><code>docker exec gitlab chmod -R 775 /var/opt/gitlab/backups\n</code></pre>\n\n<p>On arrête quelques services de GitLab pour être tranquile.</p>\n\n<pre><code>docker exec gitlab gitlab-ctl stop unicorn\ndocker exec gitlab gitlab-ctl stop sidekiq\n</code></pre>\n\n<p>Puis on lance une vérification.</p>\n\n<pre><code>docker exec gitlab gitlab-rake gitlab:check SANITIZE=true\n</code></pre>\n\n<p>Et enfin on restaure le backup, aller vous chercher un café, ça peut durer très longtemps !</p>\n\n<pre><code>docker exec gitlab gitlab-rake gitlab:backup:restore BACKUP=1465464740\n</code></pre>\n\n<h1 id=\"vrificationpostrestauration\">Vérification post restauration</h1>\n\n<p>La restauration est terminée ?!? Il est temps de faire quelques tâches post-restauration. La première est de changer les droits sur le répertoire <code>/var/opt/gitlab/gitlab-rails/uploads</code>.</p>\n\n<pre><code>docker exec gitlab chown -R git /var/opt/gitlab/gitlab-rails/uploads\n</code></pre>\n\n<p>Il ne reste ensuite qu'a reconfigurer et à démarrer GitLab !</p>\n\n<pre><code>docker exec gitlab gitlab-ctl reconfigure\ndocker exec gitlab gitlab-ctl start\n</code></pre>\n\n<p>Et voilà, votre GitLab devrait fonctionner comme l'ancien mais dans un container !! :-)</p>\n\n<h2 id=\"enbonuslaprocduredemisejour\">En bonus, la procédure de mise à jour !</h2>\n\n<p>Une nouvelle version de l'image GitLab est disponible sur le Docker Hub ? Voici comment mettre à jour votre installation !</p>\n\n<p>Dans un premier temps, récupérez la nouvelle image avec <code>docker-compose</code>.</p>\n\n<pre><code>docker-compose pull\n</code></pre>\n\n<p>Puis faites lui recréer votre/vos container(s) !</p>\n\n<pre><code>dokcer-compose up -d\n</code></pre>\n\n<p>GitLab est à jour ! :) </p>","image":"https://about.gitlab.com/images/press/logo/wm_no_bg.svg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":"Migrer GitLab dans un container Docker","meta_description":"Voici une procédure expliquant comment migrer un GitLab installé en dur sur une machine dans un container Docker.","author_id":1,"created_at":"2016-06-09T14:48:11.000Z","created_by":1,"updated_at":"2016-08-29T14:19:33.000Z","updated_by":1,"published_at":"2016-08-29T14:19:33.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":192,"uuid":"38ef601e-f9ee-483a-b2db-5ddbe38051d7","title":"Docker et les processus Zombie","slug":"docker-et-les-processus-zombie","markdown":"# Introduction\n\nDocker est un outil permettant d'exécuter des processus de manière completèment isolée et indépendement du système d'exploitation. Cette technologie de plus en plus utilisée car elle permet par exemple de faire tourner sur un même hôte deux applications Java utilisant des JVM différentes sans avoir à installer ces JVM sur l'hôtes - cela évite donc pas mal de casse tête. Docker permet également de déployer une application de manière strictement identique sur plusieurs machines. Ce mécanisme facilite grandement la monté en charge d'une application.\n\nDocker est une technologie récente mais qui monte, qui monte très vite. Il y a cependant quelques pièges à connaître et à éviter impérativement. C'est le cas du fameux problème des processus zombie créés par Docker.\n\n# Le problème\n\n\nDans le monde UNIX, les processus sont organisés dans un arbre, chaque processus à son identifiant - PID - et l'identifiant de son père - PPID - ceci permet de créer l'arbre. Le seul processus à ne pas avoir de père est le processus au PID 1 - que l'on appelle \"init\". Ce dernier est le père de tous les autres processus, c'est la racine de notre arbre. C'est l'\"init\" qui démarre tous les autres processus de la machine qui eux mêmes pourront ensuite créer des fils.\n\n![Unix process hierarchy](https://blog.phusion.nl/images/2015/01/Unix-process-hierarchy.png)\n\n\nMaintenant, qu'arriverait-il si un de ces prossus se terminait de façon inattendue ? Prennont l'exemple du processu \"bash\" - PID 5 - il devient alors une processus \"DEFUNCT\", aussi appelé \"Zombie\".\n\n\n![Zombie 1](https://blog.phusion.nl/images/2015/01/zombie.png)\n\nLe père de notre processus \"bash\" est maintenant sensé \"attendre\" son fil - \"wait\" - afin de récupérer son code retour. Tant que le père d'un processus n'a pas collecté ce code retour, le zombie reste présent. Le père doit pour ce faire, utiliser l'appel système \"waitpid()\". Cette opération spécifique s'appelle le \"reaping\", la plupart des applications font cela très bien.\n\n\n\n![Reaping](https://blog.phusion.nl/images/2015/01/reaping.png)\n\n\nDans notre exemple, si \"bash\" se termine, le système d'exploitation va envoyer un signal \"SIGHLD\" au processus \"sshd\" pour qu'il se réveille et qu'il \"reap\" son fils disparu.\n\n\nIl y a cependant un cas spécial, si un processus parent de processus fils se termine soit intentionnellement soit à cause d'un kill. Qu'arrive-t'il à ses enfants ? Ils deviennent alors \"orphaned\" - orphelins (c'est le terme technique).\n\nC'est à ce moment là qu'\"init\" va refaire parler de lui. Considérons l'exemple ci-dessous, \"init\" démarre \"nginx\" qui lui même crée un fils. Lorsque \"nginx\" se termine, son fils - PID 16 - n'a plus de père et est donc considéré comme \"orphaned\". Comme un processus ne peux pas rester dans la nature comme cela, \"init\" va l'adopter. \"init\" est désormais le père de notre processus \"nginx\" au PID 16.\n\n\n![Adoption](https://blog.phusion.nl/images/2015/01/adoption.png)\n\nMaintenant \"init\" à la responsabilité de \"reap\"er ce processus adopté et ainsi de nettoyer le système. C'est une responsabilité très important dans un système UNIX, cela garanti que le système reste sain. Quasiment tous les daemons s'attendent à ce que leurs enfants soient ainsi nettoyés par \"init\". Ceci est également vrai pour la très grande majorité des processus du monde UNIX.\n\n\n# Le rapport avec Docker\n\nDans l'image ci-dessous, on peut voir un processus \"php-fpm\" orphelin, il a perdu son père et son grand-père. En général, les processus zombie ne consomment pas de mémoire ni de CPU, ce qui est le cas des ancètres de notre processus \"php-fpm\" par contre lui consomme 100% des ressources CPU de notre machine. Il est donc primordial de pouvoir éviter que ce processus puissent être de nouveau orphelin.\n\n![PHP Zombie dans Docker](https://techan.fr/content/images/2016/06/docker_zombie_php_process.jpg)\n\n## Falshback !\n\nComment en étons arrivé à ce point là ? Le processus \"php-fpm\" à été lancé par [s6](http://skarnet.org/software/s6/) - un équivalent supervisor ou upstart - ce dernier a lui même été lancé par un script shell. Comme \"php-pfm\" ne répondait plus, nous avons essayé de terminer le container - avec la commande `docker stop <container name>` - sans succès, nous avons donc tué le container - avec la commande `docker kill <container name>`. Le script shell a bien été terminé, [s6](http://skarnet.org/software/s6/) également, mais \"php-fpm\" n'a jamais rendu l'âme, ce processus devient un zombie - comme l'indique htop avec un \"Z\" dans la colonne \"S\". Personne n'a adopé ce processus pour le tuer et le nettoyer correctement.\n\n# Ajouter un mini \"init\" dans les images Docker\n\nVous devez maintenant comprendre l'intérêt d'\"init\", il est donc primordial de disposer d'un tel système dans un environnement Docker. La meilleur solution serait que Docker embarque nativement une sorte d'\"init\" qui adopte et qui \"reap\" les processus. Mais comme cela ne semble pas au programme, il va falloir en ajouter nous même à nos images.\n\nPour ce faire, [Phusion](https://blog.phusion.nl) à développer un [script en Python - my_init](https://github.com/phusion/baseimage-docker/blob/rel-0.9.16/image/bin/my_init). Voici les principales fonctionnalités de ce script :\n\n* Il \"reap\" les processus adoptés.\n* Il lance les sous processus\n* Il attend que tous les sous processus soient terminés avant de se terminer lui même - avec un timeout maximum.\n* Il log son activité dans les logs Docker : `docker logs`\n\nCe script est inclus - en plus d'autres correctifs - dans l'excellente image [phusion/baseimage](https://hub.docker.com/r/phusion/baseimage/)\n\n\n# Conclusion\n\nLe problème des processus zombie ainsi que le fonctionnement du \"reaping\" et de l'adoption de processus orphelins sont à connaître, il est possible d'éviter les problèmes en utilisant la très bonne image [phusion/baseimage](https://hub.docker.com/r/phusion/baseimage/) ou en s'en inspirant en créant votre propre image de base.\n\n# Sources\n* [Wikipedia : Zombie processes (Anglais)](https://en.wikipedia.org/wiki/Zombie_process)\n* [Phusion : Docker and the PID 1 zombie reaping problem (Anglais)](https://blog.phusion.nl/2015/01/20/docker-and-the-pid-1-zombie-reaping-problem/)\n\n* Crédit images : [blog.phusion.nl](https://blog.phusion.nl)","html":"<h1 id=\"introduction\">Introduction</h1>\n\n<p>Docker est un outil permettant d'exécuter des processus de manière completèment isolée et indépendement du système d'exploitation. Cette technologie de plus en plus utilisée car elle permet par exemple de faire tourner sur un même hôte deux applications Java utilisant des JVM différentes sans avoir à installer ces JVM sur l'hôtes - cela évite donc pas mal de casse tête. Docker permet également de déployer une application de manière strictement identique sur plusieurs machines. Ce mécanisme facilite grandement la monté en charge d'une application.</p>\n\n<p>Docker est une technologie récente mais qui monte, qui monte très vite. Il y a cependant quelques pièges à connaître et à éviter impérativement. C'est le cas du fameux problème des processus zombie créés par Docker.</p>\n\n<h1 id=\"leproblme\">Le problème</h1>\n\n<p>Dans le monde UNIX, les processus sont organisés dans un arbre, chaque processus à son identifiant - PID - et l'identifiant de son père - PPID - ceci permet de créer l'arbre. Le seul processus à ne pas avoir de père est le processus au PID 1 - que l'on appelle \"init\". Ce dernier est le père de tous les autres processus, c'est la racine de notre arbre. C'est l'\"init\" qui démarre tous les autres processus de la machine qui eux mêmes pourront ensuite créer des fils.</p>\n\n<p><img src=\"https://blog.phusion.nl/images/2015/01/Unix-process-hierarchy.png\" alt=\"Unix process hierarchy\" /></p>\n\n<p>Maintenant, qu'arriverait-il si un de ces prossus se terminait de façon inattendue ? Prennont l'exemple du processu \"bash\" - PID 5 - il devient alors une processus \"DEFUNCT\", aussi appelé \"Zombie\".</p>\n\n<p><img src=\"https://blog.phusion.nl/images/2015/01/zombie.png\" alt=\"Zombie 1\" /></p>\n\n<p>Le père de notre processus \"bash\" est maintenant sensé \"attendre\" son fil - \"wait\" - afin de récupérer son code retour. Tant que le père d'un processus n'a pas collecté ce code retour, le zombie reste présent. Le père doit pour ce faire, utiliser l'appel système \"waitpid()\". Cette opération spécifique s'appelle le \"reaping\", la plupart des applications font cela très bien.</p>\n\n<p><img src=\"https://blog.phusion.nl/images/2015/01/reaping.png\" alt=\"Reaping\" /></p>\n\n<p>Dans notre exemple, si \"bash\" se termine, le système d'exploitation va envoyer un signal \"SIGHLD\" au processus \"sshd\" pour qu'il se réveille et qu'il \"reap\" son fils disparu.</p>\n\n<p>Il y a cependant un cas spécial, si un processus parent de processus fils se termine soit intentionnellement soit à cause d'un kill. Qu'arrive-t'il à ses enfants ? Ils deviennent alors \"orphaned\" - orphelins (c'est le terme technique).</p>\n\n<p>C'est à ce moment là qu'\"init\" va refaire parler de lui. Considérons l'exemple ci-dessous, \"init\" démarre \"nginx\" qui lui même crée un fils. Lorsque \"nginx\" se termine, son fils - PID 16 - n'a plus de père et est donc considéré comme \"orphaned\". Comme un processus ne peux pas rester dans la nature comme cela, \"init\" va l'adopter. \"init\" est désormais le père de notre processus \"nginx\" au PID 16.</p>\n\n<p><img src=\"https://blog.phusion.nl/images/2015/01/adoption.png\" alt=\"Adoption\" /></p>\n\n<p>Maintenant \"init\" à la responsabilité de \"reap\"er ce processus adopté et ainsi de nettoyer le système. C'est une responsabilité très important dans un système UNIX, cela garanti que le système reste sain. Quasiment tous les daemons s'attendent à ce que leurs enfants soient ainsi nettoyés par \"init\". Ceci est également vrai pour la très grande majorité des processus du monde UNIX.</p>\n\n<h1 id=\"lerapportavecdocker\">Le rapport avec Docker</h1>\n\n<p>Dans l'image ci-dessous, on peut voir un processus \"php-fpm\" orphelin, il a perdu son père et son grand-père. En général, les processus zombie ne consomment pas de mémoire ni de CPU, ce qui est le cas des ancètres de notre processus \"php-fpm\" par contre lui consomme 100% des ressources CPU de notre machine. Il est donc primordial de pouvoir éviter que ce processus puissent être de nouveau orphelin.</p>\n\n<p><img src=\"https://techan.fr/content/images/2016/06/docker_zombie_php_process.jpg\" alt=\"PHP Zombie dans Docker\" /></p>\n\n<h2 id=\"falshback\"> Falshback !</h2>\n\n<p>Comment en étons arrivé à ce point là ? Le processus \"php-fpm\" à été lancé par <a href=\"http://skarnet.org/software/s6/\">s6</a> - un équivalent supervisor ou upstart - ce dernier a lui même été lancé par un script shell. Comme \"php-pfm\" ne répondait plus, nous avons essayé de terminer le container - avec la commande <code>docker stop &lt;container name&gt;</code> - sans succès, nous avons donc tué le container - avec la commande <code>docker kill &lt;container name&gt;</code>. Le script shell a bien été terminé, <a href=\"http://skarnet.org/software/s6/\">s6</a> également, mais \"php-fpm\" n'a jamais rendu l'âme, ce processus devient un zombie - comme l'indique htop avec un \"Z\" dans la colonne \"S\". Personne n'a adopé ce processus pour le tuer et le nettoyer correctement.</p>\n\n<h1 id=\"ajouterunminiinitdanslesimagesdocker\">Ajouter un mini \"init\" dans les images Docker</h1>\n\n<p>Vous devez maintenant comprendre l'intérêt d'\"init\", il est donc primordial de disposer d'un tel système dans un environnement Docker. La meilleur solution serait que Docker embarque nativement une sorte d'\"init\" qui adopte et qui \"reap\" les processus. Mais comme cela ne semble pas au programme, il va falloir en ajouter nous même à nos images.</p>\n\n<p>Pour ce faire, <a href=\"https://blog.phusion.nl\">Phusion</a> à développer un <a href=\"https://github.com/phusion/baseimage-docker/blob/rel-0.9.16/image/bin/my_init\">script en Python - my_init</a>. Voici les principales fonctionnalités de ce script :</p>\n\n<ul>\n<li>Il \"reap\" les processus adoptés.</li>\n<li>Il lance les sous processus</li>\n<li>Il attend que tous les sous processus soient terminés avant de se terminer lui même - avec un timeout maximum.</li>\n<li>Il log son activité dans les logs Docker : <code>docker logs</code></li>\n</ul>\n\n<p>Ce script est inclus - en plus d'autres correctifs - dans l'excellente image <a href=\"https://hub.docker.com/r/phusion/baseimage/\">phusion/baseimage</a></p>\n\n<h1 id=\"conclusion\">Conclusion</h1>\n\n<p>Le problème des processus zombie ainsi que le fonctionnement du \"reaping\" et de l'adoption de processus orphelins sont à connaître, il est possible d'éviter les problèmes en utilisant la très bonne image <a href=\"https://hub.docker.com/r/phusion/baseimage/\">phusion/baseimage</a> ou en s'en inspirant en créant votre propre image de base.</p>\n\n<h1 id=\"sources\">Sources</h1>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Zombie_process\">Wikipedia : Zombie processes (Anglais)</a></li>\n<li><p><a href=\"https://blog.phusion.nl/2015/01/20/docker-and-the-pid-1-zombie-reaping-problem/\">Phusion : Docker and the PID 1 zombie reaping problem (Anglais)</a></p></li>\n<li><p>Crédit images : <a href=\"https://blog.phusion.nl\">blog.phusion.nl</a></p></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-06-20T07:01:22.000Z","created_by":1,"updated_at":"2016-07-30T13:53:16.000Z","updated_by":1,"published_at":"2016-06-20T07:53:12.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":193,"uuid":"82d9715d-deef-454d-ad43-a3eedeb3cd4c","title":"Docker sur Ubuntu et le vilain bug AUFS","slug":"docker-bug-aufs-sur-ubuntu-2","markdown":"#Le méchant bug ...\n\nCela fait déjà quelques fois que je rencontre un bug très pénalisant qui impacte Docker sur Ubuntu. Voici ses symptômes : vous avez un container qui tourne, vous souhaitez l'arrêter mais la commande nous vous rend jamais la main, ou elle vous la rend mais le container ne s'arrête jamais. Il est probable qu'un des processus de ce container consomme 100% de CPU sur la machine. Ce processus ne semble par ailleurs plus relié à aucun autre processus - ses ancètres sont morts.\n\n\n![Docker planté](/content/images/2016/07/docker_plante.jpg)\n\nDans ce cas là, votre machine ne veut plus rien comprendre et vous serez obligé de la redémarrer avec un \"hard reboot\".\n\n\n## Uniquement sur Ubuntu ?\n\nCe phénomène semble ne se produire que sur un hôte Ubuntu et serait lié à un [bug](https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1533043) dans l'[AUFS](https://fr.wikipedia.org/wiki/Aufs) - [Another Union File System Tutorial](https://fr.wikipedia.org/wiki/Aufs). AUFS est un des drivers de stockage supporté par Docker - par défaut sur Ubuntu - qui permet de fusionner les différents calques d'une image ou d'un container.\n\n\nVoici une méthode - donnée dans le [ticket ouvert chez Ubuntu](https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1533043) - pour identifier si un hôte est touché par ce bug :\n\nIl suffit de lancer la commande suivante sur l'hôte :\n**ATTENTION : Si l'hôte est touché, il deviendra instable et devra être \"hard rebooté\", utilisez ceci avec précaution ! ;-)**\n\n\n    docker run -it --rm akihirosuda/test18180\n\n# La solution !\n\nIl m'a fallut un certain temps pour identifier le bug la première fois, d'autant plus qu'il est train pénalisant. La bonne nouvelle c'est qu'il suffit de mettre à jour le noyau de l'Ubuntu et de redémarrer dessus pour être tranquile !\n\n\nVoici les version du noyau Ubuntu à partir desquelles le bug à été résolu :\n\n    3.13.0-78\n    3.16.0-61\n    3.19.0-50\n    4.2.0-28\n\nSi votre Ubuntu à un noyau plus récent, vous ne devriez pas être sujet à ce bug ! :-)\n\n###Sources :\n* [bugs.launchpad.net](https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1533043) (Anglais)\n* [github.com/docker - Bug 1533043](https://github.com/docker/docker/issues/18758) (Anglais)\n* [github.com/docker - Bug 18180](https://github.com/docker/docker/issues/18180#issuecomment-170267519) (Anglais)","html":"<h1 id=\"lemchantbug\">Le méchant bug ...</h1>\n\n<p>Cela fait déjà quelques fois que je rencontre un bug très pénalisant qui impacte Docker sur Ubuntu. Voici ses symptômes : vous avez un container qui tourne, vous souhaitez l'arrêter mais la commande nous vous rend jamais la main, ou elle vous la rend mais le container ne s'arrête jamais. Il est probable qu'un des processus de ce container consomme 100% de CPU sur la machine. Ce processus ne semble par ailleurs plus relié à aucun autre processus - ses ancètres sont morts.</p>\n\n<p><img src=\"/content/images/2016/07/docker_plante.jpg\" alt=\"Docker planté\" /></p>\n\n<p>Dans ce cas là, votre machine ne veut plus rien comprendre et vous serez obligé de la redémarrer avec un \"hard reboot\".</p>\n\n<h2 id=\"uniquementsurubuntu\">Uniquement sur Ubuntu ?</h2>\n\n<p>Ce phénomène semble ne se produire que sur un hôte Ubuntu et serait lié à un <a href=\"https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1533043\">bug</a> dans l'<a href=\"https://fr.wikipedia.org/wiki/Aufs\">AUFS</a> - <a href=\"https://fr.wikipedia.org/wiki/Aufs\">Another Union File System Tutorial</a>. AUFS est un des drivers de stockage supporté par Docker - par défaut sur Ubuntu - qui permet de fusionner les différents calques d'une image ou d'un container.</p>\n\n<p>Voici une méthode - donnée dans le <a href=\"https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1533043\">ticket ouvert chez Ubuntu</a> - pour identifier si un hôte est touché par ce bug :</p>\n\n<p>Il suffit de lancer la commande suivante sur l'hôte : <br />\n<strong>ATTENTION : Si l'hôte est touché, il deviendra instable et devra être \"hard rebooté\", utilisez ceci avec précaution ! ;-)</strong></p>\n\n<pre><code>docker run -it --rm akihirosuda/test18180\n</code></pre>\n\n<h1 id=\"lasolution\">La solution !</h1>\n\n<p>Il m'a fallut un certain temps pour identifier le bug la première fois, d'autant plus qu'il est train pénalisant. La bonne nouvelle c'est qu'il suffit de mettre à jour le noyau de l'Ubuntu et de redémarrer dessus pour être tranquile !</p>\n\n<p>Voici les version du noyau Ubuntu à partir desquelles le bug à été résolu :</p>\n\n<pre><code>3.13.0-78\n3.16.0-61\n3.19.0-50\n4.2.0-28\n</code></pre>\n\n<p>Si votre Ubuntu à un noyau plus récent, vous ne devriez pas être sujet à ce bug ! :-)</p>\n\n<h3 id=\"sources\">Sources :</h3>\n\n<ul>\n<li><a href=\"https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1533043\">bugs.launchpad.net</a> (Anglais)</li>\n<li><a href=\"https://github.com/docker/docker/issues/18758\">github.com/docker - Bug 1533043</a> (Anglais)</li>\n<li><a href=\"https://github.com/docker/docker/issues/18180#issuecomment-170267519\">github.com/docker - Bug 18180</a> (Anglais)</li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-07-28T12:13:38.000Z","created_by":1,"updated_at":"2016-07-30T10:36:43.000Z","updated_by":1,"published_at":"2016-07-28T12:32:54.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":194,"uuid":"6e3036ee-46ed-4604-921d-14cb682e1d3a","title":"Créer un cluster Swarm avec Docker 1.12","slug":"creer-un-cluster-swarm-avec-docker-1-12","markdown":"Ca y est ! [Docker 1.12 est enfin disponible au téléchargement](https://blog.docker.com/2016/06/docker-1-12-built-in-orchestration/) avec son lot de nouveautés. Il faut dire qu'on est gâtés avec cette version ! L'une des nouveautés de cette version est l'intégration de Swarm dans le moteur de Docker. Finie l'installation de Swarm avec pleins de containers et finie également la dépendance pénible avec un stockage clé / valeur. Tout ceci est maintenant directement intégré dans Docker ! \n\nVoyons comment mettre en place un cluster avec cette nouvelle méthode, vous allez voir, c'est très simple !\n\n\n## Création d'un cluster swarm\n\nNous allons voir comment créer un cluster Swarm 3 noeuds avec Docker 1.12. Dans ce cluster, chacun des trois noeuds seront maîtres ce qui permettra de toujours avoir un maître élu même si l'un des noeuds venait à défaillir. Allez, rentrons dans le vif du sujet et créons notre cluster !!\n\n\n    root@mail:~# docker swarm init --listen-addr 0.0.0.0:2377\n    Swarm initialized: current node (<node id>) is now a manager.\n\n        To add a worker to this swarm, run the following command:\n        docker swarm join \\\n        --token <swarm token> \\\n        <node IP>:2377\n\n    To add a manager to this swarm, run the following command:\n        docker swarm join \\\n        --token <swarm token> \\\n        <node IP>:2377\n\nEt voilà, notre premier maître est prêt ... Pour ajouter les autres noeuds, il suffit d'utiliser les commandes que le premier noeud nous donne.\n\n\n\n    root@docker02:~# docker swarm join \\\n    > --token <swarm token> \\\n    > <node IP>:2377\n    This node joined a swarm as a manager.\n\nRépétez cette opération sur chacun des noeuds, et vous aurez vos trois noeuds maîtres.\n\nVisualisons maintenant l'état de notre cluster Swarm :\n\n    root@mail:~# docker node ls\n    ID                           HOSTNAME            STATUS  AVAILABILITY  MANAGER STATUS\n    13ylpzq4r0c9qbq07r2rlyhhf    docker01  Ready   Active        Reachable\n    1g1mmc6me3kq2satp2xhgg2rm    docker02  Ready   Active        Reachable\n    at3h2ljyjnc8j6fx87dgbyohq *  mail                Ready   Active        Leader\n\nSuper ! Maintenant le cluster Swarm est opérationnel !\n\n### Retirer un hôte de la liste des hôtes pouvant recevoir des containers\n\n\nIl peut être intéressant de retirer un des hôtes du cluster Swarm afin de ne pas le surcharger. Dans mon cas, il m'a fallu le faire pour mon hôte \"mail\" car je ne souhaite pas ajouter autre chose que mon serveur de mail sur cette machine.\n\nCette opération est facilement réalisable en utilisant la commande suivate.\n\n    docker node update --availability drain mail\n\nLe status du noeud change alors dans la liste des noeuds.\n\n    root@scw-625da5:/data/haproxy# docker node list\n    ID                           HOSTNAME    STATUS  AVAILABILITY  MANAGER STATUS\n    69kcrle97im0rnbdl982ki3fm    mail        Ready   Drain         Reachable\n\nLe status \"Drain\" vous assure que cet hôte ne recevra pas de containers et plus encore, les containers qui tournaient sur cet hôte avant son changement de status seront disptachés sur les autres hôtes - à condition que les containers aient-été créés via des \"[Services](https://techan.fr/creer-des-services-avec-docker-1-12/)\".","html":"<p>Ca y est ! <a href=\"https://blog.docker.com/2016/06/docker-1-12-built-in-orchestration/\">Docker 1.12 est enfin disponible au téléchargement</a> avec son lot de nouveautés. Il faut dire qu'on est gâtés avec cette version ! L'une des nouveautés de cette version est l'intégration de Swarm dans le moteur de Docker. Finie l'installation de Swarm avec pleins de containers et finie également la dépendance pénible avec un stockage clé / valeur. Tout ceci est maintenant directement intégré dans Docker ! </p>\n\n<p>Voyons comment mettre en place un cluster avec cette nouvelle méthode, vous allez voir, c'est très simple !</p>\n\n<h2 id=\"crationdunclusterswarm\">Création d'un cluster swarm</h2>\n\n<p>Nous allons voir comment créer un cluster Swarm 3 noeuds avec Docker 1.12. Dans ce cluster, chacun des trois noeuds seront maîtres ce qui permettra de toujours avoir un maître élu même si l'un des noeuds venait à défaillir. Allez, rentrons dans le vif du sujet et créons notre cluster !!</p>\n\n<pre><code>root@mail:~# docker swarm init --listen-addr 0.0.0.0:2377\nSwarm initialized: current node (&lt;node id&gt;) is now a manager.\n\n    To add a worker to this swarm, run the following command:\n    docker swarm join \\\n    --token &lt;swarm token&gt; \\\n    &lt;node IP&gt;:2377\n\nTo add a manager to this swarm, run the following command:\n    docker swarm join \\\n    --token &lt;swarm token&gt; \\\n    &lt;node IP&gt;:2377\n</code></pre>\n\n<p>Et voilà, notre premier maître est prêt ... Pour ajouter les autres noeuds, il suffit d'utiliser les commandes que le premier noeud nous donne.</p>\n\n<pre><code>root@docker02:~# docker swarm join \\\n&gt; --token &lt;swarm token&gt; \\\n&gt; &lt;node IP&gt;:2377\nThis node joined a swarm as a manager.\n</code></pre>\n\n<p>Répétez cette opération sur chacun des noeuds, et vous aurez vos trois noeuds maîtres.</p>\n\n<p>Visualisons maintenant l'état de notre cluster Swarm :</p>\n\n<pre><code>root@mail:~# docker node ls\nID                           HOSTNAME            STATUS  AVAILABILITY  MANAGER STATUS\n13ylpzq4r0c9qbq07r2rlyhhf    docker01  Ready   Active        Reachable\n1g1mmc6me3kq2satp2xhgg2rm    docker02  Ready   Active        Reachable\nat3h2ljyjnc8j6fx87dgbyohq *  mail                Ready   Active        Leader\n</code></pre>\n\n<p>Super ! Maintenant le cluster Swarm est opérationnel !</p>\n\n<h3 id=\"retirerunhtedelalistedeshtespouvantrecevoirdescontainers\">Retirer un hôte de la liste des hôtes pouvant recevoir des containers</h3>\n\n<p>Il peut être intéressant de retirer un des hôtes du cluster Swarm afin de ne pas le surcharger. Dans mon cas, il m'a fallu le faire pour mon hôte \"mail\" car je ne souhaite pas ajouter autre chose que mon serveur de mail sur cette machine.</p>\n\n<p>Cette opération est facilement réalisable en utilisant la commande suivate.</p>\n\n<pre><code>docker node update --availability drain mail\n</code></pre>\n\n<p>Le status du noeud change alors dans la liste des noeuds.</p>\n\n<pre><code>root@scw-625da5:/data/haproxy# docker node list\nID                           HOSTNAME    STATUS  AVAILABILITY  MANAGER STATUS\n69kcrle97im0rnbdl982ki3fm    mail        Ready   Drain         Reachable\n</code></pre>\n\n<p>Le status \"Drain\" vous assure que cet hôte ne recevra pas de containers et plus encore, les containers qui tournaient sur cet hôte avant son changement de status seront disptachés sur les autres hôtes - à condition que les containers aient-été créés via des \"<a href=\"https://techan.fr/creer-des-services-avec-docker-1-12/\">Services</a>\".</p>","image":null,"featured":1,"page":0,"status":"published","language":"en_US","meta_title":"Créer un cluster Swarm avec Docker 1.12","meta_description":null,"author_id":1,"created_at":"2016-07-29T06:51:45.000Z","created_by":1,"updated_at":"2016-07-29T16:28:26.000Z","updated_by":1,"published_at":"2016-07-29T11:47:00.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":195,"uuid":"3ff898bc-1b97-42b5-9a45-d072c18b027c","title":"Créer des Services avec Docker 1.12","slug":"creer-des-services-avec-docker-1-12","markdown":"Nous avons dans l'article précédent comment [créer un cluster Swarm avec Docker 1.12](https://techan.fr/creer-un-cluster-swarm-avec-docker-1-12/). L'une des autres nouveautés de cette version est l'arrivée des \"Services\". Un service permet de répliquer, load-balancer, distribuer un container. Le service permet également une montée en charge facilitée - sur le modèle du docker-compose scale ....\n\nUn service peut être global ou répliqué. Un service global fournira un container sur chacun des hôtes du cluster Swarm. Un service répliqué quant à lui fournira le nombre de container demandé lors de sa création - par défaut un seul. Il est tout à fait possible d'augmenter le nombre de containers d'un service après son démarrage.\n\n## Création d'un service simple\n\nNous allons commencer par créer un service simple. Dans cet exemple, je vais démarrer des containers pour héberger mon blog sur [Ghost](https://techan.fr/creer-un-cluster-swarm-avec-docker-1-12/).\n\nLe prérequis à cette action est de créer un réseau multi-hôte dans le cluster Swarm. La commande pour réaliser celà n'a pas changée avec l'arrivée de Docker 1.12.\n\n    docker network create --driver=overlay web\n\nMaintenant que le réseau `web` est créé, démarrons notre service.\n\n    docker service create --name techan_ghost \\\n    --restart-condition any \\\n    --network web \\\n    --replicas 2 \\\n    -e NODE_ENV=production \\\n    --mount type=bind,source=/data/ghost/ghost/techan,target=/var/lib/ghost \\\n    ghost\n\nLa commande si dessus créer un service nommé `techan_ghost` connecté au réseau `web`. Le container à besoin de recevoir la variable d'environnement `NODE_ENV`.\n\nVous avez peut être remarqué quelques options différentes par rapport à la création d'un container avec la commande `docker run`.\n\n* `--restart-condition` : équivalent de l'ancien `--restart`\n* `--replicas` : cette option permet de spécifier le nombres de containers pour le service, deux dans notre cas.\n* `--mount` : c'est l'équivalent d'ancien `-v` pour monter des volumes/dossiers/fichiers mais la syntaxe change complètement.\n\n\nNous souhaitons avoir deux containers dans le service `techan_ghost`, dans l'hypothèse ou nous aurions exposé un port sur l'hôte pour accéder à nos container et que tous les containers du service aient été créés sur le même hôte, Docker n'aurait exposé le port qu'une fois et aurait fait du load balancing entre les containers du service. Ceci représente une grande avancée par rapport aux autres versions. Avant, pour avoir le même comportement, nous autions été obligés de démarrer nos containers et de prévoir un load balancing en supplément.\n\n## Création d'un Service \"global\"\n\nUn service global créera un container sur chacun des hôtes du cluster Swarm. Je m'en sert pour mon reverse proxy - HAProxy.\n\n    docker service create --name haproxy \\\n    -p 80:80 -p 443:443 \\\n    --mode global --restart-condition any \\\n    --network web \\\n    --mount type=bind,source=/data/haproxy/haproxy.cfg,target=/usr/local/etc/haproxy/haproxy.cfg \\\n    --mount type=bind,source=/data/haproxy/certs,target=/haproxy-override/certs \\\n    haproxy:1.6.4-alpine\n\nLa syntaxe est la même que pour créer un Service classique, il suffit juste de préciser `--mode global`.\n\n\n## Récolter des informations sur les Services du cluster\n\nLa commande `docker service ls` permet de lister les Services créés dans le cluster et d'en voir un status rapide.\n\n\nroot@scw-625da5:/data/haproxy# docker service ls\nID            NAME            REPLICAS  IMAGE                 COMMAND\n3ywx5ic0igbo  haproxy         global    haproxy:1.6.4-alpine                \nae88qaulg0ac  techan_ghost    2/2       ghost                 \nbo1m8jo1r38f  techan_static   2/2       nginx                 \ndi23iov1jnkh  techan_indispo  2/2       nginx  \n\n\nLa commande `docker service ps <nom du service>` fournie quant à elle l'état et les erreurs éventuelles rencontré par les containers composant le Service.\n\n    root@scw-625da5:/data/haproxy# docker service ps techan_ghost\n    ID                         NAME            IMAGE  NODE        DESIRED STATE  CURRENT STATE        ERROR\n    bbnoqcuc3rbl63k5tfhsbhf53  techan_ghost.1  ghost  scw-625da5  Running        Running 2 hours ago  \n    5o3o0grkoljbi8tnoj3vx4czr  techan_ghost.2  ghost  scw-625da5  Running        Running 2 hours ago  \n\n\n## Augmenter le nombre de containers dans un Service\n\nLa commande pour augmenter le nombre de containers dans un Service est la suivante :\n\n\n    root@scw-625da5:/data/haproxy# docker service scale techan_ghost=3\n    techan_ghost scaled to 3\n\nVérifons que tout s'est bien passé :\n\n    root@scw-625da5:/data/haproxy# docker service ls\n    ID            NAME            REPLICAS  IMAGE                 COMMAND\n    3ywx5ic0igbo  haproxy         global    haproxy:1.6.4-alpine  \n    ae88qaulg0ac  techan_ghost    3/3       ghost                 \n    bo1m8jo1r38f  techan_static   2/2       nginx                 \n    di23iov1jnkh  techan_indispo  2/2       nginx                 \n    root@scw-625da5:/data/haproxy# docker service ps techan_ghost\n    ID                         NAME            IMAGE  NODE        DESIRED     STATE  CURRENT STATE           ERROR\n    bbnoqcuc3rbl63k5tfhsbhf53  techan_ghost.1  ghost  scw-625da5  Running        Running 2 hours ago     \n    5o3o0grkoljbi8tnoj3vx4czr  techan_ghost.2  ghost  scw-625da5  Running        Running 2 hours ago     \n    7vwx42qsza5pw71xjc9kv9hq5  techan_ghost.3  ghost  scw-625da5  Running        Running 10 seconds ago  \n\n\n## Accéder à un service via un autre container connecté au même réseau\n\nLe gros intérêt des réseau logiciels de Docker est de pouvoir facilement accéder à un container depuis un autre container connecté au même réseau.\n\nPar exemple s'il l'on avait un container serveur web - `web1` - et un container reverse proxy - `haproxy1` - connectés au même réseau `web`. On pouvait utiliser la chaîne `web1.web` pour proxyfier le contenu du container `web1` avec le container `haproxy1`.\n\nAvec Docker 1.12, vous allez créer des Services et vous ne voudrez plus accéder à un seul container mais à tout le service ! Pour celà, rien de plus simple, dans le même réseau, on peut accéder à un service via le FQDN `nom-du-service`.`nom-du-réseau`. On profite en plus du load balancing fourni par Docker 1.12.\n\n\n## Sources\n* [Doc. Docker 1.12](https://docs.docker.com/engine/swarm/swarm-tutorial/) (Anglais)","html":"<p>Nous avons dans l'article précédent comment <a href=\"https://techan.fr/creer-un-cluster-swarm-avec-docker-1-12/\">créer un cluster Swarm avec Docker 1.12</a>. L'une des autres nouveautés de cette version est l'arrivée des \"Services\". Un service permet de répliquer, load-balancer, distribuer un container. Le service permet également une montée en charge facilitée - sur le modèle du docker-compose scale ....</p>\n\n<p>Un service peut être global ou répliqué. Un service global fournira un container sur chacun des hôtes du cluster Swarm. Un service répliqué quant à lui fournira le nombre de container demandé lors de sa création - par défaut un seul. Il est tout à fait possible d'augmenter le nombre de containers d'un service après son démarrage.</p>\n\n<h2 id=\"crationdunservicesimple\">Création d'un service simple</h2>\n\n<p>Nous allons commencer par créer un service simple. Dans cet exemple, je vais démarrer des containers pour héberger mon blog sur <a href=\"https://techan.fr/creer-un-cluster-swarm-avec-docker-1-12/\">Ghost</a>.</p>\n\n<p>Le prérequis à cette action est de créer un réseau multi-hôte dans le cluster Swarm. La commande pour réaliser celà n'a pas changée avec l'arrivée de Docker 1.12.</p>\n\n<pre><code>docker network create --driver=overlay web\n</code></pre>\n\n<p>Maintenant que le réseau <code>web</code> est créé, démarrons notre service.</p>\n\n<pre><code>docker service create --name techan_ghost \\\n--restart-condition any \\\n--network web \\\n--replicas 2 \\\n-e NODE_ENV=production \\\n--mount type=bind,source=/data/ghost/ghost/techan,target=/var/lib/ghost \\\nghost\n</code></pre>\n\n<p>La commande si dessus créer un service nommé <code>techan_ghost</code> connecté au réseau <code>web</code>. Le container à besoin de recevoir la variable d'environnement <code>NODE_ENV</code>.</p>\n\n<p>Vous avez peut être remarqué quelques options différentes par rapport à la création d'un container avec la commande <code>docker run</code>.</p>\n\n<ul>\n<li><code>--restart-condition</code> : équivalent de l'ancien <code>--restart</code></li>\n<li><code>--replicas</code> : cette option permet de spécifier le nombres de containers pour le service, deux dans notre cas.</li>\n<li><code>--mount</code> : c'est l'équivalent d'ancien <code>-v</code> pour monter des volumes/dossiers/fichiers mais la syntaxe change complètement.</li>\n</ul>\n\n<p>Nous souhaitons avoir deux containers dans le service <code>techan_ghost</code>, dans l'hypothèse ou nous aurions exposé un port sur l'hôte pour accéder à nos container et que tous les containers du service aient été créés sur le même hôte, Docker n'aurait exposé le port qu'une fois et aurait fait du load balancing entre les containers du service. Ceci représente une grande avancée par rapport aux autres versions. Avant, pour avoir le même comportement, nous autions été obligés de démarrer nos containers et de prévoir un load balancing en supplément.</p>\n\n<h2 id=\"crationdunserviceglobal\">Création d'un Service \"global\"</h2>\n\n<p>Un service global créera un container sur chacun des hôtes du cluster Swarm. Je m'en sert pour mon reverse proxy - HAProxy.</p>\n\n<pre><code>docker service create --name haproxy \\\n-p 80:80 -p 443:443 \\\n--mode global --restart-condition any \\\n--network web \\\n--mount type=bind,source=/data/haproxy/haproxy.cfg,target=/usr/local/etc/haproxy/haproxy.cfg \\\n--mount type=bind,source=/data/haproxy/certs,target=/haproxy-override/certs \\\nhaproxy:1.6.4-alpine\n</code></pre>\n\n<p>La syntaxe est la même que pour créer un Service classique, il suffit juste de préciser <code>--mode global</code>.</p>\n\n<h2 id=\"rcolterdesinformationssurlesservicesducluster\">Récolter des informations sur les Services du cluster</h2>\n\n<p>La commande <code>docker service ls</code> permet de lister les Services créés dans le cluster et d'en voir un status rapide.</p>\n\n<p>root@scw-625da5:/data/haproxy# docker service ls <br />\nID            NAME            REPLICAS  IMAGE                 COMMAND <br />\n3ywx5ic0igbo  haproxy         global    haproxy:1.6.4-alpine <br />\nae88qaulg0ac  techan<em>ghost    2/2       ghost <br />\nbo1m8jo1r38f  techan</em>static   2/2       nginx <br />\ndi23iov1jnkh  techan_indispo  2/2       nginx  </p>\n\n<p>La commande <code>docker service ps &lt;nom du service&gt;</code> fournie quant à elle l'état et les erreurs éventuelles rencontré par les containers composant le Service.</p>\n\n<pre><code>root@scw-625da5:/data/haproxy# docker service ps techan_ghost\nID                         NAME            IMAGE  NODE        DESIRED STATE  CURRENT STATE        ERROR\nbbnoqcuc3rbl63k5tfhsbhf53  techan_ghost.1  ghost  scw-625da5  Running        Running 2 hours ago  \n5o3o0grkoljbi8tnoj3vx4czr  techan_ghost.2  ghost  scw-625da5  Running        Running 2 hours ago  \n</code></pre>\n\n<h2 id=\"augmenterlenombredecontainersdansunservice\">Augmenter le nombre de containers dans un Service</h2>\n\n<p>La commande pour augmenter le nombre de containers dans un Service est la suivante :</p>\n\n<pre><code>root@scw-625da5:/data/haproxy# docker service scale techan_ghost=3\ntechan_ghost scaled to 3\n</code></pre>\n\n<p>Vérifons que tout s'est bien passé :</p>\n\n<pre><code>root@scw-625da5:/data/haproxy# docker service ls\nID            NAME            REPLICAS  IMAGE                 COMMAND\n3ywx5ic0igbo  haproxy         global    haproxy:1.6.4-alpine  \nae88qaulg0ac  techan_ghost    3/3       ghost                 \nbo1m8jo1r38f  techan_static   2/2       nginx                 \ndi23iov1jnkh  techan_indispo  2/2       nginx                 \nroot@scw-625da5:/data/haproxy# docker service ps techan_ghost\nID                         NAME            IMAGE  NODE        DESIRED     STATE  CURRENT STATE           ERROR\nbbnoqcuc3rbl63k5tfhsbhf53  techan_ghost.1  ghost  scw-625da5  Running        Running 2 hours ago     \n5o3o0grkoljbi8tnoj3vx4czr  techan_ghost.2  ghost  scw-625da5  Running        Running 2 hours ago     \n7vwx42qsza5pw71xjc9kv9hq5  techan_ghost.3  ghost  scw-625da5  Running        Running 10 seconds ago  \n</code></pre>\n\n<h2 id=\"accderunserviceviaunautrecontainerconnectaummerseau\">Accéder à un service via un autre container connecté au même réseau</h2>\n\n<p>Le gros intérêt des réseau logiciels de Docker est de pouvoir facilement accéder à un container depuis un autre container connecté au même réseau.</p>\n\n<p>Par exemple s'il l'on avait un container serveur web - <code>web1</code> - et un container reverse proxy - <code>haproxy1</code> - connectés au même réseau <code>web</code>. On pouvait utiliser la chaîne <code>web1.web</code> pour proxyfier le contenu du container <code>web1</code> avec le container <code>haproxy1</code>.</p>\n\n<p>Avec Docker 1.12, vous allez créer des Services et vous ne voudrez plus accéder à un seul container mais à tout le service ! Pour celà, rien de plus simple, dans le même réseau, on peut accéder à un service via le FQDN <code>nom-du-service</code>.<code>nom-du-réseau</code>. On profite en plus du load balancing fourni par Docker 1.12.</p>\n\n<h2 id=\"sources\">Sources</h2>\n\n<ul>\n<li><a href=\"https://docs.docker.com/engine/swarm/swarm-tutorial/\">Doc. Docker 1.12</a> (Anglais)</li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-07-29T11:57:45.000Z","created_by":1,"updated_at":"2016-07-29T16:29:51.000Z","updated_by":1,"published_at":"2016-07-29T12:35:54.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":196,"uuid":"1d4affba-70c0-42da-92d6-ededeb8e9b6c","title":"Les rolling updates avec Docker 1.12","slug":"les-rolling-updates-avec-docker-1-12","markdown":"Maitenant que nous avons [créé un cluster Swarm avec Docker 1.12](https://techan.fr/creer-un-cluster-swarm-avec-docker-1-12/) et que nos containers sont lancés avec [les tout nouveaux Services de Docker 1.12](https://techan.fr/creer-des-services-avec-docker-1-12/), voyons comment mettre à jour nos containers avec le mécanisme des \"rolling updates\".\n\nPlusieurs raisons peuvent pousser à la mise à jour d'un Service, la plus évidente d'entre elle est la disponibilité d'une image plus récente, mais on peut également envisager de changer l'image de utilisée par le service ...\n\n\n# Les pré-requis\n\nIl faut évidement que vous disposiez de Docker 1.12 sur vos hôtes, que vous ayez configuré un [cluster Swarm](https://techan.fr/creer-un-cluster-swarm-avec-docker-1-12/) et que vos containers soient [gérés par des Services](https://techan.fr/creer-des-services-avec-docker-1-12/) !\n\nIl faut également que les services que vous souhaitez updater avec les \"rolling updates\" aient été créés avec l'option `--update-delay`. Par exemple pour le service `techan-ghost` :\n\n    docker service create --name techan_ghost \\\n    --restart-condition any \\\n    --network web \\\n    --update-delay 30s \\\n    --replicas 2 \\\n    -e NODE_ENV=production \\\n    --mount type=bind,source=/data/ghost/ghost/techan,target=/var/lib/ghost \\\n    ghost\n\nRassurez, si vous avez créé votre Service sans cette option, il est également possible de l'ajouter après coup comme ceci :\n\n    docker service update --update-delay 30s techan_ghost\n\n\n# La mise à jour \n\nLancer la mise est un jeu d'enfant, il suffit d'utiliser la commande suivante.\n\n    docker service update --image ghost:latest techan_ghost\n\nCette dernière va informer le moteur Docker qu'il doit mettre à jour le Service `techan_ghost` avec l'image `ghost:latest`.\n\nVoici les différentes étapes que le moteur Docker va suivre pour procéder à ce \"rolling update\".\n\n\n* Il va d'abord arrêter la première tâche du Service\n* Il va lancer la mise à jour - en téléchargeant la nouvele image - pour la tâche qu'il vient d'arrêter.\n* Ensuite il démarre la tâche ainsi mise à jour.\n* Si la tâche mise à jour passe à l'état `RUNNING`, il va attendre le `--update-delay` spécifié puis stopper la tâche suivante du Service.\n* Si à n'importe quel moment du processus, une tâche passe au status `FAILED`, il met toute la mise à jour en pause.\n\nLa commande `docker service inspect --pretty <nom_du_service>` permet de suivre l'avancement de la mise à jour et d'en connaître le status.\n\n    root@scw-625da5:~# docker service inspect --pretty techan_ghost\n    ID:             2427y1503y5hfa166btv9skwo\n    Name:           techan_ghost\n    Mode:           Replicated\n     Replicas:      2\n    Update status:\n     State:         completed\n     Started:       10 minutes ago\n     Completed:     9 minutes ago\n     Message:       update completed\n    Placement:\n    UpdateConfig:\n     Parallelism:   1\n     Delay:         30s\n     On failure:    pause\n    ContainerSpec:\n     Image:         ghost:latest\n     Env:           NODE_ENV=production\n     Mounts:\n      Target = /var/lib/ghost\n      Source = /data/ghost/ghost/techan\n      ReadOnly = false\n      Type = bind\n    Resources:\n\nSi la mise à jour venait à ne pas se terminer correctement, elle est mise en pause. Il faudra alors modifier le Service - avec la commande `docker service update` - puis relancer la relancer - avec la commande `docker service update <nom_du_service>`. \n\nEt voilà pour le processus de mise à jour avec Docker 1.12 :-)\n\n\n# Sources \n* [docs.docker.com - Apply rolling updates](https://docs.docker.com/engine/swarm/swarm-tutorial/rolling-update/) (Anglais)","html":"<p>Maitenant que nous avons <a href=\"https://techan.fr/creer-un-cluster-swarm-avec-docker-1-12/\">créé un cluster Swarm avec Docker 1.12</a> et que nos containers sont lancés avec <a href=\"https://techan.fr/creer-des-services-avec-docker-1-12/\">les tout nouveaux Services de Docker 1.12</a>, voyons comment mettre à jour nos containers avec le mécanisme des \"rolling updates\".</p>\n\n<p>Plusieurs raisons peuvent pousser à la mise à jour d'un Service, la plus évidente d'entre elle est la disponibilité d'une image plus récente, mais on peut également envisager de changer l'image de utilisée par le service ...</p>\n\n<h1 id=\"lesprrequis\">Les pré-requis</h1>\n\n<p>Il faut évidement que vous disposiez de Docker 1.12 sur vos hôtes, que vous ayez configuré un <a href=\"https://techan.fr/creer-un-cluster-swarm-avec-docker-1-12/\">cluster Swarm</a> et que vos containers soient <a href=\"https://techan.fr/creer-des-services-avec-docker-1-12/\">gérés par des Services</a> !</p>\n\n<p>Il faut également que les services que vous souhaitez updater avec les \"rolling updates\" aient été créés avec l'option <code>--update-delay</code>. Par exemple pour le service <code>techan-ghost</code> :</p>\n\n<pre><code>docker service create --name techan_ghost \\\n--restart-condition any \\\n--network web \\\n--update-delay 30s \\\n--replicas 2 \\\n-e NODE_ENV=production \\\n--mount type=bind,source=/data/ghost/ghost/techan,target=/var/lib/ghost \\\nghost\n</code></pre>\n\n<p>Rassurez, si vous avez créé votre Service sans cette option, il est également possible de l'ajouter après coup comme ceci :</p>\n\n<pre><code>docker service update --update-delay 30s techan_ghost\n</code></pre>\n\n<h1 id=\"lamisejour\">La mise à jour</h1>\n\n<p>Lancer la mise est un jeu d'enfant, il suffit d'utiliser la commande suivante.</p>\n\n<pre><code>docker service update --image ghost:latest techan_ghost\n</code></pre>\n\n<p>Cette dernière va informer le moteur Docker qu'il doit mettre à jour le Service <code>techan_ghost</code> avec l'image <code>ghost:latest</code>.</p>\n\n<p>Voici les différentes étapes que le moteur Docker va suivre pour procéder à ce \"rolling update\".</p>\n\n<ul>\n<li>Il va d'abord arrêter la première tâche du Service</li>\n<li>Il va lancer la mise à jour - en téléchargeant la nouvele image - pour la tâche qu'il vient d'arrêter.</li>\n<li>Ensuite il démarre la tâche ainsi mise à jour.</li>\n<li>Si la tâche mise à jour passe à l'état <code>RUNNING</code>, il va attendre le <code>--update-delay</code> spécifié puis stopper la tâche suivante du Service.</li>\n<li>Si à n'importe quel moment du processus, une tâche passe au status <code>FAILED</code>, il met toute la mise à jour en pause.</li>\n</ul>\n\n<p>La commande <code>docker service inspect --pretty &lt;nom_du_service&gt;</code> permet de suivre l'avancement de la mise à jour et d'en connaître le status.</p>\n\n<pre><code>root@scw-625da5:~# docker service inspect --pretty techan_ghost\nID:             2427y1503y5hfa166btv9skwo\nName:           techan_ghost\nMode:           Replicated\n Replicas:      2\nUpdate status:\n State:         completed\n Started:       10 minutes ago\n Completed:     9 minutes ago\n Message:       update completed\nPlacement:\nUpdateConfig:\n Parallelism:   1\n Delay:         30s\n On failure:    pause\nContainerSpec:\n Image:         ghost:latest\n Env:           NODE_ENV=production\n Mounts:\n  Target = /var/lib/ghost\n  Source = /data/ghost/ghost/techan\n  ReadOnly = false\n  Type = bind\nResources:\n</code></pre>\n\n<p>Si la mise à jour venait à ne pas se terminer correctement, elle est mise en pause. Il faudra alors modifier le Service - avec la commande <code>docker service update</code> - puis relancer la relancer - avec la commande <code>docker service update &lt;nom_du_service&gt;</code>. </p>\n\n<p>Et voilà pour le processus de mise à jour avec Docker 1.12 :-)</p>\n\n<h1 id=\"sources\">Sources</h1>\n\n<ul>\n<li><a href=\"https://docs.docker.com/engine/swarm/swarm-tutorial/rolling-update/\">docs.docker.com - Apply rolling updates</a> (Anglais)</li>\n</ul>","image":"https://sif.info-ufr.univ-montp2.fr/docker-talk/images/docker.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-07-30T13:16:02.000Z","created_by":1,"updated_at":"2016-07-30T13:50:57.000Z","updated_by":1,"published_at":"2016-07-30T13:49:02.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":197,"uuid":"c666f32f-9c9e-44c0-820d-69b3a7d000e3","title":"Sécuriser HAProxy avec Let's Encrypt dans Docker","slug":"securiser-haproxy-avec-lets-encrypt-dans-docker","markdown":"Depuis quelques temps je n'utilise plus que des certificats fournis gracieusement par [Let's Encrypt](https://letsencrypt.org/). Le seul problème était de demander de nouveaux certificats ou d'en renouveler des anciens sans arrêter le HAProxy qui fait la tête de pont de mon infrastructure Docker.\n\n# La solution\n\nLa solution que j'ai trouvée en fouillant le net est de passer par un serveur web - NGinx - qui va servir les fameux fichier .well-known et permettre à Let's Encrypt de valider le domaine.\n\nPour mettre ceci en place, il m'a donc fallut créer un nouveau container NGinx qui va servir le contenu d'un dossier. J'ai du reconfigurer HAProxy pour qu'il redirige toutes les connexions HTTP entrantes qui demandent une URL qui commence par `/.well-know/acme-challenge` vers ce nouveau container. Enfin, il faut demander à Let's Encrypt de passer par cette validation par fichiers sans qu'il démarre son propre serveur web.\n\n# La mise en place\n\nNous allons voir étape par étape comment mettre en place cette solution.\n\n## Le containter NGinx\n\nTout d'abord, nous allons créer les dossiers nécessaires à ce fameux container NGinx, voici la commande à utiliser.\n\n    mkdir /data/letsencrypt/www /data/letsencrypt/nginx\n\nLe dossier `www` sera utilisé par Let's Encrypt de le dossier `nginx` stockera la configuration de ce NGinx.\n\nVoici justement la configuration de ce NGinx :\n\n    # cat /data/letsencrypt/nginx/default.conf \n    server {\n        listen       8000;\n        server_name  letsencrypt.requests;\n        root /usr/share/nginx/html;\n    }\n\nEnregistrez ce fichier dans le dossier `/data/letsencrypt/` sous le nom `default.conf`.\n\nMaintenant, nous avons tout ce qu'il faut pour créer un nouveau Service avec ce container.\n\n    docker service create --name haproxy_letsecnrypt \\\n    --restart-condition any \\\n    --network frontend \\\n    --replicas 2 \\\n    --mount type=bind,source=/data/letsencrypt/www,target=/usr/share/nginx/html \\\n    --mount type=bind,source=/data/letsencrypt/nginx/default.conf,target=/etc/nginx/conf.d/default.conf \\\n    nginx\n\n\n\n## La configuration HAProxy\n\nIl nous faut maintenant modifier la configuration d'HAProxy pour qu'il route les connexions de Let's Encrypt vers ce nouveau Service. Modifiez vos `frontends` pour qu'ils ressemblent ça :\n\n    frontend http\n        bind *:80\n        mode http\n        \n    \n        acl app_letsencrypt  path_beg   /.well-known/acme-challenge/\n        use_backend bk-letsencrypt if app_letsencrypt\n\n        redirect scheme https code 301 if !{ ssl_fc } !app_letsencrypt\n\n    frontend ft_ssl_vip\n        bind *:443 ssl crt /haproxy-override/certs/ npn spdy/2 ciphers ECDHE-RSA-AES256-SHA:RC4-SHA:RC4:HIGH:!MD5:!aNULL:!EDH:!AESGCM\n    \n        rspadd Strict-Transport-Security:\\ max-age=15768000\n\nAjoutez le `backend` suivant à la fin du fichier :\n\n    backend bk-letsencrypt\n        http-request set-header Host letsencrypt.requests\n        dispatch haproxy_letsecnrypt.frontend:8000\n\nCe tout bon pour HAProxy, il n'y a plus qu'à le redémarrer !\n\n# Utiliser Let's Encrypt avec ce système\n\nVoici la commande à utiliser pour que Let's Encrypt utilise notre nouveau mécanisme :\n\n    /opt/letsencrypt/letsencrypt-auto certonly --email user@domain.net --webroot -w /data/letsencrypt/www/ -d domain.net\n\nIl ne reste qu'à \"mouliner\" les certificats pour qu'HAProxy puisse les utiliser - dans ma configuration, les certificats utilisés par HAProxy sont stockés dans le dossier `/data/haproxy/certs` qui est monté dans les containers sous `/haproxy-override/certs/`.\n\nVoici le script que j'utilise pour \"mouliner\" mes certificats :\n\n    #!/bin/bash\n    for domain in $(ls /etc/letsencrypt/live); do \n        cat /etc/letsencrypt/live/$domain/privkey.pem /etc/letsencrypt/live/$domain/fullchain.pem > /data/haproxy/certs/$domain.pem\n    done\n\n# Sources\n* [gauthierc.github.io](http://gauthierc.github.io/post/letsencrypt-haproxy/)","html":"<p>Depuis quelques temps je n'utilise plus que des certificats fournis gracieusement par <a href=\"https://letsencrypt.org/\">Let's Encrypt</a>. Le seul problème était de demander de nouveaux certificats ou d'en renouveler des anciens sans arrêter le HAProxy qui fait la tête de pont de mon infrastructure Docker.</p>\n\n<h1 id=\"lasolution\">La solution</h1>\n\n<p>La solution que j'ai trouvée en fouillant le net est de passer par un serveur web - NGinx - qui va servir les fameux fichier .well-known et permettre à Let's Encrypt de valider le domaine.</p>\n\n<p>Pour mettre ceci en place, il m'a donc fallut créer un nouveau container NGinx qui va servir le contenu d'un dossier. J'ai du reconfigurer HAProxy pour qu'il redirige toutes les connexions HTTP entrantes qui demandent une URL qui commence par <code>/.well-know/acme-challenge</code> vers ce nouveau container. Enfin, il faut demander à Let's Encrypt de passer par cette validation par fichiers sans qu'il démarre son propre serveur web.</p>\n\n<h1 id=\"lamiseenplace\">La mise en place</h1>\n\n<p>Nous allons voir étape par étape comment mettre en place cette solution.</p>\n\n<h2 id=\"lecontainternginx\">Le containter NGinx</h2>\n\n<p>Tout d'abord, nous allons créer les dossiers nécessaires à ce fameux container NGinx, voici la commande à utiliser.</p>\n\n<pre><code>mkdir /data/letsencrypt/www /data/letsencrypt/nginx\n</code></pre>\n\n<p>Le dossier <code>www</code> sera utilisé par Let's Encrypt de le dossier <code>nginx</code> stockera la configuration de ce NGinx.</p>\n\n<p>Voici justement la configuration de ce NGinx :</p>\n\n<pre><code># cat /data/letsencrypt/nginx/default.conf \nserver {\n    listen       8000;\n    server_name  letsencrypt.requests;\n    root /usr/share/nginx/html;\n}\n</code></pre>\n\n<p>Enregistrez ce fichier dans le dossier <code>/data/letsencrypt/</code> sous le nom <code>default.conf</code>.</p>\n\n<p>Maintenant, nous avons tout ce qu'il faut pour créer un nouveau Service avec ce container.</p>\n\n<pre><code>docker service create --name haproxy_letsecnrypt \\\n--restart-condition any \\\n--network frontend \\\n--replicas 2 \\\n--mount type=bind,source=/data/letsencrypt/www,target=/usr/share/nginx/html \\\n--mount type=bind,source=/data/letsencrypt/nginx/default.conf,target=/etc/nginx/conf.d/default.conf \\\nnginx\n</code></pre>\n\n<h2 id=\"laconfigurationhaproxy\">La configuration HAProxy</h2>\n\n<p>Il nous faut maintenant modifier la configuration d'HAProxy pour qu'il route les connexions de Let's Encrypt vers ce nouveau Service. Modifiez vos <code>frontends</code> pour qu'ils ressemblent ça :</p>\n\n<pre><code>frontend http\n    bind *:80\n    mode http\n\n\n    acl app_letsencrypt  path_beg   /.well-known/acme-challenge/\n    use_backend bk-letsencrypt if app_letsencrypt\n\n    redirect scheme https code 301 if !{ ssl_fc } !app_letsencrypt\n\nfrontend ft_ssl_vip\n    bind *:443 ssl crt /haproxy-override/certs/ npn spdy/2 ciphers ECDHE-RSA-AES256-SHA:RC4-SHA:RC4:HIGH:!MD5:!aNULL:!EDH:!AESGCM\n\n    rspadd Strict-Transport-Security:\\ max-age=15768000\n</code></pre>\n\n<p>Ajoutez le <code>backend</code> suivant à la fin du fichier :</p>\n\n<pre><code>backend bk-letsencrypt\n    http-request set-header Host letsencrypt.requests\n    dispatch haproxy_letsecnrypt.frontend:8000\n</code></pre>\n\n<p>Ce tout bon pour HAProxy, il n'y a plus qu'à le redémarrer !</p>\n\n<h1 id=\"utiliserletsencryptaveccesystme\">Utiliser Let's Encrypt avec ce système</h1>\n\n<p>Voici la commande à utiliser pour que Let's Encrypt utilise notre nouveau mécanisme :</p>\n\n<pre><code>/opt/letsencrypt/letsencrypt-auto certonly --email user@domain.net --webroot -w /data/letsencrypt/www/ -d domain.net\n</code></pre>\n\n<p>Il ne reste qu'à \"mouliner\" les certificats pour qu'HAProxy puisse les utiliser - dans ma configuration, les certificats utilisés par HAProxy sont stockés dans le dossier <code>/data/haproxy/certs</code> qui est monté dans les containers sous <code>/haproxy-override/certs/</code>.</p>\n\n<p>Voici le script que j'utilise pour \"mouliner\" mes certificats :</p>\n\n<pre><code>#!/bin/bash\nfor domain in $(ls /etc/letsencrypt/live); do \n    cat /etc/letsencrypt/live/$domain/privkey.pem /etc/letsencrypt/live/$domain/fullchain.pem &gt; /data/haproxy/certs/$domain.pem\ndone\n</code></pre>\n\n<h1 id=\"sources\">Sources</h1>\n\n<ul>\n<li><a href=\"http://gauthierc.github.io/post/letsencrypt-haproxy/\">gauthierc.github.io</a></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-08-03T09:53:21.000Z","created_by":1,"updated_at":"2016-08-03T11:25:14.000Z","updated_by":1,"published_at":"2016-08-03T10:23:37.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":198,"uuid":"56273916-0c9b-4ed8-baa2-7936043a7a96","title":"Docker + UFW + Ubuntu = Danger !","slug":"docker-ufw-ubuntu-danger","markdown":"UFW - Uncomlicated Firewall - est un programme très pratique pour gérer le firewall IPTables sur Ubuntu. J'en suis le premier fan étant assez feignant ... Il permet de ne pas avoir à bidouiler soit même les règles IPTables, ce qui peut se réveller être un travail fastidieux ...\n\n# Un cas simple\n\nLe cas le plus simple est d'installer UFW, de lui demander d'autoriser le SSH, de refuster toute autre connexion entrante et de l'activer !\n\n    ufw allow ssh\n    ufw default deny incoming\n    ufw enable\n\nVérifions l'état de notre firewall !\n\n    sudo ufw status\n    Status: active\n    \n    To                         Action      From\n    --                         ------      ----\n    22                         ALLOW       Anywhere\n    22 (v6)                    ALLOW       Anywhere (v6)\n\nUne fois cette manipulation réalisée, il est bien possible de se connecter sur l'hôte en SSH, mais il n'est pas possible d'accéder aux autres services réseaux installés sur la machine - MySQL, MongoDB, ...\n\nJusque là donc, tout fonctionne comme attendu !\n\n# Ajoutons un soupçon de Docker\n\nLa prochaine étape est de démarrer un container Docker dont nous allons exposer un port. Pour l'exemple, je vais utiliser un container Solr - qui me sert à indexer mes mails (voir [Introduction à Docker avec l'indexation full text des mails](https://techan.fr/introduction-a-docker-avec-lindexation-full-text-des-mails/)).\n\n    docker run --name my_solr -d -p 8983:8983 -t solr\n\nCe container écoute sur le port 8983 de toutes les interfaces réseau du système, mais il ne devrait pas sortir si l'on se fie aux règles que nous avons définie dans UFW.\n\nDétrompez-vous, l'interface de Solr est alors pleinement accessible sur Internet ...\n\nIl semblerait que Docker inclue ses règles avant celles créées par UFW, ce qui est problématique ...\n\n# La solution\n\nLa solution est simple, il suffit de passer un paramètre au daemon Docker pour qu'il ne bidouille plus IPtables !\n\n## Sur un system sans systemd\n\nIl faut ajouter l'option `--iptables=false` dans la variable `DOCKER_OPTS` qui se trouve dans le fichier `/etc/default/docker`.\n\n    DOCKER_OPTS=\"--dns 8.8.8.8 --dns 8.8.4.4 --iptables=false\" \n\nRedémarrez ensuite le daemon Docker avec la commande : `service docker restart`.\n\n## Sur un system avec systemd\n\nDans ce cas là , la tâche se corse un petit peu, il faut tout d'abord trouver le ficiher de définition du service Docker. Pour cela vous pouvez utiliser la commande `locate docker.service`. Dans mon cas, sur Ubuntu 16.04, ce fichier se trouvait ici : `/etc/systemd/system/docker.service`.\n\nIl faut ajouter l'option `--iptables=false` à la fin de la ligne `ExecStart=`.\n\n    [Service]\n    ExecStart=/usr/bin/docker daemon -H unix:///var/run/docker.sock --storage-driver aufs --label provider=scaleway(VC1M) --iptables=false\n    MountFlags=slave\n    LimitNOFILE=1048576\n    LimitNPROC=1048576\n    LimitCORE=infinity\n    Environment=\n    \n    [Install]\n    WantedBy=multi-user.target\n\n\nRedémarrez ensuite le daemon Docker avec la commande : `systemctl restart docker.service`.","html":"<p>UFW - Uncomlicated Firewall - est un programme très pratique pour gérer le firewall IPTables sur Ubuntu. J'en suis le premier fan étant assez feignant ... Il permet de ne pas avoir à bidouiler soit même les règles IPTables, ce qui peut se réveller être un travail fastidieux ...</p>\n\n<h1 id=\"uncassimple\">Un cas simple</h1>\n\n<p>Le cas le plus simple est d'installer UFW, de lui demander d'autoriser le SSH, de refuster toute autre connexion entrante et de l'activer !</p>\n\n<pre><code>ufw allow ssh\nufw default deny incoming\nufw enable\n</code></pre>\n\n<p>Vérifions l'état de notre firewall !</p>\n\n<pre><code>sudo ufw status\nStatus: active\n\nTo                         Action      From\n--                         ------      ----\n22                         ALLOW       Anywhere\n22 (v6)                    ALLOW       Anywhere (v6)\n</code></pre>\n\n<p>Une fois cette manipulation réalisée, il est bien possible de se connecter sur l'hôte en SSH, mais il n'est pas possible d'accéder aux autres services réseaux installés sur la machine - MySQL, MongoDB, ...</p>\n\n<p>Jusque là donc, tout fonctionne comme attendu !</p>\n\n<h1 id=\"ajoutonsunsoupondedocker\">Ajoutons un soupçon de Docker</h1>\n\n<p>La prochaine étape est de démarrer un container Docker dont nous allons exposer un port. Pour l'exemple, je vais utiliser un container Solr - qui me sert à indexer mes mails (voir <a href=\"https://techan.fr/introduction-a-docker-avec-lindexation-full-text-des-mails/\">Introduction à Docker avec l'indexation full text des mails</a>).</p>\n\n<pre><code>docker run --name my_solr -d -p 8983:8983 -t solr\n</code></pre>\n\n<p>Ce container écoute sur le port 8983 de toutes les interfaces réseau du système, mais il ne devrait pas sortir si l'on se fie aux règles que nous avons définie dans UFW.</p>\n\n<p>Détrompez-vous, l'interface de Solr est alors pleinement accessible sur Internet ...</p>\n\n<p>Il semblerait que Docker inclue ses règles avant celles créées par UFW, ce qui est problématique ...</p>\n\n<h1 id=\"lasolution\">La solution</h1>\n\n<p>La solution est simple, il suffit de passer un paramètre au daemon Docker pour qu'il ne bidouille plus IPtables !</p>\n\n<h2 id=\"surunsystemsanssystemd\">Sur un system sans systemd</h2>\n\n<p>Il faut ajouter l'option <code>--iptables=false</code> dans la variable <code>DOCKER_OPTS</code> qui se trouve dans le fichier <code>/etc/default/docker</code>.</p>\n\n<pre><code>DOCKER_OPTS=\"--dns 8.8.8.8 --dns 8.8.4.4 --iptables=false\" \n</code></pre>\n\n<p>Redémarrez ensuite le daemon Docker avec la commande : <code>service docker restart</code>.</p>\n\n<h2 id=\"surunsystemavecsystemd\">Sur un system avec systemd</h2>\n\n<p>Dans ce cas là , la tâche se corse un petit peu, il faut tout d'abord trouver le ficiher de définition du service Docker. Pour cela vous pouvez utiliser la commande <code>locate docker.service</code>. Dans mon cas, sur Ubuntu 16.04, ce fichier se trouvait ici : <code>/etc/systemd/system/docker.service</code>.</p>\n\n<p>Il faut ajouter l'option <code>--iptables=false</code> à la fin de la ligne <code>ExecStart=</code>.</p>\n\n<pre><code>[Service]\nExecStart=/usr/bin/docker daemon -H unix:///var/run/docker.sock --storage-driver aufs --label provider=scaleway(VC1M) --iptables=false\nMountFlags=slave\nLimitNOFILE=1048576\nLimitNPROC=1048576\nLimitCORE=infinity\nEnvironment=\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n\n<p>Redémarrez ensuite le daemon Docker avec la commande : <code>systemctl restart docker.service</code>.</p>","image":"/content/images/2016/09/docker.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-09-01T09:32:59.000Z","created_by":1,"updated_at":"2016-09-01T10:05:49.000Z","updated_by":1,"published_at":"2016-09-01T10:04:48.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":199,"uuid":"a1172134-21dd-4743-bd94-959ea2a5224e","title":"Traefik et Docker, le couple ultime !","slug":"traefik-et-docker-le-couple-ultime","markdown":"# Docker c'est bien, mais ...\n\nDocker est de plus en plus utilisé dans le monde de l'informatique, la croissance de l'utilisation a été révélée par Ben Golub, le CEO de Docker durant la [DockerCon au mois de Juin dernier](https://www.youtube.com/watch?v=vE1iDPx6-Ok). La progression est ahurissante, 30% d'adoption supplémentaire en un an et le nombre de containers en production à quintuplé !\n\n\n![Docker adoption](/content/images/2016/11/docker_adoption.png)\n\nDocker c'est très sympa, mais sans certains outils, ça devient compliqué. Partons d'un consat simple, vous avez mis en place vos hôtes Docker, vous avez installé et configuré votre cluster Swarm, c'est déjà bien ! Manque de chance, vous déployez majoritairement des applications web, donc il vous faut choisir un port différent pour chaque application, pas cool. En cherchant un peu sur le net, vous avez vu qu'il vous faut un Reverse Proxy comme point d'entrée pour que toutes vos applications puissent passer par les ports 80 et 443. Là encore, vous avez réussi à le mettre en place, mais dès que vous ajoutez une nouvelle application, il vous faut modifier la configuration de ce Reverse Proxy et le relancer, ce qui engendre éventuellement une petite coupure de service - plus longue si vous vous trompez dans la configuration ...\n\n\nVoilà ce qu'était ma vie avant de me pencher sur le cas de [Traefik](https://traefik.io/) !\n\n\n# L'outil ultime : Trafik !\n\nVoyons maintenant comment ce petit Gopher devenu contrôleur aérien a changé ma vie par rapport à lorsque j'utilisais HAProxy.\n\n![Traefik Gopher](https://traefik.io/traefik.logo.png)\n\n\nTraefik est un reverse proxy moderne écrit en Go pensé pour déployer facilement des micro services. Cet outil supporte une foule de backends - Kubernetes, Marathons, Etcd, Consul, ... - dont Docker et le nouveau Docker Swarm Mode.\n\nNous allons voir comment utiliser Traefik dans un environnement Docker 1.11.2 avec Swarm - je n'utilise plus le Swarm Mode ni Docker 1.12 pour des raisons de stabilité.\n\n\n## Installation de Traefik\n\n[Traefik](https://traefik.io/) peut être installé en dur sur l'hôte, mais tant qu'a faire, nous allons utiliser la version containerisée de l'outil ! Voici le fichier `docker-compose` que j'utilise pour le démarrer - je pars du postulat que Swarm écoute sur le port `3375` de l'IP `192.168.1.10`.\n\n    version: \"2\"\n\n    services:\n      traefik:\n        image: traefik:v1.1.0-rc3\n          - \"80:80\"\n          - \"443:443\"\n          - \"8080:8080\"\n        volumes:\n          - /dev/null:/traefik.toml\n        command: --web -c /dev/null  --docker --logLevel=INFO --docker.endpoint=tcp://192.168.1.10:3375 --docker.watch --entryPoints='Name:https Address::443 TLS' --entryPoints='Name:http Address::80 Redirect.EntryPoint:https' --defaultentrypoints=http,https\n        networks:\n          - web\n        restart: always\n        environment:\n          - \"affinity:container!=traefik*\"\n    networks:\n      web:\n        external:\n          name: web\n\n\nVoici une description de quelques options interressantes :\n\n* `--docker` : Active le support de Docker \n* `--docker.watch` : Intercepte les évennements du daemon Docker et se reconfigure automatiquement\n* `--entryPoints` : Définit sur quoi on va écouter, dans mon `:80` et `:443`\n* `affinity:container!=traefik*` : Règle d'anti-affinité dans Swarm pour n'avoir qu'un container Traefik par hôte\n\nIl ne reste plus qu'à démarrer Traefik avec la commande `docker-compose up -d`.\n\n\n\n## Configuration des Backends\n\n\nDans Traefik - comme dans les autre reverse proxies -, il faut définir sur quoi on écoute - les entryPoints - et ou seront dirigées les connexions reçues - les Backends - via des Routes.\n\nDans notre cas, notre container Traefik à accès directement au daemon Docker, donc dès que vous l'aurez démarré il devrait avoir généré une configuration pour les containers présent sur votre environnements. Cette configuration sera à améliorer !\n\nVous pouvez avoir accès aux Routes et aux Backends que Traefik a généré en vous rendant sur son interface web : *http://ip_sur_laquelle_est_bindée_traefik:8080*.\n\nAfin d'afiner cette configuration par défaut, nous allons aider Traefik en lui donnant des instructions. Ces dernières se présentent sous la forme de \"labels\" que l'on positionne sur les containers.\n\nPour l'exemple, voici le `docker-compose` de mon blog :\n\n\n    version: '2'\n    \n    services:\n      techan:\n        image: ghost\n        environment:\n          - NODE_ENV=production\n        volumes:\n          - /ghost/ghost/techan:/var/lib/ghost\n        networks:\n          - web\n          - bdd\n        restart: always\n        labels:\n          - \"traefik.backend=ghost\"\n          - \"traefik.backend.ghost.loadbalancer.sticky=true\"\n          - \"traefik.frontend.rule=Host:techan.fr,www.techan.fr\"\n          - \"traefik.port=2368\"\n          - \"traefik.docker.network=web\"\n    networks:\n      web:\n        external:\n          name: web\n      bdd:\n        external:\n          name: bdd\n\nObservez les différents \"labels\" que j'ai passé à Traefik. Ils me permettent de définir que les containers de ce service devront répondre sur le DNS `techan.fr` ou `www.techan.fr`, qu'ils font partie du Backend nommé `ghost`, que je souhaites activer les sticky sessions. Nous spécifions également à Traefik que le port sur lequel les containers répondent est le 2368 et qu'il faut qu'il les atteignent pas le réseau `overlay` nommé `web`.\n\nIl suffit de lancer la commande `docker-compose up -d` pour démarrer ou recréer les containers existants. Voici les Backends vus par Traefik, une fois qu'ils ont tous été recréés.\n\n![](/content/images/2016/11/traefik_ghost.png)\n\nEt la Route que l'outil à générée en ce basant sur les règles fournies :\n\n![](/content/images/2016/11/traefik_ghost_route.png)\n\n\n\n### Corsons le tout avec un deuxième service\n\n\nMon blog est propulsé par [Ghost](https://ghost.org/fr/), mais j'ai pris le parti de servir le contenu static par un autre biais, avec des containers NGinx qui ne font que ça. Il me faut donc configurer cela dans Traefik afin que les URL entrantes dont le début est `wp-content` soitent routées vers ces containers NGinx et non vers les containers Ghost.\n\n\nJ'ai donc ajouté un nouveau service dans le fichier `docker-compose` de mon blog :\n\n      techan_static:\n        image: nginx\n        volumes:\n          - /data/ghost/wp-content:/usr/share/nginx/html:ro\n          - /data/ghost/techan_static/default.conf:/etc/nginx/conf.d/default.conf:ro\n        networks:\n          - web\n        restart: always\n        labels:\n          - \"traefik.backend=ghost-static\"\n          - \"traefik.frontend.rule=Host:techan.fr,www.techan.fr;PathPrefixStrip:/wp-content\"\n          - \"traefik.port=80\"\n          - \"traefik.docker.network=web\"\n    networks:\n      web:\n        external:\n          name: web\n\nLes labels utilisés par Traefik sont relativement semblables à ceux utilisés dans le service de Ghost, je l'ai un petit épuré car certaines options n'étaient pas nécessaires. L'élément principal de la configuration est la ligne `traefik.frontend.rule`, j'ai repris la même que celle du blog Ghost - car ces containers servent le même site - mais j'y ai ajouté une règle de type `PathPrefixStrip`. Cette dernière regarde les URL reçues, si une URL commence par `/wp-content`, elle sera routée vers les containers NGinx du service `techan_static` et non vers les containers Ghost.\n\n\n## Et maintenant, le HTTPS\n\n\nDepuis quelques temps, j'utilise [Let’s Encrypt](https://letsencrypt.org/) pour me fournir les certificats SSL qui protègent mes sites. Le truc génial, c'est que Traefik supporte nativement Let’s Encrypt. Il est capable d'aller demander en temps réel les certificats pour les domaines dont il a besoin et de les installer. Il suffit pour cela que les enregistrements DNS A/AAAA soient positionnés. Voyons comment activer le support de Let’s Encrypt par Traefik, pour cela, il nous faut modifier le fichier `docker-compose` de Traefik.\n\n    version: \"2\"\n\n    services:\n      traefik:\n        image: traefik:v1.1.0-rc3\n          - \"80:80\"\n          - \"443:443\"\n          - \"8080:8080\"\n        volumes:\n          - /dev/null:/traefik.toml\n          - /data/traefik/acme://etc/traefik/acme\n          - /data/traefik/ssl:/etc/ssl\n        command: --web -c /dev/null  --docker --logLevel=INFO --docker.endpoint=tcp://192.168.1.1:3375 --docker.watch --acme --acme.storage=/etc/traefik/acme/acme.json acme.email=me@domain.net --acme.entryPoint=https --entryPoints='Name:https Address::443 TLS' --entryPoints='Name:http Address::80 Redirect.EntryPoint:https' --defaultentrypoints=http,https --acme.domains=\"techan.fr,www.techan.fr\"\n        networks:\n          - web\n        restart: always\n        environment:\n          - \"affinity:container!=traefik*\"\n    networks:\n      web:\n        external:\n          name: web\n\nIl faut renseigner quelques informations afin que Let's Encrypt puisse nous créer des certificats :\n\n* `acme.email=me@domain.net` : L'email a utiliser pour Let's Encypt\n* `--acme.domains=\"techan.fr,www.techan.fr\"` : Les domaines pour lesquels demander un certificat. \n\n\nIl ne vous reste plus qu'à recréer vos containers Traefik !","html":"<h1 id=\"dockercestbienmais\">Docker c'est bien, mais ...</h1>\n\n<p>Docker est de plus en plus utilisé dans le monde de l'informatique, la croissance de l'utilisation a été révélée par Ben Golub, le CEO de Docker durant la <a href=\"https://www.youtube.com/watch?v=vE1iDPx6-Ok\">DockerCon au mois de Juin dernier</a>. La progression est ahurissante, 30% d'adoption supplémentaire en un an et le nombre de containers en production à quintuplé !</p>\n\n<p><img src=\"/content/images/2016/11/docker_adoption.png\" alt=\"Docker adoption\" /></p>\n\n<p>Docker c'est très sympa, mais sans certains outils, ça devient compliqué. Partons d'un consat simple, vous avez mis en place vos hôtes Docker, vous avez installé et configuré votre cluster Swarm, c'est déjà bien ! Manque de chance, vous déployez majoritairement des applications web, donc il vous faut choisir un port différent pour chaque application, pas cool. En cherchant un peu sur le net, vous avez vu qu'il vous faut un Reverse Proxy comme point d'entrée pour que toutes vos applications puissent passer par les ports 80 et 443. Là encore, vous avez réussi à le mettre en place, mais dès que vous ajoutez une nouvelle application, il vous faut modifier la configuration de ce Reverse Proxy et le relancer, ce qui engendre éventuellement une petite coupure de service - plus longue si vous vous trompez dans la configuration ...</p>\n\n<p>Voilà ce qu'était ma vie avant de me pencher sur le cas de <a href=\"https://traefik.io/\">Traefik</a> !</p>\n\n<h1 id=\"loutilultimetrafik\">L'outil ultime : Trafik !</h1>\n\n<p>Voyons maintenant comment ce petit Gopher devenu contrôleur aérien a changé ma vie par rapport à lorsque j'utilisais HAProxy.</p>\n\n<p><img src=\"https://traefik.io/traefik.logo.png\" alt=\"Traefik Gopher\" /></p>\n\n<p>Traefik est un reverse proxy moderne écrit en Go pensé pour déployer facilement des micro services. Cet outil supporte une foule de backends - Kubernetes, Marathons, Etcd, Consul, ... - dont Docker et le nouveau Docker Swarm Mode.</p>\n\n<p>Nous allons voir comment utiliser Traefik dans un environnement Docker 1.11.2 avec Swarm - je n'utilise plus le Swarm Mode ni Docker 1.12 pour des raisons de stabilité.</p>\n\n<h2 id=\"installationdetraefik\">Installation de Traefik</h2>\n\n<p><a href=\"https://traefik.io/\">Traefik</a> peut être installé en dur sur l'hôte, mais tant qu'a faire, nous allons utiliser la version containerisée de l'outil ! Voici le fichier <code>docker-compose</code> que j'utilise pour le démarrer - je pars du postulat que Swarm écoute sur le port <code>3375</code> de l'IP <code>192.168.1.10</code>.</p>\n\n<pre><code>version: \"2\"\n\nservices:\n  traefik:\n    image: traefik:v1.1.0-rc3\n      - \"80:80\"\n      - \"443:443\"\n      - \"8080:8080\"\n    volumes:\n      - /dev/null:/traefik.toml\n    command: --web -c /dev/null  --docker --logLevel=INFO --docker.endpoint=tcp://192.168.1.10:3375 --docker.watch --entryPoints='Name:https Address::443 TLS' --entryPoints='Name:http Address::80 Redirect.EntryPoint:https' --defaultentrypoints=http,https\n    networks:\n      - web\n    restart: always\n    environment:\n      - \"affinity:container!=traefik*\"\nnetworks:\n  web:\n    external:\n      name: web\n</code></pre>\n\n<p>Voici une description de quelques options interressantes :</p>\n\n<ul>\n<li><code>--docker</code> : Active le support de Docker </li>\n<li><code>--docker.watch</code> : Intercepte les évennements du daemon Docker et se reconfigure automatiquement</li>\n<li><code>--entryPoints</code> : Définit sur quoi on va écouter, dans mon <code>:80</code> et <code>:443</code></li>\n<li><code>affinity:container!=traefik*</code> : Règle d'anti-affinité dans Swarm pour n'avoir qu'un container Traefik par hôte</li>\n</ul>\n\n<p>Il ne reste plus qu'à démarrer Traefik avec la commande <code>docker-compose up -d</code>.</p>\n\n<h2 id=\"configurationdesbackends\">Configuration des Backends</h2>\n\n<p>Dans Traefik - comme dans les autre reverse proxies -, il faut définir sur quoi on écoute - les entryPoints - et ou seront dirigées les connexions reçues - les Backends - via des Routes.</p>\n\n<p>Dans notre cas, notre container Traefik à accès directement au daemon Docker, donc dès que vous l'aurez démarré il devrait avoir généré une configuration pour les containers présent sur votre environnements. Cette configuration sera à améliorer !</p>\n\n<p>Vous pouvez avoir accès aux Routes et aux Backends que Traefik a généré en vous rendant sur son interface web : <em><a href=\"http://ip_sur_laquelle_est_bindée_traefik:8080\">http://ip_sur_laquelle_est_bindée_traefik:8080</a></em>.</p>\n\n<p>Afin d'afiner cette configuration par défaut, nous allons aider Traefik en lui donnant des instructions. Ces dernières se présentent sous la forme de \"labels\" que l'on positionne sur les containers.</p>\n\n<p>Pour l'exemple, voici le <code>docker-compose</code> de mon blog :</p>\n\n<pre><code>version: '2'\n\nservices:\n  techan:\n    image: ghost\n    environment:\n      - NODE_ENV=production\n    volumes:\n      - /ghost/ghost/techan:/var/lib/ghost\n    networks:\n      - web\n      - bdd\n    restart: always\n    labels:\n      - \"traefik.backend=ghost\"\n      - \"traefik.backend.ghost.loadbalancer.sticky=true\"\n      - \"traefik.frontend.rule=Host:techan.fr,www.techan.fr\"\n      - \"traefik.port=2368\"\n      - \"traefik.docker.network=web\"\nnetworks:\n  web:\n    external:\n      name: web\n  bdd:\n    external:\n      name: bdd\n</code></pre>\n\n<p>Observez les différents \"labels\" que j'ai passé à Traefik. Ils me permettent de définir que les containers de ce service devront répondre sur le DNS <code>techan.fr</code> ou <code>www.techan.fr</code>, qu'ils font partie du Backend nommé <code>ghost</code>, que je souhaites activer les sticky sessions. Nous spécifions également à Traefik que le port sur lequel les containers répondent est le 2368 et qu'il faut qu'il les atteignent pas le réseau <code>overlay</code> nommé <code>web</code>.</p>\n\n<p>Il suffit de lancer la commande <code>docker-compose up -d</code> pour démarrer ou recréer les containers existants. Voici les Backends vus par Traefik, une fois qu'ils ont tous été recréés.</p>\n\n<p><img src=\"/content/images/2016/11/traefik_ghost.png\" alt=\"\" /></p>\n\n<p>Et la Route que l'outil à générée en ce basant sur les règles fournies :</p>\n\n<p><img src=\"/content/images/2016/11/traefik_ghost_route.png\" alt=\"\" /></p>\n\n<h3 id=\"corsonsletoutavecundeuximeservice\">Corsons le tout avec un deuxième service</h3>\n\n<p>Mon blog est propulsé par <a href=\"https://ghost.org/fr/\">Ghost</a>, mais j'ai pris le parti de servir le contenu static par un autre biais, avec des containers NGinx qui ne font que ça. Il me faut donc configurer cela dans Traefik afin que les URL entrantes dont le début est <code>wp-content</code> soitent routées vers ces containers NGinx et non vers les containers Ghost.</p>\n\n<p>J'ai donc ajouté un nouveau service dans le fichier <code>docker-compose</code> de mon blog :</p>\n\n<pre><code>  techan_static:\n    image: nginx\n    volumes:\n      - /data/ghost/wp-content:/usr/share/nginx/html:ro\n      - /data/ghost/techan_static/default.conf:/etc/nginx/conf.d/default.conf:ro\n    networks:\n      - web\n    restart: always\n    labels:\n      - \"traefik.backend=ghost-static\"\n      - \"traefik.frontend.rule=Host:techan.fr,www.techan.fr;PathPrefixStrip:/wp-content\"\n      - \"traefik.port=80\"\n      - \"traefik.docker.network=web\"\nnetworks:\n  web:\n    external:\n      name: web\n</code></pre>\n\n<p>Les labels utilisés par Traefik sont relativement semblables à ceux utilisés dans le service de Ghost, je l'ai un petit épuré car certaines options n'étaient pas nécessaires. L'élément principal de la configuration est la ligne <code>traefik.frontend.rule</code>, j'ai repris la même que celle du blog Ghost - car ces containers servent le même site - mais j'y ai ajouté une règle de type <code>PathPrefixStrip</code>. Cette dernière regarde les URL reçues, si une URL commence par <code>/wp-content</code>, elle sera routée vers les containers NGinx du service <code>techan_static</code> et non vers les containers Ghost.</p>\n\n<h2 id=\"etmaintenantlehttps\">Et maintenant, le HTTPS</h2>\n\n<p>Depuis quelques temps, j'utilise <a href=\"https://letsencrypt.org/\">Let’s Encrypt</a> pour me fournir les certificats SSL qui protègent mes sites. Le truc génial, c'est que Traefik supporte nativement Let’s Encrypt. Il est capable d'aller demander en temps réel les certificats pour les domaines dont il a besoin et de les installer. Il suffit pour cela que les enregistrements DNS A/AAAA soient positionnés. Voyons comment activer le support de Let’s Encrypt par Traefik, pour cela, il nous faut modifier le fichier <code>docker-compose</code> de Traefik.</p>\n\n<pre><code>version: \"2\"\n\nservices:\n  traefik:\n    image: traefik:v1.1.0-rc3\n      - \"80:80\"\n      - \"443:443\"\n      - \"8080:8080\"\n    volumes:\n      - /dev/null:/traefik.toml\n      - /data/traefik/acme://etc/traefik/acme\n      - /data/traefik/ssl:/etc/ssl\n    command: --web -c /dev/null  --docker --logLevel=INFO --docker.endpoint=tcp://192.168.1.1:3375 --docker.watch --acme --acme.storage=/etc/traefik/acme/acme.json acme.email=me@domain.net --acme.entryPoint=https --entryPoints='Name:https Address::443 TLS' --entryPoints='Name:http Address::80 Redirect.EntryPoint:https' --defaultentrypoints=http,https --acme.domains=\"techan.fr,www.techan.fr\"\n    networks:\n      - web\n    restart: always\n    environment:\n      - \"affinity:container!=traefik*\"\nnetworks:\n  web:\n    external:\n      name: web\n</code></pre>\n\n<p>Il faut renseigner quelques informations afin que Let's Encrypt puisse nous créer des certificats :</p>\n\n<ul>\n<li><code>acme.email=me@domain.net</code> : L'email a utiliser pour Let's Encypt</li>\n<li><code>--acme.domains=\"techan.fr,www.techan.fr\"</code> : Les domaines pour lesquels demander un certificat. </li>\n</ul>\n\n<p>Il ne vous reste plus qu'à recréer vos containers Traefik !</p>","image":"/content/images/2016/11/docker_traefik.png","featured":1,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-11-08T09:07:49.000Z","created_by":1,"updated_at":"2016-11-08T12:27:46.000Z","updated_by":1,"published_at":"2016-11-08T12:27:46.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":200,"uuid":"f9016986-3454-4d00-ae2b-072e30519f88","title":"Utiliser des volumes GlusterFS avec Docker","slug":"utiliser-des-volumes-glusterfs-avec-docker","markdown":"L'un des grands défis avec Docker est de gérer la perstistance des données. Dans une grande majorité des cas, le plus simple est de présenter aux containers des fichiers/dossiers stockés directement sur l'hôte. Cette solution présente plusieurs incovénients, dans le cas ou l'on a un cluster d'hôtes Docker, il faut mettre en place des mécanismes pour répliquer ces dossiers, ou utiliser un stockage partagé. Un autre incovénient est qu'il faut être sûr que sur chacun de nos hôtes, les chemins vers ces fichiers/dossiers soient les mêmes sinon, les containers ne retrouveront pas leurs données.\n\nPour ma part, j'ai testé GlusterFS afin \"synchroniser\" les données de mes containers. Dans un premier temps, je l'ai utilisé basiquement, j'ai créé un seul gros volume qui contenait les données de tous mes containers et l'ai monté au même endroit sur chacun de mes hôtes. Ainsi les containers accédaient à leurs données via le montage du GlusterFS réalisé sur l'hôte.\n\nJ'ai récement testé une méthod plus satisfaisante intellectuellement. J'ai installé et utilisé un plugin Docker pour GlusterFS. Maintenant je créer des volumes GlusterFS pour mes containers et je configure mes containers pour qu'ils utilisent directement ce volume GlusterFS sans avoir à le monter sur l'hôte. \n\nJe vais vous détailler comment j'ai mis en place ce plugin.\n\n# Mise en garde\n\nDans cet article, je pars du principe que vous votre GlusterFS est déjà opérationnel et que vous savez l'administrer - créer des volumes, ...\n\nIl m'a semblé que le plugin [docker-volume-glusterfs](https://github.com/calavera/docker-volume-glusterfs) mis en avant sur [la page de documentation sur le site de Docker](https://docs.docker.com/engine/extend/legacy_plugins/) n'est plus maintenu, j'ai donc pris le parti d'utiliser [un fork de ce projet](https://github.com/amarkwalder/docker-volume-glusterfs).\n\n# Installation du driver pour Docker\n\nTout d'abord, nous devons installer quelques prérequis sur nos machines Docker.\n\n    # apt install golang gccgo mercurial\n\nNous allons configurer deux variables d'environnement pour Go et les sourcer pour quelles soient prises en compte.\n\n    # echo 'export GOPATH=$HOME/go\n    PATH=$PATH:$HOME/.local/bin:$HOME/bin:$GOPATH/bin' >> ~/.bashrc\n    # source ~/.bashrc\n\nOn installe le plugin depuis le repository GitHub.\n\n    # go get github.com/amarkwalder/docker-volume-glusterfs\n\nEt on créer les fichiers nécessaires - `/etc/systemd/system/docker-volume-glusterfs.service` et `/etc/default/docker-volume-glusterfs` - pour que Systemd puisse gérer ce plugin. Ces deux fichiers doivent avoir le contenu suivant :\n\n\n    # cat /etc/systemd/system/docker-volume-glusterfs.service\n    [Unit]\n    Description=Docker Volume GlusterFS\n    Requires=network-online.target\n    After=network-online.target\n    \n    [Service]\n    EnvironmentFile=-/etc/default/docker-volume-glusterfs\n    Restart=on-failure\n    ExecStart=/root/go/bin/docker-volume-glusterfs -servers ${GLUSTERFS_SERVERS}\n    ExecReload=/bin/kill -HUP $MAINPID\n    KillSignal=SIGINT\n    \n    [Install]\n    WantedBy=multi-user.target\n\nEt :\n\n    # cat /etc/default/docker-volume-glusterfs\n    GLUSTERFS_SERVERS=ip-server1:ip-server2:ip-server3:...\n\nOn active active la nouvelle configuration et on lance le service :\n\n    # systemctl daemon-reload\n    # systemctl start docker-volume-glusterfs\n\nNous sommes maintenant parés pour utiliser des volumes GlusterFS avec nos containers Docker !\n\n# Utiliser le drivers avec des containers\n\nJe pars du principe que vous avez déjà créé les volumes nécessaires - dans l'exemple suivant le volume utilisé s'appelle `openvpn`.\n\nJe vais reprendre l'exemple que j'avais déjà donné sur [l'utilisation d'OpenVPN dans des containers Docker](https://techan.fr/protegez-votre-vie-privee-avec-openvpn-sur-docker/).\n\nDans un premier temps, nous allons ajouter une variable d'environnement dans notre fichier `~/.bashrc` afin de ne pas avoir à se rappeler du nom du volume par la suite. ==Le nom configuré dans cette variable doit être le nom du volume créé dans GlusterFS pour cet effet !==\n\n    # echo 'export OVPN_DATA=openvpn' >> ~/.bashrc\n    # source ~/.bashrc\n\nNous lançons ensuite la configuration du serveur OpenVPN avec les deux commandes qui suivent.\n\n    # docker run --volume-driver glusterfs --volume $OVPN_DATA:/etc/openvpn --rm kylemanna/openvpn ovpn_genconfig -u udp://VPN.SERVERNAME.COM\n    # docker run -v $OVPN_DATA:/etc/openvpn --rm -it kylemanna/openvpn ovpn_initpki\n\nSi nous regardons dans Docker ce qui s'est passé, on peut voir qu'un tout nouveau volume de type `glusterfs` a été ajouté !\n\n\n    # docker volume ls\n    DRIVER              VOLUME NAME\n    glusterfs           openvpn\n\nIl ne reste plus qu'à créer un fichier `docker-compose.yml` comme suit pour démarrer notre serveur OpenVPN qui utilisera ce volume.\n\n    version: '2'\n\n    services:\n      vpn:\n        image: kylemanna/openvpn\n        ports:\n          - \"1194:1194\"\n          - \"1194:1194/udp\"\n        volumes:\n          - openvpn:/etc/openvpn\n        restart: always\n        cap_add:\n          - NET_ADMIN\n        network_mode: \"host\"\n\n    volumes:\n      openvpn:\n        external: true\n\nDans la partie `volumes` du service, on dit à docker-compose d'utiliser un volume nommé `openvpn`. Puis dans la section `volumes` à la fin du fichier, on lui explique qu'il ne devra pas le créer lui même mais utiliser le volume nommé `openvpn` qui existe déjà sur l'hôte. Nous avons vu que Docker l'a créé lorsque nous avons lancé nos commandes pour configurer le serveur OpenVPN.\n\nOn peut aller vérfier que Docker écrit bien dans ce volume GlusterFS en le montant sur l'hôte.\n\n    # mount -t glusterfs ip-server1:/openvpn /mnt\n    # ls -lrt /mnt\n    total 6\n    drwxr-xr-x  6 root root  102 Nov  9 07:59 ./\n    drwxr-xr-x 27 root root 4096 Nov  9 08:16 ../\n    drwxr-xr-x  2 root root    6 Nov  9 07:58 ccd/\n    -rw-r--r--  1 root root  637 Nov  9 07:58 openvpn.conf\n    -rw-r--r--  1 root root  587 Nov  9 07:58 ovpn_env.sh\n    drwx------  6 root root  242 Nov  9 08:25 pki/\n    drwxr-xr-x  3 root root   25 Nov  9 07:49 .trashcan/\n\nEt voilà ! :)","html":"<p>L'un des grands défis avec Docker est de gérer la perstistance des données. Dans une grande majorité des cas, le plus simple est de présenter aux containers des fichiers/dossiers stockés directement sur l'hôte. Cette solution présente plusieurs incovénients, dans le cas ou l'on a un cluster d'hôtes Docker, il faut mettre en place des mécanismes pour répliquer ces dossiers, ou utiliser un stockage partagé. Un autre incovénient est qu'il faut être sûr que sur chacun de nos hôtes, les chemins vers ces fichiers/dossiers soient les mêmes sinon, les containers ne retrouveront pas leurs données.</p>\n\n<p>Pour ma part, j'ai testé GlusterFS afin \"synchroniser\" les données de mes containers. Dans un premier temps, je l'ai utilisé basiquement, j'ai créé un seul gros volume qui contenait les données de tous mes containers et l'ai monté au même endroit sur chacun de mes hôtes. Ainsi les containers accédaient à leurs données via le montage du GlusterFS réalisé sur l'hôte.</p>\n\n<p>J'ai récement testé une méthod plus satisfaisante intellectuellement. J'ai installé et utilisé un plugin Docker pour GlusterFS. Maintenant je créer des volumes GlusterFS pour mes containers et je configure mes containers pour qu'ils utilisent directement ce volume GlusterFS sans avoir à le monter sur l'hôte. </p>\n\n<p>Je vais vous détailler comment j'ai mis en place ce plugin.</p>\n\n<h1 id=\"miseengarde\">Mise en garde</h1>\n\n<p>Dans cet article, je pars du principe que vous votre GlusterFS est déjà opérationnel et que vous savez l'administrer - créer des volumes, ...</p>\n\n<p>Il m'a semblé que le plugin <a href=\"https://github.com/calavera/docker-volume-glusterfs\">docker-volume-glusterfs</a> mis en avant sur <a href=\"https://docs.docker.com/engine/extend/legacy_plugins/\">la page de documentation sur le site de Docker</a> n'est plus maintenu, j'ai donc pris le parti d'utiliser <a href=\"https://github.com/amarkwalder/docker-volume-glusterfs\">un fork de ce projet</a>.</p>\n\n<h1 id=\"installationdudriverpourdocker\">Installation du driver pour Docker</h1>\n\n<p>Tout d'abord, nous devons installer quelques prérequis sur nos machines Docker.</p>\n\n<pre><code># apt install golang gccgo mercurial\n</code></pre>\n\n<p>Nous allons configurer deux variables d'environnement pour Go et les sourcer pour quelles soient prises en compte.</p>\n\n<pre><code># echo 'export GOPATH=$HOME/go\nPATH=$PATH:$HOME/.local/bin:$HOME/bin:$GOPATH/bin' &gt;&gt; ~/.bashrc\n# source ~/.bashrc\n</code></pre>\n\n<p>On installe le plugin depuis le repository GitHub.</p>\n\n<pre><code># go get github.com/amarkwalder/docker-volume-glusterfs\n</code></pre>\n\n<p>Et on créer les fichiers nécessaires - <code>/etc/systemd/system/docker-volume-glusterfs.service</code> et <code>/etc/default/docker-volume-glusterfs</code> - pour que Systemd puisse gérer ce plugin. Ces deux fichiers doivent avoir le contenu suivant :</p>\n\n<pre><code># cat /etc/systemd/system/docker-volume-glusterfs.service\n[Unit]\nDescription=Docker Volume GlusterFS\nRequires=network-online.target\nAfter=network-online.target\n\n[Service]\nEnvironmentFile=-/etc/default/docker-volume-glusterfs\nRestart=on-failure\nExecStart=/root/go/bin/docker-volume-glusterfs -servers ${GLUSTERFS_SERVERS}\nExecReload=/bin/kill -HUP $MAINPID\nKillSignal=SIGINT\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n\n<p>Et :</p>\n\n<pre><code># cat /etc/default/docker-volume-glusterfs\nGLUSTERFS_SERVERS=ip-server1:ip-server2:ip-server3:...\n</code></pre>\n\n<p>On active active la nouvelle configuration et on lance le service :</p>\n\n<pre><code># systemctl daemon-reload\n# systemctl start docker-volume-glusterfs\n</code></pre>\n\n<p>Nous sommes maintenant parés pour utiliser des volumes GlusterFS avec nos containers Docker !</p>\n\n<h1 id=\"utiliserledriversavecdescontainers\">Utiliser le drivers avec des containers</h1>\n\n<p>Je pars du principe que vous avez déjà créé les volumes nécessaires - dans l'exemple suivant le volume utilisé s'appelle <code>openvpn</code>.</p>\n\n<p>Je vais reprendre l'exemple que j'avais déjà donné sur <a href=\"https://techan.fr/protegez-votre-vie-privee-avec-openvpn-sur-docker/\">l'utilisation d'OpenVPN dans des containers Docker</a>.</p>\n\n<p>Dans un premier temps, nous allons ajouter une variable d'environnement dans notre fichier <code>~/.bashrc</code> afin de ne pas avoir à se rappeler du nom du volume par la suite. <mark>Le nom configuré dans cette variable doit être le nom du volume créé dans GlusterFS pour cet effet !</mark></p>\n\n<pre><code># echo 'export OVPN_DATA=openvpn' &gt;&gt; ~/.bashrc\n# source ~/.bashrc\n</code></pre>\n\n<p>Nous lançons ensuite la configuration du serveur OpenVPN avec les deux commandes qui suivent.</p>\n\n<pre><code># docker run --volume-driver glusterfs --volume $OVPN_DATA:/etc/openvpn --rm kylemanna/openvpn ovpn_genconfig -u udp://VPN.SERVERNAME.COM\n# docker run -v $OVPN_DATA:/etc/openvpn --rm -it kylemanna/openvpn ovpn_initpki\n</code></pre>\n\n<p>Si nous regardons dans Docker ce qui s'est passé, on peut voir qu'un tout nouveau volume de type <code>glusterfs</code> a été ajouté !</p>\n\n<pre><code># docker volume ls\nDRIVER              VOLUME NAME\nglusterfs           openvpn\n</code></pre>\n\n<p>Il ne reste plus qu'à créer un fichier <code>docker-compose.yml</code> comme suit pour démarrer notre serveur OpenVPN qui utilisera ce volume.</p>\n\n<pre><code>version: '2'\n\nservices:\n  vpn:\n    image: kylemanna/openvpn\n    ports:\n      - \"1194:1194\"\n      - \"1194:1194/udp\"\n    volumes:\n      - openvpn:/etc/openvpn\n    restart: always\n    cap_add:\n      - NET_ADMIN\n    network_mode: \"host\"\n\nvolumes:\n  openvpn:\n    external: true\n</code></pre>\n\n<p>Dans la partie <code>volumes</code> du service, on dit à docker-compose d'utiliser un volume nommé <code>openvpn</code>. Puis dans la section <code>volumes</code> à la fin du fichier, on lui explique qu'il ne devra pas le créer lui même mais utiliser le volume nommé <code>openvpn</code> qui existe déjà sur l'hôte. Nous avons vu que Docker l'a créé lorsque nous avons lancé nos commandes pour configurer le serveur OpenVPN.</p>\n\n<p>On peut aller vérfier que Docker écrit bien dans ce volume GlusterFS en le montant sur l'hôte.</p>\n\n<pre><code># mount -t glusterfs ip-server1:/openvpn /mnt\n# ls -lrt /mnt\ntotal 6\ndrwxr-xr-x  6 root root  102 Nov  9 07:59 ./\ndrwxr-xr-x 27 root root 4096 Nov  9 08:16 ../\ndrwxr-xr-x  2 root root    6 Nov  9 07:58 ccd/\n-rw-r--r--  1 root root  637 Nov  9 07:58 openvpn.conf\n-rw-r--r--  1 root root  587 Nov  9 07:58 ovpn_env.sh\ndrwx------  6 root root  242 Nov  9 08:25 pki/\ndrwxr-xr-x  3 root root   25 Nov  9 07:49 .trashcan/\n</code></pre>\n\n<p>Et voilà ! :)</p>","image":"/content/images/2016/11/gluster_et_docker.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":"Utiliser des volumes GlusterFS avec Docker","meta_description":null,"author_id":1,"created_at":"2016-11-09T15:33:09.000Z","created_by":1,"updated_at":"2016-11-23T07:21:27.000Z","updated_by":1,"published_at":"2016-11-11T15:33:00.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":201,"uuid":"ac55829f-c0f5-4e3d-a036-b2583fe32c07","title":"Faites du ménage dans Docker avec docker-gc","slug":"faites-du-menage-dans-docker-avec-docker-gc","markdown":"Docker à la fâcheuse tendance de laisser trainer ses jouets un peu partout, notamment les containers qui ont crashés, qui n'ont pas démarrés et les images qui ne sont pas liées à des containers. Ce mécanisme est intéressant pour débugger, savoir pourquoi les containers n'ont pas démarrés, pour mon application fonctionnait avec une ancienne version de l'image mais pas avec la nouvelle. Bref, dans un environnement de développement, ce bazare est important, en production également mais dans une moindre mesure. En effet, en production, je préfère ne pas disposer des containers qui ont plantés il y a trois semaines de cela et gagner quelques précieux giga sur mes disques.\n\nCe problème est encore plus criant lorsque l'on [utilise les services de Docker 1.12](https://techan.fr/creer-des-services-avec-docker-1-12/). Lorsqu'il est dans [le nouveau Swarm Mode](https://docs.docker.com/engine/swarm/), Docker est capable de rescheduler les containers, laissant derrière lui les containers qui ne fonctionnent plus. Le même problème arriver lorsque l'on fait des [\"rolling updates\" avec Docker 1.12](https://techan.fr/les-rolling-updates-avec-docker-1-12/). Dans ce cas là, Docker éteint un par un les anciens containers et les redémarre avec le/les nouveau(x) paramètre(s) et ne supprime pas les containers qu'il a éteint ...\n\nC'est dans ce contexte qu'intervient [Spotify](https://www.spotify.com/fr/) - un utilisateur notoire de Docker - a développé un certain nombre d'outil autours de la baleine pour assurer et simplifier sa production dans Docker. La société à par exemple développé son propre outil d'orchestration - [helios](https://github.com/spotify/helios) - , bien avant [l'intégration de Swarm dans le Docker Engine](http://blog.loof.fr/2016/06/dockercon-quand-docker-swarm-laisse-la.html).\n\n\n<blockquote class=\"twitter-tweet\" data-lang=\"fr\"><p lang=\"en\" dir=\"ltr\">2015: the year of the production ready container.</p>&mdash; Alex Polvi (@polvi) <a href=\"https://twitter.com/polvi/status/546745257954529281\">21 décembre 2014</a></blockquote>\n<script async src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n\n\n# Le Garbage Collector de Docker\n\nSpotify a également développé un \"[garbage collector](https://github.com/spotify/docker-gc)\" qui \"nettoie\" les containers plantés et/ou arrêtés.\n\n> **Attention !!!**\n\n> *Si vous utilisez un outil comme [Rancher](http://rancher.com/), ou que vous utilisez des containers éteint comme volume, faites attention, cet outil risque de les supprimer. Utilisez les variables d'environnement pour filtrer ces containers.*\n\nLe seul inconvénient de ce que Spotify fourni, c'est que le container fonctionne en \"one shot\", il faut le lancer sur chaque hôte à chaque fois qu'on veut faire du ménage. Ce n'est pas franchement optimal de mon point de vue, j'ai trouvé un autre projet ([flaccid/docker-docker-gc-crond](https://github.com/flaccid/docker-docker-gc-crond)) - reprenant le développement de Spotify - mais qui lance `docker-gc` toutes les demis heures via cron dans le container.\n\nVoici comment mettre en place ce \"garbage collector\" sur votre infrastructure Docker. Dans un premier temps, il faut cloner le repostory GitHub et construire l'image Docker.\n\n    # git clone https://github.com/flaccid/docker-docker-gc-crond.git\n    # cd docker-docker-gc-crond\n    # docker build -t flaccid/docker-gc-crond .\n\n\n## Lancement avec docker-compose\n\nLe projet fourni un fichier `docker-compose.yml` pour lancer le \"garbage collector\". Ce fichier présente également comment utiliser les variables d'environnement du container pour exclure des containers et/ou des images de la purge.\n\n<script src=\"https://gist-it.appspot.com/https://github.com/flaccid/docker-docker-gc-crond/blob/master/docker-compose.yml\"></script>\n\n\n## Lancement avec un service Docker\n\n\nVoici comment lancer ce même \"garbage collector\" dans un environnement Docker 1.12 avec un cluster Swarm en place.\n\n    docker service create --mode global \\\n    --restart-condition any --name gc \\\n    --mount type=bind,source=/var/run/docker.sock,target=/var/run/docker.sock \\\n    flaccid/docker-gc-crond\n\n\nCette commande va créer un service en mode `global`, ceci a pour effet de placer un container sur chaque hôte.\n\n# Le résultat !\n\nAvant le passage du \"garbage collector\", j'avais 104 containers purgeables.\n\n    # docker ps -a | grep -v \"^CONTAINER ID\" | grep -v Run | wc -l\n    104\n    # df -h\n    Filesystem                 Size  Used Avail Use% Mounted on\n    /dev/vda                    46G   32G   12G  73% /\n\nUne fois que ce dernier est passé, la magie a opérée ! :)\n\n    # docker ps -a | grep -v \"^CONTAINER ID\" | grep -v Run | wc -l\n    0\n    # df -h\n    Filesystem                 Size  Used Avail Use% Mounted on\n    /dev/vda                    46G   32G   12G  73% /\n\n\n# Sources\n\n* [How Spotify is ahead of the pack in using container - gigaom.com](https://gigaom.com/2015/02/22/how-spotify-is-ahead-of-the-pack-in-using-containers/)\n* [Swarm - Docker docs](https://docs.docker.com/engine/swarm/)\n* [For wahtever it's worth, don't run Spotify docker-gc - Rancher forums](https://forums.rancher.com/t/for-whatever-its-worth-dont-run-spotify-docker-gc/1571)","html":"<p>Docker à la fâcheuse tendance de laisser trainer ses jouets un peu partout, notamment les containers qui ont crashés, qui n'ont pas démarrés et les images qui ne sont pas liées à des containers. Ce mécanisme est intéressant pour débugger, savoir pourquoi les containers n'ont pas démarrés, pour mon application fonctionnait avec une ancienne version de l'image mais pas avec la nouvelle. Bref, dans un environnement de développement, ce bazare est important, en production également mais dans une moindre mesure. En effet, en production, je préfère ne pas disposer des containers qui ont plantés il y a trois semaines de cela et gagner quelques précieux giga sur mes disques.</p>\n\n<p>Ce problème est encore plus criant lorsque l'on <a href=\"https://techan.fr/creer-des-services-avec-docker-1-12/\">utilise les services de Docker 1.12</a>. Lorsqu'il est dans <a href=\"https://docs.docker.com/engine/swarm/\">le nouveau Swarm Mode</a>, Docker est capable de rescheduler les containers, laissant derrière lui les containers qui ne fonctionnent plus. Le même problème arriver lorsque l'on fait des <a href=\"https://techan.fr/les-rolling-updates-avec-docker-1-12/\">\"rolling updates\" avec Docker 1.12</a>. Dans ce cas là, Docker éteint un par un les anciens containers et les redémarre avec le/les nouveau(x) paramètre(s) et ne supprime pas les containers qu'il a éteint ...</p>\n\n<p>C'est dans ce contexte qu'intervient <a href=\"https://www.spotify.com/fr/\">Spotify</a> - un utilisateur notoire de Docker - a développé un certain nombre d'outil autours de la baleine pour assurer et simplifier sa production dans Docker. La société à par exemple développé son propre outil d'orchestration - <a href=\"https://github.com/spotify/helios\">helios</a> - , bien avant <a href=\"http://blog.loof.fr/2016/06/dockercon-quand-docker-swarm-laisse-la.html\">l'intégration de Swarm dans le Docker Engine</a>.</p>\n\n<blockquote class=\"twitter-tweet\" data-lang=\"fr\"><p lang=\"en\" dir=\"ltr\">2015: the year of the production ready container.</p>&mdash; Alex Polvi (@polvi) <a href=\"https://twitter.com/polvi/status/546745257954529281\">21 décembre 2014</a></blockquote>  \n\n<script async src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n\n<h1 id=\"legarbagecollectordedocker\">Le Garbage Collector de Docker</h1>\n\n<p>Spotify a également développé un \"<a href=\"https://github.com/spotify/docker-gc\">garbage collector</a>\" qui \"nettoie\" les containers plantés et/ou arrêtés.</p>\n\n<blockquote>\n  <p><strong>Attention !!!</strong></p>\n  \n  <p><em>Si vous utilisez un outil comme <a href=\"http://rancher.com/\">Rancher</a>, ou que vous utilisez des containers éteint comme volume, faites attention, cet outil risque de les supprimer. Utilisez les variables d'environnement pour filtrer ces containers.</em></p>\n</blockquote>\n\n<p>Le seul inconvénient de ce que Spotify fourni, c'est que le container fonctionne en \"one shot\", il faut le lancer sur chaque hôte à chaque fois qu'on veut faire du ménage. Ce n'est pas franchement optimal de mon point de vue, j'ai trouvé un autre projet (<a href=\"https://github.com/flaccid/docker-docker-gc-crond\">flaccid/docker-docker-gc-crond</a>) - reprenant le développement de Spotify - mais qui lance <code>docker-gc</code> toutes les demis heures via cron dans le container.</p>\n\n<p>Voici comment mettre en place ce \"garbage collector\" sur votre infrastructure Docker. Dans un premier temps, il faut cloner le repostory GitHub et construire l'image Docker.</p>\n\n<pre><code># git clone https://github.com/flaccid/docker-docker-gc-crond.git\n# cd docker-docker-gc-crond\n# docker build -t flaccid/docker-gc-crond .\n</code></pre>\n\n<h2 id=\"lancementavecdockercompose\">Lancement avec docker-compose</h2>\n\n<p>Le projet fourni un fichier <code>docker-compose.yml</code> pour lancer le \"garbage collector\". Ce fichier présente également comment utiliser les variables d'environnement du container pour exclure des containers et/ou des images de la purge.</p>\n\n<script src=\"https://gist-it.appspot.com/https://github.com/flaccid/docker-docker-gc-crond/blob/master/docker-compose.yml\"></script>\n\n<h2 id=\"lancementavecunservicedocker\">Lancement avec un service Docker</h2>\n\n<p>Voici comment lancer ce même \"garbage collector\" dans un environnement Docker 1.12 avec un cluster Swarm en place.</p>\n\n<pre><code>docker service create --mode global \\\n--restart-condition any --name gc \\\n--mount type=bind,source=/var/run/docker.sock,target=/var/run/docker.sock \\\nflaccid/docker-gc-crond\n</code></pre>\n\n<p>Cette commande va créer un service en mode <code>global</code>, ceci a pour effet de placer un container sur chaque hôte.</p>\n\n<h1 id=\"lersultat\">Le résultat !</h1>\n\n<p>Avant le passage du \"garbage collector\", j'avais 104 containers purgeables.</p>\n\n<pre><code># docker ps -a | grep -v \"^CONTAINER ID\" | grep -v Run | wc -l\n104\n# df -h\nFilesystem                 Size  Used Avail Use% Mounted on\n/dev/vda                    46G   32G   12G  73% /\n</code></pre>\n\n<p>Une fois que ce dernier est passé, la magie a opérée ! :)</p>\n\n<pre><code># docker ps -a | grep -v \"^CONTAINER ID\" | grep -v Run | wc -l\n0\n# df -h\nFilesystem                 Size  Used Avail Use% Mounted on\n/dev/vda                    46G   32G   12G  73% /\n</code></pre>\n\n<h1 id=\"sources\">Sources</h1>\n\n<ul>\n<li><a href=\"https://gigaom.com/2015/02/22/how-spotify-is-ahead-of-the-pack-in-using-containers/\">How Spotify is ahead of the pack in using container - gigaom.com</a></li>\n<li><a href=\"https://docs.docker.com/engine/swarm/\">Swarm - Docker docs</a></li>\n<li><a href=\"https://forums.rancher.com/t/for-whatever-its-worth-dont-run-spotify-docker-gc/1571\">For wahtever it's worth, don't run Spotify docker-gc - Rancher forums</a></li>\n</ul>","image":"/content/images/2016/11/docker_clean_up.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-11-23T07:20:33.000Z","created_by":1,"updated_at":"2016-11-23T08:57:36.000Z","updated_by":1,"published_at":"2016-11-23T08:49:25.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":202,"uuid":"8bbaa619-c14e-45dc-9c1a-b4bf4d096820","title":"Collecter et exploiter les métriques des containers avec Prometheus","slug":"collecter-et-exploiter-les-metriques-des-containers-avec-prometheus","markdown":"\n\n\n## CAdvisor 1\ndocker service create --replicas 1 --network back-tier \\\n--restart-condition any --name cadvisor-1 \\\n--mount type=bind,source=/,target=/rootfs,ro=true \\\n--mount type=bind,source=/var/run,target=/var/run \\\n--mount type=bind,source=/sys,target=/sys,ro=true \\\n--mount type=bind,source=/var/lib/docker,target=/var/lib/docker,ro=true \\\n--constraint 'node.hostname == docker-machine-1' \\\ngoogle/cadvisor\n\n## CAdvisor 2\ndocker service create --replicas 1 --network back-tier \\\n--restart-condition any --name cadvisor-2 \\\n--mount type=bind,source=/,target=/rootfs,ro=true \\\n--mount type=bind,source=/var/run,target=/var/run \\\n--mount type=bind,source=/sys,target=/sys,ro=true \\\n--mount type=bind,source=/var/lib/docker,target=/var/lib/docker,ro=true \\\n--mount type=bind,source=/etc/hostname,target=/etc/hostname,ro=true \\\n--mount type=bind,source=/var/log/syslog,target=/var/log/syslog,ro=true \\\n--constraint 'node.hostname == docker-machine-2' \\\ngoogle/cadvisor\n\n## CAdvisor 3\ndocker service create --replicas 1 --network back-tier \\\n--restart-condition any --name cadvisor-3 \\\n--mount type=bind,source=/,target=/rootfs,ro=true \\\n--mount type=bind,source=/var/run,target=/var/run \\\n--mount type=bind,source=/sys,target=/sys,ro=true \\\n--mount type=bind,source=/var/lib/docker,target=/var/lib/docker,ro=true \\\n--constraint 'node.hostname == docker-machine-3' \\\ngoogle/cadvisor\n\n## Node Exporter 1\ndocker service create --replicas 1 --network back-tier \\\n--restart-condition any --name node-exporter-1 \\\n--constraint 'node.hostname == docker-machine-1' \\\n--mount type=bind,source=/,target=/rootfs,ro=true \\\n--mount type=bind,source=/sys,target=/host/sys,ro=true \\\n--mount type=bind,source=/proc,target=/host/proc,ro=true \\\nprom/node-exporter --collector.filesystem.ignored-mount-points \"^/(sys|proc|dev|host|etc)($|/)\" \\\n--collector.procfs /host/proc --collector.sysfs /host/proc \\\n--collectors.enabled=\"conntrack,diskstats,entropy,filefd,ksmd,loadavg,mdadm,meminfo,meminfo_numa,netdev,netstat,sockstat,stat,filesystem,time,vmstat,tcpstat\"\n\n## Node Exporter 2\ndocker service create --replicas 1 --network back-tier \\\n--mount type=bind,source=/etc/hostname,target=/etc/hostname,ro=true \\\n--restart-condition any --name node-exporter-2 \\\n--constraint 'node.hostname == docker-machine-2' \\\n--mount type=bind,source=/,target=/rootfs,ro=true \\\n--mount type=bind,source=/sys,target=/host/sys,ro=true \\\n--mount type=bind,source=/proc,target=/host/proc,ro=true \\\nprom/node-exporter --collector.filesystem.ignored-mount-points \"^/(sys|proc|dev|host|etc)($|/)\" \\\n--collector.procfs /host/proc --collector.sysfs /host/proc \\\n--collectors.enabled=\"conntrack,diskstats,entropy,filefd,ksmd,loadavg,mdadm,meminfo,meminfo_numa,netdev,netstat,sockstat,stat,filesystem,time,vmstat,tcpstat\"\n\n## Node Exporter 3\ndocker service create --replicas 1 --network back-tier \\\n--restart-condition any --name node-exporter-3 \\\n--constraint 'node.hostname == docker-machine-3' \\\n--mount type=bind,source=/,target=/rootfs,ro=true \\\n--mount type=bind,source=/sys,target=/host/sys,ro=true \\\n--mount type=bind,source=/proc,target=/host/proc,ro=true \\\nprom/node-exporter --collector.filesystem.ignored-mount-points \"^/(sys|proc|dev|host|etc)($|/)\" \\\n--collector.procfs /host/proc --collector.sysfs /host/proc \\\n--collectors.enabled=\"conntrack,diskstats,entropy,filefd,ksmd,loadavg,mdadm,meminfo,meminfo_numa,netdev,netstat,sockstat,stat,filesystem,time,vmstat,tcpstat\"\n\n## Alert Manager\ndocker service create --network back-tier \\\n--restart-condition any --name alertmanager \\\n--mount type=bind,source=/data/tools/prometheus/alertmanager/,target=/etc/alertmanager/ \\\nprom/alertmanager -config.file=/etc/alertmanager/config.yml -storage.path=/alertmanager\n\n## Fluentd\ndocker service create --network back-tier --publish 24224:24224 \\\n--restart-condition any --name fluentd \\\n--mount type=bind,source=/data/tools/fluentd/fluentd-docker.pos,target=/var/log/fluentd-docker.pos \\\n--mount type=bind,source=/data/tools/fluentd/fluentd.conf,target=/fluentd/etc/fluentd.conf \\\n--mount type=bind,source=/var/lib/docker/containers/,target=/var/lib/docker/containers/,ro=true \\\n--env FLUENTD_CONF=fluentd.conf \\\n--env FLUENTD_OPT=qsdfAZG21 \\\nmrraph/fluentd fluentd -c /fluentd/etc/fluentd.conf\n\n## Prometheus\n#--mount type=bind,source=/data/tools/prometheus/prometheus,target=/prometheus \\\ndocker service create --network back-tier \\\n--restart-condition any --name prometheus \\\n--mount type=bind,source=/data/tools/prometheus/prometheus/,target=/etc/prometheus/ \\\n--mount type=volume,source=prometheus_data,target=/prometheus,volume-driver=glusterfs \\\nprom/prometheus -config.file=/etc/prometheus/prometheus.yml -storage.local.path=/prometheus/data \\\n-alertmanager.url=http://alertmanager:9093 -storage.local.retention=372h\n\n## Graphana\ndocker service create --network back-tier --network web \\\n--restart-condition any --name grafana \\\n--mount type=volume,source=grafana_data,target=/var/lib/grafana,volume-driver=glusterfs \\\n--env GF_SECURITY_ADMIN_PASSWORD=qsdfAZG21 \\\n--env GF_USERS_ALLOW_SIGN_UP=false \\\n--env GF_SERVER_ROOT_URL=https://monitoring.aldanet.fr \\\n--label=\"traefik.backend=grafana\" \\\n--label=\"traefik.backend.grafana.loadbalancer.sticky=true\" \\\n--label=\"traefik.backend.grafana.loadbalancer.method=drr\" \\\n--label=\"traefik.frontend.rule=Host:monitoring.aldanet.fr\" \\\n--label=\"traefik.port=3000\" \\\n--label=\"traefik.docker.network=web\" \\\ngrafana/grafana \n\n## Traefik exporter\ndocker service create --network back-tier --network web \\\n--restart-condition any --name traefik-exporter-1 \\\nmrraph/traefik-exporter app -traefik.address http://traefik-1:8080/health\n\ndocker service create --network back-tier --network web \\\n--restart-condition any --name traefik-exporter-2 \\\nmrraph/traefik-exporter app -traefik.address http://traefik-2:8080/health\n\ndocker service create --network back-tier --network web \\\n--restart-condition any --name traefik-exporter-3 \\\nmrraph/traefik-exporter app -traefik.address http://traefik-3:8080/health\n\n\n\n\n[Docker Containers - Dashboard](https://techan.fr/images/grafana_dashboard/Docker_Containers-1479893053520.json)","html":"<h2 id=\"cadvisor1\">CAdvisor 1</h2>\n\n<p>docker service create --replicas 1 --network back-tier \\ <br />\n--restart-condition any --name cadvisor-1 \\\n--mount type=bind,source=/,target=/rootfs,ro=true \\\n--mount type=bind,source=/var/run,target=/var/run \\\n--mount type=bind,source=/sys,target=/sys,ro=true \\\n--mount type=bind,source=/var/lib/docker,target=/var/lib/docker,ro=true \\\n--constraint 'node.hostname <mark> docker-machine-1' \\\ngoogle/cadvisor</p>\n\n<h2 id=\"cadvisor2\">CAdvisor 2</h2>\n\n<p>docker service create --replicas 1 --network back-tier \\ <br />\n--restart-condition any --name cadvisor-2 \\\n--mount type=bind,source=/,target=/rootfs,ro=true \\\n--mount type=bind,source=/var/run,target=/var/run \\\n--mount type=bind,source=/sys,target=/sys,ro=true \\\n--mount type=bind,source=/var/lib/docker,target=/var/lib/docker,ro=true \\\n--mount type=bind,source=/etc/hostname,target=/etc/hostname,ro=true \\\n--mount type=bind,source=/var/log/syslog,target=/var/log/syslog,ro=true \\\n--constraint 'node.hostname </mark> docker-machine-2' \\\ngoogle/cadvisor</p>\n\n<h2 id=\"cadvisor3\">CAdvisor 3</h2>\n\n<p>docker service create --replicas 1 --network back-tier \\ <br />\n--restart-condition any --name cadvisor-3 \\\n--mount type=bind,source=/,target=/rootfs,ro=true \\\n--mount type=bind,source=/var/run,target=/var/run \\\n--mount type=bind,source=/sys,target=/sys,ro=true \\\n--mount type=bind,source=/var/lib/docker,target=/var/lib/docker,ro=true \\\n--constraint 'node.hostname <mark> docker-machine-3' \\\ngoogle/cadvisor</p>\n\n<h2 id=\"nodeexporter1\"> Node Exporter 1</h2>\n\n<p>docker service create --replicas 1 --network back-tier \\ <br />\n--restart-condition any --name node-exporter-1 \\\n--constraint 'node.hostname </mark> docker-machine-1' \\\n--mount type=bind,source=/,target=/rootfs,ro=true \\\n--mount type=bind,source=/sys,target=/host/sys,ro=true \\\n--mount type=bind,source=/proc,target=/host/proc,ro=true \\\nprom/node-exporter --collector.filesystem.ignored-mount-points \"^/(sys|proc|dev|host|etc)($|/)\" \\ <br />\n--collector.procfs /host/proc --collector.sysfs /host/proc \\\n--collectors.enabled=\"conntrack,diskstats,entropy,filefd,ksmd,loadavg,mdadm,meminfo,meminfo_numa,netdev,netstat,sockstat,stat,filesystem,time,vmstat,tcpstat\"</p>\n\n<h2 id=\"nodeexporter2\"> Node Exporter 2</h2>\n\n<p>docker service create --replicas 1 --network back-tier \\ <br />\n--mount type=bind,source=/etc/hostname,target=/etc/hostname,ro=true \\\n--restart-condition any --name node-exporter-2 \\\n--constraint 'node.hostname <mark> docker-machine-2' \\\n--mount type=bind,source=/,target=/rootfs,ro=true \\\n--mount type=bind,source=/sys,target=/host/sys,ro=true \\\n--mount type=bind,source=/proc,target=/host/proc,ro=true \\\nprom/node-exporter --collector.filesystem.ignored-mount-points \"^/(sys|proc|dev|host|etc)($|/)\" \\ <br />\n--collector.procfs /host/proc --collector.sysfs /host/proc \\\n--collectors.enabled=\"conntrack,diskstats,entropy,filefd,ksmd,loadavg,mdadm,meminfo,meminfo_numa,netdev,netstat,sockstat,stat,filesystem,time,vmstat,tcpstat\"</p>\n\n<h2 id=\"nodeexporter3\"> Node Exporter 3</h2>\n\n<p>docker service create --replicas 1 --network back-tier \\ <br />\n--restart-condition any --name node-exporter-3 \\\n--constraint 'node.hostname </mark> docker-machine-3' \\\n--mount type=bind,source=/,target=/rootfs,ro=true \\\n--mount type=bind,source=/sys,target=/host/sys,ro=true \\\n--mount type=bind,source=/proc,target=/host/proc,ro=true \\\nprom/node-exporter --collector.filesystem.ignored-mount-points \"^/(sys|proc|dev|host|etc)($|/)\" \\ <br />\n--collector.procfs /host/proc --collector.sysfs /host/proc \\\n--collectors.enabled=\"conntrack,diskstats,entropy,filefd,ksmd,loadavg,mdadm,meminfo,meminfo_numa,netdev,netstat,sockstat,stat,filesystem,time,vmstat,tcpstat\"</p>\n\n<h2 id=\"alertmanager\">Alert Manager</h2>\n\n<p>docker service create --network back-tier \\ <br />\n--restart-condition any --name alertmanager \\\n--mount type=bind,source=/data/tools/prometheus/alertmanager/,target=/etc/alertmanager/ \\\nprom/alertmanager -config.file=/etc/alertmanager/config.yml -storage.path=/alertmanager</p>\n\n<h2 id=\"fluentd\"> Fluentd</h2>\n\n<p>docker service create --network back-tier --publish 24224:24224 \\ <br />\n--restart-condition any --name fluentd \\\n--mount type=bind,source=/data/tools/fluentd/fluentd-docker.pos,target=/var/log/fluentd-docker.pos \\\n--mount type=bind,source=/data/tools/fluentd/fluentd.conf,target=/fluentd/etc/fluentd.conf \\\n--mount type=bind,source=/var/lib/docker/containers/,target=/var/lib/docker/containers/,ro=true \\\n--env FLUENTD<em>CONF=fluentd.conf \\\n--env FLUENTD</em>OPT=qsdfAZG21 \\\nmrraph/fluentd fluentd -c /fluentd/etc/fluentd.conf</p>\n\n<h2 id=\"prometheus\"> Prometheus</h2>\n\n<h1 id=\"mounttypebindsourcedatatoolsprometheusprometheustargetprometheus\">--mount type=bind,source=/data/tools/prometheus/prometheus,target=/prometheus \\</h1>\n\n<p>docker service create --network back-tier \\ <br />\n--restart-condition any --name prometheus \\\n--mount type=bind,source=/data/tools/prometheus/prometheus/,target=/etc/prometheus/ \\\n--mount type=volume,source=prometheus_data,target=/prometheus,volume-driver=glusterfs \\\nprom/prometheus -config.file=/etc/prometheus/prometheus.yml -storage.local.path=/prometheus/data \\ <br />\n-alertmanager.url=<a href=\"http://alertmanager:9093\">http://alertmanager:9093</a> -storage.local.retention=372h</p>\n\n<h2 id=\"graphana\">Graphana</h2>\n\n<p>docker service create --network back-tier --network web \\ <br />\n--restart-condition any --name grafana \\\n--mount type=volume,source=grafana<em>data,target=/var/lib/grafana,volume-driver=glusterfs \\\n--env GF</em>SECURITY<em>ADMIN</em>PASSWORD=qsdfAZG21 \\\n--env GF<em>USERS</em>ALLOW<em>SIGN</em>UP=false \\\n--env GF<em>SERVER</em>ROOT_URL=<a href=\"https://monitoring.aldanet.fr\">https://monitoring.aldanet.fr</a> \\\n--label=\"traefik.backend=grafana\" \\\n--label=\"traefik.backend.grafana.loadbalancer.sticky=true\" \\\n--label=\"traefik.backend.grafana.loadbalancer.method=drr\" \\\n--label=\"traefik.frontend.rule=Host:monitoring.aldanet.fr\" \\\n--label=\"traefik.port=3000\" \\\n--label=\"traefik.docker.network=web\" \\\ngrafana/grafana </p>\n\n<h2 id=\"traefikexporter\">Traefik exporter</h2>\n\n<p>docker service create --network back-tier --network web \\ <br />\n--restart-condition any --name traefik-exporter-1 \\\nmrraph/traefik-exporter app -traefik.address <a href=\"http://traefik-1:8080/health\">http://traefik-1:8080/health</a></p>\n\n<p>docker service create --network back-tier --network web \\ <br />\n--restart-condition any --name traefik-exporter-2 \\\nmrraph/traefik-exporter app -traefik.address <a href=\"http://traefik-2:8080/health\">http://traefik-2:8080/health</a></p>\n\n<p>docker service create --network back-tier --network web \\ <br />\n--restart-condition any --name traefik-exporter-3 \\\nmrraph/traefik-exporter app -traefik.address <a href=\"http://traefik-3:8080/health\">http://traefik-3:8080/health</a></p>\n\n<p><a href=\"https://techan.fr/images/grafana_dashboard/Docker_Containers-1479893053520.json\">Docker Containers - Dashboard</a></p>","image":"/content/images/2016/11/prometheus.png","featured":0,"page":0,"status":"draft","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-11-23T09:28:21.000Z","created_by":1,"updated_at":"2016-11-23T09:31:07.000Z","updated_by":1,"published_at":null,"published_by":null,"visibility":"public","mobiledoc":null,"amp":null},{"id":203,"uuid":"cbb26994-9003-430f-b1d6-d4bb14a2326a","title":"Dire Stop à la frustration en corrigeant les problèmes de freeze de la souris sur Ubuntu","slug":"dire-stop-a-la-frustration-en-corrigeant-les-problemes-de-freeze-de-la-souris-sur-ubuntu","markdown":"Depuis mainteant presque huit mois, je n'utilises plus qu'Ubuntu pour mes besoins professionels. Bon, je l'avoue tout de suite, j'ai quand même une VM Windows pour certains besoins - client VPN exotiques, applications très spécifiques, ... J'ai réussi à trouver une solution satisfaisante pour tous mes besoins.\n\nJe travaille sur un poste Lenovo, autant dire que je n'utilise pas le pavé tactile, en fait, je n'utilise ces choses que sur mon Mac. Je trouve - c'est un avis personnel hein ! - que les pavé tactiles non Mac sont beaucoup trop limités et limitants. J'utilise donc en permanence ma bonne vieille <a target=\"_blank\" href=\"https://www.amazon.fr/gp/product/B0152YTWPW/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&camp=1642&creative=6746&creativeASIN=B0152YTWPW&linkCode=as2&tag=techan0f-21\">Razer Orochi</a> quelque soient mes besoins et ce depuis des années. Sa capacité à être à la fois une souris Bluetooth et une souris filaire couplée à sa petite taille sont des qualités essentielles à ma mobilité. \n\nMalheureuseument, sous Ubuntu cette bonne vieille souris freezait de manière intempestive, le pointeur qui se bloque en plein milieu d'un déplacement, LE truc carrément pénible. Il est donc temps de dire Stop à la frustration en corrigeant les problèmes de freeze de la souris sur Ubuntu !\n\nJ'ai sévi en deux temps, tout d'abord, j'ai installé des pilotes Razer pour Ubuntu, ensuite j'ai installé Touchpad-indicator. Ce dernier programme bloque le pavé tactile lorsqu'une souris USB est connectée.\n\n\n# Trop long, j'ai pas lu\n\nVoici les commandes utilisées dans ce post pour ajouter les deux [PPA](https://doc.ubuntu-fr.org/ppa), installation des paquets et activation du module noyau Razer.\n\n    sudo add-apt-repository ppa:atareao/atareao\n    sudo add-apt-repository ppa:terrz/razerutils\n    sudo apt-get update\n    sudo apt install touchpad-indicator python3-razer razer-kernel-modules-dkms razer-daemon razer-doc\n    sudo modprobe razerkbd\n\n# Première action, installer le pilote Razer\n\nLe pilote pour les produits Razer en fourni sous la forme d'un module pour le noyau Linux. Nous devons tout d'abord, ajouter le [PPA](https://doc.ubuntu-fr.org/ppa) nécessaire.\n\n    sudo add-apt-repository ppa:terrz/razerutils\n    sudo apt-get update\n\nMaintenant que nous disposons du nouveau dépot, et que les sources d'APT sont à jour, nous installons les paquets contenant le pilote.\n\n    sudo apt install python3-razer razer-kernel-modules-dkms razer-daemon razer-doc\n\nPour que le pilote soit opérationnel - pour que le module noyau soit chargé - il faut _redémarrer_ la machine. Si vous ne pouvez pas le faire, ou que vous avez tout simplement la flemme de rémarrer - je vous comprend ! - vous pouvez activer le module manuellement avec la commande qui suit.\n\n    sudo modprobe razerkbd\n\n\n# Deuxième action, installer touchpad-indicator\n\n\n## Installation de l'outil\n\n\nL'application `Touchpad-indicator` permet de désactiver le touchpad lorsqu'une souris USB est connectée à l'ordinateur. Ceci est très pratique lorsque vous utilisez beaucoup le clavier, cela évite les changements de fenêtres intempestifs et pleins de petits tracas ...\n\nCette application ne fait pas partie des dépots officiels, il faut donc, de nouveau, ajouter un [PPA](https://doc.ubuntu-fr.org/ppa).\n\n    sudo add-apt-repository ppa:atareao/atareao\n    sudo apt-get update\n\nL'installation de l'application se fait en utilisant la commande qui suit.\n\n    sudo apt install touchpad-indicator\n\n\n## Configuration de l'outil\n\nTouchpad-indicator démarre lorsque vous ouvrez votre session sur Ubuntu. Il y a cependant quelques actions de configuration simples à réaliser à son permier lancement. Pour cela, lancez l'application \"Touchpad-indicator\" depuis le launcher d'Ubuntu.\n\n**Note :** Si vous venez d'installer le programme, il est possible qu'il n'apparaîssent pas dans la liste des programmes que vous propose le launcher. Pour qu'il apparaîse, fermez et rouvrez votre session ou redémarrez l'ordinateur.\n\n\nLa première chose à faire est de vérifier qu'un raccourci clavier est bien paramètré et activé. Je vous conseille d'en définir un le cas échéant. C'est extrêmement pratique, surtout lorsque l'ordinateur - ou Touchpad-indicator - n'a pas détecté que la souris a été débranchée, c'est très rare, mais ça arrive ...\n\n![Définir et activer un raccourci clavier](/content/images/2016/12/touchpad-indicator_raccourci.png)\n\n\nRendez-vous ensuite dans l'onglet \"Actions\" afin d'activer LA fonctionalité de l'outil, la désactivation du touchpad lorsqu'un souris est connectée.\n\n\n![Activer la désactivation du touchpad lorsqu'une souris est connectée](/content/images/2016/12/touchpad-indicator_actions.png)\n\n\nFinalement, rendez-vous dans l'onglet \"Configuration\" afin d'activer Touchpad-indicator au lancement de votre session.\n\n![](/content/images/2016/12/touchpad-indicator_demarrage.png)\n\n\n# Sources\n\n* [Lauchpad : Touchpad-indicator](https://launchpad.net/touchpad-indicator)\n* [Lauchpad : Razerutils](https://launchpad.net/~terrz/+archive/ubuntu/razerutils)\n","html":"<p>Depuis mainteant presque huit mois, je n'utilises plus qu'Ubuntu pour mes besoins professionels. Bon, je l'avoue tout de suite, j'ai quand même une VM Windows pour certains besoins - client VPN exotiques, applications très spécifiques, ... J'ai réussi à trouver une solution satisfaisante pour tous mes besoins.</p>\n\n<p>Je travaille sur un poste Lenovo, autant dire que je n'utilise pas le pavé tactile, en fait, je n'utilise ces choses que sur mon Mac. Je trouve - c'est un avis personnel hein ! - que les pavé tactiles non Mac sont beaucoup trop limités et limitants. J'utilise donc en permanence ma bonne vieille <a target=\"_blank\" href=\"https://www.amazon.fr/gp/product/B0152YTWPW/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=1642&amp;creative=6746&amp;creativeASIN=B0152YTWPW&amp;linkCode=as2&amp;tag=techan0f-21\">Razer Orochi</a> quelque soient mes besoins et ce depuis des années. Sa capacité à être à la fois une souris Bluetooth et une souris filaire couplée à sa petite taille sont des qualités essentielles à ma mobilité. </p>\n\n<p>Malheureuseument, sous Ubuntu cette bonne vieille souris freezait de manière intempestive, le pointeur qui se bloque en plein milieu d'un déplacement, LE truc carrément pénible. Il est donc temps de dire Stop à la frustration en corrigeant les problèmes de freeze de la souris sur Ubuntu !</p>\n\n<p>J'ai sévi en deux temps, tout d'abord, j'ai installé des pilotes Razer pour Ubuntu, ensuite j'ai installé Touchpad-indicator. Ce dernier programme bloque le pavé tactile lorsqu'une souris USB est connectée.</p>\n\n<h1 id=\"troplongjaipaslu\">Trop long, j'ai pas lu</h1>\n\n<p>Voici les commandes utilisées dans ce post pour ajouter les deux <a href=\"https://doc.ubuntu-fr.org/ppa\">PPA</a>, installation des paquets et activation du module noyau Razer.</p>\n\n<pre><code>sudo add-apt-repository ppa:atareao/atareao\nsudo add-apt-repository ppa:terrz/razerutils\nsudo apt-get update\nsudo apt install touchpad-indicator python3-razer razer-kernel-modules-dkms razer-daemon razer-doc\nsudo modprobe razerkbd\n</code></pre>\n\n<h1 id=\"premireactioninstallerlepiloterazer\">Première action, installer le pilote Razer</h1>\n\n<p>Le pilote pour les produits Razer en fourni sous la forme d'un module pour le noyau Linux. Nous devons tout d'abord, ajouter le <a href=\"https://doc.ubuntu-fr.org/ppa\">PPA</a> nécessaire.</p>\n\n<pre><code>sudo add-apt-repository ppa:terrz/razerutils\nsudo apt-get update\n</code></pre>\n\n<p>Maintenant que nous disposons du nouveau dépot, et que les sources d'APT sont à jour, nous installons les paquets contenant le pilote.</p>\n\n<pre><code>sudo apt install python3-razer razer-kernel-modules-dkms razer-daemon razer-doc\n</code></pre>\n\n<p>Pour que le pilote soit opérationnel - pour que le module noyau soit chargé - il faut <em>redémarrer</em> la machine. Si vous ne pouvez pas le faire, ou que vous avez tout simplement la flemme de rémarrer - je vous comprend ! - vous pouvez activer le module manuellement avec la commande qui suit.</p>\n\n<pre><code>sudo modprobe razerkbd\n</code></pre>\n\n<h1 id=\"deuximeactioninstallertouchpadindicator\">Deuxième action, installer touchpad-indicator</h1>\n\n<h2 id=\"installationdeloutil\">Installation de l'outil</h2>\n\n<p>L'application <code>Touchpad-indicator</code> permet de désactiver le touchpad lorsqu'une souris USB est connectée à l'ordinateur. Ceci est très pratique lorsque vous utilisez beaucoup le clavier, cela évite les changements de fenêtres intempestifs et pleins de petits tracas ...</p>\n\n<p>Cette application ne fait pas partie des dépots officiels, il faut donc, de nouveau, ajouter un <a href=\"https://doc.ubuntu-fr.org/ppa\">PPA</a>.</p>\n\n<pre><code>sudo add-apt-repository ppa:atareao/atareao\nsudo apt-get update\n</code></pre>\n\n<p>L'installation de l'application se fait en utilisant la commande qui suit.</p>\n\n<pre><code>sudo apt install touchpad-indicator\n</code></pre>\n\n<h2 id=\"configurationdeloutil\"> Configuration de l'outil</h2>\n\n<p>Touchpad-indicator démarre lorsque vous ouvrez votre session sur Ubuntu. Il y a cependant quelques actions de configuration simples à réaliser à son permier lancement. Pour cela, lancez l'application \"Touchpad-indicator\" depuis le launcher d'Ubuntu.</p>\n\n<p><strong>Note :</strong> Si vous venez d'installer le programme, il est possible qu'il n'apparaîssent pas dans la liste des programmes que vous propose le launcher. Pour qu'il apparaîse, fermez et rouvrez votre session ou redémarrez l'ordinateur.</p>\n\n<p>La première chose à faire est de vérifier qu'un raccourci clavier est bien paramètré et activé. Je vous conseille d'en définir un le cas échéant. C'est extrêmement pratique, surtout lorsque l'ordinateur - ou Touchpad-indicator - n'a pas détecté que la souris a été débranchée, c'est très rare, mais ça arrive ...</p>\n\n<p><img src=\"/content/images/2016/12/touchpad-indicator_raccourci.png\" alt=\"Définir et activer un raccourci clavier\" /></p>\n\n<p>Rendez-vous ensuite dans l'onglet \"Actions\" afin d'activer LA fonctionalité de l'outil, la désactivation du touchpad lorsqu'un souris est connectée.</p>\n\n<p><img src=\"/content/images/2016/12/touchpad-indicator_actions.png\" alt=\"Activer la désactivation du touchpad lorsqu'une souris est connectée\" /></p>\n\n<p>Finalement, rendez-vous dans l'onglet \"Configuration\" afin d'activer Touchpad-indicator au lancement de votre session.</p>\n\n<p><img src=\"/content/images/2016/12/touchpad-indicator_demarrage.png\" alt=\"\" /></p>\n\n<h1 id=\"sources\">Sources</h1>\n\n<ul>\n<li><a href=\"https://launchpad.net/touchpad-indicator\">Lauchpad : Touchpad-indicator</a></li>\n<li><a href=\"https://launchpad.net/~terrz/+archive/ubuntu/razerutils\">Lauchpad : Razerutils</a></li>\n</ul>","image":"/content/images/2016/12/touchpad_64.png","featured":1,"page":0,"status":"published","language":"en_US","meta_title":"Corriger les problèmes de freeze de la souris sur Ubuntu","meta_description":null,"author_id":1,"created_at":"2016-12-12T08:11:15.000Z","created_by":1,"updated_at":"2016-12-12T12:49:56.000Z","updated_by":1,"published_at":"2016-12-12T12:48:35.000Z","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":204,"uuid":"def4ab90-2732-49bd-bcda-1f9d38661bcf","title":"Installer Office 2013 sur Ubuntu","slug":"installer-office-2013-sur-ubuntu","markdown":"\n\n# Tout d'abord, les prérequis !\n\nDans un premier temps, il faudra que vous ayez installé quelques prérequis dont [PlayOnLinux](https://www.playonlinux.com/fr/) et Wine. La commande ci-dessous vous installera tout cela !\n\n    wget -q \"http://deb.playonlinux.com/public.gpg\" -O- | sudo apt-key add -\n    sudo wget http://deb.playonlinux.com/playonlinux_trusty.list -O /etc/apt/sources.list.d/playonlinux.list\n    sudo apt-get update\n    sudo apt-get install wine:i386 playonlinux winbind p11-kit:i386\n\nL'autre prérequis de taille est de disposer d'une image ISO d'Office 2013 en **32 bits**. L'installation ne fonctionne pas avec une version 64 bits ni avec l'installeur en ligne - celui qui télécharge Office pendant l'installation - fourni sur le site de Microsoft.\n\nIl ne nous reste plus qu'à monter - ouvrir - l'image ISO, pour cela, faites un clic droit sur le fichier et choisissez l'option \"Ouvrir avec une autre application\".\n\n![Ouvrir avec une autre application](/content/images/2016/12/office_mount_iso_1.png)\n\nUne nouvelle fenêtre s'ouvre, séléctionnez l'application \"Monteur d'image disque\" et cliquez sur \"Sélectionner\".\n\n![Sélectionner \"Monteur d'image disque\"](/content/images/2016/12/office_mount_iso.png)\n\n\n# Et maintenant, en avant !\n\nRentrons maintenant dans le vif du sujet, lancez [PlayOnLinux](https://www.playonlinux.com/fr/) et cliquer sur le bouton \"Installer\". Une fenêtre s'ouvre listant le programmes supportés par l'outil.\n\n![Rechercher Office 2013](/content/images/2016/12/pol_install.png)\n\nVérifiez bien que la case \"En test\" est cochée, sélectionnez \"Microsoft Office 2013\" et cliquez sur \"Installer\".\n\n![Acceptez l'avertissement](/content/images/2016/12/pol_accept_warning.png)\n\nAcceptez l'avertissement que s'affiche.\n\n![Cliquez sur Suivant](/content/images/2016/12/pol_office_install_1.png)\n\n\nCliquez sur \"Suivant\" pour passer la fenêtre de bienvenue.\n\n![Utiliser le DVD-ROM](/content/images/2016/12/pol_office_install_2.png)\n\nDans cette nouvelle vue, choisissez l'option \"Utiliser le(s) DVD-ROM(s)\" puis cliquez sur \"Suivant\".\n\n![Sélectionner le disque](/content/images/2016/12/pol_office_install_3.png)\n\nDans cette vue, vous devriez voir le nom du l'image ISO que l'on a montée dans les prérequis, sélectionnez la et cliquez sur \"Suivant\".\n\n![Choisir \"Overwrite\"](/content/images/2016/12/pol_office_install_4.png)\n\nSi PlayOnLinux vous montre cette vue, choisissez \"Overwrite\" et cliquez sur \"Suivant\".","html":"<h1 id=\"toutdabordlesprrequis\">Tout d'abord, les prérequis !</h1>\n\n<p>Dans un premier temps, il faudra que vous ayez installé quelques prérequis dont <a href=\"https://www.playonlinux.com/fr/\">PlayOnLinux</a> et Wine. La commande ci-dessous vous installera tout cela !</p>\n\n<pre><code>wget -q \"http://deb.playonlinux.com/public.gpg\" -O- | sudo apt-key add -\nsudo wget http://deb.playonlinux.com/playonlinux_trusty.list -O /etc/apt/sources.list.d/playonlinux.list\nsudo apt-get update\nsudo apt-get install wine:i386 playonlinux winbind p11-kit:i386\n</code></pre>\n\n<p>L'autre prérequis de taille est de disposer d'une image ISO d'Office 2013 en <strong>32 bits</strong>. L'installation ne fonctionne pas avec une version 64 bits ni avec l'installeur en ligne - celui qui télécharge Office pendant l'installation - fourni sur le site de Microsoft.</p>\n\n<p>Il ne nous reste plus qu'à monter - ouvrir - l'image ISO, pour cela, faites un clic droit sur le fichier et choisissez l'option \"Ouvrir avec une autre application\".</p>\n\n<p><img src=\"/content/images/2016/12/office_mount_iso_1.png\" alt=\"Ouvrir avec une autre application\" /></p>\n\n<p>Une nouvelle fenêtre s'ouvre, séléctionnez l'application \"Monteur d'image disque\" et cliquez sur \"Sélectionner\".</p>\n\n<p><img src=\"/content/images/2016/12/office<em>mount</em>iso.png\" alt=\"Sélectionner \"Monteur d'image disque\"\" /></p>\n\n<h1 id=\"etmaintenantenavant\">Et maintenant, en avant !</h1>\n\n<p>Rentrons maintenant dans le vif du sujet, lancez <a href=\"https://www.playonlinux.com/fr/\">PlayOnLinux</a> et cliquer sur le bouton \"Installer\". Une fenêtre s'ouvre listant le programmes supportés par l'outil.</p>\n\n<p><img src=\"/content/images/2016/12/pol_install.png\" alt=\"Rechercher Office 2013\" /></p>\n\n<p>Vérifiez bien que la case \"En test\" est cochée, sélectionnez \"Microsoft Office 2013\" et cliquez sur \"Installer\".</p>\n\n<p><img src=\"/content/images/2016/12/pol_accept_warning.png\" alt=\"Acceptez l'avertissement\" /></p>\n\n<p>Acceptez l'avertissement que s'affiche.</p>\n\n<p><img src=\"/content/images/2016/12/pol_office_install_1.png\" alt=\"Cliquez sur Suivant\" /></p>\n\n<p>Cliquez sur \"Suivant\" pour passer la fenêtre de bienvenue.</p>\n\n<p><img src=\"/content/images/2016/12/pol_office_install_2.png\" alt=\"Utiliser le DVD-ROM\" /></p>\n\n<p>Dans cette nouvelle vue, choisissez l'option \"Utiliser le(s) DVD-ROM(s)\" puis cliquez sur \"Suivant\".</p>\n\n<p><img src=\"/content/images/2016/12/pol_office_install_3.png\" alt=\"Sélectionner le disque\" /></p>\n\n<p>Dans cette vue, vous devriez voir le nom du l'image ISO que l'on a montée dans les prérequis, sélectionnez la et cliquez sur \"Suivant\".</p>\n\n<p><img src=\"/content/images/2016/12/pol_office_install_4.png\" alt=\"Choisir \"Overwrite\"\" /></p>\n\n<p>Si PlayOnLinux vous montre cette vue, choisissez \"Overwrite\" et cliquez sur \"Suivant\".</p>","image":"/content/images/2016/12/playonlinux.png","featured":0,"page":0,"status":"draft","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-12-14T11:32:27.000Z","created_by":1,"updated_at":"2016-12-14T13:10:36.000Z","updated_by":1,"published_at":null,"published_by":null,"visibility":"public","mobiledoc":null,"amp":null}],"posts_backup":[{"id":2,"uuid":"2db698c3-1f1a-48b1-915e-6142311ee60b","title":"Flush du cache DNS","slug":"flush-du-cache-dns","markdown":"\n\n## Sur Linux\n\nIl suffit de relancer le daemon nscd.\n\n/etc/rc.d/init.d/nscd restart\n\n \n\n\n## Sur Mac OS\n\nOuvrez Terminal.app, puis tapez la commande suivante en fonction de votre système.\n\ndscacheutil -flushcache\n\nlookupd -flushcache\n\n \n\n\n## Sur Windows\n\nOuvrez une invite de commande en faisant : Windows + R, puis tapez « cmd » dans la pop-up qui s’ouvre ensuite, utilisez la commande suivante :\n\nipconfig /flushdns\n\n\n","html":"<h2 id=\"surlinux\">Sur Linux</h2>\n\n<p>Il suffit de relancer le daemon nscd.</p>\n\n<p>/etc/rc.d/init.d/nscd restart</p>\n\n<h2 id=\"surmacos\">Sur Mac OS</h2>\n\n<p>Ouvrez Terminal.app, puis tapez la commande suivante en fonction de votre système.</p>\n\n<p>dscacheutil -flushcache</p>\n\n<p>lookupd -flushcache</p>\n\n<h2 id=\"surwindows\">Sur Windows</h2>\n\n<p>Ouvrez une invite de commande en faisant : Windows + R, puis tapez « cmd » dans la pop-up qui s’ouvre ensuite, utilisez la commande suivante :</p>\n\n<p>ipconfig /flushdns</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-23T08:25:32.000Z","created_by":1,"updated_at":"2015-04-10T15:29:12.000Z","updated_by":1,"published_at":"2014-09-23T08:25:32.000Z","published_by":1},{"id":3,"uuid":"2bef899c-239b-472c-8774-fb909fec5dda","title":"A Propos","slug":"a-propos","markdown":"\n[![319426_4294985734465_1196558181_n](https://techan.fr/images/2014/09/319426_4294985734465_1196558181_n-150x150.jpg)](https://techan.fr/images/2014/09/319426_4294985734465_1196558181_n.jpg)Je m’appelle Raphaël, j’ai 27 ans et je suis consultant en informatique spécialisé dans les bases de données Oracle, les systèmes virtualisés VMware – certifié VCP – et les systèmes Linux.\n\nJ’ai créé ce blog afin de partager avec le plus grand nombre tous les petits trucs que je fais dans le cadre de mon travail et qui me demande un effort de recherche ou que je fais régulièrement mais que je documente pour ne plus avoir de recherches supplémentaires a réaliser.\n\nCes articles ne sont sans doute pas parfaits, je me comprend lorsque je les écrit alors n’hésitez surtout pas à les commenter pour demander plus de précisions, ou pour faire des retours sur vos propres expériences.\n\nJ’espère toute fois que vous trouverez le plus de réponses possible en lisant ces pages. Au jour d’aujourd’hui, il y a déjà plus de 80 articles sur pas mal de sujets différents. N’hésitez pas à proposer des sujets qui vous intéressent en utilisant le formulaire ci-dessous, il est très probable que cela pique ma curiosité et que je me penche sur le sujet. ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\n### Suggestions\n\n[contact-form to=’raphael.charrat+tech@aldanet.fr’ subject=’Vous avez reçu une demande sur le site tech.aldanet.fr’][contact-field label=’Nom’ type=’name’ required=’1’/][contact-field label=’Email’ type=’email’ required=’1’/][contact-field label=’Site Web’ type=’url’/][contact-field label=’Message’ type=’textarea’ required=’1’/][/contact-form]\n\n\n","html":"<p><a href=\"https://techan.fr/images/2014/09/319426_4294985734465_1196558181_n.jpg\"><img src=\"https://techan.fr/images/2014/09/319426_4294985734465_1196558181_n-150x150.jpg\" alt=\"319426<em>4294985734465</em>1196558181_n\" title=\"\" /></a>Je m’appelle Raphaël, j’ai 27 ans et je suis consultant en informatique spécialisé dans les bases de données Oracle, les systèmes virtualisés VMware – certifié VCP – et les systèmes Linux.</p>\n\n<p>J’ai créé ce blog afin de partager avec le plus grand nombre tous les petits trucs que je fais dans le cadre de mon travail et qui me demande un effort de recherche ou que je fais régulièrement mais que je documente pour ne plus avoir de recherches supplémentaires a réaliser.</p>\n\n<p>Ces articles ne sont sans doute pas parfaits, je me comprend lorsque je les écrit alors n’hésitez surtout pas à les commenter pour demander plus de précisions, ou pour faire des retours sur vos propres expériences.</p>\n\n<p>J’espère toute fois que vous trouverez le plus de réponses possible en lisant ces pages. Au jour d’aujourd’hui, il y a déjà plus de 80 articles sur pas mal de sujets différents. N’hésitez pas à proposer des sujets qui vous intéressent en utilisant le formulaire ci-dessous, il est très probable que cela pique ma curiosité et que je me penche sur le sujet. <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<h3 id=\"suggestions\">Suggestions</h3>\n\n<p>[contact-form to=’raphael.charrat+tech@aldanet.fr’ subject=’Vous avez reçu une demande sur le site tech.aldanet.fr’][contact-field label=’Nom’ type=’name’ required=’1’/][contact-field label=’Email’ type=’email’ required=’1’/][contact-field label=’Site Web’ type=’url’/][contact-field label=’Message’ type=’textarea’ required=’1’/][/contact-form]</p>","image":null,"featured":0,"page":1,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-23T09:02:00.000Z","created_by":1,"updated_at":"2015-09-09T15:19:49.000Z","updated_by":1,"published_at":"2014-09-23T09:02:00.000Z","published_by":1},{"id":4,"uuid":"2d9bea74-edfe-4a68-aa37-7d79fdcd519b","title":"Fichier Hosts sur Windows","slug":"fichier-hosts-sur-windows","markdown":"\nLe fichier « hosts » sur Windows se trouve dans le dossier :\n\nC:\\WINDOWS\\system32\\drivers\\etc\\hosts\n\nIl fonctionne de la même manière que son homologue sur UNIX/Linux.\n\n\n","html":"<p>Le fichier « hosts » sur Windows se trouve dans le dossier :</p>\n\n<p>C:\\WINDOWS\\system32\\drivers\\etc\\hosts</p>\n\n<p>Il fonctionne de la même manière que son homologue sur UNIX/Linux.</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-23T09:33:22.000Z","created_by":1,"updated_at":"2015-08-07T11:39:24.000Z","updated_by":1,"published_at":"2014-09-23T09:33:22.000Z","published_by":1},{"id":5,"uuid":"8a20085c-17ea-4b1e-b861-5b6d990a8ad5","title":"Ajouter des clefs SSH pour se connecter sur un boîtier RecoverPoint","slug":"ajouter-des-clefs-ssh-pour-se-connecter-sur-un-boitier-recoverpoint","markdown":"\nVoici la marche à suivre pour ajouter des clefs SSH (RSA) sur les RecoverPoint pour des connections SSH sans mot de passe.\n\nSur le Linux qui doit se connecter, on crée tout d’abord une clef RSA :\n\n[oracle@xxxxx ~]()$ ssh-keygen -t rsa Generating public/private rsa key pair. Enter file in which to save the key (/home/oracle/.ssh/id_rsa): Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in /home/oracle/.ssh/id_rsa. Your public key has been saved in /home/oracle/.ssh/id_rsa.pub. The key fingerprint is: xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx oracle@xxxxx.xxx.xx The key's randomart image is: +--[ RSA 2048]----+ | ..o. oB| | o E. .*o| | + ..o o| | = o o | | S o o | | + . | | . + | | . + | | . . | +-----------------+ [oracle@xxxxx ~]()$ cat /home/oracle/.ssh/id_rsa.pub ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAwrDIgjTvXieLj5aE3cM8WowD+/xegrd1345Dsew6UOoVTDOXBBIh2cYYKx0UU4w3K8TvI3dL5fpkYsmKR3ImqjL9udq4z0oo/nG/BAZVlsRnJW6IrYNnqKWT+BQwRogZ0keZ18wX4JpkPR5fCYhg6Xc2Zr14kfSfPFogbWl28kd0h3qqSGmzS3Ny04FZubHyjC6vJtAJKs890TvbkJpbQ2Rimir7HMvi8VPaGY16xfeAFYfjew+pSWQYlWCHt69RCClbAwGlstzaRCTYH76ebv9eCbZqh29DNu3kktce3D2C/xfW6Ik5aqhRQY0q1yvnyLXdrE/sVpbIDKJs5nlIVQ== oracle@xxxxx.xxx.xx [oracle@xxxxx ~]()$\n\nEnsuite, on se connecte sur le RecoverPoint, attention il faut se connecter sur l’IP du cluster et non sur l’adresse IP des boîtiers !\n\nxxxx-recoverp> add_ssh_key name=\"xxxxx.xxx.xx\" key=\"ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAwrDIgjTvXieLj5aE3cM8WowD+/xegrd1345Dsew6UOoVTDOXBBIh2cYYKx0UU4w3K8TvI3dL5fpkYsmKR3ImqjL9udq4z0oo/nG/BAZVlsRnJW6IrYNnqKWT+BQwRogZ0keZ18wX4JpkPR5fCYhg6Xc2Zr14kfSfPFogbWl28kd0h3qqSGmzS3Ny04FZubHyjC6vJtAJKs890TvbkJpbQ2Rimir7HMvi8VPaGY16xfeAFYfjew+pSWQYlWCHt69RCClbAwGlstzaRCTYH76ebv9eCbZqh29DNu3kktce3D2C/xfW6Ik5aqhRQY0q1yvnyLXdrE/sVpbIDKJs5nlIVQ== oracle@xxxxx.xxx.xx\" Are you sure the entire key has been entered correctly? (y/n)y Key added successfully.\n\nOn peut ensuite tester depuis le Linux si la connexion fonctionne.\n\n[oracle@xxxxx ~]()$ ssh admin@xxxx-recoverp Last login: Mon Aug 18 12:29:30 2014 from 172.16.13.104 RecoverPoint/SE System: OK Clusters: xxxxa-recoverp: RPAs: 1 warnings Volumes: OK Splitters: OK xxxxb-recoverp: RPAs: 1 warnings Volumes: OK Splitters: 20 warnings WANs: OK Groups: OK Run 'get_system_status' for more info.\n\n \n\n \n\n \n\n\n","html":"<p>Voici la marche à suivre pour ajouter des clefs SSH (RSA) sur les RecoverPoint pour des connections SSH sans mot de passe.</p>\n\n<p>Sur le Linux qui doit se connecter, on crée tout d’abord une clef RSA :</p>\n\n<p><a href=\"\">oracle@xxxxx ~</a>$ ssh-keygen -t rsa Generating public/private rsa key pair. Enter file in which to save the key (/home/oracle/.ssh/id<em>rsa): Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in /home/oracle/.ssh/id</em>rsa. Your public key has been saved in /home/oracle/.ssh/id<em>rsa.pub. The key fingerprint is: xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx oracle@xxxxx.xxx.xx The key's randomart image is: +--[ RSA 2048]----+ | ..o. oB| | o E. .*o| | + ..o o| | = o o | | S o o | | + . | | . + | | . + | | . . | +-----------------+ <a href=\"\">oracle@xxxxx ~</a>$ cat /home/oracle/.ssh/id</em>rsa.pub ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAwrDIgjTvXieLj5aE3cM8WowD+/xegrd1345Dsew6UOoVTDOXBBIh2cYYKx0UU4w3K8TvI3dL5fpkYsmKR3ImqjL9udq4z0oo/nG/BAZVlsRnJW6IrYNnqKWT+BQwRogZ0keZ18wX4JpkPR5fCYhg6Xc2Zr14kfSfPFogbWl28kd0h3qqSGmzS3Ny04FZubHyjC6vJtAJKs890TvbkJpbQ2Rimir7HMvi8VPaGY16xfeAFYfjew+pSWQYlWCHt69RCClbAwGlstzaRCTYH76ebv9eCbZqh29DNu3kktce3D2C/xfW6Ik5aqhRQY0q1yvnyLXdrE/sVpbIDKJs5nlIVQ<mark> oracle@xxxxx.xxx.xx <a href=\"\">oracle@xxxxx ~</a>$</p>\n\n<p>Ensuite, on se connecte sur le RecoverPoint, attention il faut se connecter sur l’IP du cluster et non sur l’adresse IP des boîtiers !</p>\n\n<p>xxxx-recoverp> add<em>ssh</em>key name=\"xxxxx.xxx.xx\" key=\"ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAwrDIgjTvXieLj5aE3cM8WowD+/xegrd1345Dsew6UOoVTDOXBBIh2cYYKx0UU4w3K8TvI3dL5fpkYsmKR3ImqjL9udq4z0oo/nG/BAZVlsRnJW6IrYNnqKWT+BQwRogZ0keZ18wX4JpkPR5fCYhg6Xc2Zr14kfSfPFogbWl28kd0h3qqSGmzS3Ny04FZubHyjC6vJtAJKs890TvbkJpbQ2Rimir7HMvi8VPaGY16xfeAFYfjew+pSWQYlWCHt69RCClbAwGlstzaRCTYH76ebv9eCbZqh29DNu3kktce3D2C/xfW6Ik5aqhRQY0q1yvnyLXdrE/sVpbIDKJs5nlIVQ</mark> oracle@xxxxx.xxx.xx\" Are you sure the entire key has been entered correctly? (y/n)y Key added successfully.</p>\n\n<p>On peut ensuite tester depuis le Linux si la connexion fonctionne.</p>\n\n<p><a href=\"\">oracle@xxxxx ~</a>$ ssh admin@xxxx-recoverp Last login: Mon Aug 18 12:29:30 2014 from 172.16.13.104 RecoverPoint/SE System: OK Clusters: xxxxa-recoverp: RPAs: 1 warnings Volumes: OK Splitters: OK xxxxb-recoverp: RPAs: 1 warnings Volumes: OK Splitters: 20 warnings WANs: OK Groups: OK Run 'get<em>system</em>status' for more info.</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-23T09:52:04.000Z","created_by":1,"updated_at":"2015-04-10T15:30:52.000Z","updated_by":1,"published_at":"2014-09-23T09:52:04.000Z","published_by":1},{"id":6,"uuid":"d95a90d6-af21-48b5-a8bb-d51e1954f014","title":"Désactiver les alertes par mail dans la crontab","slug":"desactiver-les-alertes-par-mail-dans-la-crontab","markdown":"\nIl est souvent pénible de recevoir toute une flopée de mail lors de l’exécution des jobs planifiés dans la crontab de vos Linux.\n\nIl existe plusieurs moyens de les désactiver toutes ou partiellement.\n\n \n\nPour rappel, l’édition de la crontab se fait en utilisant la commande suivante :\n\ncrontab -e\n\n \n\n \n\n### Désactiver partiellement les alertes\n\nLa désactivation partielle se fait en ajoutant une redirection de flux à la fin de chaque ligne active de la crontab. Cette méthode permet de choisir quelles planification on souhaite rendre muette et quelles autres on souhaite toujours recevoir.\n\nIl suffit d’ajouter à la fin des lignes a rendre silencieuse, une redirection de flux vers /dev/null.\n\n0 1 5 10 * /path/to/script.sh >/dev/null 2>&1\n\nOu\n\n0 1 5 10 * /path/to/script.sh &> /dev/null\n\n \n\nSauver et quitter la crontab. Vous pouvez éventuellement relancer le daemon « cron ».\n\n/etc/init.d/crond restart\n\n \n\n \n\n### \n\n### Désactiver totalement les alertes\n\nPour désactiver complètement les alertes, il s’agit d’ajouter une ligne en haut du fichier qui videra l’adresse du destinataire des mails d’alerte.\n\nMAILTO=\"\"\n\n \n\n \n\n \n\n\n","html":"<p>Il est souvent pénible de recevoir toute une flopée de mail lors de l’exécution des jobs planifiés dans la crontab de vos Linux.</p>\n\n<p>Il existe plusieurs moyens de les désactiver toutes ou partiellement.</p>\n\n<p>Pour rappel, l’édition de la crontab se fait en utilisant la commande suivante :</p>\n\n<p>crontab -e</p>\n\n<h3 id=\"dsactiverpartiellementlesalertes\">Désactiver partiellement les alertes</h3>\n\n<p>La désactivation partielle se fait en ajoutant une redirection de flux à la fin de chaque ligne active de la crontab. Cette méthode permet de choisir quelles planification on souhaite rendre muette et quelles autres on souhaite toujours recevoir.</p>\n\n<p>Il suffit d’ajouter à la fin des lignes a rendre silencieuse, une redirection de flux vers /dev/null.</p>\n\n<p>0 1 5 10 * /path/to/script.sh >/dev/null 2>&amp;1</p>\n\n<p>Ou</p>\n\n<p>0 1 5 10 * /path/to/script.sh &amp;> /dev/null</p>\n\n<p>Sauver et quitter la crontab. Vous pouvez éventuellement relancer le daemon « cron ».</p>\n\n<p>/etc/init.d/crond restart</p>\n\n<h3 id=\"\"> </h3>\n\n<h3 id=\"dsactivertotalementlesalertes\">Désactiver totalement les alertes</h3>\n\n<p>Pour désactiver complètement les alertes, il s’agit d’ajouter une ligne en haut du fichier qui videra l’adresse du destinataire des mails d’alerte.</p>\n\n<p>MAILTO=\"\"</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-23T10:10:51.000Z","created_by":1,"updated_at":"2015-04-10T15:31:46.000Z","updated_by":1,"published_at":"2014-09-23T10:10:51.000Z","published_by":1},{"id":7,"uuid":"a3625f02-1309-47c6-aae8-98e36517a961","title":"Création d'une VM Linux pour forwarder des paquets d'une IP à une autre","slug":"creation-dune-vm-linux-pour-forwarder-des-paquets-dune-ip-a-une-autre","markdown":"\nDans le cadre d’un test de PCA, j’ai du créé une VM Linux qui fait du forward de paquets d’une IP vers une autre car nous ne disposions plus des ressources physique du site principal, notamment certain Domain Controler avec le rôle de DNS.\n\n \n\nCette VM avait donc pour but d’intercepter les paquets qui était envoyé sur le réseau a destination des ressources inaccessibles et de les transférer vers une autre machine capable de traiter les demandes (un autre DC).\n\n/p>\n\n<span style=\"text-decoration: underline;\"><span style=\"color: #ff0000;\">**Attention !**</span></span>\n\nCette manipulation est dangereuse sur un système de production !\n\nCette VM devra disposer d’une adresse IP qui lui ai propre afin de pouvoir facilement l’administrer et d’une carte réseau supplémentaire par adresse IP source a forwarder.\n\n### Configuration IP\n\nL’adresse IP propre à cette VM sera 192.168.0.200\n\n[root@vm-forward ~]# cat /etc/sysconfig/network-scripts/ifcfg-eth0 DEVICE=eth0 ONBOOT=yes TYPE=ETHERNET BOOTPRO=static IPADDR=192.168.0.200 NETMASK=255.255.255.0 GATEWAY=192.168.0.1 DNS1=192.168.0.2 DNS2=192.168.0.3 DNS3=192.168.0.4 IPV6INIT=no USERCTL=no\n\nL’adresse IP a intercepter sera 192.168.0.4, un des serveurs DNS de la VM.\n\n[root@vm-forward ~]# cat /etc/sysconfig/network-scripts/ifcfg-eth1 DEVICE=eth1 ONBOOT=yes TYPE=ETHERNET BOOTPRO=static IPADDR=192.168.0.4 NETMASK=255.255.255.0 GATEWAY=192.168.0.1 DNS1=192.168.0.2 DNS2=192.168.0.3 DNS3=192.168.0.4 IPV6INIT=no USERCTL=no\n\n \n\n### Configuration dans le fichier sysctl.conf\n\nAfin que le Linux puisse faire du fowrd, il faut activer l’option dans le fichier /etc/sysctl.conf\n\n[root@vm-forward ~]# cat /etc/sysctl.conf | grep forward # Controls IP PAcket forwarding net.ipv4.ip_forward = 1\n\nPour que cette option soit prise en compte, rebootez le système ou exécuter :\n\nsysctl -p\n\n \n\n### Activation d’IPtables au démarrage du système\n\n[root@vm-forward ~]# chkconfig --level 2345 iptables on\n\n \n\n### Configuration d’IPtables\n\nDans IPtables, on va ajouter des règles de NAT et un règle Filter pour autoriser le forward.\n\n \n\n[root@vm-forward ~]# cat /etc/sysconfig/iptables ##Les regles de routage NAT ## A AJOUTER AU DEBUT DU FICHIER, APRES LES COMMENTAIRES *nat :PREROUTING ACCEPT [0:0] :POSTROUTING ACCEPT [0:0] -A PREROUTING -i eth1 -p tcp --dport 53 -j DNAT --to-destination 192.168.0.2:53 -A POSTROUTING -o eth1 -j MASQUERADE COMMIT *filter *:INPUT ACCEPT [0:0] *:FORWARD ACCEPT [0:0] *:OUTPUT ACCEPT [0:0] ## VOS REGLES EXISTANTES -A FORWARD -j ACCEPT COMMIT\n\n \n\n \n\n\n","html":"<p>Dans le cadre d’un test de PCA, j’ai du créé une VM Linux qui fait du forward de paquets d’une IP vers une autre car nous ne disposions plus des ressources physique du site principal, notamment certain Domain Controler avec le rôle de DNS.</p>\n\n<p>Cette VM avait donc pour but d’intercepter les paquets qui était envoyé sur le réseau a destination des ressources inaccessibles et de les transférer vers une autre machine capable de traiter les demandes (un autre DC).</p>\n\n<p>/p></p>\n\n<p><span style=\"text-decoration: underline;\"><span style=\"color: #ff0000;\"><strong>Attention !</strong></span></span></p>\n\n<p>Cette manipulation est dangereuse sur un système de production !</p>\n\n<p>Cette VM devra disposer d’une adresse IP qui lui ai propre afin de pouvoir facilement l’administrer et d’une carte réseau supplémentaire par adresse IP source a forwarder.</p>\n\n<h3 id=\"configurationip\">Configuration IP</h3>\n\n<p>L’adresse IP propre à cette VM sera 192.168.0.200</p>\n\n<p>[root@vm-forward ~]# cat /etc/sysconfig/network-scripts/ifcfg-eth0 DEVICE=eth0 ONBOOT=yes TYPE=ETHERNET BOOTPRO=static IPADDR=192.168.0.200 NETMASK=255.255.255.0 GATEWAY=192.168.0.1 DNS1=192.168.0.2 DNS2=192.168.0.3 DNS3=192.168.0.4 IPV6INIT=no USERCTL=no</p>\n\n<p>L’adresse IP a intercepter sera 192.168.0.4, un des serveurs DNS de la VM.</p>\n\n<p>[root@vm-forward ~]# cat /etc/sysconfig/network-scripts/ifcfg-eth1 DEVICE=eth1 ONBOOT=yes TYPE=ETHERNET BOOTPRO=static IPADDR=192.168.0.4 NETMASK=255.255.255.0 GATEWAY=192.168.0.1 DNS1=192.168.0.2 DNS2=192.168.0.3 DNS3=192.168.0.4 IPV6INIT=no USERCTL=no</p>\n\n<h3 id=\"configurationdanslefichiersysctlconf\">Configuration dans le fichier sysctl.conf</h3>\n\n<p>Afin que le Linux puisse faire du fowrd, il faut activer l’option dans le fichier /etc/sysctl.conf</p>\n\n<p>[root@vm-forward ~]# cat /etc/sysctl.conf | grep forward # Controls IP PAcket forwarding net.ipv4.ip_forward = 1</p>\n\n<p>Pour que cette option soit prise en compte, rebootez le système ou exécuter :</p>\n\n<p>sysctl -p</p>\n\n<h3 id=\"activationdiptablesaudmarragedusystme\">Activation d’IPtables au démarrage du système</h3>\n\n<p>[root@vm-forward ~]# chkconfig --level 2345 iptables on</p>\n\n<h3 id=\"configurationdiptables\">Configuration d’IPtables</h3>\n\n<p>Dans IPtables, on va ajouter des règles de NAT et un règle Filter pour autoriser le forward.</p>\n\n<p>[root@vm-forward ~]# cat /etc/sysconfig/iptables ##Les regles de routage NAT ## A AJOUTER AU DEBUT DU FICHIER, APRES LES COMMENTAIRES *nat :PREROUTING ACCEPT [0:0] :POSTROUTING ACCEPT [0:0] -A PREROUTING -i eth1 -p tcp --dport 53 -j DNAT --to-destination 192.168.0.2:53 -A POSTROUTING -o eth1 -j MASQUERADE COMMIT *filter *:INPUT ACCEPT [0:0] *:FORWARD ACCEPT [0:0] *:OUTPUT ACCEPT [0:0] ## VOS REGLES EXISTANTES -A FORWARD -j ACCEPT COMMIT</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-23T11:00:43.000Z","created_by":1,"updated_at":"2015-04-10T15:46:00.000Z","updated_by":1,"published_at":"2014-09-23T11:00:43.000Z","published_by":1},{"id":8,"uuid":"4e3d5738-e0cb-4d1f-b0ac-32d2c55a66c8","title":"Booster Apache avec des dossiers de cache en RAM","slug":"booster-apache-avec-des-dossiers-de-cache-en-ram","markdown":"\nUne des astuces pour bosster apache est de stocker des fichiers très accédés directement en RAM, pour cela on va utiliser le « tmpfs ».  \n  \n C’est une astuce qui permet de monter des morceaux de la RAM de l’ordinateur comme une partition classique.\n\nCeci évite de trop solliciter le disque dur qui évite ainsi beaucoup d’accès sur des fichiers « chaud ».\n\n \n\nVoici deux exemples d’utilisation.\n\n \n\n### Booster un site WordPress en mettant les fichiers de cache en RAM\n\nUn site WordPress est installé dans le dossier : /data/web/wordpress, cette installation utilise de la mise en cache du contenu. Les fichiers créés pour cette mise en cache sont stockés dans le dossier : /data/web/wordpress/wp-content/cache.\n\n \n\nNous allons monter 10 Mo de RAM dans le dossier /data/web/wordpress/wp-content/cache afin d’écrire les fichiers en cache en RAM.\n\nmount -t tmpfs -o size=10M,mode=0744 tmpfs /data/web/wordpress/wp-content/cache\n\n \n\nAfin de rendre cette manipulation permanente, voici la ligne a ajouter à la fstab :\n\ntmpfs /data/web/wordpress/wp-content/cache tmpfs size=10M,mode=0777 0 0\n\n \n\n \n\n### Booster Apache en mettant les sessions PHP en RAM\n\nNous allons créer le dossier /cache/apache2/sessions et monter 50 Mo de RAM dessus.\n\n \n\nmkdir -p /cache/apache2/sessions mount -t tmpfs -o size=50M,mode=0744 tmpfs /cache/apache2/sessions chown -R www-data: /cache/apache2/sessions/\n\n \n\nLes sessions PHP sont par défaut, stockées dans le repertoire /tmp de votre Linux, vous pouvez modifier ce chemin en mettant une valeur à la variable « session.save_path » dans votre fichier php.ini\n\nsession.save_path = \"/cache/apache2/sessions\"\n\n *N’oubliez pas de redémarrer Apache pour prendre en compte cette modification.*\n\n \n\nAfin de rendre cette manipulation permanente, voici la ligne a ajouter à la fstab :\n\ntmpfs /cache/apache2/sessions tmpfs size=50M,mode=0777 0 0\n\n \n\n### Augmenter à chaud la taille d’un TMPFS\n\nroot@kelthuzad:~# df -h /cache/apache2/sessions/ Sys. de fichiers Taille Utilisé Dispo Uti% Monté sur tmpfs 50M 0 50M 0% /cache/apache2/sessions root@kelthuzad:~# mount -o remount,size=100M /cache/apache2/sessions root@kelthuzad:~# df -h /cache/apache2/sessions/ Sys. de fichiers Taille Utilisé Dispo Uti% Monté sur tmpfs 100M 0 100M 0% /cache/apache2/sessions\n\nN’oubliez pas de modifier la taille dans votre fstab ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\n### Autres cas d’utilisation\n\nLes cas d’utilisation des TMPFS sont presques infinis tant que vous avez de la RAM à foison.\n\nUn autre exemple, j’ai un ami qui a utilisé du TMPFS, sur mon conseil,  pour booster un serveur Team Fortresss 2, il en est plus que ravi ! ","html":"<p>Une des astuces pour bosster apache est de stocker des fichiers très accédés directement en RAM, pour cela on va utiliser le « tmpfs ».  </p>\n\n<p>C’est une astuce qui permet de monter des morceaux de la RAM de l’ordinateur comme une partition classique.</p>\n\n<p>Ceci évite de trop solliciter le disque dur qui évite ainsi beaucoup d’accès sur des fichiers « chaud ».</p>\n\n<p>Voici deux exemples d’utilisation.</p>\n\n<h3 id=\"boosterunsitewordpressenmettantlesfichiersdecacheenram\">Booster un site WordPress en mettant les fichiers de cache en RAM</h3>\n\n<p>Un site WordPress est installé dans le dossier : /data/web/wordpress, cette installation utilise de la mise en cache du contenu. Les fichiers créés pour cette mise en cache sont stockés dans le dossier : /data/web/wordpress/wp-content/cache.</p>\n\n<p>Nous allons monter 10 Mo de RAM dans le dossier /data/web/wordpress/wp-content/cache afin d’écrire les fichiers en cache en RAM.</p>\n\n<p>mount -t tmpfs -o size=10M,mode=0744 tmpfs /data/web/wordpress/wp-content/cache</p>\n\n<p>Afin de rendre cette manipulation permanente, voici la ligne a ajouter à la fstab :</p>\n\n<p>tmpfs /data/web/wordpress/wp-content/cache tmpfs size=10M,mode=0777 0 0</p>\n\n<h3 id=\"boosterapacheenmettantlessessionsphpenram\">Booster Apache en mettant les sessions PHP en RAM</h3>\n\n<p>Nous allons créer le dossier /cache/apache2/sessions et monter 50 Mo de RAM dessus.</p>\n\n<p>mkdir -p /cache/apache2/sessions mount -t tmpfs -o size=50M,mode=0744 tmpfs /cache/apache2/sessions chown -R www-data: /cache/apache2/sessions/</p>\n\n<p>Les sessions PHP sont par défaut, stockées dans le repertoire /tmp de votre Linux, vous pouvez modifier ce chemin en mettant une valeur à la variable « session.save_path » dans votre fichier php.ini</p>\n\n<p>session.save_path = \"/cache/apache2/sessions\"</p>\n\n<p> <em>N’oubliez pas de redémarrer Apache pour prendre en compte cette modification.</em></p>\n\n<p>Afin de rendre cette manipulation permanente, voici la ligne a ajouter à la fstab :</p>\n\n<p>tmpfs /cache/apache2/sessions tmpfs size=50M,mode=0777 0 0</p>\n\n<h3 id=\"augmenterchaudlatailleduntmpfs\">Augmenter à chaud la taille d’un TMPFS</h3>\n\n<p>root@kelthuzad:~# df -h /cache/apache2/sessions/ Sys. de fichiers Taille Utilisé Dispo Uti% Monté sur tmpfs 50M 0 50M 0% /cache/apache2/sessions root@kelthuzad:~# mount -o remount,size=100M /cache/apache2/sessions root@kelthuzad:~# df -h /cache/apache2/sessions/ Sys. de fichiers Taille Utilisé Dispo Uti% Monté sur tmpfs 100M 0 100M 0% /cache/apache2/sessions</p>\n\n<p>N’oubliez pas de modifier la taille dans votre fstab ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<h3 id=\"autrescasdutilisation\">Autres cas d’utilisation</h3>\n\n<p>Les cas d’utilisation des TMPFS sont presques infinis tant que vous avez de la RAM à foison.</p>\n\n<p>Un autre exemple, j’ai un ami qui a utilisé du TMPFS, sur mon conseil,  pour booster un serveur Team Fortresss 2, il en est plus que ravi ! ","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-23T15:29:06.000Z","created_by":1,"updated_at":"2014-10-16T08:34:14.000Z","updated_by":1,"published_at":"2014-09-23T15:29:06.000Z","published_by":1},{"id":9,"uuid":"72316de9-3ed9-45fd-828e-117dfa1207d4","title":"Lancer des applis Android sur Chromes OS, Linux, Mac OS, Windows","slug":"lancer-des-applis-android-sur-chromes-os-linux-mac-os-windows","markdown":"\nEn parcourant l’Internet Multimédia, je suis tombé sur une news qui a attiré mon attention, il serait possible de lancer des applications Android sur des systèmes plus conventionnels.\n\nCeci serait possible en passant par le mode développeur du système d’extensions du navigateur Chrome.  \n  \n  \n\nMême si ce hack m’intéressait pour certaines applications, je n’ai pas eu le temps de tester ceci …\n\n \n\n> Il est désormais possible de lancer les applications Android sous OS X, Linux et Windows via Google Chrome ! [http://t.co/ap1eJZ1lTh](http://t.co/ap1eJZ1lTh)\n> \n> — LouWii D. (@LouWii59) [September 23, 2014](https://twitter.com/LouWii59/status/514436231862951936)\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>\n\n### <span style=\"text-decoration: underline;\">**Liens**</span>\n\n[L’article sur FrAndroid](http://www.frandroid.com/applications/242809_il-desormais-possible-lancer-les-applications-android-os-x-linux-windows?utm_source=feedburner&utm_medium=feed&utm_campaign=Feed%3A+Frandroid+%28FrAndroid%29)\n\n[La page du hack sur GitHub](https://github.com/vladikoff/chromeos-apk#now-supports-os-x-linux-and-windows)\n\n \n\n \n\n \n\n\n","html":"<p>En parcourant l’Internet Multimédia, je suis tombé sur une news qui a attiré mon attention, il serait possible de lancer des applications Android sur des systèmes plus conventionnels.</p>\n\n<p>Ceci serait possible en passant par le mode développeur du système d’extensions du navigateur Chrome.  </p>\n\n<p>Même si ce hack m’intéressait pour certaines applications, je n’ai pas eu le temps de tester ceci …</p>\n\n<blockquote>\n  <p>Il est désormais possible de lancer les applications Android sous OS X, Linux et Windows via Google Chrome ! <a href=\"http://t.co/ap1eJZ1lTh\">http://t.co/ap1eJZ1lTh</a></p>\n  \n  <p>— LouWii D. (@LouWii59) <a href=\"https://twitter.com/LouWii59/status/514436231862951936\">September 23, 2014</a></p>\n</blockquote>\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>\n\n<h3 id=\"spanstyletextdecorationunderlineliensspan\"><span style=\"text-decoration: underline;\"><strong>Liens</strong></span></h3>\n\n<p><a href=\"http://www.frandroid.com/applications/242809_il-desormais-possible-lancer-les-applications-android-os-x-linux-windows?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+Frandroid+%28FrAndroid%29\">L’article sur FrAndroid</a></p>\n\n<p><a href=\"https://github.com/vladikoff/chromeos-apk#now-supports-os-x-linux-and-windows\">La page du hack sur GitHub</a></p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-24T10:44:23.000Z","created_by":1,"updated_at":"2014-11-18T10:59:24.000Z","updated_by":1,"published_at":"2014-09-24T10:44:23.000Z","published_by":1},{"id":10,"uuid":"eb284daf-1696-4e1a-a868-6f9d397b17f1","title":"Quand Apple fait du Microsoft ...","slug":"quand-apple-fait-du-microsoft","markdown":"\nVoici une nouvelle qui a fait grand bruit dans le monde des réseaux sociaux et des utilisateurs de produits mobiles Apple.  \n  \n La première mise à jour du tout nouveau système mobile iOS – la version 8.0.1 – a été publiée hier soir par la firme de Cupertino, puis retiré un peu plus d’une heure plus tard …\n\nCette mise à jour devait corriger plusieurs bugs, dont celui qui avait poussé Apple a retirer HealthKit au dernier moment, juste avant la sortie d’iOS8.\n\n \n\nMalheureusement, la mise à jour apportait bien plus de bugs qu’elle n’en corrigeait, et des bugs bien gênant. Parmi les plus pénibles, les iPhone 6 et 6 Plus ne pouvaient plus se connecter aux réseaux cellulaires, quelques soit l’opérateur fournissant ce service, TouchId ne fonctionnait plus … Le bug qui impactait la connexion aux réseaux cellulaires ne semblait présent que sur les tout nouveaux terminaux d’Apple, il n’était visiblement pas présent sur les iPhone 5S par exemple.\n\nSi vous avez malheureusement fait cette mise à jour vers iOS 8.0.1, [iGen.fr](http://www.igen.fr) a publié un [article expliquant comment revenir à iOS 8.0](http://www.igen.fr/ios/2014/09/comment-revenir-ios-80-sur-votre-iphone-6-87815).\n\n \n\n[Apple a publié une note](http://support.apple.com/kb/HT6487?viewlocale=en_US&locale=en_US) ce matin expliquant également la marche a suivre pour revenir en arrière. La firme a également annoncé la sortie d’une nouvelle mise à jour (iOS 8.0.2) « dans les tout prochains jours ».\n\n \n\nEspérons que cette fois-ci sera la bonne !\n\n \n\n### <span style=\"text-decoration: underline;\">Liens</span>\n\nChronologie des évènements sur [iGen.fr](http://www.igen.fr/)\n\n24/09/2014 à 18h57 : [iOS 8.0.1 est disponible et corrige le bug HealthKit](http://www.igen.fr/ios/2014/09/ios-801-est-disponible-et-corrige-le-bug-healthkit-maj-ne-pas-installer-87812)\n\n24/09/2014 à 20h18 : [Apple retire iOS 8.0.1 devant l’ampleur des bugs et enquête](http://www.igen.fr/ios/2014/09/apple-retire-ios-801-devant-lampleur-des-bugs-et-enquete-87813)\n\n25/09/2014 à 7h18 :[ Apple sortira iOS 8.0.2 ces « tout prochains jours »](http://www.igen.fr/ios/2014/09/apple-sortira-ios-802-ces-tout-prochains-jours-87818)\n\n\n","html":"<p>Voici une nouvelle qui a fait grand bruit dans le monde des réseaux sociaux et des utilisateurs de produits mobiles Apple.  </p>\n\n<p>La première mise à jour du tout nouveau système mobile iOS – la version 8.0.1 – a été publiée hier soir par la firme de Cupertino, puis retiré un peu plus d’une heure plus tard …</p>\n\n<p>Cette mise à jour devait corriger plusieurs bugs, dont celui qui avait poussé Apple a retirer HealthKit au dernier moment, juste avant la sortie d’iOS8.</p>\n\n<p>Malheureusement, la mise à jour apportait bien plus de bugs qu’elle n’en corrigeait, et des bugs bien gênant. Parmi les plus pénibles, les iPhone 6 et 6 Plus ne pouvaient plus se connecter aux réseaux cellulaires, quelques soit l’opérateur fournissant ce service, TouchId ne fonctionnait plus … Le bug qui impactait la connexion aux réseaux cellulaires ne semblait présent que sur les tout nouveaux terminaux d’Apple, il n’était visiblement pas présent sur les iPhone 5S par exemple.</p>\n\n<p>Si vous avez malheureusement fait cette mise à jour vers iOS 8.0.1, <a href=\"http://www.igen.fr\">iGen.fr</a> a publié un <a href=\"http://www.igen.fr/ios/2014/09/comment-revenir-ios-80-sur-votre-iphone-6-87815\">article expliquant comment revenir à iOS 8.0</a>.</p>\n\n<p><a href=\"http://support.apple.com/kb/HT6487?viewlocale=en_US&amp;locale=en_US\">Apple a publié une note</a> ce matin expliquant également la marche a suivre pour revenir en arrière. La firme a également annoncé la sortie d’une nouvelle mise à jour (iOS 8.0.2) « dans les tout prochains jours ».</p>\n\n<p>Espérons que cette fois-ci sera la bonne !</p>\n\n<h3 id=\"spanstyletextdecorationunderlineliensspan\"><span style=\"text-decoration: underline;\">Liens</span></h3>\n\n<p>Chronologie des évènements sur <a href=\"http://www.igen.fr/\">iGen.fr</a></p>\n\n<p>24/09/2014 à 18h57 : <a href=\"http://www.igen.fr/ios/2014/09/ios-801-est-disponible-et-corrige-le-bug-healthkit-maj-ne-pas-installer-87812\">iOS 8.0.1 est disponible et corrige le bug HealthKit</a></p>\n\n<p>24/09/2014 à 20h18 : <a href=\"http://www.igen.fr/ios/2014/09/apple-retire-ios-801-devant-lampleur-des-bugs-et-enquete-87813\">Apple retire iOS 8.0.1 devant l’ampleur des bugs et enquête</a></p>\n\n<p>25/09/2014 à 7h18 :<a href=\"http://www.igen.fr/ios/2014/09/apple-sortira-ios-802-ces-tout-prochains-jours-87818\"> Apple sortira iOS 8.0.2 ces « tout prochains jours »</a></p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-25T08:09:31.000Z","created_by":1,"updated_at":"2014-11-18T10:59:05.000Z","updated_by":1,"published_at":"2014-09-25T08:09:31.000Z","published_by":1},{"id":11,"uuid":"23eec0cc-4ab0-490d-83df-9cc50024d0b2","title":"[iOS] Désactiver la lecture automatique des vidéos sur FaceBook","slug":"ios-desactiver-la-lecture-automatique-des-videos-sur-facebook","markdown":"\nVoici quelque chose qui m’énerve particulièrement depuis un moment sur l’application iOS de FaceBook, la lecture automatique des vidéos. Cette « nouveauté » ralentie considérablement le temps de chargement de l’application et pollue visuellement et afficher des vidéos que je n’aurais jamais visionnées sinon.\n\nJ’ai donc cherché (et trouvé !) comment désactiver cette horreur !\n\n \n\nLa manipulation est assez simple, pour commencer rendez-vous dans les paramètres de votre iPhone en cliquant sur l’icône :\n\n[![iOS_icone_reglages](https://techan.fr/images/2014/09/iOS_icone_reglages.png)](https://techan.fr/images/2014/09/iOS_icone_reglages.png)\n\nEnsuite, suivez le guide !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_74\" style=\"width: 310px\">[![Descendez jusqu'au menu Facebook, ouvrez le.](https://techan.fr/images/2014/09/1_disableFBautoplay_facebook-300x158.png)](https://techan.fr/images/2014/09/1_disableFBautoplay_facebook.png)Descendez jusqu’au menu Facebook, ouvrez le.\n\n</div> \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_71\" style=\"width: 310px\">[![Appuyez sur \"Réglages\".](https://techan.fr/images/2014/09/2_disableFBautoplay_settings-300x213.png)](https://techan.fr/images/2014/09/2_disableFBautoplay_settings.png)Appuyez sur « Réglages ».\n\n</div> \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_72\" style=\"width: 295px\">[![Descendez jusqu'au menu Auto-play, ouvrez le.](https://techan.fr/images/2014/09/3_disableFBautoplay_autoplay-285x300.png)](https://techan.fr/images/2014/09/3_disableFBautoplay_autoplay.png)Descendez jusqu’au menu Auto-play, ouvrez le.\n\n</div> \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_73\" style=\"width: 310px\">[![Sélectionnez l'option qui vous convient le mieux.](https://techan.fr/images/2014/09/4_disableFBautoplay_auto_play_off-300x223.png)](https://techan.fr/images/2014/09/4_disableFBautoplay_auto_play_off.png)Sélectionnez l’option qui vous convient le mieux.\n\n</div> \n\nEt voilà ! ![:-)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n\n","html":"<p>Voici quelque chose qui m’énerve particulièrement depuis un moment sur l’application iOS de FaceBook, la lecture automatique des vidéos. Cette « nouveauté » ralentie considérablement le temps de chargement de l’application et pollue visuellement et afficher des vidéos que je n’aurais jamais visionnées sinon.</p>\n\n<p>J’ai donc cherché (et trouvé !) comment désactiver cette horreur !</p>\n\n<p>La manipulation est assez simple, pour commencer rendez-vous dans les paramètres de votre iPhone en cliquant sur l’icône :</p>\n\n<p><a href=\"https://techan.fr/images/2014/09/iOS_icone_reglages.png\"><img src=\"https://techan.fr/images/2014/09/iOS_icone_reglages.png\" alt=\"iOS<em>icone</em>reglages\" title=\"\" /></a></p>\n\n<p>Ensuite, suivez le guide !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_74\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/09/1_disableFBautoplay_facebook.png\"><img src=\"https://techan.fr/images/2014/09/1_disableFBautoplay_facebook-300x158.png\" alt=\"Descendez jusqu'au menu Facebook, ouvrez le.\" title=\"\" /></a>Descendez jusqu’au menu Facebook, ouvrez le.</p>\n\n<p></div> </p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_71\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/09/2_disableFBautoplay_settings.png\"><img src=\"https://techan.fr/images/2014/09/2_disableFBautoplay_settings-300x213.png\" alt=\"Appuyez sur &quot;Réglages&quot;.\" title=\"\" /></a>Appuyez sur « Réglages ».</p>\n\n<p></div> </p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_72\" style=\"width: 295px\"><a href=\"https://techan.fr/images/2014/09/3_disableFBautoplay_autoplay.png\"><img src=\"https://techan.fr/images/2014/09/3_disableFBautoplay_autoplay-285x300.png\" alt=\"Descendez jusqu'au menu Auto-play, ouvrez le.\" title=\"\" /></a>Descendez jusqu’au menu Auto-play, ouvrez le.</p>\n\n<p></div> </p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_73\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/09/4_disableFBautoplay_auto_play_off.png\"><img src=\"https://techan.fr/images/2014/09/4_disableFBautoplay_auto_play_off-300x223.png\" alt=\"Sélectionnez l'option qui vous convient le mieux.\" title=\"\" /></a>Sélectionnez l’option qui vous convient le mieux.</p>\n\n<p></div> </p>\n\n<p>Et voilà ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":-)\" title=\"\" /></p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-25T12:13:43.000Z","created_by":1,"updated_at":"2014-11-18T10:58:53.000Z","updated_by":1,"published_at":"2014-09-25T12:13:43.000Z","published_by":1},{"id":12,"uuid":"a8972c47-5ef2-43af-8afa-4c217aadebe7","title":"[Shellshock] Une nouvelle faille de sécurité découverte sur Mac OS et Linux","slug":"shellshock-une-nouvelle-faille-de-securite-decouverte-sur-mac-os-et-linux","markdown":"\nLa nouvelle est tombée un peu plus tôt cet après-midi, [une nouvelle faille de sécurité a été découverte par les gens de chez RedHat](http://community.redhat.com/blog/2014/09/critical-bash-security-vulnerability-update-your-systems-today/?utm_source=twitterfeed&utm_medium=twitter) !  \n  \n Cette faille s’appuie sur l’interpréteur de commandes Bash, un énorme classique sur tous les Unix/Linux, si bien que peux de pingouins sont à l’abris … Mac OS est également touché car Bash est son shell de base.\n\nElle permet a des utilisateurs malveillants d’exécuter du code à distance sur votre machine. Celà vient du fait qu’il est possible de créer des variables d’environnement avec des valeurs spéciales avant d’appeler Bash, comme des commandes pouvant être exécutées.\n\n \n\nDes mises à jours ont déjà été publiées pour les systèmes suivants :\n\n- RedHat (pour les version de 4 à 7)\n- Ubuntu (pour les versions 10.04 LTS, 12.04 LTS et 14.04 LTS)\n- Fedora/CentOS ( pour les versions de 5 à 7)\n- Debian\n\nEspérons qu’Apple publiera rapidement une mise à jour pour les pommes !\n\n> Sécurité: la mégafaille «Shellshock» secoue le monde Linux et Mac OS. [http://t.co/I8emJBvbQ0](http://t.co/I8emJBvbQ0) [pic.twitter.com/KVhrrR04F3](http://t.co/KVhrrR04F3)\n> \n> — 01net (@01net) [September 25, 2014](https://twitter.com/01net/status/515096456240574464)\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>\n\nPour tester si votre système est vulnérable, c’est simple, il vous suffit d’exécuter la commande suivante dans votre terminal :\n\nenv x='() { :;}; echo vulnerable' bash -c \"echo this is a test\"\n\nSi votre système est vulnérable l’affichage sera le suivant :\n\nvulnerable this is a test\n\nS’il ne l’est pas, le résultat sera :\n\nbash: avertissement : x: ignoring function definition attempt bash: erreur lors de l'import de la définition de fonction pour « x » this is a test\n\n \n\n**<span style=\"text-decoration: underline;\">Si votre système est vulnérable, n’attendez pas avant de patcher votre Bash !!!</span>**\n\nPour cela, utiliser votre gestionnaire de paquets habituels. ","html":"<p>La nouvelle est tombée un peu plus tôt cet après-midi, <a href=\"http://community.redhat.com/blog/2014/09/critical-bash-security-vulnerability-update-your-systems-today/?utm_source=twitterfeed&amp;utm_medium=twitter\">une nouvelle faille de sécurité a été découverte par les gens de chez RedHat</a> !  </p>\n\n<p>Cette faille s’appuie sur l’interpréteur de commandes Bash, un énorme classique sur tous les Unix/Linux, si bien que peux de pingouins sont à l’abris … Mac OS est également touché car Bash est son shell de base.</p>\n\n<p>Elle permet a des utilisateurs malveillants d’exécuter du code à distance sur votre machine. Celà vient du fait qu’il est possible de créer des variables d’environnement avec des valeurs spéciales avant d’appeler Bash, comme des commandes pouvant être exécutées.</p>\n\n<p>Des mises à jours ont déjà été publiées pour les systèmes suivants :</p>\n\n<ul>\n<li>RedHat (pour les version de 4 à 7)</li>\n<li>Ubuntu (pour les versions 10.04 LTS, 12.04 LTS et 14.04 LTS)</li>\n<li>Fedora/CentOS ( pour les versions de 5 à 7)</li>\n<li>Debian</li>\n</ul>\n\n<p>Espérons qu’Apple publiera rapidement une mise à jour pour les pommes !</p>\n\n<blockquote>\n  <p>Sécurité: la mégafaille «Shellshock» secoue le monde Linux et Mac OS. <a href=\"http://t.co/I8emJBvbQ0\">http://t.co/I8emJBvbQ0</a> <a href=\"http://t.co/KVhrrR04F3\">pic.twitter.com/KVhrrR04F3</a></p>\n  \n  <p>— 01net (@01net) <a href=\"https://twitter.com/01net/status/515096456240574464\">September 25, 2014</a></p>\n</blockquote>\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>\n\n<p>Pour tester si votre système est vulnérable, c’est simple, il vous suffit d’exécuter la commande suivante dans votre terminal :</p>\n\n<p>env x='() { :;}; echo vulnerable' bash -c \"echo this is a test\"</p>\n\n<p>Si votre système est vulnérable l’affichage sera le suivant :</p>\n\n<p>vulnerable this is a test</p>\n\n<p>S’il ne l’est pas, le résultat sera :</p>\n\n<p>bash: avertissement : x: ignoring function definition attempt bash: erreur lors de l'import de la définition de fonction pour « x » this is a test</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Si votre système est vulnérable, n’attendez pas avant de patcher votre Bash !!!</span></strong></p>\n\n<p>Pour cela, utiliser votre gestionnaire de paquets habituels. ","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-25T14:56:57.000Z","created_by":1,"updated_at":"2014-10-16T08:31:27.000Z","updated_by":1,"published_at":"2014-09-25T14:56:57.000Z","published_by":1},{"id":13,"uuid":"969aa259-2360-4679-a335-e9dd1f0f2b8a","title":"[iPhone 6] Une page permettant de vérifier les stocks dans les Apple Store","slug":"iphone-6-une-page-permettant-de-verifier-les-stocks-dans-les-apple-store","markdown":"\nVoici une page qui pourra être utiles aux personnes qui souhaitent aller chercher leur iPhone 6 directement dans les Apple Store.  \n  \n Vous pouvez suivre les stocks d’iPhone 6 et d’iPhone Plus dans les Store Français.\n\n \n\nÇa se passe par ici :\n\n[Vérifier la disponibilité de l’iPhone](https://reserve.cdn-apple.com/FR/fr_FR/reserve/iPhone/availability)\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_87\" style=\"width: 310px\">[![Disponibilité de l'iPhone 6](https://techan.fr/images/2014/09/dispo_iphone6_applestore-300x273.png)](https://techan.fr/images/2014/09/dispo_iphone6_applestore.png)Disponibilité de l’iPhone 6\n\n</div>\n","html":"<p>Voici une page qui pourra être utiles aux personnes qui souhaitent aller chercher leur iPhone 6 directement dans les Apple Store.  </p>\n\n<p>Vous pouvez suivre les stocks d’iPhone 6 et d’iPhone Plus dans les Store Français.</p>\n\n<p>Ça se passe par ici :</p>\n\n<p><a href=\"https://reserve.cdn-apple.com/FR/fr_FR/reserve/iPhone/availability\">Vérifier la disponibilité de l’iPhone</a></p>\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_87\" style=\"width: 310px\">[![Disponibilité de l'iPhone 6](https://techan.fr/images/2014/09/dispo_iphone6_applestore-300x273.png)](https://techan.fr/images/2014/09/dispo_iphone6_applestore.png)Disponibilité de l’iPhone 6\n\n</div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-26T07:53:50.000Z","created_by":1,"updated_at":"2014-11-18T10:58:38.000Z","updated_by":1,"published_at":"2014-09-26T07:53:50.000Z","published_by":1},{"id":14,"uuid":"75826ce3-30a0-446a-9ab1-8145733cd095","title":"[imp] Importer juste une table dans un schéma.","slug":"imp-importer-juste-une-table-dans-un-schema","markdown":"\nLe binaire « imp » fait partie de l’ancien mécanisme d’export/import d’Oracle, cette technologie a été supplantée par DataPump qui est bien plus performant et flexible.  \n  \n  \n\nCependant, ces anciens outils sont encore utilisés soit pour les bases en version inférieures à la 10g, soit par faute de migration des scripts.\n\nNous allons voir comment importer une seule table depuis un fichier exporté avec « exp » dans un schéma.\n\n \n\nLa table présente dans la base contient des erreurs, nous allons la supprimer.\n\nSQL> drop table LE_SCHEMA.LA_TABLE ; Table supprimee.\n\n \n\nUne fois la table supprimée, il faut se rendre dans le dossier contenant le fichier d’export puis lancer la commande suivante.\n\n[oracle@xxxxx export](BASE)$ imp file=SCHEMA.dmp fromuser=LE_SCHEMA touser=LE_SCHEMA TABLES=\\(LA_TABLE\\) buffer=1000000000 Import: Release 11.2.0.1.0 - Production on Fri Sep 26 10:42:11 2014 Copyright (c) 1982, 2009, Oracle and/or its affiliates. All rights reserved. Username: system Password: Connected to: Oracle Database 11g Release 11.2.0.1.0 - 64bit Production Export file created by EXPORT:V11.02.00 via conventional path Warning: the objects were exported by SYS, not by you import done in US7ASCII character set and UTF8 NCHAR character set import server uses AL32UTF8 character set (possible charset conversion) export client uses AL32UTF8 character set (possible charset conversion) . importing LE_SCHEMA's objects into LE_SCHEMA . . importing table \"LA_TABLE\" 11035 rows imported Import terminated successfully without warnings.\n\n \n\nVérifions que la table soit bien à la bonne place :\n\nSQL> select table_name, owner from dba_tables where table_name='LA_TABLE' ; TABLE_NAME OWNER ------------------------------ ------------------------------ LA_TABLE LE_SCHEMA\n\n \n\nEt voilà, le tour est joué !\n\n\n","html":"<p>Le binaire « imp » fait partie de l’ancien mécanisme d’export/import d’Oracle, cette technologie a été supplantée par DataPump qui est bien plus performant et flexible.  </p>\n\n<p>Cependant, ces anciens outils sont encore utilisés soit pour les bases en version inférieures à la 10g, soit par faute de migration des scripts.</p>\n\n<p>Nous allons voir comment importer une seule table depuis un fichier exporté avec « exp » dans un schéma.</p>\n\n<p>La table présente dans la base contient des erreurs, nous allons la supprimer.</p>\n\n<p>SQL> drop table LE<em>SCHEMA.LA</em>TABLE ; Table supprimee.</p>\n\n<p>Une fois la table supprimée, il faut se rendre dans le dossier contenant le fichier d’export puis lancer la commande suivante.</p>\n\n<p><a href=\"BASE\">oracle@xxxxx export</a>$ imp file=SCHEMA.dmp fromuser=LE<em>SCHEMA touser=LE</em>SCHEMA TABLES=(LA<em>TABLE) buffer=1000000000 Import: Release 11.2.0.1.0 - Production on Fri Sep 26 10:42:11 2014 Copyright (c) 1982, 2009, Oracle and/or its affiliates. All rights reserved. Username: system Password: Connected to: Oracle Database 11g Release 11.2.0.1.0 - 64bit Production Export file created by EXPORT:V11.02.00 via conventional path Warning: the objects were exported by SYS, not by you import done in US7ASCII character set and UTF8 NCHAR character set import server uses AL32UTF8 character set (possible charset conversion) export client uses AL32UTF8 character set (possible charset conversion) . importing LE</em>SCHEMA's objects into LE<em>SCHEMA . . importing table \"LA</em>TABLE\" 11035 rows imported Import terminated successfully without warnings.</p>\n\n<p>Vérifions que la table soit bien à la bonne place :</p>\n\n<p>SQL> select table<em>name, owner from dba</em>tables where table<em>name='LA</em>TABLE' ; TABLE<em>NAME OWNER ------------------------------ ------------------------------ LA</em>TABLE LE_SCHEMA</p>\n\n<p>Et voilà, le tour est joué !</p>","image":"http://blog.techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-26T11:30:03.000Z","created_by":1,"updated_at":"2014-11-20T16:46:08.000Z","updated_by":1,"published_at":"2014-09-26T11:30:03.000Z","published_by":1},{"id":15,"uuid":"a833c5ee-b5c1-423d-be7f-acabe9c112c7","title":"[iOS] L'update 8.0.2 est disponible !","slug":"ios-lupdate-8-0-2-est-disponible","markdown":"\nMoins d’un jour après le fail retentissant de la mise à jour 8.0.1, Apple publie la version 8.0.2 de son OS mobile.  \n  \n  \n\nCette version corrige les problème de réseau cellulaire et de TouchID.\n\nElle apporte également (enfin) les mise à jour nécessaire pour l’utilisation de l’application Santé et de HealthKit. Les premières applications compatibles ne devraient pas tarder a apparaitre dans l’App Store !\n\n \n\n<span style=\"text-decoration: underline;\">**N’oubliez pas de faire une sauvegarde de votre iPhone / iPad avant d’appliquer cette toute mise à jour !**</span>\n\n\n","html":"<p>Moins d’un jour après le fail retentissant de la mise à jour 8.0.1, Apple publie la version 8.0.2 de son OS mobile.  </p>\n\n<p>Cette version corrige les problème de réseau cellulaire et de TouchID.</p>\n\n<p>Elle apporte également (enfin) les mise à jour nécessaire pour l’utilisation de l’application Santé et de HealthKit. Les premières applications compatibles ne devraient pas tarder a apparaitre dans l’App Store !</p>\n\n<p><span style=\"text-decoration: underline;\"><strong>N’oubliez pas de faire une sauvegarde de votre iPhone / iPad avant d’appliquer cette toute mise à jour !</strong></span></p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-26T11:45:18.000Z","created_by":1,"updated_at":"2014-11-18T10:58:27.000Z","updated_by":1,"published_at":"2014-09-26T11:45:18.000Z","published_by":1},{"id":16,"uuid":"e35dc5db-a0d7-4544-80ed-9bbad647278c","title":"[Shellshock] Apple annonce une mise à jour rapide","slug":"shellshock-apple-annonce-une-mise-a-jour-rapide","markdown":"\nApple a déclaré au site [iMore](http://www.imore.com) être au courant de la faille découverte hier par le gens de RedHat (voir l’article [[Shellshock] Une nouvelle faille de sécurité découverte sur Mac OS et Linux](https://techan.fr/shellshock-une-nouvelle-faille-de-securite-decouverte-sur-mac-os-et-linux/ \"[Shellshock] Une nouvelle faille de sécurité découverte sur Mac OS et Linux\")).  \n  \n La firme affirme également être en train de travailler pour rendre rapidement disponible une mise à jour de ses système d’exploitation.\n\n \n\nElle affirme également que la grande majorité des utilisateurs de Mac OS ne sont pas concernés par cette faille car les mécanismes de sécurité de ses OS les en protègent. Ce n’est pas le cas des « utilisateurs avancés », selon ses termes, qui auraient activé des fonctionnalités Unix avancées sur leur(s) Mac.\n\n \n\nUne mise à jour de Mac OS ne devrait donc pas tarder. [iMore](http://www.imore.com) explique également que l’on peut patcher le Bash soit même en utilisant Xcode.\n\n \n\n### <span style=\"text-decoration: underline;\">Lien</span>\n\n[Apple: Most OS X users safe from ‘Shellshock’ exploit, patch coming quickly for advanced Unix users](http://www.imore.com/apple-working-quickly-protect-os-x-against-shellshock-exploit)\n\n\n","html":"<p>Apple a déclaré au site <a href=\"http://www.imore.com\">iMore</a> être au courant de la faille découverte hier par le gens de RedHat (voir l’article <a href=\"https://techan.fr/shellshock-une-nouvelle-faille-de-securite-decouverte-sur-mac-os-et-linux/\" title=\"[Shellshock] Une nouvelle faille de sécurité découverte sur Mac OS et Linux\">[Shellshock] Une nouvelle faille de sécurité découverte sur Mac OS et Linux</a>).  </p>\n\n<p>La firme affirme également être en train de travailler pour rendre rapidement disponible une mise à jour de ses système d’exploitation.</p>\n\n<p>Elle affirme également que la grande majorité des utilisateurs de Mac OS ne sont pas concernés par cette faille car les mécanismes de sécurité de ses OS les en protègent. Ce n’est pas le cas des « utilisateurs avancés », selon ses termes, qui auraient activé des fonctionnalités Unix avancées sur leur(s) Mac.</p>\n\n<p>Une mise à jour de Mac OS ne devrait donc pas tarder. <a href=\"http://www.imore.com\">iMore</a> explique également que l’on peut patcher le Bash soit même en utilisant Xcode.</p>\n\n<h3 id=\"spanstyletextdecorationunderlinelienspan\"><span style=\"text-decoration: underline;\">Lien</span></h3>\n\n<p><a href=\"http://www.imore.com/apple-working-quickly-protect-os-x-against-shellshock-exploit\">Apple: Most OS X users safe from ‘Shellshock’ exploit, patch coming quickly for advanced Unix users</a></p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-26T12:02:56.000Z","created_by":1,"updated_at":"2014-11-18T10:58:11.000Z","updated_by":1,"published_at":"2014-09-26T12:02:56.000Z","published_by":1},{"id":17,"uuid":"e5ae27b2-a851-4aee-87b3-57a886101823","title":"[MySQL] Un outil qui donne des conseils d'optimisation","slug":"mysql-un-outil-qui-donne-des-conseils-doptimisation","markdown":"\nVoici un outil en ligne de commande assez pratique qui audit votre serveur MySQL et vous donne des pistes pour améliorer ses performances.\n\n \n\nCet outil est disponible directement dans les dépots d’Ubuntu, son petit nom mysqltuner.  \n  \n  \n\nroot@kelthuzad:~# aptitude search mysqltuner p mysqltuner - high-performance MySQL tuning script\n\n \n\nCet outil propose une sortie écran très claire avec des axes d’amélioration. Attention toute fois, il faut que votre dameon MySQL tourne depuis quelques jours sans reboot pour que les conseils soient plus pertinents.\n\nroot@xxxx:~# /root/bin/mysqltuner.pl >> MySQLTuner 1.3.0 - Major Hayden <major@mhtx.net> >> Bug reports, feature requests, and downloads at http://mysqltuner.com/ >> Run with '--help' for additional options and output filtering [OK] Logged in using credentials from debian maintenance account. [OK] Currently running supported MySQL version 5.5.38-0ubuntu0.14.04.1-log [OK] Operating on 64-bit architecture -------- Storage Engine Statistics ------------------------------------------- [--] Status: +ARCHIVE +BLACKHOLE +CSV -FEDERATED +InnoDB +MRG_MYISAM [--] Data in PERFORMANCE_SCHEMA tables: 0B (Tables: 17) [--] Data in MEMORY tables: 0B (Tables: 2) [--] Data in InnoDB tables: 12M (Tables: 40) [--] Data in MyISAM tables: 109M (Tables: 479) [!!] Total fragmented tables: 42 -------- Security Recommendations ------------------------------------------- [!!] User 'xxxx@%' has no password set. -------- Performance Metrics ------------------------------------------------- [--] Up for: 28d 0h 42m 18s (8M q [3.694 qps], 184K conn, TX: 5B, RX: 1B) [--] Reads / Writes: 79% / 21% [--] Total buffers: 188.0M global + 2.7M per thread (50 max threads) [OK] Maximum possible memory usage: 322.4M (16% of installed RAM) [OK] Slow queries: 0% (146/8M) [OK] Highest usage of available connections: 50% (25/50) [OK] Key buffer size / total MyISAM indexes: 20.0M/33.1M [OK] Key buffer hit rate: 98.7% (35M cached / 464K reads) [OK] Query cache efficiency: 79.1% (6M cached / 8M selects) [!!] Query cache prunes per day: 3720 [OK] Sorts requiring temporary tables: 0% (1 temp sorts / 49K sorts) [OK] Temporary tables created on disk: 9% (4K on disk / 47K total) [OK] Thread cache hit rate: 97% (5K created / 184K connections) [!!] Table cache hit rate: 0% (200 open / 66K opened) [OK] Open file limit used: 30% (312/1K) [OK] Table locks acquired immediately: 99% (2M immediate / 2M locks) [OK] InnoDB buffer pool / data size: 128.0M/12.7M [OK] InnoDB log waits: 0 -------- Recommendations ----------------------------------------------------- General recommendations: Run OPTIMIZE TABLE to defragment tables for better performance Increase table_open_cache gradually to avoid file descriptor limits Read this before increasing table_open_cache over 64: http://bit.ly/1mi7c4C Variables to adjust: query_cache_size (> 8M) table_open_cache (> 200)\n\nVoici  pour finir un petit script qui optimise les tables MySQL et qui lance mysqltuner.\n\n \n\n#!/bin/bash mysqlcheck -u root -pPassw0rd --auto-repair --optimize --all-databases > /tmp/mysql_opti.lst /root/bin/mysqltuner.pl >> /tmp/mysql_opti.lst cat /tmp/mysql_opti.lst | mail -s \"[Kelthuzad] MySQL Tuner\" me@mondomaine.fr rm -f /tmp/mysql_opti.lst\n\n \n\nEt on ajoute une petite planification pour ce script :\n\n## Optim MySQL 0 2 * * * /root/bin/mysql_optimize.sh >> /dev/null\n\n \n\n\n","html":"<p>Voici un outil en ligne de commande assez pratique qui audit votre serveur MySQL et vous donne des pistes pour améliorer ses performances.</p>\n\n<p>Cet outil est disponible directement dans les dépots d’Ubuntu, son petit nom mysqltuner.  </p>\n\n<p>root@kelthuzad:~# aptitude search mysqltuner p mysqltuner - high-performance MySQL tuning script</p>\n\n<p>Cet outil propose une sortie écran très claire avec des axes d’amélioration. Attention toute fois, il faut que votre dameon MySQL tourne depuis quelques jours sans reboot pour que les conseils soient plus pertinents.</p>\n\n<p>root@xxxx:~# /root/bin/mysqltuner.pl >> MySQLTuner 1.3.0 - Major Hayden <a href=\"&#109;&#97;&#x69;&#x6c;&#116;&#x6f;:&#x6d;&#x61;&#106;&#111;&#114;&#x40;&#x6d;&#104;&#x74;&#x78;&#46;&#x6e;&#101;&#116;\">&#x6d;&#x61;&#106;&#111;&#114;&#x40;&#x6d;&#104;&#x74;&#x78;&#46;&#x6e;&#101;&#116;</a> >> Bug reports, feature requests, and downloads at <a href=\"http://mysqltuner.com/\">http://mysqltuner.com/</a> >> Run with '--help' for additional options and output filtering [OK] Logged in using credentials from debian maintenance account. [OK] Currently running supported MySQL version 5.5.38-0ubuntu0.14.04.1-log [OK] Operating on 64-bit architecture -------- Storage Engine Statistics ------------------------------------------- [--] Status: +ARCHIVE +BLACKHOLE +CSV -FEDERATED +InnoDB +MRG<em>MYISAM [--] Data in PERFORMANCE</em>SCHEMA tables: 0B (Tables: 17) [--] Data in MEMORY tables: 0B (Tables: 2) [--] Data in InnoDB tables: 12M (Tables: 40) [--] Data in MyISAM tables: 109M (Tables: 479) [!!] Total fragmented tables: 42 -------- Security Recommendations ------------------------------------------- [!!] User 'xxxx@%' has no password set. -------- Performance Metrics ------------------------------------------------- [--] Up for: 28d 0h 42m 18s (8M q [3.694 qps], 184K conn, TX: 5B, RX: 1B) [--] Reads / Writes: 79% / 21% [--] Total buffers: 188.0M global + 2.7M per thread (50 max threads) [OK] Maximum possible memory usage: 322.4M (16% of installed RAM) [OK] Slow queries: 0% (146/8M) [OK] Highest usage of available connections: 50% (25/50) [OK] Key buffer size / total MyISAM indexes: 20.0M/33.1M [OK] Key buffer hit rate: 98.7% (35M cached / 464K reads) [OK] Query cache efficiency: 79.1% (6M cached / 8M selects) [!!] Query cache prunes per day: 3720 [OK] Sorts requiring temporary tables: 0% (1 temp sorts / 49K sorts) [OK] Temporary tables created on disk: 9% (4K on disk / 47K total) [OK] Thread cache hit rate: 97% (5K created / 184K connections) [!!] Table cache hit rate: 0% (200 open / 66K opened) [OK] Open file limit used: 30% (312/1K) [OK] Table locks acquired immediately: 99% (2M immediate / 2M locks) [OK] InnoDB buffer pool / data size: 128.0M/12.7M [OK] InnoDB log waits: 0 -------- Recommendations ----------------------------------------------------- General recommendations: Run OPTIMIZE TABLE to defragment tables for better performance Increase table<em>open</em>cache gradually to avoid file descriptor limits Read this before increasing table<em>open</em>cache over 64: <a href=\"http://bit.ly/1mi7c4C\">http://bit.ly/1mi7c4C</a> Variables to adjust: query<em>cache</em>size (> 8M) table<em>open</em>cache (> 200)</p>\n\n<p>Voici  pour finir un petit script qui optimise les tables MySQL et qui lance mysqltuner.</p>\n\n<h1 id=\"binbashmysqlcheckurootppassw0rdautorepairoptimizealldatabasestmpmysql_optilstrootbinmysqltunerpltmpmysql_optilstcattmpmysql_optilstmailskelthuzadmysqltunermemondomainefrrmftmpmysql_optilst\">!/bin/bash mysqlcheck -u root -pPassw0rd --auto-repair --optimize --all-databases > /tmp/mysql<em>opti.lst /root/bin/mysqltuner.pl >> /tmp/mysql</em>opti.lst cat /tmp/mysql<em>opti.lst | mail -s \"[Kelthuzad] MySQL Tuner\" me@mondomaine.fr rm -f /tmp/mysql</em>opti.lst</h1>\n\n<p>Et on ajoute une petite planification pour ce script :</p>\n\n<h2 id=\"optimmysql02rootbinmysql_optimizeshdevnull\">Optim MySQL 0 2 * * * /root/bin/mysql_optimize.sh >> /dev/null</h2>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-29T09:21:14.000Z","created_by":1,"updated_at":"2014-09-29T09:21:14.000Z","updated_by":1,"published_at":"2014-09-29T09:21:14.000Z","published_by":1},{"id":18,"uuid":"fe8c05e9-03fe-4d31-a843-c30f248eecaf","title":"[RedHat/Centos] Outil pour rescanner les bus SCSI et découvrir les disques ajoutés","slug":"redhatcentos-outil-pour-rescanner-les-bus-scsi-et-decouvrir-les-disques-ajoutes","markdown":"\nIl est toujours délicat d’ajouter de l’espace disque sur une machine de production et de pouvoir l’utiliser sans avoir a redémarrer cette dernière.  \n  \n L’outil « rescan-scsi-bus », fourni par le paquet « sg3_utils » peut rendre bien des services pour se faire.\n\n \n\n[root@sxxxx~]# yum install sg3_utils Loaded plugins: fastestmirror, refresh-packagekit, security Loading mirror speeds from cached hostfile * base: centos.crazyfrogs.org * extras: centos.crazyfrogs.org * rpmforge: apt.sw.be * updates: centos.mirror.fr.planethoster.net Setting up Install Process Resolving Dependencies --> Running transaction check ---> Package sg3_utils.x86_64 0:1.28-5.el6 will be installed --> Processing Dependency: sg3_utils-libs = 1.28-5.el6 for package: sg3_utils-1.28-5.el6.x86_64 --> Running transaction check ---> Package sg3_utils-libs.x86_64 0:1.28-4.el6 will be updated ---> Package sg3_utils-libs.x86_64 0:1.28-5.el6 will be an update --> Finished Dependency Resolution Dependencies Resolved ============================================================================================================================================================================================================ Package Arch Version Repository Size ============================================================================================================================================================================================================ Installing: sg3_utils x86_64 1.28-5.el6 base 471 k Updating for dependencies: sg3_utils-libs x86_64 1.28-5.el6 base 51 k Transaction Summary ============================================================================================================================================================================================================ Install 1 Package(s) Upgrade 1 Package(s) Total download size: 522 k Is this ok [y/N]: y Downloading Packages: (1/2): sg3_utils-1.28-5.el6.x86_64.rpm | 471 kB 00:01 (2/2): sg3_utils-libs-1.28-5.el6.x86_64.rpm | 51 kB 00:00 ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ Total 317 kB/s | 522 kB 00:01 Running rpm_check_debug Running Transaction Test Transaction Test Succeeded Running Transaction Warning: RPMDB altered outside of yum. Updating : sg3_utils-libs-1.28-5.el6.x86_64 1/3 Installing : sg3_utils-1.28-5.el6.x86_64 2/3 Cleanup : sg3_utils-libs-1.28-4.el6.x86_64 3/3 Verifying : sg3_utils-1.28-5.el6.x86_64 1/3 Verifying : sg3_utils-libs-1.28-5.el6.x86_64 2/3 Verifying : sg3_utils-libs-1.28-4.el6.x86_64 3/3 Installed: sg3_utils.x86_64 0:1.28-5.el6 Dependency Updated: sg3_utils-libs.x86_64 0:1.28-5.el6 Complete!\n\n \n\n### Ajout de disque sur une VM Centos\n\nVoici l’état avant l’ajout, nous avons un disque sda et des partitions LVM.\n\n[root@xxxx ~]# fdisk -l | grep Disque Disque /dev/sda: 17.2 Go, 17179869184 octets Disque /dev/mapper/VolGroupSystem-LogVol00Racine: 12.7 Go, 12675186688 octets Disque /dev/mapper/VolGroupSystem-LogVol01: 2143 Mo, 2143289344 octets Disque /dev/mapper/VolGroupLog-LogVol00Log: 2143 Mo, 2143289344 octets\n\nNous utilisons l’outil pour découvrir le disque nouvelle ajouté.\n\n[root@xxxx~]# rescan-scsi-bus.sh Host adapter 0 (mptspi) found. Host adapter 1 (ata_piix) found. Host adapter 2 (ata_piix) found. Scanning SCSI subsystem for new devices Scanning host 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 0 0 0 0 ... OLD: Host: scsi0 Channel: 00 Id: 00 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning for device 0 0 1 0 ... NEW: Host: scsi0 Channel: 00 Id: 01 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning for device 0 0 1 0 ... OLD: Host: scsi0 Channel: 00 Id: 01 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning host 1 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning host 2 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 2 0 0 0 ... OLD: Host: scsi2 Channel: 00 Id: 00 Lun: 00 Vendor: NECVMWar Model: VMware IDE CDR10 Rev: 1.00 Type: CD-ROM ANSI SCSI revision: 05 0 new device(s) found. 0 device(s) removed.\n\nEt voilà, le nouveau disque est reconnu !\n\n \n\n[root@sxxxx ~]# fdisk -l | grep Disque Disque /dev/sda: 17.2 Go, 17179869184 octets Disque /dev/mapper/VolGroupSystem-LogVol00Racine: 12.7 Go, 12675186688 octets Disque /dev/mapper/VolGroupSystem-LogVol01: 2143 Mo, 2143289344 octets Disque /dev/mapper/VolGroupLog-LogVol00Log: 2143 Mo, 2143289344 octets Disque /dev/sdb: 42.9 Go, 42949672960 octets\n\n \n\n \n\n \n\n\n","html":"<p>Il est toujours délicat d’ajouter de l’espace disque sur une machine de production et de pouvoir l’utiliser sans avoir a redémarrer cette dernière.  </p>\n\n<p>L’outil « rescan-scsi-bus », fourni par le paquet « sg3_utils » peut rendre bien des services pour se faire.</p>\n\n<p>[root@sxxxx~]# yum install sg3<em>utils Loaded plugins: fastestmirror, refresh-packagekit, security Loading mirror speeds from cached hostfile * base: centos.crazyfrogs.org * extras: centos.crazyfrogs.org * rpmforge: apt.sw.be * updates: centos.mirror.fr.planethoster.net Setting up Install Process Resolving Dependencies --> Running transaction check ---> Package sg3</em>utils.x86<em>64 0:1.28-5.el6 will be installed --> Processing Dependency: sg3</em>utils-libs = 1.28-5.el6 for package: sg3<em>utils-1.28-5.el6.x86</em>64 --> Running transaction check ---> Package sg3<em>utils-libs.x86</em>64 0:1.28-4.el6 will be updated ---> Package sg3<em>utils-libs.x86</em>64 0:1.28-5.el6 will be an update --> Finished Dependency Resolution Dependencies Resolved ========================================================================================================================================================================================================<mark>== Package Arch Version Repository Size </mark>========================================================================================================================================================================================================<mark> Installing: sg3<em>utils x86</em>64 1.28-5.el6 base 471 k Updating for dependencies: sg3<em>utils-libs x86</em>64 1.28-5.el6 base 51 k Transaction Summary </mark>========================================================================================================================================================================================================== Install 1 Package(s) Upgrade 1 Package(s) Total download size: 522 k Is this ok [y/N]: y Downloading Packages: (1/2): sg3<em>utils-1.28-5.el6.x86</em>64.rpm | 471 kB 00:01 (2/2): sg3<em>utils-libs-1.28-5.el6.x86</em>64.rpm | 51 kB 00:00 ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ Total 317 kB/s | 522 kB 00:01 Running rpm<em>check</em>debug Running Transaction Test Transaction Test Succeeded Running Transaction Warning: RPMDB altered outside of yum. Updating : sg3<em>utils-libs-1.28-5.el6.x86</em>64 1/3 Installing : sg3<em>utils-1.28-5.el6.x86</em>64 2/3 Cleanup : sg3<em>utils-libs-1.28-4.el6.x86</em>64 3/3 Verifying : sg3<em>utils-1.28-5.el6.x86</em>64 1/3 Verifying : sg3<em>utils-libs-1.28-5.el6.x86</em>64 2/3 Verifying : sg3<em>utils-libs-1.28-4.el6.x86</em>64 3/3 Installed: sg3<em>utils.x86</em>64 0:1.28-5.el6 Dependency Updated: sg3<em>utils-libs.x86</em>64 0:1.28-5.el6 Complete!</p>\n\n<h3 id=\"ajoutdedisquesurunevmcentos\">Ajout de disque sur une VM Centos</h3>\n\n<p>Voici l’état avant l’ajout, nous avons un disque sda et des partitions LVM.</p>\n\n<p>[root@xxxx ~]# fdisk -l | grep Disque Disque /dev/sda: 17.2 Go, 17179869184 octets Disque /dev/mapper/VolGroupSystem-LogVol00Racine: 12.7 Go, 12675186688 octets Disque /dev/mapper/VolGroupSystem-LogVol01: 2143 Mo, 2143289344 octets Disque /dev/mapper/VolGroupLog-LogVol00Log: 2143 Mo, 2143289344 octets</p>\n\n<p>Nous utilisons l’outil pour découvrir le disque nouvelle ajouté.</p>\n\n<p>[root@xxxx~]# rescan-scsi-bus.sh Host adapter 0 (mptspi) found. Host adapter 1 (ata<em>piix) found. Host adapter 2 (ata</em>piix) found. Scanning SCSI subsystem for new devices Scanning host 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 0 0 0 0 ... OLD: Host: scsi0 Channel: 00 Id: 00 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning for device 0 0 1 0 ... NEW: Host: scsi0 Channel: 00 Id: 01 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning for device 0 0 1 0 ... OLD: Host: scsi0 Channel: 00 Id: 01 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning host 1 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning host 2 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 2 0 0 0 ... OLD: Host: scsi2 Channel: 00 Id: 00 Lun: 00 Vendor: NECVMWar Model: VMware IDE CDR10 Rev: 1.00 Type: CD-ROM ANSI SCSI revision: 05 0 new device(s) found. 0 device(s) removed.</p>\n\n<p>Et voilà, le nouveau disque est reconnu !</p>\n\n<p>[root@sxxxx ~]# fdisk -l | grep Disque Disque /dev/sda: 17.2 Go, 17179869184 octets Disque /dev/mapper/VolGroupSystem-LogVol00Racine: 12.7 Go, 12675186688 octets Disque /dev/mapper/VolGroupSystem-LogVol01: 2143 Mo, 2143289344 octets Disque /dev/mapper/VolGroupLog-LogVol00Log: 2143 Mo, 2143289344 octets Disque /dev/sdb: 42.9 Go, 42949672960 octets</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-29T11:23:52.000Z","created_by":1,"updated_at":"2014-10-16T08:29:35.000Z","updated_by":1,"published_at":"2014-09-29T11:23:52.000Z","published_by":1},{"id":19,"uuid":"7444bdda-4270-4a8c-a014-83d396b27452","title":"[LVM] Les bases","slug":"lvm-les-bases","markdown":"\nVoici les bases de la manipulation des LVM sur Linux.\n\nVous trouverez dans cet articles les bases de cet outil.  \n  \n  \n\n### Ajout d’un PV, d’un VG et d’un LV.\n\nCréation d’un « Physical Volume « (PV)\n\n[root@sl-0-syslogint1 ~]# pvcreate /dev/sdb Writing physical volume data to disk \"/dev/sdb\" Physical volume \"/dev/sdb\" successfully created\n\n \n\nCréation d’un « Volum Group » (VG) sur ce PV\n\n[root@xxxx ~]# vgcreate vg_syslog /dev/sdb Volume group \"vg_syslog\" successfully created\n\nLe VG ainsi créé s’appelle « vg_syslog ».\n\n \n\nCréation d’un « Logical Volume » (LV) utilisant toute la place disponible dans ce VG\n\n[root@xxxx ~]# lvcreate -n lv_syslog -l 100%VG vg_syslog Logical volume \"lv_syslog\" created\n\nLe LV créé s’appelle « lv_syslog ».\n\n \n\nMaintenant, il ne reste plus qu’a créer un File System sur ce LV.\n\n<span style=\"text-decoration: underline;\">**Note : **</span>Tous les LV créés sont référencés dans le dossier /dev/mapper.\n\n[root@xxxx ~]# mkfs.ext4 /dev/mapper/vg_syslog-lv_syslog mke2fs 1.41.12 (17-May-2010) Étiquette de système de fichiers= Type de système d'exploitation : Linux Taille de bloc=4096 (log=2) Taille de fragment=4096 (log=2) « Stride » = 0 blocs, « Stripe width » = 0 blocs 2621440 i-noeuds, 10484736 blocs 524236 blocs (5.00%) réservés pour le super utilisateur Premier bloc de données=0 Nombre maximum de blocs du système de fichiers=4294967296 320 groupes de blocs 32768 blocs par groupe, 32768 fragments par groupe 8192 i-noeuds par groupe Superblocs de secours stockés sur les blocs : 32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, 4096000, 7962624 Écriture des tables d'i-noeuds : complété Création du journal (32768 blocs) : complété Écriture des superblocs et de l'information de comptabilité du système de fichiers : complété Le système de fichiers sera automatiquement vérifié tous les 29 montages ou après 180 jours, selon la première éventualité. Utiliser tune2fs -c ou -i pour écraser la valeur.\n\n \n\n \n\n\n","html":"<p>Voici les bases de la manipulation des LVM sur Linux.</p>\n\n<p>Vous trouverez dans cet articles les bases de cet outil.  </p>\n\n<h3 id=\"ajoutdunpvdunvgetdunlv\">Ajout d’un PV, d’un VG et d’un LV.</h3>\n\n<p>Création d’un « Physical Volume « (PV)</p>\n\n<p>[root@sl-0-syslogint1 ~]# pvcreate /dev/sdb Writing physical volume data to disk \"/dev/sdb\" Physical volume \"/dev/sdb\" successfully created</p>\n\n<p>Création d’un « Volum Group » (VG) sur ce PV</p>\n\n<p>[root@xxxx ~]# vgcreate vg<em>syslog /dev/sdb Volume group \"vg</em>syslog\" successfully created</p>\n\n<p>Le VG ainsi créé s’appelle « vg_syslog ».</p>\n\n<p>Création d’un « Logical Volume » (LV) utilisant toute la place disponible dans ce VG</p>\n\n<p>[root@xxxx ~]# lvcreate -n lv<em>syslog -l 100%VG vg</em>syslog Logical volume \"lv_syslog\" created</p>\n\n<p>Le LV créé s’appelle « lv_syslog ».</p>\n\n<p>Maintenant, il ne reste plus qu’a créer un File System sur ce LV.</p>\n\n<p><span style=\"text-decoration: underline;\"><em>*Note : *</em></span>Tous les LV créés sont référencés dans le dossier /dev/mapper.</p>\n\n<p>[root@xxxx ~]# mkfs.ext4 /dev/mapper/vg<em>syslog-lv</em>syslog mke2fs 1.41.12 (17-May-2010) Étiquette de système de fichiers= Type de système d'exploitation : Linux Taille de bloc=4096 (log=2) Taille de fragment=4096 (log=2) « Stride » = 0 blocs, « Stripe width » = 0 blocs 2621440 i-noeuds, 10484736 blocs 524236 blocs (5.00%) réservés pour le super utilisateur Premier bloc de données=0 Nombre maximum de blocs du système de fichiers=4294967296 320 groupes de blocs 32768 blocs par groupe, 32768 fragments par groupe 8192 i-noeuds par groupe Superblocs de secours stockés sur les blocs : 32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, 4096000, 7962624 Écriture des tables d'i-noeuds : complété Création du journal (32768 blocs) : complété Écriture des superblocs et de l'information de comptabilité du système de fichiers : complété Le système de fichiers sera automatiquement vérifié tous les 29 montages ou après 180 jours, selon la première éventualité. Utiliser tune2fs -c ou -i pour écraser la valeur.</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-29T14:41:14.000Z","created_by":1,"updated_at":"2014-10-16T08:29:19.000Z","updated_by":1,"published_at":"2014-09-29T14:41:14.000Z","published_by":1},{"id":20,"uuid":"75f02781-bb5e-4bcf-b00d-4d597db01af3","title":"[GoPro] La version 4 des caméras sportives est disponible !","slug":"gopro-la-version-4-des-cameras-sportives-est-disponible","markdown":"\nDepuis plusieurs jours des bruits filtraient sur le Net et aujourd’hui le constructeur a envoyé un mail annonçant la disponibilité des caméras GoPro 4 à partir du 5 Octobre.  \n  \n  \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_115\" style=\"width: 310px\">[![Le mail de GoPro](https://techan.fr/images/2014/09/gopro4_sortie-300x229.png)](https://techan.fr/images/2014/09/gopro4_sortie.png)Le mail de GoPro\n\n</div> \n\nLe constructeur qui mise sur la communauté pour promouvoir ses produits, vous pouvez par exemple envoyer vos vidéos que son service de communication pourra utiliser dans une de ses publicités, a minutieusement organisé des fuites quant à la sortie de la nouvelle génération de ses caméras.\n\n \n\nCette stratégie se montrera-t-elle payante ? Seul l’avenir nous le dira !\n\n \n\nEn tout cas, cette nouvelle version signe l’arrêt de mort de la gamme la plus bon marché de ce produit, la version « White » est abandonnée.\n\nVous n’aurez donc le choix qu’entre la version Silver (379€) et la version Black (479€).\n\n \n\nLes nouveautés sont l’inclusion de l’écran LCD directement dans la caméra, il s’agissait jusque là d’une option. Il devient de plus tactile.\n\n \n\nComme à chaque mise à jour de leur caméras, GoPro améliore la qualité des capteurs qui peuvent enregistrer en 4K avec cette version. Le nombre d’images par secondes est également plus important, à vos slow-motions !!\n\nDe nombreuses autres améliorations ont été apportées, par exemple, le constructeur nous promet de meilleurs rendus la nuit grâce à « Night Photo » et « Night Lapse ».\n\n \n\nLe constructeur ajoute une caméra plus bas de gamme à son catalogue, mais nettement moins onéreuse : la « Hero » coutera 124€.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_117\" style=\"width: 310px\">[![La nouvelle gamme de caméras GoPro](https://techan.fr/images/2014/09/gopro4_nouvelle_gamme-300x120.png)](https://techan.fr/images/2014/09/gopro4_nouvelle_gamme.png)La nouvelle gamme de caméras GoPro\n\n</div> \n\n \n\nQuelques minutes après l’annonce des nouveaux modèle le site du constructeur est mort.\n\n \n\n\n","html":"<p>Depuis plusieurs jours des bruits filtraient sur le Net et aujourd’hui le constructeur a envoyé un mail annonçant la disponibilité des caméras GoPro 4 à partir du 5 Octobre.  </p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_115\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/09/gopro4_sortie.png\"><img src=\"https://techan.fr/images/2014/09/gopro4_sortie-300x229.png\" alt=\"Le mail de GoPro\" title=\"\" /></a>Le mail de GoPro</p>\n\n<p></div> </p>\n\n<p>Le constructeur qui mise sur la communauté pour promouvoir ses produits, vous pouvez par exemple envoyer vos vidéos que son service de communication pourra utiliser dans une de ses publicités, a minutieusement organisé des fuites quant à la sortie de la nouvelle génération de ses caméras.</p>\n\n<p>Cette stratégie se montrera-t-elle payante ? Seul l’avenir nous le dira !</p>\n\n<p>En tout cas, cette nouvelle version signe l’arrêt de mort de la gamme la plus bon marché de ce produit, la version « White » est abandonnée.</p>\n\n<p>Vous n’aurez donc le choix qu’entre la version Silver (379€) et la version Black (479€).</p>\n\n<p>Les nouveautés sont l’inclusion de l’écran LCD directement dans la caméra, il s’agissait jusque là d’une option. Il devient de plus tactile.</p>\n\n<p>Comme à chaque mise à jour de leur caméras, GoPro améliore la qualité des capteurs qui peuvent enregistrer en 4K avec cette version. Le nombre d’images par secondes est également plus important, à vos slow-motions !!</p>\n\n<p>De nombreuses autres améliorations ont été apportées, par exemple, le constructeur nous promet de meilleurs rendus la nuit grâce à « Night Photo » et « Night Lapse ».</p>\n\n<p>Le constructeur ajoute une caméra plus bas de gamme à son catalogue, mais nettement moins onéreuse : la « Hero » coutera 124€.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_117\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/09/gopro4_nouvelle_gamme.png\"><img src=\"https://techan.fr/images/2014/09/gopro4_nouvelle_gamme-300x120.png\" alt=\"La nouvelle gamme de caméras GoPro\" title=\"\" /></a>La nouvelle gamme de caméras GoPro</p>\n\n<p></div> </p>\n\n<p>Quelques minutes après l’annonce des nouveaux modèle le site du constructeur est mort.</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-29T16:18:28.000Z","created_by":1,"updated_at":"2014-09-29T16:37:45.000Z","updated_by":1,"published_at":"2014-09-29T16:18:28.000Z","published_by":1},{"id":21,"uuid":"c1c926ce-6c81-4cea-b548-38894274a0ac","title":"La grande folie du Loto Bouse","slug":"la-grande-folie-du-loto-bouse","markdown":"\nAprès la folie des lotos bingo qui font grand bruit en ce moment avec les affaires qu’ils causent, notamment la possible condamnation de cette mamie dans le nord de la France, voici un nouveau jeu pour les amateurs de paris, le LOTO BOUSE ! On peut notamment voir [un article sur le sujet dans la Charent Libre ce matin](http://www.charentelibre.fr/2014/08/27/roumazieres-prepare-le-1er-loto-bouse-de-charente,1911246.php). D’après le Progrès, [le premier Loto Bouse de la région Rhône Alpes](http://www.leprogres.fr/rhone/2014/09/04/le-premier-loto-bouse-de-la-region-aura-lieu-dimanche-a-monsols) aurait eu lieu le dimanche 7 septembre dernier.\n\nCe phénomène gagne nos campagnes et met à contribution de paisibles herbivores qui vont, grâce à leurs bouses désigner les heureux vainqueurs.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_133\" style=\"width: 310px\">[![Photo : www.free2use-it.com](https://techan.fr/images/2014/09/DSCF0093-300x225.jpg)](https://techan.fr/images/2014/09/DSCF0093.jpg)Photo : [www.free2use-it.com](www.free2use-it.com)\n\n</div> \n\nLe principe est de délimiter des cases égales dans une pâture et d’y amener quelques vaches, chaque case est numérotées, ce sont ces numéros que les joueurs achètent. Les vaches mangent juste avant le jeu, et sont lâchées dans les cases. Le joueur qui détient le numéro de la case ou la première vache va se laisser aller gagne le 4èm lot, ainsi le 1er lot sera remporté par la personne qui a le numéro ou la dernière vache va se soulager.\n\n \n\nCe jeu est bien entendu encadré par de très sérieux commissaires qui auront la lourde tâche de départager les gagnant en case de bouse sur des lignes de cases. De très sérieux règlements sont disponibles sur Internet si l’envie vous prend d’organiser ce type de manifestation, attention toute fois à la règlementation ","html":"<p>Après la folie des lotos bingo qui font grand bruit en ce moment avec les affaires qu’ils causent, notamment la possible condamnation de cette mamie dans le nord de la France, voici un nouveau jeu pour les amateurs de paris, le LOTO BOUSE ! On peut notamment voir <a href=\"http://www.charentelibre.fr/2014/08/27/roumazieres-prepare-le-1er-loto-bouse-de-charente,1911246.php\">un article sur le sujet dans la Charent Libre ce matin</a>. D’après le Progrès, <a href=\"http://www.leprogres.fr/rhone/2014/09/04/le-premier-loto-bouse-de-la-region-aura-lieu-dimanche-a-monsols\">le premier Loto Bouse de la région Rhône Alpes</a> aurait eu lieu le dimanche 7 septembre dernier.</p>\n\n<p>Ce phénomène gagne nos campagnes et met à contribution de paisibles herbivores qui vont, grâce à leurs bouses désigner les heureux vainqueurs.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_133\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/09/DSCF0093.jpg\"><img src=\"https://techan.fr/images/2014/09/DSCF0093-300x225.jpg\" alt=\"Photo : www.free2use-it.com\" title=\"\" /></a>Photo : <a href=\"www.free2use-it.com\">www.free2use-it.com</a></p>\n\n<p></div> </p>\n\n<p>Le principe est de délimiter des cases égales dans une pâture et d’y amener quelques vaches, chaque case est numérotées, ce sont ces numéros que les joueurs achètent. Les vaches mangent juste avant le jeu, et sont lâchées dans les cases. Le joueur qui détient le numéro de la case ou la première vache va se laisser aller gagne le 4èm lot, ainsi le 1er lot sera remporté par la personne qui a le numéro ou la dernière vache va se soulager.</p>\n\n<p>Ce jeu est bien entendu encadré par de très sérieux commissaires qui auront la lourde tâche de départager les gagnant en case de bouse sur des lignes de cases. De très sérieux règlements sont disponibles sur Internet si l’envie vous prend d’organiser ce type de manifestation, attention toute fois à la règlementation ","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-30T09:27:21.000Z","created_by":1,"updated_at":"2014-09-30T09:27:21.000Z","updated_by":1,"published_at":"2014-09-30T09:27:21.000Z","published_by":1},{"id":22,"uuid":"cf4d056a-b3cd-477a-ba20-d42b32fb278e","title":"[MySQL] Importer un énorme fichier de dump","slug":"mysql-importer-un-enorme-fichier-de-dump","markdown":"\nMySQL a par défaut des limitations en terme de taille maximales de paquets, dans certains cas, il est nécessaire de les augmenter pour pouvoir importer de très gros fichiers de dump.  \n  \n Dans notre exemple, le fichier fait presque 1,5 Go.\n\n[root@xxxx mysql]# du -sh dump_databaseName.sql 1,3G dump_databaseName.sql\n\n \n\nVoici deux commandes a passer dans une commande MySQL afin d’augmenter les seuils :\n\n[root@xxxx mysql]# mysql -u root -p Enter password: Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 323 Server version: 5.1.73 Source distribution Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. mysql> set global net_buffer_length=10000000000000; Query OK, 0 rows affected, 2 warnings (0.00 sec) mysql> set global max_allowed_packet=1000000000000000000; Query OK, 0 rows affected, 1 warning (0.00 sec) mysql> exit Bye\n\nCeci modifie temporairement les seuils, les valeurs originales seront restaurées au prochain redémarrage du serveur MySQL.\n\n \n\nSi vous voulez gardez ces valeurs de manière permanente, il faut les renseigner dans votre fichier my.cnf.\n\n \n\nEnsuite, on peut importer le dump en passant un option supplémentaire au client MySQL.\n\n[root@xxxx mysql]# mysql --max_allowed_packet=2048M -u root -pPassword -D databaseName < dump_databaseName.sql\n\n \n\n \n\n\n","html":"<p>MySQL a par défaut des limitations en terme de taille maximales de paquets, dans certains cas, il est nécessaire de les augmenter pour pouvoir importer de très gros fichiers de dump.  </p>\n\n<p>Dans notre exemple, le fichier fait presque 1,5 Go.</p>\n\n<p>[root@xxxx mysql]# du -sh dump<em>databaseName.sql 1,3G dump</em>databaseName.sql</p>\n\n<p>Voici deux commandes a passer dans une commande MySQL afin d’augmenter les seuils :</p>\n\n<p>[root@xxxx mysql]# mysql -u root -p Enter password: Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 323 Server version: 5.1.73 Source distribution Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. mysql> set global net<em>buffer</em>length=10000000000000; Query OK, 0 rows affected, 2 warnings (0.00 sec) mysql> set global max<em>allowed</em>packet=1000000000000000000; Query OK, 0 rows affected, 1 warning (0.00 sec) mysql> exit Bye</p>\n\n<p>Ceci modifie temporairement les seuils, les valeurs originales seront restaurées au prochain redémarrage du serveur MySQL.</p>\n\n<p>Si vous voulez gardez ces valeurs de manière permanente, il faut les renseigner dans votre fichier my.cnf.</p>\n\n<p>Ensuite, on peut importer le dump en passant un option supplémentaire au client MySQL.</p>\n\n<p>[root@xxxx mysql]# mysql --max<em>allowed</em>packet=2048M -u root -pPassword -D databaseName &lt; dump_databaseName.sql</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-09-30T11:10:20.000Z","created_by":1,"updated_at":"2014-10-16T08:28:59.000Z","updated_by":1,"published_at":"2014-09-30T11:10:20.000Z","published_by":1},{"id":23,"uuid":"5d9ef912-435b-4f82-a3c5-4109137e049c","title":"[iPhone 6] La photo \"mystérieuse\"","slug":"iphone-6-la-photo-mysterieuse","markdown":"\nSur Reddit, un utilisateur s’étonne d’avoir trouvé, dans son iPhone 6 tout neuf, une photo daté de 2012, faite avec un iPhone 4, qu’il n’aurait pas prise. Deplus en utilisant une application pouvant lire dans les métadata de la photo, il a découvert qu’elle avait été prise  dans un endroit ou il n’aurait jamais mis les pieds.\n\n \n\nA partir de là, les paris sont ouvert … iPhone (mal) reconditionné ? Bullshit ? Un coup d’Alien loufoque ? La réponse D ?\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_142\" style=\"width: 903px\">[![reddit_iphone_6_photo_bizarre](https://techan.fr/images/2014/10/reddit_iphone_6_photo_bizarre.png)](https://techan.fr/images/2014/10/reddit_iphone_6_photo_bizarre.png)[Voir sur Reddit](http://www.reddit.com/r/iphone/comments/2hscgb/iphone_6_came_with_mysterious_picture/)\n\n</div> \n\nEn tout cas, le fil aura le mérite d’en dérider plus d’un en lisant les commentaires ","html":"<p>Sur Reddit, un utilisateur s’étonne d’avoir trouvé, dans son iPhone 6 tout neuf, une photo daté de 2012, faite avec un iPhone 4, qu’il n’aurait pas prise. Deplus en utilisant une application pouvant lire dans les métadata de la photo, il a découvert qu’elle avait été prise  dans un endroit ou il n’aurait jamais mis les pieds.</p>\n\n<p>A partir de là, les paris sont ouvert … iPhone (mal) reconditionné ? Bullshit ? Un coup d’Alien loufoque ? La réponse D ?</p>\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_142\" style=\"width: 903px\">[![reddit_iphone_6_photo_bizarre](https://techan.fr/images/2014/10/reddit_iphone_6_photo_bizarre.png)](https://techan.fr/images/2014/10/reddit_iphone_6_photo_bizarre.png)[Voir sur Reddit](http://www.reddit.com/r/iphone/comments/2hscgb/iphone_6_came_with_mysterious_picture/)\n\n</div> \n\nEn tout cas, le fil aura le mérite d’en dérider plus d’un en lisant les commentaires ","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-01T16:16:40.000Z","created_by":1,"updated_at":"2014-11-18T10:57:37.000Z","updated_by":1,"published_at":"2014-10-01T16:16:40.000Z","published_by":1},{"id":24,"uuid":"818160f4-312b-4156-99de-c4d482c34a74","title":"[App] Investigator, une app qui vous en dit plus sur vos photos !","slug":"investigator-une-app-qui-vous-en-dit-plus-sur-vos-photos","markdown":"\n<div>Après avoir découvert [la mésaventure d’un malheureux acquéreur d’un iPhone 6](https://techan.fr/iphone-6-la-photo-mysterieuse/ \"[iPhone 6] La photo “mystérieuse”\"), j’ai mis la main sur une app qui peut rendre quelques services.</div><div></div><div></div><div>Il s’agit d’[Investigator](https://itunes.apple.com/us/app/photo-investigator-view-edit/id571574618?mt=8#), une app gratuite dans laquelle vous charger une photo, l’application vous permet ensuite de lire les données EXIF. Ce sont des données incluses dans la photo elle même, et qui peuvent renfermer une mine d’informations, comme par exemple le modèle de l’appareil qui l’a prise, l’exposition, les coordonnées GPS de l’endroit où elle a été prise.</div><div></div><div><div class=\"wp-caption aligncenter\" id=\"attachment_160\" style=\"width: 216px\">[![Photo Investigator](https://techan.fr/images/2014/10/photo_investigator1-206x300.png)](https://techan.fr/images/2014/10/photo_investigator1.png)Photo Investigator\n\n</div></div><div></div><div></div><div>Un exemple avec cette photo :</div><div></div><div></div><div> [![image1](https://techan.fr/images/2014/10/image11-225x300.jpg)](https://techan.fr/images/2014/10/image11.jpg)</div><div></div><div>Il suffit de la charger dans l’application.</div><div></div><div></div><div>[![image2](https://techan.fr/images/2014/10/image21-168x300.png)](https://techan.fr/images/2014/10/image21.png)</div><div></div><div>Ensuite, cliquer sur « Metadata » en bas, puis « View ».</div><div></div><div></div><div>[![image3](https://techan.fr/images/2014/10/image31-168x300.png)](https://techan.fr/images/2014/10/image31.png)</div><div></div><div>On a alors accès aux fameuses informations.</div><div></div><div></div><div>[![image4](https://techan.fr/images/2014/10/image41-168x300.png)](https://techan.fr/images/2014/10/image41.png)</div><div></div><div>On peut voir ici que la photo a été prise avec l’appareil photo de derrière d’un iPhone 6.</div><div></div><div></div><div>Cette application utilise les nouveautés d’iOS 8 en proposant une extension qui permet, une fois activée d’accéder directement aux données EXIF sans passer de nouveau par l’application.</div><div></div><div>Il fait pour cela activer l’extension. Pour cela, rendez vous dans l’application Photos et tapez sur le bouton  :![image5.PNG](https://techan.fr/images/2014/10/image5.png)</div><div></div><div>Taper sur l’icône « Autre ».</div><div></div><div></div><div>[![image6](https://techan.fr/images/2014/10/image61-168x300.png)](https://techan.fr/images/2014/10/image61.png)</div><div></div><div>Activez enfin « Metadata » dans le menu qui apparaît.</div><div></div><div></div><div>[![image8.png](https://techan.fr/images/2014/10/image8.png-300x258.jpg)](https://techan.fr/images/2014/10/image8.png.jpg)</div><div></div><div>Maintenant lorsque vous parcourrez vos photos, l’option « Metadata » sera directement disponible.</div><div></div><div></div><div>[![image9.png](https://techan.fr/images/2014/10/image9.png-300x96.jpg)](https://techan.fr/images/2014/10/image9.png.jpg)</div><div></div><div>Vous donnant accès à une page assez bien faite, il faut l’avouer.</div><div></div><div> [![image10](https://techan.fr/images/2014/10/image101-168x300.png)](https://techan.fr/images/2014/10/image101.png)</div><div></div><div></div>\n","html":"<div>Après avoir découvert [la mésaventure d’un malheureux acquéreur d’un iPhone 6](https://techan.fr/iphone-6-la-photo-mysterieuse/ \"[iPhone 6] La photo “mystérieuse”\"), j’ai mis la main sur une app qui peut rendre quelques services.</div><div></div><div></div><div>Il s’agit d’[Investigator](https://itunes.apple.com/us/app/photo-investigator-view-edit/id571574618?mt=8#), une app gratuite dans laquelle vous charger une photo, l’application vous permet ensuite de lire les données EXIF. Ce sont des données incluses dans la photo elle même, et qui peuvent renfermer une mine d’informations, comme par exemple le modèle de l’appareil qui l’a prise, l’exposition, les coordonnées GPS de l’endroit où elle a été prise.</div><div></div><div><div class=\"wp-caption aligncenter\" id=\"attachment_160\" style=\"width: 216px\">[![Photo Investigator](https://techan.fr/images/2014/10/photo_investigator1-206x300.png)](https://techan.fr/images/2014/10/photo_investigator1.png)Photo Investigator\n\n</div></div><div></div><div></div><div>Un exemple avec cette photo :</div><div></div><div></div><div> [![image1](https://techan.fr/images/2014/10/image11-225x300.jpg)](https://techan.fr/images/2014/10/image11.jpg)</div><div></div><div>Il suffit de la charger dans l’application.</div><div></div><div></div><div>[![image2](https://techan.fr/images/2014/10/image21-168x300.png)](https://techan.fr/images/2014/10/image21.png)</div><div></div><div>Ensuite, cliquer sur « Metadata » en bas, puis « View ».</div><div></div><div></div><div>[![image3](https://techan.fr/images/2014/10/image31-168x300.png)](https://techan.fr/images/2014/10/image31.png)</div><div></div><div>On a alors accès aux fameuses informations.</div><div></div><div></div><div>[![image4](https://techan.fr/images/2014/10/image41-168x300.png)](https://techan.fr/images/2014/10/image41.png)</div><div></div><div>On peut voir ici que la photo a été prise avec l’appareil photo de derrière d’un iPhone 6.</div><div></div><div></div><div>Cette application utilise les nouveautés d’iOS 8 en proposant une extension qui permet, une fois activée d’accéder directement aux données EXIF sans passer de nouveau par l’application.</div><div></div><div>Il fait pour cela activer l’extension. Pour cela, rendez vous dans l’application Photos et tapez sur le bouton  :![image5.PNG](https://techan.fr/images/2014/10/image5.png)</div><div></div><div>Taper sur l’icône « Autre ».</div><div></div><div></div><div>[![image6](https://techan.fr/images/2014/10/image61-168x300.png)](https://techan.fr/images/2014/10/image61.png)</div><div></div><div>Activez enfin « Metadata » dans le menu qui apparaît.</div><div></div><div></div><div>[![image8.png](https://techan.fr/images/2014/10/image8.png-300x258.jpg)](https://techan.fr/images/2014/10/image8.png.jpg)</div><div></div><div>Maintenant lorsque vous parcourrez vos photos, l’option « Metadata » sera directement disponible.</div><div></div><div></div><div>[![image9.png](https://techan.fr/images/2014/10/image9.png-300x96.jpg)](https://techan.fr/images/2014/10/image9.png.jpg)</div><div></div><div>Vous donnant accès à une page assez bien faite, il faut l’avouer.</div><div></div><div> [![image10](https://techan.fr/images/2014/10/image101-168x300.png)](https://techan.fr/images/2014/10/image101.png)</div><div></div><div></div>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-01T18:53:31.000Z","created_by":1,"updated_at":"2014-11-18T10:57:22.000Z","updated_by":1,"published_at":"2014-10-01T18:53:31.000Z","published_by":1},{"id":25,"uuid":"5ff768a2-e960-42a7-bc27-1b6a0123caad","title":"[MySQL] Des chiffres sur quelques bases les plus sollicitées du monde","slug":"des-chiffres-sur-quelques-bases-les-plus-sollicitees-du-monde","markdown":"\n![](https://pbs.twimg.com/profile_images/1240079072/logo-mysql-170x170.png)A l’occasion de l’Oracle Open World 2014, MySQL donne quelques exemples sur quelques unes bases les plus sollicitées du monde. Parmi les sociétés citées on retrouve King (le studio qui édite Candy Crush), Facebook, Twitter, [Booking.com](http://Booking.com) et Dropbox.  \n On apprend que le studio King utilise MySQL et pas qu’un peu ! Les chiffres donnés par MySQL sont effarant !\n\n> Candy Crush: 849 million game plays per day, all served by MySQL. [#MySQLCentral](https://twitter.com/hashtag/MySQLCentral?src=hash) [#oow14](https://twitter.com/hashtag/oow14?src=hash)\n> \n> — MySQL (@MySQL) [October 1, 2014](https://twitter.com/MySQL/status/517385822442512384)\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>    Les joueurs créés 849 millions de partie par jour, toutes hébergées sur MySQL. \n\n> Over 50TB of data for the user shards, and 500K queries per sec. @ King. [#MySQLCentral](https://twitter.com/hashtag/MySQLCentral?src=hash) — MySQL (@MySQL) [October 1, 2014](https://twitter.com/MySQL/status/517386960617230337)\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>  \n 50 To pour de données utilisateurs et 500 000 requêtes par seconde.  \n On apprend également que Twitter utilise MySQL pour absorber les grosses charges.\n\n> [#MySQL](https://twitter.com/hashtag/MySQL?src=hash) helps [@Twitter](https://twitter.com/twitter) during peak times (i.e. Ellen’s [#selfie](https://twitter.com/hashtag/selfie?src=hash) tweet w/ a record 143,199 tweets per second!) [#MySQLCentral](https://twitter.com/hashtag/MySQLCentral?src=hash) @ [#OOW14](https://twitter.com/hashtag/OOW14?src=hash)\n> \n> — MySQL (@MySQL) [September 30, 2014](https://twitter.com/MySQL/status/516748803685093376)\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>  \n MySQL aide Twitter lors des périodes de forte charge (comme pour le tweet sur le selfie d’Ellen qui a généré un record de 143 199 tweets par seconde)\n\n\n","html":"<p><img src=\"https://pbs.twimg.com/profile_images/1240079072/logo-mysql-170x170.png\" alt=\"\" title=\"\" />A l’occasion de l’Oracle Open World 2014, MySQL donne quelques exemples sur quelques unes bases les plus sollicitées du monde. Parmi les sociétés citées on retrouve King (le studio qui édite Candy Crush), Facebook, Twitter, <a href=\"http://Booking.com\">Booking.com</a> et Dropbox. <br />\n On apprend que le studio King utilise MySQL et pas qu’un peu ! Les chiffres donnés par MySQL sont effarant !</p>\n\n<blockquote>\n  <p>Candy Crush: 849 million game plays per day, all served by MySQL. <a href=\"https://twitter.com/hashtag/MySQLCentral?src=hash\">#MySQLCentral</a> <a href=\"https://twitter.com/hashtag/oow14?src=hash\">#oow14</a></p>\n  \n  <p>— MySQL (@MySQL) <a href=\"https://twitter.com/MySQL/status/517385822442512384\">October 1, 2014</a></p>\n</blockquote>\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>    Les joueurs créés 849 millions de partie par jour, toutes hébergées sur MySQL. \n\n> Over 50TB of data for the user shards, and 500K queries per sec. @ King. [#MySQLCentral](https://twitter.com/hashtag/MySQLCentral?src=hash) — MySQL (@MySQL) [October 1, 2014](https://twitter.com/MySQL/status/517386960617230337)\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>  \n\n<p>50 To pour de données utilisateurs et 500 000 requêtes par seconde. <br />\n On apprend également que Twitter utilise MySQL pour absorber les grosses charges.</p>\n\n<blockquote>\n  <p><a href=\"https://twitter.com/hashtag/MySQL?src=hash\">#MySQL</a> helps <a href=\"https://twitter.com/twitter\">@Twitter</a> during peak times (i.e. Ellen’s <a href=\"https://twitter.com/hashtag/selfie?src=hash\">#selfie</a> tweet w/ a record 143,199 tweets per second!) <a href=\"https://twitter.com/hashtag/MySQLCentral?src=hash\">#MySQLCentral</a> @ <a href=\"https://twitter.com/hashtag/OOW14?src=hash\">#OOW14</a></p>\n  \n  <p>— MySQL (@MySQL) <a href=\"https://twitter.com/MySQL/status/516748803685093376\">September 30, 2014</a></p>\n</blockquote>\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>  \n\n<p>MySQL aide Twitter lors des périodes de forte charge (comme pour le tweet sur le selfie d’Ellen qui a généré un record de 143 199 tweets par seconde)</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-01T21:57:41.000Z","created_by":1,"updated_at":"2014-10-02T08:29:17.000Z","updated_by":1,"published_at":"2014-10-01T21:57:41.000Z","published_by":1},{"id":26,"uuid":"81166a4a-a5f2-4200-9ecb-3e459b51c7cd","title":"[Linux] Envoyer des logs sur un serveur central avec rsyslog","slug":"linux-envoyer-des-logs-sur-un-serveur-central-avec-rsyslog","markdown":"\nNous allons voir comment envoyer des logs sur un serveur distant avec rsyslog. Cette manipulation est très intéressante car elle permet d’avoir tous les logs dans un même endroit et de pouvoir les analyser ensuite avec des programme supplémentaire comme Graylog2 et/ou Logstash.  \n  \n  \n\nTout d’abord, sur le serveur qui va recevoir les logs, il est nécessaire de configurer le rsyslog local pour qu’il écoute sur le réseau. Le port « classique » pour cela est 514 en TCP et en UDP.\n\n \n\n### Sur le serveur de logs\n\n \n\nCette configuration va se trouver dans le fichier /etc/rsyslog.conf sur RedHat/Centos.\n\nDécommentez les lignes suivantes :\n\n# Provides UDP syslog reception $ModLoad imudp $UDPServerRun 514 # Provides TCP syslog reception $ModLoad imtcp $InputTCPServerRun 514\n\n \n\nNous allons demander à rsyslog de stocker les logs dans un dossier que le classique /var/log.\n\nPour cela, nous créons un template et nous redirigeons tous les messages reçus par rsyslog dans ce template :\n\n#### RULES #### $template TmplAuth, \"/data/syslog/%HOSTNAME%/%PROGRAMNAME%.log\" # Log all kernel messages to the console. # Logging much else clutters up the screen. #kern.* /dev/console # Log anything (except mail) of level info or higher. # Don't log private authentication messages! *.info;mail.none;authpriv.none;cron.none ?TmplAuth # The authpriv file has restricted access. authpriv.* ?TmplAuth # Log all the mail messages in one place. mail.* ?TmplAuth # Log cron stuff cron.* ?TmplAuth # Everybody gets emergency messages *.emerg ?TmplAuth # Save news errors of level crit and higher in a special file. uucp,news.crit ?TmplAuth # Save boot messages also to boot.log local7.* ?TmplAuth authpriv.* ?TmplAuth *.info,mail.none,authpriv.none,cron.none ?TmplMsg local1.*,local2.*,local3.*,local4.*,local5.*,local6.*, local7.* ?TmplAuth\n\n \n\nTous les logs seront maintenant écrit dans le dossier /data/syslog/[hostnamede la machine émettrice]/[nom du programme qui envoie le log].log\n\n \n\n### Sur les machines émettrices\n\nLa configuration est également a réaliser dans le fichier /etc/rsyslog.conf\n\nAjouter à la fin du fichier :\n\n$WorkDirectory /var/lib/rsyslog $ActionQueueFileName fwdRule1 $ActionQueueMaxDiskSpace 2g $ActionQueueSaveOnShutdown on $ActionQueueType LinkedList $ActionResumeRetryCount -1 *.* @ip.du.serveur.rsyslog\n\n \n\n \n\nEt voilà, un petit rester du service rsyslog sur chaque machine et le tour est joué !\n\n \n\n\n","html":"<p>Nous allons voir comment envoyer des logs sur un serveur distant avec rsyslog. Cette manipulation est très intéressante car elle permet d’avoir tous les logs dans un même endroit et de pouvoir les analyser ensuite avec des programme supplémentaire comme Graylog2 et/ou Logstash.  </p>\n\n<p>Tout d’abord, sur le serveur qui va recevoir les logs, il est nécessaire de configurer le rsyslog local pour qu’il écoute sur le réseau. Le port « classique » pour cela est 514 en TCP et en UDP.</p>\n\n<h3 id=\"surleserveurdelogs\">Sur le serveur de logs</h3>\n\n<p>Cette configuration va se trouver dans le fichier /etc/rsyslog.conf sur RedHat/Centos.</p>\n\n<p>Décommentez les lignes suivantes :</p>\n\n<h1 id=\"providesudpsyslogreceptiondmodloadimudpdudpserverrun514providestcpsyslogreceptiondmodloadimtcpdinputtcpserverrun514\">Provides UDP syslog reception $ModLoad imudp $UDPServerRun 514 # Provides TCP syslog reception $ModLoad imtcp $InputTCPServerRun 514</h1>\n\n<p>Nous allons demander à rsyslog de stocker les logs dans un dossier que le classique /var/log.</p>\n\n<p>Pour cela, nous créons un template et nous redirigeons tous les messages reçus par rsyslog dans ce template :</p>\n\n<h4 id=\"rulesdtemplatetmplauthdatasysloghostnameprogramnameloglogallkernelmessagestotheconsoleloggingmuchelsecluttersupthescreenkerndevconsoleloganythingexceptmailoflevelinfoorhigherdontlogprivateauthenticationmessagesinfomailnoneauthprivnonecronnonetmplauththeauthprivfilehasrestrictedaccessauthprivtmplauthlogallthemailmessagesinoneplacemailtmplauthlogcronstuffcrontmplautheverybodygetsemergencymessagesemergtmplauthsavenewserrorsoflevelcritandhigherinaspecialfileuucpnewscrittmplauthsavebootmessagesalsotobootloglocal7tmplauthauthprivtmplauthinfomailnoneauthprivnonecronnonetmplmsglocal1local2local3local4local5local6local7tmplauth\">RULES #### $template TmplAuth, \"/data/syslog/%HOSTNAME%/%PROGRAMNAME%.log\" # Log all kernel messages to the console. # Logging much else clutters up the screen. #kern.* /dev/console # Log anything (except mail) of level info or higher. # Don't log private authentication messages! <em>.info;mail.none;authpriv.none;cron.none ?TmplAuth # The authpriv file has restricted access. authpriv.</em> ?TmplAuth # Log all the mail messages in one place. mail.* ?TmplAuth # Log cron stuff cron.* ?TmplAuth # Everybody gets emergency messages <em>.emerg ?TmplAuth # Save news errors of level crit and higher in a special file. uucp,news.crit ?TmplAuth # Save boot messages also to boot.log local7.</em> ?TmplAuth authpriv.* ?TmplAuth <em>.info,mail.none,authpriv.none,cron.none ?TmplMsg local1.</em>,local2.<em>,local3.</em>,local4.<em>,local5.</em>,local6.<em>, local7.</em> ?TmplAuth</h4>\n\n<p>Tous les logs seront maintenant écrit dans le dossier /data/syslog/[hostnamede la machine émettrice]/[nom du programme qui envoie le log].log</p>\n\n<h3 id=\"surlesmachinesmettrices\">Sur les machines émettrices</h3>\n\n<p>La configuration est également a réaliser dans le fichier /etc/rsyslog.conf</p>\n\n<p>Ajouter à la fin du fichier :</p>\n\n<p>$WorkDirectory /var/lib/rsyslog $ActionQueueFileName fwdRule1 $ActionQueueMaxDiskSpace 2g $ActionQueueSaveOnShutdown on $ActionQueueType LinkedList $ActionResumeRetryCount -1 <em>.</em> @ip.du.serveur.rsyslog</p>\n\n<p>Et voilà, un petit rester du service rsyslog sur chaque machine et le tour est joué !</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-08T08:13:18.000Z","created_by":1,"updated_at":"2014-10-16T08:28:06.000Z","updated_by":1,"published_at":"2014-10-08T08:13:18.000Z","published_by":1},{"id":27,"uuid":"a5bc55e0-fba9-4a76-90df-a2a7eff977ff","title":"[Ubuntu] Un utilitaire pour nettoyer et configurer le système","slug":"ubuntu-un-utilitaire-pour-nettoyer-et-configurer-le-systeme","markdown":"\nJ’ai découvert aujourd’hui un outil (ubuntu-tweak) qui permet de faire de manière graphique quelques opérations d’administration et de nettoyage sur Ubuntu.  \n  \n  \n\nPour l’installer, rien de plus simple en passant par les dépôts PPA.\n\nsudo add-apt-repository ppa:tualatrix/ppa sudo apt-get update sudo apt-get install ubuntu-tweak\n\nSinon, vous pouvez télécharger le paquet en utilisant [ce lien](https://launchpad.net/ubuntu-tweak/+download).\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_198\" style=\"width: 310px\">[![ubuntu-tweak Vue d'ensemble](https://techan.fr/images/2014/10/ubuntu-tweak_vue_ensemble-300x165.png)](https://techan.fr/images/2014/10/ubuntu-tweak_vue_ensemble.png)ubuntu-tweak Vue d’ensemble\n\n</div>Plus d’info sur leur blog :\n\n[http://blog.ubuntu-tweak.com/](http://blog.ubuntu-tweak.com/)\n\n \n\n\n","html":"<p>J’ai découvert aujourd’hui un outil (ubuntu-tweak) qui permet de faire de manière graphique quelques opérations d’administration et de nettoyage sur Ubuntu.  </p>\n\n<p>Pour l’installer, rien de plus simple en passant par les dépôts PPA.</p>\n\n<p>sudo add-apt-repository ppa:tualatrix/ppa sudo apt-get update sudo apt-get install ubuntu-tweak</p>\n\n<p>Sinon, vous pouvez télécharger le paquet en utilisant <a href=\"https://launchpad.net/ubuntu-tweak/+download\">ce lien</a>.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_198\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/10/ubuntu-tweak_vue_ensemble.png\"><img src=\"https://techan.fr/images/2014/10/ubuntu-tweak_vue_ensemble-300x165.png\" alt=\"ubuntu-tweak Vue d'ensemble\" title=\"\" /></a>ubuntu-tweak Vue d’ensemble</p>\n\n<p></div>Plus d’info sur leur blog :</p>\n\n<p><a href=\"http://blog.ubuntu-tweak.com/\">http://blog.ubuntu-tweak.com/</a></p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-14T13:48:03.000Z","created_by":1,"updated_at":"2015-02-03T11:31:54.000Z","updated_by":1,"published_at":"2014-10-14T13:48:03.000Z","published_by":1},{"id":28,"uuid":"47cc698b-6fbb-4e3d-a938-9477a2a10d8c","title":"[RecoverPoint] Placer des flags nommés sur les points de consistance","slug":"recoverpoint-placer-des-flags-nommes-sur-les-points-de-consistance","markdown":"\nLes boitiers RecoverPoint d’EMC servent a synchroniser des données entre des baies EMC. Cette technologie est particulièrement utile dans le cas d’an Plan de Continuité d’Activité (PCA) ou dans un Plan de Reprise d’Activité (PRA).  \n  \n Cela permet de transmettre tout ou partie des données sur un site de secours afin de continuer ou reprendre l’activité le plus vite possible.\n\n \n\nCes boitiers ont pas mal d’intelligence, dont je ne vais pas faire la publicité ici, mais il permettent entre autre, de « tagger » des points de le temps.\n\nVous me direz, vu comme ça, que ce n’est pas forcément très utile … Mais si vous avez des bases de données répliquées entre des sites, vous avez surement tout de suite vu l’intérêt.\n\nEn effet, certains programmes, comme les bases de données, gagnent a être rallumées sur un point de consistance. Cela évite pas mal d’opérations de restauration et d’administration.\n\n \n\nRecoverPoint permet de nommer des points dans le temps, ajoutez à cela un script qui passe toutes vos bases Oracle en « begin backup » et vous aurez un point dans le temps pendant lequel vous êtes sûr que toutes vos bases Oracle sont consistantes.\n\n \n\nPour ajouter ce fameux flag depuis un script, il est plus pratique d(‘avoir auparavant ajouté [une clef SSH vers les boitiers RecoverPoint](https://techan.fr/ajouter-des-clefs-ssh-pour-se-connecter-sur-un-boitier-recoverpoint/).\n\nVoici donc la fameux commande :\n\nssh admin@XXXXXXX bookmark_image \"group='Nom_Du_Consistency_Group' bookmark='Nom_du_Flag $(date +\"%d_%m_%Y__%HH%M\")'\"\n\n \n\n \n\n\n","html":"<p>Les boitiers RecoverPoint d’EMC servent a synchroniser des données entre des baies EMC. Cette technologie est particulièrement utile dans le cas d’an Plan de Continuité d’Activité (PCA) ou dans un Plan de Reprise d’Activité (PRA).  </p>\n\n<p>Cela permet de transmettre tout ou partie des données sur un site de secours afin de continuer ou reprendre l’activité le plus vite possible.</p>\n\n<p>Ces boitiers ont pas mal d’intelligence, dont je ne vais pas faire la publicité ici, mais il permettent entre autre, de « tagger » des points de le temps.</p>\n\n<p>Vous me direz, vu comme ça, que ce n’est pas forcément très utile … Mais si vous avez des bases de données répliquées entre des sites, vous avez surement tout de suite vu l’intérêt.</p>\n\n<p>En effet, certains programmes, comme les bases de données, gagnent a être rallumées sur un point de consistance. Cela évite pas mal d’opérations de restauration et d’administration.</p>\n\n<p>RecoverPoint permet de nommer des points dans le temps, ajoutez à cela un script qui passe toutes vos bases Oracle en « begin backup » et vous aurez un point dans le temps pendant lequel vous êtes sûr que toutes vos bases Oracle sont consistantes.</p>\n\n<p>Pour ajouter ce fameux flag depuis un script, il est plus pratique d(‘avoir auparavant ajouté <a href=\"https://techan.fr/ajouter-des-clefs-ssh-pour-se-connecter-sur-un-boitier-recoverpoint/\">une clef SSH vers les boitiers RecoverPoint</a>.</p>\n\n<p>Voici donc la fameux commande :</p>\n\n<p>ssh admin@XXXXXXX bookmark<em>image \"group='Nom</em>Du<em>Consistency</em>Group' bookmark='Nom<em>du</em>Flag $(date +\"%d<em>%m</em>%Y__%HH%M\")'\"</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-14T14:47:16.000Z","created_by":1,"updated_at":"2014-10-15T11:33:34.000Z","updated_by":1,"published_at":"2014-10-14T14:47:16.000Z","published_by":1},{"id":29,"uuid":"7b6cc3a6-e335-4104-8fa7-56bd904c70ac","title":"[Linux] Forcer un programme a utiliser une locale anglaise","slug":"linux-forcer-un-programme-a-utiliser-une-locale-anglaise","markdown":"\nCertains programmes supportent assez mal d’être lancés sur un système utilisant une langue autre que l’anglais.\n\nCela peut, au mieux, apporter des bugs à l’outil voir l’empêche de fonctionner purement et simplement …\n\n \n\nVoici la méthode a utiliser pour forcer ce programme a utiliser une locale anglaise.  \n  \n Pour un programme que l’on lancerait via la ligne de commande suivante :\n\n/path/to/mon/programme -argument1 valeur1 -argumenté valeur2\n\nIl suffit d’ajouter « LANG=C » au tout début de la ligne de commande et le programme utilisera l’anglais.\n\nLANG=C /path/to/mon/programme -argument1 valeur1 -argumenté valeur2\n\n \n\n\n","html":"<p>Certains programmes supportent assez mal d’être lancés sur un système utilisant une langue autre que l’anglais.</p>\n\n<p>Cela peut, au mieux, apporter des bugs à l’outil voir l’empêche de fonctionner purement et simplement …</p>\n\n<p>Voici la méthode a utiliser pour forcer ce programme a utiliser une locale anglaise.  </p>\n\n<p>Pour un programme que l’on lancerait via la ligne de commande suivante :</p>\n\n<p>/path/to/mon/programme -argument1 valeur1 -argumenté valeur2</p>\n\n<p>Il suffit d’ajouter « LANG=C » au tout début de la ligne de commande et le programme utilisera l’anglais.</p>\n\n<p>LANG=C /path/to/mon/programme -argument1 valeur1 -argumenté valeur2</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-14T17:41:23.000Z","created_by":1,"updated_at":"2014-10-16T08:27:14.000Z","updated_by":1,"published_at":"2014-10-14T17:41:23.000Z","published_by":1},{"id":30,"uuid":"b47d5e2d-311f-4c96-a732-d3f85b0c3ae6","title":"[logstash] Configuration des inputs, filter et output","slug":"logstash-configuration-des-inputs-filter-et-output","markdown":"\nDans l’article [[Linux] Envoyer des logs sur un serveur central avec rsyslog](https://techan.fr/linux-envoyer-des-logs-sur-un-serveur-central-avec-rsyslog/), j’ai décrit comment envoyer des logs vers une machine distante en utiliser le rsyslog installé sur la machine.\n\nDans cet article, je vais décrire la configuration de l’outil[logstash](http://logstash.net/) que j’ai mis par dessus afin de recevoir, parser, et transférer les logs à [Graylog2](http://www.graylog2.org/).\n\nVoici l’architecture telle que je l’ai mise en place.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_203\" style=\"width: 347px\">[![Schéma des différentes couches logicielles sur le serveur de log centralisé et de logstash](https://techan.fr/images/2014/10/shema_syslog_logstash.png)](https://techan.fr/images/2014/10/shema_syslog_logstash.png)Schéma des différentes couches logicielles sur le serveur de log centralisé\n\n</div>Le serveur logstash écoute sur le port 5140, les machines clientes envoient leurs logs à logstash sur ce port. Cependant, pour certaines machines, j’ai eu des soucis de réception des logs … Pour celles-ci, je passe donc les logs à rsyslog qui les écrit dans un fichier de log puis logstash lit ces fichiers et les parse. Le serveur rsyslog écoute sur son port classique, le 514.\n\nUne fois les logs ou les fichiers digérés, logstash envoie les informations à Graylog2 qui permet d’avoir une vue sympa des évènements, de l’historique, des graphes, …\n\n \n\n\n## Les fichiers de configuration de logstash\n\nDans mon installation, les fichiers de configuration se trouvent dans le dossier /etc/logstash/conf.d.\n\nVoici le contenu de ce dossier, je détaillerai chacun de ces fichiers dans les parties suivantes.\n\n[root@xxxxxxxxx conf.d]# ll total 28 -rw-r--r-- 1 root root 194 13 oct. 14:34 01-input_files.conf -rw-r--r-- 1 root root 155 10 oct. 16:26 02-input_rsyslog.conf -rw-r--r-- 1 root root 160 9 oct. 17:23 10-filter_rsyslog.conf -rw-r--r-- 1 root root 1150 10 oct. 11:34 11-filter_apache.conf -rw-r--r-- 1 root root 816 13 oct. 14:45 12-filter_esxi.conf -rw-r--r-- 1 root root 1535 13 oct. 14:20 13-filter_mysql_slow_queries.conf -rw-r--r-- 1 root root 1801 13 oct. 14:27 31-to_graylog2.conf\n\n### \n\nJ’ai coupé la configuration en plusieurs morceaux afin de pouvoir plus facilement tester chacun des éléments.\n\nLes fichiers commençant par un 0 sont des fichiers qui décrivent les entrées de logstash.\n\nCeux commençant par un 1 sont les fichiers qui décrivent les filtres de logstash.\n\nEt ceux qui commencent par un 3 sont les fichiers dans lesquels les sorties de logstash sont définies.\n\n \n\n### Les entrées de logstash\n\nDans ma configuration j’utilise deux types d’entrées :\n\n- des entrées de types fichiers, créés par le rsyslog serveur\n- des entrées de type syslog qui agissent comme un serveur syslog qui écoute\n\n##### Les entrées de types fichier\n\nElles sont documentées dans le fichier « 01-input_files.conf ».\n\ninput { file { path => \"/data/syslog/172.16.17.51/*.log\" exclude => \"*.gz\" type => \"esxi\" } file { path => \"/data/syslog/127.0.0.1/*.log\" exclude => \"*.gz\" type => \"localhost\" } }\n\nCe fichier dit à logstash d’alelr lire tous les fichiers se terminant par « .log » dans les dossiers « /data/syslog/127.0.0.1 » et « /data/syslog/172.16.12.51 » en excluant les fichiers se terminant par « .gz ».\n\nA chaque fois, je fixe un type « esxi » pour le premier dossier, « localhost » pour le second, ceci permettra de différencier les lignes de log dans les étapes suivantes.\n\n \n\n##### L’entrée de type syslog\n\nElles sont documentées dans le fichier « 02-input_rsyslog.conf ».\n\n \n\ninput { syslog { type => syslog port => 5140 } }\n\n \n\nCette entrée permet à logstash d’écouter sur le port 5140.\n\nLes lignes de log arrivées par cette entrée auront le type « syslog ».\n\n \n\n### Les filtres de logstash\n\nElles sont documentées dans les fichiers « 10-filter_rsyslog.conf », « 11-filter_apache.conf », « 12-filter_esxi.conf » et « 13-filter_mysql_slow_queries.conf ».\n\n \n\n##### Fichier 10-filter_rsyslog.conf\n\nfilter { if [type] == \"syslog\" { syslog_pri { } date { locale => \"en\" match => [ \"syslog_timestamp\", \"MMM d HH:mm:ss\", \"MMM dd HH:mm:ss\" ] } } }\n\n \n\nDans ce fichier là, on ne va traiter que les entrées de type « syslog ». On va leur appliquer un traitement appelé « syslog_pri » qui décompose les logs en se basant sur les champs définis dans  les RFC de syslog.\n\n \n\nLe paramètre « date » permet de fixer les date en anglais et de donner un format de data à l’outil.\n\n<span style=\"text-decoration: underline;\">Note :</span> J’ai eu pas mal de soucis avec les dates car mon système est installé en Français … J’ai du modifier le script de lancement de logstash pour le forcer en anglais.\n\nVoici la méthode a utiliser pour le forcer en anglais : [[Linux] Forcer un programme a utiliser une locale anglaise](https://techan.fr/linux-forcer-un-programme-a-utiliser-une-locale-anglaise/ \"[Linux] Forcer un programme a utiliser une locale anglaise\").\n\n \n\n##### Fichier 11-filter_apache.conf\n\nfilter { if [program] == \"apache-access\" { grok { match => { \"message\" => \"%{COMBINEDAPACHELOG}\" } } } } if [program] == \"apache-error\" { grok { match => { \"message\" => \"\\[%{HTTPERRORDATE:timestamp}\\] \\[%{WORD:class}\\] \\[%{WORD:originator} %{IP:clientip}\\] %{GREEDYDATA:errmsg}\" } patterns_dir => [\"/etc/logstash/grok\"] } date { locale => \"en\" match => [ \"syslog_timestamp\", \"MMM d HH:mm:ss\", \"MMM dd HH:mm:ss\" ] } } }\n\nDans ce filtre, on ne s’occupe que des logs des serveurs apache. Le filtre est fait sur le champ « program » des logs reçus, ce champ est positionné par le rsyslog qui envoie ces logs.\n\n \n\nCes deux filtres utilisent un outil qui se nomme « grok », ce dernier permet de parser les logs avec des expressions régulières spéciales. C’est une des grandes force de logstash.\n\n \n\nPour les access logs d’apache, une expression est déjà incluse dans celles fournies par grok, elle s’appelle « COMBINEDAPACHELOG ». Pour ces logs là, on a donc pas grand chose a faire.\n\nPar contre, pour les logs d’erreur, c’est une autre histoire, il faut construire le pattern. Cela se fait dans le champ « match », match compare le contenu du champ « message » avec notre pattern. Si cela match, les champs définis dans le pattern sont remplis.\n\n<span style=\"text-decoration: underline;\">Note :</span> Pour ces erreur logs d’apache, j’ai inclus un fichier de pattern externe présent dans le dossier /etc/logstash/grok. Ce fichier contient des expressions toutes faite, très pratique. J’y ai juste ajouté la définition du champ « HTTPERRORDATE » qui n’est pas standard.\n\nLe contenu de ce fichier est présent dans les annexes en bas de cet article.\n\n \n\nVoici comment est paramétré le rsyslog sur le serveur qui héberge l’apache :\n\n## >> Apache access files # $InputFileName /var/log/httpd/access_log $InputFileTag apache-access: $InputFileStateFile apache-access_log $InputRunFileMonitor ### >> Apache error files $InputFileName /var/log/httpd/error_log $InputFileTag apache-error: $InputFileStateFile apache-error_log $InputRunFileMonitor\n\nNotez qu’on retrouve les valeurs du champ « program » dans la variable « InputFileTag » que je teste dans mon filtre.\n\nLes valeurs des « InputFileStateFile » doivent être uniques dans la configuration de rsyslog, sinon les logs ne sont pas parsés.\n\n \n\n##### Fichier 12-filter_esxi.conf\n\nfilter { if [type] == \"esxi\" and [path] != \"/data/syslog/172.16.17.51/for.log\" { grok { pattern => ['(?:%{SYSLOGTIMESTAMP:timestamp}|%{TIMESTAMP_ISO8601:timestamp8601}) (?:%{SYSLOGHOST:logsource}) (?:%{SYSLOGPROG}): (?<messagebody>(?:\\[(?<esxi_thread_id>[0-9A-Z]{8,8}) %{DATA:esxi_loglevel} \\'%{DATA:esxi_service}\\'\\] %{GREEDYDATA:esxi_message}|%{GREEDYDATA}))'] type => \"esxi\" } } else if [type] == \"esxi\" and [path] == \"/data/syslog/172.16.17.51/for.log\" { grok { pattern => ['(?:%{SYSLOGTIMESTAMP:timestamp}|%{TIMESTAMP_ISO8601:timestamp8601}) (?:%{DATA:vmware_bullshit}?,) (?:%{SYSLOGHOST:logsource}) (?:%{SYSLOGPROG}): (?<messagebody>(?:\\[(?<esxi_thread_id>[0-9A-Z]{8,8}) %{DATA:esxi_loglevel} \\'%{DATA:esxi_service}\\'\\] %{GREEDYDATA:esxi_message}|%{GREEDYDATA}))'] type => \"esxi\" } } }\n\n \n\nDans ce filtre, je gère les logs qui me parviennent de serveurs ESXi dans des fichiers plats. Visiblement, les ESXi préfèrent envoyer leurs logs à un rsyslog plutôt qu’à logstash …\n\n \n\nPour traiter ces lgos là, je filtre sur le type qui doit être égal à « esxi » mais aussi sur le chemin du fichier car le fichier « for.log » a une structure différente qui nécessite un pattern un peu différent.\n\n \n\n##### Fichier 13-filter_mysql_slow_queries.conf\n\nfilter { if [program] == \"mysql-slow-queries\" and [type] == \"syslog\" { mutate { replace => [ \"type\", \"lumberjack_multiline\" ] } multiline { pattern => \"^# User@Host:\" negate => true what => previous } } if [program] == \"mysql-slow-queries\" and [type] == \"lumberjack_multiline\" { # Capture user, optional host and optional ip fields # sample log file lines: # User@Host: logstash[logstash] @ localhost [127.0.0.1] # User@Host: logstash[logstash] @ [127.0.0.1] grok { match => [ \"message\", \"^# User@Host: %{USER:user}(?:\\[[^\\]]+\\])?\\s+@\\s+%{HOST:host}?\\s+\\[%{IP:ip}?\\]\" ] } # Capture query time, lock time, rows returned and rows examined # sample log file lines: # Query_time: 102.413328 Lock_time: 0.000167 Rows_sent: 0 Rows_examined: 1970 # Query_time: 1.113464 Lock_time: 0.000128 Rows_sent: 1 Rows_examined: 0 grok { match => [ \"message\", \"^# Query_time: %{NUMBER:duration:float}\\s+Lock_time: %{NUMBER:lock_wait:float} Rows_sent: %{NUMBER:results:int} \\s*Rows_examined: %{NUMBER:scanned:int}\"] } # Capture the time the query happened grok { match => [ \"message\", \"^SET timestamp=%{NUMBER:timestamp};\" ] } # Extract the time based on the time of the query and # not the time the item got logged date { match => [ \"timestamp\", \"UNIX\" ] } # Drop the captured timestamp field since it has been moved to the # time of the event mutate { remove_field => \"timestamp\" } } }\n\n \n\nDans ce filtre, je traite les fichier de logs spéciaux dans lequel MySQL va écrire les informations sur les requêtes longues qu’il reçoit. Ces information peuvent être très intéressantes à des fins de débogages ou de monitoring d’application.\n\n \n\nCependant, ce fichier m’a posé pas mal de soucis car les entrées ce font sur plusieurs lignes …\n\nJ’applique donc deux filtres de suite sur ces entrées de log. Une première qui filtre sur le program et le type dont les actions sont de changer le type de ces entrées de log. On remplace le type « syslog » par un type « lumberjack_multiline ». La deuxième action de ce filtre est de transformer les entrées reçues en entrées multi-lignes.\n\nDans l’outil « multiline » on précise un pattern qui permettra à l’outil de détecter le début de nos blocs de logs et des options qui lui disent dans quel sens regarder.\n\n \n\nMaintenant que les bloc est multi-lignes, on peut le traitement comme une entrée classique. pour cela on filtre les entrées dans le type est celui qu’on a positionné juste avant pour être sûr. On utilise ici plusieurs pattern dans des champs match afin d’extraire les informations des différentes lignes reçues.\n\n \n\n### Les sorties de logstash\n\nElles sont documentées dans le fichier « 31-to_graylog2.conf ».\n\n \n\noutput { if [program] == \"apache-access\" { gelf { level => [\"%{syslog_severity}\"] host => \"127.0.0.1\" port => \"12211\" sender => \"%{logsource}\" short_message => \"%{message}\" full_message => \"%{syslog_full}\" ship_metadata => true ship_tags => true ignore_metadata => [ \"type\", \"syslog_pri\", \"syslog_timestamp\", \"syslog_hostname\", \"syslog_message\", \"syslog_severity\", \"syslog_severity_code\", \"syslog_facility_code\", \"syslog_full\" ] } } else if [program] == \"apache-error\" { gelf { level => [\"%{class}\",\"ERROR\"] host => \"127.0.0.1\" port => \"12211\" sender => \"%{logsource}\" short_message => \"%{message}\" full_message => \"%{errmsg}\" ship_metadata => true ship_tags => true ignore_metadata => [ \"type\", \"syslog_pri\", \"syslog_timestamp\", \"syslog_hostname\", \"syslog_message\", \"syslog_severity\", \"syslog_severity_code\", \"syslog_facility_code\", \"syslog_full\" ] } } else { gelf { level => [\"%{syslog_severity}\",\"%{esxi_loglevel}\",\"UNKNOWN\"] host => \"127.0.0.1\" port => \"12211\" sender => \"%{logsource}\" short_message => \"%{message}\" full_message => \"%{syslog_full}\" ship_metadata => true ship_tags => true } } }\n\nToutes ces sorties envoient les logs vers le serveur Graylog2. En fonction des différentes sources, les variables sources des champs envoyés varient car en fonction des pattern, les noms ne sont pas forcément les mêmes, surtout pour les « level » et « sender ».\n\n \n\n### Outils :\n\n[Débugger vos patterns !](http://grokdebug.herokuapp.com/)\n\n \n\n##### Fichier de patterns\n\n[root@sl-0-syslogint1 ~]# cat /etc/logstash/grok/grok.conf HTTPERRORDATE %{DAY} %{MONTH} %{MONTHDAY} %{TIME} %{YEAR} APACHEERRORLOG %{SYSLOGTIMESTAMP:mytimestamp} %{SYSLOGHOST:syslog_hostname} %{DATA:syslog_program} \\[%{HTTPERRORDATE:timestamp}\\] \\[%{WORD:severity}\\] \\[client %{IPORHOST:clientip}\\] %{GREEDYDATA:message_remainder} USERNAME [a-zA-Z0-9._-]+ USER %{USERNAME} INT (?:[+-]?(?:[0-9]+)) BASE10NUM (?<![0-9.+-])(?>[+-]?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))) NUMBER (?:%{BASE10NUM}) BASE16NUM (?<![0-9A-Fa-f])(?:[+-]?(?:0x)?(?:[0-9A-Fa-f]+)) BASE16FLOAT \\b(?<![0-9A-Fa-f.])(?:[+-]?(?:0x)?(?:(?:[0-9A-Fa-f]+(?:\\.[0-9A-Fa-f]*)?)|(?:\\.[0-9A-Fa-f]+)))\\b POSINT \\b(?:[1-9][0-9]*)\\b NONNEGINT \\b(?:[0-9]+)\\b WORD \\b\\w+\\b NOTSPACE \\S+ SPACE \\s* DATA .*? GREEDYDATA .* QUOTEDSTRING (?>(?<!\\\\)(?>\"(?>\\\\.|[^\\\\\"]+)+\"|\"\"|(?>'(?>\\\\.|[^\\\\']+)+')|''|(?>`(?>\\\\.|[^\\\\`]+)+`)|``)) UUID [A-Fa-f0-9]{8}-(?:[A-Fa-f0-9]{4}-){3}[A-Fa-f0-9]{12} # Networking MAC (?:%{CISCOMAC}|%{WINDOWSMAC}|%{COMMONMAC}) CISCOMAC (?:(?:[A-Fa-f0-9]{4}\\.){2}[A-Fa-f0-9]{4}) WINDOWSMAC (?:(?:[A-Fa-f0-9]{2}-){5}[A-Fa-f0-9]{2}) COMMONMAC (?:(?:[A-Fa-f0-9]{2}:){5}[A-Fa-f0-9]{2}) IPV6 ((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)? IPV4 (?<![0-9])(?:(?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2})[.](?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2})[.](?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2})[.](?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2}))(?![0-9]) IP (?:%{IPV6}|%{IPV4}) HOSTNAME \\b(?:[0-9A-Za-z][0-9A-Za-z-]{0,62})(?:\\.(?:[0-9A-Za-z][0-9A-Za-z-]{0,62}))*(\\.?|\\b) HOST %{HOSTNAME} IPORHOST (?:%{HOSTNAME}|%{IP}) HOSTPORT %{IPORHOST}:%{POSINT} # paths PATH (?:%{UNIXPATH}|%{WINPATH}) UNIXPATH (?>/(?>[\\w_%!$@:.,~-]+|\\\\.)*)+ TTY (?:/dev/(pts|tty([pq])?)(\\w+)?/?(?:[0-9]+)) WINPATH (?>[A-Za-z]+:|\\\\)(?:\\\\[^\\\\?*]*)+ URIPROTO [A-Za-z]+(\\+[A-Za-z+]+)? URIHOST %{IPORHOST}(?::%{POSINT:port})? # uripath comes loosely from RFC1738, but mostly from what Firefox # doesn't turn into %XX URIPATH (?:/[A-Za-z0-9$.+!*'(){},~:;=@#%_\\-]*)+ #URIPARAM \\?(?:[A-Za-z0-9]+(?:=(?:[^&]*))?(?:&(?:[A-Za-z0-9]+(?:=(?:[^&]*))?)?)*)? URIPARAM \\?[A-Za-z0-9$.+!*'|(){},~@#%&/=:;_?\\-\\[\\]]* URIPATHPARAM %{URIPATH}(?:%{URIPARAM})? URI %{URIPROTO}://(?:%{USER}(?::[^@]*)?@)?(?:%{URIHOST})?(?:%{URIPATHPARAM})? # Months: January, Feb, 3, 03, 12, December MONTH \\b(?:Jan(?:uary)?|Feb(?:ruary)?|Mar(?:ch)?|Apr(?:il)?|May|Jun(?:e)?|Jul(?:y)?|Aug(?:ust)?|Sep(?:tember)?|Oct(?:ober)?|Nov(?:ember)?|Dec(?:ember)?)\\b MONTHNUM (?:0?[1-9]|1[0-2]) MONTHNUM2 (?:0[1-9]|1[0-2]) MONTHDAY (?:(?:0[1-9])|(?:[12][0-9])|(?:3[01])|[1-9]) # Days: Monday, Tue, Thu, etc... DAY (?:Mon(?:day)?|Tue(?:sday)?|Wed(?:nesday)?|Thu(?:rsday)?|Fri(?:day)?|Sat(?:urday)?|Sun(?:day)?) # Years? YEAR (?>\\d\\d){1,2} HOUR (?:2[0123]|[01]?[0-9]) MINUTE (?:[0-5][0-9]) # '60' is a leap second in most time standards and thus is valid. SECOND (?:(?:[0-5]?[0-9]|60)(?:[:.,][0-9]+)?) TIME (?!<[0-9])%{HOUR}:%{MINUTE}(?::%{SECOND})(?![0-9]) # datestamp is YYYY/MM/DD-HH:MM:SS.UUUU (or something like it) DATE_US %{MONTHNUM}[/-]%{MONTHDAY}[/-]%{YEAR} DATE_EU %{MONTHDAY}[./-]%{MONTHNUM}[./-]%{YEAR} ISO8601_TIMEZONE (?:Z|[+-]%{HOUR}(?::?%{MINUTE})) ISO8601_SECOND (?:%{SECOND}|60) TIMESTAMP_ISO8601 %{YEAR}-%{MONTHNUM}-%{MONTHDAY}[T ]%{HOUR}:?%{MINUTE}(?::?%{SECOND})?%{ISO8601_TIMEZONE}? DATE %{DATE_US}|%{DATE_EU} DATESTAMP %{DATE}[- ]%{TIME} TZ (?:[PMCE][SD]T|UTC) DATESTAMP_RFC822 %{DAY} %{MONTH} %{MONTHDAY} %{YEAR} %{TIME} %{TZ} DATESTAMP_RFC2822 %{DAY}, %{MONTHDAY} %{MONTH} %{YEAR} %{TIME} %{ISO8601_TIMEZONE} DATESTAMP_OTHER %{DAY} %{MONTH} %{MONTHDAY} %{TIME} %{TZ} %{YEAR} DATESTAMP_EVENTLOG %{YEAR}%{MONTHNUM2}%{MONTHDAY}%{HOUR}%{MINUTE}%{SECOND} # Syslog Dates: Month Day HH:MM:SS SYSLOGTIMESTAMP %{MONTH} +%{MONTHDAY} %{TIME} PROG (?:[\\w._/%-]+) SYSLOGPROG %{PROG:program}(?:\\[%{POSINT:pid}\\])? SYSLOGHOST %{IPORHOST} SYSLOGFACILITY <%{NONNEGINT:facility}.%{NONNEGINT:priority}> HTTPERRORDATE %{DAY} %{MONTH} %{MONTHDAY} %{TIME} %{YEAR} HTTPDATE %{MONTHDAY}/%{MONTH}/%{YEAR}:%{TIME} %{INT} # Shortcuts QS %{QUOTEDSTRING} # Log formats SYSLOGBASE %{SYSLOGTIMESTAMP:timestamp} (?:%{SYSLOGFACILITY} )?%{SYSLOGHOST:logsource} %{SYSLOGPROG}: COMMONAPACHELOG %{IPORHOST:clientip} %{USER:ident} %{NOTSPACE:auth} \\[%{HTTPDATE:timestamp}\\] \"(?:%{WORD:verb} %{NOTSPACE:request}(?: HTTP/%{NUMBER:httpversion})?|%{DATA:rawrequest})\" %{NUMBER:response} (?:%{NUMBER:bytes}|-) COMBINEDAPACHELOG %{COMMONAPACHELOG} %{QS:referrer} %{QS:agent} # Log Levels LOGLEVEL ([Aa]lert|ALERT|[Tt]race|TRACE|[Dd]ebug|DEBUG|[Nn]otice|NOTICE|[Ii]nfo|INFO|[Ww]arn?(?:ing)?|WARN?(?:ING)?|[Ee]rr?(?:or)?|ERR?(?:OR)?|[Cc]rit?(?:ical)?|CRIT?(?:ICAL)?|[Ff]atal|FATAL|[Ss]evere|SEVERE|EMERG(?:ENCY)?|[Ee]merg(?:ency)?)\n\n \n\n\n","html":"<p>Dans l’article <a href=\"https://techan.fr/linux-envoyer-des-logs-sur-un-serveur-central-avec-rsyslog/\">[Linux] Envoyer des logs sur un serveur central avec rsyslog</a>, j’ai décrit comment envoyer des logs vers une machine distante en utiliser le rsyslog installé sur la machine.</p>\n\n<p>Dans cet article, je vais décrire la configuration de l’outil<a href=\"http://logstash.net/\">logstash</a> que j’ai mis par dessus afin de recevoir, parser, et transférer les logs à <a href=\"http://www.graylog2.org/\">Graylog2</a>.</p>\n\n<p>Voici l’architecture telle que je l’ai mise en place.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_203\" style=\"width: 347px\"><a href=\"https://techan.fr/images/2014/10/shema_syslog_logstash.png\"><img src=\"https://techan.fr/images/2014/10/shema_syslog_logstash.png\" alt=\"Schéma des différentes couches logicielles sur le serveur de log centralisé et de logstash\" title=\"\" /></a>Schéma des différentes couches logicielles sur le serveur de log centralisé</p>\n\n<p></div>Le serveur logstash écoute sur le port 5140, les machines clientes envoient leurs logs à logstash sur ce port. Cependant, pour certaines machines, j’ai eu des soucis de réception des logs … Pour celles-ci, je passe donc les logs à rsyslog qui les écrit dans un fichier de log puis logstash lit ces fichiers et les parse. Le serveur rsyslog écoute sur son port classique, le 514.</p>\n\n<p>Une fois les logs ou les fichiers digérés, logstash envoie les informations à Graylog2 qui permet d’avoir une vue sympa des évènements, de l’historique, des graphes, …</p>\n\n<h2 id=\"lesfichiersdeconfigurationdelogstash\">Les fichiers de configuration de logstash</h2>\n\n<p>Dans mon installation, les fichiers de configuration se trouvent dans le dossier /etc/logstash/conf.d.</p>\n\n<p>Voici le contenu de ce dossier, je détaillerai chacun de ces fichiers dans les parties suivantes.</p>\n\n<p>[root@xxxxxxxxx conf.d]# ll total 28 -rw-r--r-- 1 root root 194 13 oct. 14:34 01-input<em>files.conf -rw-r--r-- 1 root root 155 10 oct. 16:26 02-input</em>rsyslog.conf -rw-r--r-- 1 root root 160 9 oct. 17:23 10-filter<em>rsyslog.conf -rw-r--r-- 1 root root 1150 10 oct. 11:34 11-filter</em>apache.conf -rw-r--r-- 1 root root 816 13 oct. 14:45 12-filter<em>esxi.conf -rw-r--r-- 1 root root 1535 13 oct. 14:20 13-filter</em>mysql<em>slow</em>queries.conf -rw-r--r-- 1 root root 1801 13 oct. 14:27 31-to_graylog2.conf</p>\n\n<h3 id=\"\"> </h3>\n\n<p>J’ai coupé la configuration en plusieurs morceaux afin de pouvoir plus facilement tester chacun des éléments.</p>\n\n<p>Les fichiers commençant par un 0 sont des fichiers qui décrivent les entrées de logstash.</p>\n\n<p>Ceux commençant par un 1 sont les fichiers qui décrivent les filtres de logstash.</p>\n\n<p>Et ceux qui commencent par un 3 sont les fichiers dans lesquels les sorties de logstash sont définies.</p>\n\n<h3 id=\"lesentresdelogstash\">Les entrées de logstash</h3>\n\n<p>Dans ma configuration j’utilise deux types d’entrées :</p>\n\n<ul>\n<li>des entrées de types fichiers, créés par le rsyslog serveur</li>\n<li>des entrées de type syslog qui agissent comme un serveur syslog qui écoute</li>\n</ul>\n\n<h5 id=\"lesentresdetypesfichier\">Les entrées de types fichier</h5>\n\n<p>Elles sont documentées dans le fichier « 01-input_files.conf ».</p>\n\n<p>input { file { path => \"/data/syslog/172.16.17.51/<em>.log\" exclude => \"</em>.gz\" type => \"esxi\" } file { path => \"/data/syslog/127.0.0.1/<em>.log\" exclude => \"</em>.gz\" type => \"localhost\" } }</p>\n\n<p>Ce fichier dit à logstash d’alelr lire tous les fichiers se terminant par « .log » dans les dossiers « /data/syslog/127.0.0.1 » et « /data/syslog/172.16.12.51 » en excluant les fichiers se terminant par « .gz ».</p>\n\n<p>A chaque fois, je fixe un type « esxi » pour le premier dossier, « localhost » pour le second, ceci permettra de différencier les lignes de log dans les étapes suivantes.</p>\n\n<h5 id=\"lentredetypesyslog\">L’entrée de type syslog</h5>\n\n<p>Elles sont documentées dans le fichier « 02-input_rsyslog.conf ».</p>\n\n<p>input { syslog { type => syslog port => 5140 } }</p>\n\n<p>Cette entrée permet à logstash d’écouter sur le port 5140.</p>\n\n<p>Les lignes de log arrivées par cette entrée auront le type « syslog ».</p>\n\n<h3 id=\"lesfiltresdelogstash\">Les filtres de logstash</h3>\n\n<p>Elles sont documentées dans les fichiers « 10-filter<em>rsyslog.conf », « 11-filter</em>apache.conf », « 12-filter<em>esxi.conf » et « 13-filter</em>mysql<em>slow</em>queries.conf ».</p>\n\n<h5 id=\"fichier10filter_rsyslogconf\">Fichier 10-filter_rsyslog.conf</h5>\n\n<p>filter { if [type] <mark> \"syslog\" { syslog<em>pri { } date { locale => \"en\" match => [ \"syslog</em>timestamp\", \"MMM d HH:mm:ss\", \"MMM dd HH:mm:ss\" ] } } }</p>\n\n<p>Dans ce fichier là, on ne va traiter que les entrées de type « syslog ». On va leur appliquer un traitement appelé « syslog_pri » qui décompose les logs en se basant sur les champs définis dans  les RFC de syslog.</p>\n\n<p>Le paramètre « date » permet de fixer les date en anglais et de donner un format de data à l’outil.</p>\n\n<p><span style=\"text-decoration: underline;\">Note :</span> J’ai eu pas mal de soucis avec les dates car mon système est installé en Français … J’ai du modifier le script de lancement de logstash pour le forcer en anglais.</p>\n\n<p>Voici la méthode a utiliser pour le forcer en anglais : <a href=\"https://techan.fr/linux-forcer-un-programme-a-utiliser-une-locale-anglaise/\" title=\"[Linux] Forcer un programme a utiliser une locale anglaise\">[Linux] Forcer un programme a utiliser une locale anglaise</a>.</p>\n\n<h5 id=\"fichier11filter_apacheconf\">Fichier 11-filter_apache.conf</h5>\n\n<p>filter { if [program] </mark> \"apache-access\" { grok { match => { \"message\" => \"%{COMBINEDAPACHELOG}\" } } } } if [program] <mark> \"apache-error\" { grok { match => { \"message\" => \"[%{HTTPERRORDATE:timestamp}] [%{WORD:class}] [%{WORD:originator} %{IP:clientip}] %{GREEDYDATA:errmsg}\" } patterns<em>dir => [\"/etc/logstash/grok\"] } date { locale => \"en\" match => [ \"syslog</em>timestamp\", \"MMM d HH:mm:ss\", \"MMM dd HH:mm:ss\" ] } } }</p>\n\n<p>Dans ce filtre, on ne s’occupe que des logs des serveurs apache. Le filtre est fait sur le champ « program » des logs reçus, ce champ est positionné par le rsyslog qui envoie ces logs.</p>\n\n<p>Ces deux filtres utilisent un outil qui se nomme « grok », ce dernier permet de parser les logs avec des expressions régulières spéciales. C’est une des grandes force de logstash.</p>\n\n<p>Pour les access logs d’apache, une expression est déjà incluse dans celles fournies par grok, elle s’appelle « COMBINEDAPACHELOG ». Pour ces logs là, on a donc pas grand chose a faire.</p>\n\n<p>Par contre, pour les logs d’erreur, c’est une autre histoire, il faut construire le pattern. Cela se fait dans le champ « match », match compare le contenu du champ « message » avec notre pattern. Si cela match, les champs définis dans le pattern sont remplis.</p>\n\n<p><span style=\"text-decoration: underline;\">Note :</span> Pour ces erreur logs d’apache, j’ai inclus un fichier de pattern externe présent dans le dossier /etc/logstash/grok. Ce fichier contient des expressions toutes faite, très pratique. J’y ai juste ajouté la définition du champ « HTTPERRORDATE » qui n’est pas standard.</p>\n\n<p>Le contenu de ce fichier est présent dans les annexes en bas de cet article.</p>\n\n<p>Voici comment est paramétré le rsyslog sur le serveur qui héberge l’apache :</p>\n\n<h2 id=\"apacheaccessfilesdinputfilenamevarloghttpdaccess_logdinputfiletagapacheaccessdinputfilestatefileapacheaccess_logdinputrunfilemonitorapacheerrorfilesdinputfilenamevarloghttpderror_logdinputfiletagapacheerrordinputfilestatefileapacheerror_logdinputrunfilemonitor\">>> Apache access files # $InputFileName /var/log/httpd/access<em>log $InputFileTag apache-access: $InputFileStateFile apache-access</em>log $InputRunFileMonitor ### >> Apache error files $InputFileName /var/log/httpd/error<em>log $InputFileTag apache-error: $InputFileStateFile apache-error</em>log $InputRunFileMonitor</h2>\n\n<p>Notez qu’on retrouve les valeurs du champ « program » dans la variable « InputFileTag » que je teste dans mon filtre.</p>\n\n<p>Les valeurs des « InputFileStateFile » doivent être uniques dans la configuration de rsyslog, sinon les logs ne sont pas parsés.</p>\n\n<h5 id=\"fichier12filter_esxiconf\">Fichier 12-filter_esxi.conf</h5>\n\n<p>filter { if [type] </mark> \"esxi\" and [path] != \"/data/syslog/172.16.17.51/for.log\" { grok { pattern => ['(?:%{SYSLOGTIMESTAMP:timestamp}|%{TIMESTAMP<em>ISO8601:timestamp8601}) (?:%{SYSLOGHOST:logsource}) (?:%{SYSLOGPROG}): (?<messagebody>(?:[(?<esxi_thread_id>[0-9A-Z]{8,8}) %{DATA:esxi</em>loglevel} \\'%{DATA:esxi<em>service}\\'] %{GREEDYDATA:esxi</em>message}|%{GREEDYDATA}))'] type => \"esxi\" } } else if [type] <mark> \"esxi\" and [path] </mark> \"/data/syslog/172.16.17.51/for.log\" { grok { pattern => ['(?:%{SYSLOGTIMESTAMP:timestamp}|%{TIMESTAMP<em>ISO8601:timestamp8601}) (?:%{DATA:vmware</em>bullshit}?,) (?:%{SYSLOGHOST:logsource}) (?:%{SYSLOGPROG}): (?<messagebody>(?:[(?<esxi_thread_id>[0-9A-Z]{8,8}) %{DATA:esxi<em>loglevel} \\'%{DATA:esxi</em>service}\\'] %{GREEDYDATA:esxi_message}|%{GREEDYDATA}))'] type => \"esxi\" } } }</p>\n\n<p>Dans ce filtre, je gère les logs qui me parviennent de serveurs ESXi dans des fichiers plats. Visiblement, les ESXi préfèrent envoyer leurs logs à un rsyslog plutôt qu’à logstash …</p>\n\n<p>Pour traiter ces lgos là, je filtre sur le type qui doit être égal à « esxi » mais aussi sur le chemin du fichier car le fichier « for.log » a une structure différente qui nécessite un pattern un peu différent.</p>\n\n<h5 id=\"fichier13filter_mysql_slow_queriesconf\">Fichier 13-filter<em>mysql</em>slow_queries.conf</h5>\n\n<p>filter { if [program] <mark> \"mysql-slow-queries\" and [type] </mark> \"syslog\" { mutate { replace => [ \"type\", \"lumberjack<em>multiline\" ] } multiline { pattern => \"^# User@Host:\" negate => true what => previous } } if [program] <mark> \"mysql-slow-queries\" and [type] </mark> \"lumberjack</em>multiline\" { # Capture user, optional host and optional ip fields # sample log file lines: # User@Host: logstash[logstash] @ localhost [127.0.0.1] # User@Host: logstash[logstash] @ [127.0.0.1] grok { match => [ \"message\", \"^# User@Host: %{USER:user}(?:[[^]]+])?\\s+@\\s+%{HOST:host}?\\s+[%{IP:ip}?]\" ] } # Capture query time, lock time, rows returned and rows examined # sample log file lines: # Query<em>time: 102.413328 Lock</em>time: 0.000167 Rows<em>sent: 0 Rows</em>examined: 1970 # Query<em>time: 1.113464 Lock</em>time: 0.000128 Rows<em>sent: 1 Rows</em>examined: 0 grok { match => [ \"message\", \"^# Query<em>time: %{NUMBER:duration:float}\\s+Lock</em>time: %{NUMBER:lock<em>wait:float} Rows</em>sent: %{NUMBER:results:int} \\s*Rows<em>examined: %{NUMBER:scanned:int}\"] } # Capture the time the query happened grok { match => [ \"message\", \"^SET timestamp=%{NUMBER:timestamp};\" ] } # Extract the time based on the time of the query and # not the time the item got logged date { match => [ \"timestamp\", \"UNIX\" ] } # Drop the captured timestamp field since it has been moved to the # time of the event mutate { remove</em>field => \"timestamp\" } } }</p>\n\n<p>Dans ce filtre, je traite les fichier de logs spéciaux dans lequel MySQL va écrire les informations sur les requêtes longues qu’il reçoit. Ces information peuvent être très intéressantes à des fins de débogages ou de monitoring d’application.</p>\n\n<p>Cependant, ce fichier m’a posé pas mal de soucis car les entrées ce font sur plusieurs lignes …</p>\n\n<p>J’applique donc deux filtres de suite sur ces entrées de log. Une première qui filtre sur le program et le type dont les actions sont de changer le type de ces entrées de log. On remplace le type « syslog » par un type « lumberjack_multiline ». La deuxième action de ce filtre est de transformer les entrées reçues en entrées multi-lignes.</p>\n\n<p>Dans l’outil « multiline » on précise un pattern qui permettra à l’outil de détecter le début de nos blocs de logs et des options qui lui disent dans quel sens regarder.</p>\n\n<p>Maintenant que les bloc est multi-lignes, on peut le traitement comme une entrée classique. pour cela on filtre les entrées dans le type est celui qu’on a positionné juste avant pour être sûr. On utilise ici plusieurs pattern dans des champs match afin d’extraire les informations des différentes lignes reçues.</p>\n\n<h3 id=\"lessortiesdelogstash\">Les sorties de logstash</h3>\n\n<p>Elles sont documentées dans le fichier « 31-to_graylog2.conf ».</p>\n\n<p>output { if [program] <mark> \"apache-access\" { gelf { level => [\"%{syslog<em>severity}\"] host => \"127.0.0.1\" port => \"12211\" sender => \"%{logsource}\" short</em>message => \"%{message}\" full<em>message => \"%{syslog</em>full}\" ship<em>metadata => true ship</em>tags => true ignore<em>metadata => [ \"type\", \"syslog</em>pri\", \"syslog<em>timestamp\", \"syslog</em>hostname\", \"syslog<em>message\", \"syslog</em>severity\", \"syslog<em>severity</em>code\", \"syslog<em>facility</em>code\", \"syslog<em>full\" ] } } else if [program] </mark> \"apache-error\" { gelf { level => [\"%{class}\",\"ERROR\"] host => \"127.0.0.1\" port => \"12211\" sender => \"%{logsource}\" short</em>message => \"%{message}\" full<em>message => \"%{errmsg}\" ship</em>metadata => true ship<em>tags => true ignore</em>metadata => [ \"type\", \"syslog<em>pri\", \"syslog</em>timestamp\", \"syslog<em>hostname\", \"syslog</em>message\", \"syslog<em>severity\", \"syslog</em>severity<em>code\", \"syslog</em>facility<em>code\", \"syslog</em>full\" ] } } else { gelf { level => [\"%{syslog<em>severity}\",\"%{esxi</em>loglevel}\",\"UNKNOWN\"] host => \"127.0.0.1\" port => \"12211\" sender => \"%{logsource}\" short<em>message => \"%{message}\" full</em>message => \"%{syslog<em>full}\" ship</em>metadata => true ship_tags => true } } }</p>\n\n<p>Toutes ces sorties envoient les logs vers le serveur Graylog2. En fonction des différentes sources, les variables sources des champs envoyés varient car en fonction des pattern, les noms ne sont pas forcément les mêmes, surtout pour les « level » et « sender ».</p>\n\n<h3 id=\"outils\">Outils :</h3>\n\n<p><a href=\"http://grokdebug.herokuapp.com/\">Débugger vos patterns !</a></p>\n\n<h5 id=\"fichierdepatterns\">Fichier de patterns</h5>\n\n<p>[root@sl-0-syslogint1 ~]# cat /etc/logstash/grok/grok.conf HTTPERRORDATE %{DAY} %{MONTH} %{MONTHDAY} %{TIME} %{YEAR} APACHEERRORLOG %{SYSLOGTIMESTAMP:mytimestamp} %{SYSLOGHOST:syslog<em>hostname} %{DATA:syslog</em>program} [%{HTTPERRORDATE:timestamp}] [%{WORD:severity}] [client %{IPORHOST:clientip}] %{GREEDYDATA:message<em>remainder} USERNAME [a-zA-Z0-9.</em>-]+ USER %{USERNAME} INT (?:[+-]?(?:[0-9]+)) BASE10NUM (?&lt;<img src=\"?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2}\" alt=\"0-9.+-])(?>[+-]?(?:(?:[0-9]+(?:.[0-9]+)?)|(?:.[0-9]+))) NUMBER (?:%{BASE10NUM}) BASE16NUM (?<![0-9A-Fa-f])(?:[+-]?(?:0x)?(?:[0-9A-Fa-f]+)) BASE16FLOAT \\b(?<![0-9A-Fa-f.])(?:[+-]?(?:0x)?(?:(?:[0-9A-Fa-f]+(?:\\.[0-9A-Fa-f]*)?)|(?:\\.[0-9A-Fa-f]+)))\\b POSINT \\b(?:[1-9][0-9]*)\\b NONNEGINT \\b(?:[0-9]+)\\b WORD \\b\\w+\\b NOTSPACE \\S+ SPACE \\s* DATA .*? GREEDYDATA .* QUOTEDSTRING (?>(?<!\\\\)(?>&quot;(?>\\.|[^\\&quot;]+)+&quot;|&quot;&quot;|(?>'(?>\\.|[^\\']+)+')|''|(?><code>(?&gt;\\\\.|[^\\\\</code>]+)+`)|``)) UUID [A-Fa-f0-9]{8}-(?:[A-Fa-f0-9]{4}-){3}[A-Fa-f0-9]{12} # Networking MAC (?:%{CISCOMAC}|%{WINDOWSMAC}|%{COMMONMAC}) CISCOMAC (?:(?:[A-Fa-f0-9]{4}.){2}[A-Fa-f0-9]{4}) WINDOWSMAC (?:(?:[A-Fa-f0-9]{2}-){5}[A-Fa-f0-9]{2}) COMMONMAC (?:(?:[A-Fa-f0-9]{2}:){5}[A-Fa-f0-9]{2}) IPV6 ((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)? IPV4 (?<![0-9])(?:(?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2})[.\" title=\"\" /><a href=\"?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2}\">.</a><a href=\"?:25[0-5]|2[0-4][0-9]|[0-1]?[0-9]{1,2}\">.</a>)(?![0-9]) IP (?:%{IPV6}|%{IPV4}) HOSTNAME \\b(?:[0-9A-Za-z][0-9A-Za-z-]{0,62})(?:\\.(?:[0-9A-Za-z][0-9A-Za-z-]{0,62}))*(\\.?|\\b) HOST %{HOSTNAME} IPORHOST (?:%{HOSTNAME}|%{IP}) HOSTPORT %{IPORHOST}:%{POSINT} # paths PATH (?:%{UNIXPATH}|%{WINPATH}) UNIXPATH (?>/(?>[\\w<em>%!$@:.,~-]+|\\.)*)+ TTY (?:/dev/(pts|tty([pq])?)(\\w+)?/?(?:[0-9]+)) WINPATH (?>[A-Za-z]+:|\\)(?:\\[^\\?*]*)+ URIPROTO [A-Za-z]+(+[A-Za-z+]+)? URIHOST %{IPORHOST}(?::%{POSINT:port})? # uripath comes loosely from RFC1738, but mostly from what Firefox # doesn't turn into %XX URIPATH (?:/[A-Za-z0-9$.+!*'(){},~:;=@#%</em>-]<em>)+ #URIPARAM \\?(?:[A-Za-z0-9]+(?:=(?:[^&amp;]</em>))?(?:&amp;(?:[A-Za-z0-9]+(?:=(?:[^&amp;]<em>))?)?)</em>)? URIPARAM \\?[A-Za-z0-9$.+!<em>'|(){},~@#%&amp;/=:;_?-[]]</em> URIPATHPARAM %{URIPATH}(?:%{URIPARAM})? URI %{URIPROTO}://(?:%{USER}(?::[^@]*)?@)?(?:%{URIHOST})?(?:%{URIPATHPARAM})? # Months: January, Feb, 3, 03, 12, December MONTH \\b(?:Jan(?:uary)?|Feb(?:ruary)?|Mar(?:ch)?|Apr(?:il)?|May|Jun(?:e)?|Jul(?:y)?|Aug(?:ust)?|Sep(?:tember)?|Oct(?:ober)?|Nov(?:ember)?|Dec(?:ember)?)\\b MONTHNUM (?:0?[1-9]|1[0-2]) MONTHNUM2 (?:0[1-9]|1[0-2]) MONTHDAY (?:(?:0[1-9])|(?:[12][0-9])|(?:3[01])|[1-9]) # Days: Monday, Tue, Thu, etc... DAY (?:Mon(?:day)?|Tue(?:sday)?|Wed(?:nesday)?|Thu(?:rsday)?|Fri(?:day)?|Sat(?:urday)?|Sun(?:day)?) # Years? YEAR (?>\\d\\d){1,2} HOUR (?:2[0123]|[01]?[0-9]) MINUTE (?:[0-5][0-9]) # '60' is a leap second in most time standards and thus is valid. SECOND (?:(?:[0-5]?[0-9]|60)(?:[:.,][0-9]+)?) TIME (?!&lt;[0-9])%{HOUR}:%{MINUTE}(?::%{SECOND})(?![0-9]) # datestamp is YYYY/MM/DD-HH:MM:SS.UUUU (or something like it) DATE<em>US %{MONTHNUM}[/-]%{MONTHDAY}[/-]%{YEAR} DATE</em>EU %{MONTHDAY}[./-]%{MONTHNUM}[./-]%{YEAR} ISO8601<em>TIMEZONE (?:Z|[+-]%{HOUR}(?::?%{MINUTE})) ISO8601</em>SECOND (?:%{SECOND}|60) TIMESTAMP<em>ISO8601 %{YEAR}-%{MONTHNUM}-%{MONTHDAY}[T ]%{HOUR}:?%{MINUTE}(?::?%{SECOND})?%{ISO8601</em>TIMEZONE}? DATE %{DATE<em>US}|%{DATE</em>EU} DATESTAMP %{DATE}[- ]%{TIME} TZ (?:[PMCE][SD]T|UTC) DATESTAMP<em>RFC822 %{DAY} %{MONTH} %{MONTHDAY} %{YEAR} %{TIME} %{TZ} DATESTAMP</em>RFC2822 %{DAY}, %{MONTHDAY} %{MONTH} %{YEAR} %{TIME} %{ISO8601<em>TIMEZONE} DATESTAMP</em>OTHER %{DAY} %{MONTH} %{MONTHDAY} %{TIME} %{TZ} %{YEAR} DATESTAMP<em>EVENTLOG %{YEAR}%{MONTHNUM2}%{MONTHDAY}%{HOUR}%{MINUTE}%{SECOND} # Syslog Dates: Month Day HH:MM:SS SYSLOGTIMESTAMP %{MONTH} +%{MONTHDAY} %{TIME} PROG (?:[\\w.</em>/%-]+) SYSLOGPROG %{PROG:program}(?:[%{POSINT:pid}])? SYSLOGHOST %{IPORHOST} SYSLOGFACILITY &lt;%{NONNEGINT:facility}.%{NONNEGINT:priority}> HTTPERRORDATE %{DAY} %{MONTH} %{MONTHDAY} %{TIME} %{YEAR} HTTPDATE %{MONTHDAY}/%{MONTH}/%{YEAR}:%{TIME} %{INT} # Shortcuts QS %{QUOTEDSTRING} # Log formats SYSLOGBASE %{SYSLOGTIMESTAMP:timestamp} (?:%{SYSLOGFACILITY} )?%{SYSLOGHOST:logsource} %{SYSLOGPROG}: COMMONAPACHELOG %{IPORHOST:clientip} %{USER:ident} %{NOTSPACE:auth} [%{HTTPDATE:timestamp}] \"(?:%{WORD:verb} %{NOTSPACE:request}(?: HTTP/%{NUMBER:httpversion})?|%{DATA:rawrequest})\" %{NUMBER:response} (?:%{NUMBER:bytes}|-) COMBINEDAPACHELOG %{COMMONAPACHELOG} %{QS:referrer} %{QS:agent} # Log Levels LOGLEVEL ([Aa]lert|ALERT|[Tt]race|TRACE|[Dd]ebug|DEBUG|[Nn]otice|NOTICE|[Ii]nfo|INFO|[Ww]arn?(?:ing)?|WARN?(?:ING)?|[Ee]rr?(?:or)?|ERR?(?:OR)?|[Cc]rit?(?:ical)?|CRIT?(?:ICAL)?|[Ff]atal|FATAL|[Ss]evere|SEVERE|EMERG(?:ENCY)?|[Ee]merg(?:ency)?)</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-15T10:23:39.000Z","created_by":1,"updated_at":"2014-11-26T09:44:54.000Z","updated_by":1,"published_at":"2014-10-15T10:23:39.000Z","published_by":1},{"id":31,"uuid":"b258d2ca-47d8-4532-b7e1-33f829d116ad","title":"[Edité][Linux] Commande Find : astuces","slug":"linux-commande-find-astuces","markdown":"\nLa commande find est très puissante et permet de rechercher des fichiers avec des critères de recherche extrêmement nombreux. Elle permet également d’exécuter d’autres commandes sur les fichiers trouvés.  \n  \n  \n\nJe vous propose de décrire quelques cas d’utilisation, je tâcherai de mettre à jour cet article au fur et à mesure.\n\n \n\n### Utilisation basique\n\n##### Trouver un fichier à partir de son nom\n\nfind /dossier/ou/chercher -name \"nom du fichier\"\n\nCette recherche est récursive, find va chercher également dans les sous dossiers.\n\nOn peut mettre des « * » dans le nom du fichier afin de faire des recherches génériques par example : « *.log » pour trouver tous les fichiers se terminant par « .log ».\n\n \n\n##### Trouver un fichier dont le propriétaire n’est pas un certain utilisateur\n\nPour des questions de sécurité, ou tout simplement de droit d’accès, on peut être amené a chercher les fichier qui n’appartiennent pas à un utilisateur donnée. Dans notre cas, nous cherchons les fichier qui n’appartiennent pas à l’utilisateur « jboss » car nous avons un souci avec une application qui ne peut plus accéder à ces fichiers.\n\nfind . \\! -user jboss -print\n\nLe « ! » permet la négation de la condition et il nous faut l’échapper sinon le Bash prend le « ! » pour lui.\n\n \n\n##### Exclure des dossiers d’une recherche\n\nDans cette recherche, nous allons lister les fichiers d’un dossier en excluant ceux situés dans les sous dossiers « .etc » et « lost+found ».\n\nfind .t -type d \\( -path .etc -o path lost+found \\) \\! -prune -o -print\n\n \n\n### Utilisation avancée\n\n##### Trouver un fichier avec son nom et le renommer\n\nfind /dossier/ou/chercher -name \"nom du fichier\" -exec mv {} /nouveau/chemin/nouveau_nom_du_fichier \\;\n\nDans ce cas, on fait une recherche classique du fichier par son nom et on utilise l’option « exec » qui appelle la commande « mv ».\n\nOn remarquera la présence des accolades vides « {} », ceci représente l’élément trouvé par find. L’option exec appelle une commande, cet appel doit se terminer par « \\; » !\n\n \n\n##### Supprimer des fichiers en fonction de leur date de dernière modification\n\nfind /dossier/ou/chercher -name \"nom du fichier\" -mtime +14 -exec rm {} \\;\n\nOn cherche un fichier basiquement avec son nom, mais on ne garde que ceux qui portent ce nom et qui n’ont pas été modifiés depuis plus de 14 jours.\n\nOn appelle ensuite la commande « rm » via l’option « exec » pour supprimer ces anciens fichiers.\n\n\n","html":"<p>La commande find est très puissante et permet de rechercher des fichiers avec des critères de recherche extrêmement nombreux. Elle permet également d’exécuter d’autres commandes sur les fichiers trouvés.  </p>\n\n<p>Je vous propose de décrire quelques cas d’utilisation, je tâcherai de mettre à jour cet article au fur et à mesure.</p>\n\n<h3 id=\"utilisationbasique\">Utilisation basique</h3>\n\n<h5 id=\"trouverunfichierpartirdesonnom\">Trouver un fichier à partir de son nom</h5>\n\n<p>find /dossier/ou/chercher -name \"nom du fichier\"</p>\n\n<p>Cette recherche est récursive, find va chercher également dans les sous dossiers.</p>\n\n<p>On peut mettre des « * » dans le nom du fichier afin de faire des recherches génériques par example : « *.log » pour trouver tous les fichiers se terminant par « .log ».</p>\n\n<h5 id=\"trouverunfichierdontlepropritairenestpasuncertainutilisateur\">Trouver un fichier dont le propriétaire n’est pas un certain utilisateur</h5>\n\n<p>Pour des questions de sécurité, ou tout simplement de droit d’accès, on peut être amené a chercher les fichier qui n’appartiennent pas à un utilisateur donnée. Dans notre cas, nous cherchons les fichier qui n’appartiennent pas à l’utilisateur « jboss » car nous avons un souci avec une application qui ne peut plus accéder à ces fichiers.</p>\n\n<p>find . ! -user jboss -print</p>\n\n<p>Le « ! » permet la négation de la condition et il nous faut l’échapper sinon le Bash prend le « ! » pour lui.</p>\n\n<h5 id=\"excluredesdossiersdunerecherche\">Exclure des dossiers d’une recherche</h5>\n\n<p>Dans cette recherche, nous allons lister les fichiers d’un dossier en excluant ceux situés dans les sous dossiers « .etc » et « lost+found ».</p>\n\n<p>find .t -type d ( -path .etc -o path lost+found ) ! -prune -o -print</p>\n\n<h3 id=\"utilisationavance\">Utilisation avancée</h3>\n\n<h5 id=\"trouverunfichieravecsonnometlerenommer\">Trouver un fichier avec son nom et le renommer</h5>\n\n<p>find /dossier/ou/chercher -name \"nom du fichier\" -exec mv {} /nouveau/chemin/nouveau<em>nom</em>du_fichier \\;</p>\n\n<p>Dans ce cas, on fait une recherche classique du fichier par son nom et on utilise l’option « exec » qui appelle la commande « mv ».</p>\n\n<p>On remarquera la présence des accolades vides « {} », ceci représente l’élément trouvé par find. L’option exec appelle une commande, cet appel doit se terminer par « \\; » !</p>\n\n<h5 id=\"supprimerdesfichiersenfonctiondeleurdatedederniremodification\">Supprimer des fichiers en fonction de leur date de dernière modification</h5>\n\n<p>find /dossier/ou/chercher -name \"nom du fichier\" -mtime +14 -exec rm {} \\;</p>\n\n<p>On cherche un fichier basiquement avec son nom, mais on ne garde que ceux qui portent ce nom et qui n’ont pas été modifiés depuis plus de 14 jours.</p>\n\n<p>On appelle ensuite la commande « rm » via l’option « exec » pour supprimer ces anciens fichiers.</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-15T10:57:51.000Z","created_by":1,"updated_at":"2014-11-25T15:39:29.000Z","updated_by":1,"published_at":"2014-10-15T10:57:51.000Z","published_by":1},{"id":32,"uuid":"ffc74ccf-3e73-4970-bb52-4a01908d25a1","title":"[Oracle] Identifier les bases de données démarrées sur une machine","slug":"oracle-identifier-les-bases-de-donnees-demarrees-sur-une-machine","markdown":"\n### Détecter les bases Oracle installées sur la machine\n\nLorsqu’une base est créée avec les outils Oracle, une ligne est ajoutée dans le fichier /etc/oratab. Il est de bon ton d’ajouter une ligne dans ce fichier lorsque les bases sont créées à la main également.  \n  \n Ce fichier est utilisé par pas mal d’outils afin de détecter les bases installées sur une machine.\n\n \n\nVoici comment ce fichier se présente.\n\n[![image2014-4-10 12-35-45](https://techan.fr/images/2014/10/image2014-4-10-12-35-45.png)](https://techan.fr/images/2014/10/image2014-4-10-12-35-45.png)\n\nPour chaque entrée, les champs sont séparés par des « : » , voici ce que chacun de ces champs représentent.\n\n<SID>:<ORACLE_HOME>:<AUTO START>\n\nDans l’exemple ci dessus, on peut voir que deux bases sontenregistrées sur cette machine : « lora12c1001d » et « TFTI1 ».\n\n- lora12c1001d utilise un Oracle Home en version 12c.\n- TFTI1 utilise un Oracle Home en version 11gR2.\n\nLe dernier champ peut avoir la valeur « Y » ou « N ».\n\n- Y : la base démarre automatiquement avec le système.\n- N : la base ne démarre pas avec le système.\n\n \n\n### Lister les bases démarrées sur la machine\n\n##### Sur Linux/UNIX\n\nOn peut avoir la liste des bases démarrées en utilisant la commande « ps ».\n\n$ ps -ef | grep smon\n\nOn cherche toutes les processus qui contiennent « smon » dans leur nom, « smon » est un processus unique pour chaque base de données.\n\n \n\n[![image2014-4-10 12-39-40](https://techan.fr/images/2014/10/image2014-4-10-12-39-40.png)](https://techan.fr/images/2014/10/image2014-4-10-12-39-40.png)\n\nOn voit ici que deux bases sont démarrées : « lora12c1001d » et « TFTI1 ».\n\n \n\n\n","html":"<h3 id=\"dtecterlesbasesoracleinstallessurlamachine\">Détecter les bases Oracle installées sur la machine</h3>\n\n<p>Lorsqu’une base est créée avec les outils Oracle, une ligne est ajoutée dans le fichier /etc/oratab. Il est de bon ton d’ajouter une ligne dans ce fichier lorsque les bases sont créées à la main également.  </p>\n\n<p>Ce fichier est utilisé par pas mal d’outils afin de détecter les bases installées sur une machine.</p>\n\n<p>Voici comment ce fichier se présente.</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-10-12-35-45.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-10-12-35-45.png\" alt=\"image2014-4-10 12-35-45\" title=\"\" /></a></p>\n\n<p>Pour chaque entrée, les champs sont séparés par des « : » , voici ce que chacun de ces champs représentent.</p>\n\n<p><SID>:<ORACLE_HOME>:<AUTO START></p>\n\n<p>Dans l’exemple ci dessus, on peut voir que deux bases sontenregistrées sur cette machine : « lora12c1001d » et « TFTI1 ».</p>\n\n<ul>\n<li>lora12c1001d utilise un Oracle Home en version 12c.</li>\n<li>TFTI1 utilise un Oracle Home en version 11gR2.</li>\n</ul>\n\n<p>Le dernier champ peut avoir la valeur « Y » ou « N ».</p>\n\n<ul>\n<li>Y : la base démarre automatiquement avec le système.</li>\n<li><p>N : la base ne démarre pas avec le système.</p></li>\n</ul>\n\n<h3 id=\"listerlesbasesdmarressurlamachine\">Lister les bases démarrées sur la machine</h3>\n\n<h5 id=\"surlinuxunix\">Sur Linux/UNIX</h5>\n\n<p>On peut avoir la liste des bases démarrées en utilisant la commande « ps ».</p>\n\n<p>$ ps -ef | grep smon</p>\n\n<p>On cherche toutes les processus qui contiennent « smon » dans leur nom, « smon » est un processus unique pour chaque base de données.</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-10-12-39-40.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-10-12-39-40.png\" alt=\"image2014-4-10 12-39-40\" title=\"\" /></a></p>\n\n<p>On voit ici que deux bases sont démarrées : « lora12c1001d » et « TFTI1 ».</p>","image":"http://blog.techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-16T09:39:57.000Z","created_by":1,"updated_at":"2014-11-20T16:48:09.000Z","updated_by":1,"published_at":"2014-10-16T09:39:57.000Z","published_by":1},{"id":33,"uuid":"88572ea0-4ed1-4937-b383-4c1f4b6c6675","title":"[Oracle] Gérer les directories","slug":"oracle-gerer-les-directories","markdown":"\nDans cet article nous allons voir comment lister les directories présents dans une base Oracle et comment les administrer.  \n  \n  \n\nLes directories sont des alias vers un dossier système dans une bases Oracle, ils permettent à Oracle de connaitre quelques uns des dossiers présents sur l’OS. Ils sont utilisées notamment pour les export/import avec DataPump.\n\nUn directory appartient à l’utilisateur qui le crée, le privilège « CREATE ANY DIRECTORY » est nécessaire pour créer des directories dans une base Oracle.\n\n \n\n### Lister les directories présents dans une base Oracle\n\nLa commande SQL ci-dessous liste tous les directories créés dans la base de données à laquelle on est connecté.\n\nselect * from dba_directories ;\n\n \n\n[![image2014-4-4 10-10-35](https://techan.fr/images/2014/10/image2014-4-4-10-10-35.png)](https://techan.fr/images/2014/10/image2014-4-4-10-10-35.png)\n\nDans cet exemple, on voit que le directory qui s’appelle « DATA_PUMP_DIR » pointe vers le dossier UNIX/Linux « /data/oracle/admin/TFTI1/dpdump ».\n\nA l’intérieur de la base de » données, toutes opérations réalisées en utilisant le dossier système « /data/oracle/admin/TFTI1/dpdump » doivent être faites en utilisant le directory « DATA_PUMP_DIR ».\n\n \n\n### Administrer les directories\n\n##### Donner le droit de créer des directories à un utilisateur\n\ngrant create any directory to <username> ;\n\n \n\n[![image2014-4-4 10-33-58](https://techan.fr/images/2014/10/image2014-4-4-10-33-58.png)](https://techan.fr/images/2014/10/image2014-4-4-10-33-58.png)\n\nL’utilisateur « scott » peut maintenant crée des directories.\n\n \n\n##### Créer un directory\n\nLa création d’un directory est faite par la commande SQL suivante :\n\ncreate directory <DIRECTORY_NAME> as '/path/to/system/directory' ;\n\n[![image2014-4-4 10-34-47](https://techan.fr/images/2014/10/image2014-4-4-10-34-47.png)](https://techan.fr/images/2014/10/image2014-4-4-10-34-47.png)\n\nL’utilisateur « scott » dispose maintenant d’un directory « DATAPUMP » qui pointe vers le dossier système « /data/oracle/admin/TFTI1/dpdump ».\n\n \n\n\n","html":"<p>Dans cet article nous allons voir comment lister les directories présents dans une base Oracle et comment les administrer.  </p>\n\n<p>Les directories sont des alias vers un dossier système dans une bases Oracle, ils permettent à Oracle de connaitre quelques uns des dossiers présents sur l’OS. Ils sont utilisées notamment pour les export/import avec DataPump.</p>\n\n<p>Un directory appartient à l’utilisateur qui le crée, le privilège « CREATE ANY DIRECTORY » est nécessaire pour créer des directories dans une base Oracle.</p>\n\n<h3 id=\"listerlesdirectoriesprsentsdansunebaseoracle\">Lister les directories présents dans une base Oracle</h3>\n\n<p>La commande SQL ci-dessous liste tous les directories créés dans la base de données à laquelle on est connecté.</p>\n\n<p>select * from dba_directories ;</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-10-10-35.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-10-10-35.png\" alt=\"image2014-4-4 10-10-35\" title=\"\" /></a></p>\n\n<p>Dans cet exemple, on voit que le directory qui s’appelle « DATA<em>PUMP</em>DIR » pointe vers le dossier UNIX/Linux « /data/oracle/admin/TFTI1/dpdump ».</p>\n\n<p>A l’intérieur de la base de » données, toutes opérations réalisées en utilisant le dossier système « /data/oracle/admin/TFTI1/dpdump » doivent être faites en utilisant le directory « DATA<em>PUMP</em>DIR ».</p>\n\n<h3 id=\"administrerlesdirectories\">Administrer les directories</h3>\n\n<h5 id=\"donnerledroitdecrerdesdirectoriesunutilisateur\">Donner le droit de créer des directories à un utilisateur</h5>\n\n<p>grant create any directory to <username> ;</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-10-33-58.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-10-33-58.png\" alt=\"image2014-4-4 10-33-58\" title=\"\" /></a></p>\n\n<p>L’utilisateur « scott » peut maintenant crée des directories.</p>\n\n<h5 id=\"crerundirectory\">Créer un directory</h5>\n\n<p>La création d’un directory est faite par la commande SQL suivante :</p>\n\n<p>create directory <DIRECTORY_NAME> as '/path/to/system/directory' ;</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-10-34-47.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-10-34-47.png\" alt=\"image2014-4-4 10-34-47\" title=\"\" /></a></p>\n\n<p>L’utilisateur « scott » dispose maintenant d’un directory « DATAPUMP » qui pointe vers le dossier système « /data/oracle/admin/TFTI1/dpdump ».</p>","image":"http://blog.techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-16T09:57:50.000Z","created_by":1,"updated_at":"2014-11-20T16:51:36.000Z","updated_by":1,"published_at":"2014-10-16T09:57:50.000Z","published_by":1},{"id":34,"uuid":"cadeb41c-9b07-4ebb-b329-82a25ff1d124","title":"[Oracle] Gérer les utilisateurs","slug":"oracle-gerer-les-utilisateurs","markdown":"\nUn utilisateur Oracle est un schéma Oracle, c’est un login associé à un mot de passe. Ce compte peut contenir des objets ou utiliser les objets d’autres utilisateurs s’il en a le droit.  \n  \n  \n\n### Lister les utilisateurs d’une base Oracle\n\nCeci peut être fait via une requête SQL très simple :\n\nselect username from dba_users ;\n\n[![image2014-4-4 13-36-50](https://techan.fr/images/2014/10/image2014-4-4-13-36-50.png)](https://techan.fr/images/2014/10/image2014-4-4-13-36-50.png)\n\n<span style=\"text-decoration: underline;\">**Attention :**</span> Ceci liste <span style=\"text-decoration: underline;\">**tous**</span> les utilisateurs présents dans la base, même les utilisateurs systèmes d’Oracle.\n\n \n\n### Créer un utilisateur\n\nLa requête suivante permet de créer un utilisateur dans Oracle.\n\ncreate user <USERNAME> identified by <PASSWORD> ;\n\n[![image2014-4-4 13-40-28](https://techan.fr/images/2014/10/image2014-4-4-13-40-28.png)](https://techan.fr/images/2014/10/image2014-4-4-13-40-28.png)\n\nCeci va créer l’utilisateur « izual » avec le mot de passe « izualpass ».\n\n<span style=\"text-decoration: underline;\">**Attention :**</span>\n\n- Pour les versions 10gR2 et antérieures, les mots de passe **ne sont pas case sensitive**.\n- Pour les versions 11gR1 et suivante, les mots de passe **sont case sensitive**.\n\n \n\n##### Donner quelques droits basiques à l’utilisateur\n\nPar défaut, un utilisateur Oracle ne peut rien faire, même pas se connecter à la base.\n\nLes privilèges basique a donner sont :\n\n- **connect **: Permet à l’utilisateur de se connecter à la base.\n- **resource** : Permet à l’utilisateur d’utiliser de l’espace dans son tablespace.\n\n \n\nDonner ces privilèges se fait via cette requête SQL :\n\ngrant connect, resource to <USERNAME> ;\n\n[![image2014-4-4 13-49-44](https://techan.fr/images/2014/10/image2014-4-4-13-49-44.png)](https://techan.fr/images/2014/10/image2014-4-4-13-49-44.png)\n\nA partir de maintenant, l’utilisateur « izual » peut se connecter à la base et créer des objets.\n\n \n\n### Modifier un utilisateur Oracle\n\n##### Mot de passe\n\n[![image2014-4-4 13-53-9](https://techan.fr/images/2014/10/image2014-4-4-13-53-9.png)](https://techan.fr/images/2014/10/image2014-4-4-13-53-9.png)\n\nLe mot de passe du compte « izual » est maintenant « izualnewpass ».\n\n \n\n##### Changer le tablespace par défaut\n\nLe tablepsace par défaut, est l’endroit ou sont stockés les objets les objets si l’on ne spécifie pas un tablespace en particulier.\n\nPar défaut, le tablepspace par défaut est « USERS ».\n\n[![image2014-4-4 13-54-51](https://techan.fr/images/2014/10/image2014-4-4-13-54-51.png)](https://techan.fr/images/2014/10/image2014-4-4-13-54-51.png)\n\nOn peut changer ce default tablepsace en utilisant la commande suivante.\n\nalter user <USERNAME> default tablespace EXAMPLE ;\n\n \n\n[![image2014-4-4 14-1-0](https://techan.fr/images/2014/10/image2014-4-4-14-1-0.png)](https://techan.fr/images/2014/10/image2014-4-4-14-1-0.png)\n\nLe tablespace par défaut est maintenant « EXAMPLE ».\n\n \n\n### Vérouiller et dévérouiller des comptes\n\nVerrouiller des compte peut être utile si l’on souhaite empêcher des applications ou des utilisateurs de se connecter sur une base Oracle.\n\n \n\n##### Verrouiller un compte\n\nLa commande suivante permet de verrouiller un compte :\n\nalter user <USERNAME> account lock ;\n\n[![image2014-4-4 14-3-37](https://techan.fr/images/2014/10/image2014-4-4-14-3-37.png)](https://techan.fr/images/2014/10/image2014-4-4-14-3-37.png)\n\nLe compte « izual » est maintenant verrouillé, personne ne peux plus se connecter à la base en l’utilisant.  \n[![image2014-4-4 14-4-33](https://techan.fr/images/2014/10/image2014-4-4-14-4-33.png)](https://techan.fr/images/2014/10/image2014-4-4-14-4-33.png)\n\n \n\n##### Déverrouiller un compte\n\nVoici la requête qui permet de déverrouiller un compte :\n\nalter user <USERNAME> account unlock ;\n\n[![image2014-4-4 14-5-37](https://techan.fr/images/2014/10/image2014-4-4-14-5-37.png)](https://techan.fr/images/2014/10/image2014-4-4-14-5-37.png)\n\nOn peut de nouveau se connecter avec le compte « izual ».\n\n[![image2014-4-4 14-5-51](https://techan.fr/images/2014/10/image2014-4-4-14-5-51.png)](https://techan.fr/images/2014/10/image2014-4-4-14-5-51.png)\n\n \n\n### Sauvegarder le mot de passe d’un utilisateur\n\nDans Oracle, on ne peut accéder au mot de passe en clair, on peut seulement récupérer le hashage des mots de passe.\n\nCette manipulation est intéressante si l’on souhaite recréer un compte avec le même mot de passe qu’un autre mais sans le connaitre.\n\n \n\n##### Oracle 10gR2 et antérieur\n\nOn peut utiliser cette requête pour récupérer le hashage du mot de passe :\n\nSQL> select username, password from dba_users where username='<USERNAME>' ;\n\n \n\n##### Oracle 11gR1 et supérieur\n\nA partir de la version 11gR1, Oracle a modifié sa stratégie de stockage des mots de passe. Ils ne sont plus accessible dans la vue dba_users.\n\nIl faut maintenant utiliser la méthode suivante pour récupérer les mots de passe.\n\nSQL> select dbms_metadata.get_ddl('USER','<USERNAME>') from dual ;\n\n \n\n**<span style=\"text-decoration: underline;\">Note :</span>** Il ne faut pas oublier le « set long 999999 » qui permet d’avoir l’affichage complet, non tronqué de la sortie de cette commande.\n\n[![image2014-4-7 11-19-7](https://techan.fr/images/2014/10/image2014-4-7-11-19-7.png)](https://techan.fr/images/2014/10/image2014-4-7-11-19-7.png)\n\n \n\n### Créer un utilisateur en utilisant le hashage du mot de passe\n\nSi vous avez récupérer un hash de mot de passe et que vous souhaitez remettre ce mot de passe à un utilisateur, voici la marche à suivre :\n\nalter user <USERNAME> identified by values '<PASSWORD HASH VALUE>' ;\n\n \n\n[![image2014-4-7 11-22-9](https://techan.fr/images/2014/10/image2014-4-7-11-22-9.png)](https://techan.fr/images/2014/10/image2014-4-7-11-22-9.png)\n\n\n","html":"<p>Un utilisateur Oracle est un schéma Oracle, c’est un login associé à un mot de passe. Ce compte peut contenir des objets ou utiliser les objets d’autres utilisateurs s’il en a le droit.  </p>\n\n<h3 id=\"listerlesutilisateursdunebaseoracle\">Lister les utilisateurs d’une base Oracle</h3>\n\n<p>Ceci peut être fait via une requête SQL très simple :</p>\n\n<p>select username from dba_users ;</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-13-36-50.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-13-36-50.png\" alt=\"image2014-4-4 13-36-50\" title=\"\" /></a></p>\n\n<p><span style=\"text-decoration: underline;\"><strong>Attention :</strong></span> Ceci liste <span style=\"text-decoration: underline;\"><strong>tous</strong></span> les utilisateurs présents dans la base, même les utilisateurs systèmes d’Oracle.</p>\n\n<h3 id=\"crerunutilisateur\">Créer un utilisateur</h3>\n\n<p>La requête suivante permet de créer un utilisateur dans Oracle.</p>\n\n<p>create user <USERNAME> identified by <PASSWORD> ;</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-13-40-28.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-13-40-28.png\" alt=\"image2014-4-4 13-40-28\" title=\"\" /></a></p>\n\n<p>Ceci va créer l’utilisateur « izual » avec le mot de passe « izualpass ».</p>\n\n<p><span style=\"text-decoration: underline;\"><strong>Attention :</strong></span></p>\n\n<ul>\n<li>Pour les versions 10gR2 et antérieures, les mots de passe <strong>ne sont pas case sensitive</strong>.</li>\n<li><p>Pour les versions 11gR1 et suivante, les mots de passe <strong>sont case sensitive</strong>.</p></li>\n</ul>\n\n<h5 id=\"donnerquelquesdroitsbasiqueslutilisateur\">Donner quelques droits basiques à l’utilisateur</h5>\n\n<p>Par défaut, un utilisateur Oracle ne peut rien faire, même pas se connecter à la base.</p>\n\n<p>Les privilèges basique a donner sont :</p>\n\n<ul>\n<li><em>*connect *</em>: Permet à l’utilisateur de se connecter à la base.</li>\n<li><p><strong>resource</strong> : Permet à l’utilisateur d’utiliser de l’espace dans son tablespace.</p></li>\n</ul>\n\n<p>Donner ces privilèges se fait via cette requête SQL :</p>\n\n<p>grant connect, resource to <USERNAME> ;</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-13-49-44.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-13-49-44.png\" alt=\"image2014-4-4 13-49-44\" title=\"\" /></a></p>\n\n<p>A partir de maintenant, l’utilisateur « izual » peut se connecter à la base et créer des objets.</p>\n\n<h3 id=\"modifierunutilisateuroracle\">Modifier un utilisateur Oracle</h3>\n\n<h5 id=\"motdepasse\">Mot de passe</h5>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-13-53-9.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-13-53-9.png\" alt=\"image2014-4-4 13-53-9\" title=\"\" /></a></p>\n\n<p>Le mot de passe du compte « izual » est maintenant « izualnewpass ».</p>\n\n<h5 id=\"changerletablespacepardfaut\">Changer le tablespace par défaut</h5>\n\n<p>Le tablepsace par défaut, est l’endroit ou sont stockés les objets les objets si l’on ne spécifie pas un tablespace en particulier.</p>\n\n<p>Par défaut, le tablepspace par défaut est « USERS ».</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-13-54-51.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-13-54-51.png\" alt=\"image2014-4-4 13-54-51\" title=\"\" /></a></p>\n\n<p>On peut changer ce default tablepsace en utilisant la commande suivante.</p>\n\n<p>alter user <USERNAME> default tablespace EXAMPLE ;</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-14-1-0.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-14-1-0.png\" alt=\"image2014-4-4 14-1-0\" title=\"\" /></a></p>\n\n<p>Le tablespace par défaut est maintenant « EXAMPLE ».</p>\n\n<h3 id=\"vrouilleretdvrouillerdescomptes\">Vérouiller et dévérouiller des comptes</h3>\n\n<p>Verrouiller des compte peut être utile si l’on souhaite empêcher des applications ou des utilisateurs de se connecter sur une base Oracle.</p>\n\n<h5 id=\"verrouilleruncompte\">Verrouiller un compte</h5>\n\n<p>La commande suivante permet de verrouiller un compte :</p>\n\n<p>alter user <USERNAME> account lock ;</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-14-3-37.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-14-3-37.png\" alt=\"image2014-4-4 14-3-37\" title=\"\" /></a></p>\n\n<p>Le compte « izual » est maintenant verrouillé, personne ne peux plus se connecter à la base en l’utilisant. <br />\n<a href=\"https://techan.fr/images/2014/10/image2014-4-4-14-4-33.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-14-4-33.png\" alt=\"image2014-4-4 14-4-33\" title=\"\" /></a></p>\n\n<h5 id=\"dverrouilleruncompte\">Déverrouiller un compte</h5>\n\n<p>Voici la requête qui permet de déverrouiller un compte :</p>\n\n<p>alter user <USERNAME> account unlock ;</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-14-5-37.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-14-5-37.png\" alt=\"image2014-4-4 14-5-37\" title=\"\" /></a></p>\n\n<p>On peut de nouveau se connecter avec le compte « izual ».</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-4-14-5-51.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-4-14-5-51.png\" alt=\"image2014-4-4 14-5-51\" title=\"\" /></a></p>\n\n<h3 id=\"sauvegarderlemotdepassedunutilisateur\">Sauvegarder le mot de passe d’un utilisateur</h3>\n\n<p>Dans Oracle, on ne peut accéder au mot de passe en clair, on peut seulement récupérer le hashage des mots de passe.</p>\n\n<p>Cette manipulation est intéressante si l’on souhaite recréer un compte avec le même mot de passe qu’un autre mais sans le connaitre.</p>\n\n<h5 id=\"oracle10gr2etantrieur\">Oracle 10gR2 et antérieur</h5>\n\n<p>On peut utiliser cette requête pour récupérer le hashage du mot de passe :</p>\n\n<p>SQL> select username, password from dba_users where username='<USERNAME>' ;</p>\n\n<h5 id=\"oracle11gr1etsuprieur\">Oracle 11gR1 et supérieur</h5>\n\n<p>A partir de la version 11gR1, Oracle a modifié sa stratégie de stockage des mots de passe. Ils ne sont plus accessible dans la vue dba_users.</p>\n\n<p>Il faut maintenant utiliser la méthode suivante pour récupérer les mots de passe.</p>\n\n<p>SQL> select dbms<em>metadata.get</em>ddl('USER','<USERNAME>') from dual ;</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Note :</span></strong> Il ne faut pas oublier le « set long 999999 » qui permet d’avoir l’affichage complet, non tronqué de la sortie de cette commande.</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-7-11-19-7.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-7-11-19-7.png\" alt=\"image2014-4-7 11-19-7\" title=\"\" /></a></p>\n\n<h3 id=\"crerunutilisateurenutilisantlehashagedumotdepasse\">Créer un utilisateur en utilisant le hashage du mot de passe</h3>\n\n<p>Si vous avez récupérer un hash de mot de passe et que vous souhaitez remettre ce mot de passe à un utilisateur, voici la marche à suivre :</p>\n\n<p>alter user <USERNAME> identified by values '<PASSWORD HASH VALUE>' ;</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-7-11-22-9.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-7-11-22-9.png\" alt=\"image2014-4-7 11-22-9\" title=\"\" /></a></p>","image":"http://blog.techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-16T12:08:30.000Z","created_by":1,"updated_at":"2014-11-20T16:52:26.000Z","updated_by":1,"published_at":"2014-10-16T12:08:30.000Z","published_by":1},{"id":35,"uuid":"c73b6e0c-4427-49f5-84c8-01c2d3e0c0d3","title":"[Oracle] Les étapes d'arrêt et de démarrage.","slug":"oracle-les-etapes-darret-et-de-demarrage","markdown":"\nQuand une base de données Oracle démarre ou s’arrête, elle passe par différentes étapes successives.  \n On peut démarrer une base Oracle à plusieurs de ces étapes pour réaliser des actions spécifiques.\n\n### Les étapes de démarrage\n\n##### nomount\n\nC’est la première étape, Oracle lit le fichier SPFILE (Server Parameter File) ou le PFILE (Parameter File) pour connaître les paramètres qui ont été positionnés par les DBAs.\n\nUne fois qu’Oracle a pris connaissance de ces paramètres, comme par exemple la quantité de mémoire a allouer, il se réserve sa mémoire et démarre ses processus de background.\n\nC’est le démarrage de l’instance.\n\n##### mount\n\nDans cet état, l’instance a déjà été démarrée.\n\nOracle va lire ses « control files », ces fichiers contiennent des informations cruciales sur la base de données, comme la localisation des fichiers de données.\n\nLes « data files » ne sont pas ouverts à pendant cette étape.\n\n<span style=\"text-decoration: underline;\">**Note :**</span> Le mode « mount » est beaucoup utilisé pour restaurer la base ou pour faire des recovers avec RMAN.\n\n##### \n\n##### open\n\nC’est le dernier stade du démarrage de la base. Oracle ouvre ses data files qui ont été identifiés pendant l’étape « mount ».\n\nOracle vérife que tous ses fichiers sont consistants et ouvre la base de données aux utilisateurs.\n\n<span style=\"text-decoration: underline;\">**Note :**</span> Le mode « open » est le mode de production, les utilisateurs et les applications peuvent se connecter à la base et faire leurs opérations.\n\n### Les étapes d’arrêt\n\nPendant l’arrêt, Oracle passe successivement du mode ouver au mode mount, du mode mount au mode nomount et du mode nomount au mode closed, sauf si l’option « aboter » a été utilisée.\n\n### Démarrer une base de données\n\nIl est possible de démarrer une base dans l’un des trois états décrit plus haut.\n\nVoici les différentes commandes pour faire ça :\n\nSQL> startup nomount ; --starts DB in nomount mode SQL> startup mount ; --starts DB in mount mode SQL> startup ; --start DB in open mode\n\nSi vous avez ouvert la base dans une des étapes intermédiaires avant le open, vous pourrez pousser la base dans les étapes suivantes mais vous ne pourrez pas redescendre dans les étapes plus basses.\n\nPour faire cela, vous devrez éteindre et redémarrer la base dans un mode plus bas.\n\nVoici les commandes pour passer la base dans un mode d’ouverture plus haut :\n\nSQL> alter database mount ; --Switch a DB in nomount mode to mount mode SQL> alter database open ; --Switch a DB in nomount or mount mode to open mode\n\n \n\n### Options de démarrage spéciales\n\n##### Restrict\n\nL’option restrict est utilisée pour éviter toute connections non privilégiée à la base. La base est techniquement « ouverte » mais seuls les DBAs peuvent s’y connecter.\n\nSQL> startup restrict ; --Start a DB in restrict mode\n\n##### Upgrade\n\nLe mode upgrade porte bien son nom, il est utilisé pour passer des script de mise à jour d’Oracle (patch). C’est un mode restrict spécial qui permet de démarrer une base avec des binaires plus récents que ceux utiliser pour la créer.\n\nCette option est utilisée pour upgrader des bases de la 10gR2 vers la 11G par exemple.\n\nSQL> startup upgrade ; --Start a DB in upgrade mode\n\n \n\n### Éteindre une base\n\nLa commande pour arrêter une bases est la suivante :\n\nSQL> shutdown ; --Shut a database down\n\nVous trouverez ci-dessous les différentes options que l’on peut ajouter à cette commande.\n\n##### IMMEDIATE\n\nCauses :\n\n- Les requêtes des clients en cours d’exécution sont autorisées a continuer\n- Les transactions non commitées sont rollbackées\n- Tous les utilisateurs sont déconnectés\n\nSQL> shutdown immediate ; --Shut a database down\n\nC’est le mode d’arrêt le plus fréquent, il laisse la base dans un état consistant.\n\n##### TRANSACTIONAL\n\nCauses :\n\n- Les clients qui font des transactions sont autorisés a les terminer.\n- Les clients ne peuvent plus commencer de nouvelles transactions, ceux qui tentes de commencer une nouvelle transaction sont déconnectés.\n- Une fois toutes les transactions commitées ou terminées, tout client toujours connecté est déconnecté.\n\nSQL> shutdown transactional ; --Shut a database down\n\n \n\n##### NORMAL\n\nCauses :\n\n- Pas de nouvelles connections\n- On attend que les utilisateurs se déconnectent.\n\nLe prochain démarrage ne nécessitera pas de recovery.\n\nC’est l’optiond’arrêt par défaut.\n\nSQL> shutdown normal; --Shut a database down SQL> shutdown ; --Shut a database down\n\n \n\n##### ABORT\n\nCauses :\n\n- Termine immédiatement toutes les exécutions SQL en cours\n- Les transactions non commitées ne seront pas rollbackées avant le prochain démarrage.\n- Déconnecte tous les utilisateurs.\n\nUne recovery de l’instance sera nécessaire au prochain démarrage.\n\nA utiliser avec précaution !!!\n\nSQL> shutdown abort ; --Abort a database instance\n\nCette option va forcer le kill du processus principal de l’instance Oracle. Cela laisse la base dans un état totalement incohérent !!!\n\n<span style=\"text-decoration: underline; color: #ff0000;\">**Important !!!**</span>  \n Après un shutdown abort, vous devrez faire un startup/shutdown immediate/startup afin de permettre à Oracle de retrouver sa cohérence.\n\nCe cycle force Oracle a néttoyer les data files pour qu’ils soient cohérents.\n\nSQL> shutdown abort ; --Abort a database instance SQL> startup ; SQL> shutdown immediate ; SQL> startup ;\n\n \n\n\n","html":"<p>Quand une base de données Oracle démarre ou s’arrête, elle passe par différentes étapes successives. <br />\n On peut démarrer une base Oracle à plusieurs de ces étapes pour réaliser des actions spécifiques.</p>\n\n<h3 id=\"lestapesdedmarrage\">Les étapes de démarrage</h3>\n\n<h5 id=\"nomount\">nomount</h5>\n\n<p>C’est la première étape, Oracle lit le fichier SPFILE (Server Parameter File) ou le PFILE (Parameter File) pour connaître les paramètres qui ont été positionnés par les DBAs.</p>\n\n<p>Une fois qu’Oracle a pris connaissance de ces paramètres, comme par exemple la quantité de mémoire a allouer, il se réserve sa mémoire et démarre ses processus de background.</p>\n\n<p>C’est le démarrage de l’instance.</p>\n\n<h5 id=\"mount\">mount</h5>\n\n<p>Dans cet état, l’instance a déjà été démarrée.</p>\n\n<p>Oracle va lire ses « control files », ces fichiers contiennent des informations cruciales sur la base de données, comme la localisation des fichiers de données.</p>\n\n<p>Les « data files » ne sont pas ouverts à pendant cette étape.</p>\n\n<p><span style=\"text-decoration: underline;\"><strong>Note :</strong></span> Le mode « mount » est beaucoup utilisé pour restaurer la base ou pour faire des recovers avec RMAN.</p>\n\n<h5 id=\"\"> </h5>\n\n<h5 id=\"open\">open</h5>\n\n<p>C’est le dernier stade du démarrage de la base. Oracle ouvre ses data files qui ont été identifiés pendant l’étape « mount ».</p>\n\n<p>Oracle vérife que tous ses fichiers sont consistants et ouvre la base de données aux utilisateurs.</p>\n\n<p><span style=\"text-decoration: underline;\"><strong>Note :</strong></span> Le mode « open » est le mode de production, les utilisateurs et les applications peuvent se connecter à la base et faire leurs opérations.</p>\n\n<h3 id=\"lestapesdarrt\">Les étapes d’arrêt</h3>\n\n<p>Pendant l’arrêt, Oracle passe successivement du mode ouver au mode mount, du mode mount au mode nomount et du mode nomount au mode closed, sauf si l’option « aboter » a été utilisée.</p>\n\n<h3 id=\"dmarrerunebasededonnes\">Démarrer une base de données</h3>\n\n<p>Il est possible de démarrer une base dans l’un des trois états décrit plus haut.</p>\n\n<p>Voici les différentes commandes pour faire ça :</p>\n\n<p>SQL> startup nomount ; --starts DB in nomount mode SQL> startup mount ; --starts DB in mount mode SQL> startup ; --start DB in open mode</p>\n\n<p>Si vous avez ouvert la base dans une des étapes intermédiaires avant le open, vous pourrez pousser la base dans les étapes suivantes mais vous ne pourrez pas redescendre dans les étapes plus basses.</p>\n\n<p>Pour faire cela, vous devrez éteindre et redémarrer la base dans un mode plus bas.</p>\n\n<p>Voici les commandes pour passer la base dans un mode d’ouverture plus haut :</p>\n\n<p>SQL> alter database mount ; --Switch a DB in nomount mode to mount mode SQL> alter database open ; --Switch a DB in nomount or mount mode to open mode</p>\n\n<h3 id=\"optionsdedmarragespciales\">Options de démarrage spéciales</h3>\n\n<h5 id=\"restrict\">Restrict</h5>\n\n<p>L’option restrict est utilisée pour éviter toute connections non privilégiée à la base. La base est techniquement « ouverte » mais seuls les DBAs peuvent s’y connecter.</p>\n\n<p>SQL> startup restrict ; --Start a DB in restrict mode</p>\n\n<h5 id=\"upgrade\">Upgrade</h5>\n\n<p>Le mode upgrade porte bien son nom, il est utilisé pour passer des script de mise à jour d’Oracle (patch). C’est un mode restrict spécial qui permet de démarrer une base avec des binaires plus récents que ceux utiliser pour la créer.</p>\n\n<p>Cette option est utilisée pour upgrader des bases de la 10gR2 vers la 11G par exemple.</p>\n\n<p>SQL> startup upgrade ; --Start a DB in upgrade mode</p>\n\n<h3 id=\"teindreunebase\">Éteindre une base</h3>\n\n<p>La commande pour arrêter une bases est la suivante :</p>\n\n<p>SQL> shutdown ; --Shut a database down</p>\n\n<p>Vous trouverez ci-dessous les différentes options que l’on peut ajouter à cette commande.</p>\n\n<h5 id=\"immediate\">IMMEDIATE</h5>\n\n<p>Causes :</p>\n\n<ul>\n<li>Les requêtes des clients en cours d’exécution sont autorisées a continuer</li>\n<li>Les transactions non commitées sont rollbackées</li>\n<li>Tous les utilisateurs sont déconnectés</li>\n</ul>\n\n<p>SQL> shutdown immediate ; --Shut a database down</p>\n\n<p>C’est le mode d’arrêt le plus fréquent, il laisse la base dans un état consistant.</p>\n\n<h5 id=\"transactional\">TRANSACTIONAL</h5>\n\n<p>Causes :</p>\n\n<ul>\n<li>Les clients qui font des transactions sont autorisés a les terminer.</li>\n<li>Les clients ne peuvent plus commencer de nouvelles transactions, ceux qui tentes de commencer une nouvelle transaction sont déconnectés.</li>\n<li>Une fois toutes les transactions commitées ou terminées, tout client toujours connecté est déconnecté.</li>\n</ul>\n\n<p>SQL> shutdown transactional ; --Shut a database down</p>\n\n<h5 id=\"normal\">NORMAL</h5>\n\n<p>Causes :</p>\n\n<ul>\n<li>Pas de nouvelles connections</li>\n<li>On attend que les utilisateurs se déconnectent.</li>\n</ul>\n\n<p>Le prochain démarrage ne nécessitera pas de recovery.</p>\n\n<p>C’est l’optiond’arrêt par défaut.</p>\n\n<p>SQL> shutdown normal; --Shut a database down SQL> shutdown ; --Shut a database down</p>\n\n<h5 id=\"abort\">ABORT</h5>\n\n<p>Causes :</p>\n\n<ul>\n<li>Termine immédiatement toutes les exécutions SQL en cours</li>\n<li>Les transactions non commitées ne seront pas rollbackées avant le prochain démarrage.</li>\n<li>Déconnecte tous les utilisateurs.</li>\n</ul>\n\n<p>Une recovery de l’instance sera nécessaire au prochain démarrage.</p>\n\n<p>A utiliser avec précaution !!!</p>\n\n<p>SQL> shutdown abort ; --Abort a database instance</p>\n\n<p>Cette option va forcer le kill du processus principal de l’instance Oracle. Cela laisse la base dans un état totalement incohérent !!!</p>\n\n<p><span style=\"text-decoration: underline; color: #ff0000;\"><strong>Important !!!</strong></span> <br />\n Après un shutdown abort, vous devrez faire un startup/shutdown immediate/startup afin de permettre à Oracle de retrouver sa cohérence.</p>\n\n<p>Ce cycle force Oracle a néttoyer les data files pour qu’ils soient cohérents.</p>\n\n<p>SQL> shutdown abort ; --Abort a database instance SQL> startup ; SQL> shutdown immediate ; SQL> startup ;</p>","image":"http://blog.techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-16T15:33:21.000Z","created_by":1,"updated_at":"2014-11-20T16:53:15.000Z","updated_by":1,"published_at":"2014-10-16T15:33:21.000Z","published_by":1},{"id":36,"uuid":"7bfbdf00-d13f-410d-a295-9e3b1a0ce48d","title":"Mise en garde","slug":"disclaimer","markdown":"\n\n## A propos du contenu de ce site\n\nL’ensemble des publications présentes sur ce site n’engagent la responsabilité de l’auteur ni celle du site Tech AN.\n\nCe sont des informations données gracieusement dans le but d’aider les internautes intéressés. En aucun cas les éventuelles erreurs présentes dans ces pages ou articles ne pourront être retenues contre l’auteur ou le site en cas de dommage sur un système quelqu’il soit.\n\nL’auteur rappelle que les procédures et astuces qu’il fournit doivent être testées sur des systèmes non critiques avant toute action en production.\n\n \n\n\n## A propos de l’utilisation des cookies\n\nCe site utilise des cookies afin de mieux comprendre votre utilisation des services qu’il propose. L’amélioration des contenus proposés et de votre expérience utilisateurs dépend en grande partie de ces cookies. Google en tant que vendeur tiers utilise également des cookies sur ce site afin de proposer des publicités ciblées. Ce procédé assure la pérennité du site en aidant au paiement de son hébergement, vous pouvez vous en désengager sur [ce site](http://www.google.com/policies/technologies/ads/).\n\nVous pouvez à tout moment supprimer les cookies de votre terminal :\n\n<iframe allowfullscreen=\"\" frameborder=\"0\" height=\"281\" src=\"https://www.youtube.com/embed/Ij9EkAQzVvM?feature=oembed\" width=\"500\"></iframe>\n\n \n\nBonne navigation !\n\n\n","html":"<h2 id=\"aproposducontenudecesite\">A propos du contenu de ce site</h2>\n\n<p>L’ensemble des publications présentes sur ce site n’engagent la responsabilité de l’auteur ni celle du site Tech AN.</p>\n\n<p>Ce sont des informations données gracieusement dans le but d’aider les internautes intéressés. En aucun cas les éventuelles erreurs présentes dans ces pages ou articles ne pourront être retenues contre l’auteur ou le site en cas de dommage sur un système quelqu’il soit.</p>\n\n<p>L’auteur rappelle que les procédures et astuces qu’il fournit doivent être testées sur des systèmes non critiques avant toute action en production.</p>\n\n<h2 id=\"aproposdelutilisationdescookies\">A propos de l’utilisation des cookies</h2>\n\n<p>Ce site utilise des cookies afin de mieux comprendre votre utilisation des services qu’il propose. L’amélioration des contenus proposés et de votre expérience utilisateurs dépend en grande partie de ces cookies. Google en tant que vendeur tiers utilise également des cookies sur ce site afin de proposer des publicités ciblées. Ce procédé assure la pérennité du site en aidant au paiement de son hébergement, vous pouvez vous en désengager sur <a href=\"http://www.google.com/policies/technologies/ads/\">ce site</a>.</p>\n\n<p>Vous pouvez à tout moment supprimer les cookies de votre terminal :</p>\n\n<iframe allowfullscreen=\"\" frameborder=\"0\" height=\"281\" src=\"https://www.youtube.com/embed/Ij9EkAQzVvM?feature=oembed\" width=\"500\"></iframe>\n\n<p>Bonne navigation !</p>","image":null,"featured":0,"page":1,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-17T07:40:05.000Z","created_by":1,"updated_at":"2015-06-27T10:29:54.000Z","updated_by":1,"published_at":"2014-10-17T07:40:05.000Z","published_by":1},{"id":37,"uuid":"4afacc29-5332-4fe5-9374-b00becdb8fc6","title":"[Linux] Transformer votre Linux en Time Capsule","slug":"linux-transformer-votre-linux-en-time-capsule","markdown":"\nSi vous disposez d’un Mac que vous voulez sauvegarder sur le réseau, vous avez le choix d’acheter un boitier Apple proposant Time Machine. Mais cette solution peut revenir assez cher. Par contre, si vous disposez d’un Linux avec un peu (beaucoup) de disque disponible, vous pouvez faire croire à votre Mac qu’il est une Time Capsule.  \n  \n  \n\nVoici la marche a suivre pour ce faire.\n\n \n\n### Sur le Linux\n\n##### Installer et configurer netatalk\n\nInstallez netatalk.\n\naptitude install netatalk\n\n \n\nÉditez le fichier de configuration de NetATalk.\n\nvi /etc/default/netatalk\n\n \n\nSon contenu doit ressembler à cela, modulo le nom du serveur.\n\ncat /etc/default/netatalk | grep -ve \"^#\" -e \"^$\" ATALK_NAME=Baal ATALK_UNIX_CHARSET='LOCALE' ATALK_MAC_CHARSET='MAC_ROMAN' export ATALK_UNIX_CHARSET export ATALK_MAC_CHARSET CNID_METAD_RUN=yes AFPD_RUN=yes ATALKD_RUN=no PAPD_RUN=no TIMELORD_RUN=no A2BOOT_RUN=no\n\n \n\nÉditez ensuite les partages proposés via AppleTalk.\n\nvi /etc/netatalk/AppleVolumes.default\n\n \n\nSon contenu doit ressemble à ceci :\n\ncat /etc/netatalk/AppleVolumes.default | grep -ve \"^#\" -e \"^$\" :DEFAULT: options:upriv,usedots ~/ \"Home Directory\" /TimeMachine \"Time Capsule\" allow:@raphael options:usedots,upriv,tm\n\nDans mon cas, le dossier qui va être utilisé pour les sauvegardes Time Machine est /TimeMachine et l’utilisateur autorisé est « raphael ». Il s’agit d’un utilisateur sur le Linux, pas d’un utilisateur sur le Mac.\n\n \n\nOn redémarrer netatalk.\n\nservice netatalk restart Restarting Netatalk Daemons (this will take a while)Stopping Netatalk Daemons: afpd cnid_metad papd timelord atalkd. ..Starting Netatalk services (this will take a while): cnid_metad afpd. done.\n\n##### \n\n##### Installer et configurer avahi\n\nAvahi est l’implémentation de Bonjour sur Linux, il faut l’installer avec la commande suivante.\n\naptitude install avahi-daemon libnss-mdns\n\n \n\nEnsuite, il nous faut éditer quelques fichiers de configuration.\n\nvi /etc/nsswitch.conf\n\nLa ligne :\n\nhosts: files mdns4_minimal [NOTFOUND=return] dns\n\nDoit devenir :\n\nhosts: files mdns4_minimal [NOTFOUND=return] dns mdns4 mdns\n\nIl faut créer un fichier de configuration pour qu’avahi propose afp comme service.\n\nvi /etc/avahi/services/afpd.service\n\nAjouter ce contenu au fichier :\n\n<?xml version=\"1.0\" standalone='no'?><!--*-nxml-*-->  <service-group> <name replace-wildcards=\"yes\">%h</name> <service> <type>_afpovertcp._tcp</type> <port>548</port> </service> <service> <type>_device-info._tcp</type> <port>0</port> <txt-record>model=Xserve</txt-record> </service> </service-group>\n\n### \n\nOn redémarre avahi :\n\nservice avahi-daemon restart avahi-daemon stop/waiting avahi-daemon start/running, process 23251\n\nTout est bon sur notre Linux ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n### Sur Le Mac\n\nIl faut ouvrir le terminal, et taper la commande suivante :\n\ndefaults write com.apple.systempreferences TMShowUnsupportedNetworkVolumes 1\n\n \n\nEnsuite, tout se fait graphiquement !\n\nOuvrez le menu Time Machine et laissez vous guider.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_258\" style=\"width: 310px\">[![time_machine_setup_1](https://techan.fr/images/2014/10/time_machine_setup_1-300x173.png)](https://techan.fr/images/2014/10/time_machine_setup_1.png)Cliquer sur « Choisir un disque… »\n\n</div> \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_259\" style=\"width: 310px\">[![Cliquer sur le disque réseau nouvellement créé. Dans mon cas : \"Time Capsule sur Baal\".](https://techan.fr/images/2014/10/time_machine_setup_2-300x172.png)](https://techan.fr/images/2014/10/time_machine_setup_2.png)Cliquer sur le disque réseau nouvellement créé.  \nDans mon cas : « Time Capsule sur Baal ».\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_260\" style=\"width: 310px\">[![Dans la fenêtre d'authentification, il faut renseigner le compte Linux utilisé dans le fichier AppleVolumes.default et son mot de passe.](https://techan.fr/images/2014/10/time_machine_setup_3-300x171.png)](https://techan.fr/images/2014/10/time_machine_setup_3.png)Dans la fenêtre d’authentification, il faut renseigner le compte Linux utilisé dans le fichier AppleVolumes.default et son mot de passe.\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_261\" style=\"width: 310px\">[![Et voilà ! Vous êtes paré !](https://techan.fr/images/2014/10/time_machine_setup_4-300x172.png)](https://techan.fr/images/2014/10/time_machine_setup_4.png)Et voilà ! Vous êtes paré !\n\n</div> \n\n\n","html":"<p>Si vous disposez d’un Mac que vous voulez sauvegarder sur le réseau, vous avez le choix d’acheter un boitier Apple proposant Time Machine. Mais cette solution peut revenir assez cher. Par contre, si vous disposez d’un Linux avec un peu (beaucoup) de disque disponible, vous pouvez faire croire à votre Mac qu’il est une Time Capsule.  </p>\n\n<p>Voici la marche a suivre pour ce faire.</p>\n\n<h3 id=\"surlelinux\">Sur le Linux</h3>\n\n<h5 id=\"installeretconfigurernetatalk\">Installer et configurer netatalk</h5>\n\n<p>Installez netatalk.</p>\n\n<p>aptitude install netatalk</p>\n\n<p>Éditez le fichier de configuration de NetATalk.</p>\n\n<p>vi /etc/default/netatalk</p>\n\n<p>Son contenu doit ressembler à cela, modulo le nom du serveur.</p>\n\n<p>cat /etc/default/netatalk | grep -ve \"^#\" -e \"^$\" ATALK<em>NAME=Baal ATALK</em>UNIX<em>CHARSET='LOCALE' ATALK</em>MAC<em>CHARSET='MAC</em>ROMAN' export ATALK<em>UNIX</em>CHARSET export ATALK<em>MAC</em>CHARSET CNID<em>METAD</em>RUN=yes AFPD<em>RUN=yes ATALKD</em>RUN=no PAPD<em>RUN=no TIMELORD</em>RUN=no A2BOOT_RUN=no</p>\n\n<p>Éditez ensuite les partages proposés via AppleTalk.</p>\n\n<p>vi /etc/netatalk/AppleVolumes.default</p>\n\n<p>Son contenu doit ressemble à ceci :</p>\n\n<p>cat /etc/netatalk/AppleVolumes.default | grep -ve \"^#\" -e \"^$\" :DEFAULT: options:upriv,usedots ~/ \"Home Directory\" /TimeMachine \"Time Capsule\" allow:@raphael options:usedots,upriv,tm</p>\n\n<p>Dans mon cas, le dossier qui va être utilisé pour les sauvegardes Time Machine est /TimeMachine et l’utilisateur autorisé est « raphael ». Il s’agit d’un utilisateur sur le Linux, pas d’un utilisateur sur le Mac.</p>\n\n<p>On redémarrer netatalk.</p>\n\n<p>service netatalk restart Restarting Netatalk Daemons (this will take a while)Stopping Netatalk Daemons: afpd cnid<em>metad papd timelord atalkd. ..Starting Netatalk services (this will take a while): cnid</em>metad afpd. done.</p>\n\n<h5 id=\"\"> </h5>\n\n<h5 id=\"installeretconfigureravahi\">Installer et configurer avahi</h5>\n\n<p>Avahi est l’implémentation de Bonjour sur Linux, il faut l’installer avec la commande suivante.</p>\n\n<p>aptitude install avahi-daemon libnss-mdns</p>\n\n<p>Ensuite, il nous faut éditer quelques fichiers de configuration.</p>\n\n<p>vi /etc/nsswitch.conf</p>\n\n<p>La ligne :</p>\n\n<p>hosts: files mdns4_minimal [NOTFOUND=return] dns</p>\n\n<p>Doit devenir :</p>\n\n<p>hosts: files mdns4_minimal [NOTFOUND=return] dns mdns4 mdns</p>\n\n<p>Il faut créer un fichier de configuration pour qu’avahi propose afp comme service.</p>\n\n<p>vi /etc/avahi/services/afpd.service</p>\n\n<p>Ajouter ce contenu au fichier :</p>\n\n<p><?xml version=\"1.0\" standalone='no'?><!--*-nxml-*-->  <service-group> <name replace-wildcards=\"yes\">%h</name> <service> <type><em>afpovertcp.</em>tcp</type> <port>548</port> </service> <service> <type><em>device-info.</em>tcp</type> <port>0</port> <txt-record>model=Xserve</txt-record> </service> </service-group></p>\n\n<h3 id=\"\"> </h3>\n\n<p>On redémarre avahi :</p>\n\n<p>service avahi-daemon restart avahi-daemon stop/waiting avahi-daemon start/running, process 23251</p>\n\n<p>Tout est bon sur notre Linux ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<h3 id=\"surlemac\">Sur Le Mac</h3>\n\n<p>Il faut ouvrir le terminal, et taper la commande suivante :</p>\n\n<p>defaults write com.apple.systempreferences TMShowUnsupportedNetworkVolumes 1</p>\n\n<p>Ensuite, tout se fait graphiquement !</p>\n\n<p>Ouvrez le menu Time Machine et laissez vous guider.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_258\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/10/time_machine_setup_1.png\"><img src=\"https://techan.fr/images/2014/10/time_machine_setup_1-300x173.png\" alt=\"time<em>machine</em>setup_1\" title=\"\" /></a>Cliquer sur « Choisir un disque… »</p>\n\n<p></div> </p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_259\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/10/time_machine_setup_2.png\"><img src=\"https://techan.fr/images/2014/10/time_machine_setup_2-300x172.png\" alt=\"Cliquer sur le disque réseau nouvellement créé. Dans mon cas : &quot;Time Capsule sur Baal&quot;.\" title=\"\" /></a>Cliquer sur le disque réseau nouvellement créé. <br />\nDans mon cas : « Time Capsule sur Baal ».</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_260\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/10/time_machine_setup_3.png\"><img src=\"https://techan.fr/images/2014/10/time_machine_setup_3-300x171.png\" alt=\"Dans la fenêtre d'authentification, il faut renseigner le compte Linux utilisé dans le fichier AppleVolumes.default et son mot de passe.\" title=\"\" /></a>Dans la fenêtre d’authentification, il faut renseigner le compte Linux utilisé dans le fichier AppleVolumes.default et son mot de passe.</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_261\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/10/time_machine_setup_4.png\"><img src=\"https://techan.fr/images/2014/10/time_machine_setup_4-300x172.png\" alt=\"Et voilà ! Vous êtes paré !\" title=\"\" /></a>Et voilà ! Vous êtes paré !</p>\n\n<p></div> </p>","image":"http://blog.techan.fr/images/2014/10/tm.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-17T10:51:50.000Z","created_by":1,"updated_at":"2014-10-17T11:28:59.000Z","updated_by":1,"published_at":"2014-10-17T10:51:50.000Z","published_by":1},{"id":38,"uuid":"3b3f04f3-0503-455b-aec6-21dd8a8d3de6","title":"[FireFox] Ajoute un petit jeu dans sa page de démarrage","slug":"firefox-ajoute-un-petit-dans-sa-page-de-demarrage","markdown":"\nJ’ai été surpris de découvrir ce matin que Mozilla a mis à jour la page de démarrage de Firefox en y incluant un mini jeu ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nCeci a surement a voir avec la sortie du Humble Mozilla Bundle, le site désormais fameux propose des packs de jeux au prix que vous souhaitez. Une partie des recettes sont reversées à des œuvres de charité.  \n  \n**[EDIT]** On me souffle dans l’oreillette que le jeu proposé dans Firefox est Voxatron et que les jeux proposés dans le pack sont des jeux normalement standalone pour lesquels des versions embarquées dans le navigateur ont été créées.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_264\" style=\"width: 310px\">[![Mini jeu !](https://techan.fr/images/2014/10/Petit_jeu_firefox_0-300x205.png)](https://techan.fr/images/2014/10/Petit_jeu_firefox_0.png)Mini jeu !\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_265\" style=\"width: 310px\">[![Le deuxième niveau, on apprend a tirer ! ](https://techan.fr/images/2014/10/Petit_jeu_firefox-300x206.png)](https://techan.fr/images/2014/10/Petit_jeu_firefox.png)Le deuxième niveau, on apprend a tirer !\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_266\" style=\"width: 310px\">[![Au bout de quelques morts, on est invité a aller voir le Humble Mozilla Bundle.](https://techan.fr/images/2014/10/Petit_jeu_firefox2-300x189.png)](https://techan.fr/images/2014/10/Petit_jeu_firefox2.png)Au bout de quelques morts, on est invité a aller voir le Humble Mozilla Bundle.\n\n</div>Pour les gens intéressés, voici le contenu pack Humble Mozilla Bundle, ainsi que le lien pour y accéder. [Ça se passe par ici !](https://www.humblebundle.com/?asmjs_bundle&utm_source=Firefox&utm_medium=Snippet1b&utm_campaign=Humble%20Mozilla%20Bundle)\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_267\" style=\"width: 310px\">[![Le pack Humble Mozilla Bundle](https://techan.fr/images/2014/10/Petit_jeu_firefox_3-300x122.png)](https://techan.fr/images/2014/10/Petit_jeu_firefox_3.png)Le pack Humble Mozilla Bundle\n\n</div>\n","html":"<p>J’ai été surpris de découvrir ce matin que Mozilla a mis à jour la page de démarrage de Firefox en y incluant un mini jeu ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>Ceci a surement a voir avec la sortie du Humble Mozilla Bundle, le site désormais fameux propose des packs de jeux au prix que vous souhaitez. Une partie des recettes sont reversées à des œuvres de charité.  </p>\n\n<p><strong>[EDIT]</strong> On me souffle dans l’oreillette que le jeu proposé dans Firefox est Voxatron et que les jeux proposés dans le pack sont des jeux normalement standalone pour lesquels des versions embarquées dans le navigateur ont été créées.</p>\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_264\" style=\"width: 310px\">[![Mini jeu !](https://techan.fr/images/2014/10/Petit_jeu_firefox_0-300x205.png)](https://techan.fr/images/2014/10/Petit_jeu_firefox_0.png)Mini jeu !\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_265\" style=\"width: 310px\">[![Le deuxième niveau, on apprend a tirer ! ](https://techan.fr/images/2014/10/Petit_jeu_firefox-300x206.png)](https://techan.fr/images/2014/10/Petit_jeu_firefox.png)Le deuxième niveau, on apprend a tirer !\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_266\" style=\"width: 310px\">[![Au bout de quelques morts, on est invité a aller voir le Humble Mozilla Bundle.](https://techan.fr/images/2014/10/Petit_jeu_firefox2-300x189.png)](https://techan.fr/images/2014/10/Petit_jeu_firefox2.png)Au bout de quelques morts, on est invité a aller voir le Humble Mozilla Bundle.\n\n</div>Pour les gens intéressés, voici le contenu pack Humble Mozilla Bundle, ainsi que le lien pour y accéder. [Ça se passe par ici !](https://www.humblebundle.com/?asmjs_bundle&utm_source=Firefox&utm_medium=Snippet1b&utm_campaign=Humble%20Mozilla%20Bundle)\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_267\" style=\"width: 310px\">[![Le pack Humble Mozilla Bundle](https://techan.fr/images/2014/10/Petit_jeu_firefox_3-300x122.png)](https://techan.fr/images/2014/10/Petit_jeu_firefox_3.png)Le pack Humble Mozilla Bundle\n\n</div>","image":"http://blog.techan.fr/images/2014/10/Petit_jeu_firefox_0.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-17T11:14:59.000Z","created_by":1,"updated_at":"2014-11-17T16:57:06.000Z","updated_by":1,"published_at":"2014-10-17T11:14:59.000Z","published_by":1},{"id":39,"uuid":"5090257b-a77d-41fa-9c46-1d481d33f673","title":"[Linux] Astuce pour retrouver les permissions sur un fichier","slug":"linux-astuce-pour-retrouver-les-permissions-sur-un-fichier","markdown":"\nJ’ai du retrouver les permissions octales sur un fichier pour pouvoir les ré-appliquer sur un autre suite à ue montée de version. On écrase les fichiers avec les nouveaux, et paf ! les permissions disparaissent …  \n  \n  \n\nJ’ai donc du retrouver les permissions sur les anciens pour pouvoir les remettre sur les nouveaux.\n\n \n\nPour avoir les permissions originales (en notation octale), on utilisera la commande suivante :\n\n[root@xxxxxx ~]# stat -c \"%a %n\" /opt/documentum/product/6.6/bin/documentum 6750 /opt/documentum/product/6.6/bin/documentum\n\n \n\nPour les repositionner c’est simple :\n\n[root@xxxxxx documentum]# chmod 6750 ./product/6.6/bin/documentum\n\nEt le tour est joué !\n\n \n\n \n\n \n\n\n","html":"<p>J’ai du retrouver les permissions octales sur un fichier pour pouvoir les ré-appliquer sur un autre suite à ue montée de version. On écrase les fichiers avec les nouveaux, et paf ! les permissions disparaissent …  </p>\n\n<p>J’ai donc du retrouver les permissions sur les anciens pour pouvoir les remettre sur les nouveaux.</p>\n\n<p>Pour avoir les permissions originales (en notation octale), on utilisera la commande suivante :</p>\n\n<p>[root@xxxxxx ~]# stat -c \"%a %n\" /opt/documentum/product/6.6/bin/documentum 6750 /opt/documentum/product/6.6/bin/documentum</p>\n\n<p>Pour les repositionner c’est simple :</p>\n\n<p>[root@xxxxxx documentum]# chmod 6750 ./product/6.6/bin/documentum</p>\n\n<p>Et le tour est joué !</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-17T15:49:32.000Z","created_by":1,"updated_at":"2014-10-17T15:49:32.000Z","updated_by":1,"published_at":"2014-10-17T15:49:32.000Z","published_by":1},{"id":40,"uuid":"4b3d06cd-9e2a-4a38-8990-af918b5f3269","title":"[Oracle] Afficher et modifier les paramètres Oracle","slug":"oracle-afficher-et-modifier-les-parametres-oracle","markdown":"\n### Emplacements des paramètres Oracle\n\nLes paramètres Oracle peuvent se trouver dans plusieurs endroits différents :\n\n- fichier pfile\n- fichier spfile\n- directement en mémoire\n\n \n\n##### Parameter File (pfile)\n\nC’est un fichier texte que le DBA peut éditer directement.\n\nIl se trouve dans le dossier :\n\n- $ORACLE_HOME/dbs sur UNIX/Linux\n- $ORACLE_HOME\\database sur Windows\n\nIl sont en général nommés : init**<SID>**.ora\n\n \n\nCe fichier peut être édité avec n’importe quel éditeur de texte.\n\n \n\n##### Server Parameter File (spfile)\n\nCe fichier est **binaire**, il ne doit pas être édité par le DBA.\n\nIl se trouve au même endroit que le pfile :\n\n- $ORACLE_HOME/dbs sur UNIX/Linux\n- $ORACLE_HOME\\database sur Windows\n\nIl sont en général nommés : spfile**<SID>**.ora\n\n \n\n##### Mémoire\n\nQuand Oracle démarre, il va lire le spfile ou le pfile en fonction des option de démarrage ou de l’existence ou non du spfile.\n\nToutes les valeurs contenues dans ces fichiers de paramètres sont chargées et remplacent les valeurs par défaut des paramètres spécifiés.\n\n \n\nCertains paramètres peuvent être modifiés directement en mémoire lorsque l’instance Oracle est démarrée. Cependant, ces modifications sont volatiles, ils font les faire également dans le spfile et/ou le pfile pour les rendre permanentes.\n\n \n\n### Priorité des fichiers de paramètres\n\n##### S’il n’y a pas de spfile pour la base\n\nDans ce cas, Oracle a besoin d’un fichier pfile pour démarrer.\n\n##### S’il y a un spfile pour la base\n\nDans ce cas, si l’on ne précise aucune option au démarrage, Oracle va utiliser son spfile pour démarrer.\n\nSi vous souhaitez démarrer la base en utilisant son pfile, vous pouvez utiliser la commande suivante :\n\nSQL> startup pfile='/path/to/init<SID>.ora'\n\n \n\n<span style=\"text-decoration: underline;\">**Note :**</span> Démarrer une base à partir de son pfile restreint l’accès à certaines actions comme les backups a chaud avec RMAN. Ceci doit rester temporaire, vous pouvez recréer les spfile depuis le pfile et redémarrer la base sans options pour utiliser le spfile.\n\n \n\n### Récupérer la valeur courante d’un paramètre\n\nPour récupérer la valeur d’un paramètres, vous avez deux options, soit utiliser la commande « show » soit via une requête SQL. L’utilisation de la commande « show » est nettement plus simple.\n\n \n\n##### La commande « show »\n\nUne fois connecté à la base, taper « show » suivit du nom du paramètre dont vous voulez la valeur, ou une partie de son nom.\n\n[![image2014-4-3 14-34-35](https://techan.fr/images/2014/10/image2014-4-3-14-34-35.png)](https://techan.fr/images/2014/10/image2014-4-3-14-34-35.png)\n\n##### Utiliser un requête SQL\n\nCette méthode est un peu plus compliquée mais vous permettra de voir si la valeur du paramètre est par défaut et/ou si elle a été modifiée.\n\n[![image2014-4-3 14-42-44](https://techan.fr/images/2014/10/image2014-4-3-14-42-44.png)](https://techan.fr/images/2014/10/image2014-4-3-14-42-44.png)\n\n \n\n### Modifier la valeur d’un paramètre\n\nPour modifier la valeur d’un paramètre, vous allez devoir utiliser la commande suivante :\n\nSQL> alter system set [parameter_name]='[value]' [scope=both|memory|spfile];\n\n \n\nL’option « scope » dit à Oracle à quel endroit doit être modifié le paramètre :\n\n- **memory** : La valeur du paramètre sera modifiée **uniquement** en mémoire. Cette modification n’est pas persistante au reboot de la base.\n- **spfile** : La modification est faite **uniquement** dans le spfile. Elle n’est pas active, elle le sera uniquement après avoir rebooter la base.\n- **both **: La modification est faite en mémoire **et** dans le spfile.\n\n##### Paramètres « chaud »\n\nLes paramètres chaud sont ceux qui peuvent être modifiés soit instance allumée soit instance éteinte.\n\nOn peut utiliser le scope=memory pour modifier ces paramètres.\n\n##### Paramètres « froid »\n\nCes paramètres sont modifiables uniquement base éteinte ou en utilisant un scope=spfile.\n\n \n\n##### Exemple :\n\nNous allons modifier le paramètre « sessions », dans un premier temps, nous allons sauvegarder l’ancienne valeur, 247 dans notre cas.\n\n[![image2014-4-3 15-51-39](https://techan.fr/images/2014/10/image2014-4-3-15-51-39.png)](https://techan.fr/images/2014/10/image2014-4-3-15-51-39.png)\n\nModifions la valeur du paramètre à 300.  \n[![image2014-4-3 15-52-23](https://techan.fr/images/2014/10/image2014-4-3-15-52-23.png)](https://techan.fr/images/2014/10/image2014-4-3-15-52-23.png)\n\nL’erreur indique qu’il s’agit d’un paramètre « froid », nous allons devoir le modifier dans le spfile et/ou dans le pfile.\n\n[![image2014-4-3 15-53-36](https://techan.fr/images/2014/10/image2014-4-3-15-53-36.png)](https://techan.fr/images/2014/10/image2014-4-3-15-53-36.png)\n\nLa nouvelle valeur est maintenant 300.\n\n \n\n### Réinitialiser la valeur d’un paramètre\n\nIl est possible de remettre un paramètre à sa valeur par défaut, celle qu’Oarcle donne.\n\nPour ce faire, il faut utiliser la commande suivante :\n\nSQL> alter system reset [parameter_name]='[value]' [scope=both|memory|spfile];\n\n \n\nNous allons réinitialiser la valeur du paramètre « sessions » que nous avons modifié juste avant.\n\n[![image2014-4-3 15-55-7](https://techan.fr/images/2014/10/image2014-4-3-15-55-7.png)](https://techan.fr/images/2014/10/image2014-4-3-15-55-7.png)\n\nAprès un reboot de la base, la valeur est de nouveau 247 ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\n\n","html":"<h3 id=\"emplacementsdesparamtresoracle\">Emplacements des paramètres Oracle</h3>\n\n<p>Les paramètres Oracle peuvent se trouver dans plusieurs endroits différents :</p>\n\n<ul>\n<li>fichier pfile</li>\n<li>fichier spfile</li>\n<li><p>directement en mémoire</p></li>\n</ul>\n\n<h5 id=\"parameterfilepfile\">Parameter File (pfile)</h5>\n\n<p>C’est un fichier texte que le DBA peut éditer directement.</p>\n\n<p>Il se trouve dans le dossier :</p>\n\n<ul>\n<li>$ORACLE_HOME/dbs sur UNIX/Linux</li>\n<li>$ORACLE_HOME\\database sur Windows</li>\n</ul>\n\n<p>Il sont en général nommés : init<strong><SID></strong>.ora</p>\n\n<p>Ce fichier peut être édité avec n’importe quel éditeur de texte.</p>\n\n<h5 id=\"serverparameterfilespfile\">Server Parameter File (spfile)</h5>\n\n<p>Ce fichier est <strong>binaire</strong>, il ne doit pas être édité par le DBA.</p>\n\n<p>Il se trouve au même endroit que le pfile :</p>\n\n<ul>\n<li>$ORACLE_HOME/dbs sur UNIX/Linux</li>\n<li>$ORACLE_HOME\\database sur Windows</li>\n</ul>\n\n<p>Il sont en général nommés : spfile<strong><SID></strong>.ora</p>\n\n<h5 id=\"mmoire\">Mémoire</h5>\n\n<p>Quand Oracle démarre, il va lire le spfile ou le pfile en fonction des option de démarrage ou de l’existence ou non du spfile.</p>\n\n<p>Toutes les valeurs contenues dans ces fichiers de paramètres sont chargées et remplacent les valeurs par défaut des paramètres spécifiés.</p>\n\n<p>Certains paramètres peuvent être modifiés directement en mémoire lorsque l’instance Oracle est démarrée. Cependant, ces modifications sont volatiles, ils font les faire également dans le spfile et/ou le pfile pour les rendre permanentes.</p>\n\n<h3 id=\"prioritdesfichiersdeparamtres\">Priorité des fichiers de paramètres</h3>\n\n<h5 id=\"silnyapasdespfilepourlabase\">S’il n’y a pas de spfile pour la base</h5>\n\n<p>Dans ce cas, Oracle a besoin d’un fichier pfile pour démarrer.</p>\n\n<h5 id=\"silyaunspfilepourlabase\">S’il y a un spfile pour la base</h5>\n\n<p>Dans ce cas, si l’on ne précise aucune option au démarrage, Oracle va utiliser son spfile pour démarrer.</p>\n\n<p>Si vous souhaitez démarrer la base en utilisant son pfile, vous pouvez utiliser la commande suivante :</p>\n\n<p>SQL> startup pfile='/path/to/init<SID>.ora'</p>\n\n<p><span style=\"text-decoration: underline;\"><strong>Note :</strong></span> Démarrer une base à partir de son pfile restreint l’accès à certaines actions comme les backups a chaud avec RMAN. Ceci doit rester temporaire, vous pouvez recréer les spfile depuis le pfile et redémarrer la base sans options pour utiliser le spfile.</p>\n\n<h3 id=\"rcuprerlavaleurcourantedunparamtre\">Récupérer la valeur courante d’un paramètre</h3>\n\n<p>Pour récupérer la valeur d’un paramètres, vous avez deux options, soit utiliser la commande « show » soit via une requête SQL. L’utilisation de la commande « show » est nettement plus simple.</p>\n\n<h5 id=\"lacommandeshow\">La commande « show »</h5>\n\n<p>Une fois connecté à la base, taper « show » suivit du nom du paramètre dont vous voulez la valeur, ou une partie de son nom.</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-3-14-34-35.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-3-14-34-35.png\" alt=\"image2014-4-3 14-34-35\" title=\"\" /></a></p>\n\n<h5 id=\"utiliserunrequtesql\">Utiliser un requête SQL</h5>\n\n<p>Cette méthode est un peu plus compliquée mais vous permettra de voir si la valeur du paramètre est par défaut et/ou si elle a été modifiée.</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-3-14-42-44.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-3-14-42-44.png\" alt=\"image2014-4-3 14-42-44\" title=\"\" /></a></p>\n\n<h3 id=\"modifierlavaleurdunparamtre\">Modifier la valeur d’un paramètre</h3>\n\n<p>Pour modifier la valeur d’un paramètre, vous allez devoir utiliser la commande suivante :</p>\n\n<p>SQL> alter system set [parameter_name]='[value]' [scope=both|memory|spfile];</p>\n\n<p>L’option « scope » dit à Oracle à quel endroit doit être modifié le paramètre :</p>\n\n<ul>\n<li><strong>memory</strong> : La valeur du paramètre sera modifiée <strong>uniquement</strong> en mémoire. Cette modification n’est pas persistante au reboot de la base.</li>\n<li><strong>spfile</strong> : La modification est faite <strong>uniquement</strong> dans le spfile. Elle n’est pas active, elle le sera uniquement après avoir rebooter la base.</li>\n<li><strong>both <em>*: La modification est faite en mémoire *</em>et</strong> dans le spfile.</li>\n</ul>\n\n<h5 id=\"paramtreschaud\">Paramètres « chaud »</h5>\n\n<p>Les paramètres chaud sont ceux qui peuvent être modifiés soit instance allumée soit instance éteinte.</p>\n\n<p>On peut utiliser le scope=memory pour modifier ces paramètres.</p>\n\n<h5 id=\"paramtresfroid\">Paramètres « froid »</h5>\n\n<p>Ces paramètres sont modifiables uniquement base éteinte ou en utilisant un scope=spfile.</p>\n\n<h5 id=\"exemple\">Exemple :</h5>\n\n<p>Nous allons modifier le paramètre « sessions », dans un premier temps, nous allons sauvegarder l’ancienne valeur, 247 dans notre cas.</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-3-15-51-39.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-3-15-51-39.png\" alt=\"image2014-4-3 15-51-39\" title=\"\" /></a></p>\n\n<p>Modifions la valeur du paramètre à 300. <br />\n<a href=\"https://techan.fr/images/2014/10/image2014-4-3-15-52-23.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-3-15-52-23.png\" alt=\"image2014-4-3 15-52-23\" title=\"\" /></a></p>\n\n<p>L’erreur indique qu’il s’agit d’un paramètre « froid », nous allons devoir le modifier dans le spfile et/ou dans le pfile.</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-3-15-53-36.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-3-15-53-36.png\" alt=\"image2014-4-3 15-53-36\" title=\"\" /></a></p>\n\n<p>La nouvelle valeur est maintenant 300.</p>\n\n<h3 id=\"rinitialiserlavaleurdunparamtre\">Réinitialiser la valeur d’un paramètre</h3>\n\n<p>Il est possible de remettre un paramètre à sa valeur par défaut, celle qu’Oarcle donne.</p>\n\n<p>Pour ce faire, il faut utiliser la commande suivante :</p>\n\n<p>SQL> alter system reset [parameter_name]='[value]' [scope=both|memory|spfile];</p>\n\n<p>Nous allons réinitialiser la valeur du paramètre « sessions » que nous avons modifié juste avant.</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-3-15-55-7.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-3-15-55-7.png\" alt=\"image2014-4-3 15-55-7\" title=\"\" /></a></p>\n\n<p>Après un reboot de la base, la valeur est de nouveau 247 ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>","image":"http://blog.techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-20T11:33:23.000Z","created_by":1,"updated_at":"2014-11-20T16:54:40.000Z","updated_by":1,"published_at":"2014-10-20T11:33:23.000Z","published_by":1},{"id":41,"uuid":"9121a63b-1c3d-47c1-998a-0aa598d2b27a","title":"[iOS] iOS 8.1 est disponible !!","slug":"ios-ios-8-1-est-disponible","markdown":"\nAvis aux possesseurs d’iPhone, la mise à jour du système iOS numérotée 8.1 est disponible !  \n  \n[![IMG_4456.PNG](https://techan.fr/images/2014/10/IMG_4456.png)](https://techan.fr/images/2014/10/IMG_4456.png)\n\nIl paraît qu’elle amène plus de fluidité sur les iPhone les plus anciens supportés par l’iOS 8.\n\nElle amène également le support de la fonction Continuité annoncée lors de la sortie de la nouvelle version du système mobile. Cette fonctionnalité permet aux possesseurs de multiples appareils à la Pomme de commencer une activité sur leur iPhone, leur Mac ou leur iPad et de la terminer sur un autre des ces terminaux.\n\nLa mise à jour permet également de répondre aux appels téléphoniques sur un Mac ou un iPad, d’envoyer des SMS depuis un Mac ou un iPad lorsque l’on possède un iPhone.\n\nApple Pay fait également dont apparition avec cette mise à jour, mais le système est toujours bloqué aux US uniquement.\n\nLa photothèque iCloud est également disponible et des modifications ont été apportées à l’application Photos en réactivant l’album Pellicule.\n\nDes problèmes des Bluetooth ont été corrigés.\n\n\n","html":"<p>Avis aux possesseurs d’iPhone, la mise à jour du système iOS numérotée 8.1 est disponible !  </p>\n\n<p><a href=\"https://techan.fr/images/2014/10/IMG_4456.png\"><img src=\"https://techan.fr/images/2014/10/IMG_4456.png\" alt=\"IMG_4456.PNG\" title=\"\" /></a></p>\n\n<p>Il paraît qu’elle amène plus de fluidité sur les iPhone les plus anciens supportés par l’iOS 8.</p>\n\n<p>Elle amène également le support de la fonction Continuité annoncée lors de la sortie de la nouvelle version du système mobile. Cette fonctionnalité permet aux possesseurs de multiples appareils à la Pomme de commencer une activité sur leur iPhone, leur Mac ou leur iPad et de la terminer sur un autre des ces terminaux.</p>\n\n<p>La mise à jour permet également de répondre aux appels téléphoniques sur un Mac ou un iPad, d’envoyer des SMS depuis un Mac ou un iPad lorsque l’on possède un iPhone.</p>\n\n<p>Apple Pay fait également dont apparition avec cette mise à jour, mais le système est toujours bloqué aux US uniquement.</p>\n\n<p>La photothèque iCloud est également disponible et des modifications ont été apportées à l’application Photos en réactivant l’album Pellicule.</p>\n\n<p>Des problèmes des Bluetooth ont été corrigés.</p>","image":"http://blog.techan.fr/images/2014/10/IMG_4456-0.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-20T19:57:48.000Z","created_by":1,"updated_at":"2014-11-18T10:57:01.000Z","updated_by":1,"published_at":"2014-10-20T19:57:48.000Z","published_by":1},{"id":42,"uuid":"004febfe-1740-45a2-81d5-8afa82b84a0a","title":"[LVM] Agrandir un disque à chaud","slug":"lvm-agrandir-un-disque-a-chaud","markdown":"\nUne des choses assez pratique a savoir faire lorsque l’on utilise du LVM sur Linux, c’est de pouvoir agrandir le LV à chaud.  \n  \n Partons par exemple d’un VG se nommant « VolGroup-u02 » ne comportant qu’un LV nommé « Vol-u02 » faisant 100% de la taille du VG. Ce VG utilise un disque entier comme PV « /dev/sde ».\n\n \n\n[root@xxxxxxxx ~]# vgdisplay VolGroup-u02 -v Using volume group(s) on command line Finding volume group \"VolGroup-u02\" --- Volume group --- VG Name VolGroup-u02 System ID Format lvm2 Metadata Areas 1 Metadata Sequence No 10 VG Access read/write VG Status resizable MAX LV 0 Cur LV 1 Open LV 1 Max PV 0 Cur PV 1 Act PV 1 VG Size 200,00 GiB PE Size 4,00 MiB Total PE 51199 Alloc PE / Size 51199 / 200,00 GiB Free PE / Size 0 / 0 VG UUID YACmCL-D8Le-40m9-z1i7-nwxc-odko-dzILpS --- Logical volume --- LV Path /dev/VolGroup-u02/Vol-u02 LV Name Vol-u02 VG Name VolGroup-u02 LV UUID ZtWasj-EII1-Nu9Y-Nv3a-ffaq-VJVP-l3mHsm LV Write Access read/write LV Creation host, time sl-0-vdbtpl2.sham.fr, 2014-06-11 11:38:13 +0200 LV Status available # open 1 LV Size 200,00 GiB Current LE 51199 Segments 1 Allocation inherit Read ahead sectors auto - currently set to 256 Block device 252:3 --- Physical volumes --- PV Name /dev/sde PV UUID cXHbmH-d56b-yLSz-A0KL-3URd-i6A1-3mD2Pw PV Status allocatable Total PE / Free PE 51199 / 0\n\n \n\nLe disque a été agrnadi du côté de VMware, nous allons utiliser un outil sur Linux pour le forcer a rescaner ses bus et découvrir l’agrandissement. Cet outil s’appelle « rescan-scsi-bus.sh » et peut être installé avec le package « sg3_utils » sur RedHat / CentOS.\n\n \n\n[root@xxxxxxxx ~]# rescan-scsi-bus.sh --forcerescan Host adapter 0 (ata_piix) found. Host adapter 1 (ata_piix) found. Host adapter 2 (mptspi) found. Host adapter 3 (mptspi) found. Host adapter 4 (mptspi) found. Host adapter 5 (mptspi) found. Scanning SCSI subsystem for new devices and remove devices that have disappeared Scanning host 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning host 1 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 1 0 0 0 ... REM: Host: scsi1 Channel: 00 Id: 00 Lun: 00 DEL: Vendor: NECVMWar Model: VMware IDE CDR10 Rev: 1.00 Type: CD-ROM ANSI SCSI revision: 05 Scanning host 2 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 2 0 0 0 ... OLD: Host: scsi2 Channel: 00 Id: 00 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning host 3 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 3 0 0 0 ... OLD: Host: scsi3 Channel: 00 Id: 00 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning host 4 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 4 0 0 0 ... OLD: Host: scsi4 Channel: 00 Id: 00 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning for device 4 0 1 0 ... OLD: Host: scsi4 Channel: 00 Id: 01 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning host 5 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 5 0 0 0 ... OLD: Host: scsi5 Channel: 00 Id: 00 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning for device 5 0 1 0 ... OLD: Host: scsi5 Channel: 00 Id: 01 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 0 new device(s) found. 1 device(s) removed.\n\n \n\nVérifions la taille de disque avant le resize :\n\n[root@xxxxxxxx ~]# pvdisplay /dev/sde --- Physical volume --- PV Name /dev/sde VG Name VolGroup-u02 PV Size 200,00 GiB / not usable 3,00 MiB Allocatable yes (but full) PE Size 4,00 MiB Total PE 51199 Free PE 0 Allocated PE 51199 PV UUID cXHbmH-d56b-yLSz-A0KL-3URd-i6A1-3mD2Pw\n\nOn étend le disque\n\n[root@xxxxxxxx ~]# pvresize /dev/sde Physical volume \"/dev/sde\" changed 1 physical volume(s) resized / 0 physical volume(s) not resized\n\nValidons que cela a bien fonctionné.\n\n[root@xxxxxxxx ~]# pvdisplay /dev/sde --- Physical volume --- PV Name /dev/sde VG Name VolGroup-u02 PV Size 220,00 GiB / not usable 3,00 MiB Allocatable yes PE Size 4,00 MiB Total PE 56319 Free PE 5120 Allocated PE 51199 PV UUID cXHbmH-d56b-yLSz-A0KL-3URd-i6A1-3mD2Pw\n\nMaintenant, on va étendre le LV :\n\n[root@xxxxxxxx ~]# lvextend -l 100%VG /dev/VolGroup-u02/Vol-u02 Extending logical volume Vol-u02 to 220,00 GiB Logical volume Vol-u02 successfully resized\n\nPuis le File System :\n\n[root@xxxxxxxx ~]# resize2fs /dev/VolGroup-u02/Vol-u02 resize2fs 1.43-WIP (20-Jun-2013) Le système de fichiers de /dev/VolGroup-u02/Vol-u02 est monté sur /u02 ; le changement de taille doit être effectué en ligne old_desc_blocks = 13, new_desc_blocks = 14 Le système de fichiers /dev/VolGroup-u02/Vol-u02 a maintenant une taille de 57670656 blocs.\n\n \n\nOn valide que le FS fait bien 220 Go maintenant :\n\n[root@xxxxxxxx ~]# df -h /u02/ Filesystem Size Used Avail Use% Mounted on /dev/mapper/VolGroup--u02-Vol--u02 217G 152G 57G 73% /u02\n\n \n\nEt voila !\n\n\n","html":"<p>Une des choses assez pratique a savoir faire lorsque l’on utilise du LVM sur Linux, c’est de pouvoir agrandir le LV à chaud.  </p>\n\n<p>Partons par exemple d’un VG se nommant « VolGroup-u02 » ne comportant qu’un LV nommé « Vol-u02 » faisant 100% de la taille du VG. Ce VG utilise un disque entier comme PV « /dev/sde ».</p>\n\n<p>[root@xxxxxxxx ~]# vgdisplay VolGroup-u02 -v Using volume group(s) on command line Finding volume group \"VolGroup-u02\" --- Volume group --- VG Name VolGroup-u02 System ID Format lvm2 Metadata Areas 1 Metadata Sequence No 10 VG Access read/write VG Status resizable MAX LV 0 Cur LV 1 Open LV 1 Max PV 0 Cur PV 1 Act PV 1 VG Size 200,00 GiB PE Size 4,00 MiB Total PE 51199 Alloc PE / Size 51199 / 200,00 GiB Free PE / Size 0 / 0 VG UUID YACmCL-D8Le-40m9-z1i7-nwxc-odko-dzILpS --- Logical volume --- LV Path /dev/VolGroup-u02/Vol-u02 LV Name Vol-u02 VG Name VolGroup-u02 LV UUID ZtWasj-EII1-Nu9Y-Nv3a-ffaq-VJVP-l3mHsm LV Write Access read/write LV Creation host, time sl-0-vdbtpl2.sham.fr, 2014-06-11 11:38:13 +0200 LV Status available # open 1 LV Size 200,00 GiB Current LE 51199 Segments 1 Allocation inherit Read ahead sectors auto - currently set to 256 Block device 252:3 --- Physical volumes --- PV Name /dev/sde PV UUID cXHbmH-d56b-yLSz-A0KL-3URd-i6A1-3mD2Pw PV Status allocatable Total PE / Free PE 51199 / 0</p>\n\n<p>Le disque a été agrnadi du côté de VMware, nous allons utiliser un outil sur Linux pour le forcer a rescaner ses bus et découvrir l’agrandissement. Cet outil s’appelle « rescan-scsi-bus.sh » et peut être installé avec le package « sg3_utils » sur RedHat / CentOS.</p>\n\n<p>[root@xxxxxxxx ~]# rescan-scsi-bus.sh --forcerescan Host adapter 0 (ata<em>piix) found. Host adapter 1 (ata</em>piix) found. Host adapter 2 (mptspi) found. Host adapter 3 (mptspi) found. Host adapter 4 (mptspi) found. Host adapter 5 (mptspi) found. Scanning SCSI subsystem for new devices and remove devices that have disappeared Scanning host 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning host 1 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 1 0 0 0 ... REM: Host: scsi1 Channel: 00 Id: 00 Lun: 00 DEL: Vendor: NECVMWar Model: VMware IDE CDR10 Rev: 1.00 Type: CD-ROM ANSI SCSI revision: 05 Scanning host 2 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 2 0 0 0 ... OLD: Host: scsi2 Channel: 00 Id: 00 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning host 3 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 3 0 0 0 ... OLD: Host: scsi3 Channel: 00 Id: 00 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning host 4 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 4 0 0 0 ... OLD: Host: scsi4 Channel: 00 Id: 00 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning for device 4 0 1 0 ... OLD: Host: scsi4 Channel: 00 Id: 01 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning host 5 channels 0 for SCSI target IDs 0 1 2 3 4 5 6 7, all LUNs Scanning for device 5 0 0 0 ... OLD: Host: scsi5 Channel: 00 Id: 00 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 Scanning for device 5 0 1 0 ... OLD: Host: scsi5 Channel: 00 Id: 01 Lun: 00 Vendor: VMware Model: Virtual disk Rev: 1.0 Type: Direct-Access ANSI SCSI revision: 02 0 new device(s) found. 1 device(s) removed.</p>\n\n<p>Vérifions la taille de disque avant le resize :</p>\n\n<p>[root@xxxxxxxx ~]# pvdisplay /dev/sde --- Physical volume --- PV Name /dev/sde VG Name VolGroup-u02 PV Size 200,00 GiB / not usable 3,00 MiB Allocatable yes (but full) PE Size 4,00 MiB Total PE 51199 Free PE 0 Allocated PE 51199 PV UUID cXHbmH-d56b-yLSz-A0KL-3URd-i6A1-3mD2Pw</p>\n\n<p>On étend le disque</p>\n\n<p>[root@xxxxxxxx ~]# pvresize /dev/sde Physical volume \"/dev/sde\" changed 1 physical volume(s) resized / 0 physical volume(s) not resized</p>\n\n<p>Validons que cela a bien fonctionné.</p>\n\n<p>[root@xxxxxxxx ~]# pvdisplay /dev/sde --- Physical volume --- PV Name /dev/sde VG Name VolGroup-u02 PV Size 220,00 GiB / not usable 3,00 MiB Allocatable yes PE Size 4,00 MiB Total PE 56319 Free PE 5120 Allocated PE 51199 PV UUID cXHbmH-d56b-yLSz-A0KL-3URd-i6A1-3mD2Pw</p>\n\n<p>Maintenant, on va étendre le LV :</p>\n\n<p>[root@xxxxxxxx ~]# lvextend -l 100%VG /dev/VolGroup-u02/Vol-u02 Extending logical volume Vol-u02 to 220,00 GiB Logical volume Vol-u02 successfully resized</p>\n\n<p>Puis le File System :</p>\n\n<p>[root@xxxxxxxx ~]# resize2fs /dev/VolGroup-u02/Vol-u02 resize2fs 1.43-WIP (20-Jun-2013) Le système de fichiers de /dev/VolGroup-u02/Vol-u02 est monté sur /u02 ; le changement de taille doit être effectué en ligne old<em>desc</em>blocks = 13, new<em>desc</em>blocks = 14 Le système de fichiers /dev/VolGroup-u02/Vol-u02 a maintenant une taille de 57670656 blocs.</p>\n\n<p>On valide que le FS fait bien 220 Go maintenant :</p>\n\n<p>[root@xxxxxxxx ~]# df -h /u02/ Filesystem Size Used Avail Use% Mounted on /dev/mapper/VolGroup--u02-Vol--u02 217G 152G 57G 73% /u02</p>\n\n<p>Et voila !</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-22T16:40:03.000Z","created_by":1,"updated_at":"2014-10-22T16:40:03.000Z","updated_by":1,"published_at":"2014-10-22T16:40:03.000Z","published_by":1},{"id":43,"uuid":"37367ffe-fbea-4a97-9444-6d8d4f274992","title":"[Oracle] Récupérer le code SQL de création d'un objet","slug":"oracle-recuperer-le-code-sql-de-creation-dun-objet","markdown":"\nUne chose qui rend souvent service dans le monde des DBAs, c’est de récupérer le code SQL qui a servi à la création d’un objet, d’un schéma, d’un tablespace … Ceci dans le but de le recréer tel quel ailleurs ou de modifier légèrement ce code pour créer un objet ressemblant dans la même base.  \n  \n  \n\nCette fonctionnalité est souvent proposée de base dans les outils d’administration ou de développement SQL ou PL/SQL. Mais lorsque l’on se retrouve dans SQL*Plus, il faut connaitre la commande qui va bien.\n\n \n\nLa voici donc cette commande :\n\nSQL> set long 99999999 SQL> select dbms_metadata.get_ddl('USER','SCOTT') from dual ; DBMS_METADATA.GET_DDL('USER','SCOTT') -------------------------------------------------------------------------------- CREATE USER \"SCOTT\" IDENTIFIED BY VALUES 'S:07921277EB685F9816BA4776231FA31B0 C0A84DD4DF70E5DEC761A6F6B53;F894844C34402B67' DEFAULT TABLESPACE \"USERS\" TEMPORARY TABLESPACE \"TEMP\" PASSWORD EXPIRE ACCOUNT LOCK\n\nLe « set long 99999999 » permet de ne pas avoir un retour tronqué.\n\nEn copiant/collant le code ci-dessus, on pourra recréer le user « Scott » tel qu’il est défini dans la base source, mot de passe inclus.\n\n \n\nVous l’avez compris, le premier paramètre de la fonction « get_ddl » du package « dbms_metadata » est le type d’objet dont on veut le code SQL, le second n’est autre que le nom d’objet lui même.\n\n\n","html":"<p>Une chose qui rend souvent service dans le monde des DBAs, c’est de récupérer le code SQL qui a servi à la création d’un objet, d’un schéma, d’un tablespace … Ceci dans le but de le recréer tel quel ailleurs ou de modifier légèrement ce code pour créer un objet ressemblant dans la même base.  </p>\n\n<p>Cette fonctionnalité est souvent proposée de base dans les outils d’administration ou de développement SQL ou PL/SQL. Mais lorsque l’on se retrouve dans SQL*Plus, il faut connaitre la commande qui va bien.</p>\n\n<p>La voici donc cette commande :</p>\n\n<p>SQL> set long 99999999 SQL> select dbms<em>metadata.get</em>ddl('USER','SCOTT') from dual ; DBMS<em>METADATA.GET</em>DDL('USER','SCOTT') -------------------------------------------------------------------------------- CREATE USER \"SCOTT\" IDENTIFIED BY VALUES 'S:07921277EB685F9816BA4776231FA31B0 C0A84DD4DF70E5DEC761A6F6B53;F894844C34402B67' DEFAULT TABLESPACE \"USERS\" TEMPORARY TABLESPACE \"TEMP\" PASSWORD EXPIRE ACCOUNT LOCK</p>\n\n<p>Le « set long 99999999 » permet de ne pas avoir un retour tronqué.</p>\n\n<p>En copiant/collant le code ci-dessus, on pourra recréer le user « Scott » tel qu’il est défini dans la base source, mot de passe inclus.</p>\n\n<p>Vous l’avez compris, le premier paramètre de la fonction « get<em>ddl » du package « dbms</em>metadata » est le type d’objet dont on veut le code SQL, le second n’est autre que le nom d’objet lui même.</p>","image":"http://blog.techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-23T08:18:00.000Z","created_by":1,"updated_at":"2014-11-20T16:54:09.000Z","updated_by":1,"published_at":"2014-10-23T08:18:00.000Z","published_by":1},{"id":44,"uuid":"55a42c41-1158-4bb0-a6b4-61f958e0b52c","title":"[Windows] Synchroniser deux répertoires en conservant les permissions NTFS","slug":"windows-synchroniser-deux-repertoires-en-conservant-les-permissions-ntfs","markdown":"\nPour synchroniser deux dossiers sur Windows, un utilitaire est proposé par défaut depuis Windows 2003, il se lance en ligne de commande, son petit nom … ROBOCOPY !  \n  \n L’avantage de cet outil est qu’il permet de copier les fichiers a une vitesse assez folle et qu’il a pas mal d’options, notamment pour conserver les permissions NTFS.\n\n \n\nVoici un exemple de synchronisation.\n\nrobocopy \"D:\\STAT\" \"\\\\autre_serveur\\E\\STAT\" /MIR /SEC /RH:2000-0700 /TEE /LOG+:c:\\journal.log\n\nLe dossier source : « D:\\STATS », le dossier cible : un chemin UNC ou un dossier « \\\\autre_serveur\\E\\STAT »\n\n \n\nVoici la description des options utilisées ici :\n\n- **/MIR **: Applique les changement de la source sur la cible, si un fichier est créé sur la source, il est créé sur la cible, si un dossier est supprimé sur la source, il est supprimé sur la cible.\n- **/RH **: Sert a plannifier, dans ce cas, de 20h à 6h du matin.\n- **/SEC **: Migrer les droits NTFS\n- **/LOG **: Désactive la sortie écran, et la redirige dans un fichier de log, ici C:\\journal.log\n- **/TEE** : Rétabli la sortie écran même si le **/LOG** est spécifié.\n\nEt voilà !\n\n\n","html":"<p>Pour synchroniser deux dossiers sur Windows, un utilitaire est proposé par défaut depuis Windows 2003, il se lance en ligne de commande, son petit nom … ROBOCOPY !  </p>\n\n<p>L’avantage de cet outil est qu’il permet de copier les fichiers a une vitesse assez folle et qu’il a pas mal d’options, notamment pour conserver les permissions NTFS.</p>\n\n<p>Voici un exemple de synchronisation.</p>\n\n<p>robocopy \"D:\\STAT\" \"\\autre_serveur\\E\\STAT\" /MIR /SEC /RH:2000-0700 /TEE /LOG+:c:\\journal.log</p>\n\n<p>Le dossier source : « D:\\STATS », le dossier cible : un chemin UNC ou un dossier « \\autre_serveur\\E\\STAT »</p>\n\n<p>Voici la description des options utilisées ici :</p>\n\n<ul>\n<li><em>*/MIR *</em>: Applique les changement de la source sur la cible, si un fichier est créé sur la source, il est créé sur la cible, si un dossier est supprimé sur la source, il est supprimé sur la cible.</li>\n<li><em>*/RH *</em>: Sert a plannifier, dans ce cas, de 20h à 6h du matin.</li>\n<li><em>*/SEC *</em>: Migrer les droits NTFS</li>\n<li><em>*/LOG *</em>: Désactive la sortie écran, et la redirige dans un fichier de log, ici C:\\journal.log</li>\n<li><strong>/TEE</strong> : Rétabli la sortie écran même si le <strong>/LOG</strong> est spécifié.</li>\n</ul>\n\n<p>Et voilà !</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-23T15:21:36.000Z","created_by":1,"updated_at":"2015-08-07T11:39:23.000Z","updated_by":1,"published_at":"2014-10-23T15:21:36.000Z","published_by":1},{"id":45,"uuid":"c566896f-e786-433c-9eb8-5b6638e955c4","title":"[Linux] Créer une copie bit à bit d'une clef USB","slug":"linux-creer-une-copie-bit-a-bit-dune-clef-usb","markdown":"\nLinux propose un outil en ligne de commande qui permet de faire de la copie bit à bit d’un fichier/périphérique vers un autre, son petit nom : dd.  \n  \n  \n\nCet outil est utile notamment pour sauvegarder le contenu de clef USB, dans l’exemple, je vais sauvegarder une clef USB bootable. DD copie également la MBR de la clef.\n\n \n\nroot@Baal:/etc/varnish# dd if=/dev/sdd1 of=~/AldaKey.img 15628288+0 enregistrements lus 15628288+0 enregistrements écrits 8001683456 octets (8,0 GB) copiés, 732,343 s, 10,9 MB/s\n\nDescription des paramètres :\n\n- **if** : (Input File) le fichier/périphérique en entrée\n- **of** : (Output File) le fichier/périphérique en sortie.\n\nDans mon cas, l’entrée est donc la clef et la sortie est le fichier « ~/AldaKey.img ».\n\n \n\n\n","html":"<p>Linux propose un outil en ligne de commande qui permet de faire de la copie bit à bit d’un fichier/périphérique vers un autre, son petit nom : dd.  </p>\n\n<p>Cet outil est utile notamment pour sauvegarder le contenu de clef USB, dans l’exemple, je vais sauvegarder une clef USB bootable. DD copie également la MBR de la clef.</p>\n\n<p>root@Baal:/etc/varnish# dd if=/dev/sdd1 of=~/AldaKey.img 15628288+0 enregistrements lus 15628288+0 enregistrements écrits 8001683456 octets (8,0 GB) copiés, 732,343 s, 10,9 MB/s</p>\n\n<p>Description des paramètres :</p>\n\n<ul>\n<li><strong>if</strong> : (Input File) le fichier/périphérique en entrée</li>\n<li><strong>of</strong> : (Output File) le fichier/périphérique en sortie.</li>\n</ul>\n\n<p>Dans mon cas, l’entrée est donc la clef et la sortie est le fichier « ~/AldaKey.img ».</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-24T10:24:47.000Z","created_by":1,"updated_at":"2014-10-24T10:24:47.000Z","updated_by":1,"published_at":"2014-10-24T10:24:47.000Z","published_by":1},{"id":46,"uuid":"03cb1395-44c3-4165-9817-2cc0ed693c2b","title":"[Oracle] Le listener","slug":"oracle-le-listener","markdown":"\nLe listener est un programme fournit par Oracle qui écoute sur un port réseau, le 1521 par défaut, c’est la porte d’entrée dans le monde Oracle.  \n  \n Ce programme reçoit les connexions clientes et les dispatche sur la bonne base Oracle. Un seul listener peut gérer les connexions vers plusieurs base de données.\n\nOn peut toute fois mettre en place pas mal de configurations différentes avec cet outil :\n\n- Un seul listener pour toutes les bases de la machine\n- Un listener par base sur le host (chacun aura un port différent)\n- Un lister par version d’Oracle sur la machine (un listener pour les 10g, un autre pour les 11g, …)\n\n \n\n### Lister tous les listeners démarrés sur une machine\n\nSur UNIX/Linux :\n\n[![image2014-4-10 13-20-14](https://techan.fr/images/2014/10/image2014-4-10-13-20-14.png)](https://techan.fr/images/2014/10/image2014-4-10-13-20-14.png)\n\n \n\nDans cet exemple, on voit que la machine n’a qu’un seul listener démarré qui s’appelle : LISTENER.\n\n \n\n### Afficher les bases enregistrées dans un listener\n\nLes base Oracle vont s’enregistrer dans le listener, en faisant cela, elles deviennent accessibles par les clients.\n\nOn peut afficher les bases enregistrées dans un listener en utilisant l’outil « lsnrctl », c’est l’outil qui sert a administrer les listener d’Oracle.  \n[![image2014-4-10 13-24-40](https://techan.fr/images/2014/10/image2014-4-10-13-24-40.png)](https://techan.fr/images/2014/10/image2014-4-10-13-24-40.png)\n\nLe listener « LISTENER » écoute sur le poste 1512 et supporte deux bases Oracle lora12c1001d et TFTI1.\n\nDans cet affichage, on trouve également l’emplacement du fichier de log du listener.\n\n \n\n### Démarrer / arrêter / recharger un listener\n\n##### Stopper un listener\n\nlsnrctl <LISTENER NAME> stop\n\n[![image2014-4-10 13-36-17](https://techan.fr/images/2014/10/image2014-4-10-13-36-17.png)](https://techan.fr/images/2014/10/image2014-4-10-13-36-17.png)\n\n<span style=\"text-decoration: underline;\">** Note :**</span> Stopper un listener va empêcher les nouvelles connexions aux base que ce listener supporte. Cela ne coupe pas les connexions déjà ouvertes, car elles ne passent alors plus apr le listener mais vont directement à la base Oracle.\n\n \n\n##### Démarrer un listener\n\nlsnrctl <LISTENER NAME> start\n\n[![image2014-4-10 13-38-26](https://techan.fr/images/2014/10/image2014-4-10-13-38-26.png)](https://techan.fr/images/2014/10/image2014-4-10-13-38-26.png)\n\n \n\n##### Recharger un listener\n\nCette opération force le listener a relire et recharger sa configuration sans pour autant l’arrêter.\n\nlsnrctl reload <LISTENER NAME>\n\n[![image2014-4-10 13-40-13](https://techan.fr/images/2014/10/image2014-4-10-13-40-13.png)](https://techan.fr/images/2014/10/image2014-4-10-13-40-13.png)\n\n<span style=\"text-decoration: underline;\">**Note :**</span>  Cette action est très rapide, n’interrompt pas les connexions actives, ni les nouvelles connexions pendant le rechargement de la configuration.\n\n \n\n### Fichier de configuration du listener\n\nLa configuration du listener est situé dans le dossier suivant :\n\n- UNIX/Linux : $ORACLE_HOME/network/admin\n- Windows : %ORACLE_HOME%\\network\\admin\n\n[![image2014-4-10 13-46-36](https://techan.fr/images/2014/10/image2014-4-10-13-46-36.png)](https://techan.fr/images/2014/10/image2014-4-10-13-46-36.png)\n\nLe nom du fichier de configuration est : « listener.ora ».\n\n\n","html":"<p>Le listener est un programme fournit par Oracle qui écoute sur un port réseau, le 1521 par défaut, c’est la porte d’entrée dans le monde Oracle.  </p>\n\n<p>Ce programme reçoit les connexions clientes et les dispatche sur la bonne base Oracle. Un seul listener peut gérer les connexions vers plusieurs base de données.</p>\n\n<p>On peut toute fois mettre en place pas mal de configurations différentes avec cet outil :</p>\n\n<ul>\n<li>Un seul listener pour toutes les bases de la machine</li>\n<li>Un listener par base sur le host (chacun aura un port différent)</li>\n<li><p>Un lister par version d’Oracle sur la machine (un listener pour les 10g, un autre pour les 11g, …)</p></li>\n</ul>\n\n<h3 id=\"listertousleslistenersdmarrssurunemachine\">Lister tous les listeners démarrés sur une machine</h3>\n\n<p>Sur UNIX/Linux :</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-10-13-20-14.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-10-13-20-14.png\" alt=\"image2014-4-10 13-20-14\" title=\"\" /></a></p>\n\n<p>Dans cet exemple, on voit que la machine n’a qu’un seul listener démarré qui s’appelle : LISTENER.</p>\n\n<h3 id=\"afficherlesbasesenregistresdansunlistener\">Afficher les bases enregistrées dans un listener</h3>\n\n<p>Les base Oracle vont s’enregistrer dans le listener, en faisant cela, elles deviennent accessibles par les clients.</p>\n\n<p>On peut afficher les bases enregistrées dans un listener en utilisant l’outil « lsnrctl », c’est l’outil qui sert a administrer les listener d’Oracle. <br />\n<a href=\"https://techan.fr/images/2014/10/image2014-4-10-13-24-40.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-10-13-24-40.png\" alt=\"image2014-4-10 13-24-40\" title=\"\" /></a></p>\n\n<p>Le listener « LISTENER » écoute sur le poste 1512 et supporte deux bases Oracle lora12c1001d et TFTI1.</p>\n\n<p>Dans cet affichage, on trouve également l’emplacement du fichier de log du listener.</p>\n\n<h3 id=\"dmarrerarrterrechargerunlistener\">Démarrer / arrêter / recharger un listener</h3>\n\n<h5 id=\"stopperunlistener\">Stopper un listener</h5>\n\n<p>lsnrctl <LISTENER NAME> stop</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-10-13-36-17.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-10-13-36-17.png\" alt=\"image2014-4-10 13-36-17\" title=\"\" /></a></p>\n\n<p><span style=\"text-decoration: underline;\"><em>* Note :</em>*</span> Stopper un listener va empêcher les nouvelles connexions aux base que ce listener supporte. Cela ne coupe pas les connexions déjà ouvertes, car elles ne passent alors plus apr le listener mais vont directement à la base Oracle.</p>\n\n<h5 id=\"dmarrerunlistener\">Démarrer un listener</h5>\n\n<p>lsnrctl <LISTENER NAME> start</p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-10-13-38-26.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-10-13-38-26.png\" alt=\"image2014-4-10 13-38-26\" title=\"\" /></a></p>\n\n<h5 id=\"rechargerunlistener\">Recharger un listener</h5>\n\n<p>Cette opération force le listener a relire et recharger sa configuration sans pour autant l’arrêter.</p>\n\n<p>lsnrctl reload <LISTENER NAME></p>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-10-13-40-13.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-10-13-40-13.png\" alt=\"image2014-4-10 13-40-13\" title=\"\" /></a></p>\n\n<p><span style=\"text-decoration: underline;\"><strong>Note :</strong></span>  Cette action est très rapide, n’interrompt pas les connexions actives, ni les nouvelles connexions pendant le rechargement de la configuration.</p>\n\n<h3 id=\"fichierdeconfigurationdulistener\">Fichier de configuration du listener</h3>\n\n<p>La configuration du listener est situé dans le dossier suivant :</p>\n\n<ul>\n<li>UNIX/Linux : $ORACLE_HOME/network/admin</li>\n<li>Windows : %ORACLE_HOME%\\network\\admin</li>\n</ul>\n\n<p><a href=\"https://techan.fr/images/2014/10/image2014-4-10-13-46-36.png\"><img src=\"https://techan.fr/images/2014/10/image2014-4-10-13-46-36.png\" alt=\"image2014-4-10 13-46-36\" title=\"\" /></a></p>\n\n<p>Le nom du fichier de configuration est : « listener.ora ».</p>","image":"http://blog.techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-24T10:39:45.000Z","created_by":1,"updated_at":"2014-11-20T15:52:21.000Z","updated_by":1,"published_at":"2014-10-24T10:39:45.000Z","published_by":1},{"id":47,"uuid":"1c680219-5a54-49f1-895a-036530ff4702","title":"[iTop] Configuration de l'authentification Active Directory","slug":"itop-configuration-de-lauthentification-active-directory","markdown":"\niTop est une application web éditée par la société Combodo. Elle permet de faire la gestion de parc informatique (CMDB) ainsi que de la gestion de tickets suivant la norme ITIL.\n\nC’est un outil très sympa à utiliser et très « user friendly ».\n\nCependant, il manque d’une interface d’administration centralisée. Beaucoup de tâches d’administration doivent être faites en éditant les fichiers de configuration directement sur le serveur web.\n\nJe vais détailler ici comment utiliser l’authentification avec Active Directory dans cet outil.  \n  \n  \n\nLa configuration de authentification se fait dans le fichier de préférences d’iTop qui se trouve dans le dossier suivant : « /chemin/vers/itop/web/conf/production/ », son petit nom est « config-itop.php ».\n\n \n\nDans ce fichier, vous trouverez une section « authent-ldap », c’est ici que nous allons configurer l’accès à l’Active Directory.\n\n \n\nModifiez ce bloc pour qu’il ressemble à ceci, en adaptant avec vos paramètres :\n\n/** * * Modules specific settings * */ $MyModuleSettings = array( 'authent-ldap' => array ( 'host' => 'DNS ou IP du serveur AD', 'port' => 389, 'default_user' => 'DOMAINE\\compte AD', 'default_pwd' => 'Mot de passe', 'base_dn' => 'dc=domaine,dc=fr', 'user_query' => '(&(samaccountname=%1$s)(objectCategory=User))', 'options' => array ( 17 => 3, 8 => 0, ), 'debug' => false, ), 'itop-attachments' => array ( 'allowed_classes' => array ( 0 => 'Ticket', ), 'position' => 'relations', ), );\n\n \n\nEt voilà, l’authentification via l’AD est maintenant possible, pour ce faire, il faut créer un contact dans l’application puis le lier à un compte de type « Utilisateur LDAP ».\n\n \n\n<span style=\"text-decoration: underline;\">**Source :**</span>[La doc officielle](https://wiki.openitop.org/doku.php?id=active_directory_integration)\n\n\n","html":"<p>iTop est une application web éditée par la société Combodo. Elle permet de faire la gestion de parc informatique (CMDB) ainsi que de la gestion de tickets suivant la norme ITIL.</p>\n\n<p>C’est un outil très sympa à utiliser et très « user friendly ».</p>\n\n<p>Cependant, il manque d’une interface d’administration centralisée. Beaucoup de tâches d’administration doivent être faites en éditant les fichiers de configuration directement sur le serveur web.</p>\n\n<p>Je vais détailler ici comment utiliser l’authentification avec Active Directory dans cet outil.  </p>\n\n<p>La configuration de authentification se fait dans le fichier de préférences d’iTop qui se trouve dans le dossier suivant : « /chemin/vers/itop/web/conf/production/ », son petit nom est « config-itop.php ».</p>\n\n<p>Dans ce fichier, vous trouverez une section « authent-ldap », c’est ici que nous allons configurer l’accès à l’Active Directory.</p>\n\n<p>Modifiez ce bloc pour qu’il ressemble à ceci, en adaptant avec vos paramètres :</p>\n\n<p>/** * * Modules specific settings * */ $MyModuleSettings = array( 'authent-ldap' => array ( 'host' => 'DNS ou IP du serveur AD', 'port' => 389, 'default<em>user' => 'DOMAINE\\compte AD', 'default</em>pwd' => 'Mot de passe', 'base<em>dn' => 'dc=domaine,dc=fr', 'user</em>query' => '(&amp;(samaccountname=%1$s)(objectCategory=User))', 'options' => array ( 17 => 3, 8 => 0, ), 'debug' => false, ), 'itop-attachments' => array ( 'allowed_classes' => array ( 0 => 'Ticket', ), 'position' => 'relations', ), );</p>\n\n<p>Et voilà, l’authentification via l’AD est maintenant possible, pour ce faire, il faut créer un contact dans l’application puis le lier à un compte de type « Utilisateur LDAP ».</p>\n\n<p><span style=\"text-decoration: underline;\"><strong>Source :</strong></span><a href=\"https://wiki.openitop.org/doku.php?id=active_directory_integration\">La doc officielle</a></p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-24T13:48:33.000Z","created_by":1,"updated_at":"2014-10-27T09:54:37.000Z","updated_by":1,"published_at":"2014-10-24T13:48:33.000Z","published_by":1},{"id":48,"uuid":"7b45cab4-b60a-4ac8-82d9-dcad9a1e4fef","title":"[Varnish] Configurer Varnish pour booster Wordpress","slug":"varnish-configurer-varnish-pour-booster-wordpress","markdown":"\nVarnish est un accélérateur HTTP qui gère du cache, il booste scandaleusement les performances de site Web, mieux que ne le font les traditionnels plugins de cache proposés pour WordPress.\n\nNous allons voir comment paramètrer la chose pour booster un site tournant sur WordPress.  \n  \n Pour cela, il faut déjà installer Varnish :\n\naptitude install varnish\n\n \n\nQuelques changements dans l’architecture du serveur Web sont a prévoir, c’est Varnish qui répondra sur le port 80 et Apache lui se contentera du port 8080.\n\n \n\nDans Apache, voici le changements a apporter :\n\n1. Changer le **Listen 80 **en **Listen8080**\n2. Changer les **VirtualHost *:80 **ou **VirtualHost _default_:80** en **VirtualHost *:8080 ou VirtualHost _default_:8080**.\n\n \n\nVenons en maintenant à la configuration de Varnish, il y a deux fichier a éditer :\n\n- /etc/varnish/default.vcl\n- /etc/default/varnish\n\n \n\nDans le fichier « /etc/default/varnish », nous allons dire a Varnish d’écouter sur le port 80, il faut éditer le fichier de sorte à ce que le bloc « DAEMON_OPTS » ressemble à ceci :\n\nDAEMON_OPTS=\"-a :80 \\ -T localhost:6082 \\ -f /etc/varnish/default.vcl \\ -S /etc/varnish/secret \\ -s malloc,256m\"\n\n \n\nMaintenant, dans le fichier « /etc/varnish/default.vcl », nous allons spécifier un « backend », une source à Varnish et des règles pour le cache.\n\nVoici le contenu de ce fichier :\n\nbackend default { .host = \"127.0.0.1\"; .port = \"8080\"; } acl purge { \"localhost\"; \"192.168.0.0\"/24; } sub vcl_recv { if (req.url ~ \"preview=true\") { return(pass); } # Drop any cookies sent to WordPress. if (!(req.url ~ \"wp-(login|admin)\")) { unset req.http.cookie; } # allow PURGE from localhost and 192.168.55... if (req.request == \"PURGE\") { if (!client.ip ~ purge) { error 405 \"Not allowed.\"; } return (lookup); } } sub vcl_fetch { if (req.url ~ \"preview=true\") { return(hit_for_pass); } # Drop any cookies WordPress tries to send back to the client. if (!(req.url ~ \"wp-(login|admin)\")) { unset beresp.http.set-cookie; } } sub vcl_hit { if (req.request == \"PURGE\") { purge; error 200 \"Purged.\"; } } sub vcl_miss { if (req.request == \"PURGE\") { purge; error 200 \"Purged.\"; } }\n\nOn précise ici que Varnish  va écouter sur le port 8080 du localhost, et nous précisons les règles nécessaires à la gestion des cookies de WordPress. Nous permettons également de ne pas « cacher » les articles que nous prévisualisons; ce qui peut être pratique.\n\n \n\nUne fois que tout ceci est en place, il ne reste qu’a redémarrer Apache puis Varnish et le tour est joué !\n\n\n","html":"<p>Varnish est un accélérateur HTTP qui gère du cache, il booste scandaleusement les performances de site Web, mieux que ne le font les traditionnels plugins de cache proposés pour WordPress.</p>\n\n<p>Nous allons voir comment paramètrer la chose pour booster un site tournant sur WordPress.  </p>\n\n<p>Pour cela, il faut déjà installer Varnish :</p>\n\n<p>aptitude install varnish</p>\n\n<p>Quelques changements dans l’architecture du serveur Web sont a prévoir, c’est Varnish qui répondra sur le port 80 et Apache lui se contentera du port 8080.</p>\n\n<p>Dans Apache, voici le changements a apporter :</p>\n\n<ol>\n<li>Changer le <strong>Listen 80 <em>*en *</em>Listen8080</strong>  </li>\n<li><p>Changer les <strong>VirtualHost <em>:80 *</em>ou **VirtualHost <em>default</em>:80</strong> en <strong>VirtualHost *:8080 ou VirtualHost <em>default</em>:8080</strong>.</p></li>\n</ol>\n\n<p>Venons en maintenant à la configuration de Varnish, il y a deux fichier a éditer :</p>\n\n<ul>\n<li>/etc/varnish/default.vcl</li>\n<li><p>/etc/default/varnish</p></li>\n</ul>\n\n<p>Dans le fichier « /etc/default/varnish », nous allons dire a Varnish d’écouter sur le port 80, il faut éditer le fichier de sorte à ce que le bloc « DAEMON_OPTS » ressemble à ceci :</p>\n\n<p>DAEMON_OPTS=\"-a :80 \\ -T localhost:6082 \\ -f /etc/varnish/default.vcl \\ -S /etc/varnish/secret \\ -s malloc,256m\"</p>\n\n<p>Maintenant, dans le fichier « /etc/varnish/default.vcl », nous allons spécifier un « backend », une source à Varnish et des règles pour le cache.</p>\n\n<p>Voici le contenu de ce fichier :</p>\n\n<p>backend default { .host = \"127.0.0.1\"; .port = \"8080\"; } acl purge { \"localhost\"; \"192.168.0.0\"/24; } sub vcl<em>recv { if (req.url ~ \"preview=true\") { return(pass); } # Drop any cookies sent to WordPress. if (!(req.url ~ \"wp-(login|admin)\")) { unset req.http.cookie; } # allow PURGE from localhost and 192.168.55... if (req.request <mark> \"PURGE\") { if (!client.ip ~ purge) { error 405 \"Not allowed.\"; } return (lookup); } } sub vcl</em>fetch { if (req.url ~ \"preview=true\") { return(hit<em>for</em>pass); } # Drop any cookies WordPress tries to send back to the client. if (!(req.url ~ \"wp-(login|admin)\")) { unset beresp.http.set-cookie; } } sub vcl<em>hit { if (req.request </mark> \"PURGE\") { purge; error 200 \"Purged.\"; } } sub vcl</em>miss { if (req.request == \"PURGE\") { purge; error 200 \"Purged.\"; } }</p>\n\n<p>On précise ici que Varnish  va écouter sur le port 8080 du localhost, et nous précisons les règles nécessaires à la gestion des cookies de WordPress. Nous permettons également de ne pas « cacher » les articles que nous prévisualisons; ce qui peut être pratique.</p>\n\n<p>Une fois que tout ceci est en place, il ne reste qu’a redémarrer Apache puis Varnish et le tour est joué !</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-27T09:46:13.000Z","created_by":1,"updated_at":"2015-11-17T16:16:55.000Z","updated_by":1,"published_at":"2014-10-27T09:46:13.000Z","published_by":1},{"id":49,"uuid":"f9290810-8a52-43b3-ba97-f9c859b98da0","title":"[Windows] Créer des jonctions de dossiers","slug":"windows-creer-des-jonctions-de-dossiers","markdown":"\nLe but  de cet article est d’exposer comment créer des liens symboliques sur Windows, ils s’appellent « Jonction » sur ce système.  \n  \n Ceci dans le but de déplacer un dossier sur une autre partition ou un autre disque, cela peut être utile lorsque le programme que vous utilisez ne vous propose pas l’emplacement du dossier a déplacer (Steam, iCloud Drive, …).\n\n \n\nDans cet exemple, je crée une « jonction » entre le dossier « P:\\iCloud\\Drive » et le dossier « D:\\Users\\xxx\\iCloudDrive ».\n\nD:\\Users\\xxx>mklink /J \"D:\\Users\\xxx\\iCloudDrive\" \"P:\\iCloud\\Drive\" Jonction créée pour D:\\Users\\xxx\\iCloudDrive <<===>> P:\\iCloud\\Drive\n\n- **/J **: créer une jonction\n- **Dossier cible**\n- **Dossier source**\n\n \n\nOn vérifie après coup :\n\nD:\\Users\\xxx>dir Le volume dans le lecteur D s'appelle DATA Le numéro de série du volume est XXXX-XXXX Répertoire de D:\\Users\\xxx 28/10/2014 12:34 <REP> . 28/10/2014 12:34 <REP> .. 28/10/2014 11:32 <REP> Desktop 28/10/2014 12:09 <REP> Documents 30/04/2014 14:59 <REP> Documentum 24/10/2014 13:05 <REP> Downloads 28/10/2014 12:14 <REP> Favorites 28/10/2014 12:34 <JONCTION> iCloudDrive [P:\\iCloud\\Drive]\n\nOn voit donc bien que le dossier « D:\\Users\\xxx\\iCloudDrive » est en fait un lien vers le dossier « P:\\iCloud\\Drive ».\n\n\n","html":"<p>Le but  de cet article est d’exposer comment créer des liens symboliques sur Windows, ils s’appellent « Jonction » sur ce système.  </p>\n\n<p>Ceci dans le but de déplacer un dossier sur une autre partition ou un autre disque, cela peut être utile lorsque le programme que vous utilisez ne vous propose pas l’emplacement du dossier a déplacer (Steam, iCloud Drive, …).</p>\n\n<p>Dans cet exemple, je crée une « jonction » entre le dossier « P:\\iCloud\\Drive » et le dossier « D:\\Users\\xxx\\iCloudDrive ».</p>\n\n<p>D:\\Users\\xxx>mklink /J \"D:\\Users\\xxx\\iCloudDrive\" \"P:\\iCloud\\Drive\" Jonction créée pour D:\\Users\\xxx\\iCloudDrive &lt;&lt;===>> P:\\iCloud\\Drive</p>\n\n<ul>\n<li><em>*/J *</em>: créer une jonction</li>\n<li><strong>Dossier cible</strong></li>\n<li><p><strong>Dossier source</strong></p></li>\n</ul>\n\n<p>On vérifie après coup :</p>\n\n<p>D:\\Users\\xxx>dir Le volume dans le lecteur D s'appelle DATA Le numéro de série du volume est XXXX-XXXX Répertoire de D:\\Users\\xxx 28/10/2014 12:34 <REP> . 28/10/2014 12:34 <REP> .. 28/10/2014 11:32 <REP> Desktop 28/10/2014 12:09 <REP> Documents 30/04/2014 14:59 <REP> Documentum 24/10/2014 13:05 <REP> Downloads 28/10/2014 12:14 <REP> Favorites 28/10/2014 12:34 <JONCTION> iCloudDrive [P:\\iCloud\\Drive]</p>\n\n<p>On voit donc bien que le dossier « D:\\Users\\xxx\\iCloudDrive » est en fait un lien vers le dossier « P:\\iCloud\\Drive ».</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-10-28T16:09:53.000Z","created_by":1,"updated_at":"2015-08-07T11:39:22.000Z","updated_by":1,"published_at":"2014-10-28T16:09:53.000Z","published_by":1},{"id":50,"uuid":"7aa2aa2b-c231-42d7-b7f3-f6946e115f74","title":"[RedHat] Ajouter un disque à chaud, sans rescan-scsi-bus","slug":"redhat-ajouter-un-disque-a-chaud-sans-rescan-scsi-bus","markdown":"\nSur les anciennes versions de RedHat, la commande rescan-scsi-bus n’est pas forcément disponible dans les dépôts, il faut donc s’en passer pour ajouter les disques à chaud.\n\n\n## Ajouter un disque à chaud\n\nPour cela, il suffit de faire un cat dans des fichiers spéciaux sous le /sys.\n\n[root@xxxxxxx ~]# ll /sys/class/scsi_host/ total 0 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host0 -> ../../devices/pci0000:00/0000:00:07.1/ata1/host0/scsi_host/host0 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host1 -> ../../devices/pci0000:00/0000:00:07.1/ata2/host1/scsi_host/host1 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host2 -> ../../devices/pci0000:00/0000:00:10.0/host2/scsi_host/host2 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host3 -> ../../devices/pci0000:00/0000:00:11.0/0000:02:01.0/host3/scsi_host/host3 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host4 -> ../../devices/pci0000:00/0000:00:11.0/0000:02:02.0/host4/scsi_host/host4 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host5 -> ../../devices/pci0000:00/0000:00:11.0/0000:02:03.0/host5/scsi_host/host5\n\n \n\nChacun de ces dossiers « host » contient un fichier « scan », c’est dans ces fichiers que nous allons faire ces cat :\n\n[root@xxxxxxx ~]# echo \"- - -\" > /sys/class/scsi_host/host0/scan\n\n \n\nVérifier que le disque soit bien apparu après quelques secondes en utilisant la commande « fdisk -l ».\n\n \n\n\n## Redimensionner un disque à chaud\n\nPour redimensionner un disque à chaud, par exemple si vous ajouter de l’espace à ce disque dans VMware, il faut faire une manipulation différente.\n\nDéjà, il faut récupérer l’identifiant du disque dans le bus SCSI, par exemple, si je veux étendre le disque /dev/sdb.\n\n# udevadm info -q all -n /dev/sdb | grep sdb P: /devices/pci0000:00/0000:00:10.0/host0/target0:0:1/0:0:1:0/block/sdb N: sdb E: DEVPATH=/devices/pci0000:00/0000:00:10.0/host0/target0:0:1/0:0:1:0/block/sdb E: DEVNAME=/dev/sdb\n\n \n\nLe disque /dev/sdb à donc comme identifiant « 0:0:1 », pour que l’agrandissement soit vu par le système, il faut passer la commande suivante :\n\n# echo \" \" > /sys/class/scsi_disk/0\\:0\\:1\\:0/device/rescan\n\n \n\n \n\n \n\n\n","html":"<p>Sur les anciennes versions de RedHat, la commande rescan-scsi-bus n’est pas forcément disponible dans les dépôts, il faut donc s’en passer pour ajouter les disques à chaud.</p>\n\n<h2 id=\"ajouterundisquechaud\">Ajouter un disque à chaud</h2>\n\n<p>Pour cela, il suffit de faire un cat dans des fichiers spéciaux sous le /sys.</p>\n\n<p>[root@xxxxxxx ~]# ll /sys/class/scsi<em>host/ total 0 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host0 -> ../../devices/pci0000:00/0000:00:07.1/ata1/host0/scsi</em>host/host0 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host1 -> ../../devices/pci0000:00/0000:00:07.1/ata2/host1/scsi<em>host/host1 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host2 -> ../../devices/pci0000:00/0000:00:10.0/host2/scsi</em>host/host2 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host3 -> ../../devices/pci0000:00/0000:00:11.0/0000:02:01.0/host3/scsi<em>host/host3 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host4 -> ../../devices/pci0000:00/0000:00:11.0/0000:02:02.0/host4/scsi</em>host/host4 lrwxrwxrwx 1 root root 0 22 oct. 16:22 host5 -> ../../devices/pci0000:00/0000:00:11.0/0000:02:03.0/host5/scsi_host/host5</p>\n\n<p>Chacun de ces dossiers « host » contient un fichier « scan », c’est dans ces fichiers que nous allons faire ces cat :</p>\n\n<p>[root@xxxxxxx ~]# echo \"- - -\" > /sys/class/scsi_host/host0/scan</p>\n\n<p>Vérifier que le disque soit bien apparu après quelques secondes en utilisant la commande « fdisk -l ».</p>\n\n<h2 id=\"redimensionnerundisquechaud\">Redimensionner un disque à chaud</h2>\n\n<p>Pour redimensionner un disque à chaud, par exemple si vous ajouter de l’espace à ce disque dans VMware, il faut faire une manipulation différente.</p>\n\n<p>Déjà, il faut récupérer l’identifiant du disque dans le bus SCSI, par exemple, si je veux étendre le disque /dev/sdb.</p>\n\n<h1 id=\"udevadminfoqallndevsdbgrepsdbpdevicespci000000000000100host0target0010010blocksdbnsdbedevpathdevicespci000000000000100host0target0010010blocksdbedevnamedevsdb\">udevadm info -q all -n /dev/sdb | grep sdb P: /devices/pci0000:00/0000:00:10.0/host0/target0:0:1/0:0:1:0/block/sdb N: sdb E: DEVPATH=/devices/pci0000:00/0000:00:10.0/host0/target0:0:1/0:0:1:0/block/sdb E: DEVNAME=/dev/sdb</h1>\n\n<p>Le disque /dev/sdb à donc comme identifiant « 0:0:1 », pour que l’agrandissement soit vu par le système, il faut passer la commande suivante :</p>\n\n<h1 id=\"echosysclassscsi_disk0010devicerescan\">echo \" \" > /sys/class/scsi_disk/0\\:0\\:1\\:0/device/rescan</h1>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-03T10:58:04.000Z","created_by":1,"updated_at":"2015-11-17T16:13:36.000Z","updated_by":1,"published_at":"2014-11-03T10:58:04.000Z","published_by":1},{"id":51,"uuid":"3e7101b5-37b2-49a7-a5a9-9e1e60ec9ee5","title":"[NFS] Lister les partages NFS sur une machine distante","slug":"nfs-lister-les-partages-nfs-sur-une-machine-distante","markdown":"\nVoici une commande qui peut aider nos amis Linuxiens que j’ai découverte lors d’investigations sur un serveur NAS récalcitrant.\n\nElle permet de lister depuis une autre machine Linux les exprots NFS fait sur un serveur. Elle montre également les hôtes ayant des autorisations sur les partages.  \n  \n  \n\nraphael@xxxx:~$ showmount -e xxxx.xxxx.fr Export list for xxxx.xxxx.fr: /partage 10.0.0.200\n\nOn voit ici que la machine xxxx.xxxx.fr partage /partage avec la machine 10.0.0.200.\n\n\n","html":"<p>Voici une commande qui peut aider nos amis Linuxiens que j’ai découverte lors d’investigations sur un serveur NAS récalcitrant.</p>\n\n<p>Elle permet de lister depuis une autre machine Linux les exprots NFS fait sur un serveur. Elle montre également les hôtes ayant des autorisations sur les partages.  </p>\n\n<p>raphael@xxxx:~$ showmount -e xxxx.xxxx.fr Export list for xxxx.xxxx.fr: /partage 10.0.0.200</p>\n\n<p>On voit ici que la machine xxxx.xxxx.fr partage /partage avec la machine 10.0.0.200.</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-14T09:52:45.000Z","created_by":1,"updated_at":"2014-11-14T10:21:27.000Z","updated_by":1,"published_at":"2014-11-14T09:52:45.000Z","published_by":1},{"id":52,"uuid":"84149789-b642-498d-8817-04259534060d","title":"[Ubuntu] Remplacer Unity par Gnome","slug":"ubuntu-remplacer-unity-par-gnome","markdown":"\nLes nouvelles versions d’Ubuntu embarquent par défaut un gestionnaire de fenêtres nommé Unity, remplaçant ce bon vieux Gnome, Unity apporte tout pleins d’effets graphiques sympa mais que je voulais désactiver, je souhaitais également retrouver une interface un peu plus simple…\n\nQue vous soyez nostalgique du Gnome ou tout simplement pour des raisons de performances, sachez que l’on peut le remettre ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)  \n  \n  \n\nPour cela, il vous suffit d’utiliser la commande :\n\naptitude install gnome-session-fallback gnome-desktop-environment\n\n \n\nAprès le téléchargement d’un bon nombre de paquets, vous devrez vous déconnecter, cliquer sur l’icône juste à côté de votre nom d’utilisateur sur l’écran de connexion et choisir un des Gnome proposés (certains proposent Compiz, d’autres non, à vous de choisir ","html":"<p>Les nouvelles versions d’Ubuntu embarquent par défaut un gestionnaire de fenêtres nommé Unity, remplaçant ce bon vieux Gnome, Unity apporte tout pleins d’effets graphiques sympa mais que je voulais désactiver, je souhaitais également retrouver une interface un peu plus simple…</p>\n\n<p>Que vous soyez nostalgique du Gnome ou tout simplement pour des raisons de performances, sachez que l’on peut le remettre ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" />  </p>\n\n<p>Pour cela, il vous suffit d’utiliser la commande :</p>\n\n<p>aptitude install gnome-session-fallback gnome-desktop-environment</p>\n\n<p>Après le téléchargement d’un bon nombre de paquets, vous devrez vous déconnecter, cliquer sur l’icône juste à côté de votre nom d’utilisateur sur l’écran de connexion et choisir un des Gnome proposés (certains proposent Compiz, d’autres non, à vous de choisir ","image":"http://blog.techan.fr/images/2014/11/gnome_logo.gif","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-14T10:20:03.000Z","created_by":1,"updated_at":"2015-02-03T11:14:59.000Z","updated_by":1,"published_at":"2014-11-14T10:20:03.000Z","published_by":1},{"id":53,"uuid":"b5b49a6b-af15-4c7d-9ff5-77eb61c49b8a","title":"[Ubuntu] Activer le partage d'écran depuis la ligne de commande","slug":"ubuntu-activer-le-partage-decran-depuis-la-ligne-de-commande","markdown":"\n***<span style=\"text-decoration: underline;\">[Edit 06/05/2015] :</span>** Testé et approuvé sur Ubuntu 15.04*\n\nComme d’habitude, je me suis rendu compte que je n’avais pas activé l’accès à distance au bureau sur le serveur Ubuntu de la maison au mauvais moment, celui ou je n’étais pas à la maison …\n\n \n\nJ’ai donc fouiner sur l’internet multimédia pour trouver comment faire ça depuis la ligne de commande et j’ai fini par trouver.  \n  \n Déjà, il faut installer « vino » :\n\naptitude install vino\n\nEnsuite, il faut activer le partage de bureau, <span style=\"text-decoration: underline;\">ceci est à exécuter en étant connecté avec le compte de l’utilisateur qui va partager son bureau</span>.\n\n$ export DISPLAY=:0 $ gsettings set org.gnome.Vino enabled true\n\nEt ensuite, il faut lancer le serveur « vino » :\n\nraphael@xxxx:~$ DISPLAY=:0.0 /usr/lib/vino/vino-server & [1] 30950 raphael@xxxx:~$ disown 30950\n\nLa commande « disown » permet de détacher le processus de votre session en cours, « vino » continuera de tourner même si vous fermez votre session SSH.\n\n \n\nSi jamais vous avez des erreurs d’encryption incompatibles entre votre client VNC et le serveur « vino », voici la commande à utiliser :\n\ngsettings set org.gnome.Vino require-encryption false\n\n \n\n\n","html":"<p><strong><em><span style=\"text-decoration: underline;\">[Edit 06/05/2015] :</span></strong> Testé et approuvé sur Ubuntu 15.04</em></p>\n\n<p>Comme d’habitude, je me suis rendu compte que je n’avais pas activé l’accès à distance au bureau sur le serveur Ubuntu de la maison au mauvais moment, celui ou je n’étais pas à la maison …</p>\n\n<p>J’ai donc fouiner sur l’internet multimédia pour trouver comment faire ça depuis la ligne de commande et j’ai fini par trouver.  </p>\n\n<p>Déjà, il faut installer « vino » :</p>\n\n<p>aptitude install vino</p>\n\n<p>Ensuite, il faut activer le partage de bureau, <span style=\"text-decoration: underline;\">ceci est à exécuter en étant connecté avec le compte de l’utilisateur qui va partager son bureau</span>.</p>\n\n<p>$ export DISPLAY=:0 $ gsettings set org.gnome.Vino enabled true</p>\n\n<p>Et ensuite, il faut lancer le serveur « vino » :</p>\n\n<p>raphael@xxxx:~$ DISPLAY=:0.0 /usr/lib/vino/vino-server &amp; [1] 30950 raphael@xxxx:~$ disown 30950</p>\n\n<p>La commande « disown » permet de détacher le processus de votre session en cours, « vino » continuera de tourner même si vous fermez votre session SSH.</p>\n\n<p>Si jamais vous avez des erreurs d’encryption incompatibles entre votre client VNC et le serveur « vino », voici la commande à utiliser :</p>\n\n<p>gsettings set org.gnome.Vino require-encryption false</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-14T10:35:06.000Z","created_by":1,"updated_at":"2015-05-06T18:13:23.000Z","updated_by":1,"published_at":"2014-11-14T10:35:06.000Z","published_by":1},{"id":54,"uuid":"574e97f4-a26b-45c4-a4f9-eb251e7b37e1","title":"[BackupExec] Problème de backup de montages NFS","slug":"backupexec-probleme-de-backup-de-montages-nfs","markdown":"\nRécemment, nous avons eu un souci de sauvegarde de partage NFS via BackupExec. Nous utilisons un serveur Linux sur lequel sont montés les partages a sauvegarder, l’agent du Linux réalise alors les backups depuis cette machine.\n\nSur certains partages, les backups étaient marqués comme « succesfull » mais ne pesaient qu’un peu plus d’1 Ko alors qu’ils contiennent plusieurs (centaines) de Go de données.  \n  \n Dans les logs on voyait bien que l’agent « passait » (Skip) tous les dossiers dans ces montages NFS. Après pas mal de recherches infructueuses sur Internet et l’appel à un ami, j’ai trouvé ceci dans l’admin guide de BackupExec.\n\n[![be_nfs_admin_guide](https://techan.fr/images/2014/11/be_nfs_admin_guide-300x238.png)](https://techan.fr/images/2014/11/be_nfs_admin_guide.png)Le plus dur après a été de trouver ou renseigner cette option … Voici ou cela se trouve :\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_334\" style=\"width: 310px\">[![Ouvrez les jobs définis sur le serveur puis : Clic droit -> Edit sur le job qui ne fonctionne pas](https://techan.fr/images/2014/11/be_option_nfs1-300x230.png)](https://techan.fr/images/2014/11/be_option_nfs1.png)Ouvrez les jobs définis sur le serveur puis :  \nClic droit -> Edit  \nsur le job qui ne fonctionne pas\n\n</div> \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_335\" style=\"width: 310px\">[![Dans la fenêtre qui s'ouvre, cliquer sur \"Edit\" en bas de la colonne \"Backup\".](https://techan.fr/images/2014/11/be_option_nfs2-300x210.png)](https://techan.fr/images/2014/11/be_option_nfs2.png)Dans la fenêtre qui s’ouvre, cliquer sur « Edit » en bas de la colonne « Backup ».\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_336\" style=\"width: 310px\">[![Dans la nouvelle fenêtre qui s'ouvre, cliquer sur \"Linux and Macintosh\" dans le menu à gauche.](https://techan.fr/images/2014/11/be_option_nfs3-300x187.png)](https://techan.fr/images/2014/11/be_option_nfs3.png)Dans la nouvelle fenêtre qui s’ouvre, cliquer sur « Linux and Macintosh » dans le menu à gauche.\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_337\" style=\"width: 310px\">[![Cocher l'option \"Follow remonte mount points\".](https://techan.fr/images/2014/11/be_option_nfs4-300x188.png)](https://techan.fr/images/2014/11/be_option_nfs4.png)Cocher l’option « Follow remonte mount points ».\n\n</div>Relancer ensuite le backup, tout devrait mieux se passer …\n\n\n","html":"<p>Récemment, nous avons eu un souci de sauvegarde de partage NFS via BackupExec. Nous utilisons un serveur Linux sur lequel sont montés les partages a sauvegarder, l’agent du Linux réalise alors les backups depuis cette machine.</p>\n\n<p>Sur certains partages, les backups étaient marqués comme « succesfull » mais ne pesaient qu’un peu plus d’1 Ko alors qu’ils contiennent plusieurs (centaines) de Go de données.  </p>\n\n<p>Dans les logs on voyait bien que l’agent « passait » (Skip) tous les dossiers dans ces montages NFS. Après pas mal de recherches infructueuses sur Internet et l’appel à un ami, j’ai trouvé ceci dans l’admin guide de BackupExec.</p>\n\n<p><a href=\"https://techan.fr/images/2014/11/be_nfs_admin_guide.png\"><img src=\"https://techan.fr/images/2014/11/be_nfs_admin_guide-300x238.png\" alt=\"be<em>nfs</em>admin_guide\" title=\"\" /></a>Le plus dur après a été de trouver ou renseigner cette option … Voici ou cela se trouve :</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_334\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/11/be_option_nfs1.png\"><img src=\"https://techan.fr/images/2014/11/be_option_nfs1-300x230.png\" alt=\"Ouvrez les jobs définis sur le serveur puis : Clic droit -> Edit sur le job qui ne fonctionne pas\" title=\"\" /></a>Ouvrez les jobs définis sur le serveur puis : <br />\nClic droit -> Edit <br />\nsur le job qui ne fonctionne pas</p>\n\n<p></div> </p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_335\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/11/be_option_nfs2.png\"><img src=\"https://techan.fr/images/2014/11/be_option_nfs2-300x210.png\" alt=\"Dans la fenêtre qui s'ouvre, cliquer sur &quot;Edit&quot; en bas de la colonne &quot;Backup&quot;.\" title=\"\" /></a>Dans la fenêtre qui s’ouvre, cliquer sur « Edit » en bas de la colonne « Backup ».</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_336\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/11/be_option_nfs3.png\"><img src=\"https://techan.fr/images/2014/11/be_option_nfs3-300x187.png\" alt=\"Dans la nouvelle fenêtre qui s'ouvre, cliquer sur &quot;Linux and Macintosh&quot; dans le menu à gauche.\" title=\"\" /></a>Dans la nouvelle fenêtre qui s’ouvre, cliquer sur « Linux and Macintosh » dans le menu à gauche.</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_337\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2014/11/be_option_nfs4.png\"><img src=\"https://techan.fr/images/2014/11/be_option_nfs4-300x188.png\" alt=\"Cocher l'option &quot;Follow remonte mount points&quot;.\" title=\"\" /></a>Cocher l’option « Follow remonte mount points ».</p>\n\n<p></div>Relancer ensuite le backup, tout devrait mieux se passer …</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-14T11:08:10.000Z","created_by":1,"updated_at":"2014-11-14T11:08:10.000Z","updated_by":1,"published_at":"2014-11-14T11:08:10.000Z","published_by":1},{"id":55,"uuid":"df5cb2cd-4a5b-419c-80d8-ca7a8933599d","title":"[BackupExec] Mettre l'agent Linux en mode \"debug\"","slug":"backupexec-mettre-lagent-linux-en-mode-debug","markdown":"\nVoici une astuce pour mettre en agent BackupExec Linux en mode debug afin de pouvoir analyser ses logs (très très très très) verbeux.  \n  \n Dans un premier temps, il faut arrêter l’agent :\n\nroot@xxxx # /opt/VRTSralus/bin/VRTSralus.init stop\n\nEnsuite, on peut avoir toutes les options de lancement de l’agent en faisant la commande :\n\n/opt/VRTSralus/bin/beremote --help\n\nEt donc pour le mode debug, on peut soit tout envoyer vers la sortie écran :\n\n/opt/VRTSralus/bin/beremote --log-console &\n\nSoit envoyer sa sortie dans un fichier (ce que je vous recommande vu la quantité de lignes qu’il va sortir …\n\n/opt/VRTSralus/bin/beremote --log-file </chemin/vers/le/log> &\n\n \n\n**<span style=\"text-decoration: underline;\">Source :</span>**\n\n[Sur le site de symantec](http://www.symantec.com/business/support/index?page=content&id=TECH35477)\n\n\n","html":"<p>Voici une astuce pour mettre en agent BackupExec Linux en mode debug afin de pouvoir analyser ses logs (très très très très) verbeux.  </p>\n\n<p>Dans un premier temps, il faut arrêter l’agent :</p>\n\n<p>root@xxxx # /opt/VRTSralus/bin/VRTSralus.init stop</p>\n\n<p>Ensuite, on peut avoir toutes les options de lancement de l’agent en faisant la commande :</p>\n\n<p>/opt/VRTSralus/bin/beremote --help</p>\n\n<p>Et donc pour le mode debug, on peut soit tout envoyer vers la sortie écran :</p>\n\n<p>/opt/VRTSralus/bin/beremote --log-console &amp;</p>\n\n<p>Soit envoyer sa sortie dans un fichier (ce que je vous recommande vu la quantité de lignes qu’il va sortir …</p>\n\n<p>/opt/VRTSralus/bin/beremote --log-file </chemin/vers/le/log> &amp;</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Source :</span></strong></p>\n\n<p><a href=\"http://www.symantec.com/business/support/index?page=content&amp;id=TECH35477\">Sur le site de symantec</a></p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-14T11:16:11.000Z","created_by":1,"updated_at":"2014-11-14T11:16:11.000Z","updated_by":1,"published_at":"2014-11-14T11:16:11.000Z","published_by":1},{"id":56,"uuid":"b8331aad-3757-465c-8617-4fe6a4937b10","title":"[Linux Tuning] Ajuster la swappiness","slug":"linux-tuning-ajuster-la-swappiness","markdown":"\nLa swappiness est un paramètres du noyau Linux (modifiable à chaud) prend une valeur entre 0 et 100. Ce paramètre définit la priorité avec laquelle le noyau va swapper ses pages mémoires de la RAM vers le Disque.  \n  \n Linux a tendance a swapper les processes qui tournent longtemps car il n’utilisent jamais tout le temps toute la mémoire qui leur ait dévolue. Genre, Oracle n’a jamais toute sa mémoire active, certaines zones sont « dormantes » et ont tendance à être swappées.\n\nSur les RedHat / Oracle Linux la valeur est donc par défaut à 60 alors qu’une valeur à 20 ou 10 permettrait d’avoir sans doute plus de perfermormance (moins d’accès disques lorsqu’on remonte des pages mémoires depuis le disque).\n\nPar contre, il ne faut jamais mettre 0, cela empêche totalement le système de swapper, ce qui peut être dommage en cas de manque de RAM (OOM Killer bonjour !).\n\n \n\n\n## Modification de la swappiness :\n\n##### A chaud (temporaire):\n\nPour descendre la valeur à 20 :\n\necho 20 > /proc/sys/vm/swappiness\n\n#####  Modification permanente :\n\nAjouter ou modifier la ligne\n\nvm.swappiness=20\n\ndans le fichier « /etc/sysctl.conf ».\n\n\n","html":"<p>La swappiness est un paramètres du noyau Linux (modifiable à chaud) prend une valeur entre 0 et 100. Ce paramètre définit la priorité avec laquelle le noyau va swapper ses pages mémoires de la RAM vers le Disque.  </p>\n\n<p>Linux a tendance a swapper les processes qui tournent longtemps car il n’utilisent jamais tout le temps toute la mémoire qui leur ait dévolue. Genre, Oracle n’a jamais toute sa mémoire active, certaines zones sont « dormantes » et ont tendance à être swappées.</p>\n\n<p>Sur les RedHat / Oracle Linux la valeur est donc par défaut à 60 alors qu’une valeur à 20 ou 10 permettrait d’avoir sans doute plus de perfermormance (moins d’accès disques lorsqu’on remonte des pages mémoires depuis le disque).</p>\n\n<p>Par contre, il ne faut jamais mettre 0, cela empêche totalement le système de swapper, ce qui peut être dommage en cas de manque de RAM (OOM Killer bonjour !).</p>\n\n<h2 id=\"modificationdelaswappiness\">Modification de la swappiness :</h2>\n\n<h5 id=\"achaudtemporaire\">A chaud (temporaire):</h5>\n\n<p>Pour descendre la valeur à 20 :</p>\n\n<p>echo 20 > /proc/sys/vm/swappiness</p>\n\n<h5 id=\"modificationpermanente\"> Modification permanente :</h5>\n\n<p>Ajouter ou modifier la ligne</p>\n\n<p>vm.swappiness=20</p>\n\n<p>dans le fichier « /etc/sysctl.conf ».</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-14T14:36:51.000Z","created_by":1,"updated_at":"2014-11-20T17:18:46.000Z","updated_by":1,"published_at":"2014-11-14T14:36:51.000Z","published_by":1},{"id":57,"uuid":"728df380-45ee-43aa-b73b-211c59815e75","title":"[Apps] Retoucher ses photos et créer des GIF animés","slug":"apps-retoucher-ses-photos-et-creer-des-gif-animes","markdown":"\nCe matin, je cherchais un moyen de retoucher des photos et de créer un GIF animé avec ces dernières, bref, je voulais faire un truc fun avec mon chat bête.\n\nJ’ai trouvé deux applis sympa et gratuites, une pour la retouche de photos[Aviary](https://itunes.apple.com/fr/app/photo-editor-by-aviary/id527445936?mt=8#) et un deuxième [GifBoom](https://itunes.apple.com/fr/app/gifboom/id457502693?mt=8#) qui permet de créer des GIF ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\nPartant de ces deux magnifiques photos prises par un néophyte de l’appareil photo sur smartphone, je voulais ajouter des effets et du texte.\n\n<div class=\"wp-caption alignleft\" id=\"attachment_353\" style=\"width: 235px\">[![Avant](https://techan.fr/images/2014/11/day_orig-225x300.jpg)](https://techan.fr/images/2014/11/day_orig.jpg)Avant\n\n</div><div class=\"wp-caption alignleft\" id=\"attachment_354\" style=\"width: 235px\">[![Après](https://techan.fr/images/2014/11/day-225x300.jpg)](https://techan.fr/images/2014/11/day.jpg)Après\n\n</div> \n\n<div class=\"wp-caption alignleft\" id=\"attachment_356\" style=\"width: 235px\">[![Avant](https://techan.fr/images/2014/11/night_orig-225x300.jpg)](https://techan.fr/images/2014/11/night_orig.jpg)Avant\n\n</div><div class=\"wp-caption alignleft\" id=\"attachment_364\" style=\"width: 235px\">[![Tadaaaaaaam !](https://techan.fr/images/2014/11/chat_bete1-225x300.gif)](https://techan.fr/images/2014/11/chat_bete1.gif)Après\n\n</div> \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\nUne fois ces deux magnifiques photos retouchées dans Aviary, je les ai importées dans GifBoom pour créer ce chef-d’œuvre :\n\n \n\n[![chat_bete](https://techan.fr/images/2014/11/chat_bete.gif)](https://techan.fr/images/2014/11/chat_bete.gif)\n\n \n\n\n","html":"<p>Ce matin, je cherchais un moyen de retoucher des photos et de créer un GIF animé avec ces dernières, bref, je voulais faire un truc fun avec mon chat bête.</p>\n\n<p>J’ai trouvé deux applis sympa et gratuites, une pour la retouche de photos<a href=\"https://itunes.apple.com/fr/app/photo-editor-by-aviary/id527445936?mt=8#\">Aviary</a> et un deuxième <a href=\"https://itunes.apple.com/fr/app/gifboom/id457502693?mt=8#\">GifBoom</a> qui permet de créer des GIF <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>Partant de ces deux magnifiques photos prises par un néophyte de l’appareil photo sur smartphone, je voulais ajouter des effets et du texte.</p>\n\n<p><div class=\"wp-caption alignleft\" id=\"attachment_353\" style=\"width: 235px\"><a href=\"https://techan.fr/images/2014/11/day_orig.jpg\"><img src=\"https://techan.fr/images/2014/11/day_orig-225x300.jpg\" alt=\"Avant\" title=\"\" /></a>Avant</p>\n\n<p></div><div class=\"wp-caption alignleft\" id=\"attachment_354\" style=\"width: 235px\"><a href=\"https://techan.fr/images/2014/11/day.jpg\"><img src=\"https://techan.fr/images/2014/11/day-225x300.jpg\" alt=\"Après\" title=\"\" /></a>Après</p>\n\n<p></div> </p>\n\n<p><div class=\"wp-caption alignleft\" id=\"attachment_356\" style=\"width: 235px\"><a href=\"https://techan.fr/images/2014/11/night_orig.jpg\"><img src=\"https://techan.fr/images/2014/11/night_orig-225x300.jpg\" alt=\"Avant\" title=\"\" /></a>Avant</p>\n\n<p></div><div class=\"wp-caption alignleft\" id=\"attachment_364\" style=\"width: 235px\"><a href=\"https://techan.fr/images/2014/11/chat_bete1.gif\"><img src=\"https://techan.fr/images/2014/11/chat_bete1-225x300.gif\" alt=\"Tadaaaaaaam !\" title=\"\" /></a>Après</p>\n\n<p></div> </p>\n\n<p>Une fois ces deux magnifiques photos retouchées dans Aviary, je les ai importées dans GifBoom pour créer ce chef-d’œuvre :</p>\n\n<p><a href=\"https://techan.fr/images/2014/11/chat_bete.gif\"><img src=\"https://techan.fr/images/2014/11/chat_bete.gif\" alt=\"chat_bete\" title=\"\" /></a></p>","image":"http://blog.techan.fr/images/2014/11/app-store.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-17T11:28:56.000Z","created_by":1,"updated_at":"2015-01-22T18:18:42.000Z","updated_by":1,"published_at":"2014-11-17T11:28:56.000Z","published_by":1},{"id":58,"uuid":"f646faaf-c966-42ff-8090-bbda78854a79","title":"[Ubuntu] Installer TeamViewer 9 sur Ubuntu 14.10","slug":"ubuntu-installer-teamviewer-9-sur-ubuntu-14-10","markdown":"\nJ’ai eu quelques soucis pour installer TeamViewer sur Ubuntu après avoir fait la mise à jour 14.10 de l’OS. Donc je fais un petit ticket pour partager l’astuce que j’ai trouvée ","html":"<p>J’ai eu quelques soucis pour installer TeamViewer sur Ubuntu après avoir fait la mise à jour 14.10 de l’OS. Donc je fais un petit ticket pour partager l’astuce que j’ai trouvée ","image":"http://blog.techan.fr/images/2014/11/logo_teamviewer.gif","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-17T16:30:20.000Z","created_by":1,"updated_at":"2015-11-17T16:15:34.000Z","updated_by":1,"published_at":"2014-11-17T16:30:20.000Z","published_by":1},{"id":59,"uuid":"b6747dcf-c070-491a-9de0-451bed4ec6c4","title":"[iOS] La mise à jour 8.1.1 est arrivée !","slug":"ios-la-mise-a-jour-8-1-1-est-arrivee","markdown":"\nEn ce début de soirée, Apple a rendu disponible la mise a jour numéroter 8.1.1.\n\nNos amis possesseurs d’iPhone 4S et d’iPad 2 seront heureux d’apprendre qu’un des objectifs de ce match, en plus des habituelles corrections de bugs est d’améliorer la performance et la stabilité de ces appareils.\n\n[![IMG_8826.PNG](https://techan.fr/images/2014/11/IMG_8826.png)](https://techan.fr/images/2014/11/IMG_8826.png)\n\nPour plus de détails sur cette version, c’est par ici, mais ce n’est pas encore à jour !\n\nhttp://support.apple.com/fr-fr/HT1222\n\n\n","html":"<p>En ce début de soirée, Apple a rendu disponible la mise a jour numéroter 8.1.1.</p>\n\n<p>Nos amis possesseurs d’iPhone 4S et d’iPad 2 seront heureux d’apprendre qu’un des objectifs de ce match, en plus des habituelles corrections de bugs est d’améliorer la performance et la stabilité de ces appareils.</p>\n\n<p><a href=\"https://techan.fr/images/2014/11/IMG_8826.png\"><img src=\"https://techan.fr/images/2014/11/IMG_8826.png\" alt=\"IMG_8826.PNG\" title=\"\" /></a></p>\n\n<p>Pour plus de détails sur cette version, c’est par ici, mais ce n’est pas encore à jour !</p>\n\n<p><a href=\"http://support.apple.com/fr-fr/HT1222\">http://support.apple.com/fr-fr/HT1222</a></p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-17T20:39:59.000Z","created_by":1,"updated_at":"2014-11-18T10:55:53.000Z","updated_by":1,"published_at":"2014-11-17T20:39:59.000Z","published_by":1},{"id":60,"uuid":"eff7b571-331c-4c36-a875-2fd02ab78a92","title":"[OSX] Yosemite 10.10.1 : la foire de la mise à jour chez Apple","slug":"osx-yosemite-10-10-1-la-foire-de-la-mise-a-jour-chez-apple","markdown":"\nApple propose une nouvelle mise à jour juste après celle d’iOS, c’est son grand frère qui est gâté !\n\nOS X Yosemite passe a la version 10.10.1 !\n\nUn des point majeurs de cette mise à jour est l’amélioration de la fiabilité du Wifi qui était un des gros point faible de cette version d’OS X. Le système perdait fréquemment la connectivité avant de la retrouver quelques instants plus tard … Il est inutile de préciser que tout ce qui utilisait alors le réseau devenait difficilement utilisable (TeamViewer, TimeMachine : les backups prenaient une vie).\n\nA voir si ce patch résout tous ces soucis … ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\n[![Yosemite_10.10.1](https://techan.fr/images/2014/11/Yosemite_10.10.1.png)](https://techan.fr/images/2014/11/Yosemite_10.10.1.png)\n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\nPour la liste complète des corrections, c’est par ici :\n\n[http://support.apple.com/kb/HT6572?viewlocale=fr_FR](http://support.apple.com/kb/HT6572?viewlocale=fr_FR)\n\n\n","html":"<p>Apple propose une nouvelle mise à jour juste après celle d’iOS, c’est son grand frère qui est gâté !</p>\n\n<p>OS X Yosemite passe a la version 10.10.1 !</p>\n\n<p>Un des point majeurs de cette mise à jour est l’amélioration de la fiabilité du Wifi qui était un des gros point faible de cette version d’OS X. Le système perdait fréquemment la connectivité avant de la retrouver quelques instants plus tard … Il est inutile de préciser que tout ce qui utilisait alors le réseau devenait difficilement utilisable (TeamViewer, TimeMachine : les backups prenaient une vie).</p>\n\n<p>A voir si ce patch résout tous ces soucis … <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p><a href=\"https://techan.fr/images/2014/11/Yosemite_10.10.1.png\"><img src=\"https://techan.fr/images/2014/11/Yosemite_10.10.1.png\" alt=\"Yosemite_10.10.1\" title=\"\" /></a></p>\n\n<p>Pour la liste complète des corrections, c’est par ici :</p>\n\n<p><a href=\"http://support.apple.com/kb/HT6572?viewlocale=fr_FR\">http://support.apple.com/kb/HT6572?viewlocale=fr_FR</a></p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-17T20:44:44.000Z","created_by":1,"updated_at":"2014-11-18T10:55:22.000Z","updated_by":1,"published_at":"2014-11-17T20:44:44.000Z","published_by":1},{"id":61,"uuid":"ddbdd3e2-d801-401e-9940-80c85209c222","title":"[OS X] Activer le partage de bureau à distance","slug":"os-x-activer-le-partage-de-bureau-a-distance","markdown":"\nToujours le même souci lorsque l’on a pas de tête et qu’on oublie d’activer l’accès distant sur sa machine, il faut fouiller sur l’Internet Multimédia pour essayer de faire ça à distance et par SSH …\n\nNous avons déjà vu que c’est possible avec Ubuntu (voir: [[Ubuntu] Activer le partage d’écran depuis la ligne de commande](https://techan.fr/ubuntu-activer-le-partage-decran-depuis-la-ligne-de-commande/)), et bien c’est également possible avec OS X !\n\n \n\nJ’ai testé avec la version 10.10 « Yosemite », cela fonctionne !! L’auteur [du post que j’ai trouvé](http://hints.macworld.com/comment.php?mode=view&cid=111315) le faisait lui sur Lion, cela doti donc fonctionner pour toutes les versions récentes de l’OS d’Apple.\n\n \n\nVoici donc l’astuce, ouvrez le Terminal.app et tapez le commandes suivantes :\n\ncd /System/Library/LaunchDaemons/ sudo launchctl load -w com.apple.screensharing.plist\n\nEt pour arrêter le partage d’écran :\n\ncd /System/Library/LaunchDaemons/ sudo launchctl unload -w com.apple.screensharing.plist\n\n \n\n\n","html":"<p>Toujours le même souci lorsque l’on a pas de tête et qu’on oublie d’activer l’accès distant sur sa machine, il faut fouiller sur l’Internet Multimédia pour essayer de faire ça à distance et par SSH …</p>\n\n<p>Nous avons déjà vu que c’est possible avec Ubuntu (voir: <a href=\"https://techan.fr/ubuntu-activer-le-partage-decran-depuis-la-ligne-de-commande/\">[Ubuntu] Activer le partage d’écran depuis la ligne de commande</a>), et bien c’est également possible avec OS X !</p>\n\n<p>J’ai testé avec la version 10.10 « Yosemite », cela fonctionne !! L’auteur <a href=\"http://hints.macworld.com/comment.php?mode=view&amp;cid=111315\">du post que j’ai trouvé</a> le faisait lui sur Lion, cela doti donc fonctionner pour toutes les versions récentes de l’OS d’Apple.</p>\n\n<p>Voici donc l’astuce, ouvrez le Terminal.app et tapez le commandes suivantes :</p>\n\n<p>cd /System/Library/LaunchDaemons/ sudo launchctl load -w com.apple.screensharing.plist</p>\n\n<p>Et pour arrêter le partage d’écran :</p>\n\n<p>cd /System/Library/LaunchDaemons/ sudo launchctl unload -w com.apple.screensharing.plist</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-18T11:51:17.000Z","created_by":1,"updated_at":"2014-11-18T11:51:17.000Z","updated_by":1,"published_at":"2014-11-18T11:51:17.000Z","published_by":1},{"id":62,"uuid":"dc6ac09f-62fe-46c9-b3e4-ec4aeb65ed32","title":"[Windows] Forcer l'utilisation des DNS Google","slug":"windows-forcer-lutilisation-des-dns-google","markdown":"\nVoici la marche a suivre pour forcer votre windows a utiliser les DNS Google.\n\nFaire la combinaison de touches : **Windows + R**, dans la fenêtre qui apparaît, taper** ncpa.cpl**.\n\nEnsuite dans la fenêtre qui s’ouvre, faire un clic droit sur l’interface réseau qui vous intéresse, puis **Propriétés**.  \n  \n Dans la liste, sélectionner **Protocole Internet version 4 (TCP/IPv4)** et cliquer sur** Propriétés.**\n\nSélectionner **Utiliser l’adresse du serveur DNS suivante:** » et remplir les IP comme suit :\n\n[![ncpa_dns](https://techan.fr/images/2014/11/ncpa_dns-264x300.png)](https://techan.fr/images/2014/11/ncpa_dns.png)\n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\nValider le tout et c’est bon !\n\n \n\n\n","html":"<p>Voici la marche a suivre pour forcer votre windows a utiliser les DNS Google.</p>\n\n<p>Faire la combinaison de touches : <strong>Windows + R</strong>, dans la fenêtre qui apparaît, taper<em>* ncpa.cpl</em>*.</p>\n\n<p>Ensuite dans la fenêtre qui s’ouvre, faire un clic droit sur l’interface réseau qui vous intéresse, puis <strong>Propriétés</strong>.  </p>\n\n<p>Dans la liste, sélectionner <strong>Protocole Internet version 4 (TCP/IPv4)</strong> et cliquer sur<em>* Propriétés.</em>*</p>\n\n<p>Sélectionner <strong>Utiliser l’adresse du serveur DNS suivante:</strong> » et remplir les IP comme suit :</p>\n\n<p><a href=\"https://techan.fr/images/2014/11/ncpa_dns.png\"><img src=\"https://techan.fr/images/2014/11/ncpa_dns-264x300.png\" alt=\"ncpa_dns\" title=\"\" /></a></p>\n\n<p>Valider le tout et c’est bon !</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-18T16:34:16.000Z","created_by":1,"updated_at":"2015-08-07T11:39:22.000Z","updated_by":1,"published_at":"2014-11-18T16:34:16.000Z","published_by":1},{"id":63,"uuid":"8eb60bff-e684-4029-a890-a60ecf2d841b","title":"[AirPlay] Transformez votre Ubuntu en serveur AirPlay avec ShairPort","slug":"airplay-transformez-votre-ubuntu-en-serveur-airplay-avec-shairport","markdown":"\nDans cet article, nous allons voir comment transformez votre Ubuntu en serveur AirPlay avec ShairPort. Tout comme les Freebox, votre ordinateur peut vous permettre de lire les fichiers audio de votre iPad/iPhone/iPod sur ses enceintes, ou sur votre Home Cinema.  \n  \n C’est assez sympathique pour passer votre playlist, ou celle de vos amis en soirée. ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\nInstaller les paquets nécessaires.\n\nroot@xxxx:/srv# aptitude install libshairport2 libshairport-dev libpulse-dev unzip make gcc openssl pkg-config libavahi-client-dev libasound2-dev build-essential mesa-utils libao-common libcrypt-openssl-rsa-perl libao-dev libio-socket-inet6-perl libwww-perl avahi-utils libasound2-doc libglib2.0-doc Les NOUVEAUX paquets suivants vont être installés : libao-common libao-dev libao4{a} libasound2-dev libasound2-doc libcrypt-openssl-bignum-perl{a} libcrypt-openssl-rsa-perl libglib2.0-dev{a} libglib2.0-doc libpcre3-dev{a} libpcrecpp0{a} libpulse-dev libshairport-dev libshairport2 0 paquets mis à jour, 14 nouvellement installés, 0 à enlever et 0 non mis à jour. Il est nécessaire de télécharger 4 069 ko d'archives. Après dépaquetage, 46,8 Mo seront utilisés. Voulez-vous continuer ? [Y/n/?]\n\nPour ma part, j’ai choisi d’installer le tout sous /srv, on va utiliser Git pour récupérer les sources.\n\nroot@xxxx:/srv# git clone https://github.com/abrasive/shairport.git shairport Clonage dans 'shairport'... remote: Counting objects: 1632, done. remote: Total 1632 (delta 0), reused 0 (delta 0) Réception d'objets: 100% (1632/1632), 419.59 KiB | 380.00 KiB/s, fait. Résolution des deltas: 100% (944/944), fait. Vérification de la connectivité... fait.\n\nOn procède à la compilation de tout ça :\n\nroot@xxxx:/srv/shairport# ./configure Configuring Shairport OpenSSL found libao found PulseAudio found ALSA found Avahi client found getopt.h found CFLAGS: -D_REENTRANT -I/usr/include/alsa -D_REENTRANT LDFLAGS: -lm -lpthread -lssl -lcrypto -lao -lpulse-simple -lpulse -lasound -lavahi-common -lavahi-client Configure successful. You may now build with 'make'\n\n \n\nroot@xxxx:/srv/shairport# make cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT shairport.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT daemon.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT rtsp.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT mdns.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT mdns_external.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT mdns_tinysvcmdns.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT common.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT rtp.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT metadata.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT player.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT alac.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT audio.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT audio_dummy.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT audio_pipe.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT tinysvcmdns.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT audio_ao.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT audio_pulse.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT audio_alsa.c cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT mdns_avahi.c cc shairport.o daemon.o rtsp.o mdns.o mdns_external.o mdns_tinysvcmdns.o common.o rtp.o metadata.o player.o alac.o audio.o audio_dummy.o audio_pipe.o tinysvcmdns.o audio_ao.o audio_pulse.o audio_alsa.o mdns_avahi.o -lm -lpthread -lssl -lcrypto -lao -lpulse-simple -lpulse -lasound -lavahi-common -lavahi-client -o shairport\n\n \n\nroot@xxxx:/srv/shairport# make install cc -c -O2 -Wall -D_REENTRANT -I/usr/include/alsa -D_REENTRANT shairport.c cc shairport.o daemon.o rtsp.o mdns.o mdns_external.o mdns_tinysvcmdns.o common.o rtp.o metadata.o player.o alac.o audio.o audio_dummy.o audio_pipe.o tinysvcmdns.o audio_ao.o audio_pulse.o audio_alsa.o mdns_avahi.o -lm -lpthread -lssl -lcrypto -lao -lpulse-simple -lpulse -lasound -lavahi-common -lavahi-client -o shairport install -m 755 -d /usr/local/bin install -m 755 shairport /usr/local/bin/shairport\n\n \n\nOn crée un petit script pour lancer le serveur AirPlay.\n\nroot@xxxx:/srv/shairport# echo \" #!/bin/bash cd /srv/shairport/ ./shairport -a 'Shairport' -d read \" >> run_shairport.sh root@xxxx:/srv/shairport# chmod +x run_shairport.sh\n\nEt on le lance :\n\nroot@xxxx:/srv/shairport# ./run_shairport.sh Starting Shairport 1.1.1-22-gd679d19 Listening for connections. 7551 ^CShutting down...\n\n \n\nEnsuite, depuis votre appareil Apple, il suffit de choisir votre ordinateur comme sortie ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nDans mon cas, il porte le nom par défaut « shairport ».\n\n[![Transformez votre Ubuntu en serveur AirPlay avec ShairPort](https://techan.fr/images/2014/11/shairport.png)](https://techan.fr/images/2014/11/shairport.png)\n\n \n\n\n","html":"<p>Dans cet article, nous allons voir comment transformez votre Ubuntu en serveur AirPlay avec ShairPort. Tout comme les Freebox, votre ordinateur peut vous permettre de lire les fichiers audio de votre iPad/iPhone/iPod sur ses enceintes, ou sur votre Home Cinema.  </p>\n\n<p>C’est assez sympathique pour passer votre playlist, ou celle de vos amis en soirée. <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>Installer les paquets nécessaires.</p>\n\n<p>root@xxxx:/srv# aptitude install libshairport2 libshairport-dev libpulse-dev unzip make gcc openssl pkg-config libavahi-client-dev libasound2-dev build-essential mesa-utils libao-common libcrypt-openssl-rsa-perl libao-dev libio-socket-inet6-perl libwww-perl avahi-utils libasound2-doc libglib2.0-doc Les NOUVEAUX paquets suivants vont être installés : libao-common libao-dev libao4{a} libasound2-dev libasound2-doc libcrypt-openssl-bignum-perl{a} libcrypt-openssl-rsa-perl libglib2.0-dev{a} libglib2.0-doc libpcre3-dev{a} libpcrecpp0{a} libpulse-dev libshairport-dev libshairport2 0 paquets mis à jour, 14 nouvellement installés, 0 à enlever et 0 non mis à jour. Il est nécessaire de télécharger 4 069 ko d'archives. Après dépaquetage, 46,8 Mo seront utilisés. Voulez-vous continuer ? [Y/n/?]</p>\n\n<p>Pour ma part, j’ai choisi d’installer le tout sous /srv, on va utiliser Git pour récupérer les sources.</p>\n\n<p>root@xxxx:/srv# git clone <a href=\"https://github.com/abrasive/shairport.git\">https://github.com/abrasive/shairport.git</a> shairport Clonage dans 'shairport'... remote: Counting objects: 1632, done. remote: Total 1632 (delta 0), reused 0 (delta 0) Réception d'objets: 100% (1632/1632), 419.59 KiB | 380.00 KiB/s, fait. Résolution des deltas: 100% (944/944), fait. Vérification de la connectivité... fait.</p>\n\n<p>On procède à la compilation de tout ça :</p>\n\n<p>root@xxxx:/srv/shairport# ./configure Configuring Shairport OpenSSL found libao found PulseAudio found ALSA found Avahi client found getopt.h found CFLAGS: -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT LDFLAGS: -lm -lpthread -lssl -lcrypto -lao -lpulse-simple -lpulse -lasound -lavahi-common -lavahi-client Configure successful. You may now build with 'make'</p>\n\n<p>root@xxxx:/srv/shairport# make cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT shairport.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT daemon.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT rtsp.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT mdns.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT mdns<em>external.c cc -c -O2 -Wall -D</em>REENTRANT -I/usr/include/alsa -D<em>REENTRANT mdns</em>tinysvcmdns.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT common.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT rtp.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT metadata.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT player.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT alac.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT audio.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT audio<em>dummy.c cc -c -O2 -Wall -D</em>REENTRANT -I/usr/include/alsa -D<em>REENTRANT audio</em>pipe.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT tinysvcmdns.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT audio<em>ao.c cc -c -O2 -Wall -D</em>REENTRANT -I/usr/include/alsa -D<em>REENTRANT audio</em>pulse.c cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT audio<em>alsa.c cc -c -O2 -Wall -D</em>REENTRANT -I/usr/include/alsa -D<em>REENTRANT mdns</em>avahi.c cc shairport.o daemon.o rtsp.o mdns.o mdns<em>external.o mdns</em>tinysvcmdns.o common.o rtp.o metadata.o player.o alac.o audio.o audio<em>dummy.o audio</em>pipe.o tinysvcmdns.o audio<em>ao.o audio</em>pulse.o audio<em>alsa.o mdns</em>avahi.o -lm -lpthread -lssl -lcrypto -lao -lpulse-simple -lpulse -lasound -lavahi-common -lavahi-client -o shairport</p>\n\n<p>root@xxxx:/srv/shairport# make install cc -c -O2 -Wall -D<em>REENTRANT -I/usr/include/alsa -D</em>REENTRANT shairport.c cc shairport.o daemon.o rtsp.o mdns.o mdns<em>external.o mdns</em>tinysvcmdns.o common.o rtp.o metadata.o player.o alac.o audio.o audio<em>dummy.o audio</em>pipe.o tinysvcmdns.o audio<em>ao.o audio</em>pulse.o audio<em>alsa.o mdns</em>avahi.o -lm -lpthread -lssl -lcrypto -lao -lpulse-simple -lpulse -lasound -lavahi-common -lavahi-client -o shairport install -m 755 -d /usr/local/bin install -m 755 shairport /usr/local/bin/shairport</p>\n\n<p>On crée un petit script pour lancer le serveur AirPlay.</p>\n\n<p>root@xxxx:/srv/shairport# echo \" #!/bin/bash cd /srv/shairport/ ./shairport -a 'Shairport' -d read \" >> run<em>shairport.sh root@xxxx:/srv/shairport# chmod +x run</em>shairport.sh</p>\n\n<p>Et on le lance :</p>\n\n<p>root@xxxx:/srv/shairport# ./run_shairport.sh Starting Shairport 1.1.1-22-gd679d19 Listening for connections. 7551 ^CShutting down...</p>\n\n<p>Ensuite, depuis votre appareil Apple, il suffit de choisir votre ordinateur comme sortie <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>Dans mon cas, il porte le nom par défaut « shairport ».</p>\n\n<p><a href=\"https://techan.fr/images/2014/11/shairport.png\"><img src=\"https://techan.fr/images/2014/11/shairport.png\" alt=\"Transformez votre Ubuntu en serveur AirPlay avec ShairPort\" title=\"\" /></a></p>","image":"http://blog.techan.fr/images/2015/04/Ubuntu_Logo.gif","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-19T10:24:38.000Z","created_by":1,"updated_at":"2015-04-24T14:14:53.000Z","updated_by":1,"published_at":"2014-11-19T10:24:38.000Z","published_by":1},{"id":64,"uuid":"73a8bafd-9cf5-4faf-822c-971ba5964081","title":"[Windows] Outil pour créer des clefs USB bootable","slug":"windows-outil-pour-creer-des-clefs-usb-bootable","markdown":"\n \n\nAprès pas mal de recherche d’un pour créer des clefs **USB****bootable**, je suis tombé sur Rufus qui est de très loin le meilleur de tous ceux que j’ai utilisé.\n\nSes points forts :\n\n- Déjà il fait le job, ce qui n’est pas toujours gagné avec les autres logiciels\n- Il a un taux de réussite de 100% quelque soit l’OS sur l’ISO (pareil, ce n’est pas gagné avec les autres logiciels)\n- Il est rapide\n- Il télécharge tout seul les bootloaders qu’il n’aurait pas directement avec lui\n- Il est simple a utiliser\n- Il est portable !\n\n \n\nAller, une petite capture d’écran et vous aurez tout vu de Rufus !\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_401\" style=\"width: 208px\">[![windows outil USB bootable](https://techan.fr/images/2014/11/rufus-198x300.png)](https://techan.fr/images/2014/11/rufus.png)L’interface de Rufus\n\n</div>Donc dans un premier temps, vous sélectionnez le périphérique USB a utiliser, puis vous sélectionner l’image ISO a « graver » plus bas.\n\nIl choisi lui même tous les autres paramètres.\n\n \n\nTesté avec succès pour les ISO suivantes :\n\n- Ubuntu 14.04\n- Ubuntu 14.10\n- Boot Repair Disk\n- Windows 7 Pro\n\n \n\nPour le téléchargement, ça se passe sur [le site de Rufus](http://rufus.akeo.ie/?locale=fr_FR).\n\n\n","html":"<p>Après pas mal de recherche d’un pour créer des clefs <strong>USB<em>*</strong>bootable</em>*, je suis tombé sur Rufus qui est de très loin le meilleur de tous ceux que j’ai utilisé.</p>\n\n<p>Ses points forts :</p>\n\n<ul>\n<li>Déjà il fait le job, ce qui n’est pas toujours gagné avec les autres logiciels</li>\n<li>Il a un taux de réussite de 100% quelque soit l’OS sur l’ISO (pareil, ce n’est pas gagné avec les autres logiciels)</li>\n<li>Il est rapide</li>\n<li>Il télécharge tout seul les bootloaders qu’il n’aurait pas directement avec lui</li>\n<li>Il est simple a utiliser</li>\n<li><p>Il est portable !</p></li>\n</ul>\n\n<p>Aller, une petite capture d’écran et vous aurez tout vu de Rufus !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_401\" style=\"width: 208px\"><a href=\"https://techan.fr/images/2014/11/rufus.png\"><img src=\"https://techan.fr/images/2014/11/rufus-198x300.png\" alt=\"windows outil USB bootable\" title=\"\" /></a>L’interface de Rufus</p>\n\n<p></div>Donc dans un premier temps, vous sélectionnez le périphérique USB a utiliser, puis vous sélectionner l’image ISO a « graver » plus bas.</p>\n\n<p>Il choisi lui même tous les autres paramètres.</p>\n\n<p>Testé avec succès pour les ISO suivantes :</p>\n\n<ul>\n<li>Ubuntu 14.04</li>\n<li>Ubuntu 14.10</li>\n<li>Boot Repair Disk</li>\n<li><p>Windows 7 Pro</p></li>\n</ul>\n\n<p>Pour le téléchargement, ça se passe sur <a href=\"http://rufus.akeo.ie/?locale=fr_FR\">le site de Rufus</a>.</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-19T17:12:08.000Z","created_by":1,"updated_at":"2015-08-07T11:39:21.000Z","updated_by":1,"published_at":"2014-11-19T17:12:08.000Z","published_by":1},{"id":65,"uuid":"5cf73e49-c4ed-4e4b-9da7-47b3aa08809e","title":"[Windows/vSphere 5.5] Pas de réseau au reboot","slug":"windowsvsphere-5-5-pas-de-reseau-au-reboot","markdown":"\nVoici un souci que j’ai rencontré, parfois lorsqu’un Windows 2008 hébergé sur vSphere 5.5 redémarre, il perd son réseau, la VM est donc inaccessible, sauf via la console VMware.\n\n \n\nLa carte réseau a un petite triangle jaune délicieux comme ceci : [![carte_reseau_triangle_jaune](https://techan.fr/images/2014/11/carte_reseau_triangle_jaune.png)](https://techan.fr/images/2014/11/carte_reseau_triangle_jaune.png).\n\nUne solution pour résoudre cela rapidement est de désactiver puis réactiver la carte réseau, tout rentre alors dans l’ordre, mais cela ne corrige pas le fond du problème.  \n  \n  \n\nUne KB de VMware existe à ce sujet : « [False duplicate IP address detected on Microsoft Windows Vista and later virtual machines on ESX/ESXi when using Cisco devices on the environment (1028373)](http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&cmd=displayKC&externalId=1028373)« . D’après les informations qu’elle fournies, ça viendrait d’une option de gestion ARP activée sur les switches CISCO ou d’une mauvaise réponse ARP.\n\n \n\nBref, toujours est-il que la manipulation proposée dans cette KB corrige bien ce souci.\n\n \n\n> #### Resolution\n> \n> <div class=\"doccontent cc_Resolution\"><div>**Note**: The information provided in this article is a workaround. Investigate the network configuration at the physical layer for the root cause.To work around this issue, turn off gratuitous ARP in the guest operating system.**Note**: This procedure modifies the Windows registry. Before making any registry modifications, ensure that you have a current and valid backup of the registry and the virtual machine. For more information on backing up and restoring the registry, see the Microsoft article [136393](http://support.microsoft.com/kb/136393).</div><div>*The preceding link was correct as of June 25, 2014. If you find the link is broken, provide feedback and a VMware employee will update the link.*</div><div>To turn off gratuitous ARP in the guest operating system:</div>1. Open the Registry editor. - In Windows XP to Windows Server 2003 – Click **Start **> **Run**, type regedit, and click **OK**.\n> - In Windows 7 and Current – Click **Start**, type regedit, and click **OK**.\n> 2. Locate this registry key:`HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\Tcpip\\Parameters`\n> 3. Click **Edit** > **New**, and click DWORD Value.\n> 4. Type `ArpRetryCount`.\n> 5. Right-click the `ArpRetryCount` registry entry and click **Modify**.\n> 6. In the Value box, type `0` and click **OK**.\n> 7. Exit the Registry Editor.\n> 8. Shut down the guest operating system and power off the virtual machine.\n> 9. Change the virtual machine back to a network vSwitch with the uplink.\n> 10. Power on the virtual machine.\n> \n> Alternatively, you can disable gratuitous ARP on the physical switch.\n> \n> <div>For example, to disable gratuitous ARP in Cisco IOS, run this command:</div><div>```\n> <br></br>\n> # no ip gratuitous-arps<br></br>```\n> </div>For more information, see the [ArpRetryCount](http://technet.microsoft.com/en-us/library/cc957526.aspx) Microsoft TechNet Article.\n> \n> </div>\n\n \n\n\n","html":"<p>Voici un souci que j’ai rencontré, parfois lorsqu’un Windows 2008 hébergé sur vSphere 5.5 redémarre, il perd son réseau, la VM est donc inaccessible, sauf via la console VMware.</p>\n\n<p>La carte réseau a un petite triangle jaune délicieux comme ceci : <a href=\"https://techan.fr/images/2014/11/carte_reseau_triangle_jaune.png\"><img src=\"https://techan.fr/images/2014/11/carte_reseau_triangle_jaune.png\" alt=\"carte<em>reseau</em>triangle_jaune\" title=\"\" /></a>.</p>\n\n<p>Une solution pour résoudre cela rapidement est de désactiver puis réactiver la carte réseau, tout rentre alors dans l’ordre, mais cela ne corrige pas le fond du problème.  </p>\n\n<p>Une KB de VMware existe à ce sujet : « <a href=\"http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1028373\">False duplicate IP address detected on Microsoft Windows Vista and later virtual machines on ESX/ESXi when using Cisco devices on the environment (1028373)</a>« . D’après les informations qu’elle fournies, ça viendrait d’une option de gestion ARP activée sur les switches CISCO ou d’une mauvaise réponse ARP.</p>\n\n<p>Bref, toujours est-il que la manipulation proposée dans cette KB corrige bien ce souci.</p>\n\n<blockquote>\n  <h4 id=\"resolution\">Resolution</h4>\n  \n  <div class=\"doccontent cc_Resolution\"><div>**Note**: The information provided in this article is a workaround. Investigate the network configuration at the physical layer for the root cause.To work around this issue, turn off gratuitous ARP in the guest operating system.**Note**: This procedure modifies the Windows registry. Before making any registry modifications, ensure that you have a current and valid backup of the registry and the virtual machine. For more information on backing up and restoring the registry, see the Microsoft article [136393](http://support.microsoft.com/kb/136393).</div><div>*The preceding link was correct as of June 25, 2014. If you find the link is broken, provide feedback and a VMware employee will update the link.*</div><div>To turn off gratuitous ARP in the guest operating system:</div>1. Open the Registry editor. - In Windows XP to Windows Server 2003 – Click **Start **> **Run**, type regedit, and click **OK**.\n  - In Windows 7 and Current – Click **Start**, type regedit, and click **OK**.\n  2. Locate this registry key:`HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\Tcpip\\Parameters`\n  3. Click **Edit** > **New**, and click DWORD Value.\n  4. Type `ArpRetryCount`.\n  5. Right-click the `ArpRetryCount` registry entry and click **Modify**.\n  6. In the Value box, type `0` and click **OK**.\n  7. Exit the Registry Editor.\n  8. Shut down the guest operating system and power off the virtual machine.\n  9. Change the virtual machine back to a network vSwitch with the uplink.\n  10. Power on the virtual machine.\n  \n  Alternatively, you can disable gratuitous ARP on the physical switch.\n  \n  <div>For example, to disable gratuitous ARP in Cisco IOS, run this command:</div><div>```\n  <br></br>\n  \n  \n  <h1 id=\"noipgratuitousarpsbrbr\">no ip gratuitous-arps<br></br>```</h1>\n  \n  </div>For more information, see the [ArpRetryCount](http://technet.microsoft.com/en-us/library/cc957526.aspx) Microsoft TechNet Article.\n  \n  </div>\n</blockquote>","image":"http://blog.techan.fr/images/2014/11/server2008r2_vmware.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-20T10:21:22.000Z","created_by":1,"updated_at":"2014-11-20T10:21:22.000Z","updated_by":1,"published_at":"2014-11-20T10:21:22.000Z","published_by":1},{"id":66,"uuid":"d44aa68b-bc94-4ba4-b8b3-659858b09374","title":"[Wordpress] Mettre une image à la une d'un article via MySQL","slug":"wordpress-mettre-une-image-la-une-dun-article-via-mysql","markdown":"\nLes images à la une (Featured Image) sur les articles WordPress, ça fait tout de suite classe et un certains effet visuel, avec une bonne image à la une, on arrive a en savoir plus sur le contenu de l’article alors que l’on a encore lu que le son titre.\n\nJe me suis attelé à la tâche d’en ajouter les plus possible sur les articles que j’avais déjà produits, mais comme je suis u peu flemmard, j’ai cherché comment mettre une image à la une d’un article via MySQL afin de pas avoir a ouvrir toutes les pages de modification …  \n  \n  \n\nJ’ai trouvé un post sur le site  [wpmudev.org](http://premium.wpmudev.org/forums/topic/query-for-missing-featured-images). Ce brave Paul nous donne une requête qui liste tous les articles et les metas associées à l’image à la une.\n\nmysql> SELECT p.ID, p.post_title, pm.* FROM wp_posts p -> LEFT JOIN wp_postmeta pm ON p.ID=pm.post_id AND pm.meta_key='_thumbnail_id' -> WHERE p.post_type in ('post') -> AND p.post_status in ('publish'); +-----+--------------------------------------------------------------------------------------+---------+---------+---------------+------------+ | ID | post_title | meta_id | post_id | meta_key | meta_value | +-----+--------------------------------------------------------------------------------------+---------+---------+---------------+------------+ | 8 | Flush du cache DNS | NULL | NULL | NULL | NULL | | 25 | Fichier Hosts sur Windows | NULL | NULL | NULL | NULL | | 27 | Ajouter des clefs SSH pour se connecter sur un boîtier RecoverPoint | 1318 | 27 | _thumbnail_id | 457 | | 29 | Désactiver les alertes par mail dans la crontab | 1319 | 29 | _thumbnail_id | 457 | | 31 | Création d'une VM Linux pour forwarder des paquets d'une IP à une autre | 1320 | 31 | _thumbnail_id | 457 | | 37 | Booster Apache avec des dossiers de cache en RAM | 1321 | 37 | _thumbnail_id | 457 | | 41 | Lancer des applis Android sur Chromes OS, Linux, Mac OS, Windows | NULL | NULL | NULL | NULL | | 50 | Et là, on remercie GTalk ! | NULL | NULL | NULL | NULL | | 57 | Quand Apple fait du Microsoft ... | NULL | NULL | NULL | NULL | | 67 | Plongée sous/au bureau ... | NULL | NULL | NULL | NULL | | 75 | [iOS] Désactiver la lecture automatique des vidéos sur FaceBook | NULL | NULL | NULL | NULL | | 83 | [Shellshock] Une nouvelle faille de sécurité découverte sur Mac OS et Linux | NULL | NULL | NULL | NULL | | 62 | [iPhone 6] Une page permettant de vérifier les stocks dans les Apple Store | NULL | NULL | NULL | NULL | | 92 | [imp] Importer juste une table dans un schéma. | 1267 | 92 | _thumbnail_id | 418 | | 96 | [iOS] L'update 8.0.2 est disponible ! | NULL | NULL | NULL | NULL | | 90 | [Shellshock] Apple annonce une mise à jour rapide | NULL | NULL | NULL | NULL | | 86 | [MySQL] Un outil qui donne des conseils d'optimisation | NULL | NULL | NULL | NULL | | 103 | [RedHat/Centos] Outil pour rescanner les bus SCSI et découvrir les disques ajoutés | 1322 | 103 | _thumbnail_id | 457 | | 107 | [LVM] Les bases | 1323 | 107 | _thumbnail_id | 457 | | 114 | [GoPro] La version 4 des caméras sportives est disponible ! | NULL | NULL | NULL | NULL | | 111 | La grande folie du Loto Bouse | NULL | NULL | NULL | NULL | | 128 | [MySQL] Importer un énorme fichier de dump | NULL | NULL | NULL | NULL | | 139 | [iPhone 6] La photo \"mystérieuse\" | NULL | NULL | NULL | NULL | | 147 | [App] Investigator, une app qui vous en dit plus sur vos photos ! | NULL | NULL | NULL | NULL | | 176 | [MySQL] Des chiffres sur quelques bases les plus sollicitées du monde | NULL | NULL | NULL | NULL | | 191 | [Linux] Envoyer des logs sur un serveur central avec rsyslog | 1324 | 191 | _thumbnail_id | 457 | | 197 | [Ubuntu] Un utilitaire pour nettoyer et configurer le système | NULL | NULL | NULL | NULL | | 200 | [RecoverPoint] Placer des flags nommés sur les points de consistance | 1325 | 200 | _thumbnail_id | 457 | | 216 | [Linux] Forcer un programme a utiliser une locale anglaise | 1326 | 216 | _thumbnail_id | 457 | | 206 | [logstash] Configuration des inputs, filter et output | 1327 | 206 | _thumbnail_id | 457 | | 223 | [Edité][Linux] Commande Find : astuces | 1317 | 223 | _thumbnail_id | 457 | | 237 | [Oracle] Identifier les bases de données démarrées sur une machine | 1273 | 237 | _thumbnail_id | 418 | | 240 | [Oracle] Gérer les directories | 1276 | 240 | _thumbnail_id | 418 | | 244 | [Oracle] Gérer les utilisateurs | 1279 | 244 | _thumbnail_id | 418 | | 251 | [Oracle] Les étapes d'arrêt et de démarrage. | 1282 | 251 | _thumbnail_id | 418 | | 257 | [Linux] Transformer votre Linux en Time Capsule | 718 | 257 | _thumbnail_id | 270 | | 257 | [Linux] Transformer votre Linux en Time Capsule | 1328 | 257 | _thumbnail_id | 457 | | 263 | [FireFox] Ajoute un petit jeu dans sa page de démarrage | 703 | 263 | _thumbnail_id | 264 | | 276 | [Linux] Astuce pour retrouver les permissions sur un fichier | 1329 | 276 | _thumbnail_id | 457 | | 278 | [Oracle] Afficher et modifier les paramètres Oracle | 1294 | 278 | _thumbnail_id | 418 | | 284 | [iOS] iOS 8.1 est disponible !! | 761 | 284 | _thumbnail_id | 283 | | 287 | [LVM] Agrandir un disque à chaud | 1330 | 287 | _thumbnail_id | 457 | | 289 | [Oracle] Récupérer le code SQL de création d'un objet | 1288 | 289 | _thumbnail_id | 418 | | 292 | [Windows] Synchroniser deux répertoires en conservant les permissions NTFS | NULL | NULL | NULL | NULL | | 294 | [Linux] Créer une copie bit à bit d'une clef USB | 1331 | 294 | _thumbnail_id | 457 | | 297 | [Oracle] Le listener | 1180 | 297 | _thumbnail_id | 418 | | 303 | [iTop] Configuration de l'authentification Active Directory | NULL | NULL | NULL | NULL | | 312 | [Varnish] Configurer Varnish pour booster WordPress | 1332 | 312 | _thumbnail_id | 457 | | 314 | [Windows] Créer des jonctions de dossiers | NULL | NULL | NULL | NULL | | 318 | [RedHat] Ajouter un disque à chaud, sans rescan-scsi-bus | 1333 | 318 | _thumbnail_id | 457 | | 323 | [NFS] Lister les partages NFS sur une machine distante | 1334 | 323 | _thumbnail_id | 457 | | 326 | [Ubuntu] Remplacer Unity par Gnome | 900 | 326 | _thumbnail_id | 327 | | 326 | [Ubuntu] Remplacer Unity par Gnome | 1335 | 326 | _thumbnail_id | 457 | | 329 | [Ubuntu] Activer le partage d'écran depuis la ligne de commande | 1311 | 329 | _thumbnail_id | 457 | | 331 | [BackupExec] Problème de backup de montages NFS | NULL | NULL | NULL | NULL | | 339 | [BackupExec] Mettre l'agent Linux en mode \"debug\" | NULL | NULL | NULL | NULL | | 341 | [Linux Tuning] Ajuster la swappiness | 1305 | 341 | _thumbnail_id | 457 | | 346 | [Apps] Retoucher ses photos et créer des GIF animés | 958 | 346 | _thumbnail_id | 347 | | 372 | [Ubuntu] Installer TeamViewer 9 sur Ubuntu 14.10 | 1004 | 372 | _thumbnail_id | 375 | | 377 | [iOS] La mise à jour 8.1.1 est arrivée ! | NULL | NULL | NULL | NULL | | 379 | [OSX] Yosemite 10.10.1 : la foire de la mise à jour chez Apple | NULL | NULL | NULL | NULL | | 392 | [OS X] Activer le partage de bureau à distance | NULL | NULL | NULL | NULL | | 396 | [Windows] Forcer l'utilisation des DNS Google | NULL | NULL | NULL | NULL | | 369 | [AirPlay] Transformez votre Ubuntu en serveur AirPlay avec ShairPort | 1299 | 369 | _thumbnail_id | 457 | | 400 | [Windows] Outil pour créer des clefs USB bootable | NULL | NULL | NULL | NULL | | 405 | [Windows/vSphere 5.5] Pas de réseau au reboot | 1160 | 405 | _thumbnail_id | 409 | +-----+--------------------------------------------------------------------------------------+---------+---------+---------------+------------+ 66 rows in set (0.01 sec)\n\n \n\nJ’en ai donc extra-paulé (pardon, elle était trop facile celle la … :D) une requête pour **ajouter **une image à la une sur des articles qui n’en n’ont pas.\n\ninsert into wp_postmeta(meta_key,meta_value,post_id) values ('_thumbnail_id', '457', '27');\n\nCette requête ajoute l’image [![Linux](https://techan.fr/images/2014/11/Linux.png)](https://techan.fr/images/2014/11/Linux.png) comme image à la une de l’article [Ajouter des clefs SSH pour se connecter sur un boîtier RecoverPoint](https://techan.fr/ajouter-des-clefs-ssh-pour-se-connecter-sur-un-boitier-recoverpoint/ \"Ajouter des clefs SSH pour se connecter sur un boîtier RecoverPoint\").\n\nOn passe la requête, on rafraichit la page, et l’image apparait comme par magie (ou presque !).\n\n \n\n\n","html":"<p>Les images à la une (Featured Image) sur les articles WordPress, ça fait tout de suite classe et un certains effet visuel, avec une bonne image à la une, on arrive a en savoir plus sur le contenu de l’article alors que l’on a encore lu que le son titre.</p>\n\n<p>Je me suis attelé à la tâche d’en ajouter les plus possible sur les articles que j’avais déjà produits, mais comme je suis u peu flemmard, j’ai cherché comment mettre une image à la une d’un article via MySQL afin de pas avoir a ouvrir toutes les pages de modification …  </p>\n\n<p>J’ai trouvé un post sur le site  <a href=\"http://premium.wpmudev.org/forums/topic/query-for-missing-featured-images\">wpmudev.org</a>. Ce brave Paul nous donne une requête qui liste tous les articles et les metas associées à l’image à la une.</p>\n\n<p>mysql> SELECT p.ID, p.post<em>title, pm.* FROM wp</em>posts p -> LEFT JOIN wp<em>postmeta pm ON p.ID=pm.post</em>id AND pm.meta<em>key='</em>thumbnail<em>id' -> WHERE p.post</em>type in ('post') -> AND p.post<em>status in ('publish'); +-----+--------------------------------------------------------------------------------------+---------+---------+---------------+------------+ | ID | post</em>title | meta<em>id | post</em>id | meta<em>key | meta</em>value | +-----+--------------------------------------------------------------------------------------+---------+---------+---------------+------------+ | 8 | Flush du cache DNS | NULL | NULL | NULL | NULL | | 25 | Fichier Hosts sur Windows | NULL | NULL | NULL | NULL | | 27 | Ajouter des clefs SSH pour se connecter sur un boîtier RecoverPoint | 1318 | 27 | <em>thumbnail</em>id | 457 | | 29 | Désactiver les alertes par mail dans la crontab | 1319 | 29 | <em>thumbnail</em>id | 457 | | 31 | Création d'une VM Linux pour forwarder des paquets d'une IP à une autre | 1320 | 31 | <em>thumbnail</em>id | 457 | | 37 | Booster Apache avec des dossiers de cache en RAM | 1321 | 37 | <em>thumbnail</em>id | 457 | | 41 | Lancer des applis Android sur Chromes OS, Linux, Mac OS, Windows | NULL | NULL | NULL | NULL | | 50 | Et là, on remercie GTalk ! | NULL | NULL | NULL | NULL | | 57 | Quand Apple fait du Microsoft ... | NULL | NULL | NULL | NULL | | 67 | Plongée sous/au bureau ... | NULL | NULL | NULL | NULL | | 75 | [iOS] Désactiver la lecture automatique des vidéos sur FaceBook | NULL | NULL | NULL | NULL | | 83 | [Shellshock] Une nouvelle faille de sécurité découverte sur Mac OS et Linux | NULL | NULL | NULL | NULL | | 62 | [iPhone 6] Une page permettant de vérifier les stocks dans les Apple Store | NULL | NULL | NULL | NULL | | 92 | [imp] Importer juste une table dans un schéma. | 1267 | 92 | <em>thumbnail</em>id | 418 | | 96 | [iOS] L'update 8.0.2 est disponible ! | NULL | NULL | NULL | NULL | | 90 | [Shellshock] Apple annonce une mise à jour rapide | NULL | NULL | NULL | NULL | | 86 | [MySQL] Un outil qui donne des conseils d'optimisation | NULL | NULL | NULL | NULL | | 103 | [RedHat/Centos] Outil pour rescanner les bus SCSI et découvrir les disques ajoutés | 1322 | 103 | <em>thumbnail</em>id | 457 | | 107 | [LVM] Les bases | 1323 | 107 | <em>thumbnail</em>id | 457 | | 114 | [GoPro] La version 4 des caméras sportives est disponible ! | NULL | NULL | NULL | NULL | | 111 | La grande folie du Loto Bouse | NULL | NULL | NULL | NULL | | 128 | [MySQL] Importer un énorme fichier de dump | NULL | NULL | NULL | NULL | | 139 | [iPhone 6] La photo \"mystérieuse\" | NULL | NULL | NULL | NULL | | 147 | [App] Investigator, une app qui vous en dit plus sur vos photos ! | NULL | NULL | NULL | NULL | | 176 | [MySQL] Des chiffres sur quelques bases les plus sollicitées du monde | NULL | NULL | NULL | NULL | | 191 | [Linux] Envoyer des logs sur un serveur central avec rsyslog | 1324 | 191 | <em>thumbnail</em>id | 457 | | 197 | [Ubuntu] Un utilitaire pour nettoyer et configurer le système | NULL | NULL | NULL | NULL | | 200 | [RecoverPoint] Placer des flags nommés sur les points de consistance | 1325 | 200 | <em>thumbnail</em>id | 457 | | 216 | [Linux] Forcer un programme a utiliser une locale anglaise | 1326 | 216 | <em>thumbnail</em>id | 457 | | 206 | [logstash] Configuration des inputs, filter et output | 1327 | 206 | <em>thumbnail</em>id | 457 | | 223 | [Edité][Linux] Commande Find : astuces | 1317 | 223 | <em>thumbnail</em>id | 457 | | 237 | [Oracle] Identifier les bases de données démarrées sur une machine | 1273 | 237 | <em>thumbnail</em>id | 418 | | 240 | [Oracle] Gérer les directories | 1276 | 240 | <em>thumbnail</em>id | 418 | | 244 | [Oracle] Gérer les utilisateurs | 1279 | 244 | <em>thumbnail</em>id | 418 | | 251 | [Oracle] Les étapes d'arrêt et de démarrage. | 1282 | 251 | <em>thumbnail</em>id | 418 | | 257 | [Linux] Transformer votre Linux en Time Capsule | 718 | 257 | <em>thumbnail</em>id | 270 | | 257 | [Linux] Transformer votre Linux en Time Capsule | 1328 | 257 | <em>thumbnail</em>id | 457 | | 263 | [FireFox] Ajoute un petit jeu dans sa page de démarrage | 703 | 263 | <em>thumbnail</em>id | 264 | | 276 | [Linux] Astuce pour retrouver les permissions sur un fichier | 1329 | 276 | <em>thumbnail</em>id | 457 | | 278 | [Oracle] Afficher et modifier les paramètres Oracle | 1294 | 278 | <em>thumbnail</em>id | 418 | | 284 | [iOS] iOS 8.1 est disponible !! | 761 | 284 | <em>thumbnail</em>id | 283 | | 287 | [LVM] Agrandir un disque à chaud | 1330 | 287 | <em>thumbnail</em>id | 457 | | 289 | [Oracle] Récupérer le code SQL de création d'un objet | 1288 | 289 | <em>thumbnail</em>id | 418 | | 292 | [Windows] Synchroniser deux répertoires en conservant les permissions NTFS | NULL | NULL | NULL | NULL | | 294 | [Linux] Créer une copie bit à bit d'une clef USB | 1331 | 294 | <em>thumbnail</em>id | 457 | | 297 | [Oracle] Le listener | 1180 | 297 | <em>thumbnail</em>id | 418 | | 303 | [iTop] Configuration de l'authentification Active Directory | NULL | NULL | NULL | NULL | | 312 | [Varnish] Configurer Varnish pour booster WordPress | 1332 | 312 | <em>thumbnail</em>id | 457 | | 314 | [Windows] Créer des jonctions de dossiers | NULL | NULL | NULL | NULL | | 318 | [RedHat] Ajouter un disque à chaud, sans rescan-scsi-bus | 1333 | 318 | <em>thumbnail</em>id | 457 | | 323 | [NFS] Lister les partages NFS sur une machine distante | 1334 | 323 | <em>thumbnail</em>id | 457 | | 326 | [Ubuntu] Remplacer Unity par Gnome | 900 | 326 | <em>thumbnail</em>id | 327 | | 326 | [Ubuntu] Remplacer Unity par Gnome | 1335 | 326 | <em>thumbnail</em>id | 457 | | 329 | [Ubuntu] Activer le partage d'écran depuis la ligne de commande | 1311 | 329 | <em>thumbnail</em>id | 457 | | 331 | [BackupExec] Problème de backup de montages NFS | NULL | NULL | NULL | NULL | | 339 | [BackupExec] Mettre l'agent Linux en mode \"debug\" | NULL | NULL | NULL | NULL | | 341 | [Linux Tuning] Ajuster la swappiness | 1305 | 341 | <em>thumbnail</em>id | 457 | | 346 | [Apps] Retoucher ses photos et créer des GIF animés | 958 | 346 | <em>thumbnail</em>id | 347 | | 372 | [Ubuntu] Installer TeamViewer 9 sur Ubuntu 14.10 | 1004 | 372 | <em>thumbnail</em>id | 375 | | 377 | [iOS] La mise à jour 8.1.1 est arrivée ! | NULL | NULL | NULL | NULL | | 379 | [OSX] Yosemite 10.10.1 : la foire de la mise à jour chez Apple | NULL | NULL | NULL | NULL | | 392 | [OS X] Activer le partage de bureau à distance | NULL | NULL | NULL | NULL | | 396 | [Windows] Forcer l'utilisation des DNS Google | NULL | NULL | NULL | NULL | | 369 | [AirPlay] Transformez votre Ubuntu en serveur AirPlay avec ShairPort | 1299 | 369 | <em>thumbnail</em>id | 457 | | 400 | [Windows] Outil pour créer des clefs USB bootable | NULL | NULL | NULL | NULL | | 405 | [Windows/vSphere 5.5] Pas de réseau au reboot | 1160 | 405 | <em>thumbnail</em>id | 409 | +-----+--------------------------------------------------------------------------------------+---------+---------+---------------+------------+ 66 rows in set (0.01 sec)</p>\n\n<p>J’en ai donc extra-paulé (pardon, elle était trop facile celle la … :D) une requête pour <em>*ajouter *</em>une image à la une sur des articles qui n’en n’ont pas.</p>\n\n<p>insert into wp<em>postmeta(meta</em>key,meta<em>value,post</em>id) values ('<em>thumbnail</em>id', '457', '27');</p>\n\n<p>Cette requête ajoute l’image <a href=\"https://techan.fr/images/2014/11/Linux.png\"><img src=\"https://techan.fr/images/2014/11/Linux.png\" alt=\"Linux\" title=\"\" /></a> comme image à la une de l’article <a href=\"https://techan.fr/ajouter-des-clefs-ssh-pour-se-connecter-sur-un-boitier-recoverpoint/\" title=\"Ajouter des clefs SSH pour se connecter sur un boîtier RecoverPoint\">Ajouter des clefs SSH pour se connecter sur un boîtier RecoverPoint</a>.</p>\n\n<p>On passe la requête, on rafraichit la page, et l’image apparait comme par magie (ou presque !).</p>","image":"http://blog.techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-21T15:01:06.000Z","created_by":1,"updated_at":"2014-11-21T15:01:06.000Z","updated_by":1,"published_at":"2014-11-21T15:01:06.000Z","published_by":1},{"id":67,"uuid":"03eebf25-4224-4517-a43f-9157ab8ccffc","title":"[Searx] Héberger votre moteur de recherche","slug":"searx-heberger-votre-moteur-de-recherche","markdown":"\nLors de mes divagations sur Internet, je suis tombé sur un projet sympa : Searx. Si vous avez toujours rêvé d’héberger votre moteur de recherche, ceci va vous plaire !  \n  \n Searx est un méta moteur de recherche, cela veux dire qu’il va interroger un bon nombre de moteurs de recherche classique et vous donne tous les résultats d’un coup. Un autre point important, Searx protège votre e-vie privée, c’est à dire que Google par exemple ne pourra pas récupérer votre IP ni une bonne partie des autres données qu’il collecte lors de vos recherches. Vous savez, ces données qui servent à vous proposer de la publicité « ciblée » qui me hérisse particulièrement le poil.\n\nPour les plus bidouilleurs d’entre vous, sachez qu’il est possible de développer des modules (en Python) afin d’ajouter vos propres sources d’informations. Bien que par défaut l’outil soit déjà bien pourvu ! Pour n’en citer que quelques uns : Google, Bing, DuckDuckGo, Wikipédia en font partie.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_490\" style=\"width: 664px\">[![Une recherche avec Searx](https://techan.fr/images/2014/11/searx_recherche.png)](https://techan.fr/images/2014/11/searx_recherche.png)Une recherche avec Searx\n\n</div> \n\n \n\nPour les aventureux qui voudraient héberger leur propre copie de Searx, voici la marche à suivre ","html":"<p>Lors de mes divagations sur Internet, je suis tombé sur un projet sympa : Searx. Si vous avez toujours rêvé d’héberger votre moteur de recherche, ceci va vous plaire !  </p>\n\n<p>Searx est un méta moteur de recherche, cela veux dire qu’il va interroger un bon nombre de moteurs de recherche classique et vous donne tous les résultats d’un coup. Un autre point important, Searx protège votre e-vie privée, c’est à dire que Google par exemple ne pourra pas récupérer votre IP ni une bonne partie des autres données qu’il collecte lors de vos recherches. Vous savez, ces données qui servent à vous proposer de la publicité « ciblée » qui me hérisse particulièrement le poil.</p>\n\n<p>Pour les plus bidouilleurs d’entre vous, sachez qu’il est possible de développer des modules (en Python) afin d’ajouter vos propres sources d’informations. Bien que par défaut l’outil soit déjà bien pourvu ! Pour n’en citer que quelques uns : Google, Bing, DuckDuckGo, Wikipédia en font partie.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_490\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2014/11/searx_recherche.png\"><img src=\"https://techan.fr/images/2014/11/searx_recherche.png\" alt=\"Une recherche avec Searx\" title=\"\" /></a>Une recherche avec Searx</p>\n\n<p></div> </p>\n\n<p>Pour les aventureux qui voudraient héberger leur propre copie de Searx, voici la marche à suivre ","image":"http://blog.techan.fr/images/2014/11/searx.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-25T15:32:36.000Z","created_by":1,"updated_at":"2015-08-07T08:56:18.000Z","updated_by":1,"published_at":"2014-11-25T15:32:36.000Z","published_by":1},{"id":68,"uuid":"3f57c37a-89dd-43c0-9f88-162678f63ea3","title":"Agent Cloud Control 12c down après reboot de la machine","slug":"agent-cloud-control-12c-apres-reboot-de-la-machine","markdown":"\nAprès une action sur une VM Oracle Linux hébergeant deux bases Oracle, j’ai eu la mauvaise surprise de voir que l’agent Cloud Control 12c a bien redémarrer mais était vu comme down dans le Cloud Control. Je dois avouer que j’ai pas mal tourné en rond que cette flèche rouge m’a pas mal irrité …  \n  \n[![Agent Cloud Control 12c down](https://techan.fr/images/2014/11/agent_recalcitrant1.png)](https://techan.fr/images/2014/11/agent_recalcitrant1.png)\n\n \n\nAprès quelques recherches sur Google, et presque en déspeoir de cause, j’ai testé unedes dernières marche à suivre pour corriger l’agent Cloud Control 12c down.\n\nCette marche à suivre se trouve sur le site [community.oracle.com](https://community.oracle.com/thread/2429559?start=0&tstart=0), la réposne de « washington_peres ».\n\n \n\n[![forcer_agent_recalcitrant](https://techan.fr/images/2014/11/forcer_agent_recalcitrant.png)](https://techan.fr/images/2014/11/forcer_agent_recalcitrant.png)J’ai donc appliqué cette procédure.\n\n**<span style=\"text-decoration: underline;\">Note :</span>** Il faut se placer dans le répertoire « $AGENT_HOME/bin » pour lancer ces commandes.\n\n[oracle@xxxxxx bin](ORCL)$ ./emctl stop agent Oracle Enterprise Manager Cloud Control 12c Release 3 Copyright (c) 1996, 2013 Oracle Corporation. All rights reserved. Stopping agent ..... stopped. [oracle@xxxxxx bin](ORCL)$ ./emctl secure agent Oracle Enterprise Manager Cloud Control 12c Release 3 Copyright (c) 1996, 2013 Oracle Corporation. All rights reserved. Agent is already stopped... Done. Securing agent... Started. Enter Agent Registration Password : EMD gensudoprops completed successfully Securing agent... Successful. [oracle@xxxxxx bin](ORCL)$ ./emctl start agent Oracle Enterprise Manager Cloud Control 12c Release 3 Copyright (c) 1996, 2013 Oracle Corporation. All rights reserved. Starting agent ............... started. [oracle@xxxxxx bin](ORCL)$ ./emctl status agent Oracle Enterprise Manager Cloud Control 12c Release 3 Copyright (c) 1996, 2013 Oracle Corporation. All rights reserved. --------------------------------------------------------------- Agent Version : 12.1.0.3.0 OMS Version : 12.1.0.3.0 Protocol Version : 12.1.0.1.0 Agent Home : /u01/oracle/product/em_agent/agent_inst Agent Binaries : /u01/oracle/product/em_agent/core/12.1.0.3.0 Agent Process ID : 11371 Parent Process ID : 11315 Agent URL : https://xxxxxx.xxxxx.fr:3872/emd/main/ Repository URL : https://xxxxxx.xxxxx.fr:4904/empbs/upload Started at : 2014-11-26 17:09:56 Started by user : oracle Last Reload : (none) Last successful upload : 2014-11-26 17:10:05 Last attempted upload : 2014-11-26 17:10:05 Total Megabytes of XML files uploaded so far : 0,02 Number of XML files pending upload : 1 Size of XML files pending upload(MB) : 0 Available disk space on upload filesystem : 70,99 % Collection Status : Collections enabled Heartbeat Status : Ok Last attempted heartbeat to OMS : 2014-11-26 17:10:03 Last successful heartbeat to OMS : 2014-11-26 17:10:03 Next scheduled heartbeat to OMS : 2014-11-26 17:11:04 --------------------------------------------------------------- Agent is Running and Ready [oracle@xxxxxx bin](ORCL)$ ./emctl config agent addinternaltargets Oracle Enterprise Manager Cloud Control 12c Release 3 Copyright (c) 1996, 2013 Oracle Corporation. All rights reserved. [oracle@xxxxxx bin](ORCL)$\n\n \n\nUne fois ces  actions réalisées, la flèche repasse miraculeusement au vert !! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\n[![agent_recalcitrant_up](https://techan.fr/images/2014/11/agent_recalcitrant_up.png)](https://techan.fr/images/2014/11/agent_recalcitrant_up.png)\n\n \n\n \n\n\n","html":"<p>Après une action sur une VM Oracle Linux hébergeant deux bases Oracle, j’ai eu la mauvaise surprise de voir que l’agent Cloud Control 12c a bien redémarrer mais était vu comme down dans le Cloud Control. Je dois avouer que j’ai pas mal tourné en rond que cette flèche rouge m’a pas mal irrité …  </p>\n\n<p><a href=\"https://techan.fr/images/2014/11/agent_recalcitrant1.png\"><img src=\"https://techan.fr/images/2014/11/agent_recalcitrant1.png\" alt=\"Agent Cloud Control 12c down\" title=\"\" /></a></p>\n\n<p>Après quelques recherches sur Google, et presque en déspeoir de cause, j’ai testé unedes dernières marche à suivre pour corriger l’agent Cloud Control 12c down.</p>\n\n<p>Cette marche à suivre se trouve sur le site <a href=\"https://community.oracle.com/thread/2429559?start=0&amp;tstart=0\">community.oracle.com</a>, la réposne de « washington_peres ».</p>\n\n<p><a href=\"https://techan.fr/images/2014/11/forcer_agent_recalcitrant.png\"><img src=\"https://techan.fr/images/2014/11/forcer_agent_recalcitrant.png\" alt=\"forcer<em>agent</em>recalcitrant\" title=\"\" /></a>J’ai donc appliqué cette procédure.</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Note :</span></strong> Il faut se placer dans le répertoire « $AGENT_HOME/bin » pour lancer ces commandes.</p>\n\n<p><a href=\"ORCL\">oracle@xxxxxx bin</a>$ ./emctl stop agent Oracle Enterprise Manager Cloud Control 12c Release 3 Copyright (c) 1996, 2013 Oracle Corporation. All rights reserved. Stopping agent ..... stopped. <a href=\"ORCL\">oracle@xxxxxx bin</a>$ ./emctl secure agent Oracle Enterprise Manager Cloud Control 12c Release 3 Copyright (c) 1996, 2013 Oracle Corporation. All rights reserved. Agent is already stopped... Done. Securing agent... Started. Enter Agent Registration Password : EMD gensudoprops completed successfully Securing agent... Successful. <a href=\"ORCL\">oracle@xxxxxx bin</a>$ ./emctl start agent Oracle Enterprise Manager Cloud Control 12c Release 3 Copyright (c) 1996, 2013 Oracle Corporation. All rights reserved. Starting agent ............... started. <a href=\"ORCL\">oracle@xxxxxx bin</a>$ ./emctl status agent Oracle Enterprise Manager Cloud Control 12c Release 3 Copyright (c) 1996, 2013 Oracle Corporation. All rights reserved. --------------------------------------------------------------- Agent Version : 12.1.0.3.0 OMS Version : 12.1.0.3.0 Protocol Version : 12.1.0.1.0 Agent Home : /u01/oracle/product/em<em>agent/agent</em>inst Agent Binaries : /u01/oracle/product/em_agent/core/12.1.0.3.0 Agent Process ID : 11371 Parent Process ID : 11315 Agent URL : <a href=\"https://xxxxxx.xxxxx.fr:3872/emd/main/\">https://xxxxxx.xxxxx.fr:3872/emd/main/</a> Repository URL : <a href=\"https://xxxxxx.xxxxx.fr:4904/empbs/upload\">https://xxxxxx.xxxxx.fr:4904/empbs/upload</a> Started at : 2014-11-26 17:09:56 Started by user : oracle Last Reload : (none) Last successful upload : 2014-11-26 17:10:05 Last attempted upload : 2014-11-26 17:10:05 Total Megabytes of XML files uploaded so far : 0,02 Number of XML files pending upload : 1 Size of XML files pending upload(MB) : 0 Available disk space on upload filesystem : 70,99 % Collection Status : Collections enabled Heartbeat Status : Ok Last attempted heartbeat to OMS : 2014-11-26 17:10:03 Last successful heartbeat to OMS : 2014-11-26 17:10:03 Next scheduled heartbeat to OMS : 2014-11-26 17:11:04 --------------------------------------------------------------- Agent is Running and Ready <a href=\"ORCL\">oracle@xxxxxx bin</a>$ ./emctl config agent addinternaltargets Oracle Enterprise Manager Cloud Control 12c Release 3 Copyright (c) 1996, 2013 Oracle Corporation. All rights reserved. <a href=\"ORCL\">oracle@xxxxxx bin</a>$</p>\n\n<p>Une fois ces  actions réalisées, la flèche repasse miraculeusement au vert !! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p><a href=\"https://techan.fr/images/2014/11/agent_recalcitrant_up.png\"><img src=\"https://techan.fr/images/2014/11/agent_recalcitrant_up.png\" alt=\"agent<em>recalcitrant</em>up\" title=\"\" /></a></p>","image":"http://blog.techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-11-26T18:31:30.000Z","created_by":1,"updated_at":"2014-11-26T18:36:24.000Z","updated_by":1,"published_at":"2014-11-26T18:31:30.000Z","published_by":1},{"id":69,"uuid":"aa055f4d-4e20-4b7e-a8d4-14c16b3185d5","title":"[iOS 8] Customiser les boîtes mail affichées dans Mail","slug":"ios-8-customiser-les-boites-mail-affichees-dans-mail","markdown":"\nVoilà une option que j’ai trouvée tout récemment et qui me change un peu la vie dans mon utilisation de l’application Mail fournie avec iOS. Cette manipulation permet de customiser les boîtes mail affichées dans Mail.  \n  \n  \n\nTout d’abord, rendez-vous dans Mail, sur l’écran d’accueil.\n\n[![Customiser les boîtes mail affichées dans Mail](https://techan.fr/images/2014/12/mail_boxe-575x1024.png)](https://techan.fr/images/2014/12/mail_boxe.png)\n\n \n\nCliquer ensuite sur « Modifier » en haut à droite.\n\n \n\n[![Customiser les boîtes mail affichées dans Mail](https://techan.fr/images/2014/12/mail_boxes_2-575x1024.png)](https://techan.fr/images/2014/12/mail_boxes_2.png)\n\nVous avez maintenant accès à plusieurs boîtes pré-paramétrées par Apple, comme « Non Lus » ou « Aujourd’hui », mais si vous descendez un peu plus …\n\n \n\n[![Customiser les boîtes mail affichées dans Mail](https://techan.fr/images/2014/12/mail_select_boxes-575x1024.png)](https://techan.fr/images/2014/12/mail_select_boxes.png)\n\nVous trouverez une option fort utile, « Ajouter une boîte », cela vous permet d’accéder directement à une boîte mail depuis l’écran d’accueil. C’est pratique, surtout ci comme moi, vous avez une arborescence plutôt complexe. Valider vos changements en tapant sur « Ok » en haut à droite.\n\n \n\n[![Customiser les boîtes mail affichées dans Mail](https://techan.fr/images/2014/12/mail_select_boxes_2-575x1024.png)](https://techan.fr/images/2014/12/mail_select_boxes_2.png)\n\nEt voilà, Mail a gagné énormément en praticité ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n\n","html":"<p>Voilà une option que j’ai trouvée tout récemment et qui me change un peu la vie dans mon utilisation de l’application Mail fournie avec iOS. Cette manipulation permet de customiser les boîtes mail affichées dans Mail.  </p>\n\n<p>Tout d’abord, rendez-vous dans Mail, sur l’écran d’accueil.</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/mail_boxe.png\"><img src=\"https://techan.fr/images/2014/12/mail_boxe-575x1024.png\" alt=\"Customiser les boîtes mail affichées dans Mail\" title=\"\" /></a></p>\n\n<p>Cliquer ensuite sur « Modifier » en haut à droite.</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/mail_boxes_2.png\"><img src=\"https://techan.fr/images/2014/12/mail_boxes_2-575x1024.png\" alt=\"Customiser les boîtes mail affichées dans Mail\" title=\"\" /></a></p>\n\n<p>Vous avez maintenant accès à plusieurs boîtes pré-paramétrées par Apple, comme « Non Lus » ou « Aujourd’hui », mais si vous descendez un peu plus …</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/mail_select_boxes.png\"><img src=\"https://techan.fr/images/2014/12/mail_select_boxes-575x1024.png\" alt=\"Customiser les boîtes mail affichées dans Mail\" title=\"\" /></a></p>\n\n<p>Vous trouverez une option fort utile, « Ajouter une boîte », cela vous permet d’accéder directement à une boîte mail depuis l’écran d’accueil. C’est pratique, surtout ci comme moi, vous avez une arborescence plutôt complexe. Valider vos changements en tapant sur « Ok » en haut à droite.</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/mail_select_boxes_2.png\"><img src=\"https://techan.fr/images/2014/12/mail_select_boxes_2-575x1024.png\" alt=\"Customiser les boîtes mail affichées dans Mail\" title=\"\" /></a></p>\n\n<p>Et voilà, Mail a gagné énormément en praticité ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>","image":"http://blog.techan.fr/images/2014/12/mail-iphone.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-12-01T13:17:31.000Z","created_by":1,"updated_at":"2014-12-15T10:08:55.000Z","updated_by":1,"published_at":"2014-12-01T13:17:31.000Z","published_by":1},{"id":70,"uuid":"4051905d-26ff-40df-8f64-66bd9dc81c5f","title":"Google refuse les mails venant de Postfix","slug":"google-refuse-les-mails-venant-de-postfix","markdown":"\nVoici comme résoudre le problème qui fait que Google refuse les mails venant de Postfix.\n\n#### Résumé du problème\n\nRégulièrement, GMail refusait les mails que j’envoyai depuis mon serveur personnel, qui héberge Postfix et Dovecot. La raison avancée par Google est que ce mail ressemblait fortement à du spam et qu’il préférait le bloquer. Le mail n’arrivait donc même pas dans la boite Spam du destinataire, il était bloqué purement et simplement.  \n  \n  \n\nUn premier workaround que j’ai trouvé était de renvoyer le mail, il passait la seconde fois en règle générale, mais cette solution m’a vite fatiguée … J’ai donc fouillé et trouvé une solution, désactiver l’IPv6. Ne me demandez pas pourquoi, mais visiblement Google n’aime pas ça … En effet, dès que j’ai cela, tous les mails se sont mis a passer directement.\n\nVoici le type de réponse que m’envoyait le mailer de Google :\n\nReporting-MTA: dns; mail X-Postfix-Queue-ID: 9BB04521B3 X-Postfix-Sender: rfc822; xxxxx.xxxxx@xxxxx.fr Arrival-Date: Sat, 27 Sep 2014 08:32:30 +0200 (CEST) Final-Recipient: rfc822; xxxxx@gmail.com Original-Recipient: rfc822;xxxxx@gmail.com Action: failed Status: 5.7.1 Remote-MTA: dns; gmail-smtp-in.l.google.com Diagnostic-Code: smtp; 550-5.7.1 [2001:41d0:8:1e3e::1 12] Our system has detected that this 550-5.7.1 message is likely unsolicited mail. To reduce the amount of spam sent 550-5.7.1 to Gmail, this message has been blocked. Please visit 550-5.7.1 http://support.google.com/mail/bin/answer.py?hl=en&answer=188131 for 550 5.7.1 more information. ph6si9172275wjb.176 - gsmtp\n\n \n\n#### Résolution\n\nPour désactiver l’IPv6, voici les commandes a lancer :\n\nsysctl -w net.ipv6.conf.default.disable_ipv6=1 sysctl -w net.ipv6.conf.all.disable_ipv6=1\n\n \n\nCes options sont prises à chaud, mais ne sont pas persistantes à un reboot du serveur. Pour les rendre persistantes, il faut ajouter les lignes suivantes dans le fichier « /etc/sysctl.conf ».\n\nnet.ipv6.conf.default.disable_ipv6=1 net.ipv6.conf.all.disable_ipv6=1\n\n \n\n\n","html":"<p>Voici comme résoudre le problème qui fait que Google refuse les mails venant de Postfix.</p>\n\n<h4 id=\"rsumduproblme\">Résumé du problème</h4>\n\n<p>Régulièrement, GMail refusait les mails que j’envoyai depuis mon serveur personnel, qui héberge Postfix et Dovecot. La raison avancée par Google est que ce mail ressemblait fortement à du spam et qu’il préférait le bloquer. Le mail n’arrivait donc même pas dans la boite Spam du destinataire, il était bloqué purement et simplement.  </p>\n\n<p>Un premier workaround que j’ai trouvé était de renvoyer le mail, il passait la seconde fois en règle générale, mais cette solution m’a vite fatiguée … J’ai donc fouillé et trouvé une solution, désactiver l’IPv6. Ne me demandez pas pourquoi, mais visiblement Google n’aime pas ça … En effet, dès que j’ai cela, tous les mails se sont mis a passer directement.</p>\n\n<p>Voici le type de réponse que m’envoyait le mailer de Google :</p>\n\n<p>Reporting-MTA: dns; mail X-Postfix-Queue-ID: 9BB04521B3 X-Postfix-Sender: rfc822; xxxxx.xxxxx@xxxxx.fr Arrival-Date: Sat, 27 Sep 2014 08:32:30 +0200 (CEST) Final-Recipient: rfc822; xxxxx@gmail.com Original-Recipient: rfc822;xxxxx@gmail.com Action: failed Status: 5.7.1 Remote-MTA: dns; gmail-smtp-in.l.google.com Diagnostic-Code: smtp; 550-5.7.1 [2001:41d0:8:1e3e::1 12] Our system has detected that this 550-5.7.1 message is likely unsolicited mail. To reduce the amount of spam sent 550-5.7.1 to Gmail, this message has been blocked. Please visit 550-5.7.1 <a href=\"http://support.google.com/mail/bin/answer.py?hl=en&amp;answer=188131\">http://support.google.com/mail/bin/answer.py?hl=en&amp;answer=188131</a> for 550 5.7.1 more information. ph6si9172275wjb.176 - gsmtp</p>\n\n<h4 id=\"rsolution\">Résolution</h4>\n\n<p>Pour désactiver l’IPv6, voici les commandes a lancer :</p>\n\n<p>sysctl -w net.ipv6.conf.default.disable<em>ipv6=1 sysctl -w net.ipv6.conf.all.disable</em>ipv6=1</p>\n\n<p>Ces options sont prises à chaud, mais ne sont pas persistantes à un reboot du serveur. Pour les rendre persistantes, il faut ajouter les lignes suivantes dans le fichier « /etc/sysctl.conf ».</p>\n\n<p>net.ipv6.conf.default.disable<em>ipv6=1 net.ipv6.conf.all.disable</em>ipv6=1</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-12-10T11:57:16.000Z","created_by":1,"updated_at":"2014-12-10T11:57:16.000Z","updated_by":1,"published_at":"2014-12-10T11:57:16.000Z","published_by":1},{"id":71,"uuid":"85bdb557-96df-4c2f-b6fb-52c4a07efc27","title":"Baisser la version de hardware d'une VM VMware","slug":"baisser-la-version-de-hardware-dune-vm-vmware","markdown":"\n### Le problème\n\nDans le but de monter une maquette, il m’a fallu déployer un template de VM créé en version 5.5 de vSphere sur un vieil ESX en version 4.0 rallumé pour l’occasion. Cette opération peut paraître banale, mais dans ce cas le template avec une version de virtaul hardware trop élevé pour le vieil ESX. Le template utilise un hardware en version 8 alors que l’ESX 4.0 ne supporte que jusqu’à la version 7. Il a donc fallu ruser pour pouvoir baisser la version de hardware d’une VM VMware.  \n  \n  \n\n### La solution\n\n \n\nAprès quelques recherches sur l’internet multimédia, j’ai trouvé une KB de VMware qui donne des pistes pour baisser la version de hardware d’une VM VMware. Vous trouverez le lien vers cette KB en bas de l’article.\n\nLa première propose de revenir à un snapshot de la VM avant la monter de version du virtual hardware, ce qui n’était pas possible dans mon cas puisque le template a été créé directement en version 8.\n\nLa seconde, conseille d’utiliser vCenter Converter Standalone afin de convertir la VM dans une version de hardware plus bas, mais cela fait installer un outil que nous n’avions pas.\n\nLa troisième finalement, propose une bidouille qui m’a plu. Il s’agit de de créer une nouvelle VM dans la version de virtual hardware souhaitée et d’y attacher les disques de la VM trop haute en hardware. Je confirme, cela fonctionne !\n\n \n\n### La marche à suivre\n\nDans un premier temps, j’ai cloné le template dont je voulais baisser la version de hardware d’une VM VMware.\n\nPendant le clone, on crée une nouvelle machine virtuelle en mode « Custom » et non « Typical » afin d’avoir accès à toutes les options de configuration. Précisez bien l’OS comme d’habitude, et faites attention à bien choisir la bonne version de virtual hardware que vous visez. Dans la configuration des disques, choisissez l’option ne pas créer de disques virtuels.\n\nUne fois le clone achevé, convertissez le en machine virtuelle, puis dans les paramètres, supprimer les disques de la VM, **sans toute fois les supprimer du datastore**.\n\nVous pouvez « Borwser » le datastore pour déplacer les disque de la VM d’origine si vous le souhaitez puis éditer les paramètres de la nouvelle VM vide et ajoutez les disques de l’ancienne VM.\n\nOn clique sur la flèche verte, et la VM démarre dans un version plus ancienne de virtual hardware comme par magie, ou presque !\n\n \n\n#### Source\n\n[kb.vmware.com](http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&cmd=displayKC&externalId=1028019)\n\n\n","html":"<h3 id=\"leproblme\">Le problème</h3>\n\n<p>Dans le but de monter une maquette, il m’a fallu déployer un template de VM créé en version 5.5 de vSphere sur un vieil ESX en version 4.0 rallumé pour l’occasion. Cette opération peut paraître banale, mais dans ce cas le template avec une version de virtaul hardware trop élevé pour le vieil ESX. Le template utilise un hardware en version 8 alors que l’ESX 4.0 ne supporte que jusqu’à la version 7. Il a donc fallu ruser pour pouvoir baisser la version de hardware d’une VM VMware.  </p>\n\n<h3 id=\"lasolution\">La solution</h3>\n\n<p>Après quelques recherches sur l’internet multimédia, j’ai trouvé une KB de VMware qui donne des pistes pour baisser la version de hardware d’une VM VMware. Vous trouverez le lien vers cette KB en bas de l’article.</p>\n\n<p>La première propose de revenir à un snapshot de la VM avant la monter de version du virtual hardware, ce qui n’était pas possible dans mon cas puisque le template a été créé directement en version 8.</p>\n\n<p>La seconde, conseille d’utiliser vCenter Converter Standalone afin de convertir la VM dans une version de hardware plus bas, mais cela fait installer un outil que nous n’avions pas.</p>\n\n<p>La troisième finalement, propose une bidouille qui m’a plu. Il s’agit de de créer une nouvelle VM dans la version de virtual hardware souhaitée et d’y attacher les disques de la VM trop haute en hardware. Je confirme, cela fonctionne !</p>\n\n<h3 id=\"lamarchesuivre\">La marche à suivre</h3>\n\n<p>Dans un premier temps, j’ai cloné le template dont je voulais baisser la version de hardware d’une VM VMware.</p>\n\n<p>Pendant le clone, on crée une nouvelle machine virtuelle en mode « Custom » et non « Typical » afin d’avoir accès à toutes les options de configuration. Précisez bien l’OS comme d’habitude, et faites attention à bien choisir la bonne version de virtual hardware que vous visez. Dans la configuration des disques, choisissez l’option ne pas créer de disques virtuels.</p>\n\n<p>Une fois le clone achevé, convertissez le en machine virtuelle, puis dans les paramètres, supprimer les disques de la VM, <strong>sans toute fois les supprimer du datastore</strong>.</p>\n\n<p>Vous pouvez « Borwser » le datastore pour déplacer les disque de la VM d’origine si vous le souhaitez puis éditer les paramètres de la nouvelle VM vide et ajoutez les disques de l’ancienne VM.</p>\n\n<p>On clique sur la flèche verte, et la VM démarre dans un version plus ancienne de virtual hardware comme par magie, ou presque !</p>\n\n<h4 id=\"source\">Source</h4>\n\n<p><a href=\"http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1028019\">kb.vmware.com</a></p>","image":"http://blog.techan.fr/images/2014/12/vsphere_logo_miniature.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-12-15T09:53:08.000Z","created_by":1,"updated_at":"2014-12-17T12:28:52.000Z","updated_by":1,"published_at":"2014-12-15T09:53:08.000Z","published_by":1},{"id":72,"uuid":"2cce078e-fadf-4e49-b0ff-c509e9b026d2","title":"Uploader les pièces jointes dans OwnCloud","slug":"uploader-les-pieces-jointes-dans-owncloud","markdown":"\nC’est plutôt par hasard que je suis tombé sur une fonctionnalité de ThunderBird bien sympa, FileLink. Cela permet d’envoyer les pièces jointes volumineuses sur un stockage cloud directement lors de l’édition du message et de les remplacer par un lien dans le mail. J’ai donc cherché s’il y avait un moyen d’utiliser FileLink pour uploader les pièces jointes dans OwnCloud.  \n  \n J’ai trouvé une astuce dans un thread sur le GitHub d’OwnCloud :\n\n[https://github.com/owncloud/core/issues/699](https://github.com/owncloud/core/issues/699)\n\nUn addon de ThunderBird « [WebDav for FileLink](https://addons.mozilla.org/en-US/thunderbird/addon/webdav-for-filelink/) » existe et permettrait de faire cela, mais avec pas mal de limitations … Plus loin dans le thread, j’ai découvert qu’un certain « guillaumev » avait créé un plugin pour ThunderBird permettant l’intégration d’OwnCloud dans FileLink ! Je vais vous expliquer comme l’utiliser ! ","html":"<p>C’est plutôt par hasard que je suis tombé sur une fonctionnalité de ThunderBird bien sympa, FileLink. Cela permet d’envoyer les pièces jointes volumineuses sur un stockage cloud directement lors de l’édition du message et de les remplacer par un lien dans le mail. J’ai donc cherché s’il y avait un moyen d’utiliser FileLink pour uploader les pièces jointes dans OwnCloud.  </p>\n\n<p>J’ai trouvé une astuce dans un thread sur le GitHub d’OwnCloud :</p>\n\n<p><a href=\"https://github.com/owncloud/core/issues/699\">https://github.com/owncloud/core/issues/699</a></p>\n\n<p>Un addon de ThunderBird « <a href=\"https://addons.mozilla.org/en-US/thunderbird/addon/webdav-for-filelink/\">WebDav for FileLink</a> » existe et permettrait de faire cela, mais avec pas mal de limitations … Plus loin dans le thread, j’ai découvert qu’un certain « guillaumev » avait créé un plugin pour ThunderBird permettant l’intégration d’OwnCloud dans FileLink ! Je vais vous expliquer comme l’utiliser ! ","image":"http://blog.techan.fr/images/2014/12/oc_logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-12-17T12:07:00.000Z","created_by":1,"updated_at":"2015-01-01T23:41:41.000Z","updated_by":1,"published_at":"2014-12-17T12:07:00.000Z","published_by":1},{"id":73,"uuid":"95f18478-85f9-4cae-bbf6-49535c9094da","title":"Installer les pilotes ODBC pour Office 2010","slug":"installer-les-pilotes-odbc-pour-office-2010","markdown":"\nPour les besoins d’une application, il m’a fallu chercher comment installer les pilotes ODBC pour Office 2010 et pas moyen de trouver une documentation sur Internet qui explique ce qu’il faut installer … Après avoir pas mal pataugé, j’ai enfin trouver comment faire.  \n  \n  \n\n\n## Trouver l’architecture d’Office installée\n\nTout d’abord, il faut trouver l’architecture de l’Office installé sur la machine (32 ou 64 bits) afin de savoir quel outil utiliser pour installer les pilotes ODBC pour Office 2010.\n\nPour trouver cette information, il faut lancer Excel par exemple et aller dans « Fichier » -> « Aide ». Dans le panneau de droite vous trouverez une bonne tartine d’informations dont celle que l’on cherche.\n\n[![version_office](https://techan.fr/images/2014/12/version_office.png)](https://techan.fr/images/2014/12/version_office.png)\n\nDans mon cas, j’ai une version 32 bits d’Office 2010 installée sur une machine 64 bits, le cas le plus délicieux.\n\n\n## **Installer les pilotes ODBC pour Office 2010**\n\nRendez-vous dans le panneau de configuration puis dans Programmes et fonctionnalités sélectionnez Office et cliquez sur Modifier.\n\n[![install_outil_office_1](https://techan.fr/images/2014/12/install_outil_office_1.png)](https://techan.fr/images/2014/12/install_outil_office_1.png)\n\nDans le programme d’installation d’Office, choisissez la première option.\n\n \n\n[![install_outil_office_2](https://techan.fr/images/2014/12/install_outil_office_2.png)](https://techan.fr/images/2014/12/install_outil_office_2.png)\n\nSélectionnez « Microsoft Query » pour installation dans la catégorie « Outils Office ».\n\n[![Installer les pilotes ODBC pour Office 2010](https://techan.fr/images/2014/12/install_outil_office_3.png)](https://techan.fr/images/2014/12/install_outil_office_3.png)\n\nCliquez sur Continuer sans fin jusqu’à ce que l’installation soit terminée et voila.\n\n\n## Valider l’installation des pilotes ODBC\n\nAlors dans un premier temps ce qu’il savoir c’est que sur les systèmes 64 bits, il y a les deux versions (32 et 64 bits) de l’outil de configuration de sources ODBC. Voici ou se trouvent ces versions respectives, <span style=\"text-decoration: underline;\">**attention c’est très logique**</span> !\n\n- Version 64 bits : C:\\Windows\\system32\\odbcad32.exe\n- Version 32 bits : C:\\Windows\\SysWOW64\\odbcad32.exe\n\nVoila, voila, j’adore …\n\nUne fois qu’on sait ça, et qu’on fait exactement l’inverse de la logique, tout se passe bien !\n\nDonc on lance la version qui va bien pour l’architecture d’Office, dans mon cas 32 bits, donc dans le répertoire 64 (non je ne m’en remet pas !).\n\n[![outil_admin_odbc](https://techan.fr/images/2014/12/outil_admin_odbc.png)](https://techan.fr/images/2014/12/outil_admin_odbc.png)\n\nOn voit que mes pilotes sont bien apparus :\n\n \n\n[![outil_admin_odbc_avec_office](https://techan.fr/images/2014/12/outil_admin_odbc_avec_office.png)](https://techan.fr/images/2014/12/outil_admin_odbc_avec_office.png)\n\nEt comble du bonheur, on peut configurer les sources avec ces pilotes !\n\n[![outil_admin_odbc_avec_office_qui_marche](https://techan.fr/images/2014/12/outil_admin_odbc_avec_office_qui_marche.png)](https://techan.fr/images/2014/12/outil_admin_odbc_avec_office_qui_marche.png)\n\nAlors qui on lance la version 64 bits de l’outil, il nous insulte carrément …\n\n[![outil_admin_odbc_avec_probleme_1](https://techan.fr/images/2014/12/outil_admin_odbc_avec_probleme_1.png)](https://techan.fr/images/2014/12/outil_admin_odbc_avec_probleme_1.png)\n\n[![outil_admin_odbc_avec_probleme_2](https://techan.fr/images/2014/12/outil_admin_odbc_avec_probleme_2.png)](https://techan.fr/images/2014/12/outil_admin_odbc_avec_probleme_2.png)\n\n\n## Et si vous êtes vraiment malchanceux\n\nL’application qui devait se servir de ces pilotes ODBC ne supporte pas la version 32 bits des sources ODBC et là vous êtes bons pour désinstaller Office 32 bits, installer Office 64 bits et recommencer cette manipulation. Courage !\n\n\n","html":"<p>Pour les besoins d’une application, il m’a fallu chercher comment installer les pilotes ODBC pour Office 2010 et pas moyen de trouver une documentation sur Internet qui explique ce qu’il faut installer … Après avoir pas mal pataugé, j’ai enfin trouver comment faire.  </p>\n\n<h2 id=\"trouverlarchitecturedofficeinstalle\">Trouver l’architecture d’Office installée</h2>\n\n<p>Tout d’abord, il faut trouver l’architecture de l’Office installé sur la machine (32 ou 64 bits) afin de savoir quel outil utiliser pour installer les pilotes ODBC pour Office 2010.</p>\n\n<p>Pour trouver cette information, il faut lancer Excel par exemple et aller dans « Fichier » -> « Aide ». Dans le panneau de droite vous trouverez une bonne tartine d’informations dont celle que l’on cherche.</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/version_office.png\"><img src=\"https://techan.fr/images/2014/12/version_office.png\" alt=\"version_office\" title=\"\" /></a></p>\n\n<p>Dans mon cas, j’ai une version 32 bits d’Office 2010 installée sur une machine 64 bits, le cas le plus délicieux.</p>\n\n<h2 id=\"installerlespilotesodbcpouroffice2010\"><strong>Installer les pilotes ODBC pour Office 2010</strong></h2>\n\n<p>Rendez-vous dans le panneau de configuration puis dans Programmes et fonctionnalités sélectionnez Office et cliquez sur Modifier.</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/install_outil_office_1.png\"><img src=\"https://techan.fr/images/2014/12/install_outil_office_1.png\" alt=\"install<em>outil</em>office_1\" title=\"\" /></a></p>\n\n<p>Dans le programme d’installation d’Office, choisissez la première option.</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/install_outil_office_2.png\"><img src=\"https://techan.fr/images/2014/12/install_outil_office_2.png\" alt=\"install<em>outil</em>office_2\" title=\"\" /></a></p>\n\n<p>Sélectionnez « Microsoft Query » pour installation dans la catégorie « Outils Office ».</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/install_outil_office_3.png\"><img src=\"https://techan.fr/images/2014/12/install_outil_office_3.png\" alt=\"Installer les pilotes ODBC pour Office 2010\" title=\"\" /></a></p>\n\n<p>Cliquez sur Continuer sans fin jusqu’à ce que l’installation soit terminée et voila.</p>\n\n<h2 id=\"validerlinstallationdespilotesodbc\">Valider l’installation des pilotes ODBC</h2>\n\n<p>Alors dans un premier temps ce qu’il savoir c’est que sur les systèmes 64 bits, il y a les deux versions (32 et 64 bits) de l’outil de configuration de sources ODBC. Voici ou se trouvent ces versions respectives, <span style=\"text-decoration: underline;\"><strong>attention c’est très logique</strong></span> !</p>\n\n<ul>\n<li>Version 64 bits : C:\\Windows\\system32\\odbcad32.exe</li>\n<li>Version 32 bits : C:\\Windows\\SysWOW64\\odbcad32.exe</li>\n</ul>\n\n<p>Voila, voila, j’adore …</p>\n\n<p>Une fois qu’on sait ça, et qu’on fait exactement l’inverse de la logique, tout se passe bien !</p>\n\n<p>Donc on lance la version qui va bien pour l’architecture d’Office, dans mon cas 32 bits, donc dans le répertoire 64 (non je ne m’en remet pas !).</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/outil_admin_odbc.png\"><img src=\"https://techan.fr/images/2014/12/outil_admin_odbc.png\" alt=\"outil<em>admin</em>odbc\" title=\"\" /></a></p>\n\n<p>On voit que mes pilotes sont bien apparus :</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/outil_admin_odbc_avec_office.png\"><img src=\"https://techan.fr/images/2014/12/outil_admin_odbc_avec_office.png\" alt=\"outil<em>admin</em>odbc<em>avec</em>office\" title=\"\" /></a></p>\n\n<p>Et comble du bonheur, on peut configurer les sources avec ces pilotes !</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/outil_admin_odbc_avec_office_qui_marche.png\"><img src=\"https://techan.fr/images/2014/12/outil_admin_odbc_avec_office_qui_marche.png\" alt=\"outil<em>admin</em>odbc<em>avec</em>office<em>qui</em>marche\" title=\"\" /></a></p>\n\n<p>Alors qui on lance la version 64 bits de l’outil, il nous insulte carrément …</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/outil_admin_odbc_avec_probleme_1.png\"><img src=\"https://techan.fr/images/2014/12/outil_admin_odbc_avec_probleme_1.png\" alt=\"outil<em>admin</em>odbc<em>avec</em>probleme_1\" title=\"\" /></a></p>\n\n<p><a href=\"https://techan.fr/images/2014/12/outil_admin_odbc_avec_probleme_2.png\"><img src=\"https://techan.fr/images/2014/12/outil_admin_odbc_avec_probleme_2.png\" alt=\"outil<em>admin</em>odbc<em>avec</em>probleme_2\" title=\"\" /></a></p>\n\n<h2 id=\"etsivoustesvraimentmalchanceux\">Et si vous êtes vraiment malchanceux</h2>\n\n<p>L’application qui devait se servir de ces pilotes ODBC ne supporte pas la version 32 bits des sources ODBC et là vous êtes bons pour désinstaller Office 32 bits, installer Office 64 bits et recommencer cette manipulation. Courage !</p>","image":"http://blog.techan.fr/images/2014/12/windows_logo_mini.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-12-19T17:07:52.000Z","created_by":1,"updated_at":"2014-12-23T11:00:44.000Z","updated_by":1,"published_at":"2014-12-19T17:07:52.000Z","published_by":1},{"id":74,"uuid":"edce0107-3c83-482f-84b0-a8072a3f6b15","title":"Activer l'access.log sur Varnish","slug":"activer-laccess-log-sur-varnish","markdown":"\nVoici un petit article sur rapide pour expliquer comment activer l’access.log au niveau du moteur de cache Varnish.  \n  \n Cela est utile pour avoir des traces de connexion au(x) site(s) que varnish a dans son cache, car comme il les garde en cache justement, les accès son faussés !\n\nLa commande a passer pour activer l’access.log sur Varnish:\n\nvarnishncsa -a -w /var/log/varnish/access.log -D -P /var/run/varnishncsa.pid\n\nIl ne vous reste plus qu’a monitorer le fichier /var/log/varnish/access.log.\n\n\n","html":"<p>Voici un petit article sur rapide pour expliquer comment activer l’access.log au niveau du moteur de cache Varnish.  </p>\n\n<p>Cela est utile pour avoir des traces de connexion au(x) site(s) que varnish a dans son cache, car comme il les garde en cache justement, les accès son faussés !</p>\n\n<p>La commande a passer pour activer l’access.log sur Varnish:</p>\n\n<p>varnishncsa -a -w /var/log/varnish/access.log -D -P /var/run/varnishncsa.pid</p>\n\n<p>Il ne vous reste plus qu’a monitorer le fichier /var/log/varnish/access.log.</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-12-22T17:06:14.000Z","created_by":1,"updated_at":"2015-01-12T12:22:27.000Z","updated_by":1,"published_at":"2014-12-22T17:06:14.000Z","published_by":1},{"id":75,"uuid":"6bf8ea3d-25bd-409c-bdb0-3d4549e82d37","title":"Faille de sécurité critique dans NTP","slug":"faille-de-securite-critique-dans-ntp","markdown":"\nVendredi soir le département américain de la sécurité nationale publiait une faillé critique touchant le protocole open source de synchronisation du temps (NTP: Newtork Time Protocol). Cette faille a été découverte par des ingénieur en sécurité de Google.\n\n### Les systèmes touchés\n\nCette faille touche tous les systèmes utilisant la version 4 du protocole et ce avant la version 4.2.8  \n  \n Cela impacte une grand nombre de systèmes comme Linux, OS X, …\n\nPar exemple, sur un Oracle Linux relativement récent en version 6.5 :\n\n[![Faille de sécurité critique dans NTP](https://techan.fr/images/2014/12/ntp1.png)](https://techan.fr/images/2014/12/ntp1.png)\n\nEt sur un RedHat assez ancien en version 3 :\n\n[![Faille de sécurité critique dans NTP](https://techan.fr/images/2014/12/npt2.png)](https://techan.fr/images/2014/12/npt2.png)\n\nCette faille est suffisamment inquiétante pour qu’Apple propose cette nuit une mise à jour de sécurité spécifique à cette faille alors qu’habituellement elle inclut ces corrections dans de plus gros patchs. Apple utilise également son canal d’installation automatique. Une grande première alors que ce moyen existe depuis plus de deux ans, mais n’avait encore jamais été utilisé par la firme de Cuppertino.\n\n \n\n### Impacte de la faille de sécurité critique dans NTP\n\nCette faille permet de lancer du code sur le système à travers NTP, avec le privilèges de l’utilisateur qui fait tourner NTP. Elle est caractérisée comme facilement utilisable par le département de la sécurité nationale américain.\n\n> #### DIFFICULTY\n> \n> An attacker with a low skill would be able to exploit these vulnerabilities.\n\n### Corriger la faille de sécurité critique dans NTP\n\nPour les systèmes Apple, il faut installer la mise à jour qui est dors et déjà disponible dans l’App Store.\n\nPour les systèmes Linux, une mise à jour est disponible dans les dépôts ce matin, un exemple avec Ubuntu :\n\n[![Faille de sécurité critique dans NTP](https://techan.fr/images/2014/12/ntp3.png)](https://techan.fr/images/2014/12/ntp3.png)\n\nDes mises à jour ont également été publiées pour les systèmes basés sur les RPM, comme RedHat, CentOS et Oracle Linux.\n\n### Sources\n\n[L’article sur le site de la sécurité nationale américaine](https://ics-cert.us-cert.gov/advisories/ICSA-14-353-01)\n\n[Sur MacGénération](http://www.macg.co/os-x/2014/12/apple-envoie-sa-premiere-mise-jour-de-securite-automatique-86401)\n\n\n","html":"<p>Vendredi soir le département américain de la sécurité nationale publiait une faillé critique touchant le protocole open source de synchronisation du temps (NTP: Newtork Time Protocol). Cette faille a été découverte par des ingénieur en sécurité de Google.</p>\n\n<h3 id=\"lessystmestouchs\">Les systèmes touchés</h3>\n\n<p>Cette faille touche tous les systèmes utilisant la version 4 du protocole et ce avant la version 4.2.8  </p>\n\n<p>Cela impacte une grand nombre de systèmes comme Linux, OS X, …</p>\n\n<p>Par exemple, sur un Oracle Linux relativement récent en version 6.5 :</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/ntp1.png\"><img src=\"https://techan.fr/images/2014/12/ntp1.png\" alt=\"Faille de sécurité critique dans NTP\" title=\"\" /></a></p>\n\n<p>Et sur un RedHat assez ancien en version 3 :</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/npt2.png\"><img src=\"https://techan.fr/images/2014/12/npt2.png\" alt=\"Faille de sécurité critique dans NTP\" title=\"\" /></a></p>\n\n<p>Cette faille est suffisamment inquiétante pour qu’Apple propose cette nuit une mise à jour de sécurité spécifique à cette faille alors qu’habituellement elle inclut ces corrections dans de plus gros patchs. Apple utilise également son canal d’installation automatique. Une grande première alors que ce moyen existe depuis plus de deux ans, mais n’avait encore jamais été utilisé par la firme de Cuppertino.</p>\n\n<h3 id=\"impactedelafailledescuritcritiquedansntp\">Impacte de la faille de sécurité critique dans NTP</h3>\n\n<p>Cette faille permet de lancer du code sur le système à travers NTP, avec le privilèges de l’utilisateur qui fait tourner NTP. Elle est caractérisée comme facilement utilisable par le département de la sécurité nationale américain.</p>\n\n<blockquote>\n  <h4 id=\"difficulty\">DIFFICULTY</h4>\n  \n  <p>An attacker with a low skill would be able to exploit these vulnerabilities.</p>\n</blockquote>\n\n<h3 id=\"corrigerlafailledescuritcritiquedansntp\">Corriger la faille de sécurité critique dans NTP</h3>\n\n<p>Pour les systèmes Apple, il faut installer la mise à jour qui est dors et déjà disponible dans l’App Store.</p>\n\n<p>Pour les systèmes Linux, une mise à jour est disponible dans les dépôts ce matin, un exemple avec Ubuntu :</p>\n\n<p><a href=\"https://techan.fr/images/2014/12/ntp3.png\"><img src=\"https://techan.fr/images/2014/12/ntp3.png\" alt=\"Faille de sécurité critique dans NTP\" title=\"\" /></a></p>\n\n<p>Des mises à jour ont également été publiées pour les systèmes basés sur les RPM, comme RedHat, CentOS et Oracle Linux.</p>\n\n<h3 id=\"sources\">Sources</h3>\n\n<p><a href=\"https://ics-cert.us-cert.gov/advisories/ICSA-14-353-01\">L’article sur le site de la sécurité nationale américaine</a></p>\n\n<p><a href=\"http://www.macg.co/os-x/2014/12/apple-envoie-sa-premiere-mise-jour-de-securite-automatique-86401\">Sur MacGénération</a></p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-12-23T09:42:29.000Z","created_by":1,"updated_at":"2014-12-23T10:18:10.000Z","updated_by":1,"published_at":"2014-12-23T09:42:29.000Z","published_by":1},{"id":76,"uuid":"543169f9-f519-42d8-8a7a-d0df1d75259f","title":"Télécharger les pièces jointes aux mails dans un dossier","slug":"telecharger-les-pieces-jointes-aux-mails-dans-un-dossier","markdown":"\nVoici un petit script en PHP, permettant de télécharger les pièces jointes aux mails dans un dossier. Ce script se base sur les classes écrites par « hakre » sur lesquelles vous trouverez plus d’informations [sur GitHub](http://stackoverflow.com/questions/9974334/how-to-download-mails-attachment-to-a-specific-folder-using-imap-and-php). J’utilise cela pour télécharger notamment les factures que je reçoit par mail et les copier dans un répertoire de mon [OwnCloud](http://owncloud.org/).\n\n### Le code\n\n<?php require('./imap-attachment.php'); $savedir = '/chemin/vers/le/dossier/de/sauvegarde/des/pieces/jointes'; $hostname='{imap.exemple.fr:143/novalidate-cert}INBOX'; $username='user@exemple.fr'; $password='password'; $inbox = new IMAPMailbox($hostname, $username, $password); $emails = $inbox->search('ALL'); if ($emails) { rsort($emails); foreach ($emails as $email) { foreach ($email->getAttachments() as $attachment) { $savepath = $savedir . str_replace('!','',str_replace('/','-',str_replace(' ','_', strtolower($attachment->getFilename())))); file_put_contents($savepath, $attachment); } } }\n\n \n\n### Le fonctionnement\n\nCe petit morceau de code se connecte à votre compte email, sélectionne le dossier que vous souhaitez et boucle sur les mails présents. Si un mail a une pièce jointe, il va la télécharger et la sauver dans le dossier que vous avez configuré.\n\nEt si on veut télécharger les pièces jointes aux mails d’un autre dossier de ce compte, il suffit de dupliquer ce bloc en changeant les paramètres ! Simple non ? ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nEt vous pouvez même « crontabiser » ce script pour que tout se fasse tout seul !\n\n###  [EDIT 5 Janvier 2015]\n\nNouvelle version du code plus intelligente, maintenant, on marque les messages dont les pièces jointes ont été téléchargées et on ne cherche dans les dossiers IMAP que les messages non marqués cela permet de gagner du temps. De plus, un id unique est ajouté avant chaque nom de fichier pour être sûr de ne pas avoir de soucis en cas de fichier portant le même nom.\n\n \n\n<?php require('./imap-attachment.php'); $savedir = '/chemin/vers/le/dossier/de/sauvegarde/des/pieces/jointes'; $hostname='{imap.exemple.fr:143/novalidate-cert}INBOX'; $username='user@exemple.fr'; $password='password'; $inbox = new IMAPMailbox($hostname, $username, $password); try { $emails = $inbox->search('UNKEYWORD \"$pjcopiee\"'); if ($emails) { rsort($emails); foreach ($emails as $email) { foreach ($email->getAttachments() as $attachment) { $savepath = $savedir . uniqid() . str_replace('=','', str_replace('?', '', str_replace('!','',str_replace('/','-',str_replace(' ','_', strtolower($attachment->getFilename())))))); file_put_contents($savepath, $attachment); $status = imap_setflag_full($inbox->getStream(), $email->getNumber(), \"\\$pjcopiee\"); } } } } catch (Exception $e) { echo ' Pas de messages a traiter'; } imap_close($inbox->getStream()); ?>\n\n \n\n \n\n### Sources\n\n[Télécharger les classes IMAP (Clic droit -> Enrgistrer la cible sous)](https://techan.fr/downloads/imap-attachment.php.download)\n\n\n","html":"<p>Voici un petit script en PHP, permettant de télécharger les pièces jointes aux mails dans un dossier. Ce script se base sur les classes écrites par « hakre » sur lesquelles vous trouverez plus d’informations <a href=\"http://stackoverflow.com/questions/9974334/how-to-download-mails-attachment-to-a-specific-folder-using-imap-and-php\">sur GitHub</a>. J’utilise cela pour télécharger notamment les factures que je reçoit par mail et les copier dans un répertoire de mon <a href=\"http://owncloud.org/\">OwnCloud</a>.</p>\n\n<h3 id=\"lecode\">Le code</h3>\n\n<?php require('./imap-attachment.php'); $savedir = '/chemin/vers/le/dossier/de/sauvegarde/des/pieces/jointes'; $hostname='{imap.exemple.fr:143/novalidate-cert}INBOX'; $username='user@exemple.fr'; $password='password'; $inbox = new IMAPMailbox($hostname, $username, $password); $emails = $inbox->search('ALL'); if ($emails) { rsort($emails); foreach ($emails as $email) { foreach ($email->getAttachments() as $attachment) { $savepath = $savedir . str_replace('!','',str_replace('/','-',str_replace(' ','_', strtolower($attachment->getFilename())))); file_put_contents($savepath, $attachment); } } }\n\n \n\n### Le fonctionnement\n\nCe petit morceau de code se connecte à votre compte email, sélectionne le dossier que vous souhaitez et boucle sur les mails présents. Si un mail a une pièce jointe, il va la télécharger et la sauver dans le dossier que vous avez configuré.\n\nEt si on veut télécharger les pièces jointes aux mails d’un autre dossier de ce compte, il suffit de dupliquer ce bloc en changeant les paramètres ! Simple non ? ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nEt vous pouvez même « crontabiser » ce script pour que tout se fasse tout seul !\n\n###  [EDIT 5 Janvier 2015]\n\nNouvelle version du code plus intelligente, maintenant, on marque les messages dont les pièces jointes ont été téléchargées et on ne cherche dans les dossiers IMAP que les messages non marqués cela permet de gagner du temps. De plus, un id unique est ajouté avant chaque nom de fichier pour être sûr de ne pas avoir de soucis en cas de fichier portant le même nom.\n\n \n\n<?php require('./imap-attachment.php'); $savedir = '/chemin/vers/le/dossier/de/sauvegarde/des/pieces/jointes'; $hostname='{imap.exemple.fr:143/novalidate-cert}INBOX'; $username='user@exemple.fr'; $password='password'; $inbox = new IMAPMailbox($hostname, $username, $password); try { $emails = $inbox->search('UNKEYWORD \"$pjcopiee\"'); if ($emails) { rsort($emails); foreach ($emails as $email) { foreach ($email->getAttachments() as $attachment) { $savepath = $savedir . uniqid() . str_replace('=','', str_replace('?', '', str_replace('!','',str_replace('/','-',str_replace(' ','_', strtolower($attachment->getFilename())))))); file_put_contents($savepath, $attachment); $status = imap_setflag_full($inbox->getStream(), $email->getNumber(), \"\\$pjcopiee\"); } } } } catch (Exception $e) { echo ' Pas de messages a traiter'; } imap_close($inbox->getStream()); ?>\n\n<h3 id=\"sources\">Sources</h3>\n\n<p><a href=\"https://techan.fr/downloads/imap-attachment.php.download\">Télécharger les classes IMAP (Clic droit -> Enrgistrer la cible sous)</a></p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-12-24T12:55:14.000Z","created_by":1,"updated_at":"2015-01-05T15:04:07.000Z","updated_by":1,"published_at":"2014-12-24T12:55:14.000Z","published_by":1},{"id":77,"uuid":"0d775530-2756-45c4-b006-cf697dea4dbc","title":"Joyeux Noël à tous !","slug":"joyeux-noel-tous","markdown":"\n<div class=\"wp-caption aligncenter\" id=\"attachment_595\" style=\"width: 310px\">[![Joyeux Noël à tous !](https://techan.fr/images/2014/12/pere-noel-humour.jpg)](https://techan.fr/images/2014/12/pere-noel-humour.jpg)Source : http://zefml.com\n\n</div>Je vous souhaite à tous de très belles fêtes de fin d’années !\n\nProfitez bien de ces moments passés avec vos proches et des bons petits plats ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nLaissez moi vous offrir quelques traits d’esprit du chat de Geluck ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n> <div class=\"copy-paste-block\">J’avais mis mes souliers devant la cheminée, le père Noël m’a apporté des pieds.  \n>  [ Le chat ]  \n> **Philippe Geluck **</div>\n\n<div class=\"copy-paste-block\"></div>> <div class=\"copy-paste-block\">Qu’est-ce que tu souhaites pour Noël? Avoir des souhaits…  \n>  [ Le chat, Nos enfants sont-ils trop gâtés? ]  \n> ** Philippe Geluck **</div>\n\n \n\n\n","html":"<div class=\"wp-caption aligncenter\" id=\"attachment_595\" style=\"width: 310px\">[![Joyeux Noël à tous !](https://techan.fr/images/2014/12/pere-noel-humour.jpg)](https://techan.fr/images/2014/12/pere-noel-humour.jpg)Source : <a href=\"http://zefml.com\">http://zefml.com</a>\n\n</div>Je vous souhaite à tous de très belles fêtes de fin d’années !\n\nProfitez bien de ces moments passés avec vos proches et des bons petits plats ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nLaissez moi vous offrir quelques traits d’esprit du chat de Geluck ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n> <div class=\"copy-paste-block\">J’avais mis mes souliers devant la cheminée, le père Noël m’a apporté des pieds.  \n>  [ Le chat ]  \n> **Philippe Geluck **</div>\n\n<div class=\"copy-paste-block\"></div>> <div class=\"copy-paste-block\">Qu’est-ce que tu souhaites pour Noël? Avoir des souhaits…  \n>  [ Le chat, Nos enfants sont-ils trop gâtés? ]  \n> ** Philippe Geluck **</div>","image":"http://blog.techan.fr/images/2014/12/sapin_de_noel.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-12-24T18:15:38.000Z","created_by":1,"updated_at":"2014-12-23T12:53:38.000Z","updated_by":1,"published_at":"2014-12-24T18:15:38.000Z","published_by":1},{"id":78,"uuid":"09f6c4b3-da21-48aa-bca1-f62156d413df","title":"Rediriger une page WordPress p=xxx vers une autre","slug":"rediriger-une-page-wordpress-pxxx-vers-une-autre","markdown":"\nEn étudiant les visites sur le blog, je me suis aperçu que pas mal de gens essayait d’accéder à un article présent dans la version précédente du blog et plus disponible dans le nouveau … J’ai donc ré-écrit l’article, [publié son lien sur le forum](http://forum.ubuntu-fr.org/viewtopic.php?id=655241&p=4) ou l’ancien était référencé, mais j’avais encore pas mal de 404 à cause de l’ancien lien. J’ai donc cherché un moyen pour rediriger une page WordPress p=xxx vers une autre. Et oui, car en plus dans l’ancienne version bu blog, je n’avais pas activé les belles URL ","html":"<p>En étudiant les visites sur le blog, je me suis aperçu que pas mal de gens essayait d’accéder à un article présent dans la version précédente du blog et plus disponible dans le nouveau … J’ai donc ré-écrit l’article, <a href=\"http://forum.ubuntu-fr.org/viewtopic.php?id=655241&amp;p=4\">publié son lien sur le forum</a> ou l’ancien était référencé, mais j’avais encore pas mal de 404 à cause de l’ancien lien. J’ai donc cherché un moyen pour rediriger une page WordPress p=xxx vers une autre. Et oui, car en plus dans l’ancienne version bu blog, je n’avais pas activé les belles URL ","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2014-12-26T11:35:28.000Z","created_by":1,"updated_at":"2014-12-26T11:43:22.000Z","updated_by":1,"published_at":"2014-12-26T11:35:28.000Z","published_by":1},{"id":79,"uuid":"ae40064d-1548-4d9e-9a5a-58f7eabc3a9c","title":"Bonne et heureuse année 2015 !","slug":"bonne-et-heureuse-annee-2015","markdown":"\nChers lecteurs, cela fait plus de 3 mois que le site a vu le jour et il est déjà temps de vous souhaiter une bonne et heureuse année 2015 !!\n\nJe vous souhaite donc à tous, vous mes lecteurs connus ou anonymes, une année chargée en succès, bonheur, amour et prospérité !\n\nJe vous souhaite également la meilleur santé possible, c’est quelque chose dont on s’aperçoit de la valeur inestimable que lorsqu’on la perd …\n\n \n\nPour que cette année soit encore plus geek que la précédente, je vous propose un petit code en Python pour envoyer vos e-cartes de vœux ! A vos claviers ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n# -*- coding: utf-8 -*- import sys def happyNewYear(prenom): print \"\" print \" . . ,\" print \" o. .o/ |\" print \" .---. / /|\" print \" \\~~~/'---+ \" print \" \\ / \\ \" print \" | PING! \\-.\" print \" | |/\" print \" /_\\ \" print \"\" print \" ##### ### # #######\" print \" # # # # ## #\" print \" # # # # # # #\" print \" ##### # # # # #####\" print \" # # # # # #\" print \" # # # # # #\" print \" ####### ### ##### #####\" print \"==============================================================\" print prenom,\", je vous souhaite une très belle année 2015 !\" print \"Qu'elle soit bordée de réussites, parsemée de bonnes nouvelles et\" print \"délicatement saupoudrée de délicieux moments.\" print \"\" print \"Laissez reposer 15 minutes et voilà une année à dévorer à pleines dents.\" print \"==============================================================\" print \"\" happyNewYear(sys.argv[1])\n\n \n\nEt vous pourrez même envoyer vos e-cartes geeks par mail ! Dingue non !?! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\npython happy_new_year.py 'Mes lecteurs' | mail -a \"Content-Type: text/plain; charset=UTF-8\" \\ -s 'Bonne année 2015 !' destinataire@mail.fr\n\n \n\n \n\n\n","html":"<p>Chers lecteurs, cela fait plus de 3 mois que le site a vu le jour et il est déjà temps de vous souhaiter une bonne et heureuse année 2015 !!</p>\n\n<p>Je vous souhaite donc à tous, vous mes lecteurs connus ou anonymes, une année chargée en succès, bonheur, amour et prospérité !</p>\n\n<p>Je vous souhaite également la meilleur santé possible, c’est quelque chose dont on s’aperçoit de la valeur inestimable que lorsqu’on la perd …</p>\n\n<p>Pour que cette année soit encore plus geek que la précédente, je vous propose un petit code en Python pour envoyer vos e-cartes de vœux ! A vos claviers ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<h1 id=\"codingutf8importsysdefhappynewyearprenomprintprintprintooprintprinttttprintprintpingprintprint_printprintprintprintprintprintprintprintprintprintprenomjevoussouhaiteunetrsbelleanne2015printquellesoitbordederussitesparsemedebonnesnouvellesetprintdlicatementsaupoudrededlicieuxmomentsprintprintlaissezreposer15minutesetvoiluneannedvorerpleinesdentsprintprinthappynewyearsysargv1\">-<em>- coding: utf-8 -</em>- import sys def happyNewYear(prenom): print \"\" print \" . . ,\" print \" o. .o/ |\" print \" .---. / /|\" print \" ~~~/'---+ \" print \" \\ / \\ \" print \" | PING! -.\" print \" | |/\" print \" /_\\ \" print \"\" print \" ##### ### # #######\" print \" # # # # ## #\" print \" # # # # # # #\" print \" ##### # # # # #####\" print \" # # # # # #\" print \" # # # # # #\" print \" ####### ### ##### #####\" print \"============================================================<mark>\" print prenom,\", je vous souhaite une très belle année 2015 !\" print \"Qu'elle soit bordée de réussites, parsemée de bonnes nouvelles et\" print \"délicatement saupoudrée de délicieux moments.\" print \"\" print \"Laissez reposer 15 minutes et voilà une année à dévorer à pleines dents.\" print \"</mark>============================================================\" print \"\" happyNewYear(sys.argv[1])</h1>\n\n<p>Et vous pourrez même envoyer vos e-cartes geeks par mail ! Dingue non !?! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>python happy<em>new</em>year.py 'Mes lecteurs' | mail -a \"Content-Type: text/plain; charset=UTF-8\" \\ -s 'Bonne année 2015 !' destinataire@mail.fr</p>","image":"http://blog.techan.fr/images/2015/01/happy_new_year_by_clwoods.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-01T00:00:07.000Z","created_by":1,"updated_at":"2015-01-07T11:34:06.000Z","updated_by":1,"published_at":"2015-01-01T00:00:07.000Z","published_by":1},{"id":80,"uuid":"824e5391-dbf1-4836-9435-ad7da500feb3","title":"Bons plans à gogo","slug":"bons-plans-a-gogo","markdown":"\nJe tenais à vous faire découvrir [Dealabs](https://www.dealabs.com), un site qui propose des bons plans à gogo ! Depuis quelques temps, c’est devenu un de mes sites favoris. Avant un achat, je vérifie sur le site qu’il n’y ai pas un bon plan, ce qui est souvent le cas ! Le denier exemple en date, 12% de réduction sur une smartbox, ça fait plaisir ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)  \n  \n Ce site fonctionne grâce à sa communauté, des gens comme vous et moi reçoivent des codes promo, trouvent des bons plans en magasin, des bonnes affaires sur l’internet multimédia et les proposent sur le site. Un site de vote permet d’augmenter ou diminuer le score d’un deal, cela permet de voir tout de suite les vraies bonnes affaires !\n\nVoici quelques exemples de deals ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n[![Bons plans à gogo !](https://techan.fr/images/2015/01/deal_1.png)](https://techan.fr/images/2015/01/deal_1.png) [![Bons plans à gogo !](https://techan.fr/images/2015/01/deal_2.png)](https://techan.fr/images/2015/01/deal_2.png) [![Bons plans à gogo !](https://techan.fr/images/2015/01/deal_3.png)](https://techan.fr/images/2015/01/deal_3.png)\n\nLes deals portent sur n’importe quel domaine, que ce soit du High Tech, de l’alimentaire, des produits hygiéniques, des billets de trains, tout y passe. Ces bons plans peuvent être valables sur les sites de e-commerce ou en magasin, dans ce dernier cas, il faut bien vérifier la localisation du magasin qui propose la promotion.\n\n \n\n\n## Soyez encore plus malin avec les alertes !\n\nDepuis quelque temps il est possible de créer des alertes afin de recevoir directement par mail les bons plans qui nous intéresse le plus. Voici par exemple une alerte que j’ai créée afin de trouver un NAS Synology pas trop cher.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_640\" style=\"width: 259px\">[![Dealabs, créer une alerte](https://techan.fr/images/2015/01/dealabs_creer_alerte.png)](https://techan.fr/images/2015/01/dealabs_creer_alerte.png)Dealabs, créer une alerte\n\n</div>\n## Encore plus de bons plans à gogo\n\nPour encore plus de profits, j’utilise [iGraal](http://fr.igraal.com/). C’est un site sur lequel, une fois que vous aurez créé un compte, vous serons proposés des cashback sur pas mal de sites. Un cashback, c’est une partie de la somme dépensée sur le site qui vous ai rendue, cool non ? ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nAlors, comment ça ce passe ? C’est pas très compliqué, le plus simple est d’utiliser l’extension pour Firefox, ou votre navigateur habituel. Dans ce cas, lorsque vous arrivez sur un site pour lequel il y a des cashback, il s’active automatiquement. Une fois votre commande passée avec le cashback activé, votre compte iGrall va être crédité du montant de ce cashback. Une fois que ces sommes seront validées, ça peut prendre un peu de temps, vous pourrez les récupérer sur votre compte Paypal, il faut toute fois que le montant soit au moins 20€.\n\nVoici une exemple, très loin d’être exhaustif, des marchands présents sur iGraal.\n\n[![Bons plans à gogo !](https://techan.fr/images/2015/01/igraal_marchands.png)](https://techan.fr/images/2015/01/igraal_marchands.png)\n\nPour couronner le tout, iGraal vous offre 3€ lors de votre [inscription](http://fr.igraal.com/#parrain=MrRpah_), alors courez profiter de ces bons plans à gogo !!! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nSi vous avez envie de me remercier pour toutes ces astuces, inscrivez-vous sur iGraal en suivant le lien ci dessous, j’aurais l’honneur d’être votre parrain ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n[Inscription sur iGraal avec mon parrainage ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)](http://fr.igraal.com/#parrain=MrRpah_)\n\n\n","html":"<p>Je tenais à vous faire découvrir <a href=\"https://www.dealabs.com\">Dealabs</a>, un site qui propose des bons plans à gogo ! Depuis quelques temps, c’est devenu un de mes sites favoris. Avant un achat, je vérifie sur le site qu’il n’y ai pas un bon plan, ce qui est souvent le cas ! Le denier exemple en date, 12% de réduction sur une smartbox, ça fait plaisir ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" />  </p>\n\n<p>Ce site fonctionne grâce à sa communauté, des gens comme vous et moi reçoivent des codes promo, trouvent des bons plans en magasin, des bonnes affaires sur l’internet multimédia et les proposent sur le site. Un site de vote permet d’augmenter ou diminuer le score d’un deal, cela permet de voir tout de suite les vraies bonnes affaires !</p>\n\n<p>Voici quelques exemples de deals <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p><a href=\"https://techan.fr/images/2015/01/deal_1.png\"><img src=\"https://techan.fr/images/2015/01/deal_1.png\" alt=\"Bons plans à gogo !\" title=\"\" /></a> <a href=\"https://techan.fr/images/2015/01/deal_2.png\"><img src=\"https://techan.fr/images/2015/01/deal_2.png\" alt=\"Bons plans à gogo !\" title=\"\" /></a> <a href=\"https://techan.fr/images/2015/01/deal_3.png\"><img src=\"https://techan.fr/images/2015/01/deal_3.png\" alt=\"Bons plans à gogo !\" title=\"\" /></a></p>\n\n<p>Les deals portent sur n’importe quel domaine, que ce soit du High Tech, de l’alimentaire, des produits hygiéniques, des billets de trains, tout y passe. Ces bons plans peuvent être valables sur les sites de e-commerce ou en magasin, dans ce dernier cas, il faut bien vérifier la localisation du magasin qui propose la promotion.</p>\n\n<h2 id=\"soyezencoreplusmalinaveclesalertes\">Soyez encore plus malin avec les alertes !</h2>\n\n<p>Depuis quelque temps il est possible de créer des alertes afin de recevoir directement par mail les bons plans qui nous intéresse le plus. Voici par exemple une alerte que j’ai créée afin de trouver un NAS Synology pas trop cher.</p>\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_640\" style=\"width: 259px\">[![Dealabs, créer une alerte](https://techan.fr/images/2015/01/dealabs_creer_alerte.png)](https://techan.fr/images/2015/01/dealabs_creer_alerte.png)Dealabs, créer une alerte\n\n</div>  \n\n<h2 id=\"encoreplusdebonsplansgogo\">Encore plus de bons plans à gogo</h2>\n\n<p>Pour encore plus de profits, j’utilise <a href=\"http://fr.igraal.com/\">iGraal</a>. C’est un site sur lequel, une fois que vous aurez créé un compte, vous serons proposés des cashback sur pas mal de sites. Un cashback, c’est une partie de la somme dépensée sur le site qui vous ai rendue, cool non ? <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>Alors, comment ça ce passe ? C’est pas très compliqué, le plus simple est d’utiliser l’extension pour Firefox, ou votre navigateur habituel. Dans ce cas, lorsque vous arrivez sur un site pour lequel il y a des cashback, il s’active automatiquement. Une fois votre commande passée avec le cashback activé, votre compte iGrall va être crédité du montant de ce cashback. Une fois que ces sommes seront validées, ça peut prendre un peu de temps, vous pourrez les récupérer sur votre compte Paypal, il faut toute fois que le montant soit au moins 20€.</p>\n\n<p>Voici une exemple, très loin d’être exhaustif, des marchands présents sur iGraal.</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/igraal_marchands.png\"><img src=\"https://techan.fr/images/2015/01/igraal_marchands.png\" alt=\"Bons plans à gogo !\" title=\"\" /></a></p>\n\n<p>Pour couronner le tout, iGraal vous offre 3€ lors de votre <a href=\"http://fr.igraal.com/#parrain=MrRpah_\">inscription</a>, alors courez profiter de ces bons plans à gogo !!! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>Si vous avez envie de me remercier pour toutes ces astuces, inscrivez-vous sur iGraal en suivant le lien ci dessous, j’aurais l’honneur d’être votre parrain ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p><a href=\"http://fr.igraal.com/#parrain=MrRpah_\">Inscription sur iGraal avec mon parrainage <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></a></p>","image":"http://blog.techan.fr/images/2015/01/MMA-Cochon-tirelire.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-07T11:03:17.000Z","created_by":1,"updated_at":"2015-04-27T08:34:43.000Z","updated_by":1,"published_at":"2015-01-07T11:03:17.000Z","published_by":1},{"id":81,"uuid":"fdd0b317-45de-43cc-9837-11e01ffc3fa0","title":"Blog en deuil","slug":"blog-en-deuil","markdown":"\nEn ce jour de deuil national, je tenais a adresser toutes mes condoléances aux familles des journalistes et dessinateurs décédés hier dans l’attentat du journal « Charlie Hebdo ». Cet acte ignoble laisse la France et le monde entier choqués, blessés et tristes.\n\nCes ignobles conards, désolé je n’ai pas trouvé d’autre mots plus appropriés, on frappé « Charlie Hebdo » en plein cœur mais c’est un peu comme s’ils avaient attaqué chacun de nous tous. Que l’on soit d’accord ou non avec les idées de « Charlie Hebdo », qu’on lise ou non ce journal, c’est un pilier de la presse Française qui a été assassiné. Par leurs dessins, les gens qui faisaient vivre cet hebdomadaire nous distillaient leur vision de l’actualité, à travers le filtre de l’humour.\n\nChaque journal, chaque journaliste, qu’ils soient d’investigation, économique, humoristique, satirique, est important. Ils sont les garants de notre liberté d’expression, de notre indépendance, de notre libre arbitre et dans un sens de notre démocratie.\n\nJe n’étais pas un lecteur de « Charlie Hebdo » même si j’aime ce journal en premier lieu pour dessins et caricatures qui le caractérisaient, cependant j’ai été choqué hier à midi quand j’ai appris l’attaque. J’ai passé l’après midi avec France Info dans les oreilles pour tenter de comprendre ce qu’il se passait. J’étais triste en apprenant que les grands noms du journal étaient décédés et encore aujourd’hui, cela me fait bizarre de me dire qu’on ne verra plus leur signature sur un dessin, ni dans « On est pas couché ».\n\nMais je voulais faire quelques chose, à mon niveau, donc hier, presque naturellement, je me suis abonné à « Charlie Hebdo » pour soutenir ce titre et qu’il perdure malgré l’horreur ! Je me suis demandé longtemps si j’allais faire un article, et j’en ai finalement écrit un pour contribuer à mon niveau à l’unité nationale qui se manifeste en ces heures tragiques. Philippe Val, ancien directeur de « Charlie Hebdo » disait hier soir dans un témoignage poignant :\n\n> J’ai perdu tous mes amis\n> \n> **Philippe Val**\n\nIl est bon de voir que notre nation est toujours capable de faire bloc contre l’horreur, l’injustice, la bêtise. Tout ces rassemblements, dessins, témoignages qui ont eu lieu depuis hier sont de magnifiques signes de la force de notre nation et un énorme bras d’honneur aux conards (toujours pas de meilleur mot) qui pensaient nous imposer leurs idées en perpétrant ce crime.\n\nAujourd’hui, je suis triste, j’ai l’impression comme Philippe Val d’avoir perdu des amis …\n\nAlors aujourd’hui, JE SUIS CHARLIE !\n\n[![Je suis Charlie](https://techan.fr/images/2015/01/je_suis_charlie.jpg)](https://techan.fr/images/2015/01/je_suis_charlie.jpg)\n\n\n","html":"<p>En ce jour de deuil national, je tenais a adresser toutes mes condoléances aux familles des journalistes et dessinateurs décédés hier dans l’attentat du journal « Charlie Hebdo ». Cet acte ignoble laisse la France et le monde entier choqués, blessés et tristes.</p>\n\n<p>Ces ignobles conards, désolé je n’ai pas trouvé d’autre mots plus appropriés, on frappé « Charlie Hebdo » en plein cœur mais c’est un peu comme s’ils avaient attaqué chacun de nous tous. Que l’on soit d’accord ou non avec les idées de « Charlie Hebdo », qu’on lise ou non ce journal, c’est un pilier de la presse Française qui a été assassiné. Par leurs dessins, les gens qui faisaient vivre cet hebdomadaire nous distillaient leur vision de l’actualité, à travers le filtre de l’humour.</p>\n\n<p>Chaque journal, chaque journaliste, qu’ils soient d’investigation, économique, humoristique, satirique, est important. Ils sont les garants de notre liberté d’expression, de notre indépendance, de notre libre arbitre et dans un sens de notre démocratie.</p>\n\n<p>Je n’étais pas un lecteur de « Charlie Hebdo » même si j’aime ce journal en premier lieu pour dessins et caricatures qui le caractérisaient, cependant j’ai été choqué hier à midi quand j’ai appris l’attaque. J’ai passé l’après midi avec France Info dans les oreilles pour tenter de comprendre ce qu’il se passait. J’étais triste en apprenant que les grands noms du journal étaient décédés et encore aujourd’hui, cela me fait bizarre de me dire qu’on ne verra plus leur signature sur un dessin, ni dans « On est pas couché ».</p>\n\n<p>Mais je voulais faire quelques chose, à mon niveau, donc hier, presque naturellement, je me suis abonné à « Charlie Hebdo » pour soutenir ce titre et qu’il perdure malgré l’horreur ! Je me suis demandé longtemps si j’allais faire un article, et j’en ai finalement écrit un pour contribuer à mon niveau à l’unité nationale qui se manifeste en ces heures tragiques. Philippe Val, ancien directeur de « Charlie Hebdo » disait hier soir dans un témoignage poignant :</p>\n\n<blockquote>\n  <p>J’ai perdu tous mes amis</p>\n  \n  <p><strong>Philippe Val</strong></p>\n</blockquote>\n\n<p>Il est bon de voir que notre nation est toujours capable de faire bloc contre l’horreur, l’injustice, la bêtise. Tout ces rassemblements, dessins, témoignages qui ont eu lieu depuis hier sont de magnifiques signes de la force de notre nation et un énorme bras d’honneur aux conards (toujours pas de meilleur mot) qui pensaient nous imposer leurs idées en perpétrant ce crime.</p>\n\n<p>Aujourd’hui, je suis triste, j’ai l’impression comme Philippe Val d’avoir perdu des amis …</p>\n\n<p>Alors aujourd’hui, JE SUIS CHARLIE !</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/je_suis_charlie.jpg\"><img src=\"https://techan.fr/images/2015/01/je_suis_charlie.jpg\" alt=\"Je suis Charlie\" title=\"\" /></a></p>","image":"http://blog.techan.fr/images/2015/01/je_suis_charlie.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-08T11:41:43.000Z","created_by":1,"updated_at":"2015-01-12T11:09:29.000Z","updated_by":1,"published_at":"2015-01-08T11:41:43.000Z","published_by":1},{"id":82,"uuid":"f2451778-3bd9-4b10-9753-a8ad0d87f508","title":"Le rêve de Nicolas","slug":"le-reve-de-nicolas","markdown":"\nLe 3 octobre 2014 nous apprenions que mon beau frère Nicolas est atteint d’une forme aigüe de leucémie, une maladie grave contre laquelle il lutte avec beaucoup de courage, subissant les effets secondaires de la chimiothérapie. Cette dernière a été mise en place à haute dose pour stopper la progression du cancer. Malheureusement il y a maintenant presque deux mois, ce remède a très gravement dégradé son pancréas ce qui l’a cloué au lit avec de très violentes douleurs. Malgré tout cela il s’est battu, presque héroïquement. Aujourd’hui la douleur est partie, mais la chimiothérapie est toujours interrompue jusqu’à la fin de ces complications.\n\nIl va sans dire que son traitement lourd et son hospitalisation lui procurent beaucoup d’inquiétudes pour ses études également. Il a déjà fait un trait sur son année de seconde et espère de tout cœur pouvoir recommencer cette année d’étude dans la vente en septembre prochain.\n\nDepuis le début de cette maladie, je le vois grandir, murir, il n’est plus le jeune adolescent insouciant que j’ai connu il y a maintenant presque deux ans. Nicolas est la joie de vivre incarnée, et même s’il retrouve le sourire ses derniers jours avec l’amélioration de son état de santé, je n’ai qu’un souhait, retrouver le Nicolas d’avant. Je souhaite également cela pour sa famille (sa maman et sa sœur), elles pourront enfin souffler et retrouver l’espoir, l’optimisme, le moral et l’envie d’avancer. Je n’ai qu’une envie c’est de le revoir faire des choses de son âge, sortir avec ses potes, aimer, faire des bêtises (un petit peu mais il en faut aussi :p),  être un adolescent quoi…\n\nLe plus grand rêve de Nicolas est de pouvoir, un jour, visiter New York. Hélas, nous ne pouvons le lui financer seuls. C’est pour cela que sa sœur a lancer une collecte ouverte afin de collecter les fonds nécessaires à acheter les billets d’avions, l’hébergement sur place pendant une à deux semaines et au visites et activités sur place. Étant donné son état de santé et son jeune âge, il faudra au moins un accompagnateur. Cette bouffée d’oxygène lui permettra d’oublier sa maladie pendant quelques jours.\n\nSi vous souhaitez participer vous trouverez en bas de cet article le lien vers la collecte de fonds ainsi que celui vers la page FaceBook créée pour l’occasion, si vous ne pouvez pas participer financièrement mais que vous souhaiter tout de même nous aider, partagez ces pages, parlez en autours de vous ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nNicolas n’est pas au courant de cette initiative, cela sera une surprise pour lui, ainsi si vous êtes en contact avec lui, ne lui en parlez pas, et si vous l’avez sur FaceBook, excluez le de vos publications à ce sujet, merci pour ça ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n### \n\n### [Mise à jour : 16/01/2015]\n\nUn blog a vu le jour afin de vous faire suivre la campagne au plus près, vous trouverez le lien vers ce blog en bas de la page, ou en cliquant [ici](http://le-reve-de-mon-frere.aldanet.fr/).\n\n \n\n### Les liens\n\n[La collecte de fonds se passe par ici.](https://www.leetchi.com/c/le-reve-de-nicolas)\n\n[La page FaceBook, c’est là.](https://www.facebook.com/pages/Le-r%C3%AAve-de-mon-fr%C3%A8re/787220887999074)\n\n[Le blog c’est par ici.](http://le-reve-de-mon-frere.aldanet.fr/)\n\n\n","html":"<p>Le 3 octobre 2014 nous apprenions que mon beau frère Nicolas est atteint d’une forme aigüe de leucémie, une maladie grave contre laquelle il lutte avec beaucoup de courage, subissant les effets secondaires de la chimiothérapie. Cette dernière a été mise en place à haute dose pour stopper la progression du cancer. Malheureusement il y a maintenant presque deux mois, ce remède a très gravement dégradé son pancréas ce qui l’a cloué au lit avec de très violentes douleurs. Malgré tout cela il s’est battu, presque héroïquement. Aujourd’hui la douleur est partie, mais la chimiothérapie est toujours interrompue jusqu’à la fin de ces complications.</p>\n\n<p>Il va sans dire que son traitement lourd et son hospitalisation lui procurent beaucoup d’inquiétudes pour ses études également. Il a déjà fait un trait sur son année de seconde et espère de tout cœur pouvoir recommencer cette année d’étude dans la vente en septembre prochain.</p>\n\n<p>Depuis le début de cette maladie, je le vois grandir, murir, il n’est plus le jeune adolescent insouciant que j’ai connu il y a maintenant presque deux ans. Nicolas est la joie de vivre incarnée, et même s’il retrouve le sourire ses derniers jours avec l’amélioration de son état de santé, je n’ai qu’un souhait, retrouver le Nicolas d’avant. Je souhaite également cela pour sa famille (sa maman et sa sœur), elles pourront enfin souffler et retrouver l’espoir, l’optimisme, le moral et l’envie d’avancer. Je n’ai qu’une envie c’est de le revoir faire des choses de son âge, sortir avec ses potes, aimer, faire des bêtises (un petit peu mais il en faut aussi :p),  être un adolescent quoi…</p>\n\n<p>Le plus grand rêve de Nicolas est de pouvoir, un jour, visiter New York. Hélas, nous ne pouvons le lui financer seuls. C’est pour cela que sa sœur a lancer une collecte ouverte afin de collecter les fonds nécessaires à acheter les billets d’avions, l’hébergement sur place pendant une à deux semaines et au visites et activités sur place. Étant donné son état de santé et son jeune âge, il faudra au moins un accompagnateur. Cette bouffée d’oxygène lui permettra d’oublier sa maladie pendant quelques jours.</p>\n\n<p>Si vous souhaitez participer vous trouverez en bas de cet article le lien vers la collecte de fonds ainsi que celui vers la page FaceBook créée pour l’occasion, si vous ne pouvez pas participer financièrement mais que vous souhaiter tout de même nous aider, partagez ces pages, parlez en autours de vous <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>Nicolas n’est pas au courant de cette initiative, cela sera une surprise pour lui, ainsi si vous êtes en contact avec lui, ne lui en parlez pas, et si vous l’avez sur FaceBook, excluez le de vos publications à ce sujet, merci pour ça <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<h3 id=\"\"> </h3>\n\n<h3 id=\"misejour16012015\">[Mise à jour : 16/01/2015]</h3>\n\n<p>Un blog a vu le jour afin de vous faire suivre la campagne au plus près, vous trouverez le lien vers ce blog en bas de la page, ou en cliquant <a href=\"http://le-reve-de-mon-frere.aldanet.fr/\">ici</a>.</p>\n\n<h3 id=\"lesliens\">Les liens</h3>\n\n<p><a href=\"https://www.leetchi.com/c/le-reve-de-nicolas\">La collecte de fonds se passe par ici.</a></p>\n\n<p><a href=\"https://www.facebook.com/pages/Le-r%C3%AAve-de-mon-fr%C3%A8re/787220887999074\">La page FaceBook, c’est là.</a></p>\n\n<p><a href=\"http://le-reve-de-mon-frere.aldanet.fr/\">Le blog c’est par ici.</a></p>","image":"http://blog.techan.fr/images/2015/01/safe_image.php_.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-09T16:53:56.000Z","created_by":1,"updated_at":"2015-02-23T12:14:02.000Z","updated_by":1,"published_at":"2015-01-09T16:53:56.000Z","published_by":1},{"id":83,"uuid":"2eabb6e5-ca53-4039-98c4-5d907e937fb8","title":"Que faire contre les contenus illicites sur Internet ?","slug":"forpressyncpreview","markdown":"\nQuelques jours après les évènements tragiques qui se sont passés dans les locaux de *Charlie Hebdo* et dans un supermarché cacher, il me paraissait important de faire un article visant à informer le plus grand nombre sur les moyens qui existent pour signaler les contenus qui n’ont rien à faire sur Internet. Sachez tout d’abord qu’il existe plusieurs moyens d’agir à notre échelle afin de lutter contre les sites et/ou les gens qui diffusent sur Internet des contenus incitant à la haine, à commettre des actes illicites, etc … Ces moyens sont mis en places par les sites eux-mêmes ou par l’État Français.\n\n\n## Les moyens mis en place par les sites et les réseaux sociaux\n\nJe vais commencer par les plus évidents, ceux qui sont mis en place par les sites. Sur les réseaux sociaux, les plateformes d’hébergement de vidéos et la plus part des forums et autres sites, il existe un moyen de signaler des contenus qui ne vous paraissent pas appropriés. Ces signalements sont ensuite épluchés par des algorithmes très poussés et/ou des équipes de modérateurs dont le rôle est de proposer à tous les monde la meilleur expérience possible et saine sur leur site.\n\nC’est ainsi que FaceBook et Twitter ferment quantité de compte qui enfreignent leur charte ou les lois. Dans certains cas, vous pourrez spécifier la raison du signalement que vous faites, ceci permet aux personnes qui vont étudier votre requête d’avoir le plus d’informations à leur disposition pour juger du bien fondé de la demande. Il va sans dire que plus il y a de signalements pour un contenu, plus il va être étudier sérieusement.\n\n\n## Pour l’État Français aussi, vos signalement comptent !\n\nDepuis 2009, l’État Français a mis en place la Plateforme d’harmonisation, d’analyse, de recoupement et d’orientation des signalements (Pharos), cette plateforme est accessible ici : [internet-signalement.gouv.fr](https://internet-signalement.gouv.fr). Depuis sa mise en place, cette plateforme n’arrête pas de battre ses records de signalements reçus, preuve que les gens sont de plus en plus conscient de son existence.\n\n[![IMG_9195.PNG](https://techan.fr/images/2015/01/IMG_9195.png)](https://techan.fr/images/2015/01/IMG_9195.png)\n\nDerrière PHAROS, intégrée à l’Office central de lutte contre la criminalité liée aux technologies de l’information et de la communication (OCLCTIC), toutes une équipe de cyberflics épluchent les signalements, les catégorisent par ordre de priorité, enquêtent, transmettent ces données aux services les plus compétents pour les traiter.\n\nCe qu’il faut savoir avant de signaler quelque chose sur la PHAROS :\n\n> **Que puis-je signaler ?**\n> \n> - Il doit s’agir d’un contenu ou d’un comportement illicite, c’est-à-dire qu’il doit être interdit et puni par une loi française. Les contenus ou comportements que vous jugez simplement immoraux ou nuisibles n’ont pas à nous être signalés.\n> - Il doit s’agir d’un contenu public de l’Internet, auquel tout internaute peut se retrouver confronté : site internet, blog, forum, propos sur un « tchat », agissement d’un « rôdeur » anonyme sur une messagerie, etc.\n> - Il ne doit pas s’agir d’une affaire privée avec une personne que vous connaissez, même si elle utilise Internet pour vous nuire. Dans ce cas, présentez-vous dans un Commissariat de Police ou une Brigade de Gendarmerie.\n> - Il ne doit en aucun cas s’agir d’une urgence nécessitant l’intervention de service de secours (accident, incendie, agression, etc.) Dans ce cas, il faut composer le « 17 » sur votre téléphone.\n> \n> **Source : **[www.police-nationale.interieur.gouv.fr](http://www.police-nationale.interieur.gouv.fr/Actualites/L-actu-police/Plateforme-Signalement-sur-Internet)\n\nLe 28 décembre 2014, un arrêté a été publié autorisant la Direction Générale de la Sécurité Intérieure à accéder aux signalements envoyés à la PHAROS. Cette plateforme , on l’a vu, rassemble les signalements d’infractions en ligne, notamment « apologie de terrorisme », c’est cette dernière qui intéresse particulièrement la DGSI.\n\nAller, dernier conseil, soyez les plus précis possible, cela permettra sans aucun doute aux personnes qui liront vos signalements de gagner un temps précieux en cherchant moins d’informations à côté ! ","html":"<p>Quelques jours après les évènements tragiques qui se sont passés dans les locaux de <em>Charlie Hebdo</em> et dans un supermarché cacher, il me paraissait important de faire un article visant à informer le plus grand nombre sur les moyens qui existent pour signaler les contenus qui n’ont rien à faire sur Internet. Sachez tout d’abord qu’il existe plusieurs moyens d’agir à notre échelle afin de lutter contre les sites et/ou les gens qui diffusent sur Internet des contenus incitant à la haine, à commettre des actes illicites, etc … Ces moyens sont mis en places par les sites eux-mêmes ou par l’État Français.</p>\n\n<h2 id=\"lesmoyensmisenplaceparlessitesetlesrseauxsociaux\">Les moyens mis en place par les sites et les réseaux sociaux</h2>\n\n<p>Je vais commencer par les plus évidents, ceux qui sont mis en place par les sites. Sur les réseaux sociaux, les plateformes d’hébergement de vidéos et la plus part des forums et autres sites, il existe un moyen de signaler des contenus qui ne vous paraissent pas appropriés. Ces signalements sont ensuite épluchés par des algorithmes très poussés et/ou des équipes de modérateurs dont le rôle est de proposer à tous les monde la meilleur expérience possible et saine sur leur site.</p>\n\n<p>C’est ainsi que FaceBook et Twitter ferment quantité de compte qui enfreignent leur charte ou les lois. Dans certains cas, vous pourrez spécifier la raison du signalement que vous faites, ceci permet aux personnes qui vont étudier votre requête d’avoir le plus d’informations à leur disposition pour juger du bien fondé de la demande. Il va sans dire que plus il y a de signalements pour un contenu, plus il va être étudier sérieusement.</p>\n\n<h2 id=\"pourltatfranaisaussivossignalementcomptent\">Pour l’État Français aussi, vos signalement comptent !</h2>\n\n<p>Depuis 2009, l’État Français a mis en place la Plateforme d’harmonisation, d’analyse, de recoupement et d’orientation des signalements (Pharos), cette plateforme est accessible ici : <a href=\"https://internet-signalement.gouv.fr\">internet-signalement.gouv.fr</a>. Depuis sa mise en place, cette plateforme n’arrête pas de battre ses records de signalements reçus, preuve que les gens sont de plus en plus conscient de son existence.</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/IMG_9195.png\"><img src=\"https://techan.fr/images/2015/01/IMG_9195.png\" alt=\"IMG_9195.PNG\" title=\"\" /></a></p>\n\n<p>Derrière PHAROS, intégrée à l’Office central de lutte contre la criminalité liée aux technologies de l’information et de la communication (OCLCTIC), toutes une équipe de cyberflics épluchent les signalements, les catégorisent par ordre de priorité, enquêtent, transmettent ces données aux services les plus compétents pour les traiter.</p>\n\n<p>Ce qu’il faut savoir avant de signaler quelque chose sur la PHAROS :</p>\n\n<blockquote>\n  <p><strong>Que puis-je signaler ?</strong></p>\n  \n  <ul>\n  <li>Il doit s’agir d’un contenu ou d’un comportement illicite, c’est-à-dire qu’il doit être interdit et puni par une loi française. Les contenus ou comportements que vous jugez simplement immoraux ou nuisibles n’ont pas à nous être signalés.</li>\n  <li>Il doit s’agir d’un contenu public de l’Internet, auquel tout internaute peut se retrouver confronté : site internet, blog, forum, propos sur un « tchat », agissement d’un « rôdeur » anonyme sur une messagerie, etc.</li>\n  <li>Il ne doit pas s’agir d’une affaire privée avec une personne que vous connaissez, même si elle utilise Internet pour vous nuire. Dans ce cas, présentez-vous dans un Commissariat de Police ou une Brigade de Gendarmerie.</li>\n  <li>Il ne doit en aucun cas s’agir d’une urgence nécessitant l’intervention de service de secours (accident, incendie, agression, etc.) Dans ce cas, il faut composer le « 17 » sur votre téléphone.</li>\n  </ul>\n  \n  <p><em>*Source : *</em><a href=\"http://www.police-nationale.interieur.gouv.fr/Actualites/L-actu-police/Plateforme-Signalement-sur-Internet\">www.police-nationale.interieur.gouv.fr</a></p>\n</blockquote>\n\n<p>Le 28 décembre 2014, un arrêté a été publié autorisant la Direction Générale de la Sécurité Intérieure à accéder aux signalements envoyés à la PHAROS. Cette plateforme , on l’a vu, rassemble les signalements d’infractions en ligne, notamment « apologie de terrorisme », c’est cette dernière qui intéresse particulièrement la DGSI.</p>\n\n<p>Aller, dernier conseil, soyez les plus précis possible, cela permettra sans aucun doute aux personnes qui liront vos signalements de gagner un temps précieux en cherchant moins d’informations à côté ! ","image":"http://blog.techan.fr/images/2015/01/IMG_9194.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-10T02:00:00.000Z","created_by":1,"updated_at":"2015-11-17T16:11:23.000Z","updated_by":1,"published_at":"2015-01-10T02:00:00.000Z","published_by":1},{"id":84,"uuid":"ce48a821-48df-4b1a-8e35-01852b35b891","title":"Déplacer un disque spécifique avec Storage vMotion","slug":"deplacer-un-disque-specifique-avec-storage-vmotion","markdown":"\nDans certains cas, il est nécessaire de déplacer une VM d’un DataSotre vers un autre, cela fonctionne très bien et facilement avec Storage vMotion. Cependant, il est parfois nécessaire de déplacer un disque spécifique avec Storage vMotion, sur une VM volumineuse par exemple.\n\nCeci est possible par la même interface que le Sorage vMotion classique, il y a juste une petite astuce a connaitre.\n\nComme pour faire un Storage vMotion, cliquer droit sur la VM et choisir « Migrate ».\n\n[![Déplacer un disque spécifique avec Storage vMotion](https://techan.fr/images/2015/01/right_click.png)](https://techan.fr/images/2015/01/right_click.png)\n\nChoisir, « Change datastore ».  \n  \n[![Déplacer un disque spécifique avec Storage vMotion](https://techan.fr/images/2015/01/vmotion_1.png)](https://techan.fr/images/2015/01/vmotion_1.png)\n\nC’est dans cet ecran que l’astuce réside, au lieu de sélectionner un datastore comme d’habitude, cliquer sur « Advanced ».\n\n[![Déplacer un disque spécifique avec Storage vMotion](https://techan.fr/images/2015/01/vmotion_2.png)](https://techan.fr/images/2015/01/vmotion_2.png)\n\nUn nouvel écran apparait alors listant les différents fichiers composant la VM (configuration et disques de données). Vous pouvez ici choisir une destination personnalisée pour chacun de ces fichiers.\n\n[![Déplacer un disque spécifique avec Storage vMotion](https://techan.fr/images/2015/01/vmotion_3.png)](https://techan.fr/images/2015/01/vmotion_3.png)\n\nUne fois vos modifications faites, validez le formulaire. Un récapitulatif détaillé s’affiche, cliquez sur « Finish » et la migration commence.\n\n[![Déplacer un disque spécifique avec Storage vMotion](https://techan.fr/images/2015/01/vmotion_5.png)](https://techan.fr/images/2015/01/vmotion_5.png)\n\n\n","html":"<p>Dans certains cas, il est nécessaire de déplacer une VM d’un DataSotre vers un autre, cela fonctionne très bien et facilement avec Storage vMotion. Cependant, il est parfois nécessaire de déplacer un disque spécifique avec Storage vMotion, sur une VM volumineuse par exemple.</p>\n\n<p>Ceci est possible par la même interface que le Sorage vMotion classique, il y a juste une petite astuce a connaitre.</p>\n\n<p>Comme pour faire un Storage vMotion, cliquer droit sur la VM et choisir « Migrate ».</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/right_click.png\"><img src=\"https://techan.fr/images/2015/01/right_click.png\" alt=\"Déplacer un disque spécifique avec Storage vMotion\" title=\"\" /></a></p>\n\n<p>Choisir, « Change datastore ».  </p>\n\n<p><a href=\"https://techan.fr/images/2015/01/vmotion_1.png\"><img src=\"https://techan.fr/images/2015/01/vmotion_1.png\" alt=\"Déplacer un disque spécifique avec Storage vMotion\" title=\"\" /></a></p>\n\n<p>C’est dans cet ecran que l’astuce réside, au lieu de sélectionner un datastore comme d’habitude, cliquer sur « Advanced ».</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/vmotion_2.png\"><img src=\"https://techan.fr/images/2015/01/vmotion_2.png\" alt=\"Déplacer un disque spécifique avec Storage vMotion\" title=\"\" /></a></p>\n\n<p>Un nouvel écran apparait alors listant les différents fichiers composant la VM (configuration et disques de données). Vous pouvez ici choisir une destination personnalisée pour chacun de ces fichiers.</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/vmotion_3.png\"><img src=\"https://techan.fr/images/2015/01/vmotion_3.png\" alt=\"Déplacer un disque spécifique avec Storage vMotion\" title=\"\" /></a></p>\n\n<p>Une fois vos modifications faites, validez le formulaire. Un récapitulatif détaillé s’affiche, cliquez sur « Finish » et la migration commence.</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/vmotion_5.png\"><img src=\"https://techan.fr/images/2015/01/vmotion_5.png\" alt=\"Déplacer un disque spécifique avec Storage vMotion\" title=\"\" /></a></p>","image":"http://blog.techan.fr/images/2015/01/vmware_vsphere_client_high_def_icon_by_flakshack-d4o96dy.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-12T11:49:50.000Z","created_by":1,"updated_at":"2015-01-12T11:49:50.000Z","updated_by":1,"published_at":"2015-01-12T11:49:50.000Z","published_by":1},{"id":85,"uuid":"6dc8015d-67ae-4a9e-bea5-5fcbe5b7b684","title":"Que faire contre les contenus illicites sur Internet ?","slug":"que-faire-contre-les-contenus-illicites-sur-internet","markdown":"\nQuelques jours après les évènements tragiques qui se sont passés dans les locaux de *Charlie Hebdo* et dans un supermarché cacher, il me paraissait important de faire un article visant à informer le plus grand nombre sur les moyens qui existent pour signaler les contenus qui n’ont rien à faire sur Internet. Sachez tout d’abord qu’il existe plusieurs moyens d’agir à notre échelle afin de lutter contre les sites et/ou les gens qui diffusent sur Internet des contenus incitant à la haine, à commettre des actes illicites, etc … Ces moyens sont mis en places par les sites eux-mêmes ou par l’État Français.\n\n\n## Les moyens mis en place par les sites et les réseaux sociaux\n\nJe vais commencer par les plus évidents, ceux qui sont mis en place par les sites. Sur les réseaux sociaux, les plateformes d’hébergement de vidéos et la plus part des forums et autres sites, il existe un moyen de signaler des contenus qui ne vous paraissent pas appropriés. Ces signalements sont ensuite épluchés par des algorithmes très poussés et/ou des équipes de modérateurs dont le rôle est de proposer à tous les monde la meilleur expérience possible et saine sur leur site.\n\nC’est ainsi que FaceBook et Twitter ferment quantité de compte qui enfreignent leur charte ou les lois. Dans certains cas, vous pourrez spécifier la raison du signalement que vous faites, ceci permet aux personnes qui vont étudier votre requête d’avoir le plus d’informations à leur disposition pour juger du bien fondé de la demande. Il va sans dire que plus il y a de signalements pour un contenu, plus il va être étudier sérieusement.\n\n\n## Pour l’État Français aussi, vos signalement comptent !\n\nDepuis 2009, l’État Français a mis en place la Plateforme d’harmonisation, d’analyse, de recoupement et d’orientation des signalements (Pharos), cette plateforme est accessible ici : [internet-signalement.gouv.fr](https://internet-signalement.gouv.fr). Depuis sa mise en place, cette plateforme n’arrête pas de battre ses records de signalements reçus, preuve que les gens sont de plus en plus conscient de son existence.\n\n[![IMG_9195.PNG](https://techan.fr/images/2015/01/IMG_9195.png)](https://techan.fr/images/2015/01/IMG_9195.png)\n\nDerrière PHAROS, intégrée à l’Office central de lutte contre la criminalité liée aux technologies de l’information et de la communication (OCLCTIC), toutes une équipe de cyberflics épluchent les signalements, les catégorisent par ordre de priorité, enquêtent, transmettent ces données aux services les plus compétents pour les traiter.\n\nCe qu’il faut savoir avant de signaler quelque chose sur la PHAROS :\n\n> **Que puis-je signaler ?**\n> \n> \n> - Il doit s’agir d’un contenu ou d’un comportement illicite, c’est-à-dire qu’il doit être interdit et puni par une loi française. Les contenus ou comportements que vous jugez simplement immoraux ou nuisibles n’ont pas à nous être signalés.\n> - Il doit s’agir d’un contenu public de l’Internet, auquel tout internaute peut se retrouver confronté : site internet, blog, forum, propos sur un « tchat », agissement d’un « rôdeur » anonyme sur une messagerie, etc.\n> - Il ne doit pas s’agir d’une affaire privée avec une personne que vous connaissez, même si elle utilise Internet pour vous nuire. Dans ce cas, présentez-vous dans un Commissariat de Police ou une Brigade de Gendarmerie.\n> - Il ne doit en aucun cas s’agir d’une urgence nécessitant l’intervention de service de secours (accident, incendie, agression, etc.) Dans ce cas, il faut composer le « 17 » sur votre téléphone.\n> \n> **Source : **[www.police-nationale.interieur.gouv.fr](http://www.police-nationale.interieur.gouv.fr/Actualites/L-actu-police/Plateforme-Signalement-sur-Internet)\n\nLe 28 décembre 2014, un arrêté a été publié autorisant la Direction Générale de la Sécurité Intérieure à accéder aux signalements envoyés à la PHAROS. Cette plateforme , on l’a vu, rassemble les signalements d’infractions en ligne, notamment « apologie de terrorisme », c’est cette dernière qui intéresse particulièrement la DGSI.\n\nAller, dernier conseil, soyez les plus précis possible, cela permettra sans aucun doute aux personnes qui liront vos signalements de gagner un temps précieux en cherchant moins d’informations à côté ! ","html":"<p>Quelques jours après les évènements tragiques qui se sont passés dans les locaux de <em>Charlie Hebdo</em> et dans un supermarché cacher, il me paraissait important de faire un article visant à informer le plus grand nombre sur les moyens qui existent pour signaler les contenus qui n’ont rien à faire sur Internet. Sachez tout d’abord qu’il existe plusieurs moyens d’agir à notre échelle afin de lutter contre les sites et/ou les gens qui diffusent sur Internet des contenus incitant à la haine, à commettre des actes illicites, etc … Ces moyens sont mis en places par les sites eux-mêmes ou par l’État Français.</p>\n\n<h2 id=\"lesmoyensmisenplaceparlessitesetlesrseauxsociaux\">Les moyens mis en place par les sites et les réseaux sociaux</h2>\n\n<p>Je vais commencer par les plus évidents, ceux qui sont mis en place par les sites. Sur les réseaux sociaux, les plateformes d’hébergement de vidéos et la plus part des forums et autres sites, il existe un moyen de signaler des contenus qui ne vous paraissent pas appropriés. Ces signalements sont ensuite épluchés par des algorithmes très poussés et/ou des équipes de modérateurs dont le rôle est de proposer à tous les monde la meilleur expérience possible et saine sur leur site.</p>\n\n<p>C’est ainsi que FaceBook et Twitter ferment quantité de compte qui enfreignent leur charte ou les lois. Dans certains cas, vous pourrez spécifier la raison du signalement que vous faites, ceci permet aux personnes qui vont étudier votre requête d’avoir le plus d’informations à leur disposition pour juger du bien fondé de la demande. Il va sans dire que plus il y a de signalements pour un contenu, plus il va être étudier sérieusement.</p>\n\n<h2 id=\"pourltatfranaisaussivossignalementcomptent\">Pour l’État Français aussi, vos signalement comptent !</h2>\n\n<p>Depuis 2009, l’État Français a mis en place la Plateforme d’harmonisation, d’analyse, de recoupement et d’orientation des signalements (Pharos), cette plateforme est accessible ici : <a href=\"https://internet-signalement.gouv.fr\">internet-signalement.gouv.fr</a>. Depuis sa mise en place, cette plateforme n’arrête pas de battre ses records de signalements reçus, preuve que les gens sont de plus en plus conscient de son existence.</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/IMG_9195.png\"><img src=\"https://techan.fr/images/2015/01/IMG_9195.png\" alt=\"IMG_9195.PNG\" title=\"\" /></a></p>\n\n<p>Derrière PHAROS, intégrée à l’Office central de lutte contre la criminalité liée aux technologies de l’information et de la communication (OCLCTIC), toutes une équipe de cyberflics épluchent les signalements, les catégorisent par ordre de priorité, enquêtent, transmettent ces données aux services les plus compétents pour les traiter.</p>\n\n<p>Ce qu’il faut savoir avant de signaler quelque chose sur la PHAROS :</p>\n\n<blockquote>\n  <p><strong>Que puis-je signaler ?</strong></p>\n  \n  <ul>\n  <li>Il doit s’agir d’un contenu ou d’un comportement illicite, c’est-à-dire qu’il doit être interdit et puni par une loi française. Les contenus ou comportements que vous jugez simplement immoraux ou nuisibles n’ont pas à nous être signalés.</li>\n  <li>Il doit s’agir d’un contenu public de l’Internet, auquel tout internaute peut se retrouver confronté : site internet, blog, forum, propos sur un « tchat », agissement d’un « rôdeur » anonyme sur une messagerie, etc.</li>\n  <li>Il ne doit pas s’agir d’une affaire privée avec une personne que vous connaissez, même si elle utilise Internet pour vous nuire. Dans ce cas, présentez-vous dans un Commissariat de Police ou une Brigade de Gendarmerie.</li>\n  <li>Il ne doit en aucun cas s’agir d’une urgence nécessitant l’intervention de service de secours (accident, incendie, agression, etc.) Dans ce cas, il faut composer le « 17 » sur votre téléphone.</li>\n  </ul>\n  \n  <p><em>*Source : *</em><a href=\"http://www.police-nationale.interieur.gouv.fr/Actualites/L-actu-police/Plateforme-Signalement-sur-Internet\">www.police-nationale.interieur.gouv.fr</a></p>\n</blockquote>\n\n<p>Le 28 décembre 2014, un arrêté a été publié autorisant la Direction Générale de la Sécurité Intérieure à accéder aux signalements envoyés à la PHAROS. Cette plateforme , on l’a vu, rassemble les signalements d’infractions en ligne, notamment « apologie de terrorisme », c’est cette dernière qui intéresse particulièrement la DGSI.</p>\n\n<p>Aller, dernier conseil, soyez les plus précis possible, cela permettra sans aucun doute aux personnes qui liront vos signalements de gagner un temps précieux en cherchant moins d’informations à côté ! ","image":"http://blog.techan.fr/images/2015/01/IMG_9194.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-12T22:10:02.000Z","created_by":1,"updated_at":"2015-01-13T09:37:29.000Z","updated_by":1,"published_at":"2015-01-12T22:10:02.000Z","published_by":1},{"id":86,"uuid":"2074e1e6-6cb2-4284-aba5-3cf4b9c8aab5","title":"Bannir définitivement les habitués de Fail2ban","slug":"bannir-definitivement-les-habitues-de-fail2ban","markdown":"\nFail2ban est un outil écrit en Python, il permet en scannant des fichier de log de bannir les rigolos qui tentent de se connecter à un de services disponible sur un Linux et essayant d’y entrer frauduleusement. Le cas classique d’utilisation de Fail2ban est la protection du daemon SSH qui est régulièrement attaqué à coup de brut force. Fail2ban va donc traquer les erreurs d’authentification dans le fichier de log du daemon SSH et banni les IP qui font plus d’un certain nombre d’erreurs de mot de passe dans une période de temps donnée. Les contrevenants ne peuvent plus essayer de nouveaux mot pendant la période ou ils sont exclus.\n\nLa liste des personnes bloquées par cet outil est vite assez impressionnantes, on compte parmi eux pas mal de petits malins qui ne tente leur chance que quelques fois, se font bannir et reviennent plus. Mais on remarque aussi très vite quelques « habitués » se distinguent rapidement. C’est dans ce but que j’ai écrit un script pour bannir définitivement les habitués de Fail2ban. C’est un script en Bash, qui va lire le log de Fail2ban et qui crée une règle dans ufw pour bloquer définitivement les zozos.\n\nVoici donc ce script :\n\n#!/bin/bash for banned in $(grep \"ban\" /var/log/fail2ban.log* | grep actions | grep -v 'already' | awk -F' ' '{print $7}' | grep -v '=' | uniq -c | awk '{print $1 \"_\" $2}') do nb_bans=$(echo $banned | awk -F'_' '{print $1}') ip=$(echo $banned | awk -F'_' '{print $2}') if [[ nb_bans -gt 5 ]] then echo \"$ip banned $nb_bans times.\" ufw insert 1 deny from $ip fi done | mail -s \"Fail2Ban 2 UFW\" user@domain.net\n\nUne fois ajouté dans la crontab, ce script va régulièrement bannir définitivement les IP qui sont exclues plus de 5 fois par Fail2ban.\n\n\n","html":"<p>Fail2ban est un outil écrit en Python, il permet en scannant des fichier de log de bannir les rigolos qui tentent de se connecter à un de services disponible sur un Linux et essayant d’y entrer frauduleusement. Le cas classique d’utilisation de Fail2ban est la protection du daemon SSH qui est régulièrement attaqué à coup de brut force. Fail2ban va donc traquer les erreurs d’authentification dans le fichier de log du daemon SSH et banni les IP qui font plus d’un certain nombre d’erreurs de mot de passe dans une période de temps donnée. Les contrevenants ne peuvent plus essayer de nouveaux mot pendant la période ou ils sont exclus.</p>\n\n<p>La liste des personnes bloquées par cet outil est vite assez impressionnantes, on compte parmi eux pas mal de petits malins qui ne tente leur chance que quelques fois, se font bannir et reviennent plus. Mais on remarque aussi très vite quelques « habitués » se distinguent rapidement. C’est dans ce but que j’ai écrit un script pour bannir définitivement les habitués de Fail2ban. C’est un script en Bash, qui va lire le log de Fail2ban et qui crée une règle dans ufw pour bloquer définitivement les zozos.</p>\n\n<p>Voici donc ce script :</p>\n\n<h1 id=\"binbashforbannedindgrepbanvarlogfail2banloggrepactionsgrepvalreadyawkfprintd7grepvuniqcawkprintd1_d2donb_bansdechodbannedawkf_printd1ipdechodbannedawkf_printd2ifnb_bansgt5thenechodipbanneddnb_banstimesufwinsert1denyfromdipfidonemailsfail2ban2ufwuserdomainnet\">!/bin/bash for banned in $(grep \"ban\" /var/log/fail2ban.log* | grep actions | grep -v 'already' | awk -F' ' '{print $7}' | grep -v '=' | uniq -c | awk '{print $1 \"<em>\" $2}') do nb</em>bans=$(echo $banned | awk -F'<em>' '{print $1}') ip=$(echo $banned | awk -F'</em>' '{print $2}') if [[ nb<em>bans -gt 5 ]] then echo \"$ip banned $nb</em>bans times.\" ufw insert 1 deny from $ip fi done | mail -s \"Fail2Ban 2 UFW\" user@domain.net</h1>\n\n<p>Une fois ajouté dans la crontab, ce script va régulièrement bannir définitivement les IP qui sont exclues plus de 5 fois par Fail2ban.</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-16T16:18:37.000Z","created_by":1,"updated_at":"2015-01-23T20:27:48.000Z","updated_by":1,"published_at":"2015-01-16T16:18:37.000Z","published_by":1},{"id":87,"uuid":"310d1d8f-cc79-4de5-ac1a-483bb6decf4b","title":"Script de backup MySQL","slug":"script-de-backup-mysql","markdown":"\nVoici un simple script de backup MySQL.\n\nSon utilisation est simple, il suffit de changer les quelques variables dans le haut du script et de créer l’arborescence ou seront stockés les backups. Ce script se connecte à l’instance MySQL, sort la liste des bases présentes et en fait des mysqldump. Il crée ainsi un fichier pour chaque base qu’il compresse ensuite.\n\n \n\n#!/bin/bash user='root' password='password' destination=\"/backup/$(date \"+%d\")\" mail='destinataire@domaine.fr' mkdir -p $destination for i in `echo \"show databases;\" | mysql -u$user -p$password | grep -v Database`; do mysqldump -u$user -p$password --opt --add-drop-table --routines --triggers --events --single-transaction -B $i > $destination/$i.sql gzip -f $destination/$i.sql done problem_text='' problem=0 for i in `ls $destination/*` ; do size=`du -sk $i | awk '{ print $1 }'` if [ $size -le 2 ] ; then problem_text=\"$problem_text- $i database. Backupped database size is equal or under 4k ($size)\\n\" problem=1 fi done if [ $problem -ne 0 ] ; then echo -e \"Backups problem detected on :\\n\\n$problem_text\" | mail -s \"$HOSTNAME - MySQL backup problem\" $mail else echo `echo \"show databases;\" | mysql -u$user -p$password | grep -v Database` | mail -s \"[sl-0-mysql1] Bases sauvegardees\" $mail fi find $destination -name \"*.gz\" -mtime +14 -exec rm {} \\;\n\nIl ne reste plus qu’à l’ajouter à la crontab ","html":"<p>Voici un simple script de backup MySQL.</p>\n\n<p>Son utilisation est simple, il suffit de changer les quelques variables dans le haut du script et de créer l’arborescence ou seront stockés les backups. Ce script se connecte à l’instance MySQL, sort la liste des bases présentes et en fait des mysqldump. Il crée ainsi un fichier pour chaque base qu’il compresse ensuite.</p>\n\n<h1 id=\"binbashuserrootpasswordpassworddestinationbackupddatedmaildestinatairedomainefrmkdirpddestinationforiinechoshowdatabasesmysqluduserpdpasswordgrepvdatabasedomysqldumpuduserpdpasswordoptadddroptableroutinestriggerseventssingletransactionbdiddestinationdisqlgzipfddestinationdisqldoneproblem_textproblem0foriinlsddestinationdosizeduskdiawkprintd1ifdsizele2thenproblem_textdproblem_textdidatabasebackuppeddatabasesizeisequalorunder4kdsizenproblem1fidoneifdproblemne0thenechoebackupsproblemdetectedonnndproblem_textmailsdhostnamemysqlbackupproblemdmailelseechoechoshowdatabasesmysqluduserpdpasswordgrepvdatabasemailssl0mysql1basessauvegardeesdmailfifindddestinationnamegzmtime14execrm\">!/bin/bash user='root' password='password' destination=\"/backup/$(date \"+%d\")\" mail='destinataire@domaine.fr' mkdir -p $destination for i in <code>echo \"show databases;\" | mysql -u$user -p$password | grep -v Database</code>; do mysqldump -u$user -p$password --opt --add-drop-table --routines --triggers --events --single-transaction -B $i > $destination/$i.sql gzip -f $destination/$i.sql done problem<em>text='' problem=0 for i in <code>ls $destination/*</code> ; do size=<code>du -sk $i | awk '{ print $1 }'</code> if [ $size -le 2 ] ; then problem</em>text=\"$problem<em>text- $i database. Backupped database size is equal or under 4k ($size)\\n\" problem=1 fi done if [ $problem -ne 0 ] ; then echo -e \"Backups problem detected on :\\n\\n$problem</em>text\" | mail -s \"$HOSTNAME - MySQL backup problem\" $mail else echo <code>echo \"show databases;\" | mysql -u$user -p$password | grep -v Database</code> | mail -s \"[sl-0-mysql1] Bases sauvegardees\" $mail fi find $destination -name \"*.gz\" -mtime +14 -exec rm {} \\;</h1>\n\n<p>Il ne reste plus qu’à l’ajouter à la crontab ","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-23T16:02:37.000Z","created_by":1,"updated_at":"2015-01-23T16:02:37.000Z","updated_by":1,"published_at":"2015-01-23T16:02:37.000Z","published_by":1},{"id":88,"uuid":"6835dd2b-ed03-4ee9-9576-e56e1ff2384c","title":"Configurer les archive logs d'Oracle","slug":"configurer-les-archive-logs-doracle","markdown":"\n\n## A propos des archive logs\n\nLes archive logs sont des copies des redo logs d’Oracle. Ils contiennent l’historique d’activité de la base.\n\nIl sont utilisés pour « re »-jouer l’activité qu’il y a eu sur la base dans le cas ou l’on devrait restaurer la base depuis un backup le fait de re-jouer les archive logs depuis l’heure ou a été pris le backup et l’heure du dernier archive log disponible assure que l’on perde le moins de données possible.\n\nLes archive logs doivent être stockés en de multiples endroits, la requête SQL ci-dessous affiche les destinations configurées pour les archive logs.\n\nSQL> show parameter log_archive_dest\n\n[![Configurer les archive logs d'Oracle](https://techan.fr/images/2015/01/archive_logs_1.png)](https://techan.fr/images/2015/01/archive_logs_1.png)\n\nSur cette base, il n’y a qu’une destination pour les archive logs, c’est le dossier : ‘/data/oracle/product/11.2.0/db_2/tfti_archive’.\n\n\n## Vérifier si les archive logs sont activés\n\nSQL> archive log list ;\n\n[![Configurer les archive logs d'Oracle](https://techan.fr/images/2015/01/archive_logs_2.png)](https://techan.fr/images/2015/01/archive_logs_2.png)\n\nLe mode archive log est activé sur cette base.\n\n\n## Activer et désactiver les archive logs\n\n<div class=\"aui-message warning shadowed information-macro\" style=\"text-align: justify;\">Vous pouvez passer du mode archive log activé à désactivé et vice-versa <span style=\"text-decoration: underline;\">uniquement</span> si la base est dans l’état « **mount**« .\n\n**<span style=\"text-decoration: underline;\">Attention :</span>** Changer ce paramètre sur une base active nécessite un reboot !\n\n#### Activer les archive logs\n\nSQL> shutdown immediate ; SQL> startup mount ; SQL> alter database archivelog ; SQL> alter database open ; SQL> archive log list ;\n\n \n\n[![Configurer les archive logs d'Oracle](https://techan.fr/images/2015/01/archive_logs_3.png)](https://techan.fr/images/2015/01/archive_logs_3.png)\n\n#### Désactiver le mode archive logs\n\nSQL> shutdown immediate ; SQL> startup mount ; SQL> alter database noarchivelog ; SQL> alter database open ; SQL> archive log list ;\n\n \n\n[![Configurer les archive logs d'Oracle](https://techan.fr/images/2015/01/archive_logs_4.png)](https://techan.fr/images/2015/01/archive_logs_4.png)\n\n\n## Changer la destination d’archivage des logs\n\nChanger la destination d’archivage peut être requis si le file system de la destination principale est plein. Cela empêchera Oracle d’écrire de nouveau archive log dans cette destination pleine et évitera un blocage de la base.\n\nSi Oracle ne peut pas sauver son activité en générant des archive logs, le système va bloquer toutes les transactions, il ne sera plus possible de faire quoi que ce soit sur la base tant que la destination d’archivage ne sera pas de nouveau disponible ou vidée.\n\nDans ce cas, vous verrez l’erreur ORA- suivante dans l’alert.log et dans les clients :\n\n</div><div class=\"aui-message warning shadowed information-macro\" style=\"text-align: justify;\">ORA-00257: archiver error. Connect internal only, until freed.\n\n \n\nPour vider la destination d’archivage, vous pouvez la backuper avec l’option « delete » qui supprime les archive logs déjà sauvegardés. Mais cela peut prendre pas mal de temps pendant lequel vous pouvez modifier la destination d’archivage principale vers un file system avec de l’espace libre.\n\nN’oubliez pas de remettre cela d’aplomb une fois le backup terminé.\n\n</div><div class=\"aui-message warning shadowed information-macro\">Vous pouvez modifier les destinations d’archivage avec cette requête SQL :\n\nSQL> alter system set log_archive_dest_<NUMBER_OF_THE_DESTINATION>='LOCATION=<NEW_DIRECTORY>' ;\n\nPar exemple, je vais changer la destination d’archivage de ma base de « /data/oracle/product/11.2.0/db_2/tfti_archive » vers « /data/oracle/archives/TFTI1 » :\n\n[![Configurer les archive logs d'Oracle](https://techan.fr/images/2015/01/archive_logs_5.png)](https://techan.fr/images/2015/01/archive_logs_5.png)\n\n</div>\n","html":"<h2 id=\"aproposdesarchivelogs\">A propos des archive logs</h2>\n\n<p>Les archive logs sont des copies des redo logs d’Oracle. Ils contiennent l’historique d’activité de la base.</p>\n\n<p>Il sont utilisés pour « re »-jouer l’activité qu’il y a eu sur la base dans le cas ou l’on devrait restaurer la base depuis un backup le fait de re-jouer les archive logs depuis l’heure ou a été pris le backup et l’heure du dernier archive log disponible assure que l’on perde le moins de données possible.</p>\n\n<p>Les archive logs doivent être stockés en de multiples endroits, la requête SQL ci-dessous affiche les destinations configurées pour les archive logs.</p>\n\n<p>SQL> show parameter log<em>archive</em>dest</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/archive_logs_1.png\"><img src=\"https://techan.fr/images/2015/01/archive_logs_1.png\" alt=\"Configurer les archive logs d'Oracle\" title=\"\" /></a></p>\n\n<p>Sur cette base, il n’y a qu’une destination pour les archive logs, c’est le dossier : ‘/data/oracle/product/11.2.0/db<em>2/tfti</em>archive’.</p>\n\n<h2 id=\"vrifiersilesarchivelogssontactivs\">Vérifier si les archive logs sont activés</h2>\n\n<p>SQL> archive log list ;</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/archive_logs_2.png\"><img src=\"https://techan.fr/images/2015/01/archive_logs_2.png\" alt=\"Configurer les archive logs d'Oracle\" title=\"\" /></a></p>\n\n<p>Le mode archive log est activé sur cette base.</p>\n\n<h2 id=\"activeretdsactiverlesarchivelogs\">Activer et désactiver les archive logs</h2>\n\n<div class=\"aui-message warning shadowed information-macro\" style=\"text-align: justify;\">Vous pouvez passer du mode archive log activé à désactivé et vice-versa <span style=\"text-decoration: underline;\">uniquement</span> si la base est dans l’état « **mount**« .\n\n**<span style=\"text-decoration: underline;\">Attention :</span>** Changer ce paramètre sur une base active nécessite un reboot !\n\n#### Activer les archive logs\n\nSQL> shutdown immediate ; SQL> startup mount ; SQL> alter database archivelog ; SQL> alter database open ; SQL> archive log list ;\n\n \n\n[![Configurer les archive logs d'Oracle](https://techan.fr/images/2015/01/archive_logs_3.png)](https://techan.fr/images/2015/01/archive_logs_3.png)\n\n#### Désactiver le mode archive logs\n\nSQL> shutdown immediate ; SQL> startup mount ; SQL> alter database noarchivelog ; SQL> alter database open ; SQL> archive log list ;\n\n \n\n[![Configurer les archive logs d'Oracle](https://techan.fr/images/2015/01/archive_logs_4.png)](https://techan.fr/images/2015/01/archive_logs_4.png)\n\n\n## Changer la destination d’archivage des logs\n\nChanger la destination d’archivage peut être requis si le file system de la destination principale est plein. Cela empêchera Oracle d’écrire de nouveau archive log dans cette destination pleine et évitera un blocage de la base.\n\nSi Oracle ne peut pas sauver son activité en générant des archive logs, le système va bloquer toutes les transactions, il ne sera plus possible de faire quoi que ce soit sur la base tant que la destination d’archivage ne sera pas de nouveau disponible ou vidée.\n\nDans ce cas, vous verrez l’erreur ORA- suivante dans l’alert.log et dans les clients :\n\n</div><div class=\"aui-message warning shadowed information-macro\" style=\"text-align: justify;\">ORA-00257: archiver error. Connect internal only, until freed.\n\n \n\nPour vider la destination d’archivage, vous pouvez la backuper avec l’option « delete » qui supprime les archive logs déjà sauvegardés. Mais cela peut prendre pas mal de temps pendant lequel vous pouvez modifier la destination d’archivage principale vers un file system avec de l’espace libre.\n\nN’oubliez pas de remettre cela d’aplomb une fois le backup terminé.\n\n</div><div class=\"aui-message warning shadowed information-macro\">Vous pouvez modifier les destinations d’archivage avec cette requête SQL :\n\nSQL> alter system set log_archive_dest_<NUMBER_OF_THE_DESTINATION>='LOCATION=<NEW_DIRECTORY>' ;\n\nPar exemple, je vais changer la destination d’archivage de ma base de « /data/oracle/product/11.2.0/db_2/tfti_archive » vers « /data/oracle/archives/TFTI1 » :\n\n[![Configurer les archive logs d'Oracle](https://techan.fr/images/2015/01/archive_logs_5.png)](https://techan.fr/images/2015/01/archive_logs_5.png)\n\n</div>","image":"http://blog.techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-23T16:40:06.000Z","created_by":1,"updated_at":"2015-01-23T17:50:46.000Z","updated_by":1,"published_at":"2015-01-23T16:40:06.000Z","published_by":1},{"id":89,"uuid":"49277988-0e2f-4bee-871f-0b42c6daae60","title":"Indexation full text des mails","slug":"indexation-full-text-des-mails","markdown":"\nHeureux possesseur d’un serveur de mail complet composé d’un postfix, de dovecot et d’un webmail, Horde pour ne pas le citer, je n’arrêtais cependant pas de pester contre la lenteur de la recherche dans les mails. Il faut dire que ma boite personnelle pèse maintenant plus de 4 Go … Et que mes plus anciens mails ont été reçus en 2010.\n\nPar défaut lorsque Dovecot reçoit une requête IMAP lui demandant de rechercher des termes dans une boite mail, il scanne tous les mails de la boite ou du compte en fonction de ce que l’on a demandé. On imagine donc parfaitement que cela peut prendre du temps lorsqu’on a une boite mail bien garnie …  \n  \n J’ai donc trouvé une solution : Solr. Il s’agit d’un moteur d’indexation écrit en Java développé par « The Apache Software Fundation ». Il nécessite un serveur Tomcat, ce qui, de prime abord m’a plutôt refroidi, mais ça vaut le coup, je vous le garanti ! Une fois configuré, Solr va fournir une indexation full text des mails que Dovecot va pouvoir interroger directement. Si par malheur, Solr n’était pas disponible, Dovecot ne s’acharne pas, il prendra son courage à deux mains et reprendra ses propres recherches laborieuses.\n\n\n## Installation de Solr sur Ubuntu\n\nJe pars du principe que vous avez déjà installé votre Tomcat, qu’il est fonctionnel et que vous connaissez le port sur lequel il répond.\n\n#### Le plugin pour dovecot\n\nIl va falloir un plugin à Dovecot pour pouvoir tirer profit de Solr. Il existe un package sur Ubuntu qui propose directement le plugin nécessaire à Dovecot pour interroger Solr.\n\naptitude install dovecot-solr\n\n#### Installation de Solr\n\nComme je suis un gros flemmard, j’ai utilisé la version de Solr packagée avec Ubuntu, pour l’installer, il suffit de passer la commande suivante :\n\naptitude install libsolr-java solr-common solr-tomcat\n\n###  Et maintenant, la configuration !\n\n#### Du côté de Tomcat et Solr\n\nÉditez le fichier : /etc/solr/conf/schema.xml afin qu’il ressemble à ceci :\n\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?> <!-- For fts-solr: This is the Solr schema file, place it into solr/conf/schema.xml. You may want to modify the tokenizers and filters. --> <schema name=\"dovecot\" version=\"1.4\"> <types> <!-- IMAP has 32bit unsigned ints but java ints are signed, so use longs --> <fieldType name=\"string\" class=\"solr.StrField\" omitNorms=\"true\"/> <fieldType name=\"long\" class=\"solr.LongField\" omitNorms=\"true\"/> <fieldType name=\"slong\" class=\"solr.SortableLongField\" omitNorms=\"true\"/> <fieldType name=\"float\" class=\"solr.FloatField\" omitNorms=\"true\"/> <fieldType name=\"boolean\" class=\"solr.BoolField\" omitNorms=\"true\"/> <fieldType name=\"text\" class=\"solr.TextField\" positionIncrementGap=\"100\"> <analyzer type=\"index\"> <tokenizer class=\"solr.WhitespaceTokenizerFactory\"/> <filter class=\"solr.StopFilterFactory\" ignoreCase=\"true\" words=\"stopwords.txt\"/> <filter class=\"solr.WordDelimiterFilterFactory\" generateWordParts=\"1\" generateNumberParts=\"1\" catenateWords=\"1\" catenateNumbers=\"1\" catenateAll=\"0\"/> <filter class=\"solr.LowerCaseFilterFactory\"/> <filter class=\"solr.EnglishPorterFilterFactory\" protected=\"protwords.txt\"/> <filter class=\"solr.RemoveDuplicatesTokenFilterFactory\"/> </analyzer> <analyzer type=\"query\"> <tokenizer class=\"solr.WhitespaceTokenizerFactory\"/> <filter class=\"solr.SynonymFilterFactory\" synonyms=\"synonyms.txt\" ignoreCase=\"true\" expand=\"true\"/> <filter class=\"solr.StopFilterFactory\" ignoreCase=\"true\" words=\"stopwords.txt\"/> <filter class=\"solr.WordDelimiterFilterFactory\" generateWordParts=\"1\" generateNumberParts=\"1\" catenateWords=\"0\" catenateNumbers=\"0\" catenateAll=\"0\"/> <filter class=\"solr.LowerCaseFilterFactory\"/> <filter class=\"solr.EnglishPorterFilterFactory\" protected=\"protwords.txt\"/> <filter class=\"solr.RemoveDuplicatesTokenFilterFactory\"/> </analyzer> </fieldType> </types> <fields> <field name=\"id\" type=\"string\" indexed=\"true\" stored=\"true\" required=\"true\" /> <field name=\"uid\" type=\"slong\" indexed=\"true\" stored=\"true\" required=\"true\" /> <field name=\"box\" type=\"string\" indexed=\"true\" stored=\"true\" required=\"true\" /> <field name=\"user\" type=\"string\" indexed=\"true\" stored=\"true\" required=\"true\" /> <field name=\"hdr\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"body\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"from\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"to\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"cc\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"bcc\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"subject\" type=\"text\" indexed=\"true\" stored=\"false\" /> </fields> <uniqueKey>id</uniqueKey> <defaultSearchField>body</defaultSearchField> <solrQueryParser defaultOperator=\"AND\" /> </schema>\n\nCeci explique à Solr comment indexer les mail.\n\nIl faut ensuite ajouter les deux lignes suivantes dans votre contrab, car par défaut, Dovecot de ne fait que des « soft commits » dans Solr. Il faut forcer régulièrement un « hard commit » sinon Solr n’arrête pas de faire grossir ses logs de transactions …\n\n* * * * * curl http://localhost:7777/solr/update?commit=true >> /dev/null 0 0 * * * curl http://localhost:7777/solr/update?optimize=true >> /dev/null\n\n \n\nEt pour finir :\n\nservice tomcat6 restart\n\n####  Du côté de Dovecot\n\nEditez le fichier de configuration suivant /etc/dovecot/conf.d/90-plugin.conf et ajouter les lignes nécessaires pour qu’il ressemble à ceci :\n\n## ## Plugin settings ## # All wanted plugins must be listed in mail_plugins setting before any of the # settings take effect. See <doc/wiki/Plugins.txt> for list of plugins and # their configuration. Note that %variable expansion is done for all values. plugin { #setting_name = value fts = solr fts_solr = break-imap-search url=http://localhost:7777/solr/ }\n\nN’oubliez pas de changer le port de d’écoute de Tomcat ","html":"<p>Heureux possesseur d’un serveur de mail complet composé d’un postfix, de dovecot et d’un webmail, Horde pour ne pas le citer, je n’arrêtais cependant pas de pester contre la lenteur de la recherche dans les mails. Il faut dire que ma boite personnelle pèse maintenant plus de 4 Go … Et que mes plus anciens mails ont été reçus en 2010.</p>\n\n<p>Par défaut lorsque Dovecot reçoit une requête IMAP lui demandant de rechercher des termes dans une boite mail, il scanne tous les mails de la boite ou du compte en fonction de ce que l’on a demandé. On imagine donc parfaitement que cela peut prendre du temps lorsqu’on a une boite mail bien garnie …  </p>\n\n<p>J’ai donc trouvé une solution : Solr. Il s’agit d’un moteur d’indexation écrit en Java développé par « The Apache Software Fundation ». Il nécessite un serveur Tomcat, ce qui, de prime abord m’a plutôt refroidi, mais ça vaut le coup, je vous le garanti ! Une fois configuré, Solr va fournir une indexation full text des mails que Dovecot va pouvoir interroger directement. Si par malheur, Solr n’était pas disponible, Dovecot ne s’acharne pas, il prendra son courage à deux mains et reprendra ses propres recherches laborieuses.</p>\n\n<h2 id=\"installationdesolrsurubuntu\">Installation de Solr sur Ubuntu</h2>\n\n<p>Je pars du principe que vous avez déjà installé votre Tomcat, qu’il est fonctionnel et que vous connaissez le port sur lequel il répond.</p>\n\n<h4 id=\"lepluginpourdovecot\">Le plugin pour dovecot</h4>\n\n<p>Il va falloir un plugin à Dovecot pour pouvoir tirer profit de Solr. Il existe un package sur Ubuntu qui propose directement le plugin nécessaire à Dovecot pour interroger Solr.</p>\n\n<p>aptitude install dovecot-solr</p>\n\n<h4 id=\"installationdesolr\">Installation de Solr</h4>\n\n<p>Comme je suis un gros flemmard, j’ai utilisé la version de Solr packagée avec Ubuntu, pour l’installer, il suffit de passer la commande suivante :</p>\n\n<p>aptitude install libsolr-java solr-common solr-tomcat</p>\n\n<h3 id=\"etmaintenantlaconfiguration\"> Et maintenant, la configuration !</h3>\n\n<h4 id=\"ductdetomcatetsolr\">Du côté de Tomcat et Solr</h4>\n\n<p>Éditez le fichier : /etc/solr/conf/schema.xml afin qu’il ressemble à ceci :</p>\n\n<p><?xml version=\"1.0\" encoding=\"UTF-8\" ?> <!-- For fts-solr: This is the Solr schema file, place it into solr/conf/schema.xml. You may want to modify the tokenizers and filters. --> <schema name=\"dovecot\" version=\"1.4\"> <types> <!-- IMAP has 32bit unsigned ints but java ints are signed, so use longs --> <fieldType name=\"string\" class=\"solr.StrField\" omitNorms=\"true\"/> <fieldType name=\"long\" class=\"solr.LongField\" omitNorms=\"true\"/> <fieldType name=\"slong\" class=\"solr.SortableLongField\" omitNorms=\"true\"/> <fieldType name=\"float\" class=\"solr.FloatField\" omitNorms=\"true\"/> <fieldType name=\"boolean\" class=\"solr.BoolField\" omitNorms=\"true\"/> <fieldType name=\"text\" class=\"solr.TextField\" positionIncrementGap=\"100\"> <analyzer type=\"index\"> <tokenizer class=\"solr.WhitespaceTokenizerFactory\"/> <filter class=\"solr.StopFilterFactory\" ignoreCase=\"true\" words=\"stopwords.txt\"/> <filter class=\"solr.WordDelimiterFilterFactory\" generateWordParts=\"1\" generateNumberParts=\"1\" catenateWords=\"1\" catenateNumbers=\"1\" catenateAll=\"0\"/> <filter class=\"solr.LowerCaseFilterFactory\"/> <filter class=\"solr.EnglishPorterFilterFactory\" protected=\"protwords.txt\"/> <filter class=\"solr.RemoveDuplicatesTokenFilterFactory\"/> </analyzer> <analyzer type=\"query\"> <tokenizer class=\"solr.WhitespaceTokenizerFactory\"/> <filter class=\"solr.SynonymFilterFactory\" synonyms=\"synonyms.txt\" ignoreCase=\"true\" expand=\"true\"/> <filter class=\"solr.StopFilterFactory\" ignoreCase=\"true\" words=\"stopwords.txt\"/> <filter class=\"solr.WordDelimiterFilterFactory\" generateWordParts=\"1\" generateNumberParts=\"1\" catenateWords=\"0\" catenateNumbers=\"0\" catenateAll=\"0\"/> <filter class=\"solr.LowerCaseFilterFactory\"/> <filter class=\"solr.EnglishPorterFilterFactory\" protected=\"protwords.txt\"/> <filter class=\"solr.RemoveDuplicatesTokenFilterFactory\"/> </analyzer> </fieldType> </types> <fields> <field name=\"id\" type=\"string\" indexed=\"true\" stored=\"true\" required=\"true\" /> <field name=\"uid\" type=\"slong\" indexed=\"true\" stored=\"true\" required=\"true\" /> <field name=\"box\" type=\"string\" indexed=\"true\" stored=\"true\" required=\"true\" /> <field name=\"user\" type=\"string\" indexed=\"true\" stored=\"true\" required=\"true\" /> <field name=\"hdr\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"body\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"from\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"to\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"cc\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"bcc\" type=\"text\" indexed=\"true\" stored=\"false\" /> <field name=\"subject\" type=\"text\" indexed=\"true\" stored=\"false\" /> </fields> <uniqueKey>id</uniqueKey> <defaultSearchField>body</defaultSearchField> <solrQueryParser defaultOperator=\"AND\" /> </schema></p>\n\n<p>Ceci explique à Solr comment indexer les mail.</p>\n\n<p>Il faut ensuite ajouter les deux lignes suivantes dans votre contrab, car par défaut, Dovecot de ne fait que des « soft commits » dans Solr. Il faut forcer régulièrement un « hard commit » sinon Solr n’arrête pas de faire grossir ses logs de transactions …</p>\n\n<ul>\n<li><ul><li><ul><li><ul><li><ul><li><p>curl <a href=\"http://localhost:7777/solr/update?commit=true\">http://localhost:7777/solr/update?commit=true</a> >> /dev/null 0 0 * * * curl <a href=\"http://localhost:7777/solr/update?optimize=true\">http://localhost:7777/solr/update?optimize=true</a> >> /dev/null</p></li></ul></li></ul></li></ul></li></ul></li>\n</ul>\n\n<p>Et pour finir :</p>\n\n<p>service tomcat6 restart</p>\n\n<h4 id=\"ductdedovecot\"> Du côté de Dovecot</h4>\n\n<p>Editez le fichier de configuration suivant /etc/dovecot/conf.d/90-plugin.conf et ajouter les lignes nécessaires pour qu’il ressemble à ceci :</p>\n\n<h2 id=\"pluginsettingsallwantedpluginsmustbelistedinmail_pluginssettingbeforeanyofthesettingstakeeffectseedocwikipluginstxtforlistofpluginsandtheirconfigurationnotethatvariableexpansionisdoneforallvaluespluginsetting_namevalueftssolrfts_solrbreakimapsearchurlhttplocalhost7777solr\">## Plugin settings ## # All wanted plugins must be listed in mail<em>plugins setting before any of the # settings take effect. See <doc/wiki/Plugins.txt> for list of plugins and # their configuration. Note that %variable expansion is done for all values. plugin { #setting</em>name = value fts = solr fts_solr = break-imap-search url=<a href=\"http://localhost:7777/solr/\">http://localhost:7777/solr/</a> }</h2>\n\n<p>N’oubliez pas de changer le port de d’écoute de Tomcat ","image":"http://blog.techan.fr/images/2015/01/solr_logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-26T10:32:40.000Z","created_by":1,"updated_at":"2015-01-25T19:42:30.000Z","updated_by":1,"published_at":"2015-01-26T10:32:40.000Z","published_by":1},{"id":90,"uuid":"13daab09-296d-4e6a-8e23-6880962daefb","title":"Justifier tous les articles dans WordPress","slug":"justifier-tous-les-articles-dans-wordpress","markdown":"\nPar défaut WordPress justifie le texte sur la gauche, ce qui peut rendre l’affichage des paragraphes longs – même les courts d’ailleurs – très, très moche … Et si comme moi, vous n’avez pas pensé à justifier le texte dans vos articles depuis le début de votre blog, il devient vite fastidieux d’éditer tous les posts, sélectionner le texte et cliquer sur le bouton « Justifier » ([![Justifier tous les articles dans WordPress](https://techan.fr/images/2015/01/justifier.png)](https://techan.fr/images/2015/01/justifier.png)). En tout cas, moi j’ai la flemme ","html":"<p>Par défaut WordPress justifie le texte sur la gauche, ce qui peut rendre l’affichage des paragraphes longs – même les courts d’ailleurs – très, très moche … Et si comme moi, vous n’avez pas pensé à justifier le texte dans vos articles depuis le début de votre blog, il devient vite fastidieux d’éditer tous les posts, sélectionner le texte et cliquer sur le bouton « Justifier » (<a href=\"https://techan.fr/images/2015/01/justifier.png\"><img src=\"https://techan.fr/images/2015/01/justifier.png\" alt=\"Justifier tous les articles dans WordPress\" title=\"\" /></a>). En tout cas, moi j’ai la flemme ","image":"http://blog.techan.fr/images/2015/01/wordpress-logo-stacked-rgb_petit.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-27T10:30:13.000Z","created_by":1,"updated_at":"2015-01-27T11:33:49.000Z","updated_by":1,"published_at":"2015-01-27T10:30:13.000Z","published_by":1},{"id":91,"uuid":"d4be2113-a0eb-4648-a066-7301f01851d8","title":"Gérer les tablespaces et les datafiles","slug":"gerer-les-tablespaces-et-les-datafiles","markdown":"\n\n## A propos des tablespaces et des datafiles\n\nLes tablespaces sont la plus grosse unité de stockage logicielle d’Oracle, un tablespace est composé d’un ou plusieurs datafile.\n\nUn datafile est un fichier physique, visible sur le file system de la machine hôte, il ne peut appartenir qu’à un et un seul tablespace. Il s’agit d’un fichier spécial dont le contenu n’est pas lisible, il est « formaté » par Oracle.\n\n**<span style=\"text-decoration: underline;\">Attention :</span>**<span style=\"text-decoration: underline;\">Vous ne pouvez ni ne devez</span> compresser, ziper, gziper un datafile. Si vous le faites toutes les données qu’il contient seront perdues !\n\nUn tablespace Oracle peut être dédié à un utilisateur qui peut y stocker tout ou partie de ses données.\n\nA l’intérieur d’un datafile, les objets sont stockés dans des « segments » et des « extents ». Les « extents » sont logiques et composés de « segments » physiques, dans ces « segment », on trouve des blocks. Les blocks sont la plus petites unité de stockage dans une base Oracle, leur taille est fixe et spécifiée lors de la création de la base, **<span style=\"text-decoration: underline;\">elle ne peut être changé sans recréer la base</span>** (leur taille par défaut est 8 Ko).\n\n\n## Les vues utiles pour gérer les tablespaces et les datafiles\n\n### dba_tablespaces\n\n[![Gérer les tablespaces et les datafiles](https://techan.fr/images/2015/01/tbs_dbf_1.png)](https://techan.fr/images/2015/01/tbs_dbf_1.png)\n\nJe vais décrire les champs les plus important dans le tableau ci-dessous :\n\n<div class=\"table-wrap\" style=\"text-align: justify;\"><table class=\"confluenceTable tablesorter\"><thead><tr class=\"sortableHeader\"><th class=\"confluenceTh sortableHeader\" data-column=\"0\"><div class=\"tablesorter-header-inner\">Champ</div></th><th class=\"confluenceTh sortableHeader\" data-column=\"1\"><div class=\"tablesorter-header-inner\">Description</div></th></tr></thead><tbody><tr><td class=\"confluenceTd\">tablespace_name</td><td class=\"confluenceTd\">Nom du tablespace</td></tr><tr><td class=\"confluenceTd\">status</td><td class=\"confluenceTd\">Peut être : Online, Offline, Read Only</td></tr></tbody></table></div>### dba_data_files\n\n[![Gérer les tablespaces et les datafiles](https://techan.fr/images/2015/01/tbs_dbf_2.png)](https://techan.fr/images/2015/01/tbs_dbf_2.png)\n\nJe vais décrire les champs les plus important dans le tableau ci-dessous :\n\n<div class=\"table-wrap\" style=\"text-align: justify;\"><table class=\"confluenceTable tablesorter\"><thead><tr class=\"sortableHeader\"><th class=\"confluenceTh sortableHeader\" data-column=\"0\"><div class=\"tablesorter-header-inner\">Champ</div></th><th class=\"confluenceTh sortableHeader\" data-column=\"1\"><div class=\"tablesorter-header-inner\">Description</div></th></tr></thead><tbody><tr><td class=\"confluenceTd\">file_name</td><td class=\"confluenceTd\">Chemin complet vers le datafile</td></tr><tr><td class=\"confluenceTd\">file_id</td><td class=\"confluenceTd\">Numéro séquentiel donné à chaque fichier, cela peut etre utile lorsque l’on utilise RMAN.</td></tr><tr><td class=\"confluenceTd\" colspan=\"1\">tablespace_name</td><td class=\"confluenceTd\" colspan=\"1\">Nom du tablespace auquel appartient le fichier</td></tr><tr><td class=\"confluenceTd\" colspan=\"1\">bytes</td><td class=\"confluenceTd\" colspan=\"1\">Taille du fichier en bytes, conversion de l’attribut « SIZE » utilisé lors de la création du fichier.</td></tr><tr><td class=\"confluenceTd\" colspan=\"1\">autoextensible</td><td class=\"confluenceTd\" colspan=\"1\">Est ce que le fichier peut être étendu automatiquement ? Si oui, Oracle va être capable d’ajouter automatiquement de l’espace à ce fichier lorsqu’il est presque plein. <span style=\"text-decoration: underline;\">**Ceci n’est pas recommandé !**</span></td></tr></tbody></table></div>\n## Créer et modifier des tablespaces\n\n### Créer un tablespace\n\nLorsque vous créer un tablespace, il faudra également créer un datafile, pas de souci, tout tient dans la même ligne ","html":"<h2 id=\"aproposdestablespacesetdesdatafiles\">A propos des tablespaces et des datafiles</h2>\n\n<p>Les tablespaces sont la plus grosse unité de stockage logicielle d’Oracle, un tablespace est composé d’un ou plusieurs datafile.</p>\n\n<p>Un datafile est un fichier physique, visible sur le file system de la machine hôte, il ne peut appartenir qu’à un et un seul tablespace. Il s’agit d’un fichier spécial dont le contenu n’est pas lisible, il est « formaté » par Oracle.</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Attention :</span></strong><span style=\"text-decoration: underline;\">Vous ne pouvez ni ne devez</span> compresser, ziper, gziper un datafile. Si vous le faites toutes les données qu’il contient seront perdues !</p>\n\n<p>Un tablespace Oracle peut être dédié à un utilisateur qui peut y stocker tout ou partie de ses données.</p>\n\n<p>A l’intérieur d’un datafile, les objets sont stockés dans des « segments » et des « extents ». Les « extents » sont logiques et composés de « segments » physiques, dans ces « segment », on trouve des blocks. Les blocks sont la plus petites unité de stockage dans une base Oracle, leur taille est fixe et spécifiée lors de la création de la base, <strong><span style=\"text-decoration: underline;\">elle ne peut être changé sans recréer la base</span></strong> (leur taille par défaut est 8 Ko).</p>\n\n<h2 id=\"lesvuesutilespourgrerlestablespacesetlesdatafiles\">Les vues utiles pour gérer les tablespaces et les datafiles</h2>\n\n<h3 id=\"dba_tablespaces\">dba_tablespaces</h3>\n\n<p><a href=\"https://techan.fr/images/2015/01/tbs_dbf_1.png\"><img src=\"https://techan.fr/images/2015/01/tbs_dbf_1.png\" alt=\"Gérer les tablespaces et les datafiles\" title=\"\" /></a></p>\n\n<p>Je vais décrire les champs les plus important dans le tableau ci-dessous :</p>\n\n<div class=\"table-wrap\" style=\"text-align: justify;\"><table class=\"confluenceTable tablesorter\"><thead><tr class=\"sortableHeader\"><th class=\"confluenceTh sortableHeader\" data-column=\"0\"><div class=\"tablesorter-header-inner\">Champ</div></th><th class=\"confluenceTh sortableHeader\" data-column=\"1\"><div class=\"tablesorter-header-inner\">Description</div></th></tr></thead><tbody><tr><td class=\"confluenceTd\">tablespace_name</td><td class=\"confluenceTd\">Nom du tablespace</td></tr><tr><td class=\"confluenceTd\">status</td><td class=\"confluenceTd\">Peut être : Online, Offline, Read Only</td></tr></tbody></table></div>### dba_data_files\n\n[![Gérer les tablespaces et les datafiles](https://techan.fr/images/2015/01/tbs_dbf_2.png)](https://techan.fr/images/2015/01/tbs_dbf_2.png)\n\nJe vais décrire les champs les plus important dans le tableau ci-dessous :\n\n<div class=\"table-wrap\" style=\"text-align: justify;\"><table class=\"confluenceTable tablesorter\"><thead><tr class=\"sortableHeader\"><th class=\"confluenceTh sortableHeader\" data-column=\"0\"><div class=\"tablesorter-header-inner\">Champ</div></th><th class=\"confluenceTh sortableHeader\" data-column=\"1\"><div class=\"tablesorter-header-inner\">Description</div></th></tr></thead><tbody><tr><td class=\"confluenceTd\">file_name</td><td class=\"confluenceTd\">Chemin complet vers le datafile</td></tr><tr><td class=\"confluenceTd\">file_id</td><td class=\"confluenceTd\">Numéro séquentiel donné à chaque fichier, cela peut etre utile lorsque l’on utilise RMAN.</td></tr><tr><td class=\"confluenceTd\" colspan=\"1\">tablespace_name</td><td class=\"confluenceTd\" colspan=\"1\">Nom du tablespace auquel appartient le fichier</td></tr><tr><td class=\"confluenceTd\" colspan=\"1\">bytes</td><td class=\"confluenceTd\" colspan=\"1\">Taille du fichier en bytes, conversion de l’attribut « SIZE » utilisé lors de la création du fichier.</td></tr><tr><td class=\"confluenceTd\" colspan=\"1\">autoextensible</td><td class=\"confluenceTd\" colspan=\"1\">Est ce que le fichier peut être étendu automatiquement ? Si oui, Oracle va être capable d’ajouter automatiquement de l’espace à ce fichier lorsqu’il est presque plein. <span style=\"text-decoration: underline;\">**Ceci n’est pas recommandé !**</span></td></tr></tbody></table></div>  \n\n<h2 id=\"creretmodifierdestablespaces\">Créer et modifier des tablespaces</h2>\n\n<h3 id=\"creruntablespace\">Créer un tablespace</h3>\n\n<p>Lorsque vous créer un tablespace, il faudra également créer un datafile, pas de souci, tout tient dans la même ligne ","image":"http://blog.techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-28T10:21:42.000Z","created_by":1,"updated_at":"2015-01-27T11:42:13.000Z","updated_by":1,"published_at":"2015-01-28T10:21:42.000Z","published_by":1},{"id":92,"uuid":"e7fff16e-7df8-4e88-8867-98b0db74afc0","title":"Changer l'emplacement des données MySQL","slug":"changer-lemplacement-des-donnees-mysql","markdown":"\nPar défaut, sur Linux, MySQL stocke ses données dans le dossier /var/lib/mysql. Ce comportement peut être dangereux car dans la grande majorité des cas, le /var n’est pas sur un disque à part et donc MySQL écrit dans le /. On changer l’emplacement des données MySQL par quelques actions simple que vous trouverez ci-dessous.\n\n\n## Création du nouvel emplacement\n\nJ’ai choisi de créer un nouveau Logical Volume LVM pour héberger les data de MySQL.\n\n[root@xxxxxx ~]# pvcreate /dev/sdb Physical volume \"/dev/sdb\" successfully created [root@xxxxxx ~]# vgcreate vg_mysql /dev/sdb Volume group \"vg_mysql\" successfully created [root@xxxxxx ~]# lvcreate -n lv_mysql -l 100%VG vg_mysql Logical volume \"lv_mysql\" created [root@xxxxxx ~]# mkfs.ext4 /dev/mapper/vg_mysql-lv_mysql mke2fs 1.41.12 (17-May-2010) Étiquette de système de fichiers= Type de système d'exploitation : Linux Taille de bloc=4096 (log=2) Taille de fragment=4096 (log=2) « Stride » = 0 blocs, « Stripe width » = 0 blocs 655360 i-noeuds, 2620416 blocs 131020 blocs (5.00%) réservés pour le super utilisateur Premier bloc de données=0 Nombre maximum de blocs du système de fichiers=2684354560 80 groupes de blocs 32768 blocs par groupe, 32768 fragments par groupe 8192 i-noeuds par groupe Superblocs de secours stockés sur les blocs : 32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632 Écriture des tables d'i-noeuds : complété Création du journal (32768 blocs) : complété Écriture des superblocs et de l'information de comptabilité du système de fichiers : complété Le système de fichiers sera automatiquement vérifié tous les 26 montages ou après 180 jours, selon la première éventualité. Utiliser tune2fs -c ou -i pour écraser la valeur. [root@xxxxxx1 ~]# mkdir -p /data/mysql [root@xxxxxx ~]# vi /etc/fstab [root@xxxxxx ~]# mount /data/mysql/\n\nVoici la ligne que j’ai ajoutée dans le fichier /etc/fstab :\n\n/dev/mapper/vg_mysql-lv_mysql /data/mysql ext4 defaults 1 2\n\nJ’ai donc un tout nouveau file system de 10 Go rien que pour MySQL.\n\n\n## Configurer MySQL et migrer les données\n\nTout d’abord, on arrête MySQL.\n\n[root@xxxxxx ~]# service mysqld stop Arrêt de mysqld : [ OK ]\n\nOn passe ensuite à la configuration.\n\n[root@xxxxxx ~]# vi /etc/my.cnf [mysqld] datadir=/data/mysql socket=/var/lib/mysql/mysql.sock user=mysql # Disabling symbolic-links is recommended to prevent assorted security risks symbolic-links=0 [mysqld_safe] log-error=/var/log/mysqld.log pid-file=/var/run/mysqld/mysqld.pid\n\nVous avez compris, dans le fichier /etc/my.cnf, il faut changer la ligne « datadir ».\n\nOn prépare la nouvelle destination et on copie les données existantes.\n\n[root@xxxxxx ~]# rm -rf /data/mysql/lost+found/ [root@xxxxxx ~]# chown -R mysql: /data/mysql/ [root@xxxxxx ~]# cp -rp /var/lib/mysql/* /data/mysql/ [root@xxxxxx ~]# mv /var/lib/mysql{,.moved}\n\nEnfin, on redémarre MySQL ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n[root@xxxxxx ~]# service mysqld start Démarrage de mysqld : [ OK ]\n\n\n","html":"<p>Par défaut, sur Linux, MySQL stocke ses données dans le dossier /var/lib/mysql. Ce comportement peut être dangereux car dans la grande majorité des cas, le /var n’est pas sur un disque à part et donc MySQL écrit dans le /. On changer l’emplacement des données MySQL par quelques actions simple que vous trouverez ci-dessous.</p>\n\n<h2 id=\"crationdunouvelemplacement\">Création du nouvel emplacement</h2>\n\n<p>J’ai choisi de créer un nouveau Logical Volume LVM pour héberger les data de MySQL.</p>\n\n<p>[root@xxxxxx ~]# pvcreate /dev/sdb Physical volume \"/dev/sdb\" successfully created [root@xxxxxx ~]# vgcreate vg<em>mysql /dev/sdb Volume group \"vg</em>mysql\" successfully created [root@xxxxxx ~]# lvcreate -n lv<em>mysql -l 100%VG vg</em>mysql Logical volume \"lv<em>mysql\" created [root@xxxxxx ~]# mkfs.ext4 /dev/mapper/vg</em>mysql-lv_mysql mke2fs 1.41.12 (17-May-2010) Étiquette de système de fichiers= Type de système d'exploitation : Linux Taille de bloc=4096 (log=2) Taille de fragment=4096 (log=2) « Stride » = 0 blocs, « Stripe width » = 0 blocs 655360 i-noeuds, 2620416 blocs 131020 blocs (5.00%) réservés pour le super utilisateur Premier bloc de données=0 Nombre maximum de blocs du système de fichiers=2684354560 80 groupes de blocs 32768 blocs par groupe, 32768 fragments par groupe 8192 i-noeuds par groupe Superblocs de secours stockés sur les blocs : 32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632 Écriture des tables d'i-noeuds : complété Création du journal (32768 blocs) : complété Écriture des superblocs et de l'information de comptabilité du système de fichiers : complété Le système de fichiers sera automatiquement vérifié tous les 26 montages ou après 180 jours, selon la première éventualité. Utiliser tune2fs -c ou -i pour écraser la valeur. [root@xxxxxx1 ~]# mkdir -p /data/mysql [root@xxxxxx ~]# vi /etc/fstab [root@xxxxxx ~]# mount /data/mysql/</p>\n\n<p>Voici la ligne que j’ai ajoutée dans le fichier /etc/fstab :</p>\n\n<p>/dev/mapper/vg<em>mysql-lv</em>mysql /data/mysql ext4 defaults 1 2</p>\n\n<p>J’ai donc un tout nouveau file system de 10 Go rien que pour MySQL.</p>\n\n<h2 id=\"configurermysqletmigrerlesdonnes\">Configurer MySQL et migrer les données</h2>\n\n<p>Tout d’abord, on arrête MySQL.</p>\n\n<p>[root@xxxxxx ~]# service mysqld stop Arrêt de mysqld : [ OK ]</p>\n\n<p>On passe ensuite à la configuration.</p>\n\n<p>[root@xxxxxx ~]# vi /etc/my.cnf [mysqld] datadir=/data/mysql socket=/var/lib/mysql/mysql.sock user=mysql # Disabling symbolic-links is recommended to prevent assorted security risks symbolic-links=0 [mysqld_safe] log-error=/var/log/mysqld.log pid-file=/var/run/mysqld/mysqld.pid</p>\n\n<p>Vous avez compris, dans le fichier /etc/my.cnf, il faut changer la ligne « datadir ».</p>\n\n<p>On prépare la nouvelle destination et on copie les données existantes.</p>\n\n<p>[root@xxxxxx ~]# rm -rf /data/mysql/lost+found/ [root@xxxxxx ~]# chown -R mysql: /data/mysql/ [root@xxxxxx ~]# cp -rp /var/lib/mysql/* /data/mysql/ [root@xxxxxx ~]# mv /var/lib/mysql{,.moved}</p>\n\n<p>Enfin, on redémarre MySQL <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>[root@xxxxxx ~]# service mysqld start Démarrage de mysqld : [ OK ]</p>","image":"http://blog.techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-28T12:52:37.000Z","created_by":1,"updated_at":"2015-01-28T12:52:37.000Z","updated_by":1,"published_at":"2015-01-28T12:52:37.000Z","published_by":1},{"id":93,"uuid":"d3ff1629-f60e-47f6-a83e-a1b0aea13bbf","title":"Activer les Huge Pages pour Oracle","slug":"activer-les-huge-pages-pour-oracle","markdown":"\nPar défaut sur Linux, le pages mémoires allouées par le système ont une taille de 4 Ko. Les huge pages elles ont une taille de 2 Mo, vous allez me dire que c’est cool mais à quoi ça nous sert ? Et bien sur les instances qui ont beaucoup de mémoire (on va dire plus de 10 Go), utiliser les huge pages a un réel intérêt car avec les petites pages, Oracle va faire beaucoup de CPU pour passer d’une page à l’autre alors qu’avec les huge pages bien plus grosses, ce comportement sera bien moins impactant !\n\n\n## Les Huges Pages et les Transparent Huge Pages\n\nLes Huges Pages existent depuis assez longtemps sur RedHat (depuis les débuts du noyau 2.6) mais les Transparent Huge Pages elles ont été ajoutées dans RedHat 7. La différence entre ces deux là est que les Huge Pages doivent être configurées, on dit au système combien de Huge Pages il doit créer et il les crée lors de son démarrage. Si on veut en rajouter ou en enlever, il faut alors rebooter pour que cela soit effectif. Les Transparent Huge Pages sont elles allouées à la volée, dynamiquement par le système. Ces Transparent Huge Pages sont déconseillées car contrairement aux Huge Pages, elles sont swappables et Oracle déteste être swappé !\n\n#### Détecter si les Huges Pages et/ou les Transparent Huges Pages sont activées\n\n[root@xxxxxx ~]# cat /proc/meminfo | grep -i huge AnonHugePages: 1054720 kB HugePages_Total: 0 HugePages_Free: 0 HugePages_Rsvd: 0 HugePages_Surp: 0 Hugepagesize: 2048 kB\n\nLe résultat de cette commande nous apprend que les Huge Pages ne sont pas activées sur ce système car le « HugePages_Total » est à zéro cependant, les Transparent Huge Pages sont activées car le « AnonHugePages » n’est pas égal à zéro. On peut également vérifier la présence des Transparent Huge Pages en regardant si le daemon « khugepaged » est présent sur le système.\n\n[root@xxxxxx ~]# ps -ef |grep huge root 60 2 0 2013 ? 00:01:19 [khugepaged] root 18586 18556 0 09:02 pts/1 00:00:00 grep huge\n\n####  Désactiver les Transparent Huge Pages\n\nPour désactiver les Transparent Huge Pages, il faut passer un paramètre supplémentaire au noyau du Linux. Cela se fait dans le fichier de configuration du lanceur (Grub de nos jours). Cette option est : « transparent_hugepage=never ».\n\n[root@xxxxxx ~]# cat /boot/grub/grub.conf default=0 timeout=5 splashimage=(hd0,0)/grub/splash.xpm.gz hiddenmenu title Oracle Linux Server (3.8.13-26.2.1.el6uek.x86_64) root (hd0,0) kernel /vmlinuz-3.8.13-26.2.1.el6uek.x86_64 ro root=/dev/mapper/VolGroupSystem-LogVolRacine rd_NO_LUKS rd_LVM_LV=VolGroupSystem/LogVolSwap rd_LVM_LV=VolGroupSystem/LogVolRacine rd_NO_MD LANG=fr_FR.UTF-8 SYSFONT=latarcyrheb-sun16 KEYBOARDTYPE=pc KEYTABLE=fr-latin9 rd_NO_DM rhgb quiet numa=off transparent_hugepage=never initrd /initramfs-3.8.13-26.2.1.el6uek.x86_64.img\n\nLes modifications seront effectives au prochain reboot sur ce noyau.\n\n**<span style=\"text-decoration: underline;\">Attention :</span>** En cas de mise à jour du système, il se peut qu’un nouveau noyau soit ajouté, il faudra penser a refaire cette manipulation.\n\n\n## Activer les Huge Pages pour Oracle\n\n#### Désactiver la gestion automatique de la mémoire\n\nLa gestion automatique de la mémoire est disponible depuis la version 11g d’Oracle, elle permet de ne plus avoir a gérer les différentes zones de la mémoire d’Oracle (SGA et PGA). On donne un total de mémoire a utiliser et Oracle coupe et redimensionne ses zones en fonction de ses besoins. Ce comportement n’est pas compatible avec les Huge Pages.\n\nPour désactiver l’AMM, il faut revenir au comportement qu’avait Oracle en 10g, c’est à dire :\n\n- Mettre les paramètres « memory_target » et « memory_max_target » à 0 pour les désactiver\n- Renseigner les paramètres liés à la SGA et à la PGA : - Pour la SGA : « sga_target » et « sga_max_size »\n- Pour la PGA : « pga_target » et « pga_aggregate_target »\n\nCes paramètres ne sont appliqués qu’une fois que la base aura redémarrée.\n\n#### Calculer le nombre de Huge Pages a créer\n\n[root@xxxxxx ~]# cat /proc/meminfo MemTotal: 6125356 kB MemFree: 134556 kB\n\nLa machine dispose de 6 Go de mémoire totale, nous allons allouer 5 Go de mémoire aux HugePages.\n\nDans le fichier /etc/security/limits.conf, positionner les paramètres suivant :\n\n* soft memlock 5242880 * hard memlock 5242880\n\nSe reconnecter en temps qu’oracle pour vérifier la modification du paramètre via la commande :\n\nulimit –l\n\nCalculons le nombre de de HugePages qui seront nécessaires à Oracle, le script utilisé est fourni par Oracle, vous le trouverez en vous connectant à au site [http://support.oracle.com](http://support.oracle.com), dans le Doc : « Doc ID 401749.1 ».\n\nRecommended setting: vm.nr_hugepages = 1538\n\nVérifions que le paramètres des Huge Pages n’est pas déjà défini sur le système.\n\n[root@CNSDAO11 ~]# grep \"vm.nr_hugepages\" /etc/sysctl.conf\n\nLe paramètre « vm.nr_hugepages » n’est pas positionné sur ce système. Ajouter la ligne suivante dans le fichier « /etc/sysctl.conf ».\n\nvm.nr_hugepages = 1538\n\nIl ne reste plus qu’a redémarrer la machine et Oracle utilisera les Huge Pages ","html":"<p>Par défaut sur Linux, le pages mémoires allouées par le système ont une taille de 4 Ko. Les huge pages elles ont une taille de 2 Mo, vous allez me dire que c’est cool mais à quoi ça nous sert ? Et bien sur les instances qui ont beaucoup de mémoire (on va dire plus de 10 Go), utiliser les huge pages a un réel intérêt car avec les petites pages, Oracle va faire beaucoup de CPU pour passer d’une page à l’autre alors qu’avec les huge pages bien plus grosses, ce comportement sera bien moins impactant !</p>\n\n<h2 id=\"leshugespagesetlestransparenthugepages\">Les Huges Pages et les Transparent Huge Pages</h2>\n\n<p>Les Huges Pages existent depuis assez longtemps sur RedHat (depuis les débuts du noyau 2.6) mais les Transparent Huge Pages elles ont été ajoutées dans RedHat 7. La différence entre ces deux là est que les Huge Pages doivent être configurées, on dit au système combien de Huge Pages il doit créer et il les crée lors de son démarrage. Si on veut en rajouter ou en enlever, il faut alors rebooter pour que cela soit effectif. Les Transparent Huge Pages sont elles allouées à la volée, dynamiquement par le système. Ces Transparent Huge Pages sont déconseillées car contrairement aux Huge Pages, elles sont swappables et Oracle déteste être swappé !</p>\n\n<h4 id=\"dtectersileshugespagesetoulestransparenthugespagessontactives\">Détecter si les Huges Pages et/ou les Transparent Huges Pages sont activées</h4>\n\n<p>[root@xxxxxx ~]# cat /proc/meminfo | grep -i huge AnonHugePages: 1054720 kB HugePages<em>Total: 0 HugePages</em>Free: 0 HugePages<em>Rsvd: 0 HugePages</em>Surp: 0 Hugepagesize: 2048 kB</p>\n\n<p>Le résultat de cette commande nous apprend que les Huge Pages ne sont pas activées sur ce système car le « HugePages_Total » est à zéro cependant, les Transparent Huge Pages sont activées car le « AnonHugePages » n’est pas égal à zéro. On peut également vérifier la présence des Transparent Huge Pages en regardant si le daemon « khugepaged » est présent sur le système.</p>\n\n<p>[root@xxxxxx ~]# ps -ef |grep huge root 60 2 0 2013 ? 00:01:19 [khugepaged] root 18586 18556 0 09:02 pts/1 00:00:00 grep huge</p>\n\n<h4 id=\"dsactiverlestransparenthugepages\"> Désactiver les Transparent Huge Pages</h4>\n\n<p>Pour désactiver les Transparent Huge Pages, il faut passer un paramètre supplémentaire au noyau du Linux. Cela se fait dans le fichier de configuration du lanceur (Grub de nos jours). Cette option est : « transparent_hugepage=never ».</p>\n\n<p>[root@xxxxxx ~]# cat /boot/grub/grub.conf default=0 timeout=5 splashimage=(hd0,0)/grub/splash.xpm.gz hiddenmenu title Oracle Linux Server (3.8.13-26.2.1.el6uek.x86<em>64) root (hd0,0) kernel /vmlinuz-3.8.13-26.2.1.el6uek.x86</em>64 ro root=/dev/mapper/VolGroupSystem-LogVolRacine rd<em>NO</em>LUKS rd<em>LVM</em>LV=VolGroupSystem/LogVolSwap rd<em>LVM</em>LV=VolGroupSystem/LogVolRacine rd<em>NO</em>MD LANG=fr<em>FR.UTF-8 SYSFONT=latarcyrheb-sun16 KEYBOARDTYPE=pc KEYTABLE=fr-latin9 rd</em>NO<em>DM rhgb quiet numa=off transparent</em>hugepage=never initrd /initramfs-3.8.13-26.2.1.el6uek.x86_64.img</p>\n\n<p>Les modifications seront effectives au prochain reboot sur ce noyau.</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Attention :</span></strong> En cas de mise à jour du système, il se peut qu’un nouveau noyau soit ajouté, il faudra penser a refaire cette manipulation.</p>\n\n<h2 id=\"activerleshugepagespouroracle\">Activer les Huge Pages pour Oracle</h2>\n\n<h4 id=\"dsactiverlagestionautomatiquedelammoire\">Désactiver la gestion automatique de la mémoire</h4>\n\n<p>La gestion automatique de la mémoire est disponible depuis la version 11g d’Oracle, elle permet de ne plus avoir a gérer les différentes zones de la mémoire d’Oracle (SGA et PGA). On donne un total de mémoire a utiliser et Oracle coupe et redimensionne ses zones en fonction de ses besoins. Ce comportement n’est pas compatible avec les Huge Pages.</p>\n\n<p>Pour désactiver l’AMM, il faut revenir au comportement qu’avait Oracle en 10g, c’est à dire :</p>\n\n<ul>\n<li>Mettre les paramètres « memory<em>target » et « memory</em>max_target » à 0 pour les désactiver</li>\n<li>Renseigner les paramètres liés à la SGA et à la PGA : - Pour la SGA : « sga<em>target » et « sga</em>max_size »</li>\n<li>Pour la PGA : « pga<em>target » et « pga</em>aggregate_target »</li>\n</ul>\n\n<p>Ces paramètres ne sont appliqués qu’une fois que la base aura redémarrée.</p>\n\n<h4 id=\"calculerlenombredehugepagesacrer\">Calculer le nombre de Huge Pages a créer</h4>\n\n<p>[root@xxxxxx ~]# cat /proc/meminfo MemTotal: 6125356 kB MemFree: 134556 kB</p>\n\n<p>La machine dispose de 6 Go de mémoire totale, nous allons allouer 5 Go de mémoire aux HugePages.</p>\n\n<p>Dans le fichier /etc/security/limits.conf, positionner les paramètres suivant :</p>\n\n<ul>\n<li>soft memlock 5242880 * hard memlock 5242880</li>\n</ul>\n\n<p>Se reconnecter en temps qu’oracle pour vérifier la modification du paramètre via la commande :</p>\n\n<p>ulimit –l</p>\n\n<p>Calculons le nombre de de HugePages qui seront nécessaires à Oracle, le script utilisé est fourni par Oracle, vous le trouverez en vous connectant à au site <a href=\"http://support.oracle.com\">http://support.oracle.com</a>, dans le Doc : « Doc ID 401749.1 ».</p>\n\n<p>Recommended setting: vm.nr_hugepages = 1538</p>\n\n<p>Vérifions que le paramètres des Huge Pages n’est pas déjà défini sur le système.</p>\n\n<p>[root@CNSDAO11 ~]# grep \"vm.nr_hugepages\" /etc/sysctl.conf</p>\n\n<p>Le paramètre « vm.nr_hugepages » n’est pas positionné sur ce système. Ajouter la ligne suivante dans le fichier « /etc/sysctl.conf ».</p>\n\n<p>vm.nr_hugepages = 1538</p>\n\n<p>Il ne reste plus qu’a redémarrer la machine et Oracle utilisera les Huge Pages ","image":"http://blog.techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-29T10:03:18.000Z","created_by":1,"updated_at":"2015-01-29T11:06:16.000Z","updated_by":1,"published_at":"2015-01-29T10:03:18.000Z","published_by":1},{"id":94,"uuid":"0ee427a3-109f-4d3e-9215-b40511356cef","title":"Ajouter automatiquement les hôtes dans les known hosts de SSH","slug":"ajouter-automatiquement-les-hotes-dans-les-known-hosts-de-ssh","markdown":"\nLorsque que l’on se connecte pour la première fois à une machine en SSH, le client demande si l’on souhaite ajouter l’hôte aux « known hosts ». En gros, il écrit la « RSA FingerPrint » dans un fichier local, ainsi SSH est sûr que l’hôte est bien celui qu’il dit être. Cependant, ça m’ennuie de devoir taper ‘yes’ à chaque fois … J’ai donc trouvé une astuce pour ajouter automatiquement les hôtes dans les known hosts de SSH.\n\n\n## L’astuce\n\nÉditez le fichier ‘~/.ssh/config’, s’il n’existe pas créez le. Ajoutez autant de blocs comme ci-dessous que nécessaire.\n\nHost 192.* StrictHostKeyChecking no\n\nDans ce cas, tous les hosts dont le nom commence par ‘sl-‘ sont acceptés automatiquement.\n\n[nagios@xxxxxx .ssh]$ ssh 192.168.0.1 Warning: Permanently added '192.168.0.1' (RSA) to the list of known hosts. [nagios@192.168.0.1 ~]$ logout Connection to 192.168.0.1 closed.\n\n \n\n \n\n\n","html":"<p>Lorsque que l’on se connecte pour la première fois à une machine en SSH, le client demande si l’on souhaite ajouter l’hôte aux « known hosts ». En gros, il écrit la « RSA FingerPrint » dans un fichier local, ainsi SSH est sûr que l’hôte est bien celui qu’il dit être. Cependant, ça m’ennuie de devoir taper ‘yes’ à chaque fois … J’ai donc trouvé une astuce pour ajouter automatiquement les hôtes dans les known hosts de SSH.</p>\n\n<h2 id=\"lastuce\">L’astuce</h2>\n\n<p>Éditez le fichier ‘~/.ssh/config’, s’il n’existe pas créez le. Ajoutez autant de blocs comme ci-dessous que nécessaire.</p>\n\n<p>Host 192.* StrictHostKeyChecking no</p>\n\n<p>Dans ce cas, tous les hosts dont le nom commence par ‘sl-‘ sont acceptés automatiquement.</p>\n\n<p>[nagios@xxxxxx .ssh]$ ssh 192.168.0.1 Warning: Permanently added '192.168.0.1' (RSA) to the list of known hosts. [nagios@192.168.0.1 ~]$ logout Connection to 192.168.0.1 closed.</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-29T17:13:04.000Z","created_by":1,"updated_at":"2015-01-29T17:16:00.000Z","updated_by":1,"published_at":"2015-01-29T17:13:04.000Z","published_by":1},{"id":95,"uuid":"c3a9c050-2e45-481b-8c7e-6b449077ad2d","title":"Configurer le chroot avec OpenSSHD","slug":"configurer-le-chroot-avec-opensshd","markdown":"\nLe but de cet article est de décrire comment configurer le chroot avec OpenSSHD. Ce mécanisme permet de « coincer » un utilisateur pouvant se connecter en SSH dans un dossier spécifique. C’est très pratique dans le monde du web pour permettre à des gens de mettre à jour leur site web hébergé sur un serveur mutualisé par exemple. Pour que cela soit possible, il faut qu’OpenSSHD soit au moins installé en version 4.  \n  \n Nous allons « chrooter » tous les users qui appartiennent au groupe « sftp ». Le groupe ‘sftp’ doit exister sur la machine :\n\n[root@xxxxxx /etc/ssh> cat /etc/group | grep sftp sftp:x:501:\n\nSi ce n’est pas le cas, le créer avec la commande :\n\n[root@xxxxxx /etc/ssh> groupadd sftp\n\n \n\n\n## Configuration du chroot\n\nEditer le fichier de configuration d’openssh-server :\n\n[root@xxxxxx /etc/ssh> vi /etc/ssh/sshd_config\n\nLes dernières lignes du fichier doivent être :\n\n# override default of no subsystems Subsystem sftp internal-sftp # These lines must appear at the *end* of sshd_config Match Group sftp ChrootDirectory /sftp_mnt/%u ForceCommand internal-sftp AllowTcpForwarding no\n\nLa ligne ChrootDirectory définie le dossier dans lequel l’utilisateur sera enfermé.\n\n- %h remplace le chemin complet vers le dossier home de l’utilisateur.\n- %u sera remplacé par le nom de l’utilisateur.\n\n \n\n<span style=\"text-decoration: underline;\">Note :</span> La configuration actuelle va donc emprisonner les utilisateurs dans un dossier portant leur nom, placé sous le dossier /sftp_mnt.\n\nIl faut maintenant créer le dossier /sftp_mnt, puis lui donner les droits :\n\n[root@xxxxxx /etc/ssh> chown root: /sftp [root@xxxxxx /etc/ssh> chown 755 /sftp\n\n \n\nUne fois la configuration sauvée, il faut redémarrer le daemon SSHD :\n\n[root@xxxxxx/etc/ssh> service sshd restart Stopping sshd: [ OK ] Starting sshd: [ OK ]\n\nLes utilisateurs devant être chrootés doivent appartenir au groupe ‘sftp’.\n\nSi l’utilisateur existe déjà :\n\n[root@xxxxxx /etc/ssh> usermod -aG sftp usftp [root@xxxxxx /etc/ssh> id usftp uid=2890(usftp) gid=501(sftp) groups=501(sftp)\n\n \n\nLe dossier dans lequel va être enfermé l’utilisateur et les dossiers au-dessus de ce dernier doivent impérativement appartenir à root:root :\n\n[root@xxxxxx/app> chown root: /sftp/<nom_utilisateur> [root@xxxxxx/app> ls -lrt | grep <nom_utilisateur> drwxr-xr-x 12 root root 1024 Apr 29 14:33 <nom_utilisateur>\n\nPour que les autres utilisateurs puissent ‘descendre’ dans l’arborescence chrootée, il faut positionner les droits : 755\n\n[root@xxxxxx/app> chown 755 /sftp/<nom_utilisateur>\n\n \n\n<span style=\"text-decoration: underline;\">Note :</span> A partir du moment où la configuration du serveur SSH a été rechargée et qu’un utilisateur a été ajouté dans le groupe sftp. Il ne lui sera plus possible de se connecter en SSH. Le compte ne sera plus non plus accessible par la commande su.\n\nIl ne pourra plus faire que du sftp avec ce serveur.\n\n \n\n\n","html":"<p>Le but de cet article est de décrire comment configurer le chroot avec OpenSSHD. Ce mécanisme permet de « coincer » un utilisateur pouvant se connecter en SSH dans un dossier spécifique. C’est très pratique dans le monde du web pour permettre à des gens de mettre à jour leur site web hébergé sur un serveur mutualisé par exemple. Pour que cela soit possible, il faut qu’OpenSSHD soit au moins installé en version 4.  </p>\n\n<p>Nous allons « chrooter » tous les users qui appartiennent au groupe « sftp ». Le groupe ‘sftp’ doit exister sur la machine :</p>\n\n<p>[root@xxxxxx /etc/ssh> cat /etc/group | grep sftp sftp:x:501:</p>\n\n<p>Si ce n’est pas le cas, le créer avec la commande :</p>\n\n<p>[root@xxxxxx /etc/ssh> groupadd sftp</p>\n\n<h2 id=\"configurationduchroot\">Configuration du chroot</h2>\n\n<p>Editer le fichier de configuration d’openssh-server :</p>\n\n<p>[root@xxxxxx /etc/ssh> vi /etc/ssh/sshd_config</p>\n\n<p>Les dernières lignes du fichier doivent être :</p>\n\n<h1 id=\"overridedefaultofnosubsystemssubsystemsftpinternalsftptheselinesmustappearattheendofsshd_configmatchgroupsftpchrootdirectorysftp_mntuforcecommandinternalsftpallowtcpforwardingno\">override default of no subsystems Subsystem sftp internal-sftp # These lines must appear at the <em>end</em> of sshd<em>config Match Group sftp ChrootDirectory /sftp</em>mnt/%u ForceCommand internal-sftp AllowTcpForwarding no</h1>\n\n<p>La ligne ChrootDirectory définie le dossier dans lequel l’utilisateur sera enfermé.</p>\n\n<ul>\n<li>%h remplace le chemin complet vers le dossier home de l’utilisateur.</li>\n<li><p>%u sera remplacé par le nom de l’utilisateur.</p></li>\n</ul>\n\n<p><span style=\"text-decoration: underline;\">Note :</span> La configuration actuelle va donc emprisonner les utilisateurs dans un dossier portant leur nom, placé sous le dossier /sftp_mnt.</p>\n\n<p>Il faut maintenant créer le dossier /sftp_mnt, puis lui donner les droits :</p>\n\n<p>[root@xxxxxx /etc/ssh> chown root: /sftp [root@xxxxxx /etc/ssh> chown 755 /sftp</p>\n\n<p>Une fois la configuration sauvée, il faut redémarrer le daemon SSHD :</p>\n\n<p>[root@xxxxxx/etc/ssh> service sshd restart Stopping sshd: [ OK ] Starting sshd: [ OK ]</p>\n\n<p>Les utilisateurs devant être chrootés doivent appartenir au groupe ‘sftp’.</p>\n\n<p>Si l’utilisateur existe déjà :</p>\n\n<p>[root@xxxxxx /etc/ssh> usermod -aG sftp usftp [root@xxxxxx /etc/ssh> id usftp uid=2890(usftp) gid=501(sftp) groups=501(sftp)</p>\n\n<p>Le dossier dans lequel va être enfermé l’utilisateur et les dossiers au-dessus de ce dernier doivent impérativement appartenir à root:root :</p>\n\n<p>[root@xxxxxx/app> chown root: /sftp/<nom_utilisateur> [root@xxxxxx/app> ls -lrt | grep <nom_utilisateur> drwxr-xr-x 12 root root 1024 Apr 29 14:33 <nom_utilisateur></p>\n\n<p>Pour que les autres utilisateurs puissent ‘descendre’ dans l’arborescence chrootée, il faut positionner les droits : 755</p>\n\n<p>[root@xxxxxx/app> chown 755 /sftp/<nom_utilisateur></p>\n\n<p><span style=\"text-decoration: underline;\">Note :</span> A partir du moment où la configuration du serveur SSH a été rechargée et qu’un utilisateur a été ajouté dans le groupe sftp. Il ne lui sera plus possible de se connecter en SSH. Le compte ne sera plus non plus accessible par la commande su.</p>\n\n<p>Il ne pourra plus faire que du sftp avec ce serveur.</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-01-30T10:20:37.000Z","created_by":1,"updated_at":"2015-01-27T10:21:56.000Z","updated_by":1,"published_at":"2015-01-30T10:20:37.000Z","published_by":1},{"id":96,"uuid":"b6719911-d10a-47b9-9e0d-2b03898974fe","title":"Changer le moteur utilisé par une base MySQL","slug":"changer-le-moteur-utilise-par-une-base-mysql","markdown":"\nIl est parfois nécessaire de changer le moteur qu’utilise MySQL pour gérer une ou plusieurs tables. Les deux moteurs principaux sont MyISAM et InnoDB. Chacun a ses avantages et ses inconvénients et parfois, on a pas trop le choix, certaines applications utilisent une fonctionnalité d’un de ces moteurs et est donc figée sur celui-ci.  Il reste cependant possible d’en changer en cours de route, c’est ce que nous allons voir ici.\n\nJe pars du principe que l’on veut changer le moteur de toutes les tables de la base, pour ne le changer que sur une table, c’est très simple, il suffit de jouer la requête SQL à la fin de cet article juste une fois sur la table visée.\n\n\n## La table INFORMATION_SCHEMA.tables\n\n[![Changer le moteur utilisé par une base MySQL](https://techan.fr/images/2015/01/describe_information_schema_tables.png)](https://techan.fr/images/2015/01/describe_information_schema_tables.png)\n\nCette table stocke les informations liées à toutes les tables existantes dans l’instance MySQL. On y trouve notamment, les champs « table_name » et « table_schema ».\n\n- Table_name, est bizarrement le nom de la table\n- Table_schema est le nom de la base dans laquelle la table a été créée.\n\n\n## Générer le code SQL pour changer le moteur utilisé par une base MySQL\n\n La requête suivante est ce que l’on appelle du méta-SQL, un bien grand mot pour désigner une requête qui en génère d’autre. Une fois exécutée elle retourne une requête customisée par ligne de résultat qu’elle aurait normalement retournée.\n\nmysql> select concat('ALTER TABLE ', table_name, ' ENGINE = MyISAM;') from (select table_name from INFORMATION_SCHEMA.tables where TABLE_schema='xxxx') a ; +---------------------------------------------------------+ | concat('ALTER TABLE ', table_name, ' ENGINE = MyISAM;') | +---------------------------------------------------------+ | ALTER TABLE wp_commentmeta ENGINE = MyISAM; | | ALTER TABLE wp_comments ENGINE = MyISAM; | | ALTER TABLE wp_wfVulnScanners ENGINE = MyISAM; | +---------------------------------------------------------+ 36 rows in set (0.00 sec)\n\n Il suffit en suite d’exécuter les requêtes qu’elle génère et les tables passent en MyISAM.\n\nmysql> ALTER TABLE wp_commentmeta ENGINE = MyISAM; Query OK, 0 rows affected (0.03 sec) Records: 0 Duplicates: 0 Warnings: 0\n\n[![Changer le moteur utilisé par une base MySQL](https://techan.fr/images/2015/01/table_transformee_myisam.png)](https://techan.fr/images/2015/01/table_transformee_myisam.png)\n\n\n","html":"<p>Il est parfois nécessaire de changer le moteur qu’utilise MySQL pour gérer une ou plusieurs tables. Les deux moteurs principaux sont MyISAM et InnoDB. Chacun a ses avantages et ses inconvénients et parfois, on a pas trop le choix, certaines applications utilisent une fonctionnalité d’un de ces moteurs et est donc figée sur celui-ci.  Il reste cependant possible d’en changer en cours de route, c’est ce que nous allons voir ici.</p>\n\n<p>Je pars du principe que l’on veut changer le moteur de toutes les tables de la base, pour ne le changer que sur une table, c’est très simple, il suffit de jouer la requête SQL à la fin de cet article juste une fois sur la table visée.</p>\n\n<h2 id=\"latableinformation_schematables\">La table INFORMATION_SCHEMA.tables</h2>\n\n<p><a href=\"https://techan.fr/images/2015/01/describe_information_schema_tables.png\"><img src=\"https://techan.fr/images/2015/01/describe_information_schema_tables.png\" alt=\"Changer le moteur utilisé par une base MySQL\" title=\"\" /></a></p>\n\n<p>Cette table stocke les informations liées à toutes les tables existantes dans l’instance MySQL. On y trouve notamment, les champs « table<em>name » et « table</em>schema ».</p>\n\n<ul>\n<li>Table_name, est bizarrement le nom de la table</li>\n<li>Table_schema est le nom de la base dans laquelle la table a été créée.</li>\n</ul>\n\n<h2 id=\"gnrerlecodesqlpourchangerlemoteurutilisparunebasemysql\">Générer le code SQL pour changer le moteur utilisé par une base MySQL</h2>\n\n<p> La requête suivante est ce que l’on appelle du méta-SQL, un bien grand mot pour désigner une requête qui en génère d’autre. Une fois exécutée elle retourne une requête customisée par ligne de résultat qu’elle aurait normalement retournée.</p>\n\n<p>mysql> select concat('ALTER TABLE ', table<em>name, ' ENGINE = MyISAM;') from (select table</em>name from INFORMATION<em>SCHEMA.tables where TABLE</em>schema='xxxx') a ; +---------------------------------------------------------+ | concat('ALTER TABLE ', table<em>name, ' ENGINE = MyISAM;') | +---------------------------------------------------------+ | ALTER TABLE wp</em>commentmeta ENGINE = MyISAM; | | ALTER TABLE wp<em>comments ENGINE = MyISAM; | | ALTER TABLE wp</em>wfVulnScanners ENGINE = MyISAM; | +---------------------------------------------------------+ 36 rows in set (0.00 sec)</p>\n\n<p> Il suffit en suite d’exécuter les requêtes qu’elle génère et les tables passent en MyISAM.</p>\n\n<p>mysql> ALTER TABLE wp_commentmeta ENGINE = MyISAM; Query OK, 0 rows affected (0.03 sec) Records: 0 Duplicates: 0 Warnings: 0</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/table_transformee_myisam.png\"><img src=\"https://techan.fr/images/2015/01/table_transformee_myisam.png\" alt=\"Changer le moteur utilisé par une base MySQL\" title=\"\" /></a></p>","image":"http://blog.techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-02-02T11:20:21.000Z","created_by":1,"updated_at":"2015-02-02T11:32:34.000Z","updated_by":1,"published_at":"2015-02-02T11:20:21.000Z","published_by":1},{"id":97,"uuid":"baccbae8-335e-47e7-af4b-9b45468600a0","title":"Ménage dans SRM après un test de bascule","slug":"menage-dans-srm-apres-un-test-de-bascule","markdown":"\nDans le cadre d’un exercice de Plan de Reprise d’Activité (PCA), nous avons coupé le lien réseau qui liait le site principal et le site secondaire. Les deux site se sont alors retrouvés isolés, la production continue de tourner sur le site principal et le PCA peut être déclenché sur le site secondaire car il ne voit plus son grand frère.  \n  \n Nous partons du principe que le stockage a bien été répliqué, que la bascule avec Site Recovery Manager (SRM) a bien fonctionné, que les tests sont terminés et que vous souhaitez revenir à la configuration initiale. Une fois la configuration du retour arrière mise en place, les deux sites se revoient mais pour SRM, la production est toujours sur le site de secours car le FailBack (retour arrière) n’a pas été fait. On ne souhaite pas le faire car il demande l’inversion des flux de synchronisation stockage et NAS comme si la production était réellement passée sur le site de secours.\n\nVoici la marche à suivre pour faire le ménage dans SRM après un test de bascule.\n\nTout d’abord, retirez tous les Protection Groups de vos Recovery Plans.\n\n[![Ménage dans SRM après un test de bascule](https://techan.fr/images/2015/02/screenshot.1422870859.png)](https://techan.fr/images/2015/02/screenshot.1422870859.png)\n\n<div style=\"float: left; margin-right: 10px;\"><div class=\"wp-caption aligncenter\" id=\"attachment_951\" style=\"width: 416px\">[![Ménage dans SRM après un test de bascule](https://techan.fr/images/2015/01/pg_post_bacule.png)](https://techan.fr/images/2015/01/pg_post_bacule.png)Voici à quoi devraient ressembler vos Protection Groups\n\n</div></div><div style=\"float: left;\"><div class=\"wp-caption aligncenter\" id=\"attachment_953\" style=\"width: 369px\">[![Ménage dans SRM après un test de bascule](https://techan.fr/images/2015/01/rp_post_bacule.png)](https://techan.fr/images/2015/01/rp_post_bacule.png)Et vos Recovery Plan, même s’ils peuvent ne pas être dans cet état car la capture a été prise après la suppression de quelques Protection Groups.\n\n</div></div><div style=\"clear: both;\"></div>Dans cet état là, vous allez devoir supprimer vos Protection Groups ce qui va retirer la protection de VMs qu’ils hébergent. Une fois ceci fait, vous devrez supprimer vos Recovery Plans. Vous devrez ensuite recréer vos Protections Groups comme ils étaient configurés puis protéger vos VMs.\n\nUne fois cette reconfiguration faite, vous devriez avoir un résultat propre comme celui ci-dessous les warnings en moins. J’ai de warnings car les deux VMs ont des Raw Device Mapping qui ne sont pas répliqués.\n\n<div style=\"float: left; margin-right: 10px;\">[![Ménage dans SRM après un test de bascule](https://techan.fr/images/2015/01/pg_post_menage.png)](https://techan.fr/images/2015/01/pg_post_menage.png)</div><div style=\"float: left;\">[![Ménage dans SRM après un test de bascule](https://techan.fr/images/2015/01/vm_erreur_post_menage.png)](https://techan.fr/images/2015/01/vm_erreur_post_menage.png)</div><div style=\"clear: both;\">  Ils suffit ensuite de recréer les Recovery Plans et de remettre les priorités sur les VMs comme c’était avant.</div>[![Ménage dans SRM après un test de bascule](https://techan.fr/images/2015/01/rp_post_menage.png)](https://techan.fr/images/2015/01/rp_post_menage.png)\n\nEt voilà, SRM est reparti dans le bon sens !\n\nPour les curieux, voici la KB qui m’a donné la solution, vous trouverez son le lien vers la page web dans les annexes en bas de la page.\n\n[![Ménage dans SRM après un test de bascule](https://techan.fr/images/2015/01/kb_srm_vmware.jpg)](https://techan.fr/images/2015/01/kb_srm_vmware.jpg)\n\nLiens :\n\n- [La KB VMware](https://www.vmware.com/support/srm/srm-releasenotes-5-8-0.html)\n\n\n","html":"<p>Dans le cadre d’un exercice de Plan de Reprise d’Activité (PCA), nous avons coupé le lien réseau qui liait le site principal et le site secondaire. Les deux site se sont alors retrouvés isolés, la production continue de tourner sur le site principal et le PCA peut être déclenché sur le site secondaire car il ne voit plus son grand frère.  </p>\n\n<p>Nous partons du principe que le stockage a bien été répliqué, que la bascule avec Site Recovery Manager (SRM) a bien fonctionné, que les tests sont terminés et que vous souhaitez revenir à la configuration initiale. Une fois la configuration du retour arrière mise en place, les deux sites se revoient mais pour SRM, la production est toujours sur le site de secours car le FailBack (retour arrière) n’a pas été fait. On ne souhaite pas le faire car il demande l’inversion des flux de synchronisation stockage et NAS comme si la production était réellement passée sur le site de secours.</p>\n\n<p>Voici la marche à suivre pour faire le ménage dans SRM après un test de bascule.</p>\n\n<p>Tout d’abord, retirez tous les Protection Groups de vos Recovery Plans.</p>\n\n<p><a href=\"https://techan.fr/images/2015/02/screenshot.1422870859.png\"><img src=\"https://techan.fr/images/2015/02/screenshot.1422870859.png\" alt=\"Ménage dans SRM après un test de bascule\" title=\"\" /></a></p>\n\n<p><div style=\"float: left; margin-right: 10px;\"><div class=\"wp-caption aligncenter\" id=\"attachment_951\" style=\"width: 416px\"><a href=\"https://techan.fr/images/2015/01/pg_post_bacule.png\"><img src=\"https://techan.fr/images/2015/01/pg_post_bacule.png\" alt=\"Ménage dans SRM après un test de bascule\" title=\"\" /></a>Voici à quoi devraient ressembler vos Protection Groups</p>\n\n<p></div></div><div style=\"float: left;\"><div class=\"wp-caption aligncenter\" id=\"attachment_953\" style=\"width: 369px\"><a href=\"https://techan.fr/images/2015/01/rp_post_bacule.png\"><img src=\"https://techan.fr/images/2015/01/rp_post_bacule.png\" alt=\"Ménage dans SRM après un test de bascule\" title=\"\" /></a>Et vos Recovery Plan, même s’ils peuvent ne pas être dans cet état car la capture a été prise après la suppression de quelques Protection Groups.</p>\n\n<p></div></div><div style=\"clear: both;\"></div>Dans cet état là, vous allez devoir supprimer vos Protection Groups ce qui va retirer la protection de VMs qu’ils hébergent. Une fois ceci fait, vous devrez supprimer vos Recovery Plans. Vous devrez ensuite recréer vos Protections Groups comme ils étaient configurés puis protéger vos VMs.</p>\n\n<p>Une fois cette reconfiguration faite, vous devriez avoir un résultat propre comme celui ci-dessous les warnings en moins. J’ai de warnings car les deux VMs ont des Raw Device Mapping qui ne sont pas répliqués.</p>\n\n<p><div style=\"float: left; margin-right: 10px;\"><a href=\"https://techan.fr/images/2015/01/pg_post_menage.png\"><img src=\"https://techan.fr/images/2015/01/pg_post_menage.png\" alt=\"Ménage dans SRM après un test de bascule\" title=\"\" /></a></div><div style=\"float: left;\"><a href=\"https://techan.fr/images/2015/01/vm_erreur_post_menage.png\"><img src=\"https://techan.fr/images/2015/01/vm_erreur_post_menage.png\" alt=\"Ménage dans SRM après un test de bascule\" title=\"\" /></a></div><div style=\"clear: both;\">  Ils suffit ensuite de recréer les Recovery Plans et de remettre les priorités sur les VMs comme c’était avant.</div><a href=\"https://techan.fr/images/2015/01/rp_post_menage.png\"><img src=\"https://techan.fr/images/2015/01/rp_post_menage.png\" alt=\"Ménage dans SRM après un test de bascule\" title=\"\" /></a></p>\n\n<p>Et voilà, SRM est reparti dans le bon sens !</p>\n\n<p>Pour les curieux, voici la KB qui m’a donné la solution, vous trouverez son le lien vers la page web dans les annexes en bas de la page.</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/kb_srm_vmware.jpg\"><img src=\"https://techan.fr/images/2015/01/kb_srm_vmware.jpg\" alt=\"Ménage dans SRM après un test de bascule\" title=\"\" /></a></p>\n\n<p>Liens :</p>\n\n<ul>\n<li><a href=\"https://www.vmware.com/support/srm/srm-releasenotes-5-8-0.html\">La KB VMware</a></li>\n</ul>","image":"http://blog.techan.fr/images/2015/01/vmware_vsphere_client_high_def_icon_by_flakshack-d4o96dy.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-02-03T10:17:58.000Z","created_by":1,"updated_at":"2015-02-02T11:56:21.000Z","updated_by":1,"published_at":"2015-02-03T10:17:58.000Z","published_by":1},{"id":98,"uuid":"70a19ed6-555d-4566-a547-d2dec3211cf6","title":"Réduire la taille d'un tempfile qui a pris ses aises","slug":"reduire-la-taille-dun-tempfile-qui-a-pris-ses-aises","markdown":"\nParfois les tempfiles prennent un peu leurs aises sur leur file system, notamment s’ils sont configurés en auto extend avec une limite haute, je crois que par défaut la taille max est de 32 Go. Quand ils abusent vraiment, ils peuvent bloquer le file system à 100% et comme évidement, il est sur le même que vos data files, vous êtes coincés …\n\nVoici donc la marche à suivre pour réduire la taille de ce fichier indélicat sans en créer de nouveau et sans manipulation compliquée. Il faut par contre avoir une base en version 10g minimum …\n\n\n## Le constat\n\n[![Réduire la taille d'un tempfile qui a pris ses aises](https://techan.fr/images/2015/01/temp_file_plein_avant_reduction.png)](https://techan.fr/images/2015/01/temp_file_plein_avant_reduction.png)\n\nLe voilà ce méchant temp01.dbf qui prend toute la couette avec ses 31,3 Go … On va lui régler son compte !\n\n\n## Réduire la taille d’un tempfile qui a pris ses aises\n\nVoilà comment procéder pour réduire la taille d’un tempfile qui a explosé :\n\n[oracle@xxxxxx trace](DWH)$ sqlplus SQL*Plus: Release 11.2.0.1.0 Production on Wed Jan 28 15:42:11 2015 Copyright (c) 1982, 2009, Oracle. All rights reserved. Enter user-name: /as sysdba Connecte a : Oracle Database 11g Release 11.2.0.1.0 - 64bit Production SQL> alter tablespace TEMP shrink space keep 1G; Tablespace modifie. SQL> alter database tempfile '/u02/oradata/DWH/temp01.dbf' resize 1G; Base de donnees modifiee.\n\nJ’ai ensuite bloqué sa taille max à 10G au lieu de 32G avant.\n\nSQL> alter database tempfile '/u02/oradata/DWH/temp01.dbf' autoextend on maxsize 10G ; Base de donnees modifiee.\n\nEt voilà, le file system respire ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n[oracle@xxxxxx trace](DWH)$ df -h /u02 Sys. de fichiers Taille Uti. Disp. Uti% Monté sur /dev/mapper/VolGroup--u02-vol--u02 102G 70G 30G 71% /u02\n\n[![Réduire la taille d'un tempfile qui a pris ses aises](https://techan.fr/images/2015/01/temp_file_plein_aprest_reduction.png)](https://techan.fr/images/2015/01/temp_file_plein_aprest_reduction.png)\n\n\n","html":"<p>Parfois les tempfiles prennent un peu leurs aises sur leur file system, notamment s’ils sont configurés en auto extend avec une limite haute, je crois que par défaut la taille max est de 32 Go. Quand ils abusent vraiment, ils peuvent bloquer le file system à 100% et comme évidement, il est sur le même que vos data files, vous êtes coincés …</p>\n\n<p>Voici donc la marche à suivre pour réduire la taille de ce fichier indélicat sans en créer de nouveau et sans manipulation compliquée. Il faut par contre avoir une base en version 10g minimum …</p>\n\n<h2 id=\"leconstat\">Le constat</h2>\n\n<p><a href=\"https://techan.fr/images/2015/01/temp_file_plein_avant_reduction.png\"><img src=\"https://techan.fr/images/2015/01/temp_file_plein_avant_reduction.png\" alt=\"Réduire la taille d'un tempfile qui a pris ses aises\" title=\"\" /></a></p>\n\n<p>Le voilà ce méchant temp01.dbf qui prend toute la couette avec ses 31,3 Go … On va lui régler son compte !</p>\n\n<h2 id=\"rduirelatailleduntempfilequiaprissesaises\">Réduire la taille d’un tempfile qui a pris ses aises</h2>\n\n<p>Voilà comment procéder pour réduire la taille d’un tempfile qui a explosé :</p>\n\n<p><a href=\"DWH\">oracle@xxxxxx trace</a>$ sqlplus SQL*Plus: Release 11.2.0.1.0 Production on Wed Jan 28 15:42:11 2015 Copyright (c) 1982, 2009, Oracle. All rights reserved. Enter user-name: /as sysdba Connecte a : Oracle Database 11g Release 11.2.0.1.0 - 64bit Production SQL> alter tablespace TEMP shrink space keep 1G; Tablespace modifie. SQL> alter database tempfile '/u02/oradata/DWH/temp01.dbf' resize 1G; Base de donnees modifiee.</p>\n\n<p>J’ai ensuite bloqué sa taille max à 10G au lieu de 32G avant.</p>\n\n<p>SQL> alter database tempfile '/u02/oradata/DWH/temp01.dbf' autoextend on maxsize 10G ; Base de donnees modifiee.</p>\n\n<p>Et voilà, le file system respire <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p><a href=\"DWH\">oracle@xxxxxx trace</a>$ df -h /u02 Sys. de fichiers Taille Uti. Disp. Uti% Monté sur /dev/mapper/VolGroup--u02-vol--u02 102G 70G 30G 71% /u02</p>\n\n<p><a href=\"https://techan.fr/images/2015/01/temp_file_plein_aprest_reduction.png\"><img src=\"https://techan.fr/images/2015/01/temp_file_plein_aprest_reduction.png\" alt=\"Réduire la taille d'un tempfile qui a pris ses aises\" title=\"\" /></a></p>","image":"http://blog.techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-02-04T10:30:31.000Z","created_by":1,"updated_at":"2015-02-04T16:21:37.000Z","updated_by":1,"published_at":"2015-02-04T10:30:31.000Z","published_by":1},{"id":99,"uuid":"74f8acf0-494b-4eb8-b12d-a3f5232bd89a","title":"Terminer les connexions réseau avec tcpkill","slug":"terminer-les-connexions-reseau-avec-tcpkill","markdown":"\nRécemment, un charmant ressortissant d’Albion a gentiment tenté une attaque de brute force sur le présent site. Vous trouverez dans cette article les deux actions que j’ai faite afin de bannir et terminer les connexions réseau avec tcpkill et IPtables.\n\n\n## Action 1: Empêcher les nouvelles connexions\n\nPour empêcher que l’attaquant créer de nouvelles connexions, j’ai ajouté une règle dans IPtables.\n\niptables -I INPUT -s XXX.XXX.XXX.XXX -j DROP\n\nVoilà qui l’empêche d’ouvrir de nouvelles connexions, mais j’en avais encore pas mal d’actives …\n\n\n## Action2: Sortir le bazooka\n\nPour terminer les connexions restantes, j’ai trouvé la commande « tcpkill » que j’ai installé comme ceci sur Ubuntu (sur RedHat le paquet porte le même nom) :\n\naptitude install dsniff\n\nVoici un exemple d’utilisation avec une connexion SSH que j’ai ouverte pour le test. Dans un premier temps, je liste les connexions ouvertes depuis « host1 » qui est l’attaquant.\n\nroot@host2:~# netstat -anp | grep host1 tcp 0 0 host2:22 host1:39524 ESTABLISHED 16882/8\n\nEnsuite, je lance « tcpkill » pour fermer les connexion venant de « host1 » et visant mon port SSH.\n\nroot@host2:~# tcpkill host host1.domain.net and src port 22 tcpkill: listening on eth0 [host host1.domain.net and src port 22] host2.domain.net:22 > host1.domain.net:39524: R 2052257557:2052257557(0) win 0\n\nEt voilà, le ménage est fait.\n\nroot@host2:~# netstat -anp | grep host1 root@host2:~#\n\nCette commande est très flexible et permet de filtrer assez facilement les connexions a tuer et celles qu’il faut laisser vivre. Voici d’autre exemple d’utilisation.\n\n###### Tuer toutes les connexions venant de 192.168.0.100\n\ntcpkill host 192.168.0.100\n\n######  Tuer toutes les connexions sur le port FTP de l’interface eth0\n\ntcpkill -i eth0 port 21\n\n \n\n \n\n\n","html":"<p>Récemment, un charmant ressortissant d’Albion a gentiment tenté une attaque de brute force sur le présent site. Vous trouverez dans cette article les deux actions que j’ai faite afin de bannir et terminer les connexions réseau avec tcpkill et IPtables.</p>\n\n<h2 id=\"action1empcherlesnouvellesconnexions\">Action 1: Empêcher les nouvelles connexions</h2>\n\n<p>Pour empêcher que l’attaquant créer de nouvelles connexions, j’ai ajouté une règle dans IPtables.</p>\n\n<p>iptables -I INPUT -s XXX.XXX.XXX.XXX -j DROP</p>\n\n<p>Voilà qui l’empêche d’ouvrir de nouvelles connexions, mais j’en avais encore pas mal d’actives …</p>\n\n<h2 id=\"action2sortirlebazooka\">Action2: Sortir le bazooka</h2>\n\n<p>Pour terminer les connexions restantes, j’ai trouvé la commande « tcpkill » que j’ai installé comme ceci sur Ubuntu (sur RedHat le paquet porte le même nom) :</p>\n\n<p>aptitude install dsniff</p>\n\n<p>Voici un exemple d’utilisation avec une connexion SSH que j’ai ouverte pour le test. Dans un premier temps, je liste les connexions ouvertes depuis « host1 » qui est l’attaquant.</p>\n\n<p>root@host2:~# netstat -anp | grep host1 tcp 0 0 host2:22 host1:39524 ESTABLISHED 16882/8</p>\n\n<p>Ensuite, je lance « tcpkill » pour fermer les connexion venant de « host1 » et visant mon port SSH.</p>\n\n<p>root@host2:~# tcpkill host host1.domain.net and src port 22 tcpkill: listening on eth0 [host host1.domain.net and src port 22] host2.domain.net:22 > host1.domain.net:39524: R 2052257557:2052257557(0) win 0</p>\n\n<p>Et voilà, le ménage est fait.</p>\n\n<p>root@host2:~# netstat -anp | grep host1 root@host2:~#</p>\n\n<p>Cette commande est très flexible et permet de filtrer assez facilement les connexions a tuer et celles qu’il faut laisser vivre. Voici d’autre exemple d’utilisation.</p>\n\n<h6 id=\"tuertouteslesconnexionsvenantde1921680100\">Tuer toutes les connexions venant de 192.168.0.100</h6>\n\n<p>tcpkill host 192.168.0.100</p>\n\n<h6 id=\"tuertouteslesconnexionssurleportftpdelinterfaceeth0\"> Tuer toutes les connexions sur le port FTP de l’interface eth0</h6>\n\n<p>tcpkill -i eth0 port 21</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-02-04T18:37:49.000Z","created_by":1,"updated_at":"2015-02-04T18:37:49.000Z","updated_by":1,"published_at":"2015-02-04T18:37:49.000Z","published_by":1},{"id":100,"uuid":"2c8f230a-d7e6-456a-8537-a7368eb6cfba","title":"La migration la plus rapide du monde","slug":"la-migration-la-plus-rapide-du-monde","markdown":"\nJe vais vous présenter la migration la plus rapide du monde, elle est également à mon sens la plus simple du monde ! Il s’agit du passage de MySQL à MariaDB. MariaDB est un fork de MySQL créé par des anciens de MySQL qui n’ont pas apprécié le passage de MySQL dans le giron d’Oracle. Les deux SGBD sont très proches car l’équipe de MariaDB utilise le code de MySQL, qu’ils améliorent et étoffent pour faire évoluer MariaDB. MariaDB est réputée plus performante que MySQL car pas mal de bugs ont été corrigés.\n\nC’est surtout sur un coup de tête que j’ai entrepris cette migration, mais il est vrai qu’on remarque très vite que MariaDB est un peu plus réactif que MySQL !\n\n\n## La SUPER migration\n\nJ’ai fait, par acquis de conscience, un backup de mes bases MySQL avant la migration car on ne sait jamais … De plus, j’ai éteint MySQL et copié les fichiers de données pour être sûr …\n\nVoici les commandes qui permettent la migration.\n\nroot@xxxxxx:~# service mysql stop mysql stop/waiting root@xxxxxx:~# aptitude install mariadb-server\n\nEt voilà, MariaDB démarre et la migration est faite !\n\n\n","html":"<p>Je vais vous présenter la migration la plus rapide du monde, elle est également à mon sens la plus simple du monde ! Il s’agit du passage de MySQL à MariaDB. MariaDB est un fork de MySQL créé par des anciens de MySQL qui n’ont pas apprécié le passage de MySQL dans le giron d’Oracle. Les deux SGBD sont très proches car l’équipe de MariaDB utilise le code de MySQL, qu’ils améliorent et étoffent pour faire évoluer MariaDB. MariaDB est réputée plus performante que MySQL car pas mal de bugs ont été corrigés.</p>\n\n<p>C’est surtout sur un coup de tête que j’ai entrepris cette migration, mais il est vrai qu’on remarque très vite que MariaDB est un peu plus réactif que MySQL !</p>\n\n<h2 id=\"lasupermigration\">La SUPER migration</h2>\n\n<p>J’ai fait, par acquis de conscience, un backup de mes bases MySQL avant la migration car on ne sait jamais … De plus, j’ai éteint MySQL et copié les fichiers de données pour être sûr …</p>\n\n<p>Voici les commandes qui permettent la migration.</p>\n\n<p>root@xxxxxx:~# service mysql stop mysql stop/waiting root@xxxxxx:~# aptitude install mariadb-server</p>\n\n<p>Et voilà, MariaDB démarre et la migration est faite !</p>","image":"http://blog.techan.fr/images/2015/02/mysql_to_mariadb.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-02-05T10:30:00.000Z","created_by":1,"updated_at":"2015-02-02T11:31:37.000Z","updated_by":1,"published_at":"2015-02-05T10:30:00.000Z","published_by":1},{"id":101,"uuid":"ee84c0a5-9675-45ac-97c9-0ae14bd50cd8","title":"Optimiser la consommation électrique de Linux","slug":"optimiser-la-consommation-electrique-de-linux","markdown":"\nJe suis tombé plutôt par hasard sur un outil en ligne de commande qui permet d’optimiser la consommation électrique de Linux. Il se base pour cela sur pas mal d’outils bas niveau que l’on a pas forcément l’idée de configurer par soi même. Cet utilitaire permet de gagner de l’autonomie lorsqu’on utilise un portable sur batterie mais également de réduire sa facture d’électricité quand on a une machine toujours allumée. Je suis dans ce deuxième cas.\n\nL’outil est capable de mettre les disques en veille lorsqu’ils ne sont pas utilisés, mettre les carte PCI/PCIe, les périphériques USB, la carte Wifi en veille et de baisser la fréquence du CPU tout cela dynamiquement en fonction de l’activité de la machine.\n\nCet outil s’appelle « tlp », je vous parlerai également de « powertop » qui permet de monitorer en temps réel l’utilisation de puissance électrique de la machine. TLP peut être configuré pour une utilisation sur batterie et/ou sur branché sur le courant.\n\n\n## Installation des packages\n\nyum install tlp tlp-rdw smartmontools powertop\n\nLa configuration de TLP se fait dans le fichier : /etc/default/tlp, voici les paramètres que j’ai changé dans un premier temps.\n\n#CPU_SCALING_GOVERNOR_ON_AC=ondemand -> CPU_SCALING_GOVERNOR_ON_AC=ondemand #CPU_SCALING_GOVERNOR_ON_BAT=ondemand -> CPU_SCALING_GOVERNOR_ON_BAT=ondemand SCHED_POWERSAVE_ON_AC=0 -> SCHED_POWERSAVE_ON_AC=1 DISK_DEVICES=\"sda sdb\" -> DISK_DEVICES=\"sda sdb sdc sdd\" DISK_APM_LEVEL_ON_AC=\"254 254\" -> DISK_APM_LEVEL_ON_AC=\"254 127 127 127\"\n\nEnsuite, on démarre TLP :\n\n[root@xxxxx ~]# tlp ac TLP started in ac mode.\n\nEnsuite, vous pouvez récupérer des informations avec les commandes suivantes :\n\ntlp stat powertop\n\nPar exemple, la commande « powertop » m’apprend que la fréquence de mon CPU0 est 1,7 GHz alors que la fréquence nominale du CPU est 3,3 GHz.\n\n[![Optimiser la consommation électrique de Linux](https://techan.fr/images/2015/02/screenshot.1423041272.png)](https://techan.fr/images/2015/02/screenshot.1423041272.png)\n\nLa commande « tlp stat » donne quand a elle des informations sur le système et les paramètres que tlp lui applique.\n\n[![Optimiser la consommation électrique de Linux](https://techan.fr/images/2015/02/screenshot.1423041485.png)](https://techan.fr/images/2015/02/screenshot.1423041485.png)\n\nIci , on voit les bornes de fréquences qu’impose tlp au CPU.\n\n\n","html":"<p>Je suis tombé plutôt par hasard sur un outil en ligne de commande qui permet d’optimiser la consommation électrique de Linux. Il se base pour cela sur pas mal d’outils bas niveau que l’on a pas forcément l’idée de configurer par soi même. Cet utilitaire permet de gagner de l’autonomie lorsqu’on utilise un portable sur batterie mais également de réduire sa facture d’électricité quand on a une machine toujours allumée. Je suis dans ce deuxième cas.</p>\n\n<p>L’outil est capable de mettre les disques en veille lorsqu’ils ne sont pas utilisés, mettre les carte PCI/PCIe, les périphériques USB, la carte Wifi en veille et de baisser la fréquence du CPU tout cela dynamiquement en fonction de l’activité de la machine.</p>\n\n<p>Cet outil s’appelle « tlp », je vous parlerai également de « powertop » qui permet de monitorer en temps réel l’utilisation de puissance électrique de la machine. TLP peut être configuré pour une utilisation sur batterie et/ou sur branché sur le courant.</p>\n\n<h2 id=\"installationdespackages\">Installation des packages</h2>\n\n<p>yum install tlp tlp-rdw smartmontools powertop</p>\n\n<p>La configuration de TLP se fait dans le fichier : /etc/default/tlp, voici les paramètres que j’ai changé dans un premier temps.</p>\n\n<h1 id=\"cpu_scaling_governor_on_acondemandcpu_scaling_governor_on_acondemandcpu_scaling_governor_on_batondemandcpu_scaling_governor_on_batondemandsched_powersave_on_ac0sched_powersave_on_ac1disk_devicessdasdbdisk_devicessdasdbsdcsdddisk_apm_level_on_ac254254disk_apm_level_on_ac254127127127\">CPU<em>SCALING</em>GOVERNOR<em>ON</em>AC=ondemand -> CPU<em>SCALING</em>GOVERNOR<em>ON</em>AC=ondemand #CPU<em>SCALING</em>GOVERNOR<em>ON</em>BAT=ondemand -> CPU<em>SCALING</em>GOVERNOR<em>ON</em>BAT=ondemand SCHED<em>POWERSAVE</em>ON<em>AC=0 -> SCHED</em>POWERSAVE<em>ON</em>AC=1 DISK<em>DEVICES=\"sda sdb\" -> DISK</em>DEVICES=\"sda sdb sdc sdd\" DISK<em>APM</em>LEVEL<em>ON</em>AC=\"254 254\" -> DISK<em>APM</em>LEVEL<em>ON</em>AC=\"254 127 127 127\"</h1>\n\n<p>Ensuite, on démarre TLP :</p>\n\n<p>[root@xxxxx ~]# tlp ac TLP started in ac mode.</p>\n\n<p>Ensuite, vous pouvez récupérer des informations avec les commandes suivantes :</p>\n\n<p>tlp stat powertop</p>\n\n<p>Par exemple, la commande « powertop » m’apprend que la fréquence de mon CPU0 est 1,7 GHz alors que la fréquence nominale du CPU est 3,3 GHz.</p>\n\n<p><a href=\"https://techan.fr/images/2015/02/screenshot.1423041272.png\"><img src=\"https://techan.fr/images/2015/02/screenshot.1423041272.png\" alt=\"Optimiser la consommation électrique de Linux\" title=\"\" /></a></p>\n\n<p>La commande « tlp stat » donne quand a elle des informations sur le système et les paramètres que tlp lui applique.</p>\n\n<p><a href=\"https://techan.fr/images/2015/02/screenshot.1423041485.png\"><img src=\"https://techan.fr/images/2015/02/screenshot.1423041485.png\" alt=\"Optimiser la consommation électrique de Linux\" title=\"\" /></a></p>\n\n<p>Ici , on voit les bornes de fréquences qu’impose tlp au CPU.</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-02-06T10:21:09.000Z","created_by":1,"updated_at":"2015-02-04T11:22:24.000Z","updated_by":1,"published_at":"2015-02-06T10:21:09.000Z","published_by":1},{"id":102,"uuid":"186bdedd-1499-4baf-83b0-b1bea0344a09","title":"Installer Nagios et Centreon sur Centos 6","slug":"installer-nagios-et-centreon-sur-centos-6","markdown":"\n\n## Actions préparatoires\n\n#### Désactiver SELinux\n\n[root@xxxxxx ~]# selinuxenabled [root@xxxxxx ~]# echo $? 1 [root@xxxxxx ~]#\n\n \n\n \n\nLe résultat est 1 donc SELinux n’est pas activé, si tel était le cas, voici la marche à suivre pour le désactiver.\n\n[root@xxxxxx ~]# vi /etc/sysconfig/selinux # This file controls the state of SELinux on the system. # SELINUX= can take one of these three values: # enforcing - SELinux security policy is enforced. # permissive - SELinux prints warnings instead of enforcing. # disabled - No SELinux policy is loaded. SELINUX=disabled # SELINUXTYPE= can take one of these two values: # targeted - Targeted processes are protected, # mls - Multi Level Security protection. SELINUXTYPE=targeted\n\nPasser le paramètre SELINUX à disabled\n\n \n\n#### Installation des paquets nécessaires\n\n[root@xxxxxx ~]# yum install phpMyAdmin mysql-server [...] Dépendances résolues ===================================================================================================================================================================================== Paquet Architecture Version Dépôt Taille ===================================================================================================================================================================================== Installation: mysql-server x86_64 5.1.73-3.el6_5 base 8.6 M phpMyAdmin noarch 3.5.7-1.el6.rf rpmforge 4.4 M Installation pour dépendance: httpd x86_64 2.2.15-39.el6.centos base 825 k libmcrypt x86_64 2.5.7-1.2.el6.rf rpmforge 196 k mysql x86_64 5.1.73-3.el6_5 base 894 k perl-DBD-MySQL x86_64 4.013-3.el6 base 134 k perl-DBI x86_64 1.609-4.el6 base 705 k php x86_64 5.3.3-40.el6_6 updates 1.1 M php-cli x86_64 5.3.3-40.el6_6 updates 2.2 M php-common x86_64 5.3.3-40.el6_6 updates 527 k php-gd x86_64 5.3.3-40.el6_6 updates 109 k php-mbstring x86_64 5.3.3-40.el6_6 updates 458 k php-mcrypt x86_64 5.3.3-1.el6.rf rpmforge 42 k php-mysql x86_64 5.3.3-40.el6_6 updates 84 k php-pdo x86_64 5.3.3-40.el6_6 updates 78 k Résumé de la transaction ===================================================================================================================================================================================== Installation de 15 paquet(s) Taille totale des téléchargements : 20 M Taille d'installation : 66 M Est-ce correct [o/N] :\n\nCela installe Apache, Php, MySQL et phpMyAdmin.\n\n#### Configuration de PHP\n\nDans le fichier /etc/php.ini, modifier la ligne « date.timezone ».\n\n[Date] ; Defines the default timezone used by the date functions ; http://www.php.net/manual/en/datetime.configuration.php#ini.date.timezone ;date.timezone = date.timezone = Europe/Paris\n\nPuis redémarrer Apache.\n\n[root@sxxxxxx ~]# service httpd restart Arrêt de httpd : [ OK ] Démarrage de httpd : [ OK ]\n\n \n\n\n## Passons aux choses sérieuses\n\n#### Ajouter le dépôt Cenreon\n\n wget http://yum.centreon.com/standard/3.0/stable/ces-standard.repo -O /etc/yum.repos.d/ces-standard.repo\n\nRécupérer la clef GPG du dépôt [à cette adresse](http://yum.centreon.com/standard/3.0/stable/RPM-GPG-KEY-CES) et copier son contenu dans le ficiher /etc/pki/rpm-gpg/RPM-GPG-KEY-CES.\n\n#### Installer Centreon et Nagios\n\n[root@xxxxxx ~]# yum install centreon-base-config-nagios centreon\n\n \n\n#### Configuration de Centréon\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_980\" style=\"width: 634px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422450421.png)](https://techan.fr/images/2015/01/screenshot.1422450421.png)Se rendre sur la page http://servername/centreon\n\n</div> \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_981\" style=\"width: 634px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422450430.png)](https://techan.fr/images/2015/01/screenshot.1422450430.png)Vérifier que les prérequis sont validés.\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_982\" style=\"width: 630px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422450453.png)](https://techan.fr/images/2015/01/screenshot.1422450453.png)Déplier la liste de choix.\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_983\" style=\"width: 631px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422450504.png)](https://techan.fr/images/2015/01/screenshot.1422450504.png)Choisir Nagios et valider que les chemins affichés sont bons sur le serveur.\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_984\" style=\"width: 634px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422450523.png)](https://techan.fr/images/2015/01/screenshot.1422450523.png)Cliquer sur Next.\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_986\" style=\"width: 632px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422450875.png)](https://techan.fr/images/2015/01/screenshot.1422450875.png)Configurer le compte administrateur de Centréon.\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_987\" style=\"width: 634px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422450997.png)](https://techan.fr/images/2015/01/screenshot.1422450997.png)Configurer les connexions à MySQL.\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_988\" style=\"width: 633px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422451027.png)](https://techan.fr/images/2015/01/screenshot.1422451027.png)Si comme moi vous avez cette erreur, appliquer les actions ci-dessous.\n\n</div> \n\nÉditer le fichier de configuration de MySQL et ajouter la ligne :\n\ninnodb_file_per_table=1\n\nDans la partie [mysqld].\n\nPuis redémarrer MySQL et cliquer sur Refresh dans l’installateur de Centréon.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_989\" style=\"width: 642px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422451083.png)](https://techan.fr/images/2015/01/screenshot.1422451083.png)Attendre la fin de l’installation.\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_990\" style=\"width: 635px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422451120.png)](https://techan.fr/images/2015/01/screenshot.1422451120.png)Cliquer sur Next\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_991\" style=\"width: 632px\">[![Installer Nagios et Centreon sur Centos 6](https://techan.fr/images/2015/01/screenshot.1422451133.png)](https://techan.fr/images/2015/01/screenshot.1422451133.png)Et voilà !\n\n</div> \n\n \n\nEt voilà, il ne reste plus qu’a configurer  la supervision ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n[![screenshot.1422451183](https://techan.fr/images/2015/01/screenshot.1422451183.png)](https://techan.fr/images/2015/01/screenshot.1422451183.png)\n\n \n\n\n","html":"<h2 id=\"actionsprparatoires\">Actions préparatoires</h2>\n\n<h4 id=\"dsactiverselinux\">Désactiver SELinux</h4>\n\n<p>[root@xxxxxx ~]# selinuxenabled [root@xxxxxx ~]# echo $? 1 [root@xxxxxx ~]#</p>\n\n<p>Le résultat est 1 donc SELinux n’est pas activé, si tel était le cas, voici la marche à suivre pour le désactiver.</p>\n\n<p>[root@xxxxxx ~]# vi /etc/sysconfig/selinux # This file controls the state of SELinux on the system. # SELINUX= can take one of these three values: # enforcing - SELinux security policy is enforced. # permissive - SELinux prints warnings instead of enforcing. # disabled - No SELinux policy is loaded. SELINUX=disabled # SELINUXTYPE= can take one of these two values: # targeted - Targeted processes are protected, # mls - Multi Level Security protection. SELINUXTYPE=targeted</p>\n\n<p>Passer le paramètre SELINUX à disabled</p>\n\n<h4 id=\"installationdespaquetsncessaires\">Installation des paquets nécessaires</h4>\n\n<p>[root@xxxxxx ~]# yum install phpMyAdmin mysql-server [...] Dépendances résolues ===================================================================================================================================================================================== Paquet Architecture Version Dépôt Taille ===================================================================================================================================================================================== Installation: mysql-server x86<em>64 5.1.73-3.el6</em>5 base 8.6 M phpMyAdmin noarch 3.5.7-1.el6.rf rpmforge 4.4 M Installation pour dépendance: httpd x86<em>64 2.2.15-39.el6.centos base 825 k libmcrypt x86</em>64 2.5.7-1.2.el6.rf rpmforge 196 k mysql x86<em>64 5.1.73-3.el6</em>5 base 894 k perl-DBD-MySQL x86<em>64 4.013-3.el6 base 134 k perl-DBI x86</em>64 1.609-4.el6 base 705 k php x86<em>64 5.3.3-40.el6</em>6 updates 1.1 M php-cli x86<em>64 5.3.3-40.el6</em>6 updates 2.2 M php-common x86<em>64 5.3.3-40.el6</em>6 updates 527 k php-gd x86<em>64 5.3.3-40.el6</em>6 updates 109 k php-mbstring x86<em>64 5.3.3-40.el6</em>6 updates 458 k php-mcrypt x86<em>64 5.3.3-1.el6.rf rpmforge 42 k php-mysql x86</em>64 5.3.3-40.el6<em>6 updates 84 k php-pdo x86</em>64 5.3.3-40.el6_6 updates 78 k Résumé de la transaction ===================================================================================================================================================================================== Installation de 15 paquet(s) Taille totale des téléchargements : 20 M Taille d'installation : 66 M Est-ce correct [o/N] :</p>\n\n<p>Cela installe Apache, Php, MySQL et phpMyAdmin.</p>\n\n<h4 id=\"configurationdephp\">Configuration de PHP</h4>\n\n<p>Dans le fichier /etc/php.ini, modifier la ligne « date.timezone ».</p>\n\n<p>[Date] ; Defines the default timezone used by the date functions ; <a href=\"http://www.php.net/manual/en/datetime.configuration.php#ini.date.timezone\">http://www.php.net/manual/en/datetime.configuration.php#ini.date.timezone</a> ;date.timezone = date.timezone = Europe/Paris</p>\n\n<p>Puis redémarrer Apache.</p>\n\n<p>[root@sxxxxxx ~]# service httpd restart Arrêt de httpd : [ OK ] Démarrage de httpd : [ OK ]</p>\n\n<h2 id=\"passonsauxchosessrieuses\">Passons aux choses sérieuses</h2>\n\n<h4 id=\"ajouterledptcenreon\">Ajouter le dépôt Cenreon</h4>\n\n<p>wget <a href=\"http://yum.centreon.com/standard/3.0/stable/ces-standard.repo\">http://yum.centreon.com/standard/3.0/stable/ces-standard.repo</a> -O /etc/yum.repos.d/ces-standard.repo</p>\n\n<p>Récupérer la clef GPG du dépôt <a href=\"http://yum.centreon.com/standard/3.0/stable/RPM-GPG-KEY-CES\">à cette adresse</a> et copier son contenu dans le ficiher /etc/pki/rpm-gpg/RPM-GPG-KEY-CES.</p>\n\n<h4 id=\"installercentreonetnagios\">Installer Centreon et Nagios</h4>\n\n<p>[root@xxxxxx ~]# yum install centreon-base-config-nagios centreon</p>\n\n<h4 id=\"configurationdecentron\">Configuration de Centréon</h4>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_980\" style=\"width: 634px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422450421.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422450421.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Se rendre sur la page <a href=\"http://servername/centreon\">http://servername/centreon</a></p>\n\n<p></div> </p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_981\" style=\"width: 634px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422450430.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422450430.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Vérifier que les prérequis sont validés.</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_982\" style=\"width: 630px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422450453.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422450453.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Déplier la liste de choix.</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_983\" style=\"width: 631px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422450504.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422450504.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Choisir Nagios et valider que les chemins affichés sont bons sur le serveur.</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_984\" style=\"width: 634px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422450523.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422450523.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Cliquer sur Next.</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_986\" style=\"width: 632px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422450875.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422450875.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Configurer le compte administrateur de Centréon.</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_987\" style=\"width: 634px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422450997.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422450997.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Configurer les connexions à MySQL.</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_988\" style=\"width: 633px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422451027.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422451027.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Si comme moi vous avez cette erreur, appliquer les actions ci-dessous.</p>\n\n<p></div> </p>\n\n<p>Éditer le fichier de configuration de MySQL et ajouter la ligne :</p>\n\n<p>innodb_file_per_table=1</p>\n\n<p>Dans la partie [mysqld].</p>\n\n<p>Puis redémarrer MySQL et cliquer sur Refresh dans l’installateur de Centréon.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_989\" style=\"width: 642px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422451083.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422451083.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Attendre la fin de l’installation.</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_990\" style=\"width: 635px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422451120.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422451120.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Cliquer sur Next</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_991\" style=\"width: 632px\"><a href=\"https://techan.fr/images/2015/01/screenshot.1422451133.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422451133.png\" alt=\"Installer Nagios et Centreon sur Centos 6\" title=\"\" /></a>Et voilà !</p>\n\n<p></div> </p>\n\n<p>Et voilà, il ne reste plus qu’a configurer  la supervision <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p><a href=\"https://techan.fr/images/2015/01/screenshot.1422451183.png\"><img src=\"https://techan.fr/images/2015/01/screenshot.1422451183.png\" alt=\"screenshot.1422451183\" title=\"\" /></a></p>","image":"http://blog.techan.fr/images/2015/01/Centreon-Logo-Cube.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-02-09T10:39:51.000Z","created_by":1,"updated_at":"2015-02-04T11:41:51.000Z","updated_by":1,"published_at":"2015-02-09T10:39:51.000Z","published_by":1},{"id":103,"uuid":"a30f0e3b-77aa-47cb-95ff-559e49178386","title":"Désactiver FirewallD et remettre iptables sur Fedora 21","slug":"desactiver-firewalld-et-remettre-iptables-sur-fedora-21","markdown":"\n**[Edit 16/03/2015] Testé avec succès sur CentOS 7**\n\nTout récemment j’ai remplacé mon Ubuntu serveur de la maison par une Fedora 21 et c’est peu de dire qu’il y a beaucoup de nouveautés, en bien ou en mal … Le nouveau systemd est terrible, la bête démarre presque instantanément sur un SSD, mais par contre FirewallD est une daube incommensurable à mes yeux … Il doit falloir un Bac +8 pour l’utiliser … Une actions simple comme bannir une IP me prend exactement une seconde avec iptables mais ça devient un vrai chemin de croix avec FirewallD …\n\nCe n’est pas le premier outil que je rencontre visant a simplifier ou améliorer iptables, je citerais par exemple UFW sur Ubuntu. Contrairement à FirewallD, UFW ajoute pas mal de simplicité à iptables et est utilisable simplement car il utilise une syntaxe sympa. FirewallD quant à lui apporte une syntaxe assez brouillon et le support de zones et de pleins d’autres trucs dont personne ou presque ne se servira jamais …\n\nUne semaine après l’installation de Fedora, constatant que je n’étais toujours pas protégé, j’ai viré tout ça et réactivé le bon vieux iptables. Voici donc la marche à suivre pour désactiver FirewallD et remettre iptables sur Fedora 21.\n\n \n\n\n## La marche à suivre\n\n[root@xxxx ~]# systemctl disable firewalld Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service. Removed symlink /etc/systemd/system/basic.target.wants/firewalld.service. [root@xxxx ~]# systemctl stop firewalld [root@xxxx ~]# yum install iptables-services Modules complémentaires chargés : fastestmirror, langpacks Loading mirror speeds from cached hostfile * fedora: ftp.free.fr * updates: ftp.free.fr Le paquet iptables-services-1.4.21-13.fc21.x86_64 est déjà installé dans sa dernière version Rien à faire [root@xxxx ~]# touch /etc/sysconfig/iptables [root@xxxx ~]# touch /etc/sysconfig/ip6tables [root@xxxx ~]# systemctl start iptables [root@xxxx ~]# systemctl start ip6tables Job for ip6tables.service failed. See \"systemctl status ip6tables.service\" and \"journalctl -xe\" for details. [root@xxxx ~]# systemctl enable iptables Created symlink from /etc/systemd/system/basic.target.wants/iptables.service to /usr/lib/systemd/system/iptables.service. [root@xxxx ~]# systemctl enable ip6tables Created symlink from /etc/systemd/system/basic.target.wants/ip6tables.service to /usr/lib/systemd/system/ip6tables.service. [root@xxxx ~]# systemctl start ip6tables Job for ip6tables.service failed. See \"systemctl status ip6tables.service\" and \"journalctl -xe\" for details.\n\nDans mon cas, j’ai une erreur lors du démarrage d’ip6tables car j’ai désactivé l’IPV6 sur ma machine.  On peut vérifier dans les logs que tout c’est bien passé.\n\nfévr. 11 08:48:52 xxxx.domain.net systemd[1]: Unit ip6tables.service entered failed state. févr. 11 08:48:52 xxxx.domain.net systemd[1]: ip6tables.service failed. févr. 11 08:49:00 xxxx.domain.net systemd[1]: Configuration file /usr/lib/systemd/system/auditd.service is marked world-inaccessible. This has no effect as configuration data is acc févr. 11 08:49:00 xxxx.domain.net systemd[1]: Configuration file /usr/lib/systemd/system/wpa_supplicant.service is marked executable. Please remove executable permission bits. Proce févr. 11 08:49:04 xxxx.domain.net systemd[1]: Configuration file /usr/lib/systemd/system/auditd.service is marked world-inaccessible. This has no effect as configuration data is acc févr. 11 08:49:04 xxxx.domain.net systemd[1]: Configuration file /usr/lib/systemd/system/wpa_supplicant.service is marked executable. Please remove executable permission bits. Proce févr. 11 08:49:09 xxxx.domain.net ip6tables.init[9791]: ip6tables: ipv6 is disabled. févr. 11 08:49:09 xxxx.domain.net systemd[1]: ip6tables.service: main process exited, code=exited, status=150/n/a févr. 11 08:49:09 xxxx.domain.net systemd[1]: Failed to start IPv6 firewall with ip6tables. -- Subject: L'unité (unit) ip6tables.service a échoué\n\n \n\n\n##  Quelques règles iptables de base\n\nLa configuration d’iptables est stockée dans le fichier /etc/sysconfig/iptables, après une modification des règles présentes dans ce fichier, il suffit de relancer le daemon iptables pour les appliquer.\n\n#### Autoriser le réseau local\n\n-A INPUT -s 192.168.0.0/24 -j ACCEPT\n\n####  Autoriser le SSH de partout\n\n-A INPUT -p tcp -m state --state NEW -m tcp --dport 22 -j ACCEPT\n\n \n\n \n\n\n","html":"<p><strong>[Edit 16/03/2015] Testé avec succès sur CentOS 7</strong></p>\n\n<p>Tout récemment j’ai remplacé mon Ubuntu serveur de la maison par une Fedora 21 et c’est peu de dire qu’il y a beaucoup de nouveautés, en bien ou en mal … Le nouveau systemd est terrible, la bête démarre presque instantanément sur un SSD, mais par contre FirewallD est une daube incommensurable à mes yeux … Il doit falloir un Bac +8 pour l’utiliser … Une actions simple comme bannir une IP me prend exactement une seconde avec iptables mais ça devient un vrai chemin de croix avec FirewallD …</p>\n\n<p>Ce n’est pas le premier outil que je rencontre visant a simplifier ou améliorer iptables, je citerais par exemple UFW sur Ubuntu. Contrairement à FirewallD, UFW ajoute pas mal de simplicité à iptables et est utilisable simplement car il utilise une syntaxe sympa. FirewallD quant à lui apporte une syntaxe assez brouillon et le support de zones et de pleins d’autres trucs dont personne ou presque ne se servira jamais …</p>\n\n<p>Une semaine après l’installation de Fedora, constatant que je n’étais toujours pas protégé, j’ai viré tout ça et réactivé le bon vieux iptables. Voici donc la marche à suivre pour désactiver FirewallD et remettre iptables sur Fedora 21.</p>\n\n<h2 id=\"lamarchesuivre\">La marche à suivre</h2>\n\n<p>[root@xxxx ~]# systemctl disable firewalld Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service. Removed symlink /etc/systemd/system/basic.target.wants/firewalld.service. [root@xxxx ~]# systemctl stop firewalld [root@xxxx ~]# yum install iptables-services Modules complémentaires chargés : fastestmirror, langpacks Loading mirror speeds from cached hostfile * fedora: ftp.free.fr * updates: ftp.free.fr Le paquet iptables-services-1.4.21-13.fc21.x86_64 est déjà installé dans sa dernière version Rien à faire [root@xxxx ~]# touch /etc/sysconfig/iptables [root@xxxx ~]# touch /etc/sysconfig/ip6tables [root@xxxx ~]# systemctl start iptables [root@xxxx ~]# systemctl start ip6tables Job for ip6tables.service failed. See \"systemctl status ip6tables.service\" and \"journalctl -xe\" for details. [root@xxxx ~]# systemctl enable iptables Created symlink from /etc/systemd/system/basic.target.wants/iptables.service to /usr/lib/systemd/system/iptables.service. [root@xxxx ~]# systemctl enable ip6tables Created symlink from /etc/systemd/system/basic.target.wants/ip6tables.service to /usr/lib/systemd/system/ip6tables.service. [root@xxxx ~]# systemctl start ip6tables Job for ip6tables.service failed. See \"systemctl status ip6tables.service\" and \"journalctl -xe\" for details.</p>\n\n<p>Dans mon cas, j’ai une erreur lors du démarrage d’ip6tables car j’ai désactivé l’IPV6 sur ma machine.  On peut vérifier dans les logs que tout c’est bien passé.</p>\n\n<p>févr. 11 08:48:52 xxxx.domain.net systemd[1]: Unit ip6tables.service entered failed state. févr. 11 08:48:52 xxxx.domain.net systemd[1]: ip6tables.service failed. févr. 11 08:49:00 xxxx.domain.net systemd[1]: Configuration file /usr/lib/systemd/system/auditd.service is marked world-inaccessible. This has no effect as configuration data is acc févr. 11 08:49:00 xxxx.domain.net systemd[1]: Configuration file /usr/lib/systemd/system/wpa<em>supplicant.service is marked executable. Please remove executable permission bits. Proce févr. 11 08:49:04 xxxx.domain.net systemd[1]: Configuration file /usr/lib/systemd/system/auditd.service is marked world-inaccessible. This has no effect as configuration data is acc févr. 11 08:49:04 xxxx.domain.net systemd[1]: Configuration file /usr/lib/systemd/system/wpa</em>supplicant.service is marked executable. Please remove executable permission bits. Proce févr. 11 08:49:09 xxxx.domain.net ip6tables.init[9791]: ip6tables: ipv6 is disabled. févr. 11 08:49:09 xxxx.domain.net systemd[1]: ip6tables.service: main process exited, code=exited, status=150/n/a févr. 11 08:49:09 xxxx.domain.net systemd[1]: Failed to start IPv6 firewall with ip6tables. -- Subject: L'unité (unit) ip6tables.service a échoué</p>\n\n<h2 id=\"quelquesrglesiptablesdebase\"> Quelques règles iptables de base</h2>\n\n<p>La configuration d’iptables est stockée dans le fichier /etc/sysconfig/iptables, après une modification des règles présentes dans ce fichier, il suffit de relancer le daemon iptables pour les appliquer.</p>\n\n<h4 id=\"autoriserlerseaulocal\">Autoriser le réseau local</h4>\n\n<p>-A INPUT -s 192.168.0.0/24 -j ACCEPT</p>\n\n<h4 id=\"autoriserlesshdepartout\"> Autoriser le SSH de partout</h4>\n\n<p>-A INPUT -p tcp -m state --state NEW -m tcp --dport 22 -j ACCEPT</p>","image":"http://blog.techan.fr/images/2015/02/120px-Fedora_logo.svg_.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-02-11T11:18:08.000Z","created_by":1,"updated_at":"2015-03-16T20:41:16.000Z","updated_by":1,"published_at":"2015-02-11T11:18:08.000Z","published_by":1},{"id":104,"uuid":"1d50408d-eec4-4013-a85d-e9c403205ee3","title":"Synchronisation SSL impossible entre iOS et OwnCloud 8","slug":"synchronisation-ssl-impossible-entre-ios-et-owncloud-8","markdown":"\nAprès avoir entrepris la migration d’OwnCloud 7 vers la version 8, j’ai eu, entre autre surprise, la déception de constater que la synchronisation des contacts et des calendriers venant d’OwnCloud sur mon iPhone ne fonctionnait plus … Après pas mal d’investigation hier dans la soirée, j’ai trouvé mon erreur et vous la partage à présent. En fait, il suffisait de suivre la documentation d’OwnCloud mais je ne trouve pas ça très clair …\n\n \n\nLa documentation en question est [accessible ici](http://doc.owncloud.org/server/8.0/user_manual/pim/sync_ios.html), voici le passage qui a solutionné mon souci et que je ne trouve pas hyper clair.\n\n \n\n[![Synchronisation SSL impossible entre iOS et OwnCloud 8](https://techan.fr/images/2015/02/ios_cardav_caldav_5.png)](https://techan.fr/images/2015/02/ios_cardav_caldav_5.png)\n\nLorsque vous configurez votre/vos compte(s), il faut indiquer l’adresse du serveur en utilisant l’URL complète, comme indiqué, <span style=\"text-decoration: underline;\">mais ne surtout pas mettre le « https:// » au début</span>, sinon la sanction est immédiate, cela ne fonctionne pas !\n\n \n\nJe vais décrire la procédure ci-dessous, attention, les captures d’écran ont été faites <span style=\"text-decoration: underline;\">après</span> la configuration, les valeurs ont été modifiées par iOS. Je vous indiquerai à chaque fois ce qu’il faut mettre dans les champs.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1043\" style=\"width: 760px\">[![Synchronisation SSL impossible entre iOS et OwnCloud 8](https://techan.fr/images/2015/02/ios_cardav_caldav_1.png)](https://techan.fr/images/2015/02/ios_cardav_caldav_1.png)Serveur : ADDRESS/remote.php/caldav/principals/username  \n Renseigner l’URL complète en changeant « ADDRESS » et « username » mais enlever le « https:// » au début !\n\n</div> \n\n \n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1044\" style=\"width: 760px\">[![Synchronisation SSL impossible entre iOS et OwnCloud 8](https://techan.fr/images/2015/02/ios_cardav_caldav_2.png)](https://techan.fr/images/2015/02/ios_cardav_caldav_2.png)Effacer le contenu du champs « URL du compte ».\n\n</div> \n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1045\" style=\"width: 760px\">[![Synchronisation SSL impossible entre iOS et OwnCloud 8](https://techan.fr/images/2015/02/ios_cardav_caldav_3.png)](https://techan.fr/images/2015/02/ios_cardav_caldav_3.png)Serveur : ADDRESS/remote.php/carddav/principals/username  \n Renseigner l’URL complète en changeant « ADDRESS » et « username » mais enlever le « https:// » au début !\n\n</div> \n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1046\" style=\"width: 760px\">[![Synchronisation SSL impossible entre iOS et OwnCloud 8](https://techan.fr/images/2015/02/ios_cardav_caldav_4.png)](https://techan.fr/images/2015/02/ios_cardav_caldav_4.png)Effacer le contenu du champs « URL du compte ».\n\n</div> \n\nEt voila, tout devrait fonctionner et les valeurs affichées après la vérification des comptes devraient ressembler à celles des captures d’écran.\n\n \n\n\n","html":"<p>Après avoir entrepris la migration d’OwnCloud 7 vers la version 8, j’ai eu, entre autre surprise, la déception de constater que la synchronisation des contacts et des calendriers venant d’OwnCloud sur mon iPhone ne fonctionnait plus … Après pas mal d’investigation hier dans la soirée, j’ai trouvé mon erreur et vous la partage à présent. En fait, il suffisait de suivre la documentation d’OwnCloud mais je ne trouve pas ça très clair …</p>\n\n<p>La documentation en question est <a href=\"http://doc.owncloud.org/server/8.0/user_manual/pim/sync_ios.html\">accessible ici</a>, voici le passage qui a solutionné mon souci et que je ne trouve pas hyper clair.</p>\n\n<p><a href=\"https://techan.fr/images/2015/02/ios_cardav_caldav_5.png\"><img src=\"https://techan.fr/images/2015/02/ios_cardav_caldav_5.png\" alt=\"Synchronisation SSL impossible entre iOS et OwnCloud 8\" title=\"\" /></a></p>\n\n<p>Lorsque vous configurez votre/vos compte(s), il faut indiquer l’adresse du serveur en utilisant l’URL complète, comme indiqué, <span style=\"text-decoration: underline;\">mais ne surtout pas mettre le « https:// » au début</span>, sinon la sanction est immédiate, cela ne fonctionne pas !</p>\n\n<p>Je vais décrire la procédure ci-dessous, attention, les captures d’écran ont été faites <span style=\"text-decoration: underline;\">après</span> la configuration, les valeurs ont été modifiées par iOS. Je vous indiquerai à chaque fois ce qu’il faut mettre dans les champs.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1043\" style=\"width: 760px\"><a href=\"https://techan.fr/images/2015/02/ios_cardav_caldav_1.png\"><img src=\"https://techan.fr/images/2015/02/ios_cardav_caldav_1.png\" alt=\"Synchronisation SSL impossible entre iOS et OwnCloud 8\" title=\"\" /></a>Serveur : ADDRESS/remote.php/caldav/principals/username <br />\n Renseigner l’URL complète en changeant « ADDRESS » et « username » mais enlever le « https:// » au début !</p>\n\n<p></div> </p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1044\" style=\"width: 760px\"><a href=\"https://techan.fr/images/2015/02/ios_cardav_caldav_2.png\"><img src=\"https://techan.fr/images/2015/02/ios_cardav_caldav_2.png\" alt=\"Synchronisation SSL impossible entre iOS et OwnCloud 8\" title=\"\" /></a>Effacer le contenu du champs « URL du compte ».</p>\n\n<p></div> </p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1045\" style=\"width: 760px\"><a href=\"https://techan.fr/images/2015/02/ios_cardav_caldav_3.png\"><img src=\"https://techan.fr/images/2015/02/ios_cardav_caldav_3.png\" alt=\"Synchronisation SSL impossible entre iOS et OwnCloud 8\" title=\"\" /></a>Serveur : ADDRESS/remote.php/carddav/principals/username <br />\n Renseigner l’URL complète en changeant « ADDRESS » et « username » mais enlever le « https:// » au début !</p>\n\n<p></div> </p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1046\" style=\"width: 760px\"><a href=\"https://techan.fr/images/2015/02/ios_cardav_caldav_4.png\"><img src=\"https://techan.fr/images/2015/02/ios_cardav_caldav_4.png\" alt=\"Synchronisation SSL impossible entre iOS et OwnCloud 8\" title=\"\" /></a>Effacer le contenu du champs « URL du compte ».</p>\n\n<p></div> </p>\n\n<p>Et voila, tout devrait fonctionner et les valeurs affichées après la vérification des comptes devraient ressembler à celles des captures d’écran.</p>","image":"http://blog.techan.fr/images/2014/09/iOS_icone_reglages.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-02-19T10:01:59.000Z","created_by":1,"updated_at":"2015-02-19T10:03:19.000Z","updated_by":1,"published_at":"2015-02-19T10:01:59.000Z","published_by":1},{"id":105,"uuid":"ed522592-d4c5-40f7-91c9-b49639c18586","title":"La réplication multi-maitres avec MySQL","slug":"la-replication-multi-maitres-avec-mysql","markdown":"\nMySQL, ou MariaDB dans mon cas, proposent depuis longtemps une solution incluse de réplication. Je vais expliquer ici comment utiliser ce mécanisme afin de faire de la réplication multi-maitre d’une base entre deux instances MySQL. Rassurez-vous ce n’est pas très compliqué ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nDans cet article, je pars du principe que vous avez déjà dans toutes les instances MySQL la même base de donnée, avec la même fraîcheur de données. Dans mon exemple, j’ai deux instance MySQL comportant chacune une base « techd », j’ai créé cette base dans ma deuxième instance avec export mysqldump.\n\nPour cet exemple, je vais donc partir du principe que ma base « techd » existait sur le serveur A, que je l’ai importé sur le serveur B et que je vais mettre la réplication entre techd@A vers techd@B puis de techd@B vers techd@A.\n\n \n\n\n## Préparation des instances MySQL\n\nAfin de pouvoir utiliser la réplication fournie par MySQL/MariaDB, il y a deux prérequis que voici :\n\n- Avoir activé les binlogs\n- Avoir configuré un « server-id » différent sur les instances MySQL\n\nIl y a d’autres paramètres que l’on peut spécifier afin de coller plus aux besoins mais ces deux là sont les seuls vraiment nécessaires.\n\n#### Les prérequis au niveau des instances\n\nDans le fichier de configuration de MySQL, il faut ajouter ou dé-commenter les lignes (pensez également a ajuster les valeurs pour votre cas) :\n\nserver-id = 3456723 log_bin = /data/mysql/logs/mysql-bin.log\n\nCes lignes doivent se trouver dans la partie « [mysqld] » du fichier de configuration. Chaque instance MySQL mise en réplication doit avoir une valeur de « sever-id » différente.\n\nLe fait d’ajouter la ligne « log_bin » active les « binlogs » de MySQL, l’équivalent des archive logs d’Oracle. Le chemin spécifié comme valeur de ce paramètres permet de dire à MySQL ou aller stocker ses binlogs.\n\n \n\nDeux paramètres supplémentaires peuvent être intéressants :\n\nbinlog_do_db = techd expire_logs_days = 10\n\nLe paramètre « binlog_do_db » est utilisé pour spécifier pour quelle(s) base(s) ont active les binlogs, si il n’est pas spécifié, ils sont activés pour toutes les bases même pour les bases système … On peut ne pas spécifier ce paramètre et exclure certaines bases, comme les bases système, le paramètre pour faire ça est « binlog_ignore_db ».\n\nLe paramètre « expire_log_days » permet de faire un peu de ménage et de ne pas garder tous les binlogs en ligne.\n\nUne fois que tous les paramètres ont été correctement positionné, il faut redémarrer MySQL.\n\n#### Créer le compte de réplication\n\nPour que la réplication fonctionne, il faut créer un utilisateur dans chaque instance MySQL. Cet utilisateur aura un privilège spécifique pour pouvoir gérer la réplication, il ne pourra rien faire d’autre dans MySQL.\n\nVoici comment créer cet utilisateur.\n\nMariaDB [(none)]> create user 'replicator'@'%' identified by 'password'; Query OK, 0 rows affected (0.00 sec) MariaDB [(none)]> grant replication slave on *.* to 'replicator'@'%'; Query OK, 0 rows affected (0.00 sec)\n\n \n\n#### Récupérer la position actuelle dans le binlogs\n\nMaintenant que les instances MySQL écrivent des binlogs, il faut récupérer la position de chaque instance dans ses logs. Ce sera la position de départ pour notre réplication.\n\nVoici la marche à suivre pour avoir ces informations, il faut faire cette manipulation sur les deux instance MySQL.\n\nMariaDB [(none)]> show master status; +------------------+----------+--------------+------------------+ | File | Position | Binlog_Do_DB | Binlog_Ignore_DB | +------------------+----------+--------------+------------------+ | mysql-bin.000191 | 245 | techd | | +------------------+----------+--------------+------------------+ 1 row in set (0.00 sec)\n\n\n##  La réplication multi-maitres avec MySQL\n\n#### Sur le serveur B, réplication de techd@A vers techd@B\n\nDans un premier temps, on arrête le processus esclave, au cas ou il tournerait déjà.\n\nMariaDB [(none)]> stop slave ; Query OK, 0 rows affected, 1 warning (0,00 sec)\n\n**<span style=\"text-decoration: underline;\"> Note :</span>** Ceci est la syntaxe pour MariaDB, pour MySQL, il faut inverser les mots. Dans ce cas, la commande pour MySQL aurait été : « slave stop; »\n\nMaintenant on définit le maître, il faut adapter l’IP, le mot de passe et la position dans le binlogs avec ce que l’on a récupéré plus tôt.\n\nMariaDB [(none)]> CHANGE MASTER TO MASTER_HOST = 'IP DE A', MASTER_USER = 'replicator', MASTER_PASSWORD = 'password', MASTER_LOG_FILE = 'mysql-bin.000190', MASTER_LOG_POS = 22182220; Query OK, 0 rows affected (0,04 sec)\n\nEt enfin, on démarre l’esclave.\n\nMariaDB [(none)]> start slave ; Query OK, 0 rows affected (0,00 sec\n\n \n\n#### Sur le serveur A, réplication de techd@B vers techd@A\n\nMême manipulation dans l’autre sens, toujours en adaptant le password, l’IP et les positions dans les binlogs.\n\nMariaDB [(none)]> stop slave ; Query OK, 0 rows affected, 1 warning (0.00 sec) MariaDB [(none)]> CHANGE MASTER TO MASTER_HOST = 'IP de B', MASTER_USER = 'replicator', MASTER_PASSWORD = 'password', MASTER_LOG_FILE = 'mysql-bin.000001', MASTER_LOG_POS = 631; Query OK, 0 rows affected (0.18 sec) MariaDB [(none)]> start slave ; Query OK, 0 rows affected (0.01 sec)\n\n####  Vérifier l’état de la synchronisation\n\nOn peut vérifier l’état de la synchronisation dans des outils comme phpMyAdmin, mais on peut également le faire avec le client MySQL sur la machine.\n\nMariaDB [(none)]> show slave status \\G *************************** 1. row *************************** Slave_IO_State: Waiting for master to send event Master_Host: IP du Maitre Master_User: replicator Master_Port: 3306 Connect_Retry: 60 Master_Log_File: mysql-bin.000001 Read_Master_Log_Pos: 631 Relay_Log_File: mysqld-relay-bin.000002 Relay_Log_Pos: 532 Relay_Master_Log_File: mysql-bin.000001 Slave_IO_Running: Yes Slave_SQL_Running: Yes Replicate_Do_DB: Replicate_Ignore_DB: Replicate_Do_Table: Replicate_Ignore_Table: Replicate_Wild_Do_Table: Replicate_Wild_Ignore_Table: Last_Errno: 0 Last_Error: Skip_Counter: 0 Exec_Master_Log_Pos: 631 Relay_Log_Space: 827 Until_Condition: None Until_Log_File: Until_Log_Pos: 0 Master_SSL_Allowed: No Master_SSL_CA_File: Master_SSL_CA_Path: Master_SSL_Cert: Master_SSL_Cipher: Master_SSL_Key: Seconds_Behind_Master: 0 Master_SSL_Verify_Server_Cert: No Last_IO_Errno: 0 Last_IO_Error: Last_SQL_Errno: 0 Last_SQL_Error: Replicate_Ignore_Server_Ids: Master_Server_Id: 3456723 1 row in set (0.00 sec)\n\n \n\n\n","html":"<p>MySQL, ou MariaDB dans mon cas, proposent depuis longtemps une solution incluse de réplication. Je vais expliquer ici comment utiliser ce mécanisme afin de faire de la réplication multi-maitre d’une base entre deux instances MySQL. Rassurez-vous ce n’est pas très compliqué <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>Dans cet article, je pars du principe que vous avez déjà dans toutes les instances MySQL la même base de donnée, avec la même fraîcheur de données. Dans mon exemple, j’ai deux instance MySQL comportant chacune une base « techd », j’ai créé cette base dans ma deuxième instance avec export mysqldump.</p>\n\n<p>Pour cet exemple, je vais donc partir du principe que ma base « techd » existait sur le serveur A, que je l’ai importé sur le serveur B et que je vais mettre la réplication entre techd@A vers techd@B puis de techd@B vers techd@A.</p>\n\n<h2 id=\"prparationdesinstancesmysql\">Préparation des instances MySQL</h2>\n\n<p>Afin de pouvoir utiliser la réplication fournie par MySQL/MariaDB, il y a deux prérequis que voici :</p>\n\n<ul>\n<li>Avoir activé les binlogs</li>\n<li>Avoir configuré un « server-id » différent sur les instances MySQL</li>\n</ul>\n\n<p>Il y a d’autres paramètres que l’on peut spécifier afin de coller plus aux besoins mais ces deux là sont les seuls vraiment nécessaires.</p>\n\n<h4 id=\"lesprrequisauniveaudesinstances\">Les prérequis au niveau des instances</h4>\n\n<p>Dans le fichier de configuration de MySQL, il faut ajouter ou dé-commenter les lignes (pensez également a ajuster les valeurs pour votre cas) :</p>\n\n<p>server-id = 3456723 log_bin = /data/mysql/logs/mysql-bin.log</p>\n\n<p>Ces lignes doivent se trouver dans la partie « [mysqld] » du fichier de configuration. Chaque instance MySQL mise en réplication doit avoir une valeur de « sever-id » différente.</p>\n\n<p>Le fait d’ajouter la ligne « log_bin » active les « binlogs » de MySQL, l’équivalent des archive logs d’Oracle. Le chemin spécifié comme valeur de ce paramètres permet de dire à MySQL ou aller stocker ses binlogs.</p>\n\n<p>Deux paramètres supplémentaires peuvent être intéressants :</p>\n\n<p>binlog_do_db = techd expire<em>logs</em>days = 10</p>\n\n<p>Le paramètre « binlog<em>do</em>db » est utilisé pour spécifier pour quelle(s) base(s) ont active les binlogs, si il n’est pas spécifié, ils sont activés pour toutes les bases même pour les bases système … On peut ne pas spécifier ce paramètre et exclure certaines bases, comme les bases système, le paramètre pour faire ça est « binlog<em>ignore</em>db ».</p>\n\n<p>Le paramètre « expire<em>log</em>days » permet de faire un peu de ménage et de ne pas garder tous les binlogs en ligne.</p>\n\n<p>Une fois que tous les paramètres ont été correctement positionné, il faut redémarrer MySQL.</p>\n\n<h4 id=\"crerlecomptederplication\">Créer le compte de réplication</h4>\n\n<p>Pour que la réplication fonctionne, il faut créer un utilisateur dans chaque instance MySQL. Cet utilisateur aura un privilège spécifique pour pouvoir gérer la réplication, il ne pourra rien faire d’autre dans MySQL.</p>\n\n<p>Voici comment créer cet utilisateur.</p>\n\n<p>MariaDB [(none)]> create user 'replicator'@'%' identified by 'password'; Query OK, 0 rows affected (0.00 sec) MariaDB [(none)]> grant replication slave on <em>.</em> to 'replicator'@'%'; Query OK, 0 rows affected (0.00 sec)</p>\n\n<h4 id=\"rcuprerlapositionactuelledanslebinlogs\">Récupérer la position actuelle dans le binlogs</h4>\n\n<p>Maintenant que les instances MySQL écrivent des binlogs, il faut récupérer la position de chaque instance dans ses logs. Ce sera la position de départ pour notre réplication.</p>\n\n<p>Voici la marche à suivre pour avoir ces informations, il faut faire cette manipulation sur les deux instance MySQL.</p>\n\n<p>MariaDB [(none)]> show master status; +------------------+----------+--------------+------------------+ | File | Position | Binlog<em>Do</em>DB | Binlog<em>Ignore</em>DB | +------------------+----------+--------------+------------------+ | mysql-bin.000191 | 245 | techd | | +------------------+----------+--------------+------------------+ 1 row in set (0.00 sec)</p>\n\n<h2 id=\"larplicationmultimaitresavecmysql\"> La réplication multi-maitres avec MySQL</h2>\n\n<h4 id=\"surleserveurbrplicationdetechdaverstechdb\">Sur le serveur B, réplication de techd@A vers techd@B</h4>\n\n<p>Dans un premier temps, on arrête le processus esclave, au cas ou il tournerait déjà.</p>\n\n<p>MariaDB [(none)]> stop slave ; Query OK, 0 rows affected, 1 warning (0,00 sec)</p>\n\n<p><strong><span style=\"text-decoration: underline;\"> Note :</span></strong> Ceci est la syntaxe pour MariaDB, pour MySQL, il faut inverser les mots. Dans ce cas, la commande pour MySQL aurait été : « slave stop; »</p>\n\n<p>Maintenant on définit le maître, il faut adapter l’IP, le mot de passe et la position dans le binlogs avec ce que l’on a récupéré plus tôt.</p>\n\n<p>MariaDB [(none)]> CHANGE MASTER TO MASTER<em>HOST = 'IP DE A', MASTER</em>USER = 'replicator', MASTER<em>PASSWORD = 'password', MASTER</em>LOG<em>FILE = 'mysql-bin.000190', MASTER</em>LOG_POS = 22182220; Query OK, 0 rows affected (0,04 sec)</p>\n\n<p>Et enfin, on démarre l’esclave.</p>\n\n<p>MariaDB [(none)]> start slave ; Query OK, 0 rows affected (0,00 sec</p>\n\n<h4 id=\"surleserveurarplicationdetechdbverstechda\">Sur le serveur A, réplication de techd@B vers techd@A</h4>\n\n<p>Même manipulation dans l’autre sens, toujours en adaptant le password, l’IP et les positions dans les binlogs.</p>\n\n<p>MariaDB [(none)]> stop slave ; Query OK, 0 rows affected, 1 warning (0.00 sec) MariaDB [(none)]> CHANGE MASTER TO MASTER<em>HOST = 'IP de B', MASTER</em>USER = 'replicator', MASTER<em>PASSWORD = 'password', MASTER</em>LOG<em>FILE = 'mysql-bin.000001', MASTER</em>LOG_POS = 631; Query OK, 0 rows affected (0.18 sec) MariaDB [(none)]> start slave ; Query OK, 0 rows affected (0.01 sec)</p>\n\n<h4 id=\"vrifierltatdelasynchronisation\"> Vérifier l’état de la synchronisation</h4>\n\n<p>On peut vérifier l’état de la synchronisation dans des outils comme phpMyAdmin, mais on peut également le faire avec le client MySQL sur la machine.</p>\n\n<p>MariaDB [(none)]> show slave status \\G <strong><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</strong> 1. row <strong></em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em>*</strong> Slave<em>IO</em>State: Waiting for master to send event Master<em>Host: IP du Maitre Master</em>User: replicator Master<em>Port: 3306 Connect</em>Retry: 60 Master<em>Log</em>File: mysql-bin.000001 Read<em>Master</em>Log<em>Pos: 631 Relay</em>Log<em>File: mysqld-relay-bin.000002 Relay</em>Log<em>Pos: 532 Relay</em>Master<em>Log</em>File: mysql-bin.000001 Slave<em>IO</em>Running: Yes Slave<em>SQL</em>Running: Yes Replicate<em>Do</em>DB: Replicate<em>Ignore</em>DB: Replicate<em>Do</em>Table: Replicate<em>Ignore</em>Table: Replicate<em>Wild</em>Do<em>Table: Replicate</em>Wild<em>Ignore</em>Table: Last<em>Errno: 0 Last</em>Error: Skip<em>Counter: 0 Exec</em>Master<em>Log</em>Pos: 631 Relay<em>Log</em>Space: 827 Until<em>Condition: None Until</em>Log<em>File: Until</em>Log<em>Pos: 0 Master</em>SSL<em>Allowed: No Master</em>SSL<em>CA</em>File: Master<em>SSL</em>CA<em>Path: Master</em>SSL<em>Cert: Master</em>SSL<em>Cipher: Master</em>SSL<em>Key: Seconds</em>Behind<em>Master: 0 Master</em>SSL<em>Verify</em>Server<em>Cert: No Last</em>IO<em>Errno: 0 Last</em>IO<em>Error: Last</em>SQL<em>Errno: 0 Last</em>SQL<em>Error: Replicate</em>Ignore<em>Server</em>Ids: Master<em>Server</em>Id: 3456723 1 row in set (0.00 sec)</p>","image":"http://blog.techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-02-25T16:09:46.000Z","created_by":1,"updated_at":"2015-03-05T14:56:29.000Z","updated_by":1,"published_at":"2015-02-25T16:09:46.000Z","published_by":1},{"id":106,"uuid":"974a9f20-6ec0-4227-bbeb-d36a2e8d85d1","title":"[Édit][Saga] Changement d'hébergeur","slug":"saga-changement-dhebergeur","markdown":"\n**[Édit : 3 Avril 2015]**  \n Après pas mal de péripéties (voir [[Saga] Et me voilà chez PulseHeberg](https://techan.fr/saga-et-me-voila-chez-pulseheberg/)), j’ai finalement pris un virage à 180 degrés et qui maintenant hébergé chez Online.net (voir [[Saga] Bascule chez Online.net](https://techan.fr/saga-bascule-chez-online-net/)).\n\nJusqu’à maintenant ce site était hébergé sur un serveur Kimsufi à Roubaix, mais depuis quelques temps la machine souffrait pas mal sous la charge (notamment en terme de mémoire). J’ai donc essayé d’obtenir une machine plus puissante chez Kimsufi car je suis content de la prestation. Malheureusement, ils ne délivrent de nouveaux serveurs qu’au compte goutte … Je suis entré en contact avec le support de Kimsufi pour savoir s’il était possible de mettre à niveau la machine que j’utilise en ajoutant 2 Go de RAM. Les machines proposées dans la gamme actuelle de Kimsufi correspondant à celle dont je dispose ont la même carte mère, un CPU un peu plus puissant et 4 Go de RAM au lieu de 2. Je souhaitais donc qu’il ajoutent bêtement une barrette de mémoire dans la bécane, sans changer le CPU ni rien moyennant quoi, je signai pour un an de plus.\n\nLa réponse du support m’a plutôt déplu, ils m’ont « gentiment » conseillé de commander une nouvelle machine et de faire la bascule. Mais le problème initial se repose, il n’y a jamais de serveurs disponibles … Donc je vais partir de chez Kimsufi.\n\nLors de mes recherches d’un nouvel hébergeur, je suis tombé sur [PulseHerbeg](https://www.pulseheberg.com/) qui m’a tout de suite tapé dans l’oeil. Déjà leur offres sont assez intéressantes financièrement et en plus ils sont disponibles. Je les ai contacté sur Tweeter pour avoir des informations, la réponse est rapide, aimable et précise ! C’est appréciable !\n\nJe suis parti sur l’offre « VPS Dedicated », autant dire que cela risque de me changer de ma bécane dédiée mais cette offre me plait particulièrement car elle permet de se créer ses propres VPS (Virtual Private Server). Dans ce cas, une machine physique est partagée entre 2 ou 4 personnes ou complètement dédiée, dans mon cas, je vais la partager avec un autre client PulseHeberg. J’espère juste qu’on ne se marchera pas trop dessus avec mon colocataire de machine physique ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nActuellement il y a quelques soucis avec la mise en place de mon « VPS Dedicated », j’ai été en lien avec le support ce matin, j’espère que cela sera réglé vite afin de commencer à bidouiller l’engin ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\nTout cela pour vous dire qu’il y a eu des indisponibilité ces derniers jours, qu’il y en aura encore (malheureusement) sans doute quelques unes sur les prochains jours … Je tâcherai de faire le plus transparent possible.\n\n \n\n\n","html":"<p><strong>[Édit : 3 Avril 2015]</strong> <br />\n Après pas mal de péripéties (voir <a href=\"https://techan.fr/saga-et-me-voila-chez-pulseheberg/\">[Saga] Et me voilà chez PulseHeberg</a>), j’ai finalement pris un virage à 180 degrés et qui maintenant hébergé chez Online.net (voir <a href=\"https://techan.fr/saga-bascule-chez-online-net/\">[Saga] Bascule chez Online.net</a>).</p>\n\n<p>Jusqu’à maintenant ce site était hébergé sur un serveur Kimsufi à Roubaix, mais depuis quelques temps la machine souffrait pas mal sous la charge (notamment en terme de mémoire). J’ai donc essayé d’obtenir une machine plus puissante chez Kimsufi car je suis content de la prestation. Malheureusement, ils ne délivrent de nouveaux serveurs qu’au compte goutte … Je suis entré en contact avec le support de Kimsufi pour savoir s’il était possible de mettre à niveau la machine que j’utilise en ajoutant 2 Go de RAM. Les machines proposées dans la gamme actuelle de Kimsufi correspondant à celle dont je dispose ont la même carte mère, un CPU un peu plus puissant et 4 Go de RAM au lieu de 2. Je souhaitais donc qu’il ajoutent bêtement une barrette de mémoire dans la bécane, sans changer le CPU ni rien moyennant quoi, je signai pour un an de plus.</p>\n\n<p>La réponse du support m’a plutôt déplu, ils m’ont « gentiment » conseillé de commander une nouvelle machine et de faire la bascule. Mais le problème initial se repose, il n’y a jamais de serveurs disponibles … Donc je vais partir de chez Kimsufi.</p>\n\n<p>Lors de mes recherches d’un nouvel hébergeur, je suis tombé sur <a href=\"https://www.pulseheberg.com/\">PulseHerbeg</a> qui m’a tout de suite tapé dans l’oeil. Déjà leur offres sont assez intéressantes financièrement et en plus ils sont disponibles. Je les ai contacté sur Tweeter pour avoir des informations, la réponse est rapide, aimable et précise ! C’est appréciable !</p>\n\n<p>Je suis parti sur l’offre « VPS Dedicated », autant dire que cela risque de me changer de ma bécane dédiée mais cette offre me plait particulièrement car elle permet de se créer ses propres VPS (Virtual Private Server). Dans ce cas, une machine physique est partagée entre 2 ou 4 personnes ou complètement dédiée, dans mon cas, je vais la partager avec un autre client PulseHeberg. J’espère juste qu’on ne se marchera pas trop dessus avec mon colocataire de machine physique <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>Actuellement il y a quelques soucis avec la mise en place de mon « VPS Dedicated », j’ai été en lien avec le support ce matin, j’espère que cela sera réglé vite afin de commencer à bidouiller l’engin <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>Tout cela pour vous dire qu’il y a eu des indisponibilité ces derniers jours, qu’il y en aura encore (malheureusement) sans doute quelques unes sur les prochains jours … Je tâcherai de faire le plus transparent possible.</p>","image":"http://blog.techan.fr/images/2015/03/Travaux.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-03-05T14:53:56.000Z","created_by":1,"updated_at":"2015-09-21T14:33:27.000Z","updated_by":1,"published_at":"2015-03-05T14:53:56.000Z","published_by":1},{"id":107,"uuid":"69f45d77-b5e3-4d2b-b7ca-3ea94d25f9f9","title":"[Saga] Et me voilà chez PulseHeberg !","slug":"saga-et-me-voila-chez-pulseheberg","markdown":"\n**[Edit] **Après pas mal de péripéties, je suis parti de chez PulseHeberg après moins d’un moins, je suis passé chez Online.net (voir [[Saga] Bascule chez Online.net](https://techan.fr/saga-bascule-chez-online-net/)).\n\nComme je le disait dans l’article [[Saga] Changement d’hébergeur](https://techan.fr/saga-changement-dhebergeur/), j’ai lâché Kimsufi et j’ai pu prendre possession hier de mes nouveaux serveurs virtuels tout beaux, tout neufs ! Ils sont au nombre de trois pour l’instant.\n\nJ’ai pu réaliser la migration express de tous mes sites web et de mes mails hier dans la soirée. Donc oui, bienvenu sur un tout nouveau serveur ! Les machines virtuelles fournies par [PulseHerberg](https://pulseheberg.com) sont créées par [OpenVZ](http://openvz.org/Main_Page). Je trouve leurs performances en tout point irréprochable !\n\nToute fois un bug dans l’outil de provisionning de vms chez PulseHeberg a retardé la livraison des serveurs virtuels, mais le support est efficace et un opérateur a créé les vms manuellement. La prochaine fois que j’aurais besoin d’en créer cela fonctionnera au poil, je n’en doute pas !\n\nLe site n’était pas très stable ces derniers jours car hébergé chez moi. Il était même carrément inaccessible hier car une mise a jour de la FreeBox jeudi soir avait fait sauter mes redirections de ports … Voici qui devrait aller bien mieux maintenant ","html":"<p><em>*[Edit] *</em>Après pas mal de péripéties, je suis parti de chez PulseHeberg après moins d’un moins, je suis passé chez Online.net (voir <a href=\"https://techan.fr/saga-bascule-chez-online-net/\">[Saga] Bascule chez Online.net</a>).</p>\n\n<p>Comme je le disait dans l’article <a href=\"https://techan.fr/saga-changement-dhebergeur/\">[Saga] Changement d’hébergeur</a>, j’ai lâché Kimsufi et j’ai pu prendre possession hier de mes nouveaux serveurs virtuels tout beaux, tout neufs ! Ils sont au nombre de trois pour l’instant.</p>\n\n<p>J’ai pu réaliser la migration express de tous mes sites web et de mes mails hier dans la soirée. Donc oui, bienvenu sur un tout nouveau serveur ! Les machines virtuelles fournies par <a href=\"https://pulseheberg.com\">PulseHerberg</a> sont créées par <a href=\"http://openvz.org/Main_Page\">OpenVZ</a>. Je trouve leurs performances en tout point irréprochable !</p>\n\n<p>Toute fois un bug dans l’outil de provisionning de vms chez PulseHeberg a retardé la livraison des serveurs virtuels, mais le support est efficace et un opérateur a créé les vms manuellement. La prochaine fois que j’aurais besoin d’en créer cela fonctionnera au poil, je n’en doute pas !</p>\n\n<p>Le site n’était pas très stable ces derniers jours car hébergé chez moi. Il était même carrément inaccessible hier car une mise a jour de la FreeBox jeudi soir avait fait sauter mes redirections de ports … Voici qui devrait aller bien mieux maintenant ","image":"http://blog.techan.fr/images/2015/03/IMG_9395.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-03-14T16:01:25.000Z","created_by":1,"updated_at":"2015-09-21T14:33:09.000Z","updated_by":1,"published_at":"2015-03-14T16:01:25.000Z","published_by":1},{"id":108,"uuid":"2f665c3b-fd94-4479-872c-ac9cf0efd4e0","title":"Lancer plusieurs instances MySQL sur une machine","slug":"lancer-plusieurs-instances-mysql-sur-une-machine","markdown":"\nJ’ai dû faire en sorte que l’on puisse faire tourner deux instances MySQL sur une seule machine afin d’en faire une machine « esclave » dans une architecture MySQL répliquée, voir [La réplication multi-maitres avec MySQL ](https://techan.fr/la-replication-multi-maitres-avec-mysql/). Chacune des deux instances va recevoir les modifications apportées à l’une des eux instances de prod (LAN et DMZ). Vous allez voir que c’est plutôt simple de faire tourner deux instances MySQL sur une même machine, mieux que ça, cela a déjà été pensé pour !\n\nJe pars du principe que vous avez déjà installé MySQL sur la machine en question et que MySQL fonctionne correctement et que le daemon est éteint.\n\n \n\n\n## Les préparatifs\n\nAfin de bien cloisonner les deux instances, j’ai fais en sorte que les dossiers de données de chaque instance soir placé sur un disque dédié, un LV en fait.\n\nMon architecture de fichiers est faite comme suit :\n\n/data + mysql + LAN + data + logs + DMZ + data + logs\n\nMes LVs sont montés sur /data/mysql/LAN et /data/mysql/DMZ ainsi chaque instance est étanche.\n\n\n## La mise en place\n\n### Création des groupes\n\nAfin de créer chaque instance, il nous faut éditer le fichier /etc/my.cnf et créer des groupes. Le fichier de base en contient déjà, chaque groupe commence par un mot encadré de crochets. Par exemple : [mysqld] en est un.\n\nJ’ai besoin de deux instances, je vais donc créer deux groupes, j’ai remplacé le groupe [mysqld] existant par ce qui suit :\n\n[mysqld1] datadir=/data/mysql/LAN/data socket=/var/lib/mysql/mysqlLAN.sock user=mysql symbolic-links=0 port=3306 pid-file=/var/run/mysqld/mysqldLAN.pid [mysqld2] datadir=/data/mysql/DMZ/data socket=/var/lib/mysql/mysqlDMZ.sock user=mysql symbolic-links=0 port=3307 pid-file=/var/run/mysqld/mysqldDMZ.pid\n\n###  Le « gros » du problème\n\nEn fait, il n’y en a pas, il suffit maintenant d’une commande pour voir l’état des instance MySQL et pour interagir avec elles. Cette commande : « mysqld_multi ».\n\n#### Afficher le statut des instances\n\n[root@sl-0-mysqlslaveint1 log]# mysqld_multi report Reporting MySQL servers MySQL server from group: mysqld1 is not running MySQL server from group: mysqld2 is not running\n\nLa commande nous apprend que les deux instances sont arrêtées.\n\n#### Démarrer les instances MySQL\n\n[root@sl-0-mysqlslaveint1 log]# mysqld_multi start [root@sl-0-mysqlslaveint1 log]# mysqld_multi report Reporting MySQL servers MySQL server from group: mysqld1 is running MySQL server from group: mysqld2 is running\n\nL’option « start » de la commande « mysqld_multi » permet, comme son nom l’indique de démarrer une ou plusieurs instances. Sans paramètre supplémentaire, l’option « start » va démarrer toutes les instances disponibles. Il suffit de préciser après cette option le numéro du groupe a démarrer pour cibler une seule instance.\n\n \n\n#### Le compte d’arrêt\n\nMaintenant que nos instances démarrent, on va créer le compte technique pour les arrêter. Notez la manière un peu différente de se connecter au instances lorsque l’on est sur la machine locale, je précise le fichier socket afin de me connecter à la bonne instance.\n\n[root@xxxx ~]# mysql -u root -p -S /var/lib/mysql/mysqlLAN.sock Enter password: Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 2 Server version: 5.1.73 Source distribution Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. mysql> GRANT SHUTDOWN ON *.* TO 'multi_admin'@'localhost' IDENTIFIED BY 'password'; Query OK, 0 rows affected (0.00 sec) mysql> FLUSH PRIVILEGES; Query OK, 0 rows affected (0.00 sec) mysql> exit Bye\n\nUne fois le compte créer, on arrête toutes les instances.\n\n[root@xxxx ~]# mysqld_multi stop [root@xxxx ~]# mysqld_multi report Reporting MySQL servers MySQL server from group: mysqld1 is not running MySQL server from group: mysqld2 is not running\n\nIl faut maintenant modifier le fichier /etc/my/cnf pour y ajouter un nouveau groupe.\n\n[mysqld_multi] mysqld = /usr/bin/mysqld_safe mysqladmin = /usr/bin/mysqladmin user = multi_admin password = password [mysqld_safe] log-error=/var/log/mysqld.log pid-file=/var/run/mysqld/mysqld.pid\n\n####  On relance tout est c’est fini !\n\nIl suffit maintenant de redémarrer toutes les instances et le tour est joué !\n\n[root@xxxx ~]# mysqld_multi start [root@xxxx ~]# mysqld_multi report Reporting MySQL servers MySQL server from group: mysqld1 is running MySQL server from group: mysqld2 is running\n\nOn vérifie que les instances écoutent bien sur le port que l’on souhaitait :\n\n[root@xxxx ~]# netstat -anp | grep 330 tcp 0 0 0.0.0.0:3306 0.0.0.0:* LISTEN 15778/mysqld tcp 0 0 0.0.0.0:3307 0.0.0.0:* LISTEN 15784/mysqld\n\nEt voilà comment lancer plusieurs instances MySQL sur une machine ! ","html":"<p>J’ai dû faire en sorte que l’on puisse faire tourner deux instances MySQL sur une seule machine afin d’en faire une machine « esclave » dans une architecture MySQL répliquée, voir <a href=\"https://techan.fr/la-replication-multi-maitres-avec-mysql/\">La réplication multi-maitres avec MySQL </a>. Chacune des deux instances va recevoir les modifications apportées à l’une des eux instances de prod (LAN et DMZ). Vous allez voir que c’est plutôt simple de faire tourner deux instances MySQL sur une même machine, mieux que ça, cela a déjà été pensé pour !</p>\n\n<p>Je pars du principe que vous avez déjà installé MySQL sur la machine en question et que MySQL fonctionne correctement et que le daemon est éteint.</p>\n\n<h2 id=\"lesprparatifs\">Les préparatifs</h2>\n\n<p>Afin de bien cloisonner les deux instances, j’ai fais en sorte que les dossiers de données de chaque instance soir placé sur un disque dédié, un LV en fait.</p>\n\n<p>Mon architecture de fichiers est faite comme suit :</p>\n\n<p>/data + mysql + LAN + data + logs + DMZ + data + logs</p>\n\n<p>Mes LVs sont montés sur /data/mysql/LAN et /data/mysql/DMZ ainsi chaque instance est étanche.</p>\n\n<h2 id=\"lamiseenplace\">La mise en place</h2>\n\n<h3 id=\"crationdesgroupes\">Création des groupes</h3>\n\n<p>Afin de créer chaque instance, il nous faut éditer le fichier /etc/my.cnf et créer des groupes. Le fichier de base en contient déjà, chaque groupe commence par un mot encadré de crochets. Par exemple : [mysqld] en est un.</p>\n\n<p>J’ai besoin de deux instances, je vais donc créer deux groupes, j’ai remplacé le groupe [mysqld] existant par ce qui suit :</p>\n\n<p>[mysqld1] datadir=/data/mysql/LAN/data socket=/var/lib/mysql/mysqlLAN.sock user=mysql symbolic-links=0 port=3306 pid-file=/var/run/mysqld/mysqldLAN.pid [mysqld2] datadir=/data/mysql/DMZ/data socket=/var/lib/mysql/mysqlDMZ.sock user=mysql symbolic-links=0 port=3307 pid-file=/var/run/mysqld/mysqldDMZ.pid</p>\n\n<h3 id=\"legrosduproblme\"> Le « gros » du problème</h3>\n\n<p>En fait, il n’y en a pas, il suffit maintenant d’une commande pour voir l’état des instance MySQL et pour interagir avec elles. Cette commande : « mysqld_multi ».</p>\n\n<h4 id=\"afficherlestatutdesinstances\">Afficher le statut des instances</h4>\n\n<p>[root@sl-0-mysqlslaveint1 log]# mysqld_multi report Reporting MySQL servers MySQL server from group: mysqld1 is not running MySQL server from group: mysqld2 is not running</p>\n\n<p>La commande nous apprend que les deux instances sont arrêtées.</p>\n\n<h4 id=\"dmarrerlesinstancesmysql\">Démarrer les instances MySQL</h4>\n\n<p>[root@sl-0-mysqlslaveint1 log]# mysqld<em>multi start [root@sl-0-mysqlslaveint1 log]# mysqld</em>multi report Reporting MySQL servers MySQL server from group: mysqld1 is running MySQL server from group: mysqld2 is running</p>\n\n<p>L’option « start » de la commande « mysqld_multi » permet, comme son nom l’indique de démarrer une ou plusieurs instances. Sans paramètre supplémentaire, l’option « start » va démarrer toutes les instances disponibles. Il suffit de préciser après cette option le numéro du groupe a démarrer pour cibler une seule instance.</p>\n\n<h4 id=\"lecomptedarrt\">Le compte d’arrêt</h4>\n\n<p>Maintenant que nos instances démarrent, on va créer le compte technique pour les arrêter. Notez la manière un peu différente de se connecter au instances lorsque l’on est sur la machine locale, je précise le fichier socket afin de me connecter à la bonne instance.</p>\n\n<p>[root@xxxx ~]# mysql -u root -p -S /var/lib/mysql/mysqlLAN.sock Enter password: Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 2 Server version: 5.1.73 Source distribution Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. mysql> GRANT SHUTDOWN ON <em>.</em> TO 'multi_admin'@'localhost' IDENTIFIED BY 'password'; Query OK, 0 rows affected (0.00 sec) mysql> FLUSH PRIVILEGES; Query OK, 0 rows affected (0.00 sec) mysql> exit Bye</p>\n\n<p>Une fois le compte créer, on arrête toutes les instances.</p>\n\n<p>[root@xxxx ~]# mysqld<em>multi stop [root@xxxx ~]# mysqld</em>multi report Reporting MySQL servers MySQL server from group: mysqld1 is not running MySQL server from group: mysqld2 is not running</p>\n\n<p>Il faut maintenant modifier le fichier /etc/my/cnf pour y ajouter un nouveau groupe.</p>\n\n<p>[mysqld<em>multi] mysqld = /usr/bin/mysqld</em>safe mysqladmin = /usr/bin/mysqladmin user = multi<em>admin password = password [mysqld</em>safe] log-error=/var/log/mysqld.log pid-file=/var/run/mysqld/mysqld.pid</p>\n\n<h4 id=\"onrelancetoutestcestfini\"> On relance tout est c’est fini !</h4>\n\n<p>Il suffit maintenant de redémarrer toutes les instances et le tour est joué !</p>\n\n<p>[root@xxxx ~]# mysqld<em>multi start [root@xxxx ~]# mysqld</em>multi report Reporting MySQL servers MySQL server from group: mysqld1 is running MySQL server from group: mysqld2 is running</p>\n\n<p>On vérifie que les instances écoutent bien sur le port que l’on souhaitait :</p>\n\n<p>[root@xxxx ~]# netstat -anp | grep 330 tcp 0 0 0.0.0.0:3306 0.0.0.0:* LISTEN 15778/mysqld tcp 0 0 0.0.0.0:3307 0.0.0.0:* LISTEN 15784/mysqld</p>\n\n<p>Et voilà comment lancer plusieurs instances MySQL sur une machine ! ","image":"http://blog.techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-03-24T09:25:52.000Z","created_by":1,"updated_at":"2015-03-24T09:27:24.000Z","updated_by":1,"published_at":"2015-03-24T09:25:52.000Z","published_by":1},{"id":109,"uuid":"889783df-712e-4b70-adda-d51225d22e30","title":"[Saga] Le site est protégé par SSL","slug":"saga-le-site-est-protege-par-ssl","markdown":"\nEt voila, dernière action en date, l’ajout d’un certificat SSL et la redirection de tout le trafic HTTP vers du HTTPS.\n\n[![[Saga] Le site est protégé par SSL](https://techan.fr/images/2015/03/screenshot.174.jpg)](https://techan.fr/images/2015/03/screenshot.174.jpg)\n\nEt grâce à mon NginX préféré, si votre navigateur est compatible, vous profitez également de l’implémentation de SPDY en attendant l’arrivée du protocole HTTP/2.\n\n[![[Saga] Le site est protégé par SSL](https://techan.fr/images/2015/03/screenshot.175.jpg)](https://techan.fr/images/2015/03/screenshot.175.jpg)\n\n \n\n\n","html":"<p>Et voila, dernière action en date, l’ajout d’un certificat SSL et la redirection de tout le trafic HTTP vers du HTTPS.</p>\n\n<p><a href=\"https://techan.fr/images/2015/03/screenshot.174.jpg\"><img src=\"https://techan.fr/images/2015/03/screenshot.174.jpg\" alt=\"[Saga] Le site est protégé par SSL\" title=\"\" /></a></p>\n\n<p>Et grâce à mon NginX préféré, si votre navigateur est compatible, vous profitez également de l’implémentation de SPDY en attendant l’arrivée du protocole HTTP/2.</p>\n\n<p><a href=\"https://techan.fr/images/2015/03/screenshot.175.jpg\"><img src=\"https://techan.fr/images/2015/03/screenshot.175.jpg\" alt=\"[Saga] Le site est protégé par SSL\" title=\"\" /></a></p>","image":"http://blog.techan.fr/images/2015/03/PositiveSSL_tl_trans2.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-03-26T11:22:19.000Z","created_by":1,"updated_at":"2015-09-21T14:32:47.000Z","updated_by":1,"published_at":"2015-03-26T11:22:19.000Z","published_by":1},{"id":110,"uuid":"6397644b-08e5-4c72-9a32-c4557fe50380","title":"IP Failover avec KeepAlived","slug":"ip-failover-avec-keepalived","markdown":"\nJe vais expliquer ici comme faire du failover IP sur Centos / RedHat en utilisant [KeepAlived](http://www.keepalived.org/index.html). Même si cet outil peut faire bien plus, je n’utilise que cette fonctionnalité déjà très pratique et très facile à mettre en place !\n\n[![refonte_DMZ](https://techan.fr/images/2015/03/refonte_DMZ.png)](https://techan.fr/images/2015/03/refonte_DMZ.png)\n\nVoici donc l’infrastructure cible. Deux serveurs avec chacun une IP et une vIP qui passera d’un serveur à l’autre (172.16.17.83). C’est KeepAlived qui va s’occuper de vérifier lequel des serveurs doit avoir la vIP et la remonter sur une serveur si celui qui la possède n’est plus disponible.\n\n\n## Installation de KeepAlived\n\nyum -y install keepalived chkconfig --add keepalived chkconfig --level 2345 keepalived on cp /etc/keepalived/keepalived.conf{,.ori}\n\nCe n’est pas plus compliqué que ça, on en profite pour faire un backup du fichier de configuration original.\n\n\n## Configuration de KeepAlived\n\n \n\nvi /etc/keepalived/keepalived.conf\n\nVoici le fichier de configuration type pour du failover IP.\n\n! Configuration File for keepalived global_defs { notification_email { acassen@firewall.loc failover@firewall.loc sysadmin@firewall.loc } notification_email_from Alexandre.Cassen@firewall.loc smtp_server 127.0.0.1 smtp_connect_timeout 30 router_id LVS_DEVEL } vrrp_instance VI_1 { state MASTER interface eth0 virtual_router_id 51 priority 100 advert_int 1 authentication { auth_type PASS auth_pass 1111 } virtual_ipaddress { 172.16.17.83/24 dev eth0 } }\n\nLes deux seuls modifications a faire sont :\n\n- Modifier la « virtual_ipaddress » et l’interface sur laquelle elle va être bindée\n- Adapter la « priority » en mettant 101 sur le serveur maître et 100 sur le serveur backup.\n\nOn redémarre KeepAlived.\n\nservice keepalived restart Arrêt de keepalived : [ OK ] Démarrage de keepalived : [ OK ]\n\nEt on vérifie sur le serveur maître que la vIP est bien montée.\n\n# ip addr show eth0 2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000 link/ether 00:50:56:a0:29:8f brd ff:ff:ff:ff:ff:ff inet 172.16.17.82/24 brd 172.16.17.255 scope global eth0 inet 172.16.17.83/24 scope global secondary eth0 inet6 fe80::250:56ff:fea0:298f/64 scope link valid_lft forever preferred_lft forever\n\nEt voilà !\n\n \n\n \n\n\n","html":"<p>Je vais expliquer ici comme faire du failover IP sur Centos / RedHat en utilisant <a href=\"http://www.keepalived.org/index.html\">KeepAlived</a>. Même si cet outil peut faire bien plus, je n’utilise que cette fonctionnalité déjà très pratique et très facile à mettre en place !</p>\n\n<p><a href=\"https://techan.fr/images/2015/03/refonte_DMZ.png\"><img src=\"https://techan.fr/images/2015/03/refonte_DMZ.png\" alt=\"refonte_DMZ\" title=\"\" /></a></p>\n\n<p>Voici donc l’infrastructure cible. Deux serveurs avec chacun une IP et une vIP qui passera d’un serveur à l’autre (172.16.17.83). C’est KeepAlived qui va s’occuper de vérifier lequel des serveurs doit avoir la vIP et la remonter sur une serveur si celui qui la possède n’est plus disponible.</p>\n\n<h2 id=\"installationdekeepalived\">Installation de KeepAlived</h2>\n\n<p>yum -y install keepalived chkconfig --add keepalived chkconfig --level 2345 keepalived on cp /etc/keepalived/keepalived.conf{,.ori}</p>\n\n<p>Ce n’est pas plus compliqué que ça, on en profite pour faire un backup du fichier de configuration original.</p>\n\n<h2 id=\"configurationdekeepalived\">Configuration de KeepAlived</h2>\n\n<p>vi /etc/keepalived/keepalived.conf</p>\n\n<p>Voici le fichier de configuration type pour du failover IP.</p>\n\n<p>! Configuration File for keepalived global<em>defs { notification</em>email { acassen@firewall.loc failover@firewall.loc sysadmin@firewall.loc } notification<em>email</em>from Alexandre.Cassen@firewall.loc smtp<em>server 127.0.0.1 smtp</em>connect<em>timeout 30 router</em>id LVS<em>DEVEL } vrrp</em>instance VI<em>1 { state MASTER interface eth0 virtual</em>router<em>id 51 priority 100 advert</em>int 1 authentication { auth<em>type PASS auth</em>pass 1111 } virtual_ipaddress { 172.16.17.83/24 dev eth0 } }</p>\n\n<p>Les deux seuls modifications a faire sont :</p>\n\n<ul>\n<li>Modifier la « virtual_ipaddress » et l’interface sur laquelle elle va être bindée</li>\n<li>Adapter la « priority » en mettant 101 sur le serveur maître et 100 sur le serveur backup.</li>\n</ul>\n\n<p>On redémarre KeepAlived.</p>\n\n<p>service keepalived restart Arrêt de keepalived : [ OK ] Démarrage de keepalived : [ OK ]</p>\n\n<p>Et on vérifie sur le serveur maître que la vIP est bien montée.</p>\n\n<h1 id=\"ipaddrshoweth02eth0broadcastmulticastuplower_upmtu1500qdiscpfifo_faststateupqlen1000linkether005056a0298fbrdffffffffffffinet17216178224brd1721617255scopeglobaleth0inet17216178324scopeglobalsecondaryeth0inet6fe8025056fffea0298f64scopelinkvalid_lftforeverpreferred_lftforever\">ip addr show eth0 2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo<em>fast state UP qlen 1000 link/ether 00:50:56:a0:29:8f brd ff:ff:ff:ff:ff:ff inet 172.16.17.82/24 brd 172.16.17.255 scope global eth0 inet 172.16.17.83/24 scope global secondary eth0 inet6 fe80::250:56ff:fea0:298f/64 scope link valid</em>lft forever preferred_lft forever</h1>\n\n<p>Et voilà !</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-03-27T09:18:15.000Z","created_by":1,"updated_at":"2015-03-26T18:20:40.000Z","updated_by":1,"published_at":"2015-03-27T09:18:15.000Z","published_by":1},{"id":111,"uuid":"a361ef9c-1791-4558-b789-fb55f68fffbc","title":"[Saga] Bascule chez Online.net","slug":"saga-bascule-chez-online-net","markdown":"\nAprès pas mal de péripéties chez [PulseHeberg](http://pulseheberg.com/), j’ai pris un virage à 180° et suis allé voir chez [Online.net ](http://www.online.net/fr)… Même si j’étais très enthousiaste lorsque j’ai souscrit mon offre de [VPS Dedicated chez PulseHeberg](https://www.pulseheberg.com/vps/dedicated), la perspective de pouvoir créer les VMs que je souhaitais comme je le souhaitais me bottais pas mal, j’ai très vite déchanté …\n\nLeur support est certes très réactif quand il s’agit de transmettre des informations au chef de projet mais une fois que c’est fait, il faut se battre pour avoir des nouvelles et que les choses avancent … J’ai ainsi mis presque 15 jours a avoir mes VMs … Impossible de les créer via l’interface web dédiée … Le support me les a créées à la main au bout de 15 jours et il a fallu que je crie … Mais comme ils ont fait cela manuellement, les VMs ne remontaient pas dans l’interface de gestion de la prestation, donc il m’était impossible de voir les ressources restantes dans mon VPS Dedicated.  Une fois que j’ai eu mes VMs, je leur ai demandé d’attacher une adresse IP privée sur chaque VM et de mettre un reverse DNS (pour les mails), cela fait presque 3 semaines et j’attends toujours…\n\nJe passe également sur la latence réseau parfois infâme … Bref, je me suis sauvé … J’ai repris les bonnes habitudes, j’ai souscrit un bon vieux serveur dédié quatre fois plus puissant que celui que j’avais chez [Kimsufi ](https://www.kimsufi.com/fr/index.xml)et les bascules sont presque terminées.\n\nOn ne me reprendra plus sur un VPS, promis !\n\n\n","html":"<p>Après pas mal de péripéties chez <a href=\"http://pulseheberg.com/\">PulseHeberg</a>, j’ai pris un virage à 180° et suis allé voir chez <a href=\"http://www.online.net/fr\">Online.net </a>… Même si j’étais très enthousiaste lorsque j’ai souscrit mon offre de <a href=\"https://www.pulseheberg.com/vps/dedicated\">VPS Dedicated chez PulseHeberg</a>, la perspective de pouvoir créer les VMs que je souhaitais comme je le souhaitais me bottais pas mal, j’ai très vite déchanté …</p>\n\n<p>Leur support est certes très réactif quand il s’agit de transmettre des informations au chef de projet mais une fois que c’est fait, il faut se battre pour avoir des nouvelles et que les choses avancent … J’ai ainsi mis presque 15 jours a avoir mes VMs … Impossible de les créer via l’interface web dédiée … Le support me les a créées à la main au bout de 15 jours et il a fallu que je crie … Mais comme ils ont fait cela manuellement, les VMs ne remontaient pas dans l’interface de gestion de la prestation, donc il m’était impossible de voir les ressources restantes dans mon VPS Dedicated.  Une fois que j’ai eu mes VMs, je leur ai demandé d’attacher une adresse IP privée sur chaque VM et de mettre un reverse DNS (pour les mails), cela fait presque 3 semaines et j’attends toujours…</p>\n\n<p>Je passe également sur la latence réseau parfois infâme … Bref, je me suis sauvé … J’ai repris les bonnes habitudes, j’ai souscrit un bon vieux serveur dédié quatre fois plus puissant que celui que j’avais chez <a href=\"https://www.kimsufi.com/fr/index.xml\">Kimsufi </a>et les bascules sont presque terminées.</p>\n\n<p>On ne me reprendra plus sur un VPS, promis !</p>","image":"http://blog.techan.fr/images/2015/03/06102550-photo-logo-online-net.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-03-30T14:29:06.000Z","created_by":1,"updated_at":"2015-09-21T14:32:30.000Z","updated_by":1,"published_at":"2015-03-30T14:29:06.000Z","published_by":1},{"id":112,"uuid":"c75fd051-d69a-40d6-bd4d-463989aec313","title":"Surveiller les performances d'un site avec Nagios","slug":"surveiller-les-performances-dun-site-avec-nagios","markdown":"\nJ’ai eu besoin de créer un script pour pouvoir surveiller les performances d’un site avec Nagios. Seul souci, ce site web est protégé par un SSO et il me fallait récupérer un cookie pour pouvoir récupérer la page de contenu avec « wget ». Heureusement, il est « assez » simple de gérer les cookies avec « wget ».\n\n\n##  Le script\n\nVoici donc le fameux script, anonymisé bien sûr !\n\n#!/bin/bash ####################################################### ### Monitor_website.sh ### ### Auteur : MrRaph_ ### ### Site : https://techan.fr ### ### Date : 31/03/2015 ### ### ### ####################################################### ####################################################### ### Constantes ### ####################################################### export TMP_DIRECTORY='/tmp/Monitor' export COOKIE_BASE_NAME='cookie_' export WGET=\"/usr/bin/wget\" export DATE=/bin/date ####################################################### ### Les paramètres ### ####################################################### export HOST=$1 export PORT=$2 export WARN=$3 export CRIT=$4 ####################################################### ### Le script ### ####################################################### mkdir -p ${TMP_DIRECTORY}/${PORT} cd ${TMP_DIRECTORY}/${PORT} export COOKIE=${TMP_DIRECTORY}/${PORT}/${COOKIE_BASE_NAME}${PORT} STARTTIME=$($DATE +%s%N) wget --cache=off -nv -p -H --cookies=on --post-data 'username=USER&password=PASS' --load-cookies=${COOKIE} --keep-session-cookies --save-cookies=${COOKIE} http://${HOST}:${PORT}/LOGINPAGE >/dev/null 2>&1 wget --cache=off -nv -p -H --cookies=on --post-data 'username=USER&password=PASS' --load-cookies=${COOKIE} --keep-session-cookies --save-cookies=${COOKIE} --refer=http://${HOST}:${PORT}/LOGINPAGE http://${HOST}:${PORT}/CONTENTPAGE >/dev/null 2>&1 ENDTIME=$($DATE +%s%N) TIMEDIFF=$((($ENDTIME-$STARTTIME)/1000000)) if [ \"$TIMEDIFF\" -lt \"$WARN\" ]; then STATUS=OK elif [ \"$TIMEDIFF\" -ge \"$WARN\" ] && [ \"$TIMEDIFF\" -lt \"$CRIT\" ]; then STATUS=WARNING elif [ \"$TIMEDIFF\" -ge \"$CRIT\" ]; then STATUS=CRITICAL fi OUTMSG=\"$TIMEDIFF ms\" cd ${TMP_DIRECTORY} rm -rf ${PORT} echo \"RESPONSE: $STATUS - $OUTMSG\"\"|Response=\"$TIMEDIFF\"ms;\"$WARN\";\"$CRIT\";0\" if [ \"$STATUS\" = \"OK\" ]; then exit 0 elif [ \"$STATUS\" = \"WARNING\" ]; then exit 1 elif [ \"$STATUS\" = \"CRITICAL\" ]; then exit 2 fi exit 3\n\nIl vous faudra adapter :\n\n- Les champs du formulaire de la page de connexion (dans le –post-data)\n- Les URL des pages a cibler\n\n\n## Intégration dans Nagios\n\nAfin d’intégrer le script dans Nagios, je l’ai copié dans le dossier « /usr/lib64/nagios/plugins », mon dossier $USER1$.\n\n####  Création de la commande[![Surveiller les performances d'un site avec Nagios](https://techan.fr/images/2015/03/screenshot.182.jpg)](https://techan.fr/images/2015/03/screenshot.182.jpg)\n\n#### Création du service\n\n[![Surveiller les performances d’un site avec Nagios ](https://techan.fr/images/2015/03/screenshot.183.jpg)](https://techan.fr/images/2015/03/screenshot.183.jpg)\n\nAvec ces réglages on aura :\n\n- Une alerte « WARNING » lorsque la page mettra plus de 5 secondes à charger.\n- Une alerte « CRITICAL » lorsque la page mettra plus de 7 secondes à charger.\n\n#### Et voilà !\n\n[![Surveiller les performances d’un site avec Nagios ](https://techan.fr/images/2015/03/screenshot.179.jpg)](https://techan.fr/images/2015/03/screenshot.179.jpg)\n\n\n","html":"<p>J’ai eu besoin de créer un script pour pouvoir surveiller les performances d’un site avec Nagios. Seul souci, ce site web est protégé par un SSO et il me fallait récupérer un cookie pour pouvoir récupérer la page de contenu avec « wget ». Heureusement, il est « assez » simple de gérer les cookies avec « wget ».</p>\n\n<h2 id=\"lescript\"> Le script</h2>\n\n<p>Voici donc le fameux script, anonymisé bien sûr !</p>\n\n<h1 id=\"binbashmonitor_websiteshauteurmrraph_sitehttpstechanfrdate31032015constantesexporttmp_directorytmpmonitorexportcookie_base_namecookie_exportwgetusrbinwgetexportdatebindatelesparamtresexporthostd1exportportd2exportwarnd3exportcritd4lescriptmkdirpdtmp_directorydportcddtmp_directorydportexportcookiedtmp_directorydportdcookie_base_namedportstarttimedddatesnwgetcacheoffnvphcookiesonpostdatausernameuserpasswordpassloadcookiesdcookiekeepsessioncookiessavecookiesdcookiehttpdhostdportloginpagedevnull21wgetcacheoffnvphcookiesonpostdatausernameuserpasswordpassloadcookiesdcookiekeepsessioncookiessavecookiesdcookiereferhttpdhostdportloginpagehttpdhostdportcontentpagedevnull21endtimedddatesntimediffddendtimedstarttime1000000ifdtimediffltdwarnthenstatusokelifdtimediffgedwarndtimediffltdcritthenstatuswarningelifdtimediffgedcritthenstatuscriticalfioutmsgdtimediffmscddtmp_directoryrmrfdportechoresponsedstatusdoutmsgresponsedtimediffmsdwarndcrit0ifdstatusokthenexit0elifdstatuswarningthenexit1elifdstatuscriticalthenexit2fiexit3\">!/bin/bash ####################################################### ### Monitor<em>website.sh ### ### Auteur : MrRaph</em> ### ### Site : <a href=\"https://techan.fr\">https://techan.fr</a> ### ### Date : 31/03/2015 ### ### ### ####################################################### ####################################################### ### Constantes ### ####################################################### export TMP<em>DIRECTORY='/tmp/Monitor' export COOKIE</em>BASE<em>NAME='cookie</em>' export WGET=\"/usr/bin/wget\" export DATE=/bin/date ####################################################### ### Les paramètres ### ####################################################### export HOST=$1 export PORT=$2 export WARN=$3 export CRIT=$4 ####################################################### ### Le script ### ####################################################### mkdir -p ${TMP<em>DIRECTORY}/${PORT} cd ${TMP</em>DIRECTORY}/${PORT} export COOKIE=${TMP<em>DIRECTORY}/${PORT}/${COOKIE</em>BASE<em>NAME}${PORT} STARTTIME=$($DATE +%s%N) wget --cache=off -nv -p -H --cookies=on --post-data 'username=USER&amp;password=PASS' --load-cookies=${COOKIE} --keep-session-cookies --save-cookies=${COOKIE} <a href=\"http://${HOST}:${PORT}/LOGINPAGE\">http://${HOST}:${PORT}/LOGINPAGE</a> >/dev/null 2>&amp;1 wget --cache=off -nv -p -H --cookies=on --post-data 'username=USER&amp;password=PASS' --load-cookies=${COOKIE} --keep-session-cookies --save-cookies=${COOKIE} --refer=<a href=\"http://${HOST}:${PORT}/LOGINPAGE\">http://${HOST}:${PORT}/LOGINPAGE</a> <a href=\"http://${HOST}:${PORT}/CONTENTPAGE\">http://${HOST}:${PORT}/CONTENTPAGE</a> >/dev/null 2>&amp;1 ENDTIME=$($DATE +%s%N) TIMEDIFF=$((($ENDTIME-$STARTTIME)/1000000)) if [ \"$TIMEDIFF\" -lt \"$WARN\" ]; then STATUS=OK elif [ \"$TIMEDIFF\" -ge \"$WARN\" ] &amp;&amp; [ \"$TIMEDIFF\" -lt \"$CRIT\" ]; then STATUS=WARNING elif [ \"$TIMEDIFF\" -ge \"$CRIT\" ]; then STATUS=CRITICAL fi OUTMSG=\"$TIMEDIFF ms\" cd ${TMP</em>DIRECTORY} rm -rf ${PORT} echo \"RESPONSE: $STATUS - $OUTMSG\"\"|Response=\"$TIMEDIFF\"ms;\"$WARN\";\"$CRIT\";0\" if [ \"$STATUS\" = \"OK\" ]; then exit 0 elif [ \"$STATUS\" = \"WARNING\" ]; then exit 1 elif [ \"$STATUS\" = \"CRITICAL\" ]; then exit 2 fi exit 3</h1>\n\n<p>Il vous faudra adapter :</p>\n\n<ul>\n<li>Les champs du formulaire de la page de connexion (dans le –post-data)</li>\n<li>Les URL des pages a cibler</li>\n</ul>\n\n<h2 id=\"intgrationdansnagios\">Intégration dans Nagios</h2>\n\n<p>Afin d’intégrer le script dans Nagios, je l’ai copié dans le dossier « /usr/lib64/nagios/plugins », mon dossier $USER1$.</p>\n\n<h4 id=\"crationdelacommandesurveillerlesperformancesdunsiteavecnagioshttpstechanfrwpcontentuploads201503screenshot182jpghttpstechanfrwpcontentuploads201503screenshot182jpg\"> Création de la commande<a href=\"https://techan.fr/images/2015/03/screenshot.182.jpg\"><img src=\"https://techan.fr/images/2015/03/screenshot.182.jpg\" alt=\"Surveiller les performances d'un site avec Nagios\" title=\"\" /></a></h4>\n\n<h4 id=\"crationduservice\">Création du service</h4>\n\n<p><a href=\"https://techan.fr/images/2015/03/screenshot.183.jpg\"><img src=\"https://techan.fr/images/2015/03/screenshot.183.jpg\" alt=\"Surveiller les performances d’un site avec Nagios \" title=\"\" /></a></p>\n\n<p>Avec ces réglages on aura :</p>\n\n<ul>\n<li>Une alerte « WARNING » lorsque la page mettra plus de 5 secondes à charger.</li>\n<li>Une alerte « CRITICAL » lorsque la page mettra plus de 7 secondes à charger.</li>\n</ul>\n\n<h4 id=\"etvoil\">Et voilà !</h4>\n\n<p><a href=\"https://techan.fr/images/2015/03/screenshot.179.jpg\"><img src=\"https://techan.fr/images/2015/03/screenshot.179.jpg\" alt=\"Surveiller les performances d’un site avec Nagios \" title=\"\" /></a></p>","image":"http://blog.techan.fr/images/2015/03/nagios.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-03-31T15:03:16.000Z","created_by":1,"updated_at":"2015-03-31T15:03:16.000Z","updated_by":1,"published_at":"2015-03-31T15:03:16.000Z","published_by":1},{"id":113,"uuid":"5d049e7d-498c-44bd-806d-64739dca5a77","title":"Impossible de compiler le module vmnet sur Fedora 21","slug":"impossible-de-compiler-le-module-vmnet-sur-fedora-21","markdown":"\nJe tentais d’installer [VMware Workstation ](http://www.vmware.com/products/workstation/workstation-evaluation)11 sur mon PC personnel sous Fedora 21 et malheureusement, ce système n’étant pas supporté par VMware, il m’étais impossible de compiler les modules noyau de VMware.\n\nAprès quelques recherches sur le net, je suis tombé sur un fil sur le site [ask.fedoraproject.org ](https://ask.fedoraproject.org/en/question/65849/vmware-workstation-11-fails-to-build-vmnet-on-fedora-21/ \"ask.fedoraproject.org\")et en quelques commandes, tout s’est résolu !\n\n\n##  Les commandes\n\n[$](https://ask.fedoraproject.org/en/question/65849/vmware-workstation-11-fails-to-build-vmnet-on-fedora-21/ \"ask.fedoraproject.org\") curl http://pastie.org/pastes/9934018/download -o /tmp/vmnet-3.19.patch $ cd /usr/lib/vmware/modules/source # tar -xf vmnet.tar # patch -p0 -i /tmp/vmnet-3.19.patch # tar -cf vmnet.tar vmnet-only # rm -r *-only # vmware-modconfig --console --install-all\n\nSi tout se passe bien, le daemon vmware va démarrer sans souci.\n\nStarting vmware (via systemctl): [ OK ]\n\nEt voilà ! VMware Workstation 11 est prêt !\n\n\n","html":"<p>Je tentais d’installer <a href=\"http://www.vmware.com/products/workstation/workstation-evaluation\">VMware Workstation </a>11 sur mon PC personnel sous Fedora 21 et malheureusement, ce système n’étant pas supporté par VMware, il m’étais impossible de compiler les modules noyau de VMware.</p>\n\n<p>Après quelques recherches sur le net, je suis tombé sur un fil sur le site <a href=\"https://ask.fedoraproject.org/en/question/65849/vmware-workstation-11-fails-to-build-vmnet-on-fedora-21/\" title=\"ask.fedoraproject.org\">ask.fedoraproject.org </a>et en quelques commandes, tout s’est résolu !</p>\n\n<h2 id=\"lescommandes\"> Les commandes</h2>\n\n<p><a href=\"https://ask.fedoraproject.org/en/question/65849/vmware-workstation-11-fails-to-build-vmnet-on-fedora-21/\" title=\"ask.fedoraproject.org\">$</a> curl <a href=\"http://pastie.org/pastes/9934018/download\">http://pastie.org/pastes/9934018/download</a> -o /tmp/vmnet-3.19.patch $ cd /usr/lib/vmware/modules/source # tar -xf vmnet.tar # patch -p0 -i /tmp/vmnet-3.19.patch # tar -cf vmnet.tar vmnet-only # rm -r *-only # vmware-modconfig --console --install-all</p>\n\n<p>Si tout se passe bien, le daemon vmware va démarrer sans souci.</p>\n\n<p>Starting vmware (via systemctl): [ OK ]</p>\n\n<p>Et voilà ! VMware Workstation 11 est prêt !</p>","image":"http://blog.techan.fr/images/2015/04/vmware_workstation_logo.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-03T11:02:35.000Z","created_by":1,"updated_at":"2015-04-03T18:06:49.000Z","updated_by":1,"published_at":"2015-04-03T11:02:35.000Z","published_by":1},{"id":114,"uuid":"d9cf2760-dab2-4e22-98e1-ceb1fc5d943f","title":"Office Lens, le scanner mobile de Microsoft","slug":"office-lens-le-scanner-mobile-de-microsoft","markdown":"\nDepuis quelques temps déjà, les applications Office sont disponibles gratuitement sur plateformes mobiles iOS et Android. Le tout connecté sur le cloud Microsoft OneDrive.\n\n![Office Lens, le scanner mobile de Microsoft](https://techan.fr/images/2015/04/IMG_9468-0.png)\n\nJ’utilise tout ceci depuis quelques temps et il faut reconnaître que tout cela fonctionne vraiment bien. C’est assez pratique de pouvoir consulter et modifier les documents ses documents de partout.\n\nMa dernière découverte, Office Lens, permet de transformer son mobile en véritable scanner. On est d’accord, il y a beaucoup d’applications qui proposent cette fonction, mais celle-ci est vraiment aboutie et pratique. Et le clou du spectacle, elle est gratuite.\n\n         [![Office Lens, le scanner mobile de Microsoft](https://techan.fr/images/2015/04/image.jpg)](https://techan.fr/images/2015/04/image.jpg)\n\n Voilà comment cela se présente, en fait comme dans les autres applications scanner. L’application détecte le document a scanner. Une fois qu’il est bien détecté, on appuye pour prendre la photo.\n\n[![Office Lens, le scanner mobile de Microsoft](https://techan.fr/images/2015/04/image1.jpg)](https://techan.fr/images/2015/04/image1.jpg)\n\nL’application travaille un peu sur la photo puis vous présente lendoculent scanné, redressé et amélioré.\n\n[![Office Lens, le scanner mobile de Microsoft](https://techan.fr/images/2015/04/image2.jpg)](https://techan.fr/images/2015/04/image2.jpg)\n\nOn peut toujours recadrer l’image ensuite, puis l’envoyer dans le cloud, par mail ou l’inclure dans un document Office.\n\n[![image](https://techan.fr/images/2015/04/image3.jpg)](https://techan.fr/images/2015/04/image3.jpg)\n\n\n","html":"<p>Depuis quelques temps déjà, les applications Office sont disponibles gratuitement sur plateformes mobiles iOS et Android. Le tout connecté sur le cloud Microsoft OneDrive.</p>\n\n<p><img src=\"https://techan.fr/images/2015/04/IMG_9468-0.png\" alt=\"Office Lens, le scanner mobile de Microsoft\" /></p>\n\n<p>J’utilise tout ceci depuis quelques temps et il faut reconnaître que tout cela fonctionne vraiment bien. C’est assez pratique de pouvoir consulter et modifier les documents ses documents de partout.</p>\n\n<p>Ma dernière découverte, Office Lens, permet de transformer son mobile en véritable scanner. On est d’accord, il y a beaucoup d’applications qui proposent cette fonction, mais celle-ci est vraiment aboutie et pratique. Et le clou du spectacle, elle est gratuite.</p>\n\n<p>         <a href=\"https://techan.fr/images/2015/04/image.jpg\"><img src=\"https://techan.fr/images/2015/04/image.jpg\" alt=\"Office Lens, le scanner mobile de Microsoft\" title=\"\" /></a></p>\n\n<p> Voilà comment cela se présente, en fait comme dans les autres applications scanner. L’application détecte le document a scanner. Une fois qu’il est bien détecté, on appuye pour prendre la photo.</p>\n\n<p><a href=\"https://techan.fr/images/2015/04/image1.jpg\"><img src=\"https://techan.fr/images/2015/04/image1.jpg\" alt=\"Office Lens, le scanner mobile de Microsoft\" title=\"\" /></a></p>\n\n<p>L’application travaille un peu sur la photo puis vous présente lendoculent scanné, redressé et amélioré.</p>\n\n<p><a href=\"https://techan.fr/images/2015/04/image2.jpg\"><img src=\"https://techan.fr/images/2015/04/image2.jpg\" alt=\"Office Lens, le scanner mobile de Microsoft\" title=\"\" /></a></p>\n\n<p>On peut toujours recadrer l’image ensuite, puis l’envoyer dans le cloud, par mail ou l’inclure dans un document Office.</p>\n\n<p><a href=\"https://techan.fr/images/2015/04/image3.jpg\"><img src=\"https://techan.fr/images/2015/04/image3.jpg\" alt=\"image\" title=\"\" /></a></p>","image":"http://blog.techan.fr/images/2015/04/IMG_9469.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-05T13:16:09.000Z","created_by":1,"updated_at":"2015-04-05T14:12:51.000Z","updated_by":1,"published_at":"2015-04-05T13:16:09.000Z","published_by":1},{"id":115,"uuid":"0fc6c878-b28e-4f5c-ba3d-8c6acb3c603f","title":"IP Failover avec uCARP","slug":"ip-failover-avec-ucarp","markdown":"\nComme je l’ai fait avec KeepAlived (voir [IP Failover avec KeepAlived](https://techan.fr/ip-failover-avec-keepalived/)), j’ai voulu tester le FailOver IP avec uCarp.  [uCarp](http://www.pureftpd.org/project/ucarp) est le portage sur Linux de Carp – *Common Address Redundancy Protocol –* disponible sur OpenBSD.\n\nVous allez le voir, son implémentation est encore plus simple que celle de KeepAlived, qui n’était déjà pas très complexe … Il suffit en effet de configurer une interface virtuelle sur les nœuds du cluster qui doivent monter l’IP virtuelle puis de renseigner le nom de cette interface dans le fichier de configuration d’uCarp.\n\n\n## Ajouter une interface virtuelle\n\n# vi /etc/sysconfig/network-scripts/ifcfg-eth0:0 DEVICE=eth0:0 BOOTPRO=none ONBOOT=no IPADDR=172.16.17.87 NETMASK=255.255.255.0 IPV6INIT=no\n\nFaire de même sur les autres nœuds du cluster uCarp.\n\n\n## Installation et configuration d’uCarp\n\nTout d’abord on installe les paquets nécessaires, j’ajoute Apache pour faire des tests.\n\n# yum install ucarp httpd.x86_64\n\nOn duplique l’exemple de configuration.\n\n# cp /etc/sysconfig/carp/vip-001.conf.example /etc/sysconfig/carp/vip-001.conf\n\nOn renseigne la configuration avec les informations nécessaires, le nom de l’interface sur laquelle monter l’IP virtuelle – *eth0 dans mon cas* – le nom de l’interface VIP que l’on vient de créer – *eth0:0* – et un mot de passe à votre discrétion.\n\nvi /etc/sysconfig/carp/vip-001.conf # Configuration de CARP #172.16.17.87 ha-0-extappdev vip #172.16.17.85 sl-0-extappdev1.domain.fr #172.16.17.86 sl-0-extappdev2.domain.fr # # # Nom de l'interface ou accrocher la VIP BIND_INTERFACE=\"eth0\" # Nom de l'interface virtuel. Voir le fichier /etc/sysconfig/network-scripts/ifcfg-eth0:0 # Attention : forcer bootpro=none VIP_INTERFACE=\"eth0:0\" # Mot de passe du cluster: le mot de passe doit être identique pour tous les noeud du cluster. PASSWORD=\"password\"\n\nIl faut ensuite copier ce fichier sur tous les nœuds du cluster utilisant uCarp.\n\n#### Petite correction de bug\n\nLe paquet pour CentOS 6 est buggé, rassurez-vous, rien de bien grave, il suffit de corriger une ligne du fichier d’init d’uCarp. [Un bug est référencé à ce sujet](%20http://bugs.centos.org/view.php?id=6651).\n\n# vi /etc/init.d/carp\n\nRemplacer la lige 55 comme suit :\n\n#BIND_ADDRESS=\"`ifconfig ${BIND_INTERFACE} | sed -n 's/.*inet addr:\\([^ ]*\\) .*/\\1/p' | head -n 1`\" BIND_ADDRESS=\"`ifconfig ${BIND_INTERFACE} | sed -n 's/.*inet adr:\\([^ ]*\\) .*/\\1/p' | head -n 1`\"\n\n\n##  Et on est bon !\n\nIl ne reste plus qu’a démarrer uCarp.\n\n# service carp start Démarrage de démon du protocole de redondance d'adresses co[ OK ] # chkconfig --level 2345 carp on\n\n[Les mêmes tests que pour KeepAlived](https://techan.fr/ip-failover-avec-keepalived/) peuvent être joués pour valider que l’IP bascule bien.\n\n\n","html":"<p>Comme je l’ai fait avec KeepAlived (voir <a href=\"https://techan.fr/ip-failover-avec-keepalived/\">IP Failover avec KeepAlived</a>), j’ai voulu tester le FailOver IP avec uCarp.  <a href=\"http://www.pureftpd.org/project/ucarp\">uCarp</a> est le portage sur Linux de Carp – <em>Common Address Redundancy Protocol –</em> disponible sur OpenBSD.</p>\n\n<p>Vous allez le voir, son implémentation est encore plus simple que celle de KeepAlived, qui n’était déjà pas très complexe … Il suffit en effet de configurer une interface virtuelle sur les nœuds du cluster qui doivent monter l’IP virtuelle puis de renseigner le nom de cette interface dans le fichier de configuration d’uCarp.</p>\n\n<h2 id=\"ajouteruneinterfacevirtuelle\">Ajouter une interface virtuelle</h2>\n\n<h1 id=\"vietcsysconfignetworkscriptsifcfgeth00deviceeth00bootprononeonbootnoipaddr172161787netmask2552552550ipv6initno\">vi /etc/sysconfig/network-scripts/ifcfg-eth0:0 DEVICE=eth0:0 BOOTPRO=none ONBOOT=no IPADDR=172.16.17.87 NETMASK=255.255.255.0 IPV6INIT=no</h1>\n\n<p>Faire de même sur les autres nœuds du cluster uCarp.</p>\n\n<h2 id=\"installationetconfigurationducarp\">Installation et configuration d’uCarp</h2>\n\n<p>Tout d’abord on installe les paquets nécessaires, j’ajoute Apache pour faire des tests.</p>\n\n<h1 id=\"yuminstallucarphttpdx86_64\">yum install ucarp httpd.x86_64</h1>\n\n<p>On duplique l’exemple de configuration.</p>\n\n<h1 id=\"cpetcsysconfigcarpvip001confexampleetcsysconfigcarpvip001conf\">cp /etc/sysconfig/carp/vip-001.conf.example /etc/sysconfig/carp/vip-001.conf</h1>\n\n<p>On renseigne la configuration avec les informations nécessaires, le nom de l’interface sur laquelle monter l’IP virtuelle – <em>eth0 dans mon cas</em> – le nom de l’interface VIP que l’on vient de créer – <em>eth0:0</em> – et un mot de passe à votre discrétion.</p>\n\n<p>vi /etc/sysconfig/carp/vip-001.conf # Configuration de CARP #172.16.17.87 ha-0-extappdev vip #172.16.17.85 sl-0-extappdev1.domain.fr #172.16.17.86 sl-0-extappdev2.domain.fr # # # Nom de l'interface ou accrocher la VIP BIND<em>INTERFACE=\"eth0\" # Nom de l'interface virtuel. Voir le fichier /etc/sysconfig/network-scripts/ifcfg-eth0:0 # Attention : forcer bootpro=none VIP</em>INTERFACE=\"eth0:0\" # Mot de passe du cluster: le mot de passe doit être identique pour tous les noeud du cluster. PASSWORD=\"password\"</p>\n\n<p>Il faut ensuite copier ce fichier sur tous les nœuds du cluster utilisant uCarp.</p>\n\n<h4 id=\"petitecorrectiondebug\">Petite correction de bug</h4>\n\n<p>Le paquet pour CentOS 6 est buggé, rassurez-vous, rien de bien grave, il suffit de corriger une ligne du fichier d’init d’uCarp. <a href=\"%20http://bugs.centos.org/view.php?id=6651\">Un bug est référencé à ce sujet</a>.</p>\n\n<h1 id=\"vietcinitdcarp\">vi /etc/init.d/carp</h1>\n\n<p>Remplacer la lige 55 comme suit :</p>\n\n<h1 id=\"bind_addressifconfigdbind_interfacesednsinetaddr1pheadn1bind_addressifconfigdbind_interfacesednsinetadr1pheadn1\">BIND<em>ADDRESS=\"<code>ifconfig ${BIND_INTERFACE} | sed -n 's/.*inet addr:\\([^ ]*\\) .*/\\1/p' | head -n 1</code>\" BIND</em>ADDRESS=\"<code>ifconfig ${BIND_INTERFACE} | sed -n 's/.*inet adr:\\([^ ]*\\) .*/\\1/p' | head -n 1</code>\"</h1>\n\n<h2 id=\"etonestbon\"> Et on est bon !</h2>\n\n<p>Il ne reste plus qu’a démarrer uCarp.</p>\n\n<h1 id=\"servicecarpstartdmarragededmonduprotocolederedondancedadressescookchkconfiglevel2345carpon\">service carp start Démarrage de démon du protocole de redondance d'adresses co[ OK ] # chkconfig --level 2345 carp on</h1>\n\n<p><a href=\"https://techan.fr/ip-failover-avec-keepalived/\">Les mêmes tests que pour KeepAlived</a> peuvent être joués pour valider que l’IP bascule bien.</p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-07T11:22:33.000Z","created_by":1,"updated_at":"2015-04-07T15:47:02.000Z","updated_by":1,"published_at":"2015-04-07T11:22:33.000Z","published_by":1},{"id":116,"uuid":"4538614d-a50a-40c1-8d82-e4532c9c57ae","title":"Clefs beta pour Heroes of the Storm","slug":"clefs-beta-pour-heroes-of-the-storm","markdown":"\n**[Édit 13/04/2015] **<span style=\"line-height: normal; -webkit-text-size-adjust: auto; background-color: rgba(255, 255, 255, 0);\">*Il ne reste plus de clef disponible …*</span>**  \n**\n\n**[Édit 12/04/2015] ***Il ne reste plus qu’une clef disponible !*\n\nIl y a quelques temps déjà, j’ai reçu une clef pour l’alpha d’[*Heroes of the Storm*](http://us.battle.net/heroes/en/), le nouveau jeu de Blizzard. C’est un « MOBA », le même genre de jeu que [*League of Legends*](http://euw.leagueoflegends.com/). Le dernier arrivé de la famille Blizzard regroupe toutes les séries du studio. On peut y incarner des personnages comme Diablo, Jim Raynor ou Thrall, le but étant de détruire le cœur de la base adversaire avant que l’équipe opposée ne le fasse.\n\n[![Clefs beta pour Heroes of the Storm](https://techan.fr/images/2015/04/Heroes_of_the_Storm_logo.png)](https://techan.fr/images/2015/04/Heroes_of_the_Storm_logo.png)\n\nCe nouveau jeu est commercialisé sous la forme d’un freemium, comme *League of Legends* d’ailleurs. Le jeu de base sera gratuit et vous pourrez progresser avec de l’argent gagné en jouant. L’éditeur propose d’acheter la monnaie du jeu afin de progresser plus vite, de posséder plus de héro, …\n\nJ’ai reçu par mail aujourd’hui 4 clefs beta pour Heroes of the Storm et visiblement, ces clefs débloquent également un héro supplémentaire : *Valla la chasseuse de démons*.\n\n[![Clefs beta pour Heroes of the Storm](https://techan.fr/images/2015/04/mail_blizzard_HotS.jpg)](https://techan.fr/images/2015/04/mail_blizzard_HotS.jpg)\n\nJ’offre donc ces clefs aux 4 premières personnes qui laissent un commentaire sur cet article. Je vous la ferait suivre directement par mail. A vos claviers !\n\n\n","html":"<p><strong>[Édit 13/04/2015] <em>*<span style=\"line-height: normal; -webkit-text-size-adjust: auto; background-color: rgba(255, 255, 255, 0);\"></em>Il ne reste plus de clef disponible …<em></span></strong> <br />\n*</em></p>\n\n<p><strong>[Édit 12/04/2015] <em></strong>Il ne reste plus qu’une clef disponible !</em></p>\n\n<p>Il y a quelques temps déjà, j’ai reçu une clef pour l’alpha d’<a href=\"http://us.battle.net/heroes/en/\"><em>Heroes of the Storm</em></a>, le nouveau jeu de Blizzard. C’est un « MOBA », le même genre de jeu que <a href=\"http://euw.leagueoflegends.com/\"><em>League of Legends</em></a>. Le dernier arrivé de la famille Blizzard regroupe toutes les séries du studio. On peut y incarner des personnages comme Diablo, Jim Raynor ou Thrall, le but étant de détruire le cœur de la base adversaire avant que l’équipe opposée ne le fasse.</p>\n\n<p><a href=\"https://techan.fr/images/2015/04/Heroes_of_the_Storm_logo.png\"><img src=\"https://techan.fr/images/2015/04/Heroes_of_the_Storm_logo.png\" alt=\"Clefs beta pour Heroes of the Storm\" title=\"\" /></a></p>\n\n<p>Ce nouveau jeu est commercialisé sous la forme d’un freemium, comme <em>League of Legends</em> d’ailleurs. Le jeu de base sera gratuit et vous pourrez progresser avec de l’argent gagné en jouant. L’éditeur propose d’acheter la monnaie du jeu afin de progresser plus vite, de posséder plus de héro, …</p>\n\n<p>J’ai reçu par mail aujourd’hui 4 clefs beta pour Heroes of the Storm et visiblement, ces clefs débloquent également un héro supplémentaire : <em>Valla la chasseuse de démons</em>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/04/mail_blizzard_HotS.jpg\"><img src=\"https://techan.fr/images/2015/04/mail_blizzard_HotS.jpg\" alt=\"Clefs beta pour Heroes of the Storm\" title=\"\" /></a></p>\n\n<p>J’offre donc ces clefs aux 4 premières personnes qui laissent un commentaire sur cet article. Je vous la ferait suivre directement par mail. A vos claviers !</p>","image":"http://blog.techan.fr/images/2015/04/cadeau_blizzard.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-08T17:29:55.000Z","created_by":1,"updated_at":"2015-04-15T08:45:01.000Z","updated_by":1,"published_at":"2015-04-08T17:29:55.000Z","published_by":1},{"id":117,"uuid":"8f81a1c1-31cb-4237-abf5-8e75314b615a","title":"Astuces utiles pour MySQL","slug":"astuces-utiles-pour-mysql","markdown":"\nVoici une compilation de différentes astuces utiles pour MySQL. Je les ai trouvées sur différents sites et j’en avais marre de refaire les mêmes recherches à chaque fois que ces petits tracas se représente.\n\n\n## Recréer le user « debian-sys-maint »\n\nCet utilisateur privilégié est créé lors de l’installation de MySQL sur les plateformes de la famille Debian. Il permet au système de faire des actions d’administration sans avoir à demander le mot de passe « root ». Par exemple, il me sert à faire les backups MySQL avec BackupNinja. Cependant, il arrive que ce compte soit mal créé ou qu’il soit supprimé … Ça m’est arrivé lorsque j’ai voulu installer un outil psycho -rigide qui voulait forcer l’installation de MySQL en lieu et place de mon serveur MariaDB.\n\n#### Bon à savoir\n\nLe mot de passe de l’utilisateur « debian-sys-maint’ est renseigné dans le fichier de configuration « /etc/mysql/debian.cnf ».\n\n#### La marche à suivre\n\nIl suffit de se connecter à MySQL en root et lancer les commandes SQL suivantes.\n\nuse mysql ; INSERT INTO `user` ( `Host`, `User`, `Password`, `Select_priv`, `Insert_priv`, `Update_priv`, `Delete_priv`, `Create_priv`, `Drop_priv`, `Reload_priv`, `Shutdown_priv`, `Process_priv`, `File_priv`, `Grant_priv`, `References_priv`, `Index_priv`, `Alter_priv`, `Show_db_priv`, `Super_priv`, `Create_tmp_table_priv`, `Lock_tables_priv`, `Execute_priv`, `Repl_slave_priv`, `Repl_client_priv`, `Create_view_priv`, `Show_view_priv`, `Create_routine_priv`, `Alter_routine_priv`, `Create_user_priv`, `ssl_type`, `ssl_cipher`, `x509_issuer`, `x509_subject`, `max_questions`, `max_updates`, `max_connections`, `max_user_connections` ) VALUES ( 'localhost', 'debian-sys-maint', password('A recuperer dans le fichier /etc/mysql/debian.cnf'), 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'N', 'N', 'N', 'N', 'N', '', '', '', '', 0, 0, 0, 0 ); FLUSH PRIVILEGES;\n\n####  Plus de fun\n\nSi le compte est toujours là mais que le mot de passe a été changé, la méthode ci-avant ne fonctionnera pas. Dans ce cas précis, il faut utiliser la commande suivante.\n\nuse mysql; update user set password=password('A recuperer dans le fichier /etc/mysql/debian.cnf') where User='debian-sys-maint' ;\n\n####  La source\n\nL’astuce vient du site : [www.electrictoolbox.com](http://www.electrictoolbox.com/restore-debian-sys-maint-mysql-user/ \"www.electrictoolbox.com\")\n\n \n\n\n## Réinitialiser le mot de passe root\n\nSi comme moi vous n’avez pas de mémoire ou tout simplement que vous n’avez jamais su le mot de passe root d’une instance MySQL, il est possible de le changer. <span style=\"text-decoration: underline;\">Attention toute fois</span>, ceci nécessite un arrêt de l’instance MySQL <span style=\"text-decoration: underline;\">et</span> les programmes se connectant à cette instance MySQL avec le compte root n’y auront plus accès !\n\n#### La marche à suivre\n\nComme je vous le disais, la première chose à faire est d’arrêter MySQL.\n\n# service mysql stop * Stopping MariaDB database server mysqld [ OK ]\n\nOn redémarre sans la gestion des privilèges et on se connecte à l’instance en root, <span style=\"text-decoration: underline;\">aucun mot de passe n’est demandé dans ce mode</span>.\n\nNotez bien le PID lors du démarrage.\n\n# mysqld --skip-grant-tables & [1] 27126 # mysql -u root mysql Reading table information for completion of table and column names You can turn off this feature to get a quicker startup with -A Welcome to the MariaDB monitor. Commands end with ; or \\g. Your MariaDB connection id is 2 Server version: 10.0.17-MariaDB-1~utopic mariadb.org binary distribution Copyright (c) 2000, 2015, Oracle, MariaDB Corporation Ab and others. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. MariaDB [mysql]>\n\nOn peut alors mettre à jour le mot de passe de l’utilisateur ‘root’.\n\nMariaDB [mysql]> UPDATE user SET Password=PASSWORD('NOUVEAU MOT DE PASSE') WHERE User='root'; Query OK, 4 rows affected (0.00 sec) Rows matched: 4 Changed: 4 Warnings: 0 MariaDB [mysql]> FLUSH PRIVILEGES; Query OK, 0 rows affected (0.03 sec) MariaDB [mysql]> exit; Bye\n\nOn éteint le serveur MySQL en lançant un ‘kill’ sur le PID qu’on a noté juste avant.\n\n# kill 27126\n\nOn attend quelques secondes, on appuie plusieurs fois sur la touche Entrée jusqu’à voir ceci :\n\n# # [1]+ Done mysqld --skip-grant-tables # #\n\nOn peut maintenant redémarrer MySQL normalement.\n\n# service mysql start * Starting MariaDB database server mysqld [ OK ] * Checking for corrupt, not cleanly closed and upgrade needing tables.\n\nEt se connecter avec le nouveau mot de passe root.\n\n# mysql -u root -p Enter password: Welcome to the MariaDB monitor. Commands end with ; or \\g. Your MariaDB connection id is 2 Server version: 10.0.17-MariaDB-1~utopic mariadb.org binary distribution Copyright (c) 2000, 2015, Oracle, MariaDB Corporation Ab and others. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. MariaDB []>\n\n####  La source\n\nL’astuce vient du site : [ubuntu.flowconsult.at](http://ubuntu.flowconsult.at/en/mysql-set-change-reset-root-password/)\n\n\n","html":"<p>Voici une compilation de différentes astuces utiles pour MySQL. Je les ai trouvées sur différents sites et j’en avais marre de refaire les mêmes recherches à chaque fois que ces petits tracas se représente.</p>\n\n<h2 id=\"recrerleuserdebiansysmaint\">Recréer le user « debian-sys-maint »</h2>\n\n<p>Cet utilisateur privilégié est créé lors de l’installation de MySQL sur les plateformes de la famille Debian. Il permet au système de faire des actions d’administration sans avoir à demander le mot de passe « root ». Par exemple, il me sert à faire les backups MySQL avec BackupNinja. Cependant, il arrive que ce compte soit mal créé ou qu’il soit supprimé … Ça m’est arrivé lorsque j’ai voulu installer un outil psycho -rigide qui voulait forcer l’installation de MySQL en lieu et place de mon serveur MariaDB.</p>\n\n<h4 id=\"bonsavoir\">Bon à savoir</h4>\n\n<p>Le mot de passe de l’utilisateur « debian-sys-maint’ est renseigné dans le fichier de configuration « /etc/mysql/debian.cnf ».</p>\n\n<h4 id=\"lamarchesuivre\">La marche à suivre</h4>\n\n<p>Il suffit de se connecter à MySQL en root et lancer les commandes SQL suivantes.</p>\n\n<p>use mysql ; INSERT INTO <code>user</code> ( <code>Host</code>, <code>User</code>, <code>Password</code>, <code>Select_priv</code>, <code>Insert_priv</code>, <code>Update_priv</code>, <code>Delete_priv</code>, <code>Create_priv</code>, <code>Drop_priv</code>, <code>Reload_priv</code>, <code>Shutdown_priv</code>, <code>Process_priv</code>, <code>File_priv</code>, <code>Grant_priv</code>, <code>References_priv</code>, <code>Index_priv</code>, <code>Alter_priv</code>, <code>Show_db_priv</code>, <code>Super_priv</code>, <code>Create_tmp_table_priv</code>, <code>Lock_tables_priv</code>, <code>Execute_priv</code>, <code>Repl_slave_priv</code>, <code>Repl_client_priv</code>, <code>Create_view_priv</code>, <code>Show_view_priv</code>, <code>Create_routine_priv</code>, <code>Alter_routine_priv</code>, <code>Create_user_priv</code>, <code>ssl_type</code>, <code>ssl_cipher</code>, <code>x509_issuer</code>, <code>x509_subject</code>, <code>max_questions</code>, <code>max_updates</code>, <code>max_connections</code>, <code>max_user_connections</code> ) VALUES ( 'localhost', 'debian-sys-maint', password('A recuperer dans le fichier /etc/mysql/debian.cnf'), 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'N', 'N', 'N', 'N', 'N', '', '', '', '', 0, 0, 0, 0 ); FLUSH PRIVILEGES;</p>\n\n<h4 id=\"plusdefun\"> Plus de fun</h4>\n\n<p>Si le compte est toujours là mais que le mot de passe a été changé, la méthode ci-avant ne fonctionnera pas. Dans ce cas précis, il faut utiliser la commande suivante.</p>\n\n<p>use mysql; update user set password=password('A recuperer dans le fichier /etc/mysql/debian.cnf') where User='debian-sys-maint' ;</p>\n\n<h4 id=\"lasource\"> La source</h4>\n\n<p>L’astuce vient du site : <a href=\"http://www.electrictoolbox.com/restore-debian-sys-maint-mysql-user/\" title=\"www.electrictoolbox.com\">www.electrictoolbox.com</a></p>\n\n<h2 id=\"rinitialiserlemotdepasseroot\">Réinitialiser le mot de passe root</h2>\n\n<p>Si comme moi vous n’avez pas de mémoire ou tout simplement que vous n’avez jamais su le mot de passe root d’une instance MySQL, il est possible de le changer. <span style=\"text-decoration: underline;\">Attention toute fois</span>, ceci nécessite un arrêt de l’instance MySQL <span style=\"text-decoration: underline;\">et</span> les programmes se connectant à cette instance MySQL avec le compte root n’y auront plus accès !</p>\n\n<h4 id=\"lamarchesuivre\">La marche à suivre</h4>\n\n<p>Comme je vous le disais, la première chose à faire est d’arrêter MySQL.</p>\n\n<h1 id=\"servicemysqlstopstoppingmariadbdatabaseservermysqldok\">service mysql stop * Stopping MariaDB database server mysqld [ OK ]</h1>\n\n<p>On redémarre sans la gestion des privilèges et on se connecte à l’instance en root, <span style=\"text-decoration: underline;\">aucun mot de passe n’est demandé dans ce mode</span>.</p>\n\n<p>Notez bien le PID lors du démarrage.</p>\n\n<h1 id=\"mysqldskipgranttables127126mysqlurootmysqlreadingtableinformationforcompletionoftableandcolumnnamesyoucanturnoffthisfeaturetogetaquickerstartupwithawelcometothemariadbmonitorcommandsendwithorgyourmariadbconnectionidis2serverversion10017mariadb1tutopicmariadborgbinarydistributioncopyrightc20002015oraclemariadbcorporationabandotherstypehelporhforhelptypectoclearthecurrentinputstatementmariadbmysql\">mysqld --skip-grant-tables &amp; [1] 27126 # mysql -u root mysql Reading table information for completion of table and column names You can turn off this feature to get a quicker startup with -A Welcome to the MariaDB monitor. Commands end with ; or \\g. Your MariaDB connection id is 2 Server version: 10.0.17-MariaDB-1~utopic mariadb.org binary distribution Copyright (c) 2000, 2015, Oracle, MariaDB Corporation Ab and others. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. MariaDB [mysql]></h1>\n\n<p>On peut alors mettre à jour le mot de passe de l’utilisateur ‘root’.</p>\n\n<p>MariaDB [mysql]> UPDATE user SET Password=PASSWORD('NOUVEAU MOT DE PASSE') WHERE User='root'; Query OK, 4 rows affected (0.00 sec) Rows matched: 4 Changed: 4 Warnings: 0 MariaDB [mysql]> FLUSH PRIVILEGES; Query OK, 0 rows affected (0.03 sec) MariaDB [mysql]> exit; Bye</p>\n\n<p>On éteint le serveur MySQL en lançant un ‘kill’ sur le PID qu’on a noté juste avant.</p>\n\n<h1 id=\"kill27126\">kill 27126</h1>\n\n<p>On attend quelques secondes, on appuie plusieurs fois sur la touche Entrée jusqu’à voir ceci :</p>\n\n<h1 id=\"1donemysqldskipgranttables\"># [1]+ Done mysqld --skip-grant-tables #</h1>\n\n<p>On peut maintenant redémarrer MySQL normalement.</p>\n\n<h1 id=\"servicemysqlstartstartingmariadbdatabaseservermysqldokcheckingforcorruptnotcleanlyclosedandupgradeneedingtables\">service mysql start * Starting MariaDB database server mysqld [ OK ] * Checking for corrupt, not cleanly closed and upgrade needing tables.</h1>\n\n<p>Et se connecter avec le nouveau mot de passe root.</p>\n\n<h1 id=\"mysqlurootpenterpasswordwelcometothemariadbmonitorcommandsendwithorgyourmariadbconnectionidis2serverversion10017mariadb1tutopicmariadborgbinarydistributioncopyrightc20002015oraclemariadbcorporationabandotherstypehelporhforhelptypectoclearthecurrentinputstatementmariadb\">mysql -u root -p Enter password: Welcome to the MariaDB monitor. Commands end with ; or \\g. Your MariaDB connection id is 2 Server version: 10.0.17-MariaDB-1~utopic mariadb.org binary distribution Copyright (c) 2000, 2015, Oracle, MariaDB Corporation Ab and others. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. MariaDB []></h1>\n\n<h4 id=\"lasource\"> La source</h4>\n\n<p>L’astuce vient du site : <a href=\"http://ubuntu.flowconsult.at/en/mysql-set-change-reset-root-password/\">ubuntu.flowconsult.at</a></p>","image":"http://blog.techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-15T14:44:07.000Z","created_by":1,"updated_at":"2015-04-22T10:55:26.000Z","updated_by":1,"published_at":"2015-04-15T14:44:07.000Z","published_by":1},{"id":118,"uuid":"4cda794d-110f-4422-8196-aa897358ac1b","title":"Installer manuellement Tomcat 8 sur Fedora 21","slug":"installer-manuellement-tomcat-8-sur-fedora-21","markdown":"\nVoici un procédure pour installer manuellement Tomcat8 sur Fedora 21. L’installation manuelle a des avantages, on peut notamment avoir une version récente avant que l’éditeur de la distribution ne les pousse dans les dépôts. Cependant avec cette méthode, on se prive des mises à jour automatiques et en particulier des patchs de sécurité. Il faut donc peser le pour et le contre avant de choisir…\n\n \n\nJe souhaitais installer Tomcat8 manuellement pour pouvoir faire des tests en parallèle du Tomcat installé par Fedora 21.\n\n\n## \n\n\n## Installation de Java 8 (Oracle)\n\nIl faut dans un premier temps télécharger le package et le décompresser.\n\n[root@xxxx tmp]# cd /opt/ [root@xxxx opt]# wget --no-cookies --no-check-certificate --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie\" \"http://download.oracle.com/otn-pub/java/jdk/8u31-b13/jdk-8u31-linux-x64.tar.gz\" [root@xxxx opt]# tar xzf jdk-8u31-linux-x64.tar.gz\n\nOn ajoute la nouvelle alternative pour Java.\n\n[root@xxxx jdk1.8.0_31]# alternatives --install /usr/bin/java java /opt/jdk1.8.0_31/bin/java 2 [root@xxxx jdk1.8.0_31]# alternatives --config java Il existe 2 programmes qui fournissent « java ». Sélection Commande ----------------------------------------------- *+ 1 /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.31-3.b13.fc21.x86_64/jre/bin/java 2 /opt/jdk1.8.0_31/bin/java Entrez pour garder la sélection courante [+] ou saisissez le numéro de type de sélection :2\n\nOn met ensuite à jour les alternatives pour que notre nouveau Java devienne la version par défaut du système.\n\n[root@xxxx jdk1.8.0_31]# alternatives --install /usr/bin/jar jar /opt/jdk1.8.0_31/bin/jar 2 [root@xxxx jdk1.8.0_31]# alternatives --install /usr/bin/javac javac /opt/jdk1.8.0_31/bin/javac 2 [root@xxxx jdk1.8.0_31]# alternatives --set jar /opt/jdk1.8.0_31/bin/jar [root@xxxx jdk1.8.0_31]# alternatives --set javac /opt/jdk1.8.0_31/bin/javac\n\nUn petit test :\n\n[root@xxxx jdk1.8.0_31]# java -version java version \"1.8.0_31\" Java(TM) SE Runtime Environment (build 1.8.0_31-b13) Java HotSpot(TM) 64-Bit Server VM (build 25.31-b07, mixed mode)\n\n \n\n\n## Installation de Tomcat 8\n\nOn télécharge Tomcat, on le décompresse dans « /opt/tomcat8 ».\n\n[root@xxxx ~]# cd /tmp [root@xxxx tmp]# wget http://mirror.tcpdiag.net/apache/tomcat/tomcat-8/v8.0.18/bin/apache-tomcat-8.0.18.tar.gz [root@xxxx tmp]# tar xvzf apache-tomcat-8.0.18.tar.gz [root@xxxx tmp]# mv apache-tomcat-8.0.18 /opt/tomcat8 [root@xxxx tmp]# ln -s /opt/tomcat8 /opt/tomcat-latest\n\nLe lient symbolique « /opt/tomcat-latest » va nous permettre d’être un peu plus fexible dans la gestion des versions de Tomcat installées manuellement. Le jour ou j’installerais Tomcat 9, je le mettrais à jour et tout mes scripts « suivront » cette évolution.\n\nMaintenant, démarrons Tomcat 8 le plus simplement du monde.\n\n[root@xxxx tmp]# cd /opt/tomcat-latest/ [root@xxxx tomcat-latest]# ll total 116 drwxr-xr-x. 2 root root 4096 11 févr. 08:40 bin drwxr-xr-x. 2 root root 4096 28 janv. 16:54 conf drwxr-xr-x. 2 root root 4096 11 févr. 08:40 lib -rw-r--r--. 1 root root 56812 28 janv. 16:54 LICENSE drwxr-xr-x. 2 root root 4096 28 janv. 16:51 logs -rw-r--r--. 1 root root 1192 28 janv. 16:54 NOTICE -rw-r--r--. 1 root root 8963 28 janv. 16:54 RELEASE-NOTES -rw-r--r--. 1 root root 16204 28 janv. 16:54 RUNNING.txt drwxr-xr-x. 2 root root 4096 11 févr. 08:40 temp drwxr-xr-x. 7 root root 4096 28 janv. 16:53 webapps drwxr-xr-x. 2 root root 4096 28 janv. 16:51 work [root@xxxx tomcat7]# ./bin/startup.sh Using CATALINA_BASE: /opt/tomcat-latest Using CATALINA_HOME: /opt/tomcat-latest Using CATALINA_TMPDIR: /opt/tomcat-latest/temp Using JRE_HOME: / Using CLASSPATH: /opt/tomcat-latest/bin/bootstrap.jar:/opt/tomcat7/bin/tomcat-juli.jar Tomcat started.\n\n\n## \n\n\n## Configuration de Tomcat 8\n\n####  Création de l’utilisateur admin\n\nOn se rend dans le dossier « /opt/tomcat-latest » et on édite le fichier « conf/tomcat-users.xml ».\n\n[root@xxxx ~]# cd /opt/tomcat-latest/ [root@xxxx tomcat-latest]# vi conf/tomcat-users.xml\n\nVoici à quoi ce fichier doit ressembler pour que l’utilisateur « admin » ai accès à l’interface d’administration de Tomcat 8.\n\nxmlns=\"http://tomcat.apache.org/xml\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://tomcat.apache.org/xml tomcat-users.xsd\" version=\"1.0\">\n\nOn positionne les droits comme il faut.\n\n[root@xxxx ~]# chown -R tomcat:tomcat /opt/tomcat-latest/\n\n####  Configuration avec Systemd\n\nOn va créer un nouveau fichier « tomcat8.service » dans le dossier « /etc/systemd/system/ ». Ce fichier remplace le bon vieux « /etc/init.d/tomcat8 » et va nous permettre de démarrer Tomcat 8 avec le système et/ou la commande « service ».\n\n[root@xxxx tomcat-latest]# vi /etc/systemd/system/tomcat8.service\n\nVoici le contenu de ce fichier.\n\n[Unit] Description=Tomcat8 After=network.target [Service] Type=forking User=tomcat Group=tomcat Environment=CATALINA_PID=/opt/tomcat-latest/tomcat8.pid Environment=TOMCAT_JAVA_HOME=/opt/jdk1.8.0_31/ Environment=CATALINA_HOME=/opt/tomcat-latest Environment=CATALINA_BASE=/opt/tomcat-latest Environment=CATALINA_OPTS= Environment=\"JAVA_OPTS=-Dfile.encoding=UTF-8 -Dnet.sf.ehcache.skipUpdateCheck=true -XX:+UseConcMarkSweepGC -XX:+CMSClassUnloadingEnabled -XX:+UseParNewGC -XX:MaxPermSize=128m -Xms512m -Xmx512m\" ExecStart=/opt/tomcat-latest/bin/startup.sh ExecStop=/bin/kill -15 $MAINPID [Install] WantedBy=multi-user.target\n\nOn démarre Tomcat 8 !\n\n[root@xxxx tomcat-latest]# systemctl daemon-reload [root@xxxx tomcat-latest]# systemctl restart tomcat8\n\nOn peut maintenant se rendre à l’adresse : http://localhost:8080/ et voir cette magnifique page.\n\n[![screenshot.1423643818](https://techan.fr/images/2015/02/screenshot.1423643818.png)](https://techan.fr/images/2015/02/screenshot.1423643818.png)Et dans les logs :\n\n[root@xxxx logs]# journalctl -f -- Logs begin at dim. 2015-02-01 15:14:43 CET. -- févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using CATALINA_BASE: /opt/tomcat-latest févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using CATALINA_HOME: /opt/tomcat-latest févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using CATALINA_TMPDIR: /opt/tomcat-latest/temp févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using JRE_HOME: /usr févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using CLASSPATH: /opt/tomcat-latest/bin/bootstrap.jar:/opt/tomcat-latest/bin/tomcat-juli.jar févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using CATALINA_PID: /opt/tomcat-latest/tomcat8.pid févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Tomcat started.\n\n\n","html":"<p>Voici un procédure pour installer manuellement Tomcat8 sur Fedora 21. L’installation manuelle a des avantages, on peut notamment avoir une version récente avant que l’éditeur de la distribution ne les pousse dans les dépôts. Cependant avec cette méthode, on se prive des mises à jour automatiques et en particulier des patchs de sécurité. Il faut donc peser le pour et le contre avant de choisir…</p>\n\n<p>Je souhaitais installer Tomcat8 manuellement pour pouvoir faire des tests en parallèle du Tomcat installé par Fedora 21.</p>\n\n<h2 id=\"\"> </h2>\n\n<h2 id=\"installationdejava8oracle\">Installation de Java 8 (Oracle)</h2>\n\n<p>Il faut dans un premier temps télécharger le package et le décompresser.</p>\n\n<p>[root@xxxx tmp]# cd /opt/ [root@xxxx opt]# wget --no-cookies --no-check-certificate --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie\" \"<a href=\"http://download.oracle.com/otn-pub/java/jdk/8u31-b13/jdk-8u31-linux-x64.tar.gz\">http://download.oracle.com/otn-pub/java/jdk/8u31-b13/jdk-8u31-linux-x64.tar.gz</a>\" [root@xxxx opt]# tar xzf jdk-8u31-linux-x64.tar.gz</p>\n\n<p>On ajoute la nouvelle alternative pour Java.</p>\n\n<p>[root@xxxx jdk1.8.0<em>31]# alternatives --install /usr/bin/java java /opt/jdk1.8.0</em>31/bin/java 2 [root@xxxx jdk1.8.0<em>31]# alternatives --config java Il existe 2 programmes qui fournissent « java ». Sélection Commande ----------------------------------------------- *+ 1 /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.31-3.b13.fc21.x86</em>64/jre/bin/java 2 /opt/jdk1.8.0_31/bin/java Entrez pour garder la sélection courante [+] ou saisissez le numéro de type de sélection :2</p>\n\n<p>On met ensuite à jour les alternatives pour que notre nouveau Java devienne la version par défaut du système.</p>\n\n<p>[root@xxxx jdk1.8.0<em>31]# alternatives --install /usr/bin/jar jar /opt/jdk1.8.0</em>31/bin/jar 2 [root@xxxx jdk1.8.0<em>31]# alternatives --install /usr/bin/javac javac /opt/jdk1.8.0</em>31/bin/javac 2 [root@xxxx jdk1.8.0<em>31]# alternatives --set jar /opt/jdk1.8.0</em>31/bin/jar [root@xxxx jdk1.8.0<em>31]# alternatives --set javac /opt/jdk1.8.0</em>31/bin/javac</p>\n\n<p>Un petit test :</p>\n\n<p>[root@xxxx jdk1.8.0<em>31]# java -version java version \"1.8.0</em>31\" Java(TM) SE Runtime Environment (build 1.8.0_31-b13) Java HotSpot(TM) 64-Bit Server VM (build 25.31-b07, mixed mode)</p>\n\n<h2 id=\"installationdetomcat8\">Installation de Tomcat 8</h2>\n\n<p>On télécharge Tomcat, on le décompresse dans « /opt/tomcat8 ».</p>\n\n<p>[root@xxxx ~]# cd /tmp [root@xxxx tmp]# wget <a href=\"http://mirror.tcpdiag.net/apache/tomcat/tomcat-8/v8.0.18/bin/apache-tomcat-8.0.18.tar.gz\">http://mirror.tcpdiag.net/apache/tomcat/tomcat-8/v8.0.18/bin/apache-tomcat-8.0.18.tar.gz</a> [root@xxxx tmp]# tar xvzf apache-tomcat-8.0.18.tar.gz [root@xxxx tmp]# mv apache-tomcat-8.0.18 /opt/tomcat8 [root@xxxx tmp]# ln -s /opt/tomcat8 /opt/tomcat-latest</p>\n\n<p>Le lient symbolique « /opt/tomcat-latest » va nous permettre d’être un peu plus fexible dans la gestion des versions de Tomcat installées manuellement. Le jour ou j’installerais Tomcat 9, je le mettrais à jour et tout mes scripts « suivront » cette évolution.</p>\n\n<p>Maintenant, démarrons Tomcat 8 le plus simplement du monde.</p>\n\n<p>[root@xxxx tmp]# cd /opt/tomcat-latest/ [root@xxxx tomcat-latest]# ll total 116 drwxr-xr-x. 2 root root 4096 11 févr. 08:40 bin drwxr-xr-x. 2 root root 4096 28 janv. 16:54 conf drwxr-xr-x. 2 root root 4096 11 févr. 08:40 lib -rw-r--r--. 1 root root 56812 28 janv. 16:54 LICENSE drwxr-xr-x. 2 root root 4096 28 janv. 16:51 logs -rw-r--r--. 1 root root 1192 28 janv. 16:54 NOTICE -rw-r--r--. 1 root root 8963 28 janv. 16:54 RELEASE-NOTES -rw-r--r--. 1 root root 16204 28 janv. 16:54 RUNNING.txt drwxr-xr-x. 2 root root 4096 11 févr. 08:40 temp drwxr-xr-x. 7 root root 4096 28 janv. 16:53 webapps drwxr-xr-x. 2 root root 4096 28 janv. 16:51 work [root@xxxx tomcat7]# ./bin/startup.sh Using CATALINA<em>BASE: /opt/tomcat-latest Using CATALINA</em>HOME: /opt/tomcat-latest Using CATALINA<em>TMPDIR: /opt/tomcat-latest/temp Using JRE</em>HOME: / Using CLASSPATH: /opt/tomcat-latest/bin/bootstrap.jar:/opt/tomcat7/bin/tomcat-juli.jar Tomcat started.</p>\n\n<h2 id=\"\"> </h2>\n\n<h2 id=\"configurationdetomcat8\">Configuration de Tomcat 8</h2>\n\n<h4 id=\"crationdelutilisateuradmin\"> Création de l’utilisateur admin</h4>\n\n<p>On se rend dans le dossier « /opt/tomcat-latest » et on édite le fichier « conf/tomcat-users.xml ».</p>\n\n<p>[root@xxxx ~]# cd /opt/tomcat-latest/ [root@xxxx tomcat-latest]# vi conf/tomcat-users.xml</p>\n\n<p>Voici à quoi ce fichier doit ressembler pour que l’utilisateur « admin » ai accès à l’interface d’administration de Tomcat 8.</p>\n\n<p>xmlns=\"<a href=\"http://tomcat.apache.org/xml\">http://tomcat.apache.org/xml</a>\" xmlns:xsi=\"<a href=\"http://www.w3.org/2001/XMLSchema-instance\">http://www.w3.org/2001/XMLSchema-instance</a>\" xsi:schemaLocation=\"<a href=\"http://tomcat.apache.org/xml\">http://tomcat.apache.org/xml</a> tomcat-users.xsd\" version=\"1.0\"></p>\n\n<p>On positionne les droits comme il faut.</p>\n\n<p>[root@xxxx ~]# chown -R tomcat:tomcat /opt/tomcat-latest/</p>\n\n<h4 id=\"configurationavecsystemd\"> Configuration avec Systemd</h4>\n\n<p>On va créer un nouveau fichier « tomcat8.service » dans le dossier « /etc/systemd/system/ ». Ce fichier remplace le bon vieux « /etc/init.d/tomcat8 » et va nous permettre de démarrer Tomcat 8 avec le système et/ou la commande « service ».</p>\n\n<p>[root@xxxx tomcat-latest]# vi /etc/systemd/system/tomcat8.service</p>\n\n<p>Voici le contenu de ce fichier.</p>\n\n<p>[Unit] Description=Tomcat8 After=network.target [Service] Type=forking User=tomcat Group=tomcat Environment=CATALINA<em>PID=/opt/tomcat-latest/tomcat8.pid Environment=TOMCAT</em>JAVA<em>HOME=/opt/jdk1.8.0</em>31/ Environment=CATALINA<em>HOME=/opt/tomcat-latest Environment=CATALINA</em>BASE=/opt/tomcat-latest Environment=CATALINA<em>OPTS= Environment=\"JAVA</em>OPTS=-Dfile.encoding=UTF-8 -Dnet.sf.ehcache.skipUpdateCheck=true -XX:+UseConcMarkSweepGC -XX:+CMSClassUnloadingEnabled -XX:+UseParNewGC -XX:MaxPermSize=128m -Xms512m -Xmx512m\" ExecStart=/opt/tomcat-latest/bin/startup.sh ExecStop=/bin/kill -15 $MAINPID [Install] WantedBy=multi-user.target</p>\n\n<p>On démarre Tomcat 8 !</p>\n\n<p>[root@xxxx tomcat-latest]# systemctl daemon-reload [root@xxxx tomcat-latest]# systemctl restart tomcat8</p>\n\n<p>On peut maintenant se rendre à l’adresse : <a href=\"http://localhost:8080/\">http://localhost:8080/</a> et voir cette magnifique page.</p>\n\n<p><a href=\"https://techan.fr/images/2015/02/screenshot.1423643818.png\"><img src=\"https://techan.fr/images/2015/02/screenshot.1423643818.png\" alt=\"screenshot.1423643818\" title=\"\" /></a>Et dans les logs :</p>\n\n<p>[root@xxxx logs]# journalctl -f -- Logs begin at dim. 2015-02-01 15:14:43 CET. -- févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using CATALINA<em>BASE: /opt/tomcat-latest févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using CATALINA</em>HOME: /opt/tomcat-latest févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using CATALINA<em>TMPDIR: /opt/tomcat-latest/temp févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using JRE</em>HOME: /usr févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using CLASSPATH: /opt/tomcat-latest/bin/bootstrap.jar:/opt/tomcat-latest/bin/tomcat-juli.jar févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Using CATALINA_PID: /opt/tomcat-latest/tomcat8.pid févr. 11 09:35:49 xxxx.domain.net startup.sh[20397]: Tomcat started.</p>","image":"http://blog.techan.fr/images/2015/02/120px-Fedora_logo.svg_.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-16T14:54:42.000Z","created_by":1,"updated_at":"2015-04-16T14:54:42.000Z","updated_by":1,"published_at":"2015-04-16T14:54:42.000Z","published_by":1},{"id":119,"uuid":"318c3ec2-4e5d-4a54-8b80-fe69a8ad889d","title":"Avec Ubuntu 15.10, vous direz adieu aux reboots !","slug":"avec-ubuntu-15-10-vous-direz-adieu-aux-reboots","markdown":"\nLe 12 avril dernier, Linus Torvalds annonçait la version 4.0 du kernel Linux. Cette nouvelle version majeure ajoute, comme souvent, le support de nouveaux composants matériels. Le plus intéressant dans cette nouvelle mouture est sans aucun doute l’intégration d’une fonctionnalité du même type que [Ksplice](http://www.ksplice.com/), un outil qui permet le patch du noyau à chaud. Ksplice est passé dans les mains de plusieurs grandes sociétés avant d’atterrir chez Oracle en 2011.\n\nIl était déjà possible d’installer la version communautaire de [Ksplice sur Ubuntu ou Fedora](http://www.ksplice.com/try/desktop). Maintenant cette fonctionnalité sera intégrée dans toutes les distributions.\n\n\n## Le kernel 4.0 sur Ubuntu\n\n \n\nMalheureusement, la prochaine version d’Ubuntu, 15.04, qui va sortir le bout de son nez le 23 avril prochain n’en sera pourvue car le freeze du noyau à eu lieu le 9 avril dernier… La prochaine version d’Ubuntu disposera ainsi de la version 3.19 du kernel.\n\n \n\n[![ubuntu-release-schedule11](https://techan.fr/images/2015/04/ubuntu-release-schedule111.jpg)](https://techan.fr/images/2015/04/ubuntu-release-schedule111.jpg)\n\n \n\nIl est toute fois possible d’installer le kernel 4.0 sur une version d’Ubuntu 15.04 en le téléchargeant depuis [le dépôt « kernel » d’Ubuntu](http://kernel.ubuntu.com/~kernel-ppa/mainline/?C=N;O=D).\n\n \n\n\n## Encore plus de nouveautés à venir\n\n \n\n> “Feature-wise, 4.0 doesn’t have all that much special. Much have been  \n>  made of the new kernel patching infrastructure, but realistically […] we’ve  \n>  had much bigger changes in other versions.  So this is very much a “solid code progress” release.”\n> \n> L. Torvalds\n\nSelon L. Torvalds, la version 4.1 apportera encore plus de nouvelles fonctionnalités. Espérons donc qu’Ubuntu 15.10 embarquera au moins cette version 4.1. Ubuntu 15.10, elle, sera livrée avec ce tout nouveau noyau, il se pourrait même qu’une version plus récente soit intégrée, 4.1, 4.2 ?\n\n \n\n<span style=\"text-decoration: underline;\">Source :</span>[www.omgubuntu.co.uk](http://www.omgubuntu.co.uk/2015/04/linux-kernel-4-0-new-featureshttp://)\n\n\n","html":"<p>Le 12 avril dernier, Linus Torvalds annonçait la version 4.0 du kernel Linux. Cette nouvelle version majeure ajoute, comme souvent, le support de nouveaux composants matériels. Le plus intéressant dans cette nouvelle mouture est sans aucun doute l’intégration d’une fonctionnalité du même type que <a href=\"http://www.ksplice.com/\">Ksplice</a>, un outil qui permet le patch du noyau à chaud. Ksplice est passé dans les mains de plusieurs grandes sociétés avant d’atterrir chez Oracle en 2011.</p>\n\n<p>Il était déjà possible d’installer la version communautaire de <a href=\"http://www.ksplice.com/try/desktop\">Ksplice sur Ubuntu ou Fedora</a>. Maintenant cette fonctionnalité sera intégrée dans toutes les distributions.</p>\n\n<h2 id=\"lekernel40surubuntu\">Le kernel 4.0 sur Ubuntu</h2>\n\n<p>Malheureusement, la prochaine version d’Ubuntu, 15.04, qui va sortir le bout de son nez le 23 avril prochain n’en sera pourvue car le freeze du noyau à eu lieu le 9 avril dernier… La prochaine version d’Ubuntu disposera ainsi de la version 3.19 du kernel.</p>\n\n<p><a href=\"https://techan.fr/images/2015/04/ubuntu-release-schedule111.jpg\"><img src=\"https://techan.fr/images/2015/04/ubuntu-release-schedule111.jpg\" alt=\"ubuntu-release-schedule11\" title=\"\" /></a></p>\n\n<p>Il est toute fois possible d’installer le kernel 4.0 sur une version d’Ubuntu 15.04 en le téléchargeant depuis <a href=\"http://kernel.ubuntu.com/~kernel-ppa/mainline/?C=N;O=D\">le dépôt « kernel » d’Ubuntu</a>.</p>\n\n<h2 id=\"encoreplusdenouveautsvenir\">Encore plus de nouveautés à venir</h2>\n\n<blockquote>\n  <p>“Feature-wise, 4.0 doesn’t have all that much special. Much have been <br />\n   made of the new kernel patching infrastructure, but realistically […] we’ve <br />\n   had much bigger changes in other versions.  So this is very much a “solid code progress” release.”</p>\n  \n  <p>L. Torvalds</p>\n</blockquote>\n\n<p>Selon L. Torvalds, la version 4.1 apportera encore plus de nouvelles fonctionnalités. Espérons donc qu’Ubuntu 15.10 embarquera au moins cette version 4.1. Ubuntu 15.10, elle, sera livrée avec ce tout nouveau noyau, il se pourrait même qu’une version plus récente soit intégrée, 4.1, 4.2 ?</p>\n\n<p><span style=\"text-decoration: underline;\">Source :</span><a href=\"http://www.omgubuntu.co.uk/2015/04/linux-kernel-4-0-new-featureshttp://\">www.omgubuntu.co.uk</a></p>","image":"http://blog.techan.fr/images/2015/04/Ubuntu_Logo.gif","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-17T07:51:24.000Z","created_by":1,"updated_at":"2015-04-22T10:06:27.000Z","updated_by":1,"published_at":"2015-04-17T07:51:24.000Z","published_by":1},{"id":120,"uuid":"fa504e01-ea8f-40fc-9cdd-8c8f6fe343f9","title":"Donner un coup de jeune à un vieux MacBook","slug":"donner-un-coup-de-jeune-a-un-vieux-macbook","markdown":"\nJe suis l’heureux possesseur d’un MacBook Unibody Mid 2010, un modèle qui a été arrêté en 2012. Mon Mac soufflera sa cinquième bougie en septembre prochain ! Pour une machine de cet âge là, il tourne encore comme un charme ! J’ai pu faire toutes les mise à jour de Mac OS depuis la version fournie – Snow Leopard – jusqu’à la dernière en data – Yosemite -.\n\nChacune de ces version ont rendu mon Mac plus lent, c’est triste mais c’est malheureusement comme ça avec tous les systèmes ou presque … Cependant, le passage à Mavericks m’avait rendu pas mal d’autonomie sur batterie. Cela fait maintenant deux ans que le système m’alerte sur la durée de vie de ma batterie, me disant qu’il faudrait que je la change. Comme elle tient encore près de 3 heures en surfant sur le net, je n’envisage pas de la changer dans l’immédiat.\n\nLors du passage à Yosemite, les lenteurs du systèmes se sont faites de plus en plus gênantes … Je suis donc parti en quête de la cause de ces ralentissements pénibles. Et j’ai trouvé ! Depuis Mavericks, OS X embarque un système de compression de la mémoire vive des applications inactives. Ceci peut représenter un gain évident car cela libère de la mémoire pour les applications actives. Mais dans le cas de mon vieux MacBook, le processeur Core 2 Duo embarqué souffrait un peu de devoir compresser/décompresser des pages mémoire lors du changement d’application.\n\nJ’ai donc trouvé comment désactiver cette fonctionnalité et j’ai gagné pas mal de réactivité !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1212\" style=\"width: 730px\">[![Donner un coup de jeune à un vieux MacBook](https://techan.fr/images/2015/04/macbook-mid-2010-laterale-anteriore.jpg)](https://techan.fr/images/2015/04/macbook-mid-2010-laterale-anteriore.jpg)Image : http://www.nonsolomac.com\n\n</div> \n\n*Je mettrais à jour cet article lorsque je trouverai d’autres moyen de donner un coup de jeune à un vieux MacBook ! ","html":"<p>Je suis l’heureux possesseur d’un MacBook Unibody Mid 2010, un modèle qui a été arrêté en 2012. Mon Mac soufflera sa cinquième bougie en septembre prochain ! Pour une machine de cet âge là, il tourne encore comme un charme ! J’ai pu faire toutes les mise à jour de Mac OS depuis la version fournie – Snow Leopard – jusqu’à la dernière en data – Yosemite -.</p>\n\n<p>Chacune de ces version ont rendu mon Mac plus lent, c’est triste mais c’est malheureusement comme ça avec tous les systèmes ou presque … Cependant, le passage à Mavericks m’avait rendu pas mal d’autonomie sur batterie. Cela fait maintenant deux ans que le système m’alerte sur la durée de vie de ma batterie, me disant qu’il faudrait que je la change. Comme elle tient encore près de 3 heures en surfant sur le net, je n’envisage pas de la changer dans l’immédiat.</p>\n\n<p>Lors du passage à Yosemite, les lenteurs du systèmes se sont faites de plus en plus gênantes … Je suis donc parti en quête de la cause de ces ralentissements pénibles. Et j’ai trouvé ! Depuis Mavericks, OS X embarque un système de compression de la mémoire vive des applications inactives. Ceci peut représenter un gain évident car cela libère de la mémoire pour les applications actives. Mais dans le cas de mon vieux MacBook, le processeur Core 2 Duo embarqué souffrait un peu de devoir compresser/décompresser des pages mémoire lors du changement d’application.</p>\n\n<p>J’ai donc trouvé comment désactiver cette fonctionnalité et j’ai gagné pas mal de réactivité !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1212\" style=\"width: 730px\"><a href=\"https://techan.fr/images/2015/04/macbook-mid-2010-laterale-anteriore.jpg\"><img src=\"https://techan.fr/images/2015/04/macbook-mid-2010-laterale-anteriore.jpg\" alt=\"Donner un coup de jeune à un vieux MacBook\" title=\"\" /></a>Image : <a href=\"http://www.nonsolomac.com\">http://www.nonsolomac.com</a></p>\n\n<p></div> </p>\n\n<p><em>Je mettrais à jour cet article lorsque je trouverai d’autres moyen de donner un coup de jeune à un vieux MacBook ! ","image":"http://blog.techan.fr/images/2015/04/hero_icon_large1.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-21T11:58:10.000Z","created_by":1,"updated_at":"2015-06-24T08:31:32.000Z","updated_by":1,"published_at":"2015-04-21T11:58:10.000Z","published_by":1},{"id":121,"uuid":"7c1a79a0-7eff-4ed2-a355-ecbf6ec54feb","title":"Connecter automatiquement une connexion PPTP sur Linux","slug":"temp-slug-119","markdown":"\n \n\n \n\n\n## Installation du logiciel\n\n \n\n# aptitude install pptp-linux\n\n \n\n\n## Création du « peer »\n\n#### Configuration du tunnel\n\n# vi /etc/ppp/peers/<NOM_DU_TUNNEL>\n\n \n\npty \"pptp <ADDRESS_OU8DNS_DU_SERVEUR> --nolaunchpppd\" name <NOM_D_UTILISATEUR> remotename PPTP require-mppe-128 file /etc/ppp/options.pptp ipparam <NOM_DU_TUNNEL>\n\n \n\n#### Configuration de l’utilisateur\n\n \n\n# vi /etc/ppp/chap-secrets\n\n \n\n# Secrets for authentication using CHAP # client server secret IP addresses <NOM_D_UTILISATEUR> PPTP <MOT_DE_PASSE> *\n\n \n\n \n\n\n## Création de l’interface virtuelle\n\n \n\nSource : [pptpclient.sourceforge.net](http://pptpclient.sourceforge.net/howto-debian.phtml)\n\n\n","html":"<h2 id=\"installationdulogiciel\">Installation du logiciel</h2>\n\n<h1 id=\"aptitudeinstallpptplinux\">aptitude install pptp-linux</h1>\n\n<h2 id=\"crationdupeer\">Création du « peer »</h2>\n\n<h4 id=\"configurationdutunnel\">Configuration du tunnel</h4>\n\n<h1 id=\"vietcppppeersnom_du_tunnel\">vi /etc/ppp/peers/<NOM_DU_TUNNEL></h1>\n\n<p>pty \"pptp <ADDRESS_OU8DNS_DU_SERVEUR> --nolaunchpppd\" name <NOM_D_UTILISATEUR> remotename PPTP require-mppe-128 file /etc/ppp/options.pptp ipparam <NOM_DU_TUNNEL></p>\n\n<h4 id=\"configurationdelutilisateur\">Configuration de l’utilisateur</h4>\n\n<h1 id=\"vietcpppchapsecrets\">vi /etc/ppp/chap-secrets</h1>\n\n<h1 id=\"secretsforauthenticationusingchapclientserversecretipaddressesnom_d_utilisateurpptpmot_de_passe\">Secrets for authentication using CHAP # client server secret IP addresses <NOM_D_UTILISATEUR> PPTP <MOT_DE_PASSE> *</h1>\n\n<h2 id=\"crationdelinterfacevirtuelle\">Création de l’interface virtuelle</h2>\n\n<p>Source : <a href=\"http://pptpclient.sourceforge.net/howto-debian.phtml\">pptpclient.sourceforge.net</a></p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"draft","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-21T15:19:30.000Z","created_by":1,"updated_at":"2015-04-21T15:19:30.000Z","updated_by":1,"published_at":"0000-00-00 00:00:00","published_by":1},{"id":122,"uuid":"0243e54a-d95f-4e8e-9e54-1262afcd3764","title":"Identifier les processus swapés sur Linux","slug":"identifier-les-processus-swapes-sur-linux","markdown":"\nIl est fréquent de voir un Linux swaper, c’est normal et l’agressivité du processus de mise en swap peut être réglée (voir [[Linux Tuning] Ajuster la swappiness](https://techan.fr/linux-tuning-ajuster-la-swappiness/)). Cependant, il peut être intéressant de savoir quels processus sont actuellement swapés. Malheureusement, il est assez compliqué de trouver cette information dans le système.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1222\" style=\"width: 876px\">[![Identifier les processus swapés sur Linux](https://techan.fr/images/2015/04/htop_swap.png)](https://techan.fr/images/2015/04/htop_swap.png)Un Linux qui swape un petit peu\n\n</div> \n\nVoici donc une commande qui permet de lister tous les processus présents dans le swap, ainsi que la taille qu’ils occupent dans cet espace.\n\n \n\n\n## La commande\n\n# for file in /proc/*/status ; do awk '/VmSwap|Name|^Pid:/{printf $2 \" \" $4 \" \" $3}END{ print \"\"}' $file; done | sort -k 3 -n -r | less\n\n \n\nVoici un extrait du retour de cette commande sur l’une de mes machines.\n\nmysqld 27370 120096 kB memcached 5388 65860 kB java 14287 55308 kB uwsgi 5436 47300 kB uwsgi 5434 44684 kB uwsgi 5431 42552 kB uwsgi 5432 39248 kB uwsgi 5433 32960 kB uwsgi 5437 29628 kB uwsgi 5420 20568 kB uwsgi 5438 16412 kB uwsgi 5435 16316 kB /usr/sbin/postg 11405 14304 kB named 1721 14152 kB MCMA2_Linux_x86 15355 11212 kB /usr/sbin/apach 24671 10704 kB /usr/sbin/apach 26361 6832 kB\n\nOn voit que MySQL, memcached, uwsgi et apache ont été swapés, ainsi que la taille qu’il occupent dans le swap – près de 117 Mo pour MySQL.\n\n \n\n\n## Forcer un vidage du swap\n\nIl est possible de vider le cache de manière brutale en désactivant/réactivant l’espace de swap. La désactivation de l’espace de swap force le Linux a écrire les pages en swap dans sa mémoire. La  réactivation rend l’espace de swap de nouveau disponible.\n\n \n\n*<span style=\"color: #ff0000;\">**<span style=\"text-decoration: underline;\">Attention :</span> Avant de vider le swap, assurez vous d’avoir assez de mémoire disponible pour absorber le contenu du swap, et même un peu de marge, sinon le système risque de killer des processus !**</span>*\n\n \n\n# swapoff -a # swapon -a\n\n<span style=\"text-decoration: underline;\">Note :</span> Le vidage du swap peut être un peu long en fonction de la taille utilisée.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1225\" style=\"width: 882px\">[![Identifier les processus swapés sur Linux](https://techan.fr/images/2015/04/htop_swap_vide.jpg)](https://techan.fr/images/2015/04/htop_swap_vide.jpg)Après le vidage du swap\n\n</div> \n\n\n","html":"<p>Il est fréquent de voir un Linux swaper, c’est normal et l’agressivité du processus de mise en swap peut être réglée (voir <a href=\"https://techan.fr/linux-tuning-ajuster-la-swappiness/\">[Linux Tuning] Ajuster la swappiness</a>). Cependant, il peut être intéressant de savoir quels processus sont actuellement swapés. Malheureusement, il est assez compliqué de trouver cette information dans le système.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1222\" style=\"width: 876px\"><a href=\"https://techan.fr/images/2015/04/htop_swap.png\"><img src=\"https://techan.fr/images/2015/04/htop_swap.png\" alt=\"Identifier les processus swapés sur Linux\" title=\"\" /></a>Un Linux qui swape un petit peu</p>\n\n<p></div> </p>\n\n<p>Voici donc une commande qui permet de lister tous les processus présents dans le swap, ainsi que la taille qu’ils occupent dans cet espace.</p>\n\n<h2 id=\"lacommande\">La commande</h2>\n\n<h1 id=\"forfileinprocstatusdoawkvmswapnamepidprintfd2d4d3endprintdfiledonesortk3nrless\">for file in /proc/*/status ; do awk '/VmSwap|Name|^Pid:/{printf $2 \" \" $4 \" \" $3}END{ print \"\"}' $file; done | sort -k 3 -n -r | less</h1>\n\n<p>Voici un extrait du retour de cette commande sur l’une de mes machines.</p>\n\n<p>mysqld 27370 120096 kB memcached 5388 65860 kB java 14287 55308 kB uwsgi 5436 47300 kB uwsgi 5434 44684 kB uwsgi 5431 42552 kB uwsgi 5432 39248 kB uwsgi 5433 32960 kB uwsgi 5437 29628 kB uwsgi 5420 20568 kB uwsgi 5438 16412 kB uwsgi 5435 16316 kB /usr/sbin/postg 11405 14304 kB named 1721 14152 kB MCMA2<em>Linux</em>x86 15355 11212 kB /usr/sbin/apach 24671 10704 kB /usr/sbin/apach 26361 6832 kB</p>\n\n<p>On voit que MySQL, memcached, uwsgi et apache ont été swapés, ainsi que la taille qu’il occupent dans le swap – près de 117 Mo pour MySQL.</p>\n\n<h2 id=\"forcerunvidageduswap\">Forcer un vidage du swap</h2>\n\n<p>Il est possible de vider le cache de manière brutale en désactivant/réactivant l’espace de swap. La désactivation de l’espace de swap force le Linux a écrire les pages en swap dans sa mémoire. La  réactivation rend l’espace de swap de nouveau disponible.</p>\n\n<p><em><span style=\"color: #ff0000;\"><strong><span style=\"text-decoration: underline;\">Attention :</span> Avant de vider le swap, assurez vous d’avoir assez de mémoire disponible pour absorber le contenu du swap, et même un peu de marge, sinon le système risque de killer des processus !</strong></span></em></p>\n\n<h1 id=\"swapoffaswapona\">swapoff -a # swapon -a</h1>\n\n<p><span style=\"text-decoration: underline;\">Note :</span> Le vidage du swap peut être un peu long en fonction de la taille utilisée.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1225\" style=\"width: 882px\"><a href=\"https://techan.fr/images/2015/04/htop_swap_vide.jpg\"><img src=\"https://techan.fr/images/2015/04/htop_swap_vide.jpg\" alt=\"Identifier les processus swapés sur Linux\" title=\"\" /></a>Après le vidage du swap</p>\n\n<p></div> </p>","image":"http://blog.techan.fr/images/2014/11/Linux.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-22T10:04:55.000Z","created_by":1,"updated_at":"2015-05-17T09:41:15.000Z","updated_by":1,"published_at":"2015-04-22T10:04:55.000Z","published_by":1},{"id":123,"uuid":"2cb39083-a43a-4aab-8468-11297594de79","title":"Activer les HugePages pour MySQL","slug":"activer-les-hugepages-pour-mysql","markdown":"\nTout comme Oracle, MySQL support les HugePages, et pour les même raisons que pour Oracle, cela peut valoir le coup de les activer. Les Huge Pages sont des pages mémoires allouées au démarrage du système, elles font 2 Mo, les pages mémoire classique font elles 4 Ko. Les performances des applications qui font beaucoup d’accès mémoire – comme les SGBD – peuvent être améliorées en activant ces Huge Pages. Cela réduit le nombre d’appels systèmes pour faire les liens entre les multiples pages de 4 Ko, vu que les Huge Pages font 2 Mo !\n\n<span style=\"text-decoration: underline;\">Note :</span> Dans MySQL, les Huge Pages sont utilisées par le moteur InnoDB, si vous ne l’utilisez peu ou pas, ce n’est pas la peine de les activer. Les Huge Pages ne sont supportées par MySQL que sur les systèmes Linux.\n\n***<span style=\"text-decoration: underline;\">Attention :</span> L’activation des Huge Pages nécessite la modification de paramètres systèmes avancés, n’entrepenez pas les actions décrites ci-dessous si vous ne les comprenez pas !***\n\n \n\n\n## \n\n\n## Collecter les données requises\n\n#### Vérifier que le noyau est capable de gérer les Huge Pages\n\nSi la commande ci-dessous retourne des lignes, votre noyau supporte les Huge Pages.\n\n# grep -i huge /proc/meminfo AnonHugePages: 1404928 kB HugePages_Total: 0 HugePages_Free: 0 HugePages_Rsvd: 0 HugePages_Surp: 0 Hugepagesize: 2048 kB\n\n \n\n#### Récupérer le gid auquel appartient mysql\n\nNotez bien le gid affecté à l’utilisateur MySQL, il nous sera utile par la suite.\n\n# id mysql uid=106(mysql) gid=114(mysql) groups=114(mysql)\n\n \n\n#### Calculer les valeurs de SHMMAX et SHMALL pour votre système\n\nCes paramètres définissent les tailles de mémoire partagée, il faut les positionner à des valeurs cohérentes en fonction de votre système et de la taille de mémoire que vous souhaitez allouer aux Huge Pages.\n\nLes script ci-dessous – écrit par *DANGLADE JEAN-SEBASTIEN* sur le site dev.mysql.com, voir sources – vous donnera un bon point de départ. Spécifiez la mémoire que vous voulez laisser disponible au système – je laisse 6 Go sur mes 8 disponibles.\n\n##### SCRIPT START ######### #!/bin/bash # keep 6go memory for system keep_for_system=6291456 mem=$(free|grep Mem|awk '{print$2}') mem=$(echo \"$mem-$keep_for_system\"|bc) totmem=$(echo \"$mem*1024\"|bc) huge=$(grep Hugepagesize /proc/meminfo|awk '{print $2}') max=$(echo \"$totmem*75/100\"|bc) all=$(echo \"$max/$huge\"|bc) echo \"kernel.shmmax = $max\" echo \"kernel.shmall = $all\" ######### SCRIPT END #########\n\nVoici le résultat de ce script, noter les deux lignes.\n\n# /tmp/hugepages.sh kernel.shmmax = 1437026304 kernel.shmall = 701673\n\n \n\n\n## La configuration\n\n#### Côté système\n\nÉditez le fichier /etc/sysctl.conf.\n\nvi /etc/sysctl.conf\n\nAjouter les lignes suivantes à la fin du fichier, modifiez les si elles existent déjà.\n\nvm.nr_hugepages=512 vm.hugetlb_shm_group=114 kernel.shmmax = 1437026304 kernel.shmall = 701673\n\nJe crée ici 512 Huge Pages de 4 Mo, soit 2 Go de mémoire réservées aux Huge Pages.\n\n \n\nOn va modifier le fichier /etc/security/limits.conf afin de ne plus limiter la mémoire que MySQL va pouvoir locker.\n\nvi /etc/security/limits.conf\n\nAjouter les lignes suivantes à la fin du fichier.\n\n@mysql soft memlock unlimited @mysql hard memlock unlimited # End of file\n\n \n\n#### Côté MySQL\n\nÉditer le fichier /etc/mysql/my.cnf.\n\nvi /etc/mysql/my.cnf\n\nAjouter la ligne « large-pages » dans la section « [mysqld] ».\n\n[mysqld] large-pages\n\nÉditer également le script d’initialisation de MySQL.\n\nvi /etc/init.d/mysql\n\nAjouter la ligne « ulimit -l unlimited » dans ce fichier comme suit :\n\n#!/bin/bash # ### BEGIN INIT INFO # Provides: mysql # Required-Start: $remote_fs $syslog # Required-Stop: $remote_fs $syslog # Should-Start: $network $named $time # Should-Stop: $network $named $time # Default-Start: 2 3 4 5 # Default-Stop: 0 1 6 # Short-Description: Start and stop the mysql database server daemon # Description: Controls the main MariaDB database server daemon \"mysqld\" # and its wrapper script \"mysqld_safe\". ### END INIT INFO # set -e set -u ulimit -l unlimited ${DEBIAN_SCRIPT_DEBUG:+ set -v -x} test -x /usr/sbin/mysqld || exit 0 . /lib/lsb/init-functions\n\n \n\n\n## Application des modifications\n\nOn regarde le total de Huge Pages allouées avant le reboot.\n\n# cat /proc/meminfo | grep -i huge AnonHugePages: 1261568 kB HugePages_Total: 39 HugePages_Free: 37 HugePages_Rsvd: 6 HugePages_Surp: 0 Hugepagesize: 2048 kB\n\nOn redémarre la machine.\n\n# reboot\n\nAprès le reboot, on revérifie et magie, on a nos 512 Huge Pages et MySQL en a réservé 124.\n\n# cat /proc/meminfo | grep -i huge AnonHugePages: 120832 kB HugePages_Total: 512 HugePages_Free: 388 HugePages_Rsvd: 124 HugePages_Surp: 0 Hugepagesize: 2048 kB\n\n \n\n<span style=\"text-decoration: underline;\">Sources :</span>\n\n- [dev.mysql.com](https://dev.mysql.com/doc/refman/5.0/en/large-page-support.html) (notamment le commentaire de « DANGLADE JEAN-SEBASTIEN  » à la fin)\n- [ashwinvasani.wordpress.com](https://ashwinvasani.wordpress.com/2011/03/03/reserving-huge-pages-for-mysql/)\n\n\n","html":"<p>Tout comme Oracle, MySQL support les HugePages, et pour les même raisons que pour Oracle, cela peut valoir le coup de les activer. Les Huge Pages sont des pages mémoires allouées au démarrage du système, elles font 2 Mo, les pages mémoire classique font elles 4 Ko. Les performances des applications qui font beaucoup d’accès mémoire – comme les SGBD – peuvent être améliorées en activant ces Huge Pages. Cela réduit le nombre d’appels systèmes pour faire les liens entre les multiples pages de 4 Ko, vu que les Huge Pages font 2 Mo !</p>\n\n<p><span style=\"text-decoration: underline;\">Note :</span> Dans MySQL, les Huge Pages sont utilisées par le moteur InnoDB, si vous ne l’utilisez peu ou pas, ce n’est pas la peine de les activer. Les Huge Pages ne sont supportées par MySQL que sur les systèmes Linux.</p>\n\n<p><strong><em><span style=\"text-decoration: underline;\">Attention :</span> L’activation des Huge Pages nécessite la modification de paramètres systèmes avancés, n’entrepenez pas les actions décrites ci-dessous si vous ne les comprenez pas !</em></strong></p>\n\n<h2 id=\"\"> </h2>\n\n<h2 id=\"collecterlesdonnesrequises\">Collecter les données requises</h2>\n\n<h4 id=\"vrifierquelenoyauestcapabledegrerleshugepages\">Vérifier que le noyau est capable de gérer les Huge Pages</h4>\n\n<p>Si la commande ci-dessous retourne des lignes, votre noyau supporte les Huge Pages.</p>\n\n<h1 id=\"grepihugeprocmeminfoanonhugepages1404928kbhugepages_total0hugepages_free0hugepages_rsvd0hugepages_surp0hugepagesize2048kb\">grep -i huge /proc/meminfo AnonHugePages: 1404928 kB HugePages<em>Total: 0 HugePages</em>Free: 0 HugePages<em>Rsvd: 0 HugePages</em>Surp: 0 Hugepagesize: 2048 kB</h1>\n\n<h4 id=\"rcuprerlegidauquelappartientmysql\">Récupérer le gid auquel appartient mysql</h4>\n\n<p>Notez bien le gid affecté à l’utilisateur MySQL, il nous sera utile par la suite.</p>\n\n<h1 id=\"idmysqluid106mysqlgid114mysqlgroups114mysql\">id mysql uid=106(mysql) gid=114(mysql) groups=114(mysql)</h1>\n\n<h4 id=\"calculerlesvaleursdeshmmaxetshmallpourvotresystme\">Calculer les valeurs de SHMMAX et SHMALL pour votre système</h4>\n\n<p>Ces paramètres définissent les tailles de mémoire partagée, il faut les positionner à des valeurs cohérentes en fonction de votre système et de la taille de mémoire que vous souhaitez allouer aux Huge Pages.</p>\n\n<p>Les script ci-dessous – écrit par <em>DANGLADE JEAN-SEBASTIEN</em> sur le site dev.mysql.com, voir sources – vous donnera un bon point de départ. Spécifiez la mémoire que vous voulez laisser disponible au système – je laisse 6 Go sur mes 8 disponibles.</p>\n\n<h5 id=\"scriptstartbinbashkeep6gomemoryforsystemkeep_for_system6291456memdfreegrepmemawkprintd2memdechodmemdkeep_for_systembctotmemdechodmem1024bchugedgrephugepagesizeprocmeminfoawkprintd2maxdechodtotmem75100bcalldechodmaxdhugebcechokernelshmmaxdmaxechokernelshmalldallscriptend\">SCRIPT START ######### #!/bin/bash # keep 6go memory for system keep<em>for</em>system=6291456 mem=$(free|grep Mem|awk '{print$2}') mem=$(echo \"$mem-$keep<em>for</em>system\"|bc) totmem=$(echo \"$mem<em>1024\"|bc) huge=$(grep Hugepagesize /proc/meminfo|awk '{print $2}') max=$(echo \"$totmem</em>75/100\"|bc) all=$(echo \"$max/$huge\"|bc) echo \"kernel.shmmax = $max\" echo \"kernel.shmall = $all\" ######### SCRIPT END</h5>\n\n<p>Voici le résultat de ce script, noter les deux lignes.</p>\n\n<h1 id=\"tmphugepagesshkernelshmmax1437026304kernelshmall701673\">/tmp/hugepages.sh kernel.shmmax = 1437026304 kernel.shmall = 701673</h1>\n\n<h2 id=\"laconfiguration\">La configuration</h2>\n\n<h4 id=\"ctsystme\">Côté système</h4>\n\n<p>Éditez le fichier /etc/sysctl.conf.</p>\n\n<p>vi /etc/sysctl.conf</p>\n\n<p>Ajouter les lignes suivantes à la fin du fichier, modifiez les si elles existent déjà.</p>\n\n<p>vm.nr<em>hugepages=512 vm.hugetlb</em>shm_group=114 kernel.shmmax = 1437026304 kernel.shmall = 701673</p>\n\n<p>Je crée ici 512 Huge Pages de 4 Mo, soit 2 Go de mémoire réservées aux Huge Pages.</p>\n\n<p>On va modifier le fichier /etc/security/limits.conf afin de ne plus limiter la mémoire que MySQL va pouvoir locker.</p>\n\n<p>vi /etc/security/limits.conf</p>\n\n<p>Ajouter les lignes suivantes à la fin du fichier.</p>\n\n<p>@mysql soft memlock unlimited @mysql hard memlock unlimited # End of file</p>\n\n<h4 id=\"ctmysql\">Côté MySQL</h4>\n\n<p>Éditer le fichier /etc/mysql/my.cnf.</p>\n\n<p>vi /etc/mysql/my.cnf</p>\n\n<p>Ajouter la ligne « large-pages » dans la section « [mysqld] ».</p>\n\n<p>[mysqld] large-pages</p>\n\n<p>Éditer également le script d’initialisation de MySQL.</p>\n\n<p>vi /etc/init.d/mysql</p>\n\n<p>Ajouter la ligne « ulimit -l unlimited » dans ce fichier comme suit :</p>\n\n<h1 id=\"binbashbegininitinfoprovidesmysqlrequiredstartdremote_fsdsyslogrequiredstopdremote_fsdsyslogshouldstartdnetworkdnameddtimeshouldstopdnetworkdnameddtimedefaultstart2345defaultstop016shortdescriptionstartandstopthemysqldatabaseserverdaemondescriptioncontrolsthemainmariadbdatabaseserverdaemonmysqldanditswrapperscriptmysqld_safeendinitinfosetesetuulimitlunlimitedddebian_script_debugsetvxtestxusrsbinmysqldexit0liblsbinitfunctions\">!/bin/bash # ### BEGIN INIT INFO # Provides: mysql # Required-Start: $remote<em>fs $syslog # Required-Stop: $remote</em>fs $syslog # Should-Start: $network $named $time # Should-Stop: $network $named $time # Default-Start: 2 3 4 5 # Default-Stop: 0 1 6 # Short-Description: Start and stop the mysql database server daemon # Description: Controls the main MariaDB database server daemon \"mysqld\" # and its wrapper script \"mysqld<em>safe\". ### END INIT INFO # set -e set -u ulimit -l unlimited ${DEBIAN</em>SCRIPT_DEBUG:+ set -v -x} test -x /usr/sbin/mysqld || exit 0 . /lib/lsb/init-functions</h1>\n\n<h2 id=\"applicationdesmodifications\">Application des modifications</h2>\n\n<p>On regarde le total de Huge Pages allouées avant le reboot.</p>\n\n<h1 id=\"catprocmeminfogrepihugeanonhugepages1261568kbhugepages_total39hugepages_free37hugepages_rsvd6hugepages_surp0hugepagesize2048kb\">cat /proc/meminfo | grep -i huge AnonHugePages: 1261568 kB HugePages<em>Total: 39 HugePages</em>Free: 37 HugePages<em>Rsvd: 6 HugePages</em>Surp: 0 Hugepagesize: 2048 kB</h1>\n\n<p>On redémarre la machine.</p>\n\n<h1 id=\"reboot\">reboot</h1>\n\n<p>Après le reboot, on revérifie et magie, on a nos 512 Huge Pages et MySQL en a réservé 124.</p>\n\n<h1 id=\"catprocmeminfogrepihugeanonhugepages120832kbhugepages_total512hugepages_free388hugepages_rsvd124hugepages_surp0hugepagesize2048kb\">cat /proc/meminfo | grep -i huge AnonHugePages: 120832 kB HugePages<em>Total: 512 HugePages</em>Free: 388 HugePages<em>Rsvd: 124 HugePages</em>Surp: 0 Hugepagesize: 2048 kB</h1>\n\n<p><span style=\"text-decoration: underline;\">Sources :</span></p>\n\n<ul>\n<li><a href=\"https://dev.mysql.com/doc/refman/5.0/en/large-page-support.html\">dev.mysql.com</a> (notamment le commentaire de « DANGLADE JEAN-SEBASTIEN  » à la fin)</li>\n<li><a href=\"https://ashwinvasani.wordpress.com/2011/03/03/reserving-huge-pages-for-mysql/\">ashwinvasani.wordpress.com</a></li>\n</ul>","image":"http://blog.techan.fr/images/2015/04/MariaDB-seal.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-23T09:21:17.000Z","created_by":1,"updated_at":"2015-04-22T13:21:39.000Z","updated_by":1,"published_at":"2015-04-23T09:21:17.000Z","published_by":1},{"id":124,"uuid":"4b434904-a969-42da-97ef-1874e9e1c3d2","title":"(no title)","slug":"temp-slug-122","markdown":"\n \n\n[root@sl-0-share1 shares]# smbstatus -Sv | grep documents_systole_contrat | grep -v -e \"f[0-9][0-9][0-9][0-9]\" -e \"n[0-9][0-9][0-9][0-9]\" -e \"p[0-9][0-9][0-9][0-9]\" -e \"d[0-9][0-9][0-9][0-9]\" -e \"pc[0-9][0-9][0-9]\" -e \"t[0-9][0-9][0-9][0-9]\" | awk '{print $3}' | sort -u 172.16.12.11 172.16.12.129 172.16.12.137 172.16.12.138 172.16.12.41 172.16.12.86 172.16.16.43 servsham16 sw-0-antivir1 sw-0-cas1 sw-0-dc1 sw-0-demat1 sw-0-dwh1 sw-0-impint1 vm-hpexstream-t\n\n \n\n \n\n\n","html":"<p>[root@sl-0-share1 shares]# smbstatus -Sv | grep documents<em>systole</em>contrat | grep -v -e \"f[0-9][0-9][0-9][0-9]\" -e \"n[0-9][0-9][0-9][0-9]\" -e \"p[0-9][0-9][0-9][0-9]\" -e \"d[0-9][0-9][0-9][0-9]\" -e \"pc[0-9][0-9][0-9]\" -e \"t[0-9][0-9][0-9][0-9]\" | awk '{print $3}' | sort -u 172.16.12.11 172.16.12.129 172.16.12.137 172.16.12.138 172.16.12.41 172.16.12.86 172.16.16.43 servsham16 sw-0-antivir1 sw-0-cas1 sw-0-dc1 sw-0-demat1 sw-0-dwh1 sw-0-impint1 vm-hpexstream-t</p>","image":null,"featured":0,"page":0,"status":"draft","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-27T09:27:08.000Z","created_by":1,"updated_at":"2015-04-27T09:27:08.000Z","updated_by":1,"published_at":"0000-00-00 00:00:00","published_by":1},{"id":125,"uuid":"4cc18272-7953-4306-9b6c-9d5f7af5a225","title":"Vous êtes toujours plus nombreux !!","slug":"vous-etes-toujours-plus-nombreux","markdown":"\nCela fait maintenant sept mois que j’ai créé le blog « Tech AN » et vous êtes de plus en plus nombreux à le découvrir ou à le consulter régulièrement. J’ai créé ce blog pour palier à ma mauvaise mémoire. Je perdais un temps fou à chercher de l’information – parfois plusieurs fois la même chose a quelques jours d’intervalle – sur internet. Cet espace me permet de rassembler une partie de mes connaissances et de retrouver facilement mes petits. J’espère qu’il vous permet également de trouver des solutions à vos problèmes ! En tout cas, vous êtes toujours plus nombreux !!\n\nC’est avec une grande joie que je vois les chiffres de la fréquentation augmenter de mois en mois ! Et je vous rassure tout de suite – s’il y en avait besoin – je ne vais pas m’arrêter en si bon chemin !\n\n\n## Tech AN en chiffres\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1254\" style=\"width: 664px\">[![Un nouveau cap est atteint !](https://techan.fr/images/2015/04/stats_mois.jpg)](https://techan.fr/images/2015/04/stats_mois.jpg)Progression des vues au fil des mois\n\n</div> \n\nMille vues sur le mois d’avril 2015, soit dix fois plus que sur le mois de septembre 2014 – premier mois d’existence du blog !! Elles sont loin les 100 vues du mois de septembre, la semaine dernière vous étiez 400 à consulter les pages que mes doigts vous concoctent !\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1253\" style=\"width: 663px\">[![Un nouveau cap est atteint !](https://techan.fr/images/2015/04/stats_annees.jpg)](https://techan.fr/images/2015/04/stats_annees.jpg)2015, une année qui a commencé sur les chapeaux de roues !\n\n</div>L’année 2015 s’annonce sous de très bons hospices avec déjà plus de 3000 vues en cette fin du mois d’avril ! Comme je le disais en titre, un nouveau cap est atteint ! Le simple fait de voir ces chiffres monter me motive pour écrire de nouveau articles, alors lisez, lisez sans retenue et il y aura toujours plus de contenu ! ","html":"<p>Cela fait maintenant sept mois que j’ai créé le blog « Tech AN » et vous êtes de plus en plus nombreux à le découvrir ou à le consulter régulièrement. J’ai créé ce blog pour palier à ma mauvaise mémoire. Je perdais un temps fou à chercher de l’information – parfois plusieurs fois la même chose a quelques jours d’intervalle – sur internet. Cet espace me permet de rassembler une partie de mes connaissances et de retrouver facilement mes petits. J’espère qu’il vous permet également de trouver des solutions à vos problèmes ! En tout cas, vous êtes toujours plus nombreux !!</p>\n\n<p>C’est avec une grande joie que je vois les chiffres de la fréquentation augmenter de mois en mois ! Et je vous rassure tout de suite – s’il y en avait besoin – je ne vais pas m’arrêter en si bon chemin !</p>\n\n<h2 id=\"techanenchiffres\">Tech AN en chiffres</h2>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1254\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/04/stats_mois.jpg\"><img src=\"https://techan.fr/images/2015/04/stats_mois.jpg\" alt=\"Un nouveau cap est atteint !\" title=\"\" /></a>Progression des vues au fil des mois</p>\n\n<p></div> </p>\n\n<p>Mille vues sur le mois d’avril 2015, soit dix fois plus que sur le mois de septembre 2014 – premier mois d’existence du blog !! Elles sont loin les 100 vues du mois de septembre, la semaine dernière vous étiez 400 à consulter les pages que mes doigts vous concoctent !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1253\" style=\"width: 663px\"><a href=\"https://techan.fr/images/2015/04/stats_annees.jpg\"><img src=\"https://techan.fr/images/2015/04/stats_annees.jpg\" alt=\"Un nouveau cap est atteint !\" title=\"\" /></a>2015, une année qui a commencé sur les chapeaux de roues !</p>\n\n<p></div>L’année 2015 s’annonce sous de très bons hospices avec déjà plus de 3000 vues en cette fin du mois d’avril ! Comme je le disais en titre, un nouveau cap est atteint ! Le simple fait de voir ces chiffres monter me motive pour écrire de nouveau articles, alors lisez, lisez sans retenue et il y aura toujours plus de contenu ! ","image":"http://blog.techan.fr/images/2014/09/TechAN_moyen.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-28T20:42:02.000Z","created_by":1,"updated_at":"2015-05-09T12:02:13.000Z","updated_by":1,"published_at":"2015-04-28T20:42:02.000Z","published_by":1},{"id":126,"uuid":"07a00d0d-219e-4dbf-a4c2-c18e5ea9535b","title":"La version mobile des sites influe maintenant sur le classement de Google","slug":"la-version-mobile-des-sites-influe-maintenant-sur-le-classement-de-google","markdown":"\nAu détours d’un passage sur un des sites Google utile pour les webmasters – Google Analytics pour ne pas le citer – j’ai reçu une nouvelle via un intrigant bandeau.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1294\" style=\"width: 784px\">[![La version mobile des sites influe maintenant sur le score de Google](https://techan.fr/images/2015/04/screenshot.405.jpg)](https://techan.fr/images/2015/04/screenshot.405.jpg)Le bandeau de l’étrange\n\n</div> \n\nGoogle informe les gens qui souhaitent être référencés sur leur moteur de recherche que la qualité de la version mobile des sites influe maintenant sur le classement de Google – en plus des nombreux autres critères – pour définir le classement dans les résultats qu’ils fournissent.\n\nCela a piqué ma curiosité au vif et je n’ai pas pu m’empêcher de cliquer sur le lien « En savoir plus ». Ce lien vous emmène sur une page « Google Developers » qui vous permet de tester la qualité de la version mobile de votre site.\n\n \n\nLa fameuse page est disponible [par ici](https://www.google.fr/webmasters/tools/mobile-friendly/), voici à quoi elle ressemble.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1295\" style=\"width: 664px\">[![La version mobile des sites influe maintenant sur le score de Google](https://techan.fr/images/2015/04/screenshot.406.jpg)](https://techan.fr/images/2015/04/screenshot.406.jpg)Demander à Google de tester la version mobile de votre site web\n\n</div> \n\n\n## Le test !\n\n \n\nBien évidement, je n’ai pas résisté à la tentation de tester cet outil et de voir ce qu’il pense de mon site sur mobile. Il suffit pour cela de renseigner l’URL du site et de lancer l’analyse !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1263\" style=\"width: 665px\">[![google_test_mobile_en_cours](https://techan.fr/images/2015/04/google_test_mobile_en_cours.jpg)](https://techan.fr/images/2015/04/google_test_mobile_en_cours.jpg)Pour tester, il suffit de renseigner l’URL du site et d’attendre quelques – dizaines – de secondes.\n\n</div> \n\nAprès quelques dizaines de secondes d’attente, le couperet tombe ! Pour ma part c’est plutôt une bonne nouvelle, les robots de Google semblent apprécier la version mobile de Tech AN ! ![:-)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\n[![google_test_mobile_fini](https://techan.fr/images/2015/04/google_test_mobile_fini.jpg)](https://techan.fr/images/2015/04/google_test_mobile_fini.jpg)\n\nAller, à votre tour de tester !\n\n\n","html":"<p>Au détours d’un passage sur un des sites Google utile pour les webmasters – Google Analytics pour ne pas le citer – j’ai reçu une nouvelle via un intrigant bandeau.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1294\" style=\"width: 784px\"><a href=\"https://techan.fr/images/2015/04/screenshot.405.jpg\"><img src=\"https://techan.fr/images/2015/04/screenshot.405.jpg\" alt=\"La version mobile des sites influe maintenant sur le score de Google\" title=\"\" /></a>Le bandeau de l’étrange</p>\n\n<p></div> </p>\n\n<p>Google informe les gens qui souhaitent être référencés sur leur moteur de recherche que la qualité de la version mobile des sites influe maintenant sur le classement de Google – en plus des nombreux autres critères – pour définir le classement dans les résultats qu’ils fournissent.</p>\n\n<p>Cela a piqué ma curiosité au vif et je n’ai pas pu m’empêcher de cliquer sur le lien « En savoir plus ». Ce lien vous emmène sur une page « Google Developers » qui vous permet de tester la qualité de la version mobile de votre site.</p>\n\n<p>La fameuse page est disponible <a href=\"https://www.google.fr/webmasters/tools/mobile-friendly/\">par ici</a>, voici à quoi elle ressemble.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1295\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/04/screenshot.406.jpg\"><img src=\"https://techan.fr/images/2015/04/screenshot.406.jpg\" alt=\"La version mobile des sites influe maintenant sur le score de Google\" title=\"\" /></a>Demander à Google de tester la version mobile de votre site web</p>\n\n<p></div> </p>\n\n<h2 id=\"letest\">Le test !</h2>\n\n<p>Bien évidement, je n’ai pas résisté à la tentation de tester cet outil et de voir ce qu’il pense de mon site sur mobile. Il suffit pour cela de renseigner l’URL du site et de lancer l’analyse !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1263\" style=\"width: 665px\"><a href=\"https://techan.fr/images/2015/04/google_test_mobile_en_cours.jpg\"><img src=\"https://techan.fr/images/2015/04/google_test_mobile_en_cours.jpg\" alt=\"google<em>test</em>mobile<em>en</em>cours\" title=\"\" /></a>Pour tester, il suffit de renseigner l’URL du site et d’attendre quelques – dizaines – de secondes.</p>\n\n<p></div> </p>\n\n<p>Après quelques dizaines de secondes d’attente, le couperet tombe ! Pour ma part c’est plutôt une bonne nouvelle, les robots de Google semblent apprécier la version mobile de Tech AN ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":-)\" title=\"\" /></p>\n\n<p><a href=\"https://techan.fr/images/2015/04/google_test_mobile_fini.jpg\"><img src=\"https://techan.fr/images/2015/04/google_test_mobile_fini.jpg\" alt=\"google<em>test</em>mobile_fini\" title=\"\" /></a></p>\n\n<p>Aller, à votre tour de tester !</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-29T19:30:19.000Z","created_by":1,"updated_at":"2015-04-29T11:46:56.000Z","updated_by":1,"published_at":"2015-04-29T19:30:19.000Z","published_by":1},{"id":127,"uuid":"65771068-b4a8-4fd4-a193-16a8dc53a9e7","title":"Envoyer les identifiants TeamViewer par mail avec un AppleScript","slug":"envoyer-les-identifiants-teamviewer-par-mail-avec-un-applescript","markdown":"\nComme je suis très tête en l’air j’oublie souvent de lancer – ou de relancer – TeamViewer en partant de chez moi. Et quand j’oublie de le faire et bien je suis triste … J’ai donc mis en place une solution pour envoyer les identifiants TeamViewer par mail avec un AppleScript, cela date déjà de quelques années en arrière mais cela fonctionne toujours comme un charme.\n\nPour la culture, AppleScript est un langage de programmation très pratique pour customiser son Mac. Il est par ailleurs très simple à adopter !\n\nJe vais donc vous partager mes très chères sources et inaugurer par la même la catégorie « AppleScript ». Qui sera prochainement enrichie d’autre scripts qui me simplifient la vie !\n\n \n\n\n## Le script\n\nVoilà la bête ! Remplacez juste votre nom, votre adresse email et un autre chemin pour stocker temporairement la capture d’écran et vous serez prêt !\n\ndo shell script (\"open /Applications/TeamViewer.app\") delay 1.5 set tmpPath to \"/Users/raphael/Downloads/tw.png\" do shell script \"screencapture \" & quoted form of tmpPath tell application \"Mail\" set theMessage to make new outgoing message with properties {visible:true, subject:\"[TeamViewer] :: \" & (current date) as string, content:\"\"} tell content of theMessage to make new attachment with properties {file name:tmpPath} at after last paragraph tell theMessage to make new to recipient at end of to recipients with properties {name:\"Votre Nom\", address:\"yourmail@domain.com\"} send theMessage end tell set myFile to POSIX file tmpPath as alias tell application \"Finder\" if exists file myFile then delete file myFile end if end tell\n\n \n\n\n## Le résultat\n\nOn lance le script, et quelques secondes après, ô bonheur, vous recevez la capture d’écran de TeamViewer avec le précieux sésame pour s’y connecter !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1303\" style=\"width: 366px\">[![Envoyer les identifiants TeamViewer par mail avec un ApplScript](https://techan.fr/images/2015/04/screenshot.4201.jpg)](https://techan.fr/images/2015/04/screenshot.4201.jpg)Et voilà le travail !\n\n</div> \n\n\n","html":"<p>Comme je suis très tête en l’air j’oublie souvent de lancer – ou de relancer – TeamViewer en partant de chez moi. Et quand j’oublie de le faire et bien je suis triste … J’ai donc mis en place une solution pour envoyer les identifiants TeamViewer par mail avec un AppleScript, cela date déjà de quelques années en arrière mais cela fonctionne toujours comme un charme.</p>\n\n<p>Pour la culture, AppleScript est un langage de programmation très pratique pour customiser son Mac. Il est par ailleurs très simple à adopter !</p>\n\n<p>Je vais donc vous partager mes très chères sources et inaugurer par la même la catégorie « AppleScript ». Qui sera prochainement enrichie d’autre scripts qui me simplifient la vie !</p>\n\n<h2 id=\"lescript\">Le script</h2>\n\n<p>Voilà la bête ! Remplacez juste votre nom, votre adresse email et un autre chemin pour stocker temporairement la capture d’écran et vous serez prêt !</p>\n\n<p>do shell script (\"open /Applications/TeamViewer.app\") delay 1.5 set tmpPath to \"/Users/raphael/Downloads/tw.png\" do shell script \"screencapture \" &amp; quoted form of tmpPath tell application \"Mail\" set theMessage to make new outgoing message with properties {visible:true, subject:\"[TeamViewer] :: \" &amp; (current date) as string, content:\"\"} tell content of theMessage to make new attachment with properties {file name:tmpPath} at after last paragraph tell theMessage to make new to recipient at end of to recipients with properties {name:\"Votre Nom\", address:\"yourmail@domain.com\"} send theMessage end tell set myFile to POSIX file tmpPath as alias tell application \"Finder\" if exists file myFile then delete file myFile end if end tell</p>\n\n<h2 id=\"lersultat\">Le résultat</h2>\n\n<p>On lance le script, et quelques secondes après, ô bonheur, vous recevez la capture d’écran de TeamViewer avec le précieux sésame pour s’y connecter !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1303\" style=\"width: 366px\"><a href=\"https://techan.fr/images/2015/04/screenshot.4201.jpg\"><img src=\"https://techan.fr/images/2015/04/screenshot.4201.jpg\" alt=\"Envoyer les identifiants TeamViewer par mail avec un ApplScript\" title=\"\" /></a>Et voilà le travail !</p>\n\n<p></div> </p>","image":"http://blog.techan.fr/images/2015/04/screenshot.423.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-04-30T15:04:47.000Z","created_by":1,"updated_at":"2015-04-30T15:06:38.000Z","updated_by":1,"published_at":"2015-04-30T15:04:47.000Z","published_by":1},{"id":128,"uuid":"32a5fd64-0725-4d21-8fc4-49a4200b92b9","title":"Réinstaller votre Mac depuis Internet","slug":"reinstaller-votre-mac-depuis-internet","markdown":"\nVoici une fonctionnalité d’OS X que j’avais carrément ratée et autant dire que j’ai été – très – heureux de la découvrir complètement par hasard. Il s’agit de la possibilité de réinstaller votre Mac depuis Internet. Cette fonctionnalité a été introduite dans OS X Lion, ça date un peu déjà … Je l’ai découverte car j’avais inscrit mon Mac dans la bêta d’OS X Yosemite, et dans chaque mise à jour bêta, Apple incluait un lien vers une [KB expliquant le mode opératoire pour utiliser cette fonctionnalité](https://support.apple.com/fr-fr/HT4718).\n\nJe cherche toujours à accélérer les plus possible mon MacBook Unibody Mid 2010 et pour cela, je souhaitais remplacer son disque dur – SSHD 500 Go – par un SSD de 128 Go. Le SSHD n’était dejà pas son disque d’origine – qui est mort il y a de ça presque 2 ans, pour l’utiliser j’avais dû ressortir le DVD de Snow Leopard et refaire toutes les mise à jour du système. Le processus était long et fastidieux, aussi j’ai sauté sur l’occasion de tester la restauration par Internet.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1317\" style=\"width: 664px\">[![Réinstaller votre Mac depuis Internet](https://techan.fr/images/2015/05/restauration_par_internet.png)](https://techan.fr/images/2015/05/restauration_par_internet.png)Voici un extrait de la KB.\n\n</div> \n\nMon MacBook n’était pas fourni avec OS X Lion, aussi il m’a fallut vérifier que la fonctionnalité était bien disponible. [Une autre KB](https://support.apple.com/fr-fr/HT4904) m’a grandement soulagé, mon vieux machin est donc bien compatible !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1315\" style=\"width: 664px\">[![Réinstaller votre Mac depuis Internet](https://techan.fr/images/2015/05/restauration_internet_liste_ancien_mac_compatibles.png)](https://techan.fr/images/2015/05/restauration_internet_liste_ancien_mac_compatibles.png)Liste des anciens Mac compatibles.\n\n</div> \n\nIl faut cependant faire une mise à jour si vous souhaitez utiliser la restauration par Internet, il s’agit d’une nouvelle version du programme d’amorçage du Mac – EFI. Pour le MacBook Unibody Mid-2010, [vous trouverez cette mise à jour ici](https://support.apple.com/kb/DL1480?locale=fr_FR&viewlocale=fr_FR).\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1316\" style=\"width: 664px\">[![Réinstaller votre Mac depuis Internet](https://techan.fr/images/2015/05/restauration_internet_maj_EFI.png)](https://techan.fr/images/2015/05/restauration_internet_maj_EFI.png)La page de téléchargement de la mise à jour de l’EFI.\n\n</div> \n\nLa mise à jour se présente sous la forme d’un fichier « .pkg » sur lequel il faut double cliquer, la mise à jour se fait ensuite, un redémarrage est sans doute nécessaire. Comme j’ai réalisé toutes les montées de version d’OS X, je n’ai pas eu a appliquer ce patch.\n\n \n\n[![Réinstaller votre Mac depuis Internet](https://techan.fr/images/2015/05/contenu_mise_a_jour.png)](https://techan.fr/images/2015/05/contenu_mise_a_jour.png)\n\n \n\n\n## Et maintenant, nous allons réinstaller votre Mac depuis Internet !\n\n \n\nLa manipulation n’est pas compliquée, tout d’abord, si vous souhaitez utiliser Time Machine pour récupérer vos documents, assurez-vous que votre sauvegarde fonctionne et qu’elle est passée il y a peu de temps. Une fois ce point validé, redémarrer votre Mac.\n\nLorsque l’écran devient noir, maintenant appuyées les touches **Commande **et **R** jusqu’à ce que l’écran passe. Un écran de chargement avec un globe terrestre apparaît et vous avez gagné ! L’outil de restauration ne m’a pas demandé de me connecter à mon réseau Wifi, mais il peut vous le demander.\n\n**<span style=\"text-decoration: underline;\">Note :</span>** Si vous n’arrivez pas à vous connecter à votre réseau Wifi dans l’écran de récupération, il est probable que le clavier soit passé en QWERTY. Il vous faudra ruser pour taper votre mot de passe à l’aveugle.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1323\" style=\"width: 423px\">[![Réinstaller votre Mac depuis Internet](https://techan.fr/images/2015/05/screenshot.426.jpg)](https://techan.fr/images/2015/05/screenshot.426.jpg)Chargement des outils de réinstallation\n\n</div> \n\nEt voilà, 35 bonnes minutes après j’avais un OS X Lion opérationnel sur mon SSD, j’ai repassé la mise à jour vers Yosemite et me voilà avec un MacBook comme neuf !\n\n\n","html":"<p>Voici une fonctionnalité d’OS X que j’avais carrément ratée et autant dire que j’ai été – très – heureux de la découvrir complètement par hasard. Il s’agit de la possibilité de réinstaller votre Mac depuis Internet. Cette fonctionnalité a été introduite dans OS X Lion, ça date un peu déjà … Je l’ai découverte car j’avais inscrit mon Mac dans la bêta d’OS X Yosemite, et dans chaque mise à jour bêta, Apple incluait un lien vers une <a href=\"https://support.apple.com/fr-fr/HT4718\">KB expliquant le mode opératoire pour utiliser cette fonctionnalité</a>.</p>\n\n<p>Je cherche toujours à accélérer les plus possible mon MacBook Unibody Mid 2010 et pour cela, je souhaitais remplacer son disque dur – SSHD 500 Go – par un SSD de 128 Go. Le SSHD n’était dejà pas son disque d’origine – qui est mort il y a de ça presque 2 ans, pour l’utiliser j’avais dû ressortir le DVD de Snow Leopard et refaire toutes les mise à jour du système. Le processus était long et fastidieux, aussi j’ai sauté sur l’occasion de tester la restauration par Internet.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1317\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/05/restauration_par_internet.png\"><img src=\"https://techan.fr/images/2015/05/restauration_par_internet.png\" alt=\"Réinstaller votre Mac depuis Internet\" title=\"\" /></a>Voici un extrait de la KB.</p>\n\n<p></div> </p>\n\n<p>Mon MacBook n’était pas fourni avec OS X Lion, aussi il m’a fallut vérifier que la fonctionnalité était bien disponible. <a href=\"https://support.apple.com/fr-fr/HT4904\">Une autre KB</a> m’a grandement soulagé, mon vieux machin est donc bien compatible !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1315\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/05/restauration_internet_liste_ancien_mac_compatibles.png\"><img src=\"https://techan.fr/images/2015/05/restauration_internet_liste_ancien_mac_compatibles.png\" alt=\"Réinstaller votre Mac depuis Internet\" title=\"\" /></a>Liste des anciens Mac compatibles.</p>\n\n<p></div> </p>\n\n<p>Il faut cependant faire une mise à jour si vous souhaitez utiliser la restauration par Internet, il s’agit d’une nouvelle version du programme d’amorçage du Mac – EFI. Pour le MacBook Unibody Mid-2010, <a href=\"https://support.apple.com/kb/DL1480?locale=fr_FR&amp;viewlocale=fr_FR\">vous trouverez cette mise à jour ici</a>.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1316\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/05/restauration_internet_maj_EFI.png\"><img src=\"https://techan.fr/images/2015/05/restauration_internet_maj_EFI.png\" alt=\"Réinstaller votre Mac depuis Internet\" title=\"\" /></a>La page de téléchargement de la mise à jour de l’EFI.</p>\n\n<p></div> </p>\n\n<p>La mise à jour se présente sous la forme d’un fichier « .pkg » sur lequel il faut double cliquer, la mise à jour se fait ensuite, un redémarrage est sans doute nécessaire. Comme j’ai réalisé toutes les montées de version d’OS X, je n’ai pas eu a appliquer ce patch.</p>\n\n<p><a href=\"https://techan.fr/images/2015/05/contenu_mise_a_jour.png\"><img src=\"https://techan.fr/images/2015/05/contenu_mise_a_jour.png\" alt=\"Réinstaller votre Mac depuis Internet\" title=\"\" /></a></p>\n\n<h2 id=\"etmaintenantnousallonsrinstallervotremacdepuisinternet\">Et maintenant, nous allons réinstaller votre Mac depuis Internet !</h2>\n\n<p>La manipulation n’est pas compliquée, tout d’abord, si vous souhaitez utiliser Time Machine pour récupérer vos documents, assurez-vous que votre sauvegarde fonctionne et qu’elle est passée il y a peu de temps. Une fois ce point validé, redémarrer votre Mac.</p>\n\n<p>Lorsque l’écran devient noir, maintenant appuyées les touches <strong>Commande <em>*et *</em>R</strong> jusqu’à ce que l’écran passe. Un écran de chargement avec un globe terrestre apparaît et vous avez gagné ! L’outil de restauration ne m’a pas demandé de me connecter à mon réseau Wifi, mais il peut vous le demander.</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Note :</span></strong> Si vous n’arrivez pas à vous connecter à votre réseau Wifi dans l’écran de récupération, il est probable que le clavier soit passé en QWERTY. Il vous faudra ruser pour taper votre mot de passe à l’aveugle.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1323\" style=\"width: 423px\"><a href=\"https://techan.fr/images/2015/05/screenshot.426.jpg\"><img src=\"https://techan.fr/images/2015/05/screenshot.426.jpg\" alt=\"Réinstaller votre Mac depuis Internet\" title=\"\" /></a>Chargement des outils de réinstallation</p>\n\n<p></div> </p>\n\n<p>Et voilà, 35 bonnes minutes après j’avais un OS X Lion opérationnel sur mon SSD, j’ai repassé la mise à jour vers Yosemite et me voilà avec un MacBook comme neuf !</p>","image":"http://blog.techan.fr/images/2015/04/hero_icon_large1.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-05-04T09:13:42.000Z","created_by":1,"updated_at":"2015-05-04T09:13:42.000Z","updated_by":1,"published_at":"2015-05-04T09:13:42.000Z","published_by":1},{"id":129,"uuid":"5020a26c-5459-4b53-b5e8-a1b5a93d3aa4","title":"Trouver et supprimer les doublons dans Photos sur Mac","slug":"trouver-et-supprimer-les-doublons-dans-photos-sur-mac","markdown":"\nL’apparition de la nouvelle app [Photos](https://www.apple.com/osx/photos/) sur Mac – avec OS X Yosemite 10.10.3 – a été une petite révolution en soi, elle remplace la poussiéreuse app iPhoto qui avait fait son temps. iPhoto était une application gourmande en ressources, force est de reconnaître que Photos fait beaucoup mieux de ce côté là.\n\nPhotos est l’adaptation de l’application portant le même nom sur iOS, montrant une fois de plus la volonté qu’a Apple de faire converger les deux systèmes. L’application était bien avancée sur iOS et certaines fonctions manquaient encore sur OS X, comme la photothèque iCloud – que j’ai attendue avec impatience. La petite nouvelle propose de synchroniser les photos stockées localement sur le Mac dans cette photothèque iCloud. J’avais déjà transféré une grande partie de mes photos dans iCloud en utilisant une astuce, en créant des flux de photos iCloud via [iPhoto](https://www.apple.com/mac/iphoto/), je pouvais récupérer mes photos sur mon iPhone et les transférer dans la photothèque iCloud.\n\nOui mais voilà, le jour ou Photos est apparue dans Yosemite, il m’a proposé d’importer les photos d’iPhoto et là les ennuis commencent … L’importation s’est bien passée, trop bien même, toutes mes photos étaient bien là mais celles que j’avais déjà uploadées se sont retrouvées en double, triple, … J’ai quelques 16 000 photos dans ma bibliothèque et il y avait presque 7 000 doublons en plus, soit presque 50% de photos inutiles qui consommaient de l’espace dans iCloud et sur mon Mac.\n\n \n\nJ’ai lu quelque part sur Internet qu’Apple aurait mis en place un mécanisme de recherche de doublons côté serveur, mais en quelques semaines d’utilisation, il n’en a pas trouvé beaucoup – pas du tout même. J’ai donc cherché des outils qui pourraient faire ce travail. Je suis tombé sur un article du site [www.communicatejesus.com](http://www.communicatejesus.com/2015/05/how-to-find-and-remove-duplicates-from-the-new-mac-photos-app/) dans lequel l’auteur compare plusieurs outils qu’il a testé.\n\nIl conseille d’utiliser [PowerPhotos](http://www.fatcatsoftware.com/powerphotos/) (Fat Cat Software – 24$) que j’ai testé également, l’interface est claire et l’outil simple à utiliser. Par contre, il ne m’a trouvé que 500 – sur plus de 6 000 – doublons après plusieurs passages …\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1332\" style=\"width: 664px\">[![Trouver et supprimer les doublons dans la nouvelle app Mac Photos](https://techan.fr/images/2015/05/screenshot.429.jpg)](https://techan.fr/images/2015/05/screenshot.429.jpg)PowerPhotos chercher des doublons …\n\n</div> \n\nJ’ai donc décidé de tester un autre outil que propose l’auteur de l’article : [PhotoSweeper](http://overmacs.com/?p=photosweeper) (Gwinno Software, Inc – 9,99$), il est également disponible sur le [Mac App Store au même prix](https://itunes.apple.com/app/photosweeper/id463362050). PhotoSweeper lui, a bien trouvé mes quelques 6 000 doublons et j’ai pu les supprimer simplement !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1334\" style=\"width: 664px\">[![Trouver et supprimer les doublons dans la nouvelle app Mac Photos](https://techan.fr/images/2015/05/screenshot.430.jpg)](https://techan.fr/images/2015/05/screenshot.430.jpg)PhotoSweeper en trouve !\n\n</div> \n\nUne fois les doublons identifiés et validés par vous, PhotoSweeper vous guide pour les supprimer dans Photos.app. Je vous recommande donc PhotoSweeper même s’il est un peu moins sympa à l’utilisation, il me paraît bien plus efficace !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1342\" style=\"width: 664px\">[![Trouver et supprimer les doublons dans la nouvelle app Mac Photos](https://techan.fr/images/2015/05/photosweeper_delete_duplicates.png)](https://techan.fr/images/2015/05/photosweeper_delete_duplicates.png)Vous êtes guidé pour supprimer les doublons dans Photos.app\n\n</div> \n\nBon courage avec vos doublons !\n\n \n\n<span style=\"text-decoration: underline;\">**[EDIT : 25/06/2015]**</span>\n\nJ’ai écrit un tutoriel pour utiliser ce logiciel, [ça se passe par ici !](https://techan.fr/retirer-les-doublons-dans-photos-sur-mac-avec-photosweeper/)\n\n \n\n**<span style=\"text-decoration: underline;\">Utilitaires :</span>**\n\n- [PowerPhotos](http://www.fatcatsoftware.com/powerphotos/) (24$)\n- [PhotoSweeperX](http://overmacs.com/?p=photosweeper) (9,99$)\n\n**<span style=\"text-decoration: underline;\">Source :</span>**[www.communicatejesus.com](http://www.communicatejesus.com/2015/05/how-to-find-and-remove-duplicates-from-the-new-mac-photos-app/)\n\n \n\n \n\n\n","html":"<p>L’apparition de la nouvelle app <a href=\"https://www.apple.com/osx/photos/\">Photos</a> sur Mac – avec OS X Yosemite 10.10.3 – a été une petite révolution en soi, elle remplace la poussiéreuse app iPhoto qui avait fait son temps. iPhoto était une application gourmande en ressources, force est de reconnaître que Photos fait beaucoup mieux de ce côté là.</p>\n\n<p>Photos est l’adaptation de l’application portant le même nom sur iOS, montrant une fois de plus la volonté qu’a Apple de faire converger les deux systèmes. L’application était bien avancée sur iOS et certaines fonctions manquaient encore sur OS X, comme la photothèque iCloud – que j’ai attendue avec impatience. La petite nouvelle propose de synchroniser les photos stockées localement sur le Mac dans cette photothèque iCloud. J’avais déjà transféré une grande partie de mes photos dans iCloud en utilisant une astuce, en créant des flux de photos iCloud via <a href=\"https://www.apple.com/mac/iphoto/\">iPhoto</a>, je pouvais récupérer mes photos sur mon iPhone et les transférer dans la photothèque iCloud.</p>\n\n<p>Oui mais voilà, le jour ou Photos est apparue dans Yosemite, il m’a proposé d’importer les photos d’iPhoto et là les ennuis commencent … L’importation s’est bien passée, trop bien même, toutes mes photos étaient bien là mais celles que j’avais déjà uploadées se sont retrouvées en double, triple, … J’ai quelques 16 000 photos dans ma bibliothèque et il y avait presque 7 000 doublons en plus, soit presque 50% de photos inutiles qui consommaient de l’espace dans iCloud et sur mon Mac.</p>\n\n<p>J’ai lu quelque part sur Internet qu’Apple aurait mis en place un mécanisme de recherche de doublons côté serveur, mais en quelques semaines d’utilisation, il n’en a pas trouvé beaucoup – pas du tout même. J’ai donc cherché des outils qui pourraient faire ce travail. Je suis tombé sur un article du site <a href=\"http://www.communicatejesus.com/2015/05/how-to-find-and-remove-duplicates-from-the-new-mac-photos-app/\">www.communicatejesus.com</a> dans lequel l’auteur compare plusieurs outils qu’il a testé.</p>\n\n<p>Il conseille d’utiliser <a href=\"http://www.fatcatsoftware.com/powerphotos/\">PowerPhotos</a> (Fat Cat Software – 24$) que j’ai testé également, l’interface est claire et l’outil simple à utiliser. Par contre, il ne m’a trouvé que 500 – sur plus de 6 000 – doublons après plusieurs passages …</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1332\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/05/screenshot.429.jpg\"><img src=\"https://techan.fr/images/2015/05/screenshot.429.jpg\" alt=\"Trouver et supprimer les doublons dans la nouvelle app Mac Photos\" title=\"\" /></a>PowerPhotos chercher des doublons …</p>\n\n<p></div> </p>\n\n<p>J’ai donc décidé de tester un autre outil que propose l’auteur de l’article : <a href=\"http://overmacs.com/?p=photosweeper\">PhotoSweeper</a> (Gwinno Software, Inc – 9,99$), il est également disponible sur le <a href=\"https://itunes.apple.com/app/photosweeper/id463362050\">Mac App Store au même prix</a>. PhotoSweeper lui, a bien trouvé mes quelques 6 000 doublons et j’ai pu les supprimer simplement !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1334\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/05/screenshot.430.jpg\"><img src=\"https://techan.fr/images/2015/05/screenshot.430.jpg\" alt=\"Trouver et supprimer les doublons dans la nouvelle app Mac Photos\" title=\"\" /></a>PhotoSweeper en trouve !</p>\n\n<p></div> </p>\n\n<p>Une fois les doublons identifiés et validés par vous, PhotoSweeper vous guide pour les supprimer dans Photos.app. Je vous recommande donc PhotoSweeper même s’il est un peu moins sympa à l’utilisation, il me paraît bien plus efficace !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1342\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/05/photosweeper_delete_duplicates.png\"><img src=\"https://techan.fr/images/2015/05/photosweeper_delete_duplicates.png\" alt=\"Trouver et supprimer les doublons dans la nouvelle app Mac Photos\" title=\"\" /></a>Vous êtes guidé pour supprimer les doublons dans Photos.app</p>\n\n<p></div> </p>\n\n<p>Bon courage avec vos doublons !</p>\n\n<p><span style=\"text-decoration: underline;\"><strong>[EDIT : 25/06/2015]</strong></span></p>\n\n<p>J’ai écrit un tutoriel pour utiliser ce logiciel, <a href=\"https://techan.fr/retirer-les-doublons-dans-photos-sur-mac-avec-photosweeper/\">ça se passe par ici !</a></p>\n\n<p><strong><span style=\"text-decoration: underline;\">Utilitaires :</span></strong></p>\n\n<ul>\n<li><a href=\"http://www.fatcatsoftware.com/powerphotos/\">PowerPhotos</a> (24$)</li>\n<li><a href=\"http://overmacs.com/?p=photosweeper\">PhotoSweeperX</a> (9,99$)</li>\n</ul>\n\n<p><strong><span style=\"text-decoration: underline;\">Source :</span></strong><a href=\"http://www.communicatejesus.com/2015/05/how-to-find-and-remove-duplicates-from-the-new-mac-photos-app/\">www.communicatejesus.com</a></p>","image":"http://blog.techan.fr/images/2015/05/screenshot.428.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-05-05T15:00:09.000Z","created_by":1,"updated_at":"2015-06-25T18:44:23.000Z","updated_by":1,"published_at":"2015-05-05T15:00:09.000Z","published_by":1},{"id":130,"uuid":"05482072-d5c0-4903-aba6-e476188b2c47","title":"Boîte à idées","slug":"boite-a-idees","markdown":"\nUne technologie vous interpelle et vous n’avez pas le temps de la tester ? Vous hésitez entre deux solutions mais vous ne savez pas laquelle choisir ? Vous vous cassez les dents sur une erreur pénible ?\n\nPas de souci ! Déposez votre idée dans la boîte à idée, j’y prêterai attention ","html":"<p>Une technologie vous interpelle et vous n’avez pas le temps de la tester ? Vous hésitez entre deux solutions mais vous ne savez pas laquelle choisir ? Vous vous cassez les dents sur une erreur pénible ?</p>\n\n<p>Pas de souci ! Déposez votre idée dans la boîte à idée, j’y prêterai attention ","image":null,"featured":0,"page":1,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-05-05T18:33:57.000Z","created_by":1,"updated_at":"2015-05-05T18:34:25.000Z","updated_by":1,"published_at":"2015-05-05T18:33:57.000Z","published_by":1},{"id":131,"uuid":"bfce3804-0204-46b4-8fa5-63550926ad20","title":"Synchroniser votre OneDrive sur Ubuntu","slug":"synchroniser-votre-onedrive-sur-ubuntu","markdown":"\nJ’utilise [OneDrive ](https://onedrive.live.com/)depuis quelques temps pour synchroniser mes documentations client entre mes différents ordinateurs. C’est également très pratique pour partage ces informations avec les clients. De plus, une petite astuce – toute petite hein – permet de passer des 15 Go gracieusement offerts par Microsoft à 30 Go. OneDrive vous offre ces 15 Go supplémentaires dès lors que vous activer la sauvegarde de vos photos dans l’outil. Vous pouvez le désactiver directement, vous conserverez cet espace.\n\n \n\nIl me manquait toute fois la possibilité de synchroniser ces dossiers sur mon serveur Ubuntu à la maison – une sauvegarde de plus, au cas ou – mais évidement Microsoft ne propose pas d’application pour Linux, contrairement à OS X. Heureusement, de joyeux bidouilleurs ont mis les mains dans le cambouis pour nous proposer une application à la fois en ligne de commande et en interface graphique.\n\n \n\n\n## Installation des pré requis\n\n \n\nraphael@xxxx:~/bin/onedrive-d$ sudo aptitude install python3-gi psutils python3-psutil python3-dev python3-gobject inotify-tools python3-setuptools\n\n \n\nUne fois les paquets requis installés, il faut récupérer le programme depuis GitHub.\n\nraphael@xxxx:~/bin$ git clone https://github.com/xybu/onedrive-d.git Clonage dans 'onedrive-d'... remote: Counting objects: 876, done. remote: Total 876 (delta 0), reused 0 (delta 0), pack-reused 876 Réception d'objets: 100% (876/876), 287.45 KiB | 0 bytes/s, fait. Résolution des deltas: 100% (472/472), fait. Vérification de la connectivité... fait.\n\n \n\n\n## Installation de OneDrive-d\n\n \n\nL’installation en elle même est très simple, les scripts fournis vont tout faire pour vous, il suffit de les lancer !\n\nraphael@xxxx:~/bin$ cd onedrive-d/ raphael@xxxx:~/bin/onedrive-d$ sudo python3 setup.py install raphael@xxxx:~/bin/onedrive-d$ sudo python3 setup.py clean\n\n \n\nOn termine l’installation en créant le dossier de configuration et le fichier de log.\n\nraphael@xxxx:~/bin/onedrive-d$ mkdir ~/.onedrive raphael@xxxx:~/bin/onedrive-d$ cp ./onedrive_d/res/default_ignore.ini ~/.onedrive/ignore_v2.ini raphael@xxxx:~/bin/onedrive-d$ sudo touch /var/log/onedrive_d.log raphael@xxxx:~/bin/onedrive-d$ sudo chown `whoami` /var/log/onedrive_d.log\n\n \n\n\n## Configuration de OneDrive-d\n\n \n\nPour configurer l’outil, c’est comme pour l’installation, un outil va vous guider. J’ai personnellement choisi de le configurer et de l’utiliser en ligne de commande – je préfère – sachez qu’il est possible de faire pareil avec une interface graphique. Il suffit d’ajouter l’option « –ui=gtk » à la fin de la commande.\n\nraphael@xxxx:~/bin/onedrive-d$ onedrive-pref Loading configuration ... OK [2015-05-12 14:14:14,326] DEBUG: thread_mgr: started. Setting up onedrive-d... (STEP 1/4) Do you want to authorize sign in with your OneDrive account? [Y/n] You will need to visit the OneDrive sign-in page in a browser, log in and authorize onedrive-d, and then copy and paste the callback URL, which should start with \"https://login.live.com/oauth20_desktop.srf\". The callback URL is the URL where the sign-in page finally goes blank. Please visit the sign-in URL in your browser: https://login.live.com/oauth20_authorize.srf?client_id=00000000XXXXXXXX&redirect_uri=https%3A%2F%2Flogin.live.com%2Foauth20_desktop.srf&locale=en&scope=wl.skydrive+wl.skydrive_update+wl.offline_access&display=touch&response_type=code Please paste the callback URL:\n\nA ce stade, il va vous falloir copier l’URL fourni par le programme de configuration dans votre navigateur Web préféré. L’URL à cette tête là : « https://login.live.com/oauth20_authorize.srf?client_id=00000000XXXXXXXX&redirect_uri=https%3A%2F%2Flogin.live.com%2Foauth20_desktop.srf&locale=en&scope=wl.skydrive+wl.skydrive_update+wl.offline_access&display=touch&response_type=code »\n\nUne fois que vous aurez chargé la page, il va falloir vous connecter avec votre compte OneDrive.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1362\" style=\"width: 402px\">[![Synchroniser votre OneDrive sur Ubuntu](https://techan.fr/images/2015/05/screenshot.458.jpg)](https://techan.fr/images/2015/05/screenshot.458.jpg)Connecter vous à votre compte OneDrive\n\n</div> \n\nEt autoriser l’application.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1359\" style=\"width: 375px\">[![Synchroniser votre OneDrive sur Ubuntu](https://techan.fr/images/2015/05/screenshot.455.jpg)](https://techan.fr/images/2015/05/screenshot.455.jpg)Autoriser ensuite l’application à accéder à votre OneDrive.\n\n</div> \n\nVous allez être redirigé vers une page blanche, copiez son URL et donnez la en réponse au programme d’installation. Vous avez encore à répondre à quelques questions et ça sera prêt !\n\n \n\n[2015-05-12 14:24:38,125] DEBUG: MainThread: config saved. onedrive-d has been successfully authorized. (STEP 2/4) Do you want to specify path to local OneDrive repository? [Y/n] Please enter the abs path to sync with your OneDrive (default: /home/raphael/OneDrive): The path \"/home/raphael/OneDrive\" does not exist. Try creating it. [2015-05-12 14:24:41,216] DEBUG: MainThread: config saved. Path successfully set. (STEP 3/4) Do you want to change the numeric settings? [Y/n] y How many seconds to wait for before retrying a network failure (current: 10)? Files larger than what size (in MiB) will be uploaded blocks by blocks? (current: 4.0)? When a file is uploaded blocks by blocks, what is the block size (in KiB)? (current: 512.0)? [2015-05-12 14:16:26,069] DEBUG: MainThread: config saved. (STEP 4/4) Do you want to edit the ignore list file? [Y/n] Calling your default editor... You have exited from the text editor. All steps are finished. [2015-05-12 14:16:36,670] DEBUG: Dummy-2: config saved.\n\n \n\nVoilà ! Vous pouvez maintenant démarrer onedrive-d !\n\n \n\nraphael@xxxx:~/bin/onedrive-d$ onedrive-d start Loading configuration ... OK [2015-05-12 14:25:15,551] DEBUG: MainThread: running in daemon node. Starting onedrive-d ... OK\n\n \n\nPour qu’il démarre automatiquement avec votre système, ajouter la ligne suivante dans le fichier « /etc/rc.local » avant la ligne « exit 0 ».\n\n \n\nraphael@xxxx:~/bin/onedrive-d$ sudo vi /etc/rc.local su - raphael -c '/usr/local/bin/onedrive-d start' exit 0\n\n \n\n\n## Et voilà, OneDrive se synchronise !\n\n \n\nraphael@xxxx:~/bin/onedrive-d$ cd ~/OneDrive/ raphael@xxxx:~/OneDrive$ ll total 32 drwxrwxr-x 5 raphael raphael 4096 mai 12 14:25 ./ drwxr-xr-x 26 raphael raphael 4096 mai 12 14:24 ../ drwxr-xr-x 4 raphael raphael 4096 mai 12 14:25 Documents/ drwxr-xr-x 176 raphael raphael 16384 mai 12 14:26 Images/ drwxr-xr-x 2 raphael raphael 4096 mai 12 14:25 Musique/ raphael@baal:~/OneDrive$ du -sh . 125M .\n\n \n\n**<span style=\"text-decoration: underline;\">Source :</span>**[github](https://github.com/xybu/onedrive-d)\n\n\n","html":"<p>J’utilise <a href=\"https://onedrive.live.com/\">OneDrive </a>depuis quelques temps pour synchroniser mes documentations client entre mes différents ordinateurs. C’est également très pratique pour partage ces informations avec les clients. De plus, une petite astuce – toute petite hein – permet de passer des 15 Go gracieusement offerts par Microsoft à 30 Go. OneDrive vous offre ces 15 Go supplémentaires dès lors que vous activer la sauvegarde de vos photos dans l’outil. Vous pouvez le désactiver directement, vous conserverez cet espace.</p>\n\n<p>Il me manquait toute fois la possibilité de synchroniser ces dossiers sur mon serveur Ubuntu à la maison – une sauvegarde de plus, au cas ou – mais évidement Microsoft ne propose pas d’application pour Linux, contrairement à OS X. Heureusement, de joyeux bidouilleurs ont mis les mains dans le cambouis pour nous proposer une application à la fois en ligne de commande et en interface graphique.</p>\n\n<h2 id=\"installationdesprrequis\">Installation des pré requis</h2>\n\n<p>raphael@xxxx:~/bin/onedrive-d$ sudo aptitude install python3-gi psutils python3-psutil python3-dev python3-gobject inotify-tools python3-setuptools</p>\n\n<p>Une fois les paquets requis installés, il faut récupérer le programme depuis GitHub.</p>\n\n<p>raphael@xxxx:~/bin$ git clone <a href=\"https://github.com/xybu/onedrive-d.git\">https://github.com/xybu/onedrive-d.git</a> Clonage dans 'onedrive-d'... remote: Counting objects: 876, done. remote: Total 876 (delta 0), reused 0 (delta 0), pack-reused 876 Réception d'objets: 100% (876/876), 287.45 KiB | 0 bytes/s, fait. Résolution des deltas: 100% (472/472), fait. Vérification de la connectivité... fait.</p>\n\n<h2 id=\"installationdeonedrived\">Installation de OneDrive-d</h2>\n\n<p>L’installation en elle même est très simple, les scripts fournis vont tout faire pour vous, il suffit de les lancer !</p>\n\n<p>raphael@xxxx:~/bin$ cd onedrive-d/ raphael@xxxx:~/bin/onedrive-d$ sudo python3 setup.py install raphael@xxxx:~/bin/onedrive-d$ sudo python3 setup.py clean</p>\n\n<p>On termine l’installation en créant le dossier de configuration et le fichier de log.</p>\n\n<p>raphael@xxxx:~/bin/onedrive-d$ mkdir ~/.onedrive raphael@xxxx:~/bin/onedrive-d$ cp ./onedrive<em>d/res/default</em>ignore.ini ~/.onedrive/ignore<em>v2.ini raphael@xxxx:~/bin/onedrive-d$ sudo touch /var/log/onedrive</em>d.log raphael@xxxx:~/bin/onedrive-d$ sudo chown <code>whoami</code> /var/log/onedrive_d.log</p>\n\n<h2 id=\"configurationdeonedrived\">Configuration de OneDrive-d</h2>\n\n<p>Pour configurer l’outil, c’est comme pour l’installation, un outil va vous guider. J’ai personnellement choisi de le configurer et de l’utiliser en ligne de commande – je préfère – sachez qu’il est possible de faire pareil avec une interface graphique. Il suffit d’ajouter l’option « –ui=gtk » à la fin de la commande.</p>\n\n<p>raphael@xxxx:~/bin/onedrive-d$ onedrive-pref Loading configuration ... OK [2015-05-12 14:14:14,326] DEBUG: thread<em>mgr: started. Setting up onedrive-d... (STEP 1/4) Do you want to authorize sign in with your OneDrive account? [Y/n] You will need to visit the OneDrive sign-in page in a browser, log in and authorize onedrive-d, and then copy and paste the callback URL, which should start with \"<a href=\"https://login.live.com/oauth20\">https://login.live.com/oauth20</a></em>desktop.srf\". The callback URL is the URL where the sign-in page finally goes blank. Please visit the sign-in URL in your browser: <a href=\"https://login.live.com/oauth20\">https://login.live.com/oauth20</a><em>authorize.srf?client</em>id=00000000XXXXXXXX&amp;redirect<em>uri=https%3A%2F%2Flogin.live.com%2Foauth20</em>desktop.srf&amp;locale=en&amp;scope=wl.skydrive+wl.skydrive<em>update+wl.offline</em>access&amp;display=touch&amp;response_type=code Please paste the callback URL:</p>\n\n<p>A ce stade, il va vous falloir copier l’URL fourni par le programme de configuration dans votre navigateur Web préféré. L’URL à cette tête là : « <a href=\"https://login.live.com/oauth20\">https://login.live.com/oauth20</a><em>authorize.srf?client</em>id=00000000XXXXXXXX&amp;redirect<em>uri=https%3A%2F%2Flogin.live.com%2Foauth20</em>desktop.srf&amp;locale=en&amp;scope=wl.skydrive+wl.skydrive<em>update+wl.offline</em>access&amp;display=touch&amp;response_type=code »</p>\n\n<p>Une fois que vous aurez chargé la page, il va falloir vous connecter avec votre compte OneDrive.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1362\" style=\"width: 402px\"><a href=\"https://techan.fr/images/2015/05/screenshot.458.jpg\"><img src=\"https://techan.fr/images/2015/05/screenshot.458.jpg\" alt=\"Synchroniser votre OneDrive sur Ubuntu\" title=\"\" /></a>Connecter vous à votre compte OneDrive</p>\n\n<p></div> </p>\n\n<p>Et autoriser l’application.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1359\" style=\"width: 375px\"><a href=\"https://techan.fr/images/2015/05/screenshot.455.jpg\"><img src=\"https://techan.fr/images/2015/05/screenshot.455.jpg\" alt=\"Synchroniser votre OneDrive sur Ubuntu\" title=\"\" /></a>Autoriser ensuite l’application à accéder à votre OneDrive.</p>\n\n<p></div> </p>\n\n<p>Vous allez être redirigé vers une page blanche, copiez son URL et donnez la en réponse au programme d’installation. Vous avez encore à répondre à quelques questions et ça sera prêt !</p>\n\n<p>[2015-05-12 14:24:38,125] DEBUG: MainThread: config saved. onedrive-d has been successfully authorized. (STEP 2/4) Do you want to specify path to local OneDrive repository? [Y/n] Please enter the abs path to sync with your OneDrive (default: /home/raphael/OneDrive): The path \"/home/raphael/OneDrive\" does not exist. Try creating it. [2015-05-12 14:24:41,216] DEBUG: MainThread: config saved. Path successfully set. (STEP 3/4) Do you want to change the numeric settings? [Y/n] y How many seconds to wait for before retrying a network failure (current: 10)? Files larger than what size (in MiB) will be uploaded blocks by blocks? (current: 4.0)? When a file is uploaded blocks by blocks, what is the block size (in KiB)? (current: 512.0)? [2015-05-12 14:16:26,069] DEBUG: MainThread: config saved. (STEP 4/4) Do you want to edit the ignore list file? [Y/n] Calling your default editor... You have exited from the text editor. All steps are finished. [2015-05-12 14:16:36,670] DEBUG: Dummy-2: config saved.</p>\n\n<p>Voilà ! Vous pouvez maintenant démarrer onedrive-d !</p>\n\n<p>raphael@xxxx:~/bin/onedrive-d$ onedrive-d start Loading configuration ... OK [2015-05-12 14:25:15,551] DEBUG: MainThread: running in daemon node. Starting onedrive-d ... OK</p>\n\n<p>Pour qu’il démarre automatiquement avec votre système, ajouter la ligne suivante dans le fichier « /etc/rc.local » avant la ligne « exit 0 ».</p>\n\n<p>raphael@xxxx:~/bin/onedrive-d$ sudo vi /etc/rc.local su - raphael -c '/usr/local/bin/onedrive-d start' exit 0</p>\n\n<h2 id=\"etvoilonedrivesesynchronise\">Et voilà, OneDrive se synchronise !</h2>\n\n<p>raphael@xxxx:~/bin/onedrive-d$ cd ~/OneDrive/ raphael@xxxx:~/OneDrive$ ll total 32 drwxrwxr-x 5 raphael raphael 4096 mai 12 14:25 ./ drwxr-xr-x 26 raphael raphael 4096 mai 12 14:24 ../ drwxr-xr-x 4 raphael raphael 4096 mai 12 14:25 Documents/ drwxr-xr-x 176 raphael raphael 16384 mai 12 14:26 Images/ drwxr-xr-x 2 raphael raphael 4096 mai 12 14:25 Musique/ raphael@baal:~/OneDrive$ du -sh . 125M .</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Source :</span></strong><a href=\"https://github.com/xybu/onedrive-d\">github</a></p>","image":"http://blog.techan.fr/images/2015/05/ubuntu_et_onedrive_logo.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-05-12T15:37:41.000Z","created_by":1,"updated_at":"2015-05-13T08:31:17.000Z","updated_by":1,"published_at":"2015-05-12T15:37:41.000Z","published_by":1},{"id":132,"uuid":"3e7c159e-45f3-47e1-906d-9bffa8d47434","title":"Cher lecteur de Mac Génération","slug":"cher-lecteur-de-mac-generation","markdown":"\nCher lecteur, vous avez été redirigé vers cette page car vous venez des [forums de Mac Génération](http://forums.macg.co/).\n\n \n\nSachez qu’un des membres de l’équipe de ces sites d’informations – orienté autour de l’univers Apple – a considéré que le contenu proposé par ce site comme du « spam ». Je vous protège donc par moi même de ce « spam » en vous épargnant la lecture des lignes que j’ai écrites. Je trouve la démarche du community manager très dommageable …\n\n \n\nM’enfin, comme je l’ai indiqué à cette personne, mon but n’est pas lucratif – il me soupçonne de faire de la publicité. Je souhaite juste proposer de l’information aux personnes qui en ont besoin.\n\n \n\nVous trouverez juste ici la conversation qui m’a convaincue de vous rediriger vers cette page.\n\n \n\n[![macgé.co_1_](https://techan.fr/images/2015/05/macgé.co_1_.png)](https://techan.fr/images/2015/05/macgé.co_1_.png) [![macgé.co_2_](https://techan.fr/images/2015/05/macgé.co_2_.png)](https://techan.fr/images/2015/05/macgé.co_2_.png) [![macgé.co_3_](https://techan.fr/images/2015/05/macgé.co_3_.png)](https://techan.fr/images/2015/05/macgé.co_3_.png) [![macgé.co_4_](https://techan.fr/images/2015/05/macgé.co_4_.png)](https://techan.fr/images/2015/05/macgé.co_4_.png)\n\n \n\nSi vous souhaitez tout de même consulter le contenu que vous veniez chercher ici, vous pouvez le faire en cliquant sur [ce lien](https://techan.fr) ou en recherchant l’article via l’outil de recherche en haut de cette page.\n\n \n\nBien à vous,\n\nMrRaph_\n\n\n","html":"<p>Cher lecteur, vous avez été redirigé vers cette page car vous venez des <a href=\"http://forums.macg.co/\">forums de Mac Génération</a>.</p>\n\n<p>Sachez qu’un des membres de l’équipe de ces sites d’informations – orienté autour de l’univers Apple – a considéré que le contenu proposé par ce site comme du « spam ». Je vous protège donc par moi même de ce « spam » en vous épargnant la lecture des lignes que j’ai écrites. Je trouve la démarche du community manager très dommageable …</p>\n\n<p>M’enfin, comme je l’ai indiqué à cette personne, mon but n’est pas lucratif – il me soupçonne de faire de la publicité. Je souhaite juste proposer de l’information aux personnes qui en ont besoin.</p>\n\n<p>Vous trouverez juste ici la conversation qui m’a convaincue de vous rediriger vers cette page.</p>\n\n<p><a href=\"https://techan.fr/images/2015/05/macgé.co_1_.png\"><img src=\"https://techan.fr/images/2015/05/macgé.co_1_.png\" alt=\"macgé.co<em>1</em>\" title=\"\" /></a> <a href=\"https://techan.fr/images/2015/05/macgé.co_2_.png\"><img src=\"https://techan.fr/images/2015/05/macgé.co_2_.png\" alt=\"macgé.co<em>2</em>\" title=\"\" /></a> <a href=\"https://techan.fr/images/2015/05/macgé.co_3_.png\"><img src=\"https://techan.fr/images/2015/05/macgé.co_3_.png\" alt=\"macgé.co<em>3</em>\" title=\"\" /></a> <a href=\"https://techan.fr/images/2015/05/macgé.co_4_.png\"><img src=\"https://techan.fr/images/2015/05/macgé.co_4_.png\" alt=\"macgé.co<em>4</em>\" title=\"\" /></a></p>\n\n<p>Si vous souhaitez tout de même consulter le contenu que vous veniez chercher ici, vous pouvez le faire en cliquant sur <a href=\"https://techan.fr\">ce lien</a> ou en recherchant l’article via l’outil de recherche en haut de cette page.</p>\n\n<p>Bien à vous,</p>\n\n<p>MrRaph_</p>","image":null,"featured":0,"page":1,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-05-14T19:40:54.000Z","created_by":1,"updated_at":"2015-05-15T11:04:20.000Z","updated_by":1,"published_at":"2015-05-14T19:40:54.000Z","published_by":1},{"id":133,"uuid":"6f6ddc94-a455-413e-ab52-f3ebfb33ec98","title":"Accrochez vous bien à votre Apple Watch","slug":"accrochez-vous-bien-a-votre-apple-watch","markdown":"\nLe site [MacRumors](http://www.macrumors.com) pointe ce matin un point plutôt inquiétant en matière de sécurité sur l’Apple Watch. Le système embarqué Watch OS 1.0 ne dispose pas d’une fonctionnalité permettant de bloquer ou même d’effacer une montre à distance. Cette fonctionnalité est présente depuis bien longtemps dans nos iPhone, nos iPad et même nos Mac – à condition d’avoir activé au préalable « [Localiser mon [iPhone/iPad/Mac]](https://www.apple.com/fr/icloud/find-my-iphone.html) » ([L’appli sur l’App Store](https://itunes.apple.com/fr/app/localiser-mon-iphone/id376101648?mt=8)).\n\n \n\n[Dans leur article](http://www.macrumors.com/2015/05/13/apple-watch-no-activation-lock/), MacRumors souligne qu’il existe bel et bien une protection par mot de passe de la montre. Il s’agit de taper une suite de chiffre lorsque la montre est ôtée du poignet. Toutefois, cette option ne protège que les données de l’utilisateur, elle ne protège pas la montrer en elle-même. Ainsi une simple réinitialisation de l’appareil permettrait de disposer d’une montre pleinement utilisable.\n\n \n\n<div class=\"wp-caption aligncenter\" style=\"width: 664px\">![Accrochez vous bien à votre Apple Watch](https://techan.fr/images/2015/05/applewatchpasscode3.jpg)La protection par mot de passe de l’Apple Watch.  \n Crédit : [http://www.macrumors.com/](http://www.macrumors.com/)\n\n</div> \n\nMacRumors donne même la procédure pour « nettoyer » la montre, il suffit d’appuyer sur le bouton vers le bas et d’appuyer fort sur l’écran pour voir apparaître l’écran de réinitialisation de la montre – image de droite.\n\nLa fonctionnalité « Localiser mon iPhone » est également pratique pour faire sonner l’iPhone ou l’iPad, depuis un autre appareil ou directement depuis [iCloud.com,](https://www.icloud.com/) lorsque l’on ne sait plus où on l’a posé … Aillant une assez mauvaise mémoire je dois avouer que je me sers fréquemment de cela pour remettre la main sur un de mes iBidules. Vu la taille de l’Apple Watch, on pourrait penser que cette fonctionnalité puisse être utile à pas mal de personnes …\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1396\" style=\"width: 550px\">[![Accrochez vous bien à votre Apple Watch](https://techan.fr/images/2015/05/screenshot.480.jpg)](https://techan.fr/images/2015/05/screenshot.480.jpg)Faire sonner un iBidule depuis [iCloud.com](https://www.icloud.com/#find)\n\n</div> \n\nSelon la source de MacRumors – [www.idownloadblog.com](http://www.idownloadblog.com/2015/05/13/the-apple-watch-thieves-reset-no-activation-lock-security/) – Apple aurait prévu d’ajouter de nouvelles mesures de sécurité dans une prochaine version de Watch OS. En attendant, surveillez votre poignet et accrochez-vous bien à votre Apple Watch !\n\n \n\n**<span style=\"text-decoration: underline;\">Source :</span>**[L’article sur MacRumors](http://www.macrumors.com/2015/05/13/apple-watch-no-activation-lock/)\n\n\n","html":"<p>Le site <a href=\"http://www.macrumors.com\">MacRumors</a> pointe ce matin un point plutôt inquiétant en matière de sécurité sur l’Apple Watch. Le système embarqué Watch OS 1.0 ne dispose pas d’une fonctionnalité permettant de bloquer ou même d’effacer une montre à distance. Cette fonctionnalité est présente depuis bien longtemps dans nos iPhone, nos iPad et même nos Mac – à condition d’avoir activé au préalable « <a href=\"https://www.apple.com/fr/icloud/find-my-iphone.html\">Localiser mon [iPhone/iPad/Mac]</a> » (<a href=\"https://itunes.apple.com/fr/app/localiser-mon-iphone/id376101648?mt=8\">L’appli sur l’App Store</a>).</p>\n\n<p><a href=\"http://www.macrumors.com/2015/05/13/apple-watch-no-activation-lock/\">Dans leur article</a>, MacRumors souligne qu’il existe bel et bien une protection par mot de passe de la montre. Il s’agit de taper une suite de chiffre lorsque la montre est ôtée du poignet. Toutefois, cette option ne protège que les données de l’utilisateur, elle ne protège pas la montrer en elle-même. Ainsi une simple réinitialisation de l’appareil permettrait de disposer d’une montre pleinement utilisable.</p>\n\n<p><div class=\"wp-caption aligncenter\" style=\"width: 664px\"><img src=\"https://techan.fr/images/2015/05/applewatchpasscode3.jpg\" alt=\"Accrochez vous bien à votre Apple Watch\" title=\"\" />La protection par mot de passe de l’Apple Watch. <br />\n Crédit : <a href=\"http://www.macrumors.com/\">http://www.macrumors.com/</a></p>\n\n<p></div> </p>\n\n<p>MacRumors donne même la procédure pour « nettoyer » la montre, il suffit d’appuyer sur le bouton vers le bas et d’appuyer fort sur l’écran pour voir apparaître l’écran de réinitialisation de la montre – image de droite.</p>\n\n<p>La fonctionnalité « Localiser mon iPhone » est également pratique pour faire sonner l’iPhone ou l’iPad, depuis un autre appareil ou directement depuis <a href=\"https://www.icloud.com/\">iCloud.com,</a> lorsque l’on ne sait plus où on l’a posé … Aillant une assez mauvaise mémoire je dois avouer que je me sers fréquemment de cela pour remettre la main sur un de mes iBidules. Vu la taille de l’Apple Watch, on pourrait penser que cette fonctionnalité puisse être utile à pas mal de personnes …</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1396\" style=\"width: 550px\"><a href=\"https://techan.fr/images/2015/05/screenshot.480.jpg\"><img src=\"https://techan.fr/images/2015/05/screenshot.480.jpg\" alt=\"Accrochez vous bien à votre Apple Watch\" title=\"\" /></a>Faire sonner un iBidule depuis <a href=\"https://www.icloud.com/#find\">iCloud.com</a></p>\n\n<p></div> </p>\n\n<p>Selon la source de MacRumors – <a href=\"http://www.idownloadblog.com/2015/05/13/the-apple-watch-thieves-reset-no-activation-lock-security/\">www.idownloadblog.com</a> – Apple aurait prévu d’ajouter de nouvelles mesures de sécurité dans une prochaine version de Watch OS. En attendant, surveillez votre poignet et accrochez-vous bien à votre Apple Watch !</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Source :</span></strong><a href=\"http://www.macrumors.com/2015/05/13/apple-watch-no-activation-lock/\">L’article sur MacRumors</a></p>","image":"http://blog.techan.fr/images/2015/05/screenshot.479.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-05-15T10:39:08.000Z","created_by":1,"updated_at":"2015-05-15T10:46:58.000Z","updated_by":1,"published_at":"2015-05-15T10:39:08.000Z","published_by":1},{"id":134,"uuid":"00571b5e-4a2b-44ce-9fe1-00fda05d0ba1","title":"Toujours plus de puissance avec OneNote","slug":"toujours-plus-de-puissance-avec-onenote","markdown":"\n[OneNote](http://www.onenote.com/) est une excellent outil proposé par Microsoft, il permet la prise de note. Les notes sont organisées en Bloc-notes, Sections et Pages. OneDrive est complètement intégré dans la version 2013 ce qui simplifie encore plus le partage de bloc-notes entre différentes personnes. Autres points à prendre en compte c’est que cet outil peut être utilisé de manière gratuite, de plus l’application est disponible pour Windows – normal -, OS X, iOS et Android !\n\nC’est un outil qui a su s’imposer dans mes habitudes de travail ainsi que dans ma vie personnelle. Je l’utilise notamment pour m’aider à organiser mon déménagement et les travaux dans mon nouvel appartement.\n\n \n\n\n## Copier le texte contenu dans une image\n\nLa force de cet outil sont les nouvelles fonctionnalités qui arrivent régulièrement le compléter. La toute première que j’ai utilisée – et appréciée – c’est d’avoir la possibilité de copier le texte contenu dans une image, c’est tout bonnement <span style=\"text-decoration: underline;\">génial</span> !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1406\" style=\"width: 664px\">[![Toujours plus de puissance avec OneNote](https://techan.fr/images/2015/05/screenshot.483.jpg)](https://techan.fr/images/2015/05/screenshot.483.jpg)Un clic droit sur une image insérée dans une note permet d’en copier le texte.\n\n</div> \n\nOn colle ensuite le texte ou l’on veut – en corrigeant les quelques fautes qui s’y sont glissées – et on peut gagner pas mal de temps !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1407\" style=\"width: 664px\">[![Toujours plus de puissance avec OneNote](https://techan.fr/images/2015/05/screenshot.484.jpg)](https://techan.fr/images/2015/05/screenshot.484.jpg)Il ne reste plus qu’à coller et le tour est joué !\n\n</div> \n\n\n## Les toutes dernières nouveautés !\n\nHier Microsoft a publié une nouvelle version de OneNote, elle inclue deux toutes nouvelles fonctionnalités. L’application permet maintenant de rechercher du contenu[ dans du texte manuscrit](http://blogs.office.com/2015/05/14/search-handwritten-notes-and-apple-watch-support-for-onenote/) et [l’enregistrement audio dans OneNote pour Mac](http://blogs.office.com/2015/05/14/audio-recording-comes-to-onenote-for-mac-2/).\n\n \n\nDans la version Windows – je n’ai pas trouvé la même option sur OS X – il est également possible de faire des recherches de contenu à l’intérieur même de ces enregistrements audio et vidéo.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1404\" style=\"width: 664px\">[![Activer la recherche dans les enregistrement audio et vidéo](https://techan.fr/images/2015/05/screenshot.481.jpg)](https://techan.fr/images/2015/05/screenshot.481.jpg)Activer la recherche dans les enregistrements audio et vidéo\n\n</div> \n\n\n","html":"<p><a href=\"http://www.onenote.com/\">OneNote</a> est une excellent outil proposé par Microsoft, il permet la prise de note. Les notes sont organisées en Bloc-notes, Sections et Pages. OneDrive est complètement intégré dans la version 2013 ce qui simplifie encore plus le partage de bloc-notes entre différentes personnes. Autres points à prendre en compte c’est que cet outil peut être utilisé de manière gratuite, de plus l’application est disponible pour Windows – normal -, OS X, iOS et Android !</p>\n\n<p>C’est un outil qui a su s’imposer dans mes habitudes de travail ainsi que dans ma vie personnelle. Je l’utilise notamment pour m’aider à organiser mon déménagement et les travaux dans mon nouvel appartement.</p>\n\n<h2 id=\"copierletextecontenudansuneimage\">Copier le texte contenu dans une image</h2>\n\n<p>La force de cet outil sont les nouvelles fonctionnalités qui arrivent régulièrement le compléter. La toute première que j’ai utilisée – et appréciée – c’est d’avoir la possibilité de copier le texte contenu dans une image, c’est tout bonnement <span style=\"text-decoration: underline;\">génial</span> !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1406\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/05/screenshot.483.jpg\"><img src=\"https://techan.fr/images/2015/05/screenshot.483.jpg\" alt=\"Toujours plus de puissance avec OneNote\" title=\"\" /></a>Un clic droit sur une image insérée dans une note permet d’en copier le texte.</p>\n\n<p></div> </p>\n\n<p>On colle ensuite le texte ou l’on veut – en corrigeant les quelques fautes qui s’y sont glissées – et on peut gagner pas mal de temps !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1407\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/05/screenshot.484.jpg\"><img src=\"https://techan.fr/images/2015/05/screenshot.484.jpg\" alt=\"Toujours plus de puissance avec OneNote\" title=\"\" /></a>Il ne reste plus qu’à coller et le tour est joué !</p>\n\n<p></div> </p>\n\n<h2 id=\"lestoutesderniresnouveauts\">Les toutes dernières nouveautés !</h2>\n\n<p>Hier Microsoft a publié une nouvelle version de OneNote, elle inclue deux toutes nouvelles fonctionnalités. L’application permet maintenant de rechercher du contenu<a href=\"http://blogs.office.com/2015/05/14/search-handwritten-notes-and-apple-watch-support-for-onenote/\"> dans du texte manuscrit</a> et <a href=\"http://blogs.office.com/2015/05/14/audio-recording-comes-to-onenote-for-mac-2/\">l’enregistrement audio dans OneNote pour Mac</a>.</p>\n\n<p>Dans la version Windows – je n’ai pas trouvé la même option sur OS X – il est également possible de faire des recherches de contenu à l’intérieur même de ces enregistrements audio et vidéo.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1404\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/05/screenshot.481.jpg\"><img src=\"https://techan.fr/images/2015/05/screenshot.481.jpg\" alt=\"Activer la recherche dans les enregistrement audio et vidéo\" title=\"\" /></a>Activer la recherche dans les enregistrements audio et vidéo</p>\n\n<p></div> </p>","image":"http://blog.techan.fr/images/2015/05/OneNote-Logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-05-15T14:29:22.000Z","created_by":1,"updated_at":"2015-05-15T12:03:29.000Z","updated_by":1,"published_at":"2015-05-15T14:29:22.000Z","published_by":1},{"id":135,"uuid":"1b5f13a2-49eb-4c45-8ced-509e10f411f5","title":"Installer un serveur OpenVPN sur Ubuntu 15.04","slug":"installer-un-serveur-openvpn-sur-ubuntu-15-04","markdown":"\nParmi les solutions de VPN que l’on peut mettre en place sur Linux, OpenVPN est ma préférée, c’est de plus – selon moi – la plus sécurisante. Le bon vieux PPTP est certes très facile à mettre en place, mais je sais pas, je me sens mieux protégé derrière une connexion sécurisée par OpenVPN, c’est peut être une vue de l’esprit, et vous qu’en pensez-vous ?\n\nVous trouverez en tout cas ci-dessous une procédure pour installer un serveur OpenVPN sur Ubuntu 15.04 – la procédure serait quasiment similaire sur les autres Linux.\n\n \n\n\n## Création des certificats\n\nOpenVPN utilise des certificats pour sécuriser le tunnel qu’il met en place, il faut donc créer un certificat pour le serveur mais également, un certificat par utilisateur qui va se connecter au VPN. On peut augmenter le niveau de sécurité en demandant aux utilisateur un mot de passe en plus du certificat qui leur a été attribué – je n’ai pas documenté cette partie dans là dans cet article.\n\n#### Le certificat serveur\n\nPremière étape, créer le certificat pour le serveur OpenVPN, pour cela, on va tout d’abord installer les paquets nécessaires à OpenVPN et à sa configuration.\n\nroot@xxxx:~# apt-get install openvpn easy-rsa Reading package lists... Done Building dependency tree Reading state information... Done openvpn is already the newest version. The following packages were automatically installed and are no longer required: linux-headers-3.16.0-33 linux-headers-3.16.0-33-generic linux-image-3.16.0-33-generic linux-image-extra-3.16.0-33-generic Use 'apt-get autoremove' to remove them. The following extra packages will be installed: libccid libpcsclite1 opensc pcscd Suggested packages: pcmciautils The following NEW packages will be installed: easy-rsa libccid libpcsclite1 opensc pcscd 0 upgraded, 5 newly installed, 0 to remove and 0 not upgraded. Need to get 970 kB of archives. After this operation, 3,402 kB of additional disk space will be used. Do you want to continue? [Y/n]\n\nMaintenant que l’on dispose de tous les outils, nous allons créer le fameux certificat serveur, pour cela préparons « easy-rsa ».\n\nroot@xxxx:~# mkdir /etc/openvpn/easy-rsa/ root@xxxx:~# cp -r /usr/share/easy-rsa/* /etc/openvpn/easy-rsa/\n\nOn édite le fichier contenant les variables utilisées par « easy-rsa », cela va nous faire gagner un temps précieux.\n\nroot@xxxx:~# vi /etc/openvpn/easy-rsa/vars\n\nRemplacer les valeurs suivantes dans le fichier par les informations qui correspondent à votre serveur.\n\nexport KEY_COUNTRY=\"FRANCE\" export KEY_PROVINCE=\"FR\" export KEY_CITY=\"Lyon\" export KEY_ORG=\"Example Company\" export KEY_EMAIL=\"email@example.com\" export KEY_CN=MyVPN export KEY_NAME=MyVPN export KEY_OU=MyVPN\n\nOn source ensuite ce fichier, puis on construit le certificat « root » et sa clef.\n\nroot@xxxx:/etc/openvpn/easy-rsa# . vars root@xxxx:/etc/openvpn/easy-rsa# ./build-ca error on line 198 of [/etc/openvpn/easy-rsa/openssl-1.0.0.cnf](http://etc/openvpn/easy-rsa/openssl-1.0.0.cnf) 139708269794976:error:0E065068:configuration file routines:STR_COPY:variable has no value:conf_def.c:618:line 198\n\nSi vous rencontrez cette erreur lors de la génération du certificat, éditez de nouveau le fichier « vars ».\n\nroot@xxxx:/etc/openvpn/easy-rsa# vi vars\n\nAjoutez la ligne suivante à la fin du fichier et relancer la génération du certificat, cela devrait fonctionner.\n\nexport KEY_ALTNAMES=$KEY_EMAIL\n\nOn peut désormais générer le certificat.\n\nroot@xxxx:/etc/openvpn/easy-rsa# cd /etc/openvpn/easy-rsa/ root@xxxx:/etc/openvpn/easy-rsa# mkdir -p keys root@xxxx:/etc/openvpn/easy-rsa# ./clean-all root@xxxx:/etc/openvpn/easy-rsa# source ./vars NOTE: If you run ./clean-all, I will be doing a rm -rf on /etc/openvpn/easy-rsa/keys root@xxxx:/etc/openvpn/easy-rsa# ./clean-all root@xxxx:/etc/openvpn/easy-rsa# ./build-ca Generating a 2048 bit RSA private key …………+++ ……………+++ writing new private key to ‘ca.key’ —— You are about to be asked to enter information that will be incorporated into your certificate request. What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blank For some fields there will be a default value, If you enter ‘.’, the field will be left blank. —— Country Name (2 letter code) [FRANCE]:FR State or Province Name (full name) [FR]:France Locality Name (eg, city) [Lyon]:Lyon Organization Name (eg, company) [Example Company]: Organizational Unit Name (eg, section) [MyVPN]: Common Name (eg, your name or your server’s hostname) [MyVPN]:serveur.fr Name [EasyRSA]:MyVPN Email Address [email@example.com]:\n\nMaintenant que le serveur « root » est créé, on génère le certificat propre au serveur.\n\nroot@xxxx:/etc/openvpn/easy-rsa# ./build-key-server serveur.fr Generating a 2048 bit RSA private key ……………………+++ ……………………+++ writing new private key to ‘serveur.fr.key’ —— You are about to be asked to enter information that will be incorporated into your certificate request. What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blank For some fields there will be a default value, If you enter ‘.’, the field will be left blank. —— Country Name (2 letter code) [FRANCE]:FR State or Province Name (full name) [FR]:France Locality Name (eg, city) [Lyon]: Organization Name (eg, company) [Example Company]: Organizational Unit Name (eg, section) [MyVPN]: Common Name (eg, your name or your server’s hostname) [serveur.fr]: Name [EasyRSA]:MyVPN Email Address [email@exmaple.com]: Please enter the following ‘extra’ attributes to be sent with your certificate request A challenge password []: An optional company name []: Using configuration from /etc/openvpn/easy-rsa/openssl-1.0.0.cnf Check that the request matches the signature Signature ok The Subject’s Distinguished Name is as follows countryName :PRINTABLE:’FR’ stateOrProvinceName :PRINTABLE:’France’ localityName :PRINTABLE:’Lyon’ organizationName :PRINTABLE:’Example Company’ organizationalUnitName:PRINTABLE:’MyVPN’ commonName :PRINTABLE:’serveur.fr’ name :PRINTABLE:’MyVPN’ emailAddress :IA5STRING:’email@exmaple.com’ Certificate is to be certified until May 2 09:39:31 2025 GMT (3650 days) Sign the certificate? [y/n]:y 1 out of 1 certificate requests certified, commit? [y/n]y Write out database with 1 new entries Data Base Updated\n\nOn génère la clef Diffie-Hellman, c’est un peu long car nous demandons une clef d’une longueur de 2048 bits.\n\nroot@xxxx:/etc/openvpn/easy-rsa# ./build-dh Generating DH parameters, 2048 bit long safe prime, generator 2 This is going to take a long time ...+...........................................+............+...........................................................................................................................................................................................................+.+.......................................................................................................................................................................................................................................................................................................................................................................................................................................................+.....................................+...........................+...............................................................................................................................................................................................................................................................................................................................................................................................................................................................+.........+...........+...................................................................+.......................+.......+...............+..........................................................................................................................................................................................................................................................+............................................................................................................................+.+............+.................+....................................................................................................................................................+....................................+........................................................................................................................................................................+......................................................................................................................+........................................................................................................\n\nCopions les clefs générées dans le dossier de configuration d’OpenVPN.\n\nroot@xxxx:/etc/openvpn/easy-rsa# cd keys root@xxxx:/etc/openvpn/easy-rsa/keys# cp serveur.fr.crt serveur.fr.key ca.crt dh2048.pem /etc/openvpn/\n\n \n\n#### Le certificat client\n\nCréons le dernier certificat, celui du client. Dans cet exemple, je vais en créer un pour ma Freebox – qui dispose d’un client OpenVPN intégré.\n\nroot@xxxx:/etc/openvpn/easy-rsa/keys# cd /etc/openvpn/easy-rsa/ root@xxxx:/etc/openvpn/easy-rsa# source vars NOTE: If you run ./clean-all, I will be doing a rm -rf on /etc/openvpn/easy-rsa/keys root@xxxx:/etc/openvpn/easy-rsa# ./build-key freebox Generating a 2048 bit RSA private key …………………………………..+++ ………………………………………..+++ writing new private key to ‘freebox.key’ —— You are about to be asked to enter information that will be incorporated into your certificate request. What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blank For some fields there will be a default value, If you enter ‘.’, the field will be left blank. —— Country Name (2 letter code) [FRANCE]:FR State or Province Name (full name) [FR]:France Locality Name (eg, city) [Lyon]: Organization Name (eg, company) [Example Company]: Organizational Unit Name (eg, section) [MyVPN]: Common Name (eg, your name or your server’s hostname) [freebox]: Name [EasyRSA]:MyVPN Email Address [email@exmaple.com]: Please enter the following ‘extra’ attributes to be sent with your certificate request A challenge password []: An optional company name []: Using configuration from /etc/openvpn/easy-rsa/openssl-1.0.0.cnf Check that the request matches the signature Signature ok The Subject’s Distinguished Name is as follows countryName :PRINTABLE:’FR’ stateOrProvinceName :PRINTABLE:’France’ localityName :PRINTABLE:’Lyon’ organizationName :PRINTABLE:’Example Company’ organizationalUnitName:PRINTABLE:’MyVPN’ commonName :PRINTABLE:’freebox’ name :PRINTABLE:’MyVPN’ emailAddress :IA5STRING:’email@exmaple.com’ Certificate is to be certified until May 2 09:59:24 2025 GMT (3650 days) Sign the certificate? [y/n]:y 1 out of 1 certificate requests certified, commit? [y/n]y Write out database with 1 new entries Data Base Updated\n\n \n\nOn crée une petite archive avec tous les fichiers nécessaires au client pour établir la connexion avec notre tout nouveau serveur OpenVPN.\n\n \n\nroot@xxxx:/etc/openvpn/easy-rsa# zip freebox.zip /etc/openvpn/ca.crt /etc/openvpn/easy-rsa/keys/freebox.crt /etc/openvpn/easy-rsa/keys/freebox.key /usr/share/doc/openvpn/examples/sample-config-files/client.conf adding: etc/openvpn/ca.crt (deflated 37%) adding: etc/openvpn/easy-rsa/keys/freebox.crt (deflated 47%) adding: etc/openvpn/easy-rsa/keys/freebox.key (deflated 23%) adding: usr/share/doc/openvpn/examples/sample-config-files/client.conf (deflated 54%)\n\n \n\n\n## La configuration d’OpenVPN\n\nPassons au dernier point, la configuration !\n\n#### Configurons le serveur\n\nOn copie le fichier e configuration par défaut dans le dossier openvpn.\n\nroot@xxxx:/etc/openvpn/easy-rsa# sudo cp /usr/share/doc/openvpn/examples/sample-config-files/server.conf.gz /etc/openvpn/ root@nefarian:/etc/openvpn/easy-rsa# sudo gzip -d /etc/openvpn/server.conf.gz\n\nOn édite ce fichier afin de régler quelques options.\n\nroot@xxxx:/etc/openvpn/easy-rsa# vi /etc/openvpn/server.conf\n\nModifier le nom du fichier de clef Difiie-Hellman pour qu’il corresponde à celui qu’on a généré plus haut.\n\n# Diffie hellman parameters. # Generate your own with: # openssl dhparam -out dh1024.pem 1024 # Substitute 2048 for 1024 if you are using # 2048 bit keys. ;dh dh1024.pem dh dh2048.pem\n\nDe même pour les fichiers de certificats, vérifiez en fonction des noms qu’ont vos fichiers.\n\n# Any X509 key management system can be used. # OpenVPN can also use a PKCS #12 formatted key file # (see \"pkcs12\" directive in man page). ca ca.crt ;cert server.crt ;key server.key # This file should be kept secret cert serveur.fr.crt key serveur.fr.key # This file should be kept secret\n\nC’est l’heure de vérité, on redémarre le dament OpenVPN afin qu’il intègre notre nouvelle configuration.\n\nroot@xxxx:/etc/openvpn/easy-rsa# service openvpn restart * Stopping virtual private network daemon(s)... * No VPN is running. * Starting virtual private network daemon(s)... * Autostarting VPN 'server'\n\nOn peut également vérifier que l’interface « tune » est bien apparue sur le système.\n\nroot@xxxx:/etc/openvpn/easy-rsa# ifconfig [...] tun0 Link encap:UNSPEC HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00 inet addr:10.8.0.1 P-t-P:10.8.0.2 Mask:255.255.255.255 UP POINTOPOINT RUNNING NOARP MULTICAST MTU:1500 Metric:1 RX packets:0 errors:0 dropped:0 overruns:0 frame:0 TX packets:0 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:100 RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)\n\n \n\n\n","html":"<p>Parmi les solutions de VPN que l’on peut mettre en place sur Linux, OpenVPN est ma préférée, c’est de plus – selon moi – la plus sécurisante. Le bon vieux PPTP est certes très facile à mettre en place, mais je sais pas, je me sens mieux protégé derrière une connexion sécurisée par OpenVPN, c’est peut être une vue de l’esprit, et vous qu’en pensez-vous ?</p>\n\n<p>Vous trouverez en tout cas ci-dessous une procédure pour installer un serveur OpenVPN sur Ubuntu 15.04 – la procédure serait quasiment similaire sur les autres Linux.</p>\n\n<h2 id=\"crationdescertificats\">Création des certificats</h2>\n\n<p>OpenVPN utilise des certificats pour sécuriser le tunnel qu’il met en place, il faut donc créer un certificat pour le serveur mais également, un certificat par utilisateur qui va se connecter au VPN. On peut augmenter le niveau de sécurité en demandant aux utilisateur un mot de passe en plus du certificat qui leur a été attribué – je n’ai pas documenté cette partie dans là dans cet article.</p>\n\n<h4 id=\"lecertificatserveur\">Le certificat serveur</h4>\n\n<p>Première étape, créer le certificat pour le serveur OpenVPN, pour cela, on va tout d’abord installer les paquets nécessaires à OpenVPN et à sa configuration.</p>\n\n<p>root@xxxx:~# apt-get install openvpn easy-rsa Reading package lists... Done Building dependency tree Reading state information... Done openvpn is already the newest version. The following packages were automatically installed and are no longer required: linux-headers-3.16.0-33 linux-headers-3.16.0-33-generic linux-image-3.16.0-33-generic linux-image-extra-3.16.0-33-generic Use 'apt-get autoremove' to remove them. The following extra packages will be installed: libccid libpcsclite1 opensc pcscd Suggested packages: pcmciautils The following NEW packages will be installed: easy-rsa libccid libpcsclite1 opensc pcscd 0 upgraded, 5 newly installed, 0 to remove and 0 not upgraded. Need to get 970 kB of archives. After this operation, 3,402 kB of additional disk space will be used. Do you want to continue? [Y/n]</p>\n\n<p>Maintenant que l’on dispose de tous les outils, nous allons créer le fameux certificat serveur, pour cela préparons « easy-rsa ».</p>\n\n<p>root@xxxx:~# mkdir /etc/openvpn/easy-rsa/ root@xxxx:~# cp -r /usr/share/easy-rsa/* /etc/openvpn/easy-rsa/</p>\n\n<p>On édite le fichier contenant les variables utilisées par « easy-rsa », cela va nous faire gagner un temps précieux.</p>\n\n<p>root@xxxx:~# vi /etc/openvpn/easy-rsa/vars</p>\n\n<p>Remplacer les valeurs suivantes dans le fichier par les informations qui correspondent à votre serveur.</p>\n\n<p>export KEY<em>COUNTRY=\"FRANCE\" export KEY</em>PROVINCE=\"FR\" export KEY<em>CITY=\"Lyon\" export KEY</em>ORG=\"Example Company\" export KEY<em>EMAIL=\"email@example.com\" export KEY</em>CN=MyVPN export KEY<em>NAME=MyVPN export KEY</em>OU=MyVPN</p>\n\n<p>On source ensuite ce fichier, puis on construit le certificat « root » et sa clef.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# . vars root@xxxx:/etc/openvpn/easy-rsa# ./build-ca error on line 198 of <a href=\"http://etc/openvpn/easy-rsa/openssl-1.0.0.cnf\">/etc/openvpn/easy-rsa/openssl-1.0.0.cnf</a> 139708269794976:error:0E065068:configuration file routines:STR<em>COPY:variable has no value:conf</em>def.c:618:line 198</p>\n\n<p>Si vous rencontrez cette erreur lors de la génération du certificat, éditez de nouveau le fichier « vars ».</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# vi vars</p>\n\n<p>Ajoutez la ligne suivante à la fin du fichier et relancer la génération du certificat, cela devrait fonctionner.</p>\n\n<p>export KEY<em>ALTNAMES=$KEY</em>EMAIL</p>\n\n<p>On peut désormais générer le certificat.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# cd /etc/openvpn/easy-rsa/ root@xxxx:/etc/openvpn/easy-rsa# mkdir -p keys root@xxxx:/etc/openvpn/easy-rsa# ./clean-all root@xxxx:/etc/openvpn/easy-rsa# source ./vars NOTE: If you run ./clean-all, I will be doing a rm -rf on /etc/openvpn/easy-rsa/keys root@xxxx:/etc/openvpn/easy-rsa# ./clean-all root@xxxx:/etc/openvpn/easy-rsa# ./build-ca Generating a 2048 bit RSA private key …………+++ ……………+++ writing new private key to ‘ca.key’ —— You are about to be asked to enter information that will be incorporated into your certificate request. What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blank For some fields there will be a default value, If you enter ‘.’, the field will be left blank. —— Country Name (2 letter code) [FRANCE]:FR State or Province Name (full name) [FR]:France Locality Name (eg, city) [Lyon]:Lyon Organization Name (eg, company) [Example Company]: Organizational Unit Name (eg, section) [MyVPN]: Common Name (eg, your name or your server’s hostname) [MyVPN]:serveur.fr Name [EasyRSA]:MyVPN Email Address [email@example.com]:</p>\n\n<p>Maintenant que le serveur « root » est créé, on génère le certificat propre au serveur.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# ./build-key-server serveur.fr Generating a 2048 bit RSA private key ……………………+++ ……………………+++ writing new private key to ‘serveur.fr.key’ —— You are about to be asked to enter information that will be incorporated into your certificate request. What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blank For some fields there will be a default value, If you enter ‘.’, the field will be left blank. —— Country Name (2 letter code) [FRANCE]:FR State or Province Name (full name) [FR]:France Locality Name (eg, city) [Lyon]: Organization Name (eg, company) [Example Company]: Organizational Unit Name (eg, section) [MyVPN]: Common Name (eg, your name or your server’s hostname) [serveur.fr]: Name [EasyRSA]:MyVPN Email Address [email@exmaple.com]: Please enter the following ‘extra’ attributes to be sent with your certificate request A challenge password []: An optional company name []: Using configuration from /etc/openvpn/easy-rsa/openssl-1.0.0.cnf Check that the request matches the signature Signature ok The Subject’s Distinguished Name is as follows countryName :PRINTABLE:’FR’ stateOrProvinceName :PRINTABLE:’France’ localityName :PRINTABLE:’Lyon’ organizationName :PRINTABLE:’Example Company’ organizationalUnitName:PRINTABLE:’MyVPN’ commonName :PRINTABLE:’serveur.fr’ name :PRINTABLE:’MyVPN’ emailAddress :IA5STRING:’email@exmaple.com’ Certificate is to be certified until May 2 09:39:31 2025 GMT (3650 days) Sign the certificate? [y/n]:y 1 out of 1 certificate requests certified, commit? [y/n]y Write out database with 1 new entries Data Base Updated</p>\n\n<p>On génère la clef Diffie-Hellman, c’est un peu long car nous demandons une clef d’une longueur de 2048 bits.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# ./build-dh Generating DH parameters, 2048 bit long safe prime, generator 2 This is going to take a long time ...+...........................................+............+...........................................................................................................................................................................................................+.+.......................................................................................................................................................................................................................................................................................................................................................................................................................................................+.....................................+...........................+...............................................................................................................................................................................................................................................................................................................................................................................................................................................................+.........+...........+...................................................................+.......................+.......+...............+..........................................................................................................................................................................................................................................................+............................................................................................................................+.+............+.................+....................................................................................................................................................+....................................+........................................................................................................................................................................+......................................................................................................................+........................................................................................................</p>\n\n<p>Copions les clefs générées dans le dossier de configuration d’OpenVPN.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# cd keys root@xxxx:/etc/openvpn/easy-rsa/keys# cp serveur.fr.crt serveur.fr.key ca.crt dh2048.pem /etc/openvpn/</p>\n\n<h4 id=\"lecertificatclient\">Le certificat client</h4>\n\n<p>Créons le dernier certificat, celui du client. Dans cet exemple, je vais en créer un pour ma Freebox – qui dispose d’un client OpenVPN intégré.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa/keys# cd /etc/openvpn/easy-rsa/ root@xxxx:/etc/openvpn/easy-rsa# source vars NOTE: If you run ./clean-all, I will be doing a rm -rf on /etc/openvpn/easy-rsa/keys root@xxxx:/etc/openvpn/easy-rsa# ./build-key freebox Generating a 2048 bit RSA private key …………………………………..+++ ………………………………………..+++ writing new private key to ‘freebox.key’ —— You are about to be asked to enter information that will be incorporated into your certificate request. What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blank For some fields there will be a default value, If you enter ‘.’, the field will be left blank. —— Country Name (2 letter code) [FRANCE]:FR State or Province Name (full name) [FR]:France Locality Name (eg, city) [Lyon]: Organization Name (eg, company) [Example Company]: Organizational Unit Name (eg, section) [MyVPN]: Common Name (eg, your name or your server’s hostname) [freebox]: Name [EasyRSA]:MyVPN Email Address [email@exmaple.com]: Please enter the following ‘extra’ attributes to be sent with your certificate request A challenge password []: An optional company name []: Using configuration from /etc/openvpn/easy-rsa/openssl-1.0.0.cnf Check that the request matches the signature Signature ok The Subject’s Distinguished Name is as follows countryName :PRINTABLE:’FR’ stateOrProvinceName :PRINTABLE:’France’ localityName :PRINTABLE:’Lyon’ organizationName :PRINTABLE:’Example Company’ organizationalUnitName:PRINTABLE:’MyVPN’ commonName :PRINTABLE:’freebox’ name :PRINTABLE:’MyVPN’ emailAddress :IA5STRING:’email@exmaple.com’ Certificate is to be certified until May 2 09:59:24 2025 GMT (3650 days) Sign the certificate? [y/n]:y 1 out of 1 certificate requests certified, commit? [y/n]y Write out database with 1 new entries Data Base Updated</p>\n\n<p>On crée une petite archive avec tous les fichiers nécessaires au client pour établir la connexion avec notre tout nouveau serveur OpenVPN.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# zip freebox.zip /etc/openvpn/ca.crt /etc/openvpn/easy-rsa/keys/freebox.crt /etc/openvpn/easy-rsa/keys/freebox.key /usr/share/doc/openvpn/examples/sample-config-files/client.conf adding: etc/openvpn/ca.crt (deflated 37%) adding: etc/openvpn/easy-rsa/keys/freebox.crt (deflated 47%) adding: etc/openvpn/easy-rsa/keys/freebox.key (deflated 23%) adding: usr/share/doc/openvpn/examples/sample-config-files/client.conf (deflated 54%)</p>\n\n<h2 id=\"laconfigurationdopenvpn\">La configuration d’OpenVPN</h2>\n\n<p>Passons au dernier point, la configuration !</p>\n\n<h4 id=\"configuronsleserveur\">Configurons le serveur</h4>\n\n<p>On copie le fichier e configuration par défaut dans le dossier openvpn.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# sudo cp /usr/share/doc/openvpn/examples/sample-config-files/server.conf.gz /etc/openvpn/ root@nefarian:/etc/openvpn/easy-rsa# sudo gzip -d /etc/openvpn/server.conf.gz</p>\n\n<p>On édite ce fichier afin de régler quelques options.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# vi /etc/openvpn/server.conf</p>\n\n<p>Modifier le nom du fichier de clef Difiie-Hellman pour qu’il corresponde à celui qu’on a généré plus haut.</p>\n\n<h1 id=\"diffiehellmanparametersgenerateyourownwithopenssldhparamoutdh1024pem1024substitute2048for1024ifyouareusing2048bitkeysdhdh1024pemdhdh2048pem\">Diffie hellman parameters. # Generate your own with: # openssl dhparam -out dh1024.pem 1024 # Substitute 2048 for 1024 if you are using # 2048 bit keys. ;dh dh1024.pem dh dh2048.pem</h1>\n\n<p>De même pour les fichiers de certificats, vérifiez en fonction des noms qu’ont vos fichiers.</p>\n\n<h1 id=\"anyx509keymanagementsystemcanbeusedopenvpncanalsouseapkcs12formattedkeyfileseepkcs12directiveinmanpagecacacrtcertservercrtkeyserverkeythisfileshouldbekeptsecretcertserveurfrcrtkeyserveurfrkeythisfileshouldbekeptsecret\">Any X509 key management system can be used. # OpenVPN can also use a PKCS #12 formatted key file # (see \"pkcs12\" directive in man page). ca ca.crt ;cert server.crt ;key server.key # This file should be kept secret cert serveur.fr.crt key serveur.fr.key # This file should be kept secret</h1>\n\n<p>C’est l’heure de vérité, on redémarre le dament OpenVPN afin qu’il intègre notre nouvelle configuration.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# service openvpn restart * Stopping virtual private network daemon(s)... * No VPN is running. * Starting virtual private network daemon(s)... * Autostarting VPN 'server'</p>\n\n<p>On peut également vérifier que l’interface « tune » est bien apparue sur le système.</p>\n\n<p>root@xxxx:/etc/openvpn/easy-rsa# ifconfig [...] tun0 Link encap:UNSPEC HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00 inet addr:10.8.0.1 P-t-P:10.8.0.2 Mask:255.255.255.255 UP POINTOPOINT RUNNING NOARP MULTICAST MTU:1500 Metric:1 RX packets:0 errors:0 dropped:0 overruns:0 frame:0 TX packets:0 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:100 RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)</p>","image":"http://blog.techan.fr/images/2015/05/openvpntech_logo1.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-05-17T09:35:24.000Z","created_by":1,"updated_at":"2015-05-17T09:35:24.000Z","updated_by":1,"published_at":"2015-05-17T09:35:24.000Z","published_by":1},{"id":136,"uuid":"9a4e2943-716a-4088-afcd-9dc1dbc23951","title":"Archive des sondages","slug":"yop-poll-archive","markdown":"\nDésolé, il n’y a pas de sondages archivés …\n\n\n","html":"<p>Désolé, il n’y a pas de sondages archivés …</p>","image":null,"featured":0,"page":1,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-05-18T22:34:35.000Z","created_by":1,"updated_at":"2015-05-18T22:34:35.000Z","updated_by":1,"published_at":"2015-05-18T22:34:35.000Z","published_by":1},{"id":137,"uuid":"8f5bce79-28e9-4291-affa-e60aea3b2ec1","title":"Cloner les tables","slug":"temp-slug-135","markdown":"\n[oracle@sl-0-vdb3 dbs](SIFI)$ sqlplus\n\nSQL*Plus: Release 11.2.0.4.0 Production on Tue Jun 16 17:12:53 2015\n\nCopyright (c) 1982, 2013, Oracle.  All rights reserved.\n\nEnter user-name: /as sysdba\n\nConnecte a :  \n Oracle Database 11g Release 11.2.0.4.0 – 64bit Production\n\nSQL> select tablespace_name from dba_tablespaces ;\n\nTABLESPACE_NAME  \n ——————————  \n SYSTEM  \n SYSAUX  \n UNDOTBS1  \n TEMP  \n USERS  \n HOLDINGS_TS  \n DWH  \n DWH_BITMAPS  \n COMPOSER_DATA  \n COMPOSER_INDEX  \n COMPOSER_LOB\n\nTABLESPACE_NAME  \n ——————————  \n SENTINEL_DATA  \n SENTINEL_INDEX  \n SENTINEL_LOB  \n DBMASTER_SHAM  \n CMS_SHAM  \n DATAMART_SHAM  \n SHAM  \n SHAM_DEMO  \n BO_SHAM  \n SUITFI_SHAM\n\n21 ligne(s) selectionnee(s).\n\nSQL> qset lines 500 pages 1000  \n SP2-0734: commande inconnue au debut de « qset lines… » – le reste de la ligne est ignore.  \n SQL> set lines 500 pages 1000  \n SQL> r  \n 1* select tablespace_name from dba_tablespaces\n\nTABLESPACE_NAME  \n ——————————  \n SYSTEM  \n SYSAUX  \n UNDOTBS1  \n TEMP  \n USERS  \n HOLDINGS_TS  \n DWH  \n DWH_BITMAPS  \n COMPOSER_DATA  \n COMPOSER_INDEX  \n COMPOSER_LOB  \n SENTINEL_DATA  \n SENTINEL_INDEX  \n SENTINEL_LOB  \n DBMASTER_SHAM  \n CMS_SHAM  \n DATAMART_SHAM  \n SHAM  \n SHAM_DEMO  \n BO_SHAM  \n SUITFI_SHAM\n\n21 ligne(s) selectionnee(s).\n\nSQL> select ‘select dbms_metadata.get_ddl( »TABLESPACE », »’||TABLESPACE_NAME|| »’) from dual;’ from dba_tablespaces where TABLESPACE_NAME not in (‘SYSTEM’,’SYSAUX’,’UNDOTBS1′,’TEMP’,’USERS’) ;\n\n‘SELECTDBMS_METADATA.GET_DDL( »TABLESPACE », »’||TABLESPACE_NAME|| »’)FROMDUAL;’  \n ———————————————————————————————————————————————————————————————-  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’HOLDINGS_TS’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’DWH’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’DWH_BITMAPS’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’COMPOSER_DATA’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’COMPOSER_INDEX’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’COMPOSER_LOB’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’SENTINEL_DATA’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’SENTINEL_INDEX’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’SENTINEL_LOB’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’DBMASTER_SHAM’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’CMS_SHAM’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’DATAMART_SHAM’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’SHAM’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’SHAM_DEMO’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’BO_SHAM’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’SUITFI_SHAM’) from dual;\n\n16 ligne(s) selectionnee(s).\n\nSQL> set long 999999999  \n SQL> spool /tmp/tablespaces.sql  \n SQL> select dbms_metadata.get_ddl(‘TABLESPACE’,’HOLDINGS_TS’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’DWH’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’DWH_BITMAPS’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’COMPOSER_DATA’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’COMPOSER_INDEX’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’COMPOSER_LOB’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’SENTINEL_DATA’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’SENTINEL_INDEX’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’SENTINEL_LOB’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’DBMASTER_SHAM’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’CMS_SHAM’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’DATAMART_SHAM’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’SHAM’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’SHAM_DEMO’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’BO_SHAM’) from dual;  \n select dbms_metadata.get_ddl(‘TABLESPACE’,’SUITFI_SHAM’) from dual;\n\nDBMS_METADATA.GET_DDL(‘TABLESPACE’,’HOLDINGS_TS’)  \n ——————————————————————————–\n\nCREATE BIGFILE TABLESPACE « HOLDINGS_TS » DATAFILE  \n ‘/u02/oradata/SIFI/holdings.dbf’ SIZE 134217728  \n AUTOEXTEND ON NEXT 16777216 MAXSIZE 33554431M  \n NOLOGGING ONLINE PERMANENT BLOCKSIZE 8192  \n EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT  \n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO  \n ALTER DATABASE DATAFILE  \n ‘/u02/oradata/SIFI/holdings.dbf’ RESIZE 1677721600\n\nSQL>  \n DBMS_METADATA.GET_DDL(‘TABLESPACE’,’DWH’)  \n ——————————————————————————–\n\nCREATE BIGFILE TABLESPACE « DWH » DATAFILE  \n ‘/u02/oradata/SIFI/dwh.dbf’ SIZE 524288000  \n AUTOEXTEND ON NEXT 1048576 MAXSIZE 33554431M  \n NOLOGGING ONLINE PERMANENT BLOCKSIZE 8192  \n EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT  \n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO  \n ALTER DATABASE DATAFILE  \n ‘/u02/oradata/SIFI/dwh.dbf’ RESIZE 2497708032\n\nSQL>  \n DBMS_METADATA.GET_DDL(‘TABLESPACE’,’DWH_BITMAPS’)  \n ——————————————————————————–\n\nCREATE TABLESPACE « DWH_BITMAPS » DATAFILE  \n ‘/u02/oradata/SIFI/dwh_bitmaps.dbf’ SIZE 209715200  \n AUTOEXTEND ON NEXT 1048576 MAXSIZE 32767M  \n NOLOGGING ONLINE PERMANENT BLOCKSIZE 8192  \n EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT  \n NOCOMPRESS  SEGMENT SPACE MANAGEMENT MANUAL\n\nSQL>  \n DBMS_METADATA.GET_DDL(‘TABLESPACE’,’COMPOSER_DATA’)  \n ——————————————————————————–\n\nCREATE TABLESPACE « COMPOSER_DATA » DATAFILE  \n ‘/u02/oradata/SIFI/composer_data01.dbf’ SIZE 524288000  \n NOLOGGING ONLINE PERMANENT BLOCKSIZE 8192  \n EXTENT MANAGEMENT LOCAL UNIFORM SIZE 524288 DEFAULT  \n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO  \n ALTER DATABASE DATAFILE  \n ‘/u02/oradata/SIFI/composer_data01.dbf’ RESIZE 268435456\n\nSQL>  \n DBMS_METADATA.GET_DDL(‘TABLESPACE’,’COMPOSER_INDEX’)  \n ——————————————————————————–\n\nCREATE TABLESPACE « COMPOSER_INDEX » DATAFILE  \n ‘/u02/oradata/SIFI/composer_index01.dbf’ SIZE 262144000  \n NOLOGGING ONLINE PERMANENT BLOCKSIZE 8192  \n EXTENT MANAGEMENT LOCAL UNIFORM SIZE 262144 DEFAULT  \n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO\n\nSQL>  \n DBMS_METADATA.GET_DDL(‘TABLESPACE’,’COMPOSER_LOB’)  \n ——————————————————————————–\n\nCREATE TABLESPACE « COMPOSER_LOB » DATAFILE  \n ‘/u02/oradata/SIFI/composer_lob01.dbf’ SIZE 262144000  \n NOLOGGING ONLINE PERMANENT BLOCKSIZE 8192  \n EXTENT MANAGEMENT LOCAL UNIFORM SIZE 262144 DEFAULT  \n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO  \n ALTER DATABASE DATAFILE  \n ‘/u02/oradata/SIFI/composer_lob01.dbf’ RESIZE 134217728\n\nSQL>  \n DBMS_METADATA.GET_DDL(‘TABLESPACE’,’SENTINEL_DATA’)  \n ——————————————————————————–\n\nCREATE TABLESPACE « SENTINEL_DATA » DATAFILE  \n ‘/u02/oradata/SIFI/sentinel_data01.dbf’ SIZE 524288000  \n NOLOGGING ONLINE PERMANENT BLOCKSIZE 8192  \n EXTENT MANAGEMENT LOCAL UNIFORM SIZE 524288 DEFAULT  \n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO  \n ALTER DATABASE DATAFILE  \n ‘/u02/oradata/SIFI/sentinel_data01.dbf’ RESIZE 134217728\n\nSQL>  \n DBMS_METADATA.GET_DDL(‘TABLESPACE’,’SENTINEL_INDEX’)  \n ——————————————————————————–\n\nCREATE TABLESPACE « SENTINEL_INDEX » DATAFILE  \n ‘/u02/oradata/SIFI/sentinel_index01.dbf’ SIZE 262144000  \n NOLOGGING ONLINE PERMANENT BLOCKSIZE 8192  \n EXTENT MANAGEMENT LOCAL UNIFORM SIZE 262144 DEFAULT  \n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO  \n ALTER DATABASE DATAFILE  \n ‘/u02/oradata/SIFI/sentinel_index01.dbf’ RESIZE 134217728\n\nSQL>  \n DBMS_METADATA.GET_DDL(‘TABLESPACE’,’SENTINEL_LOB’)  \n ——————————————————————————–\n\nCREATE TABLESPACE « SENTINEL_LOB » DATAFILE  \n ‘/u02/oradata/SIFI/sentinel_lob01.dbf’ SIZE 262144000  \n NOLOGGING ONLINE PERMANENT BLOCKSIZE 8192  \n EXTENT MANAGEMENT LOCAL UNIFORM SIZE 262144 DEFAULT  \n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO  \n ALTER DATABASE DATAFILE  \n ‘/u02/oradata/SIFI/sentinel_lob01.dbf’ RESIZE 134217728\n\nSQL>  \n DBMS_METADATA.GET_DDL(‘TABLESPACE’,’DBMASTER_SHAM’)  \n ——————————————————————————–\n\nCREATE TABLESPACE « DBMASTER_SHAM » DATAFILE  \n ‘/u02/oradata/SIFI/DBMASTER_SHAM.DBF’ SIZE 10485760  \n AUTOEXTEND ON NEXT 134217728 MAXSIZE 32767M  \n LOGGING ONLINE PERMANENT BLOCKSIZE 8192  \n EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT  \n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO  \n ALTER DATABASE DATAFILE  \n ‘/u02/oradata/SIFI/DBMASTER_SHAM.DBF’ RESIZE 1218445312\n\nSQL>  \n DBMS_METADATA.GET_DDL(‘TABLESPACE’,’CMS_SHAM’)  \n ——————————————————————————–\n\nCREATE TABLESPACE « CMS_SHAM » DATAFILE  \n ‘/u02/oradata/SIFI/CMS_SHAM.DBF’ SIZE 10485760  \n AUTOEXTEND ON NEXT 134217728 MAXSIZE 32767M  \n LOGGING ONLINE PERMANENT BLOCKSIZE 8192  \n EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT  \n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO\n\nSQL>  \n DBMS_METADATA.GET_DDL(‘TABLESPACE’,’DATAMART_SHAM’)  \n ——————————————————————————–\n\nCREATE TABLESPACE « DATAMART_SHAM » DATAFILE  \n ‘/u02/oradata/SIFI/DATAMART_SHAM.DBF’ SIZE 10485760  \n AUTOEXTEND ON NEXT 134217728 MAXSIZE 32767M  \n LOGGING ONLINE PERMANENT BLOCKSIZE 8192  \n EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT  \n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO  \n ALTER DATABASE DATAFILE  \n ‘/u02/oradata/SIFI/DATAMART_SHAM.DBF’ RESIZE 144703488\n\nSQL>  \n DBMS_METADATA.GET_DDL(‘TABLESPACE’,’SHAM’)  \n ——————————————————————————–\n\nCREATE TABLESPACE « SHAM » DATAFILE  \n ‘/u02/oradata/SIFI/SHAM.DBF’ SIZE 10485760  \n AUTOEXTEND ON NEXT 134217728 MAXSIZE 32767M,  \n ‘/u02/oradata/SIFI/sham02.dbf’ SIZE 4294967296  \n LOGGING ONLINE PERMANENT BLOCKSIZE 8192  \n EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT  \n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO  \n ALTER DATABASE DATAFILE  \n ‘/u02/oradata/SIFI/SHAM.DBF’ RESIZE 30477910016\n\nSQL>  \n DBMS_METADATA.GET_DDL(‘TABLESPACE’,’SHAM_DEMO’)  \n ——————————————————————————–\n\nCREATE TABLESPACE « SHAM_DEMO » DATAFILE  \n ‘/u02/oradata/SIFI/SHAM_DEMO.DBF’ SIZE 10485760  \n AUTOEXTEND ON NEXT 134217728 MAXSIZE 32767M  \n LOGGING ONLINE PERMANENT BLOCKSIZE 8192  \n EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT  \n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO\n\nSQL>  \n DBMS_METADATA.GET_DDL(‘TABLESPACE’,’BO_SHAM’)  \n ——————————————————————————–\n\nCREATE TABLESPACE « BO_SHAM » DATAFILE  \n ‘/u02/oradata/SIFI/BO_SHAM.DBF’ SIZE 10485760  \n AUTOEXTEND ON NEXT 134217728 MAXSIZE 32767M  \n LOGGING ONLINE PERMANENT BLOCKSIZE 8192  \n EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT  \n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO\n\nSQL>  \n DBMS_METADATA.GET_DDL(‘TABLESPACE’,’SUITFI_SHAM’)  \n ——————————————————————————–\n\nCREATE TABLESPACE « SUITFI_SHAM » DATAFILE  \n ‘/u02/oradata/SIFI/SUITFI_SHAM.DBF’ SIZE 10485760  \n AUTOEXTEND ON NEXT 134217728 MAXSIZE 32767M  \n LOGGING ONLINE PERMANENT BLOCKSIZE 8192  \n EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT  \n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO\n\nSQL> spool off\n\n\n","html":"<p><a href=\"SIFI\">oracle@sl-0-vdb3 dbs</a>$ sqlplus</p>\n\n<p>SQL*Plus: Release 11.2.0.4.0 Production on Tue Jun 16 17:12:53 2015</p>\n\n<p>Copyright (c) 1982, 2013, Oracle.  All rights reserved.</p>\n\n<p>Enter user-name: /as sysdba</p>\n\n<p>Connecte a : <br />\n Oracle Database 11g Release 11.2.0.4.0 – 64bit Production</p>\n\n<p>SQL> select tablespace<em>name from dba</em>tablespaces ;</p>\n\n<p>TABLESPACE<em>NAME <br />\n —————————— <br />\n SYSTEM <br />\n SYSAUX <br />\n UNDOTBS1 <br />\n TEMP <br />\n USERS <br />\n HOLDINGS</em>TS <br />\n DWH <br />\n DWH<em>BITMAPS <br />\n COMPOSER</em>DATA <br />\n COMPOSER<em>INDEX <br />\n COMPOSER</em>LOB</p>\n\n<p>TABLESPACE<em>NAME <br />\n —————————— <br />\n SENTINEL</em>DATA <br />\n SENTINEL<em>INDEX <br />\n SENTINEL</em>LOB <br />\n DBMASTER<em>SHAM <br />\n CMS</em>SHAM <br />\n DATAMART<em>SHAM <br />\n SHAM <br />\n SHAM</em>DEMO <br />\n BO<em>SHAM <br />\n SUITFI</em>SHAM</p>\n\n<p>21 ligne(s) selectionnee(s).</p>\n\n<p>SQL> qset lines 500 pages 1000 <br />\n SP2-0734: commande inconnue au debut de « qset lines… » – le reste de la ligne est ignore. <br />\n SQL> set lines 500 pages 1000 <br />\n SQL> r <br />\n 1* select tablespace<em>name from dba</em>tablespaces</p>\n\n<p>TABLESPACE<em>NAME <br />\n —————————— <br />\n SYSTEM <br />\n SYSAUX <br />\n UNDOTBS1 <br />\n TEMP <br />\n USERS <br />\n HOLDINGS</em>TS <br />\n DWH <br />\n DWH<em>BITMAPS <br />\n COMPOSER</em>DATA <br />\n COMPOSER<em>INDEX <br />\n COMPOSER</em>LOB <br />\n SENTINEL<em>DATA <br />\n SENTINEL</em>INDEX <br />\n SENTINEL<em>LOB <br />\n DBMASTER</em>SHAM <br />\n CMS<em>SHAM <br />\n DATAMART</em>SHAM <br />\n SHAM <br />\n SHAM<em>DEMO <br />\n BO</em>SHAM <br />\n SUITFI_SHAM</p>\n\n<p>21 ligne(s) selectionnee(s).</p>\n\n<p>SQL> select ‘select dbms<em>metadata.get</em>ddl( »TABLESPACE », »’||TABLESPACE<em>NAME|| »’) from dual;’ from dba</em>tablespaces where TABLESPACE_NAME not in (‘SYSTEM’,’SYSAUX’,’UNDOTBS1′,’TEMP’,’USERS’) ;</p>\n\n<p>‘SELECTDBMS<em>METADATA.GET</em>DDL( »TABLESPACE », »’||TABLESPACE<em>NAME|| »’)FROMDUAL;’ <br />\n ———————————————————————————————————————————————————————————————- <br />\n select dbms</em>metadata.get<em>ddl(‘TABLESPACE’,’HOLDINGS</em>TS’) from dual; <br />\n select dbms<em>metadata.get</em>ddl(‘TABLESPACE’,’DWH’) from dual; <br />\n select dbms<em>metadata.get</em>ddl(‘TABLESPACE’,’DWH<em>BITMAPS’) from dual; <br />\n select dbms</em>metadata.get<em>ddl(‘TABLESPACE’,’COMPOSER</em>DATA’) from dual; <br />\n select dbms<em>metadata.get</em>ddl(‘TABLESPACE’,’COMPOSER<em>INDEX’) from dual; <br />\n select dbms</em>metadata.get<em>ddl(‘TABLESPACE’,’COMPOSER</em>LOB’) from dual; <br />\n select dbms<em>metadata.get</em>ddl(‘TABLESPACE’,’SENTINEL<em>DATA’) from dual; <br />\n select dbms</em>metadata.get<em>ddl(‘TABLESPACE’,’SENTINEL</em>INDEX’) from dual; <br />\n select dbms<em>metadata.get</em>ddl(‘TABLESPACE’,’SENTINEL<em>LOB’) from dual; <br />\n select dbms</em>metadata.get<em>ddl(‘TABLESPACE’,’DBMASTER</em>SHAM’) from dual; <br />\n select dbms<em>metadata.get</em>ddl(‘TABLESPACE’,’CMS<em>SHAM’) from dual; <br />\n select dbms</em>metadata.get<em>ddl(‘TABLESPACE’,’DATAMART</em>SHAM’) from dual; <br />\n select dbms<em>metadata.get</em>ddl(‘TABLESPACE’,’SHAM’) from dual; <br />\n select dbms<em>metadata.get</em>ddl(‘TABLESPACE’,’SHAM<em>DEMO’) from dual; <br />\n select dbms</em>metadata.get<em>ddl(‘TABLESPACE’,’BO</em>SHAM’) from dual; <br />\n select dbms<em>metadata.get</em>ddl(‘TABLESPACE’,’SUITFI_SHAM’) from dual;</p>\n\n<p>16 ligne(s) selectionnee(s).</p>\n\n<p>SQL> set long 999999999 <br />\n SQL> spool /tmp/tablespaces.sql <br />\n SQL> select dbms<em>metadata.get</em>ddl(‘TABLESPACE’,’HOLDINGS<em>TS’) from dual; <br />\n select dbms</em>metadata.get<em>ddl(‘TABLESPACE’,’DWH’) from dual; <br />\n select dbms</em>metadata.get<em>ddl(‘TABLESPACE’,’DWH</em>BITMAPS’) from dual; <br />\n select dbms<em>metadata.get</em>ddl(‘TABLESPACE’,’COMPOSER<em>DATA’) from dual; <br />\n select dbms</em>metadata.get<em>ddl(‘TABLESPACE’,’COMPOSER</em>INDEX’) from dual; <br />\n select dbms<em>metadata.get</em>ddl(‘TABLESPACE’,’COMPOSER<em>LOB’) from dual; <br />\n select dbms</em>metadata.get<em>ddl(‘TABLESPACE’,’SENTINEL</em>DATA’) from dual; <br />\n select dbms<em>metadata.get</em>ddl(‘TABLESPACE’,’SENTINEL<em>INDEX’) from dual; <br />\n select dbms</em>metadata.get<em>ddl(‘TABLESPACE’,’SENTINEL</em>LOB’) from dual; <br />\n select dbms<em>metadata.get</em>ddl(‘TABLESPACE’,’DBMASTER<em>SHAM’) from dual; <br />\n select dbms</em>metadata.get<em>ddl(‘TABLESPACE’,’CMS</em>SHAM’) from dual; <br />\n select dbms<em>metadata.get</em>ddl(‘TABLESPACE’,’DATAMART<em>SHAM’) from dual; <br />\n select dbms</em>metadata.get<em>ddl(‘TABLESPACE’,’SHAM’) from dual; <br />\n select dbms</em>metadata.get<em>ddl(‘TABLESPACE’,’SHAM</em>DEMO’) from dual; <br />\n select dbms<em>metadata.get</em>ddl(‘TABLESPACE’,’BO<em>SHAM’) from dual; <br />\n select dbms</em>metadata.get<em>ddl(‘TABLESPACE’,’SUITFI</em>SHAM’) from dual;</p>\n\n<p>DBMS<em>METADATA.GET</em>DDL(‘TABLESPACE’,’HOLDINGS_TS’) <br />\n ——————————————————————————–</p>\n\n<p>CREATE BIGFILE TABLESPACE « HOLDINGS_TS » DATAFILE <br />\n ‘/u02/oradata/SIFI/holdings.dbf’ SIZE 134217728 <br />\n AUTOEXTEND ON NEXT 16777216 MAXSIZE 33554431M <br />\n NOLOGGING ONLINE PERMANENT BLOCKSIZE 8192 <br />\n EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT <br />\n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO <br />\n ALTER DATABASE DATAFILE <br />\n ‘/u02/oradata/SIFI/holdings.dbf’ RESIZE 1677721600</p>\n\n<p>SQL> <br />\n DBMS<em>METADATA.GET</em>DDL(‘TABLESPACE’,’DWH’) <br />\n ——————————————————————————–</p>\n\n<p>CREATE BIGFILE TABLESPACE « DWH » DATAFILE <br />\n ‘/u02/oradata/SIFI/dwh.dbf’ SIZE 524288000 <br />\n AUTOEXTEND ON NEXT 1048576 MAXSIZE 33554431M <br />\n NOLOGGING ONLINE PERMANENT BLOCKSIZE 8192 <br />\n EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT <br />\n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO <br />\n ALTER DATABASE DATAFILE <br />\n ‘/u02/oradata/SIFI/dwh.dbf’ RESIZE 2497708032</p>\n\n<p>SQL> <br />\n DBMS<em>METADATA.GET</em>DDL(‘TABLESPACE’,’DWH_BITMAPS’) <br />\n ——————————————————————————–</p>\n\n<p>CREATE TABLESPACE « DWH<em>BITMAPS » DATAFILE <br />\n ‘/u02/oradata/SIFI/dwh</em>bitmaps.dbf’ SIZE 209715200 <br />\n AUTOEXTEND ON NEXT 1048576 MAXSIZE 32767M <br />\n NOLOGGING ONLINE PERMANENT BLOCKSIZE 8192 <br />\n EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT <br />\n NOCOMPRESS  SEGMENT SPACE MANAGEMENT MANUAL</p>\n\n<p>SQL> <br />\n DBMS<em>METADATA.GET</em>DDL(‘TABLESPACE’,’COMPOSER_DATA’) <br />\n ——————————————————————————–</p>\n\n<p>CREATE TABLESPACE « COMPOSER<em>DATA » DATAFILE <br />\n ‘/u02/oradata/SIFI/composer</em>data01.dbf’ SIZE 524288000 <br />\n NOLOGGING ONLINE PERMANENT BLOCKSIZE 8192 <br />\n EXTENT MANAGEMENT LOCAL UNIFORM SIZE 524288 DEFAULT <br />\n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO <br />\n ALTER DATABASE DATAFILE <br />\n ‘/u02/oradata/SIFI/composer_data01.dbf’ RESIZE 268435456</p>\n\n<p>SQL> <br />\n DBMS<em>METADATA.GET</em>DDL(‘TABLESPACE’,’COMPOSER_INDEX’) <br />\n ——————————————————————————–</p>\n\n<p>CREATE TABLESPACE « COMPOSER<em>INDEX » DATAFILE <br />\n ‘/u02/oradata/SIFI/composer</em>index01.dbf’ SIZE 262144000 <br />\n NOLOGGING ONLINE PERMANENT BLOCKSIZE 8192 <br />\n EXTENT MANAGEMENT LOCAL UNIFORM SIZE 262144 DEFAULT <br />\n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO</p>\n\n<p>SQL> <br />\n DBMS<em>METADATA.GET</em>DDL(‘TABLESPACE’,’COMPOSER_LOB’) <br />\n ——————————————————————————–</p>\n\n<p>CREATE TABLESPACE « COMPOSER<em>LOB » DATAFILE <br />\n ‘/u02/oradata/SIFI/composer</em>lob01.dbf’ SIZE 262144000 <br />\n NOLOGGING ONLINE PERMANENT BLOCKSIZE 8192 <br />\n EXTENT MANAGEMENT LOCAL UNIFORM SIZE 262144 DEFAULT <br />\n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO <br />\n ALTER DATABASE DATAFILE <br />\n ‘/u02/oradata/SIFI/composer_lob01.dbf’ RESIZE 134217728</p>\n\n<p>SQL> <br />\n DBMS<em>METADATA.GET</em>DDL(‘TABLESPACE’,’SENTINEL_DATA’) <br />\n ——————————————————————————–</p>\n\n<p>CREATE TABLESPACE « SENTINEL<em>DATA » DATAFILE <br />\n ‘/u02/oradata/SIFI/sentinel</em>data01.dbf’ SIZE 524288000 <br />\n NOLOGGING ONLINE PERMANENT BLOCKSIZE 8192 <br />\n EXTENT MANAGEMENT LOCAL UNIFORM SIZE 524288 DEFAULT <br />\n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO <br />\n ALTER DATABASE DATAFILE <br />\n ‘/u02/oradata/SIFI/sentinel_data01.dbf’ RESIZE 134217728</p>\n\n<p>SQL> <br />\n DBMS<em>METADATA.GET</em>DDL(‘TABLESPACE’,’SENTINEL_INDEX’) <br />\n ——————————————————————————–</p>\n\n<p>CREATE TABLESPACE « SENTINEL<em>INDEX » DATAFILE <br />\n ‘/u02/oradata/SIFI/sentinel</em>index01.dbf’ SIZE 262144000 <br />\n NOLOGGING ONLINE PERMANENT BLOCKSIZE 8192 <br />\n EXTENT MANAGEMENT LOCAL UNIFORM SIZE 262144 DEFAULT <br />\n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO <br />\n ALTER DATABASE DATAFILE <br />\n ‘/u02/oradata/SIFI/sentinel_index01.dbf’ RESIZE 134217728</p>\n\n<p>SQL> <br />\n DBMS<em>METADATA.GET</em>DDL(‘TABLESPACE’,’SENTINEL_LOB’) <br />\n ——————————————————————————–</p>\n\n<p>CREATE TABLESPACE « SENTINEL<em>LOB » DATAFILE <br />\n ‘/u02/oradata/SIFI/sentinel</em>lob01.dbf’ SIZE 262144000 <br />\n NOLOGGING ONLINE PERMANENT BLOCKSIZE 8192 <br />\n EXTENT MANAGEMENT LOCAL UNIFORM SIZE 262144 DEFAULT <br />\n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO <br />\n ALTER DATABASE DATAFILE <br />\n ‘/u02/oradata/SIFI/sentinel_lob01.dbf’ RESIZE 134217728</p>\n\n<p>SQL> <br />\n DBMS<em>METADATA.GET</em>DDL(‘TABLESPACE’,’DBMASTER_SHAM’) <br />\n ——————————————————————————–</p>\n\n<p>CREATE TABLESPACE « DBMASTER<em>SHAM » DATAFILE <br />\n ‘/u02/oradata/SIFI/DBMASTER</em>SHAM.DBF’ SIZE 10485760 <br />\n AUTOEXTEND ON NEXT 134217728 MAXSIZE 32767M <br />\n LOGGING ONLINE PERMANENT BLOCKSIZE 8192 <br />\n EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT <br />\n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO <br />\n ALTER DATABASE DATAFILE <br />\n ‘/u02/oradata/SIFI/DBMASTER_SHAM.DBF’ RESIZE 1218445312</p>\n\n<p>SQL> <br />\n DBMS<em>METADATA.GET</em>DDL(‘TABLESPACE’,’CMS_SHAM’) <br />\n ——————————————————————————–</p>\n\n<p>CREATE TABLESPACE « CMS<em>SHAM » DATAFILE <br />\n ‘/u02/oradata/SIFI/CMS</em>SHAM.DBF’ SIZE 10485760 <br />\n AUTOEXTEND ON NEXT 134217728 MAXSIZE 32767M <br />\n LOGGING ONLINE PERMANENT BLOCKSIZE 8192 <br />\n EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT <br />\n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO</p>\n\n<p>SQL> <br />\n DBMS<em>METADATA.GET</em>DDL(‘TABLESPACE’,’DATAMART_SHAM’) <br />\n ——————————————————————————–</p>\n\n<p>CREATE TABLESPACE « DATAMART<em>SHAM » DATAFILE <br />\n ‘/u02/oradata/SIFI/DATAMART</em>SHAM.DBF’ SIZE 10485760 <br />\n AUTOEXTEND ON NEXT 134217728 MAXSIZE 32767M <br />\n LOGGING ONLINE PERMANENT BLOCKSIZE 8192 <br />\n EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT <br />\n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO <br />\n ALTER DATABASE DATAFILE <br />\n ‘/u02/oradata/SIFI/DATAMART_SHAM.DBF’ RESIZE 144703488</p>\n\n<p>SQL> <br />\n DBMS<em>METADATA.GET</em>DDL(‘TABLESPACE’,’SHAM’) <br />\n ——————————————————————————–</p>\n\n<p>CREATE TABLESPACE « SHAM » DATAFILE <br />\n ‘/u02/oradata/SIFI/SHAM.DBF’ SIZE 10485760 <br />\n AUTOEXTEND ON NEXT 134217728 MAXSIZE 32767M, <br />\n ‘/u02/oradata/SIFI/sham02.dbf’ SIZE 4294967296 <br />\n LOGGING ONLINE PERMANENT BLOCKSIZE 8192 <br />\n EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT <br />\n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO <br />\n ALTER DATABASE DATAFILE <br />\n ‘/u02/oradata/SIFI/SHAM.DBF’ RESIZE 30477910016</p>\n\n<p>SQL> <br />\n DBMS<em>METADATA.GET</em>DDL(‘TABLESPACE’,’SHAM_DEMO’) <br />\n ——————————————————————————–</p>\n\n<p>CREATE TABLESPACE « SHAM<em>DEMO » DATAFILE <br />\n ‘/u02/oradata/SIFI/SHAM</em>DEMO.DBF’ SIZE 10485760 <br />\n AUTOEXTEND ON NEXT 134217728 MAXSIZE 32767M <br />\n LOGGING ONLINE PERMANENT BLOCKSIZE 8192 <br />\n EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT <br />\n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO</p>\n\n<p>SQL> <br />\n DBMS<em>METADATA.GET</em>DDL(‘TABLESPACE’,’BO_SHAM’) <br />\n ——————————————————————————–</p>\n\n<p>CREATE TABLESPACE « BO<em>SHAM » DATAFILE <br />\n ‘/u02/oradata/SIFI/BO</em>SHAM.DBF’ SIZE 10485760 <br />\n AUTOEXTEND ON NEXT 134217728 MAXSIZE 32767M <br />\n LOGGING ONLINE PERMANENT BLOCKSIZE 8192 <br />\n EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT <br />\n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO</p>\n\n<p>SQL> <br />\n DBMS<em>METADATA.GET</em>DDL(‘TABLESPACE’,’SUITFI_SHAM’) <br />\n ——————————————————————————–</p>\n\n<p>CREATE TABLESPACE « SUITFI<em>SHAM » DATAFILE <br />\n ‘/u02/oradata/SIFI/SUITFI</em>SHAM.DBF’ SIZE 10485760 <br />\n AUTOEXTEND ON NEXT 134217728 MAXSIZE 32767M <br />\n LOGGING ONLINE PERMANENT BLOCKSIZE 8192 <br />\n EXTENT MANAGEMENT LOCAL AUTOALLOCATE DEFAULT <br />\n NOCOMPRESS  SEGMENT SPACE MANAGEMENT AUTO</p>\n\n<p>SQL> spool off</p>","image":null,"featured":0,"page":0,"status":"draft","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-16T17:23:08.000Z","created_by":1,"updated_at":"2015-06-16T17:23:08.000Z","updated_by":1,"published_at":"0000-00-00 00:00:00","published_by":1},{"id":138,"uuid":"f6cd983a-a4f4-4ab4-8d07-009c0f98ee15","title":"Empêcher les mises à jour d'un paquet sur Ubuntu","slug":"empecher-les-mises-a-jour-dun-paquet-sur-ubuntu","markdown":"\nLorsque j’ai fait l’upgrade de mes Ubuntu de la version 14.10 vers la toute nouvelle 15.04, j’ai été surpris que l’utilitaire me propose de supprimer MariaDB pour remettre MySQL. Je ne voulais évidement pas de cette « solution ». J’ai donc cherché un moyen d’empêcher la mise à jour des paquets liés à MariaDB afin de réaliser leurs mises à jour après coup.\n\n**<span style=\"text-decoration: underline;\">Note :</span>** Cette astuce fonctionne également sur Debian ainsi que sur toutes les distributions qui en dérivent.\n\nPour empêcher les mises à jour d’un paquet sur Ubuntu, il faut dire à « apt » – le gestionnaire de paquets – de ne pas prendre en compte les nouvelles versions des paquets. Dans cet article, je décris également comment faire la même chose pour l’outil « aptitude » que je préfère souvent à « apt ».\n\n \n\n\n## Trouver les paquets à conserver\n\nAfin de placer des verrous sur les paquets à protéger, il faut déjà connaitre leur nom et la liste exacte. Dans l’exemple ci-dessous, je cherches tous les paquets liés à mon installation de MariaDB. La commande « dpkg » me permet de lister les paquets installés sur ma machine.\n\n# dpkg -l | grep maria ii libmariadbclient18 10.0.20+maria-1~vivid amd64 MariaDB database client library ii libmysqlclient18 10.0.20+maria-1~vivid amd64 Virtual package to satisfy external depends ii mariadb-client-10.0 10.0.20+maria-1~vivid amd64 MariaDB database client binaries ic mariadb-client-5.5 5.5.41-1ubuntu0.14.10.1 amd64 MariaDB database client binaries ii mariadb-client-core-10.0 10.0.20+maria-1~vivid amd64 MariaDB database core client binaries ii mariadb-common 10.0.20+maria-1~vivid all MariaDB database common files (e.g. /etc/mysql/conf.d/mariadb.cnf) ii mariadb-server 10.0.20+maria-1~vivid all MariaDB database server (metapackage depending on the latest version) ii mariadb-server-10.0 10.0.20+maria-1~vivid amd64 MariaDB database server binaries ic mariadb-server-5.5 5.5.41-1ubuntu0.14.10.1 amd64 MariaDB database server binaries ii mariadb-server-core-10.0 10.0.20+maria-1~vivid amd64 MariaDB database core server files ii mysql-common 10.0.20+maria-1~vivid all MariaDB database common files (e.g. /etc/mysql/my.cnf)\n\nMaintenant que l’on a la liste des paquets, on va pouvoir les verrouiller.\n\n\n## La méthode pour APT\n\n#### Holder un paquet\n\nOn utilise la commande « apt-mark » pour verrouiller le paquet en lui précisant qu’on souhaite ajouter un verrou – « hold ».\n\n# apt-mark hold mariadb-client-10.0 mariadb-client-10.0 was already set on hold.\n\n \n\n#### Dé-holder un paquet\n\nOn utilise la commande « apt-mark » pour déverrouiller le paquet en lui précisant qu’on souhaite enlever un verrou – « unhold ».\n\n# apt-mark unhold mariadb-client-10.0 Canceled hold on mariadb-client-10.0.\n\n \n\n\n## La méthode pour APTITUDE\n\n#### Holder un paquet\n\nOn utilise la directement commande « aptitude » pour verrouiller le paquet en lui précisant qu’on souhaite ajouter un verrou – « hold ».\n\n# aptitude hold mariadb-client-10.0\n\n \n\n#### Dé-holder un paquet\n\nOn utilise la directement commande « aptitude » pour déverrouiller le paquet en lui précisant qu’on souhaite enlever un verrou – « unhold ».\n\n# aptitude unhold mariadb-client-10.0\n\n \n\n\n## La méthode massive\n\n#### Holder des paquets\n\nVoici la méthode massive pour holder les paquets – utile lorsque vous avez une bonne liste de paquets à verrouiller. J’ai repris ici les deux méthodes APT/APTITUDE.\n\n# dpkg -l | grep maria | awk '{print $2}' | while read package ; do apt-mark hold ${package}; done # dpkg -l | grep maria | awk '{print $2}' | while read package ; do aptitude hold ${package}; done\n\n<span style=\"text-decoration: underline;\">L’explication :</span>\n\nOn fait la recherche de paquets via « dpkg » et « grep », on récupère le nom des paquets avec « awk » et on boucle sur tous ces noms pour les holder.\n\n \n\n#### Dé-holder des paquets\n\nMême méthode pour déverrouiller.\n\n# dpkg -l | grep maria | awk '{print $2}' | while read package ; do apt-mark unhold ${package}; done # dpkg -l | grep maria | awk '{print $2}' | while read package ; do aptitude unhold ${package}; done\n\n \n\n\n","html":"<p>Lorsque j’ai fait l’upgrade de mes Ubuntu de la version 14.10 vers la toute nouvelle 15.04, j’ai été surpris que l’utilitaire me propose de supprimer MariaDB pour remettre MySQL. Je ne voulais évidement pas de cette « solution ». J’ai donc cherché un moyen d’empêcher la mise à jour des paquets liés à MariaDB afin de réaliser leurs mises à jour après coup.</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Note :</span></strong> Cette astuce fonctionne également sur Debian ainsi que sur toutes les distributions qui en dérivent.</p>\n\n<p>Pour empêcher les mises à jour d’un paquet sur Ubuntu, il faut dire à « apt » – le gestionnaire de paquets – de ne pas prendre en compte les nouvelles versions des paquets. Dans cet article, je décris également comment faire la même chose pour l’outil « aptitude » que je préfère souvent à « apt ».</p>\n\n<h2 id=\"trouverlespaquetsconserver\">Trouver les paquets à conserver</h2>\n\n<p>Afin de placer des verrous sur les paquets à protéger, il faut déjà connaitre leur nom et la liste exacte. Dans l’exemple ci-dessous, je cherches tous les paquets liés à mon installation de MariaDB. La commande « dpkg » me permet de lister les paquets installés sur ma machine.</p>\n\n<h1 id=\"dpkglgrepmariaiilibmariadbclient1810020maria1tvividamd64mariadbdatabaseclientlibraryiilibmysqlclient1810020maria1tvividamd64virtualpackagetosatisfyexternaldependsiimariadbclient10010020maria1tvividamd64mariadbdatabaseclientbinariesicmariadbclient5555411ubuntu014101amd64mariadbdatabaseclientbinariesiimariadbclientcore10010020maria1tvividamd64mariadbdatabasecoreclientbinariesiimariadbcommon10020maria1tvividallmariadbdatabasecommonfilesegetcmysqlconfdmariadbcnfiimariadbserver10020maria1tvividallmariadbdatabaseservermetapackagedependingonthelatestversioniimariadbserver10010020maria1tvividamd64mariadbdatabaseserverbinariesicmariadbserver5555411ubuntu014101amd64mariadbdatabaseserverbinariesiimariadbservercore10010020maria1tvividamd64mariadbdatabasecoreserverfilesiimysqlcommon10020maria1tvividallmariadbdatabasecommonfilesegetcmysqlmycnf\">dpkg -l | grep maria ii libmariadbclient18 10.0.20+maria-1~vivid amd64 MariaDB database client library ii libmysqlclient18 10.0.20+maria-1~vivid amd64 Virtual package to satisfy external depends ii mariadb-client-10.0 10.0.20+maria-1~vivid amd64 MariaDB database client binaries ic mariadb-client-5.5 5.5.41-1ubuntu0.14.10.1 amd64 MariaDB database client binaries ii mariadb-client-core-10.0 10.0.20+maria-1~vivid amd64 MariaDB database core client binaries ii mariadb-common 10.0.20+maria-1~vivid all MariaDB database common files (e.g. /etc/mysql/conf.d/mariadb.cnf) ii mariadb-server 10.0.20+maria-1~vivid all MariaDB database server (metapackage depending on the latest version) ii mariadb-server-10.0 10.0.20+maria-1~vivid amd64 MariaDB database server binaries ic mariadb-server-5.5 5.5.41-1ubuntu0.14.10.1 amd64 MariaDB database server binaries ii mariadb-server-core-10.0 10.0.20+maria-1~vivid amd64 MariaDB database core server files ii mysql-common 10.0.20+maria-1~vivid all MariaDB database common files (e.g. /etc/mysql/my.cnf)</h1>\n\n<p>Maintenant que l’on a la liste des paquets, on va pouvoir les verrouiller.</p>\n\n<h2 id=\"lamthodepourapt\">La méthode pour APT</h2>\n\n<h4 id=\"holderunpaquet\">Holder un paquet</h4>\n\n<p>On utilise la commande « apt-mark » pour verrouiller le paquet en lui précisant qu’on souhaite ajouter un verrou – « hold ».</p>\n\n<h1 id=\"aptmarkholdmariadbclient100mariadbclient100wasalreadysetonhold\">apt-mark hold mariadb-client-10.0 mariadb-client-10.0 was already set on hold.</h1>\n\n<h4 id=\"dholderunpaquet\">Dé-holder un paquet</h4>\n\n<p>On utilise la commande « apt-mark » pour déverrouiller le paquet en lui précisant qu’on souhaite enlever un verrou – « unhold ».</p>\n\n<h1 id=\"aptmarkunholdmariadbclient100canceledholdonmariadbclient100\">apt-mark unhold mariadb-client-10.0 Canceled hold on mariadb-client-10.0.</h1>\n\n<h2 id=\"lamthodepouraptitude\">La méthode pour APTITUDE</h2>\n\n<h4 id=\"holderunpaquet\">Holder un paquet</h4>\n\n<p>On utilise la directement commande « aptitude » pour verrouiller le paquet en lui précisant qu’on souhaite ajouter un verrou – « hold ».</p>\n\n<h1 id=\"aptitudeholdmariadbclient100\">aptitude hold mariadb-client-10.0</h1>\n\n<h4 id=\"dholderunpaquet\">Dé-holder un paquet</h4>\n\n<p>On utilise la directement commande « aptitude » pour déverrouiller le paquet en lui précisant qu’on souhaite enlever un verrou – « unhold ».</p>\n\n<h1 id=\"aptitudeunholdmariadbclient100\">aptitude unhold mariadb-client-10.0</h1>\n\n<h2 id=\"lamthodemassive\">La méthode massive</h2>\n\n<h4 id=\"holderdespaquets\">Holder des paquets</h4>\n\n<p>Voici la méthode massive pour holder les paquets – utile lorsque vous avez une bonne liste de paquets à verrouiller. J’ai repris ici les deux méthodes APT/APTITUDE.</p>\n\n<h1 id=\"dpkglgrepmariaawkprintd2whilereadpackagedoaptmarkholddpackagedonedpkglgrepmariaawkprintd2whilereadpackagedoaptitudeholddpackagedone\">dpkg -l | grep maria | awk '{print $2}' | while read package ; do apt-mark hold ${package}; done # dpkg -l | grep maria | awk '{print $2}' | while read package ; do aptitude hold ${package}; done</h1>\n\n<p><span style=\"text-decoration: underline;\">L’explication :</span></p>\n\n<p>On fait la recherche de paquets via « dpkg » et « grep », on récupère le nom des paquets avec « awk » et on boucle sur tous ces noms pour les holder.</p>\n\n<h4 id=\"dholderdespaquets\">Dé-holder des paquets</h4>\n\n<p>Même méthode pour déverrouiller.</p>\n\n<h1 id=\"dpkglgrepmariaawkprintd2whilereadpackagedoaptmarkunholddpackagedonedpkglgrepmariaawkprintd2whilereadpackagedoaptitudeunholddpackagedone\">dpkg -l | grep maria | awk '{print $2}' | while read package ; do apt-mark unhold ${package}; done # dpkg -l | grep maria | awk '{print $2}' | while read package ; do aptitude unhold ${package}; done</h1>","image":"http://blog.techan.fr/images/2015/04/UBUNTU.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-19T10:25:08.000Z","created_by":1,"updated_at":"2015-06-19T10:25:08.000Z","updated_by":1,"published_at":"2015-06-19T10:25:08.000Z","published_by":1},{"id":139,"uuid":"1e10a6da-12d9-47e6-891f-bb2ebb36dce9","title":"Transformer un vieux PC en média center avec Windows 10 preview","slug":"transformer-un-vieux-pc-en-media-center-avec-windows-10-preview","markdown":"\nLors de mon déménagement j’ai retrouvé ma bonne vieille [Asus EeeBox B202](https://www.asus.com/fr/Commercial_Desktops/EeeBox_PC_B202/specifications/) et comme mon serveur a ête lâchement installé dans un placard, je ne peux plus le connecter directement en HDMI sur mon Home Cinéma. D’où l’idée de faire de cette bonne vielle Eee Box un petit média center afin de diffuser les flux venant de Plex, naviguer sur NetFlix et visionner des émissions en replay.\n\nMon premier reflex aurait été de faire tourner ce média center sous Linux comme d’habitude mais je dois avouer qu’[un ami](http://wokhan.online.fr/index.php) a réussi à éveiller ma curiosité sur Windows 10 – dont [la preview est disponible ici](http://windows.microsoft.com/en-us/windows/preview-iso-update-1504).\n\n\n## Quelques astuces tout de même …\n\nL’installation de Windows 10 s’est bien passée même si elle a bien pris sont temps mais on lui pardonne, je lui ai collé un sérieux boulet quand même …\n\nAprès l’installation du système, il redémarre et commence la configuration du système. Windows 10 demande une connexion Wifi et vous propose de choisir différentes options. Lorsque vos choix sont fait, il tente de les appliquer, dans mon cas, il devait tomber sur un os car après quelques secondes/minutes il m’affichait un écran noir puis redémarrait. J’ai réussi à passer cela en ne me connectant pas au Wifi lors de l’étape de configuration.\n\nLa configuration dure alors plus longtemps, mais – et oui il a fallut se battre – le système fini par se bloquer sur un écran noir. A la différence du premier, celui-ci restait fixe et j’avais la possibilité de bouger le mulot – le pointeur se déplaçait bien sur l’écran. Cet écran noir ne voulait passer, comme ci le système attendait une action de ma part – un écran de paramétrage hors de l’écran ? – un simple « Alt + F4 » m’a permis de passer à la suite.\n\nVoilà les seules « difficultés » que j’ai rencontrées lors de l’installation sur mon vieux bouzin !\n\n \n\n\n## Réactif malgré l’âge de la machine\n\nLe moins que je puisse dire c’est que je suis bluffé par la réactivité du système sur une machine qui ne dispose que d’un processeur Intel Atom mono cœur cadencé à 1,6 GHz et 2 Go de RAM !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1450\" style=\"width: 664px\">[![Transformer un vieux PC en média center avec Windows 10 preview](https://techan.fr/images/2015/06/brutus_processeur.png)](https://techan.fr/images/2015/06/brutus_processeur.png)Et oui, les processeurs mono cœur existent encore …\n\n</div><div class=\"wp-caption aligncenter\" id=\"attachment_1451\" style=\"width: 664px\">[![Transformer un vieux PC en média center avec Windows 10 preview](https://techan.fr/images/2015/06/brutus_memoire.png)](https://techan.fr/images/2015/06/brutus_memoire.png)2 Go de RAM !?! Et bah ça suffit !! :)\n\n</div> \n\nLa seule petite astuce que j’ai utilisée c’est une clef USB de 8 Go dédiée à ReadyBoost, ça soulage carrément cette vieille machine !\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1456\" style=\"width: 634px\">[![Transformer un vieux PC en média center avec Windows 10 preview](https://techan.fr/images/2015/06/brutus_ready_boost.png)](https://techan.fr/images/2015/06/brutus_ready_boost.png)Bon j’avoue j’ai triché un peu avec ReadyBoost …\n\n</div> \n\n\n## Transformer un vieux PC en média center avec Windows 10 preview\n\nEt voilà maintenant que Windows 10 preview est prêt, il ne reste plus qu’à installer les applications pour en faire un media center.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1448\" style=\"width: 665px\">[![Transformer un vieux PC en média center avec Windows 10 preview](https://techan.fr/images/2015/06/Capture-d’écran-2015-06-22-à-07.13.38.png)](https://techan.fr/images/2015/06/Capture-d’écran-2015-06-22-à-07.13.38.png)Ohhhh, le bel écran de connexion !\n\n</div>Pour commencer, j’ai ajouté l’application [Plex Home Theater for Windows](https://plex.tv/downloads) qui diffusera le contenu de mon Plex Media Server installé lui sur mon serveur Ubuntu.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1454\" style=\"width: 664px\">[![Transformer un vieux PC en média center avec Windows 10 preview](https://techan.fr/images/2015/06/brutus_plex.png)](https://techan.fr/images/2015/06/brutus_plex.png)L’application Plex Home Theater\n\n</div>Et j’ai trouvé les applications Netflix, Pluzz, My TF1 et 6Play sur le Store Microsoft afin de compléter ce media center. L’utilisation du mode tablette permet une utilisation très facile depuis le fond du canapé ! ![:-)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1457\" style=\"width: 664px\">[![Transformer un vieux PC en média center avec Windows 10 preview](https://techan.fr/images/2015/06/brutus_mode_tablette.png)](https://techan.fr/images/2015/06/brutus_mode_tablette.png)Passer en mode « tablette » pour fluidifier la navigation.\n\n</div> \n\nJe vraiment agréablement surpris par cette nouvelle mouture de Windows !\n\n\n","html":"<p>Lors de mon déménagement j’ai retrouvé ma bonne vieille <a href=\"https://www.asus.com/fr/Commercial_Desktops/EeeBox_PC_B202/specifications/\">Asus EeeBox B202</a> et comme mon serveur a ête lâchement installé dans un placard, je ne peux plus le connecter directement en HDMI sur mon Home Cinéma. D’où l’idée de faire de cette bonne vielle Eee Box un petit média center afin de diffuser les flux venant de Plex, naviguer sur NetFlix et visionner des émissions en replay.</p>\n\n<p>Mon premier reflex aurait été de faire tourner ce média center sous Linux comme d’habitude mais je dois avouer qu’<a href=\"http://wokhan.online.fr/index.php\">un ami</a> a réussi à éveiller ma curiosité sur Windows 10 – dont <a href=\"http://windows.microsoft.com/en-us/windows/preview-iso-update-1504\">la preview est disponible ici</a>.</p>\n\n<h2 id=\"quelquesastucestoutdemme\">Quelques astuces tout de même …</h2>\n\n<p>L’installation de Windows 10 s’est bien passée même si elle a bien pris sont temps mais on lui pardonne, je lui ai collé un sérieux boulet quand même …</p>\n\n<p>Après l’installation du système, il redémarre et commence la configuration du système. Windows 10 demande une connexion Wifi et vous propose de choisir différentes options. Lorsque vos choix sont fait, il tente de les appliquer, dans mon cas, il devait tomber sur un os car après quelques secondes/minutes il m’affichait un écran noir puis redémarrait. J’ai réussi à passer cela en ne me connectant pas au Wifi lors de l’étape de configuration.</p>\n\n<p>La configuration dure alors plus longtemps, mais – et oui il a fallut se battre – le système fini par se bloquer sur un écran noir. A la différence du premier, celui-ci restait fixe et j’avais la possibilité de bouger le mulot – le pointeur se déplaçait bien sur l’écran. Cet écran noir ne voulait passer, comme ci le système attendait une action de ma part – un écran de paramétrage hors de l’écran ? – un simple « Alt + F4 » m’a permis de passer à la suite.</p>\n\n<p>Voilà les seules « difficultés » que j’ai rencontrées lors de l’installation sur mon vieux bouzin !</p>\n\n<h2 id=\"ractifmalgrlgedelamachine\">Réactif malgré l’âge de la machine</h2>\n\n<p>Le moins que je puisse dire c’est que je suis bluffé par la réactivité du système sur une machine qui ne dispose que d’un processeur Intel Atom mono cœur cadencé à 1,6 GHz et 2 Go de RAM !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1450\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/06/brutus_processeur.png\"><img src=\"https://techan.fr/images/2015/06/brutus_processeur.png\" alt=\"Transformer un vieux PC en média center avec Windows 10 preview\" title=\"\" /></a>Et oui, les processeurs mono cœur existent encore …</p>\n\n<p></div><div class=\"wp-caption aligncenter\" id=\"attachment_1451\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/06/brutus_memoire.png\"><img src=\"https://techan.fr/images/2015/06/brutus_memoire.png\" alt=\"Transformer un vieux PC en média center avec Windows 10 preview\" title=\"\" /></a>2 Go de RAM !?! Et bah ça suffit !! :)</p>\n\n<p></div> </p>\n\n<p>La seule petite astuce que j’ai utilisée c’est une clef USB de 8 Go dédiée à ReadyBoost, ça soulage carrément cette vieille machine !</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1456\" style=\"width: 634px\"><a href=\"https://techan.fr/images/2015/06/brutus_ready_boost.png\"><img src=\"https://techan.fr/images/2015/06/brutus_ready_boost.png\" alt=\"Transformer un vieux PC en média center avec Windows 10 preview\" title=\"\" /></a>Bon j’avoue j’ai triché un peu avec ReadyBoost …</p>\n\n<p></div> </p>\n\n<h2 id=\"transformerunvieuxpcenmdiacenteravecwindows10preview\">Transformer un vieux PC en média center avec Windows 10 preview</h2>\n\n<p>Et voilà maintenant que Windows 10 preview est prêt, il ne reste plus qu’à installer les applications pour en faire un media center.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1448\" style=\"width: 665px\"><a href=\"https://techan.fr/images/2015/06/Capture-d’écran-2015-06-22-à-07.13.38.png\"><img src=\"https://techan.fr/images/2015/06/Capture-d’écran-2015-06-22-à-07.13.38.png\" alt=\"Transformer un vieux PC en média center avec Windows 10 preview\" title=\"\" /></a>Ohhhh, le bel écran de connexion !</p>\n\n<p></div>Pour commencer, j’ai ajouté l’application <a href=\"https://plex.tv/downloads\">Plex Home Theater for Windows</a> qui diffusera le contenu de mon Plex Media Server installé lui sur mon serveur Ubuntu.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1454\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/06/brutus_plex.png\"><img src=\"https://techan.fr/images/2015/06/brutus_plex.png\" alt=\"Transformer un vieux PC en média center avec Windows 10 preview\" title=\"\" /></a>L’application Plex Home Theater</p>\n\n<p></div>Et j’ai trouvé les applications Netflix, Pluzz, My TF1 et 6Play sur le Store Microsoft afin de compléter ce media center. L’utilisation du mode tablette permet une utilisation très facile depuis le fond du canapé ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":-)\" title=\"\" /></p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1457\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/06/brutus_mode_tablette.png\"><img src=\"https://techan.fr/images/2015/06/brutus_mode_tablette.png\" alt=\"Transformer un vieux PC en média center avec Windows 10 preview\" title=\"\" /></a>Passer en mode « tablette » pour fluidifier la navigation.</p>\n\n<p></div> </p>\n\n<p>Je vraiment agréablement surpris par cette nouvelle mouture de Windows !</p>","image":"http://blog.techan.fr/images/2015/06/windows_10_logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-21T14:15:46.000Z","created_by":1,"updated_at":"2015-07-04T18:05:32.000Z","updated_by":1,"published_at":"2015-06-21T14:15:46.000Z","published_by":1},{"id":140,"uuid":"8abcd58a-df19-4513-8d1b-bbb1be3dcd63","title":"La FAQ","slug":"la-faq","markdown":"\nVous n’avez pas trouvé la réponse à votre question sur le site ? Vous êtes resté sur votre faim ?\n\nN’hésitez pas à poser votre question ici, j’y répondrais rapidement !\n\n\n## La FAQ interactive\n\n<script src=\"//www.pubble.io/resources/javascript/QAInit.js\" type=\"text/javascript\">// < ![CDATA[\n\n// ]]></script>  \n<script type=\"text/javascript\">// < ![CDATA[\nvar lpQA = lpQA({ appID:\"8932\", genQ: \"false\", identifier: \"8932\" });\n// ]]></script>\n\n<span style=\"color: #ffffff;\">**z35W7z4v9z8w**</span>\n\n\n","html":"<p>Vous n’avez pas trouvé la réponse à votre question sur le site ? Vous êtes resté sur votre faim ?</p>\n\n<p>N’hésitez pas à poser votre question ici, j’y répondrais rapidement !</p>\n\n<h2 id=\"lafaqinteractive\">La FAQ interactive</h2>\n\n<script src=\"//www.pubble.io/resources/javascript/QAInit.js\" type=\"text/javascript\">// < ![CDATA[\n\n// ]]></script>  \n\n<script type=\"text/javascript\">// < ![CDATA[  \nvar lpQA = lpQA({ appID:\"8932\", genQ: \"false\", identifier: \"8932\" });  \n// ]]></script>\n\n<p><span style=\"color: #ffffff;\"><strong>z35W7z4v9z8w</strong></span></p>","image":null,"featured":0,"page":1,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-22T16:50:50.000Z","created_by":1,"updated_at":"2015-06-30T11:47:24.000Z","updated_by":1,"published_at":"2015-06-22T16:50:50.000Z","published_by":1},{"id":141,"uuid":"0dc24871-f398-47be-9e1f-4fa7fcf9dc8b","title":"DuckDuckGo protège votre vie privée et ajoute des nouvelles fonctionnalités","slug":"duckduckgo-protege-votre-vie-privee-et-ajoute-des-nouvelles-fonctionnalites","markdown":"\nLe moteur de recherche [DuckDuckGo](https://duckduckgo.com), le moteur de recherche qui monte, qui monte propose désormais des [Instant Answers](https://duckduckgo.com/tour#answers). DuckDuckGo protège votre vie privée et ajoute des nouvelles fonctionnalités le rendant toujours plus agréable à utiliser.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1471\" style=\"width: 526px\">[![DuckDuckGo protège votre vie privée et ajoute des nouvelles fonctionnalités](https://techan.fr/images/2015/06/Capture-d’écran-2015-06-22-à-18.21.45.png)](https://techan.fr/images/2015/06/Capture-d’écran-2015-06-22-à-18.21.45.png)La protection de vos données personnelles est leur priorité !\n\n</div> \n\n\n## Et maintenant les Instant Answers\n\nL’annonce est tombée aujourd’hui, on peut désormais utiliser les Instant Answers – Réponses Instanées – de DuckDuckGo pour rechercher des vols. Ce mécanisme vous permet également de trouver très rapidement des recettes de cuisine, de la musique, la météo, …\n\n> Here's how to check up on flight times instantly: [https://t.co/8LACeuuJ3s](https://t.co/8LACeuuJ3s) Another [#InstantAnswer](https://twitter.com/hashtag/InstantAnswer?src=hash) by tommytommytommy [pic.twitter.com/AKBstUqNGZ](http://t.co/AKBstUqNGZ)\n> \n> — DuckDuckGo (@duckduckgo) [June 22, 2015](https://twitter.com/duckduckgo/status/612959479395651584)\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>\n\nJ’ai fait le test pour un vol Lyon-Barcelone, le résultat est très sympa ! ![:-)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1463\" style=\"width: 665px\">[![DuckDuckGo protège votre vie privée et ajoute des nouvelles fonctionnalités](https://techan.fr/images/2015/06/screenshot.530.jpg)](https://techan.fr/images/2015/06/screenshot.530.jpg)Les Instant Answers concernant les vols Lyon-Barcelone avec EasyJet.\n\n</div> \n\nBref ce moteur de recherche s’améliore de mois en mois depuis sa création. Ca vaut le coup de le tester !\n\n\n","html":"<p>Le moteur de recherche <a href=\"https://duckduckgo.com\">DuckDuckGo</a>, le moteur de recherche qui monte, qui monte propose désormais des <a href=\"https://duckduckgo.com/tour#answers\">Instant Answers</a>. DuckDuckGo protège votre vie privée et ajoute des nouvelles fonctionnalités le rendant toujours plus agréable à utiliser.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1471\" style=\"width: 526px\"><a href=\"https://techan.fr/images/2015/06/Capture-d’écran-2015-06-22-à-18.21.45.png\"><img src=\"https://techan.fr/images/2015/06/Capture-d’écran-2015-06-22-à-18.21.45.png\" alt=\"DuckDuckGo protège votre vie privée et ajoute des nouvelles fonctionnalités\" title=\"\" /></a>La protection de vos données personnelles est leur priorité !</p>\n\n<p></div> </p>\n\n<h2 id=\"etmaintenantlesinstantanswers\">Et maintenant les Instant Answers</h2>\n\n<p>L’annonce est tombée aujourd’hui, on peut désormais utiliser les Instant Answers – Réponses Instanées – de DuckDuckGo pour rechercher des vols. Ce mécanisme vous permet également de trouver très rapidement des recettes de cuisine, de la musique, la météo, …</p>\n\n<blockquote>\n  <p>Here's how to check up on flight times instantly: <a href=\"https://t.co/8LACeuuJ3s\">https://t.co/8LACeuuJ3s</a> Another <a href=\"https://twitter.com/hashtag/InstantAnswer?src=hash\">#InstantAnswer</a> by tommytommytommy <a href=\"http://t.co/AKBstUqNGZ\">pic.twitter.com/AKBstUqNGZ</a></p>\n  \n  <p>— DuckDuckGo (@duckduckgo) <a href=\"https://twitter.com/duckduckgo/status/612959479395651584\">June 22, 2015</a></p>\n</blockquote>\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>\n\n<p>J’ai fait le test pour un vol Lyon-Barcelone, le résultat est très sympa ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":-)\" title=\"\" /></p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1463\" style=\"width: 665px\"><a href=\"https://techan.fr/images/2015/06/screenshot.530.jpg\"><img src=\"https://techan.fr/images/2015/06/screenshot.530.jpg\" alt=\"DuckDuckGo protège votre vie privée et ajoute des nouvelles fonctionnalités\" title=\"\" /></a>Les Instant Answers concernant les vols Lyon-Barcelone avec EasyJet.</p>\n\n<p></div> </p>\n\n<p>Bref ce moteur de recherche s’améliore de mois en mois depuis sa création. Ca vaut le coup de le tester !</p>","image":"http://blog.techan.fr/images/2015/06/DDG-icon_256x256.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-22T18:33:41.000Z","created_by":1,"updated_at":"2015-06-22T18:33:41.000Z","updated_by":1,"published_at":"2015-06-22T18:33:41.000Z","published_by":1},{"id":142,"uuid":"cf92c7b4-3514-435d-b7e6-a903049b3ac6","title":"Chronique d'une renaissance","slug":"temp-slug-140","markdown":"\nYo,\n\n \n\nBon après la déception, le réconfort, la base CDR est <span style=\"text-decoration: underline;\">up and running</span> sur la machine sl-0-vdbpre3.\n\n \n\nPour info, voici comment j’ai procédé.\n\n\n# 2.     Les préparatifs côté Oracle\n\n \n\n\n## a.      Création d’une nouvelle instance et d’une nouvelle base\n\n \n\nCette base ne sert à rien, si ce n’est que ça crée les bons répertoires pour CDR qui n’existent pas encore. Si, elle va me servir à tricher un coup, mais chut ","html":"<p>Yo,</p>\n\n<p>Bon après la déception, le réconfort, la base CDR est <span style=\"text-decoration: underline;\">up and running</span> sur la machine sl-0-vdbpre3.</p>\n\n<p>Pour info, voici comment j’ai procédé.</p>\n\n<h1 id=\"2lesprparatifsctoracle\">2.     Les préparatifs côté Oracle</h1>\n\n<h2 id=\"acrationdunenouvelleinstanceetdunenouvellebase\">a.      Création d’une nouvelle instance et d’une nouvelle base</h2>\n\n<p>Cette base ne sert à rien, si ce n’est que ça crée les bons répertoires pour CDR qui n’existent pas encore. Si, elle va me servir à tricher un coup, mais chut ","image":null,"featured":0,"page":0,"status":"draft","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-24T08:33:00.000Z","created_by":1,"updated_at":"2015-06-24T08:33:00.000Z","updated_by":1,"published_at":"0000-00-00 00:00:00","published_by":1},{"id":143,"uuid":"ae289319-06ca-425a-ad7c-ff11f3d2bfdc","title":"Lister les jobs concurrents dans BackupExec avec PowserShell","slug":"lister-les-jobs-concurrents-dans-backupexec-avec-powsershell","markdown":"\nAfin de corriger des erreurs de backup et d’éviter  d’en avoir plus, nous avons fait le choix de lisser les jobs dans le temps afin d’avoir le moins de concurrence. L’interface de [BackupExec 2012](http://www.symantec.com/backup-exec/) est très pauvre à ce niveau là et je voulais absolument éviter de reporter toutes les planifications à la main dans un fichier.\n\nJ’ai donc trouvé une requête et un script PowerShell qui permettent de lister l’historique des jobs sur les X derniers jours. J’ai adapté ces scripts afin d’avoir l’historique des jobs et la concurrence entre ces derniers. Sur chaque ligne de résultat j’ai les informations de l’exécution du job et les jobs qui étaient actifs en même temps que lui.\n\n \n\n\n## L’historique des jobs BackupEXEC\n\nVoici la requête que j’ai trouvée sur le site [technet.microsoft.com](https://social.technet.microsoft.com/Forums/scriptcenter/en-US/f00d1c09-6373-415d-ab91-cfb80e94395d/powershell-xml-to-csv-backup-exec-logfiles), elle retourne les jobs qui ont été exécutés dans la fenêtre de temps donnée dans la clause « WHERE » – 7 jours dans cet exemple.\n\nSELECT [JobName] ,[ActualStartTime] ,[ElapsedTimeSeconds] ,[FinalJobStatus] ,[FinalErrorCode] ,[MachineName] ,[TargetName] ,[MediaSetName] ,[TotalDataSizeBytes] ,[TotalNumberOfFiles] ,[TotalNumberOfDirectories] ,[TotalSkippedFiles] ,[TotalCorruptFiles] ,[TotalInUseFiles] FROM [BEDB].[dbo].[JobHistorySummary] WHERE [OriginalStartTime] > dateadd(day,-7, cast(getdate() as date))\n\nVoici le résultat de son exécution dans Management Studio.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1491\" style=\"width: 664px\">[![Lister les jobs concurrents dans BackupExec avec PowserShell](https://techan.fr/images/2015/06/BE_listee_des_jobs.jpg)](https://techan.fr/images/2015/06/BE_listee_des_jobs.jpg)L’historique des jobs sur les 7 derniers jours\n\n</div> \n\nVoici le script PowerShell fourni sur le site [technet.microsoft.com](https://social.technet.microsoft.com/Forums/scriptcenter/en-US/f00d1c09-6373-415d-ab91-cfb80e94395d/powershell-xml-to-csv-backup-exec-logfiles), j’y ai juste ajouté une sortie dans un fichier CSV.\n\n$sqlinstance='<NOM DU SERVEUR WINDOWS>\\' $connectionstring=\"Integrated Security=SSPI;Persist Security Info=False;Initial Catalog=BEDB;Data Source=$sqlinstance\" $date=[dateTIme]::Today.AddDays(-7) $query=@\" SELECT [JobName] ,[ActualStartTime] ,[EndTime] ,[ElapsedTimeSeconds] ,[FinalJobStatus] ,[FinalErrorCode] ,[MachineName] ,[TargetName] ,[MediaSetName] ,[TotalDataSizeBytes] ,[TotalNumberOfFiles] ,[TotalNumberOfDirectories] ,[TotalSkippedFiles] ,[TotalCorruptFiles] ,[TotalInUseFiles] FROM [BEDB].[dbo].[JobHistorySummary] WHERE [OriginalStartTime] > '$date' ORDER BY [ActualStartTime], [EndTime] \"@ function Get-DatabaseData { [CmdletBinding()] param( [string]$connectionString, [string]$query ) $connection = New-Object System.Data.SqlClient.SqlConnection $connection.ConnectionString = $connectionString $command = $connection.CreateCommand() $command.CommandText = $query $adapter = New-Object System.Data.SqlClient.SqlDataAdapter $command $dataset = New-Object System.Data.DataSet [void]$adapter.Fill($dataset) $dataset.Tables[0] } function Out-Excel { param($Path = \"C:\\temp\\BE_Reports\\Job_History_$(Get-Date -Format yyyyMMddHHmmss).csv\") $input | Export-CSV -Path $Path -UseCulture -Encoding UTF8 -NoTypeInformation Invoke-Item -Path $Path } Get-DatabaseData $connectionstring $query | select machinename, actualstarttime, finaljobstatus, targetname Get-DatabaseData $connectionstring $query | Out-Excel\n\n \n\nC’est intéressant, mais voyons comment répondre à la problématique …\n\n \n\n\n## Lister les jobs concurrents dans BackupExec avec PowserShell\n\n \n\nVoici donc la requête que j’ai créée à partir de celle que j’ai présentée plus haut.\n\nWITH ALL_JOBS AS ( SELECT [JobHistoryID] ,[JobName] ,[ActualStartTime] ,[EndTime] ,[ElapsedTimeSeconds] ,[FinalJobStatus] ,[FinalErrorCode] ,[MachineName] ,[TargetName] ,[MediaSetName] ,[TotalDataSizeBytes] ,[TotalNumberOfFiles] ,[TotalNumberOfDirectories] ,[TotalSkippedFiles] ,[TotalCorruptFiles] ,[TotalInUseFiles] FROM [BEDB].[dbo].[JobHistorySummary] WHERE [OriginalStartTime] > dateadd(day,-7, cast(getdate() as date)) ) SELECT ALL_JOBS.JobName, ALL_JOBS.ActualStartTime, ALL_JOBS.EndTime, ALL_JOBS.TargetName, ( SELECT JobName + ', ' AS 'data()' FROM [BEDB].[dbo].[JobHistorySummary] WHERE [BEDB].[dbo].[JobHistorySummary].[JobHistoryID] != ALL_JOBS.[JobHistoryID] AND [BEDB].[dbo].[JobHistorySummary].[TargetName] = ALL_JOBS.[TargetName] AND ( ([BEDB].[dbo].[JobHistorySummary].[ActualStartTime] BETWEEN ALL_JOBS.[ActualStartTime] AND ALL_JOBS.[EndTime] ) OR ([BEDB].[dbo].[JobHistorySummary].[EndTime] BETWEEN ALL_JOBS.[ActualStartTime] AND ALL_JOBS.[EndTime] ) ) FOR XML PATH('') ) AS 'Jobs Concurrents' FROM ALL_JOBS ORDER BY ALL_JOBS.ActualStartTime DESC, ALL_JOBS.EndTime DESC\n\nPour chacun des jobs listés dans l’historique, j’ajoute un champ dans lequel je concatène le nom des jobs qui remplissent les conditions suivantes :\n\n- Ne pas avoir le même ID que le job étudié : un job ne peut pas se concurrencer lui même.\n- Avoir la même target que le job étudié : je compare uniquement la concurrence des jobs sur disque entre eux et des jobs sur bandes entre eux.\n- Il faut également que la période d’exécution du job « concurrent » empiète sur celle du job étudié.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1492\" style=\"width: 664px\">[![Lister les jobs concurrents dans BackupExec avec PowserShell](https://techan.fr/images/2015/06/BE_jobs_concurrents.jpg)](https://techan.fr/images/2015/06/BE_jobs_concurrents.jpg)On voit ici que les deux jobs sont concurrents.\n\n</div> \n\nJ’ai adapté le script PowerShell avec cette requête et j’y ai ajouté une sortie vers un fichier CSV afin de me simplifier la lecture des résultats.\n\n \n\n$sqlinstance='<NOM DU SERVEUR WINDOWS>\\' $connectionstring=\"Integrated Security=SSPI;Persist Security Info=False;Initial Catalog=BEDB;Data Source=$sqlinstance\" $date=[dateTIme]::Today.AddDays(-7) $query=@\" WITH ALL_JOBS AS ( SELECT [JobHistoryID] ,[JobName] ,[ActualStartTime] ,[EndTime] ,[ElapsedTimeSeconds] ,[FinalJobStatus] ,[FinalErrorCode] ,[MachineName] ,[TargetName] ,[MediaSetName] ,[TotalDataSizeBytes] ,[TotalNumberOfFiles] ,[TotalNumberOfDirectories] ,[TotalSkippedFiles] ,[TotalCorruptFiles] ,[TotalInUseFiles] FROM [BEDB].[dbo].[JobHistorySummary] WHERE [OriginalStartTime] > '$date' ) SELECT ALL_JOBS.JobName, ALL_JOBS.ActualStartTime, ALL_JOBS.EndTime, ALL_JOBS.TargetName, ( SELECT JobName + ', ' AS 'data()' FROM [BEDB].[dbo].[JobHistorySummary] WHERE [BEDB].[dbo].[JobHistorySummary].[JobHistoryID] != ALL_JOBS.[JobHistoryID] AND [BEDB].[dbo].[JobHistorySummary].[TargetName] = ALL_JOBS.[TargetName] AND ( ([BEDB].[dbo].[JobHistorySummary].[ActualStartTime] BETWEEN ALL_JOBS.[ActualStartTime] AND ALL_JOBS.[EndTime] ) OR ([BEDB].[dbo].[JobHistorySummary].[EndTime] BETWEEN ALL_JOBS.[ActualStartTime] AND ALL_JOBS.[EndTime] ) ) FOR XML PATH('') ) AS 'Jobs Concurrents' FROM ALL_JOBS ORDER BY ALL_JOBS.ActualStartTime DESC, ALL_JOBS.EndTime DESC \"@ function Get-DatabaseData { [CmdletBinding()] param( [string]$connectionString, [string]$query ) $connection = New-Object System.Data.SqlClient.SqlConnection $connection.ConnectionString = $connectionString $command = $connection.CreateCommand() $command.CommandText = $query $adapter = New-Object System.Data.SqlClient.SqlDataAdapter $command $dataset = New-Object System.Data.DataSet [void]$adapter.Fill($dataset) $dataset.Tables[0] } function Out-Excel { param($Path = \"C:\\temp\\BE_Reports\\Job_Concurrents_$(Get-Date -Format yyyyMMddHHmmss).csv\") $input | Export-CSV -Path $Path -UseCulture -Encoding UTF8 -NoTypeInformation Invoke-Item -Path $Path } Get-DatabaseData $connectionstring $query | Out-Excel\n\n \n\nEt voilà, il ne reste plus qu’a analyser et modifier les jobs BackupEXEC.\n\n \n\n\n##  Sources :\n\n- Post sur le site [technet.microsoft.com](https://social.technet.microsoft.com/Forums/scriptcenter/en-US/f00d1c09-6373-415d-ab91-cfb80e94395d/powershell-xml-to-csv-backup-exec-logfiles)\n- Sur [blogs.technet.com](http://blogs.technet.com) : [PowerShell and Excel: Fast, Safe, and Reliable](http://blogs.technet.com/b/heyscriptingguy/archive/2014/01/10/powershell-and-excel-fast-safe-and-reliable.aspx)\n\n\n","html":"<p>Afin de corriger des erreurs de backup et d’éviter  d’en avoir plus, nous avons fait le choix de lisser les jobs dans le temps afin d’avoir le moins de concurrence. L’interface de <a href=\"http://www.symantec.com/backup-exec/\">BackupExec 2012</a> est très pauvre à ce niveau là et je voulais absolument éviter de reporter toutes les planifications à la main dans un fichier.</p>\n\n<p>J’ai donc trouvé une requête et un script PowerShell qui permettent de lister l’historique des jobs sur les X derniers jours. J’ai adapté ces scripts afin d’avoir l’historique des jobs et la concurrence entre ces derniers. Sur chaque ligne de résultat j’ai les informations de l’exécution du job et les jobs qui étaient actifs en même temps que lui.</p>\n\n<h2 id=\"lhistoriquedesjobsbackupexec\">L’historique des jobs BackupEXEC</h2>\n\n<p>Voici la requête que j’ai trouvée sur le site <a href=\"https://social.technet.microsoft.com/Forums/scriptcenter/en-US/f00d1c09-6373-415d-ab91-cfb80e94395d/powershell-xml-to-csv-backup-exec-logfiles\">technet.microsoft.com</a>, elle retourne les jobs qui ont été exécutés dans la fenêtre de temps donnée dans la clause « WHERE » – 7 jours dans cet exemple.</p>\n\n<p>SELECT [JobName] ,[ActualStartTime] ,[ElapsedTimeSeconds] ,[FinalJobStatus] ,[FinalErrorCode] ,[MachineName] ,[TargetName] ,[MediaSetName] ,[TotalDataSizeBytes] ,[TotalNumberOfFiles] ,[TotalNumberOfDirectories] ,[TotalSkippedFiles] ,[TotalCorruptFiles] ,[TotalInUseFiles] FROM [BEDB].[dbo].[JobHistorySummary] WHERE [OriginalStartTime] > dateadd(day,-7, cast(getdate() as date))</p>\n\n<p>Voici le résultat de son exécution dans Management Studio.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1491\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/06/BE_listee_des_jobs.jpg\"><img src=\"https://techan.fr/images/2015/06/BE_listee_des_jobs.jpg\" alt=\"Lister les jobs concurrents dans BackupExec avec PowserShell\" title=\"\" /></a>L’historique des jobs sur les 7 derniers jours</p>\n\n<p></div> </p>\n\n<p>Voici le script PowerShell fourni sur le site <a href=\"https://social.technet.microsoft.com/Forums/scriptcenter/en-US/f00d1c09-6373-415d-ab91-cfb80e94395d/powershell-xml-to-csv-backup-exec-logfiles\">technet.microsoft.com</a>, j’y ai juste ajouté une sortie dans un fichier CSV.</p>\n\n<p>$sqlinstance='<NOM DU SERVEUR WINDOWS>\\' $connectionstring=\"Integrated Security=SSPI;Persist Security Info=False;Initial Catalog=BEDB;Data Source=$sqlinstance\" $date=[dateTIme]::Today.AddDays(-7) $query=@\" SELECT [JobName] ,[ActualStartTime] ,[EndTime] ,[ElapsedTimeSeconds] ,[FinalJobStatus] ,[FinalErrorCode] ,[MachineName] ,[TargetName] ,[MediaSetName] ,[TotalDataSizeBytes] ,[TotalNumberOfFiles] ,[TotalNumberOfDirectories] ,[TotalSkippedFiles] ,[TotalCorruptFiles] ,[TotalInUseFiles] FROM [BEDB].[dbo].[JobHistorySummary] WHERE [OriginalStartTime] > '$date' ORDER BY [ActualStartTime], [EndTime] \"@ function Get-DatabaseData { [CmdletBinding()] param( [string]$connectionString, [string]$query ) $connection = New-Object System.Data.SqlClient.SqlConnection $connection.ConnectionString = $connectionString $command = $connection.CreateCommand() $command.CommandText = $query $adapter = New-Object System.Data.SqlClient.SqlDataAdapter $command $dataset = New-Object System.Data.DataSet [void]$adapter.Fill($dataset) $dataset.Tables[0] } function Out-Excel { param($Path = \"C:\\temp\\BE<em>Reports\\Job</em>History_$(Get-Date -Format yyyyMMddHHmmss).csv\") $input | Export-CSV -Path $Path -UseCulture -Encoding UTF8 -NoTypeInformation Invoke-Item -Path $Path } Get-DatabaseData $connectionstring $query | select machinename, actualstarttime, finaljobstatus, targetname Get-DatabaseData $connectionstring $query | Out-Excel</p>\n\n<p>C’est intéressant, mais voyons comment répondre à la problématique …</p>\n\n<h2 id=\"listerlesjobsconcurrentsdansbackupexecavecpowsershell\">Lister les jobs concurrents dans BackupExec avec PowserShell</h2>\n\n<p>Voici donc la requête que j’ai créée à partir de celle que j’ai présentée plus haut.</p>\n\n<p>WITH ALL<em>JOBS AS ( SELECT [JobHistoryID] ,[JobName] ,[ActualStartTime] ,[EndTime] ,[ElapsedTimeSeconds] ,[FinalJobStatus] ,[FinalErrorCode] ,[MachineName] ,[TargetName] ,[MediaSetName] ,[TotalDataSizeBytes] ,[TotalNumberOfFiles] ,[TotalNumberOfDirectories] ,[TotalSkippedFiles] ,[TotalCorruptFiles] ,[TotalInUseFiles] FROM [BEDB].[dbo].[JobHistorySummary] WHERE [OriginalStartTime] > dateadd(day,-7, cast(getdate() as date)) ) SELECT ALL</em>JOBS.JobName, ALL<em>JOBS.ActualStartTime, ALL</em>JOBS.EndTime, ALL<em>JOBS.TargetName, ( SELECT JobName + ', ' AS 'data()' FROM [BEDB].[dbo].[JobHistorySummary] WHERE [BEDB].[dbo].[JobHistorySummary].[JobHistoryID] != ALL</em>JOBS.[JobHistoryID] AND [BEDB].[dbo].[JobHistorySummary].[TargetName] = ALL<em>JOBS.[TargetName] AND ( ([BEDB].[dbo].[JobHistorySummary].[ActualStartTime] BETWEEN ALL</em>JOBS.[ActualStartTime] AND ALL<em>JOBS.[EndTime] ) OR ([BEDB].[dbo].[JobHistorySummary].[EndTime] BETWEEN ALL</em>JOBS.[ActualStartTime] AND ALL<em>JOBS.[EndTime] ) ) FOR XML PATH('') ) AS 'Jobs Concurrents' FROM ALL</em>JOBS ORDER BY ALL<em>JOBS.ActualStartTime DESC, ALL</em>JOBS.EndTime DESC</p>\n\n<p>Pour chacun des jobs listés dans l’historique, j’ajoute un champ dans lequel je concatène le nom des jobs qui remplissent les conditions suivantes :</p>\n\n<ul>\n<li>Ne pas avoir le même ID que le job étudié : un job ne peut pas se concurrencer lui même.</li>\n<li>Avoir la même target que le job étudié : je compare uniquement la concurrence des jobs sur disque entre eux et des jobs sur bandes entre eux.</li>\n<li><p>Il faut également que la période d’exécution du job « concurrent » empiète sur celle du job étudié.</p></li>\n</ul>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1492\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/06/BE_jobs_concurrents.jpg\"><img src=\"https://techan.fr/images/2015/06/BE_jobs_concurrents.jpg\" alt=\"Lister les jobs concurrents dans BackupExec avec PowserShell\" title=\"\" /></a>On voit ici que les deux jobs sont concurrents.</p>\n\n<p></div> </p>\n\n<p>J’ai adapté le script PowerShell avec cette requête et j’y ai ajouté une sortie vers un fichier CSV afin de me simplifier la lecture des résultats.</p>\n\n<p>$sqlinstance='<NOM DU SERVEUR WINDOWS>\\' $connectionstring=\"Integrated Security=SSPI;Persist Security Info=False;Initial Catalog=BEDB;Data Source=$sqlinstance\" $date=[dateTIme]::Today.AddDays(-7) $query=@\" WITH ALL<em>JOBS AS ( SELECT [JobHistoryID] ,[JobName] ,[ActualStartTime] ,[EndTime] ,[ElapsedTimeSeconds] ,[FinalJobStatus] ,[FinalErrorCode] ,[MachineName] ,[TargetName] ,[MediaSetName] ,[TotalDataSizeBytes] ,[TotalNumberOfFiles] ,[TotalNumberOfDirectories] ,[TotalSkippedFiles] ,[TotalCorruptFiles] ,[TotalInUseFiles] FROM [BEDB].[dbo].[JobHistorySummary] WHERE [OriginalStartTime] > '$date' ) SELECT ALL</em>JOBS.JobName, ALL<em>JOBS.ActualStartTime, ALL</em>JOBS.EndTime, ALL<em>JOBS.TargetName, ( SELECT JobName + ', ' AS 'data()' FROM [BEDB].[dbo].[JobHistorySummary] WHERE [BEDB].[dbo].[JobHistorySummary].[JobHistoryID] != ALL</em>JOBS.[JobHistoryID] AND [BEDB].[dbo].[JobHistorySummary].[TargetName] = ALL<em>JOBS.[TargetName] AND ( ([BEDB].[dbo].[JobHistorySummary].[ActualStartTime] BETWEEN ALL</em>JOBS.[ActualStartTime] AND ALL<em>JOBS.[EndTime] ) OR ([BEDB].[dbo].[JobHistorySummary].[EndTime] BETWEEN ALL</em>JOBS.[ActualStartTime] AND ALL<em>JOBS.[EndTime] ) ) FOR XML PATH('') ) AS 'Jobs Concurrents' FROM ALL</em>JOBS ORDER BY ALL<em>JOBS.ActualStartTime DESC, ALL</em>JOBS.EndTime DESC \"@ function Get-DatabaseData { [CmdletBinding()] param( [string]$connectionString, [string]$query ) $connection = New-Object System.Data.SqlClient.SqlConnection $connection.ConnectionString = $connectionString $command = $connection.CreateCommand() $command.CommandText = $query $adapter = New-Object System.Data.SqlClient.SqlDataAdapter $command $dataset = New-Object System.Data.DataSet [void]$adapter.Fill($dataset) $dataset.Tables[0] } function Out-Excel { param($Path = \"C:\\temp\\BE<em>Reports\\Job</em>Concurrents_$(Get-Date -Format yyyyMMddHHmmss).csv\") $input | Export-CSV -Path $Path -UseCulture -Encoding UTF8 -NoTypeInformation Invoke-Item -Path $Path } Get-DatabaseData $connectionstring $query | Out-Excel</p>\n\n<p>Et voilà, il ne reste plus qu’a analyser et modifier les jobs BackupEXEC.</p>\n\n<h2 id=\"sources\"> Sources :</h2>\n\n<ul>\n<li>Post sur le site <a href=\"https://social.technet.microsoft.com/Forums/scriptcenter/en-US/f00d1c09-6373-415d-ab91-cfb80e94395d/powershell-xml-to-csv-backup-exec-logfiles\">technet.microsoft.com</a></li>\n<li>Sur <a href=\"http://blogs.technet.com\">blogs.technet.com</a> : <a href=\"http://blogs.technet.com/b/heyscriptingguy/archive/2014/01/10/powershell-and-excel-fast-safe-and-reliable.aspx\">PowerShell and Excel: Fast, Safe, and Reliable</a></li>\n</ul>","image":"http://blog.techan.fr/images/2015/06/powershell-logo.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-24T16:29:34.000Z","created_by":1,"updated_at":"2015-06-24T16:29:34.000Z","updated_by":1,"published_at":"2015-06-24T16:29:34.000Z","published_by":1},{"id":144,"uuid":"0aa4caf9-0102-4c83-814c-85c99880ef81","title":"Problème de flush de cache disque sur Linux hébergeant Oracle","slug":"probleme-de-flush-de-cache-disque-sur-linux-hebergeant-oracle","markdown":"\nEn arrivant chez mon client ce matin, je me suis rendu compte en ouvrant ma boite mail qu’ils avaient du passer une assez sale nuit … En effet, une livraison était prévue sur une des bases Oracle critique de la société. Cette livraison comprenait entre autre l’exécution de scripts sur la-dite base. Lorsque que le script SQL a été lancé, la personne qui réalisait ces actions a remarquer que l’exécution des commandes était de plus en plus lente, jusqu’à ne plus passer du tout. Quelques minutes après la base s’arrêtait violemment … Impossible alors de relancer la base, il lui a fallut redémarrer la VM pour pouvoir relancer Oracle.\n\nJ’ai donc pris mon client SSH préféré et voici ce que j’ai trouvé dans l’alert.log de la base.\n\nWARNING:io_getevents timed out 600 sec Tue Jun 23 20:21:56 2015 Errors in file /u01/oracle/diag/rdbms/labase/LABASE/trace/LABASE_ora_30952.trc  (incident=58427): ORA-00494: mise en file d'attente [CF] détenue pendant trop longtemps (plus de 900 secondes) par 'inst 1, osid 5336' Incident details in: /u01/oracle/diag/rdbms/labase/LABASE/incident/incdir_58427/LABASE_ora_30952_i58427.trc Killing enqueue blocker (pid=5336) on resource CF-00000000-00000000 by (pid=30952) by killing session 815.1\n\nFinalement le « pmon » a terminé l’instance … Je suis donc allez enquêter sur le pourquoi de cette interruption soudaine. Dans le fichier /var/log/messages j’ai trouvé des erreurs inquiétantes, pas mal de processus – dont certains appartenant à Oracle – ont été bloqués.\n\nJun 23 19:46:15 le-serveur kernel: INFO: task kworker/0:144:24895 blocked for more than 120 seconds. Jun 23 19:46:15 le-serveur kernel: \"echo 0 > /proc/sys/kernel/hung_task_timeout_secs\" disables this message. Jun 23 19:46:15 le-serveur kernel: kworker/0:144   D 0000000000000000     0 24895      2 0x00000080 Jun 23 19:46:15 le-serveur kernel: ffff88010edb3c58 0000000000000046 ffff88010edb3fd8 0000000000013fc0 Jun 23 19:46:15 le-serveur kernel: ffff88010edb2010 0000000000013fc0 0000000000013fc0 0000000000013fc0 Jun 23 19:46:15 le-serveur kernel: ffff88010edb3fd8 0000000000013fc0 ffff88010f318040 ffff88015dee24c0 Jun 23 19:46:15 le-serveur kernel: Call Trace: Jun 23 19:46:15 le-serveur kernel: [<ffffffff815924f9>] schedule+0x29/0x70 Jun 23 19:46:15 le-serveur kernel: [<ffffffff815927ee>] schedule_preempt_disabled+0xe/0x10 Jun 23 19:46:15 le-serveur kernel: [<ffffffff81590e27>] __mutex_lock_slowpath+0x177/0x220 Jun 23 19:46:15 le-serveur kernel: [<ffffffff8109dd44>] ? dequeue_entity+0x1a4/0x630 Jun 23 19:46:15 le-serveur kernel: [<ffffffff81590c8b>] mutex_lock+0x2b/0x50 Jun 23 19:46:15 le-serveur kernel: [<ffffffffa01976ef>] ext4_sync_file+0x9f/0x290 [ext4] Jun 23 19:46:15 le-serveur kernel: [<ffffffff811c02ae>] vfs_fsync_range+0x2e/0x30 Jun 23 19:46:15 le-serveur kernel: [<ffffffff811c0311>] generic_write_sync+0x41/0x50 Jun 23 19:46:15 le-serveur kernel: [<ffffffff811cbbbb>] dio_complete+0x11b/0x140 Jun 23 19:46:15 le-serveur kernel: [<ffffffff811cbd34>] dio_aio_complete_work+0x24/0x30 Jun 23 19:46:15 le-serveur kernel: [<ffffffff8107b8f0>] process_one_work+0x180/0x420 Jun 23 19:46:15 le-serveur kernel: [<ffffffff8107d92e>] worker_thread+0x12e/0x390 Jun 23 19:46:15 le-serveur kernel: [<ffffffff8107d800>] ? manage_workers+0x180/0x180 Jun 23 19:46:15 le-serveur kernel: [<ffffffff81082c7e>] kthread+0xce/0xe0 Jun 23 19:46:15 le-serveur kernel: [<ffffffff81082bb0>] ? kthread_freezable_should_stop+0x70/0x70 Jun 23 19:46:15 le-serveur kernel: [<ffffffff8159bf2c>] ret_from_fork+0x7c/0xb0 Jun 23 19:46:15 le-serveur kernel: [<ffffffff81082bb0>] ? kthread_freezable_should_stop+0x70/0x70\n\nLe site [oracleseeds.wordpress.com](https://oracleseeds.wordpress.com) m’a fourni une bonne partie de la réponse.\n\n[![Problème de flush de cache disque sur Linux hébergeant Oracle](https://techan.fr/images/2015/06/Capture-d’écran-2015-06-24-à-19.16.02.png)](https://techan.fr/images/2015/06/Capture-d’écran-2015-06-24-à-19.16.02.png)\n\n \n\nDonc le système se garde par défaut 40% de la mémoire du système pour faire du cache au niveau du File System.\n\n[root@le-serveur log]# sysctl vm.dirty_ratio vm.dirty_ratio = 20\n\n \n\nDans le cas de cette VM, le paramètre « vm.dirty_ratio » est positionné à 20 donc 20% des 18 Go de RAM dont elle dispose ça fait 3,6 Go de cache. Quand ces 3,6 Go sont pleins, le système écrit ce cache sur le disque, les nouvelles I/O réalisées pendant ce processus deviennent <span style=\"text-decoration: underline;\">synchrones</span>.\n\nLe système a une limite de 120 secondes pour flusher son cache d’ou le calcul de la mort, pour flusher 3,6 Go en 120 secondes, il faut un écrire 30,72 Mo/s. Ce qui n’était malheureusement pas le cas de cette VM à ce moment là. Dans les statistiques de l’ESXi qui l’héberge, j’ai pu voir que la vitesse d’écriture maximum au moment de ce flush était de 18 Mo/s.\n\n \n\nUne première action corrective sera de passer le paramètre « vm.dirty_ratio » à 10, ainsi on n’aura que 1,8 Go de RAM a flusher en 120 secondes.\n\n[root@le-serveur log]# sysctl vm.dirty_ratio=10\n\nPour rendre cette modification persistante après un reboot de la machine, il faut l’ajouter dans le fichier « /etc/systcl.conf ».\n\n \n\nIl faudra également améliorer les performances d’écritures de l’ESXi et de cette VM Oracle pour se prémunir de futures erreurs comme celle-ci.\n\n \n\n\n## Sources\n\n- [blog.ronnyegner-consulting.de](http://blog.ronnyegner-consulting.de/2011/10/13/info-task-blocked-for-more-than-120-seconds/comment-page-1/)\n- [oracleseeds.wordpress.com](https://oracleseeds.wordpress.com/2012/03/02/dedicated-and-shared-server-processes/)\n\n \n\n\n","html":"<p>En arrivant chez mon client ce matin, je me suis rendu compte en ouvrant ma boite mail qu’ils avaient du passer une assez sale nuit … En effet, une livraison était prévue sur une des bases Oracle critique de la société. Cette livraison comprenait entre autre l’exécution de scripts sur la-dite base. Lorsque que le script SQL a été lancé, la personne qui réalisait ces actions a remarquer que l’exécution des commandes était de plus en plus lente, jusqu’à ne plus passer du tout. Quelques minutes après la base s’arrêtait violemment … Impossible alors de relancer la base, il lui a fallut redémarrer la VM pour pouvoir relancer Oracle.</p>\n\n<p>J’ai donc pris mon client SSH préféré et voici ce que j’ai trouvé dans l’alert.log de la base.</p>\n\n<p>WARNING:io<em>getevents timed out 600 sec Tue Jun 23 20:21:56 2015 Errors in file /u01/oracle/diag/rdbms/labase/LABASE/trace/LABASE</em>ora<em>30952.trc  (incident=58427): ORA-00494: mise en file d'attente [CF] détenue pendant trop longtemps (plus de 900 secondes) par 'inst 1, osid 5336' Incident details in: /u01/oracle/diag/rdbms/labase/LABASE/incident/incdir</em>58427/LABASE<em>ora</em>30952_i58427.trc Killing enqueue blocker (pid=5336) on resource CF-00000000-00000000 by (pid=30952) by killing session 815.1</p>\n\n<p>Finalement le « pmon » a terminé l’instance … Je suis donc allez enquêter sur le pourquoi de cette interruption soudaine. Dans le fichier /var/log/messages j’ai trouvé des erreurs inquiétantes, pas mal de processus – dont certains appartenant à Oracle – ont été bloqués.</p>\n\n<p>Jun 23 19:46:15 le-serveur kernel: INFO: task kworker/0:144:24895 blocked for more than 120 seconds. Jun 23 19:46:15 le-serveur kernel: \"echo 0 > /proc/sys/kernel/hung<em>task</em>timeout<em>secs\" disables this message. Jun 23 19:46:15 le-serveur kernel: kworker/0:144   D 0000000000000000     0 24895      2 0x00000080 Jun 23 19:46:15 le-serveur kernel: ffff88010edb3c58 0000000000000046 ffff88010edb3fd8 0000000000013fc0 Jun 23 19:46:15 le-serveur kernel: ffff88010edb2010 0000000000013fc0 0000000000013fc0 0000000000013fc0 Jun 23 19:46:15 le-serveur kernel: ffff88010edb3fd8 0000000000013fc0 ffff88010f318040 ffff88015dee24c0 Jun 23 19:46:15 le-serveur kernel: Call Trace: Jun 23 19:46:15 le-serveur kernel: [<ffffffff815924f9>] schedule+0x29/0x70 Jun 23 19:46:15 le-serveur kernel: [<ffffffff815927ee>] schedule</em>preempt<em>disabled+0xe/0x10 Jun 23 19:46:15 le-serveur kernel: [<ffffffff81590e27>] _</em>mutex<em>lock</em>slowpath+0x177/0x220 Jun 23 19:46:15 le-serveur kernel: [<ffffffff8109dd44>] ? dequeue<em>entity+0x1a4/0x630 Jun 23 19:46:15 le-serveur kernel: [<ffffffff81590c8b>] mutex</em>lock+0x2b/0x50 Jun 23 19:46:15 le-serveur kernel: [<ffffffffa01976ef>] ext4<em>sync</em>file+0x9f/0x290 [ext4] Jun 23 19:46:15 le-serveur kernel: [<ffffffff811c02ae>] vfs<em>fsync</em>range+0x2e/0x30 Jun 23 19:46:15 le-serveur kernel: [<ffffffff811c0311>] generic<em>write</em>sync+0x41/0x50 Jun 23 19:46:15 le-serveur kernel: [<ffffffff811cbbbb>] dio<em>complete+0x11b/0x140 Jun 23 19:46:15 le-serveur kernel: [<ffffffff811cbd34>] dio</em>aio<em>complete</em>work+0x24/0x30 Jun 23 19:46:15 le-serveur kernel: [<ffffffff8107b8f0>] process<em>one</em>work+0x180/0x420 Jun 23 19:46:15 le-serveur kernel: [<ffffffff8107d92e>] worker<em>thread+0x12e/0x390 Jun 23 19:46:15 le-serveur kernel: [<ffffffff8107d800>] ? manage</em>workers+0x180/0x180 Jun 23 19:46:15 le-serveur kernel: [<ffffffff81082c7e>] kthread+0xce/0xe0 Jun 23 19:46:15 le-serveur kernel: [<ffffffff81082bb0>] ? kthread<em>freezable</em>should<em>stop+0x70/0x70 Jun 23 19:46:15 le-serveur kernel: [<ffffffff8159bf2c>] ret</em>from<em>fork+0x7c/0xb0 Jun 23 19:46:15 le-serveur kernel: [<ffffffff81082bb0>] ? kthread</em>freezable<em>should</em>stop+0x70/0x70</p>\n\n<p>Le site <a href=\"https://oracleseeds.wordpress.com\">oracleseeds.wordpress.com</a> m’a fourni une bonne partie de la réponse.</p>\n\n<p><a href=\"https://techan.fr/images/2015/06/Capture-d’écran-2015-06-24-à-19.16.02.png\"><img src=\"https://techan.fr/images/2015/06/Capture-d’écran-2015-06-24-à-19.16.02.png\" alt=\"Problème de flush de cache disque sur Linux hébergeant Oracle\" title=\"\" /></a></p>\n\n<p>Donc le système se garde par défaut 40% de la mémoire du système pour faire du cache au niveau du File System.</p>\n\n<p>[root@le-serveur log]# sysctl vm.dirty<em>ratio vm.dirty</em>ratio = 20</p>\n\n<p>Dans le cas de cette VM, le paramètre « vm.dirty_ratio » est positionné à 20 donc 20% des 18 Go de RAM dont elle dispose ça fait 3,6 Go de cache. Quand ces 3,6 Go sont pleins, le système écrit ce cache sur le disque, les nouvelles I/O réalisées pendant ce processus deviennent <span style=\"text-decoration: underline;\">synchrones</span>.</p>\n\n<p>Le système a une limite de 120 secondes pour flusher son cache d’ou le calcul de la mort, pour flusher 3,6 Go en 120 secondes, il faut un écrire 30,72 Mo/s. Ce qui n’était malheureusement pas le cas de cette VM à ce moment là. Dans les statistiques de l’ESXi qui l’héberge, j’ai pu voir que la vitesse d’écriture maximum au moment de ce flush était de 18 Mo/s.</p>\n\n<p>Une première action corrective sera de passer le paramètre « vm.dirty_ratio » à 10, ainsi on n’aura que 1,8 Go de RAM a flusher en 120 secondes.</p>\n\n<p>[root@le-serveur log]# sysctl vm.dirty_ratio=10</p>\n\n<p>Pour rendre cette modification persistante après un reboot de la machine, il faut l’ajouter dans le fichier « /etc/systcl.conf ».</p>\n\n<p>Il faudra également améliorer les performances d’écritures de l’ESXi et de cette VM Oracle pour se prémunir de futures erreurs comme celle-ci.</p>\n\n<h2 id=\"sources\">Sources</h2>\n\n<ul>\n<li><a href=\"http://blog.ronnyegner-consulting.de/2011/10/13/info-task-blocked-for-more-than-120-seconds/comment-page-1/\">blog.ronnyegner-consulting.de</a></li>\n<li><p><a href=\"https://oracleseeds.wordpress.com/2012/03/02/dedicated-and-shared-server-processes/\">oracleseeds.wordpress.com</a></p></li>\n</ul>","image":"http://blog.techan.fr/images/2014/10/SQL_term.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-24T19:32:29.000Z","created_by":1,"updated_at":"2015-06-24T19:32:29.000Z","updated_by":1,"published_at":"2015-06-24T19:32:29.000Z","published_by":1},{"id":145,"uuid":"69eb01b2-1c53-4aa0-b6c4-368d49229f79","title":"Petite parenthèse de Geek solidaire pour soutenir une bonne cause","slug":"petite-parenthese-de-geek-solidaire-soutenir-bonne-cause","markdown":"\nBonjour à tous,\n\nPetite parenthèse de Geek solidaire pour soutenir une bonne cause.  L’association [Village Pilote](http://villagepilote.org/) organise son tout premier Festival Solidaire cet été à Lyon pour soutenir les actions qu’elle mène auprès des enfants des rues au Sénégal. Peut-être l’avez-vous déjà visionner mais [un reportage sur Village Pilote](http://www.dailymotion.com/video/x2tqfxf) a été diffusé sur France 2 et TV5 Monde la semaine dernière, pour ceux que ça intéresse ","html":"<p>Bonjour à tous,</p>\n\n<p>Petite parenthèse de Geek solidaire pour soutenir une bonne cause.  L’association <a href=\"http://villagepilote.org/\">Village Pilote</a> organise son tout premier Festival Solidaire cet été à Lyon pour soutenir les actions qu’elle mène auprès des enfants des rues au Sénégal. Peut-être l’avez-vous déjà visionner mais <a href=\"http://www.dailymotion.com/video/x2tqfxf\">un reportage sur Village Pilote</a> a été diffusé sur France 2 et TV5 Monde la semaine dernière, pour ceux que ça intéresse ","image":"http://blog.techan.fr/images/2015/06/village_pilote.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-25T15:40:22.000Z","created_by":1,"updated_at":"2015-08-03T16:19:26.000Z","updated_by":1,"published_at":"2015-06-25T15:40:22.000Z","published_by":1},{"id":146,"uuid":"19e900f9-ee63-4d88-ad1e-37d10e0d3e2d","title":"Retirer les doublons dans Photos sur Mac avec PhotoSweeper","slug":"retirer-les-doublons-dans-photos-sur-mac-avec-photosweeper","markdown":"\nJ’ai récemment indiqué que j’avais pu supprimer mes photos doublonnées dans la toute nouvelle bibliothèque de Photos avec [PhotoSweeper](http://overmacs.com/?p=photosweeper) (voir [Trouver et supprimer les doublons dans Photos sur Mac](https://techan.fr/trouver-et-supprimer-les-doublons-dans-photos-sur-mac/)). Or, l’interface de cet outil bien pratique n’est pas traduite en Français, ce qui pose problème à des utilisateurs qui aimeraient également nettoyer un peu cette bibliothèque.\n\nC’est le cas de lilie22 qui m’a gentiment demandé de l’aide. Je vais donc expliquer ici la marche à suivre pour faire du ménage dans vos doublons en utilisant [PhotoSweeper](http://overmacs.com/?p=photosweeper).\n\n[![Retirer les doublons dans Photos sur Mac avec PhotoSweeper](https://techan.fr/images/2015/05/screenshot.513.jpg)](https://techan.fr/images/2015/05/screenshot.513.jpg)\n\n\n## La marche à suivre\n\nDans un premier temps, après avoir lancé l’application, vous devez lui donner votre photothèque. Pour ce faire, il suffit de glisser/déposer le fichier « Photothèque » qui se trouve par défaut dans le dossier « Images » de votre répertoire personnel.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1505\" style=\"width: 664px\">[![Retirer les doublons dans Photos sur Mac avec PhotoSweeper](https://techan.fr/images/2015/06/1_charger_bibliothèque_photos.png)](https://techan.fr/images/2015/06/1_charger_bibliothèque_photos.png)Glisser/déposer la photothèque.\n\n</div> \n\nLe programme demande votre confirmation, cliquez sur « Add ».\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1506\" style=\"width: 410px\">[![Retirer les doublons dans Photos sur Mac avec PhotoSweeper](https://techan.fr/images/2015/06/2_charger_bibliothèque_photos_configrmation.png)](https://techan.fr/images/2015/06/2_charger_bibliothèque_photos_configrmation.png)Cliquez sur « Add ».\n\n</div>En quelques secondes, vos photos apparaissent dans l’application. Il faut alors cliquer sur « Compare » pour que l’outil lance la recherche de doublons.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1507\" style=\"width: 664px\">[![Retirer les doublons dans Photos sur Mac avec PhotoSweeper](https://techan.fr/images/2015/06/3_cliquer_sur_comparer.png)](https://techan.fr/images/2015/06/3_cliquer_sur_comparer.png)Lorsque vos photos sont apparues, cliquez sur « Compare ».\n\n</div>PhotoSweeper vous demande ensuite quel type de doublons chercher, par défaut l’option sélectionnée est « Similar Photos » : « Photos with the same aspect ratio ». L’outil va comparer l’aspect « visuel » des photos au lieu de se contenter d’en comparer le nom ou la taille.\n\nCliquez sur « start » pour lancer la comparaison.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1508\" style=\"width: 430px\">[![Retirer les doublons dans Photos sur Mac avec PhotoSweeper](https://techan.fr/images/2015/06/4_choix_comparation-420x348.png)](https://techan.fr/images/2015/06/4_choix_comparation.png)Cliquez sur « Start ».\n\n</div>Pendant que l’analyse se poursuit, PhotoSweeper vous affiche une animation.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1509\" style=\"width: 209px\">[![Retirer les doublons dans Photos sur Mac avec PhotoSweeper](https://techan.fr/images/2015/06/5_comparaison_des_photos.png)](https://techan.fr/images/2015/06/5_comparaison_des_photos.png)L’animation lors de la comparaison.\n\n</div>Après quelques secondes/minutes, une question vous est posée. L’outil veut savoir s’il doit marquer automatiquement tous les doublons qu’il a trouvé. Les photos marquées seront supprimées dans une étape suivante. Lorsque vous avez deux photos identifiées comme « doublonnées », l’outil n’en marque qu’une pour suppression, la deuxième restera dans votre Photothèque.\n\nL’option « automark » permet de gagner du temps, mais attention, <span style=\"text-decoration: underline;\">vérifiez bien tous les doublons marqués pour ne pas perdre de photos !</span>\n\n[![Retirer les doublons dans Photos sur Mac avec PhotoSweeper](https://techan.fr/images/2015/06/6_menage_automatique-420x116.png)](https://techan.fr/images/2015/06/6_menage_automatique.png)\n\nVous pourrez ensuite contrôler les doublons identifiés, le plus pratique est d’utiliser le mode « Face-to-Face » accessible en haut au milieu de l’écran.\n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1511\" style=\"width: 664px\">[![Retirer les doublons dans Photos sur Mac avec PhotoSweeper](https://techan.fr/images/2015/06/7_comparaison_manuelle.png)](https://techan.fr/images/2015/06/7_comparaison_manuelle.png)Contrôle des doublons en mode « Face-to-Face ».\n\n</div>Pour marquer des photos comme « doublonnées » il suffit de cliquer sur « Mark » en bas à gauche, pour les marquer comme non « doublonnées » pareil, cliquez sur « Unmark ».\n\n[![Retirer les doublons dans Photos sur Mac avec PhotoSweeper](https://techan.fr/images/2015/06/8_marquer_comme_doublons.png)](https://techan.fr/images/2015/06/8_marquer_comme_doublons.png)\n\nLorsque que vous avez marqué et contrôlé toute vos photos, cliquez sur « Trash Marked » en bas à gauche. L’application Photos va aors s’ouvrir, il vous suffira de suivre les indications visuelles.\n\n\n","html":"<p>J’ai récemment indiqué que j’avais pu supprimer mes photos doublonnées dans la toute nouvelle bibliothèque de Photos avec <a href=\"http://overmacs.com/?p=photosweeper\">PhotoSweeper</a> (voir <a href=\"https://techan.fr/trouver-et-supprimer-les-doublons-dans-photos-sur-mac/\">Trouver et supprimer les doublons dans Photos sur Mac</a>). Or, l’interface de cet outil bien pratique n’est pas traduite en Français, ce qui pose problème à des utilisateurs qui aimeraient également nettoyer un peu cette bibliothèque.</p>\n\n<p>C’est le cas de lilie22 qui m’a gentiment demandé de l’aide. Je vais donc expliquer ici la marche à suivre pour faire du ménage dans vos doublons en utilisant <a href=\"http://overmacs.com/?p=photosweeper\">PhotoSweeper</a>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/05/screenshot.513.jpg\"><img src=\"https://techan.fr/images/2015/05/screenshot.513.jpg\" alt=\"Retirer les doublons dans Photos sur Mac avec PhotoSweeper\" title=\"\" /></a></p>\n\n<h2 id=\"lamarchesuivre\">La marche à suivre</h2>\n\n<p>Dans un premier temps, après avoir lancé l’application, vous devez lui donner votre photothèque. Pour ce faire, il suffit de glisser/déposer le fichier « Photothèque » qui se trouve par défaut dans le dossier « Images » de votre répertoire personnel.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1505\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/06/1_charger_bibliothèque_photos.png\"><img src=\"https://techan.fr/images/2015/06/1_charger_bibliothèque_photos.png\" alt=\"Retirer les doublons dans Photos sur Mac avec PhotoSweeper\" title=\"\" /></a>Glisser/déposer la photothèque.</p>\n\n<p></div> </p>\n\n<p>Le programme demande votre confirmation, cliquez sur « Add ».</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1506\" style=\"width: 410px\"><a href=\"https://techan.fr/images/2015/06/2_charger_bibliothèque_photos_configrmation.png\"><img src=\"https://techan.fr/images/2015/06/2_charger_bibliothèque_photos_configrmation.png\" alt=\"Retirer les doublons dans Photos sur Mac avec PhotoSweeper\" title=\"\" /></a>Cliquez sur « Add ».</p>\n\n<p></div>En quelques secondes, vos photos apparaissent dans l’application. Il faut alors cliquer sur « Compare » pour que l’outil lance la recherche de doublons.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1507\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/06/3_cliquer_sur_comparer.png\"><img src=\"https://techan.fr/images/2015/06/3_cliquer_sur_comparer.png\" alt=\"Retirer les doublons dans Photos sur Mac avec PhotoSweeper\" title=\"\" /></a>Lorsque vos photos sont apparues, cliquez sur « Compare ».</p>\n\n<p></div>PhotoSweeper vous demande ensuite quel type de doublons chercher, par défaut l’option sélectionnée est « Similar Photos » : « Photos with the same aspect ratio ». L’outil va comparer l’aspect « visuel » des photos au lieu de se contenter d’en comparer le nom ou la taille.</p>\n\n<p>Cliquez sur « start » pour lancer la comparaison.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1508\" style=\"width: 430px\"><a href=\"https://techan.fr/images/2015/06/4_choix_comparation.png\"><img src=\"https://techan.fr/images/2015/06/4_choix_comparation-420x348.png\" alt=\"Retirer les doublons dans Photos sur Mac avec PhotoSweeper\" title=\"\" /></a>Cliquez sur « Start ».</p>\n\n<p></div>Pendant que l’analyse se poursuit, PhotoSweeper vous affiche une animation.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1509\" style=\"width: 209px\"><a href=\"https://techan.fr/images/2015/06/5_comparaison_des_photos.png\"><img src=\"https://techan.fr/images/2015/06/5_comparaison_des_photos.png\" alt=\"Retirer les doublons dans Photos sur Mac avec PhotoSweeper\" title=\"\" /></a>L’animation lors de la comparaison.</p>\n\n<p></div>Après quelques secondes/minutes, une question vous est posée. L’outil veut savoir s’il doit marquer automatiquement tous les doublons qu’il a trouvé. Les photos marquées seront supprimées dans une étape suivante. Lorsque vous avez deux photos identifiées comme « doublonnées », l’outil n’en marque qu’une pour suppression, la deuxième restera dans votre Photothèque.</p>\n\n<p>L’option « automark » permet de gagner du temps, mais attention, <span style=\"text-decoration: underline;\">vérifiez bien tous les doublons marqués pour ne pas perdre de photos !</span></p>\n\n<p><a href=\"https://techan.fr/images/2015/06/6_menage_automatique.png\"><img src=\"https://techan.fr/images/2015/06/6_menage_automatique-420x116.png\" alt=\"Retirer les doublons dans Photos sur Mac avec PhotoSweeper\" title=\"\" /></a></p>\n\n<p>Vous pourrez ensuite contrôler les doublons identifiés, le plus pratique est d’utiliser le mode « Face-to-Face » accessible en haut au milieu de l’écran.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1511\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/06/7_comparaison_manuelle.png\"><img src=\"https://techan.fr/images/2015/06/7_comparaison_manuelle.png\" alt=\"Retirer les doublons dans Photos sur Mac avec PhotoSweeper\" title=\"\" /></a>Contrôle des doublons en mode « Face-to-Face ».</p>\n\n<p></div>Pour marquer des photos comme « doublonnées » il suffit de cliquer sur « Mark » en bas à gauche, pour les marquer comme non « doublonnées » pareil, cliquez sur « Unmark ».</p>\n\n<p><a href=\"https://techan.fr/images/2015/06/8_marquer_comme_doublons.png\"><img src=\"https://techan.fr/images/2015/06/8_marquer_comme_doublons.png\" alt=\"Retirer les doublons dans Photos sur Mac avec PhotoSweeper\" title=\"\" /></a></p>\n\n<p>Lorsque que vous avez marqué et contrôlé toute vos photos, cliquez sur « Trash Marked » en bas à gauche. L’application Photos va aors s’ouvrir, il vous suffira de suivre les indications visuelles.</p>","image":"http://blog.techan.fr/images/2015/05/screenshot.428.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-25T16:35:35.000Z","created_by":1,"updated_at":"2015-06-25T16:35:35.000Z","updated_by":1,"published_at":"2015-06-25T16:35:35.000Z","published_by":1},{"id":147,"uuid":"bac53fe1-cd2c-4601-8119-996356b1d4c3","title":"Installer Ubuntu MATE 15.04 sur une RaspBerry Pi 2","slug":"installer-ubuntu-mate-15-04-sur-une-raspberry-pi-2","markdown":"\nDepuis hier je suis l’heureux propriétaire d’un [Raspberry Pi 2 B](https://www.raspberrypi.org/products/raspberry-pi-2-model-b/), et je dois dire que cette toute petite machine m’a très vite séduit ! Sa simplicité tout d’abord, on déballe l’emballage, on la glisse dans sa boite, on insère une carte SD puis on branche clavier/souris et écran, on met sous tension et c’est parti ! Bon ok, c’est je suis passé un peu vite sur l’installation du système … Mais c’est enfantin ! Je ne vais pas redécrire ici la marche à suivre pour installer le système sur la carte SD car un super article à ce sujet existe déjà sur [raspbian-france.fr](http://raspbian-france.fr/creez-carte-sd-raspbian-raspberry-pi-windows/).\n\nDans l’article, les gens de [raspbian-france.fr](http://raspbian-france.fr) décrive la marche à suivre pour installer Raspbian, et bien les étapes sont les mêmes pour installer Ubuntu MATE 15.04 sur une RaspBerry Pi 2, c’est juste l’image qui change. Il faut aller [la télécharger par ici](http://master.dl.sourceforge.net/project/ubuntu-mate/15.04/armhf/ubuntu-mate-15.04-desktop-armhf-raspberry-pi-2.img.bz2). Lors du premier démarrage, vous pourrez customiser Ubuntu MATE et créer votre utilisateur. L’installer n’est cependant pas parfait et il vous faudra réaliser quelques actions – agrandir le file system, créer du swap, … – à la main, c’est ce que je vais décrire ici.\n\n\n## \n\n\n## Installer les programmes vitaux\n\nMême s’il y a déjà presque tout ce qu’il faut dans cette distribution, il manque quand même quelques utilitaire vitaux – selon moi. Vous comment les installer.\n\n$ sudo aptitude update $ sudo aptitude install htop openssh-server $ sudo aptitude upgrade $ sudo reboot\n\nJ’ajoute une petite mise à jour du système au passage ","html":"<p>Depuis hier je suis l’heureux propriétaire d’un <a href=\"https://www.raspberrypi.org/products/raspberry-pi-2-model-b/\">Raspberry Pi 2 B</a>, et je dois dire que cette toute petite machine m’a très vite séduit ! Sa simplicité tout d’abord, on déballe l’emballage, on la glisse dans sa boite, on insère une carte SD puis on branche clavier/souris et écran, on met sous tension et c’est parti ! Bon ok, c’est je suis passé un peu vite sur l’installation du système … Mais c’est enfantin ! Je ne vais pas redécrire ici la marche à suivre pour installer le système sur la carte SD car un super article à ce sujet existe déjà sur <a href=\"http://raspbian-france.fr/creez-carte-sd-raspbian-raspberry-pi-windows/\">raspbian-france.fr</a>.</p>\n\n<p>Dans l’article, les gens de <a href=\"http://raspbian-france.fr\">raspbian-france.fr</a> décrive la marche à suivre pour installer Raspbian, et bien les étapes sont les mêmes pour installer Ubuntu MATE 15.04 sur une RaspBerry Pi 2, c’est juste l’image qui change. Il faut aller <a href=\"http://master.dl.sourceforge.net/project/ubuntu-mate/15.04/armhf/ubuntu-mate-15.04-desktop-armhf-raspberry-pi-2.img.bz2\">la télécharger par ici</a>. Lors du premier démarrage, vous pourrez customiser Ubuntu MATE et créer votre utilisateur. L’installer n’est cependant pas parfait et il vous faudra réaliser quelques actions – agrandir le file system, créer du swap, … – à la main, c’est ce que je vais décrire ici.</p>\n\n<h2 id=\"\"> </h2>\n\n<h2 id=\"installerlesprogrammesvitaux\">Installer les programmes vitaux</h2>\n\n<p>Même s’il y a déjà presque tout ce qu’il faut dans cette distribution, il manque quand même quelques utilitaire vitaux – selon moi. Vous comment les installer.</p>\n\n<p>$ sudo aptitude update $ sudo aptitude install htop openssh-server $ sudo aptitude upgrade $ sudo reboot</p>\n\n<p>J’ajoute une petite mise à jour du système au passage ","image":"http://blog.techan.fr/images/2015/06/Raspi_Colour_R.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-28T13:44:27.000Z","created_by":1,"updated_at":"2015-06-28T13:44:27.000Z","updated_by":1,"published_at":"2015-06-28T13:44:27.000Z","published_by":1},{"id":148,"uuid":"3a2a5053-1eb6-4236-a06e-a0c0629f6f33","title":"Installer Flash pour Chromium sur un Raspberry Pi 2","slug":"installer-flash-pour-chromium-sur-un-raspberry-pi-2","markdown":"\nJe suis toujours en train de bidouiller sur ma toute nouvelle Raspberry Pi 2 – voir [Installer Ubuntu MATE 15.04 sur une RaspBerry Pi 2](https://techan.fr/installer-ubuntu-mate-15-04-sur-une-raspberry-pi-2/) – et aussi surprenant que cela puisse paraître, le lecteur Flash m’a manqué assez vite. C’est tout bête, j’ai voulu mettre de la musique depuis Spotify sur le Raspberry et sans Flash … Bah ça fonctionne pas, beurk !\n\nDu coup, j’ai cherché une solution sur la toile. La solution vient de Google – haha ! – et plus précisément de leur ChromeOS. En effet un bidouilleur a réussi à isoler la librairie permettant aux appareils sous ChromeOS de lire du contenu Flash et le propose pour le Rapsberry Pi. L’installation est assez simple mais elle ne fonctionne que pour Chromium visiblement … ","html":"<p>Je suis toujours en train de bidouiller sur ma toute nouvelle Raspberry Pi 2 – voir <a href=\"https://techan.fr/installer-ubuntu-mate-15-04-sur-une-raspberry-pi-2/\">Installer Ubuntu MATE 15.04 sur une RaspBerry Pi 2</a> – et aussi surprenant que cela puisse paraître, le lecteur Flash m’a manqué assez vite. C’est tout bête, j’ai voulu mettre de la musique depuis Spotify sur le Raspberry et sans Flash … Bah ça fonctionne pas, beurk !</p>\n\n<p>Du coup, j’ai cherché une solution sur la toile. La solution vient de Google – haha ! – et plus précisément de leur ChromeOS. En effet un bidouilleur a réussi à isoler la librairie permettant aux appareils sous ChromeOS de lire du contenu Flash et le propose pour le Rapsberry Pi. L’installation est assez simple mais elle ne fonctionne que pour Chromium visiblement … ","image":"http://blog.techan.fr/images/2015/06/Raspi_Colour_R.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-06-30T11:30:41.000Z","created_by":1,"updated_at":"2015-06-30T11:30:41.000Z","updated_by":1,"published_at":"2015-06-30T11:30:41.000Z","published_by":1},{"id":149,"uuid":"e4f24acc-8a1b-4630-8f48-77fb77a51db2","title":"La fin est proche ...","slug":"la-fin-est-proche","markdown":"\nHello tout le monde,\n\nCet article est une espèce d’appel à l’aide désespéré. En effet suite à un événement personnel, je ne serais plus en mesure d’assurer l’hébergement de ce site d’ici à la fin août, la fin est proche… La machine que je loue chez [Online.net](http://www.online.net/fr/serveur-dedie/dedibox-classic) me coûte presque 21 euros par mois et je ne pourrai plus supporter cette dépense d’ici les tout petits deux mois qui restent.\n\nC’est un crève cœur pour moi que de lâcher ce blog qui je pense vous rend service. L’affluence ne cesse de monter, vous êtes maintenant 75 en moyenne à consulter les articles que je vous ai concoctés contre 50 le mois dernier. Certains d’entre vous l’ont sûrement remarqué, de la pub est apparue récemment sur techan.fr, ce n’est pas de gaité de cœur que j’ai sauté ce pas, mais bien pour essayer de trouver des solutions. Malheureusement, celle ci n’est pas viable à court terme.\n\nMon souhait serait de trouver de bonnes âmes qui pourraient m’aider à sauver ces articles afin que de plus en plus de personnes puissent les lire et y trouver des réponses dans les mois et les années qui viennent.\n\nJ’ajoute un formulaire de contact ci dessous. Si vous souhaitez m’aider ou juste me témoigner votre sympathie, c’est ici.  \n Merci à tous !\n\nMrRaph_\n\n[contact-form to=’raphael.charrat@aldanet.fr’ subject='[TechAN La fin est proche …’][contact-field label=’Nom’ type=’name’ required=’1’/][contact-field label=’E-mail’ type=’email’ required=’1’/][contact-field label=’Site Web’ type=’url’/][contact-field label=’Commentaire’ type=’textarea’ required=’1’/][/contact-form]\n\n \n\n\n","html":"<p>Hello tout le monde,</p>\n\n<p>Cet article est une espèce d’appel à l’aide désespéré. En effet suite à un événement personnel, je ne serais plus en mesure d’assurer l’hébergement de ce site d’ici à la fin août, la fin est proche… La machine que je loue chez <a href=\"http://www.online.net/fr/serveur-dedie/dedibox-classic\">Online.net</a> me coûte presque 21 euros par mois et je ne pourrai plus supporter cette dépense d’ici les tout petits deux mois qui restent.</p>\n\n<p>C’est un crève cœur pour moi que de lâcher ce blog qui je pense vous rend service. L’affluence ne cesse de monter, vous êtes maintenant 75 en moyenne à consulter les articles que je vous ai concoctés contre 50 le mois dernier. Certains d’entre vous l’ont sûrement remarqué, de la pub est apparue récemment sur techan.fr, ce n’est pas de gaité de cœur que j’ai sauté ce pas, mais bien pour essayer de trouver des solutions. Malheureusement, celle ci n’est pas viable à court terme.</p>\n\n<p>Mon souhait serait de trouver de bonnes âmes qui pourraient m’aider à sauver ces articles afin que de plus en plus de personnes puissent les lire et y trouver des réponses dans les mois et les années qui viennent.</p>\n\n<p>J’ajoute un formulaire de contact ci dessous. Si vous souhaitez m’aider ou juste me témoigner votre sympathie, c’est ici. <br />\n Merci à tous !</p>\n\n<p>MrRaph_</p>\n\n<p>[contact-form to=’raphael.charrat@aldanet.fr’ subject='[TechAN La fin est proche …’][contact-field label=’Nom’ type=’name’ required=’1’/][contact-field label=’E-mail’ type=’email’ required=’1’/][contact-field label=’Site Web’ type=’url’/][contact-field label=’Commentaire’ type=’textarea’ required=’1’/][/contact-form]</p>","image":"http://blog.techan.fr/images/2014/09/cropped-TechAN_moyen13.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-07-04T17:57:34.000Z","created_by":1,"updated_at":"2015-08-03T16:19:17.000Z","updated_by":1,"published_at":"2015-07-04T17:57:34.000Z","published_by":1},{"id":150,"uuid":"b8f54b45-6e06-4f3c-aa6b-80cbe4da3936","title":"Désactiver l'écran de connexion dans Windows 10","slug":"desactiver-lecran-de-connexion-dans-windows-10","markdown":"\nSi vous avez réussi à faire la mise à jour de votre ordinateur vers Windows 10, il y a surement des points qui vous ennuient un peu. Pour ma part le premier d’entre eux est l’écran de connexion. Je n’accède à ma machine qu’à distance – avec TeamViewer ou via le streaming de Steam et l’écran de connexion a la fâcheuse tendance à s’afficher régulièrement. Ce comportement n’est pas gênant en soi mais empêche le steaming de Steam…\n\n \n\nEn effet, le streaming ne démarre pas si l’écran est verrouillé … J’ai donc cherché une solution afin de désactiver cela.\n\n \n\n\n## La marche à suivre\n\nIl va vous falloir utiliser l’éditeur du registre pour cela, pour le lancer pressez les touches **Windows **et **R** simultanément, une pop-up va s’ouvrir. Dans cette pop-up tapez **regedit** puis cliquez sur **Ok**.\n\n \n\n[![Désactiver l'écran de connexion dans Windows 10](https://techan.fr/images/2015/08/screenshot.679.jpg)](https://techan.fr/images/2015/08/screenshot.679.jpg)\n\nSi le système vous demande une confirmation, cliquez sur **Oui**.\n\n \n\n[![Désactiver l'écran de connexion dans Windows 10](https://techan.fr/images/2015/08/screenshot.680.jpg)](https://techan.fr/images/2015/08/screenshot.680.jpg)\n\nVous voici maintenant dans l’éditeur du registre. Nous allons y ajouter un valeur, pour cela, il faut naviguer dans les clefs – comme dans l’explorateur Windows. Suivez ce chemin dans l’arborescence :\n\n**HKEY_LOCAL_MACHINE** -> **SOFTWARE** -> **Policies** -> **Microsoft** -> **Personalization**\n\nSi vous n’avez pas la clef **Personalization**, il va falloir l’ajouter. Faites un clic droit sur la clef du niveau supérieur – **Windows** – dépliez le menu **Nouveau** puis cliquez sur **Clé**.\n\n \n\n[![Désactiver l'écran de connexion dans Windows 10](https://techan.fr/images/2015/08/screenshot.682.jpg)](https://techan.fr/images/2015/08/screenshot.682.jpg)\n\nNommez cette nouvelle clef **Personalization**.\n\n \n\n[![Désactiver l'écran de connexion dans Windows 10](https://techan.fr/images/2015/08/screenshot.683.jpg)](https://techan.fr/images/2015/08/screenshot.683.jpg)\n\n \n\n \n\n[![Désactiver l'écran de connexion dans Windows 10](https://techan.fr/images/2015/08/screenshot.681.jpg)](https://techan.fr/images/2015/08/screenshot.681.jpg)\n\n \n\n \n\nMaintenant, nous allons ajouter une nouvelle valeur dans la clef **Personalization**. Faites un clic droit sur la clef **Personalization**, développez le menu **Nouveau** et choisissez l’option **Valeur DWORD 32 bits**. Nommez cette nouvelle valeur **NoLockScreen**.\n\n \n\n[![Désactiver l'écran de connexion dans Windows 10](https://techan.fr/images/2015/08/screenshot.684.jpg)](https://techan.fr/images/2015/08/screenshot.684.jpg)\n\n \n\n[![Désactiver l'écran de connexion dans Windows 10](https://techan.fr/images/2015/08/screenshot.685.jpg)](https://techan.fr/images/2015/08/screenshot.685.jpg)\n\nDouble cliquez sur cette nouvelle valeur et mettez sa valeur à **1 **puis cliquez sur **Ok**.\n\n \n\n[![Désactiver l'écran de connexion dans Windows 10](https://techan.fr/images/2015/08/screenshot.686.jpg)](https://techan.fr/images/2015/08/screenshot.686.jpg)\n\nTout est prêt, vous n’avez plus qu’a redémarrer votre ordinateur, vous n’aurez plus l’écran de connexion à tout bout de champ !\n\n\n","html":"<p>Si vous avez réussi à faire la mise à jour de votre ordinateur vers Windows 10, il y a surement des points qui vous ennuient un peu. Pour ma part le premier d’entre eux est l’écran de connexion. Je n’accède à ma machine qu’à distance – avec TeamViewer ou via le streaming de Steam et l’écran de connexion a la fâcheuse tendance à s’afficher régulièrement. Ce comportement n’est pas gênant en soi mais empêche le steaming de Steam…</p>\n\n<p>En effet, le streaming ne démarre pas si l’écran est verrouillé … J’ai donc cherché une solution afin de désactiver cela.</p>\n\n<h2 id=\"lamarchesuivre\">La marche à suivre</h2>\n\n<p>Il va vous falloir utiliser l’éditeur du registre pour cela, pour le lancer pressez les touches <strong>Windows <em>*et *</em>R</strong> simultanément, une pop-up va s’ouvrir. Dans cette pop-up tapez <strong>regedit</strong> puis cliquez sur <strong>Ok</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.679.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.679.jpg\" alt=\"Désactiver l'écran de connexion dans Windows 10\" title=\"\" /></a></p>\n\n<p>Si le système vous demande une confirmation, cliquez sur <strong>Oui</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.680.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.680.jpg\" alt=\"Désactiver l'écran de connexion dans Windows 10\" title=\"\" /></a></p>\n\n<p>Vous voici maintenant dans l’éditeur du registre. Nous allons y ajouter un valeur, pour cela, il faut naviguer dans les clefs – comme dans l’explorateur Windows. Suivez ce chemin dans l’arborescence :</p>\n\n<p><strong>HKEY<em>LOCAL</em>MACHINE</strong> -> <strong>SOFTWARE</strong> -> <strong>Policies</strong> -> <strong>Microsoft</strong> -> <strong>Personalization</strong></p>\n\n<p>Si vous n’avez pas la clef <strong>Personalization</strong>, il va falloir l’ajouter. Faites un clic droit sur la clef du niveau supérieur – <strong>Windows</strong> – dépliez le menu <strong>Nouveau</strong> puis cliquez sur <strong>Clé</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.682.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.682.jpg\" alt=\"Désactiver l'écran de connexion dans Windows 10\" title=\"\" /></a></p>\n\n<p>Nommez cette nouvelle clef <strong>Personalization</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.683.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.683.jpg\" alt=\"Désactiver l'écran de connexion dans Windows 10\" title=\"\" /></a></p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.681.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.681.jpg\" alt=\"Désactiver l'écran de connexion dans Windows 10\" title=\"\" /></a></p>\n\n<p>Maintenant, nous allons ajouter une nouvelle valeur dans la clef <strong>Personalization</strong>. Faites un clic droit sur la clef <strong>Personalization</strong>, développez le menu <strong>Nouveau</strong> et choisissez l’option <strong>Valeur DWORD 32 bits</strong>. Nommez cette nouvelle valeur <strong>NoLockScreen</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.684.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.684.jpg\" alt=\"Désactiver l'écran de connexion dans Windows 10\" title=\"\" /></a></p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.685.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.685.jpg\" alt=\"Désactiver l'écran de connexion dans Windows 10\" title=\"\" /></a></p>\n\n<p>Double cliquez sur cette nouvelle valeur et mettez sa valeur à <strong>1 <em>*puis cliquez sur *</em>Ok</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.686.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.686.jpg\" alt=\"Désactiver l'écran de connexion dans Windows 10\" title=\"\" /></a></p>\n\n<p>Tout est prêt, vous n’avez plus qu’a redémarrer votre ordinateur, vous n’aurez plus l’écran de connexion à tout bout de champ !</p>","image":"http://blog.techan.fr/images/2015/06/windows_10_logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-08-03T09:13:26.000Z","created_by":1,"updated_at":"2015-09-21T10:16:43.000Z","updated_by":1,"published_at":"2015-08-03T09:13:26.000Z","published_by":1},{"id":151,"uuid":"42d92849-5559-4c4b-9b6e-31e841203f27","title":"Activer le God Mode dans Windows 10","slug":"activer-le-god-mode-dans-windows-10","markdown":"\nVoici une astuce que je viens de découvrir et qui permet de faire gagner pas mal de temps, surtout si comme moi vous galérez dans Windows 10 pour retrouver l’ancien Panneau de configuration qui est maintenant bien caché. Cette astuce permet d’afficher le « God Mode » de Windows, c’est un dossier avec un nom spécial dans lequel sont listés tous les paramètres de Windows.\n\n \n\nAvec cette astuce, vous n’aurez plus besoin de courir à droit et à gauche pour trouver les paramètres que vous cherchez. Il vous suffira de jeter un œil dans ce dossier – ou lancer une petite recherche dans ce dossier – pour trouver rapidement ce que vous cherchez. Et le top du top dans tout ça ? Il n’y a même pas besoin d’éditer la base de registre pour faire cela !\n\n \n\n<span style=\"text-decoration: underline;\">Note :</span>  Cette astuce fonctionne également sur Windows 7 et 8 ! ![:-)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n\n## La marche à suivre\n\nCréer un nouveau dossier ou vous le souhaitez, personnellement je l’ai fait sur le Bureau.\n\n[![Activer le God Mode dans Windows 10](https://techan.fr/images/2015/08/screenshot.693.jpg)](https://techan.fr/images/2015/08/screenshot.693.jpg)\n\nRenommez ce dossier comme ceci :\n\nGodMode.{ED7BA470-8E54-465E-825C-99712043E01C}\n\n \n\n \n\n[![Activer le God Mode dans Windows 10](https://techan.fr/images/2015/08/screenshot.694.jpg)](https://techan.fr/images/2015/08/screenshot.694.jpg)\n\nValidez la modification, le dossier va alors changer d’apparence, pour ressembler à une espèce d’ordinateur.\n\n[![Activer le God Mode dans Windows 10](https://techan.fr/images/2015/08/screenshot.695.jpg)](https://techan.fr/images/2015/08/screenshot.695.jpg)\n\nIl ne reste plus qu’à double cliquer sur ce dossier pour accéder aux paramètres Windows.\n\n \n\n[![Activer le God Mode dans Windows 10](https://techan.fr/images/2015/08/screenshot.696.jpg)](https://techan.fr/images/2015/08/screenshot.696.jpg)\n\n \n\n \n\n \n\n \n\n\n","html":"<p>Voici une astuce que je viens de découvrir et qui permet de faire gagner pas mal de temps, surtout si comme moi vous galérez dans Windows 10 pour retrouver l’ancien Panneau de configuration qui est maintenant bien caché. Cette astuce permet d’afficher le « God Mode » de Windows, c’est un dossier avec un nom spécial dans lequel sont listés tous les paramètres de Windows.</p>\n\n<p>Avec cette astuce, vous n’aurez plus besoin de courir à droit et à gauche pour trouver les paramètres que vous cherchez. Il vous suffira de jeter un œil dans ce dossier – ou lancer une petite recherche dans ce dossier – pour trouver rapidement ce que vous cherchez. Et le top du top dans tout ça ? Il n’y a même pas besoin d’éditer la base de registre pour faire cela !</p>\n\n<p><span style=\"text-decoration: underline;\">Note :</span>  Cette astuce fonctionne également sur Windows 7 et 8 ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":-)\" title=\"\" /></p>\n\n<h2 id=\"lamarchesuivre\">La marche à suivre</h2>\n\n<p>Créer un nouveau dossier ou vous le souhaitez, personnellement je l’ai fait sur le Bureau.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.693.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.693.jpg\" alt=\"Activer le God Mode dans Windows 10\" title=\"\" /></a></p>\n\n<p>Renommez ce dossier comme ceci :</p>\n\n<p>GodMode.{ED7BA470-8E54-465E-825C-99712043E01C}</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.694.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.694.jpg\" alt=\"Activer le God Mode dans Windows 10\" title=\"\" /></a></p>\n\n<p>Validez la modification, le dossier va alors changer d’apparence, pour ressembler à une espèce d’ordinateur.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.695.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.695.jpg\" alt=\"Activer le God Mode dans Windows 10\" title=\"\" /></a></p>\n\n<p>Il ne reste plus qu’à double cliquer sur ce dossier pour accéder aux paramètres Windows.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.696.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.696.jpg\" alt=\"Activer le God Mode dans Windows 10\" title=\"\" /></a></p>","image":"http://blog.techan.fr/images/2015/06/windows_10_logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-08-03T16:24:44.000Z","created_by":1,"updated_at":"2015-08-07T11:39:44.000Z","updated_by":1,"published_at":"2015-08-03T16:24:44.000Z","published_by":1},{"id":152,"uuid":"2612719c-858b-4c0f-97d9-3a932c07cf60","title":"Réinitialiser le mot de passe root sur une appliance vCenter","slug":"reinitialiser-le-mot-de-passe-root-sur-une-appliance-vcenter","markdown":"\nDans une infrastructure VMware le vCenter est bien souvent le cœur du dispositif et l’accès à son interface d’administration n’en ai que plus importante. Chez un client, le compte « root » du vCenter était verrouillé, j’ai cherché comment réinitialiser le mot de passe « root » du vCenter car ce mot de passe oublié/verrouillé empêchait de se connecter à la VAMI – Virtual Applicance Management Interface – à savoir, pour le vCenter l’URL de cette VAMI est https://<IP du vCenter>:5480/.\n\nCette interface permet de gérer les paramètres vitaux du vCenter – DB, SSO, Services, … – son accès est donc très important.\n\nVoici la méthode que j’ai suivie pour récupérer l’accès à cette VAMI via le compte « root ».\n\n \n\n\n## La marche à suivre\n\nLa première étape est de redémarrer le vCenter, au reboot, il faut éditer la configuration de GRUB.\n\nLorsque cet écran apparait, utilisez les flèches du clavier pour désactiver le boot automatique – quelques secondes par défaut.\n\n \n\n[![Réinitialiser le mot de passe root sur une appliance vCenter](https://techan.fr/images/2015/08/1_menu_GRUB.png)](https://techan.fr/images/2015/08/1_menu_GRUB.png)\n\n \n\nUne fois que vous êtes tranquille avec le boot automatique, appuyez sur la touche **p**, un mot de passe vous sera alors demandé.\n\n \n\n[![Réinitialiser le mot de passe root sur une appliance vCenter](https://techan.fr/images/2015/08/2_menu_GRUB_password.png)](https://techan.fr/images/2015/08/2_menu_GRUB_password.png)  \n Ce mot de passe est **vmware** par défaut. Ce mot de passe peut être différent si vous avez réinitialisé le mot de passe du compte root en utilisant la VAMI.\n\nUne fois le mot de passe accepté, surlignez la ligne **VMware vCenter Server Appliance** et appuyez sur **e**.\n\n \n\n[![Réinitialiser le mot de passe root sur une appliance vCenter](https://techan.fr/images/2015/08/3_menu_GRUB_kernel.png)](https://techan.fr/images/2015/08/3_menu_GRUB_kernel.png)\n\n \n\nSurlignez la ligne qui commence par **kernel** et appuyez sur la touche **e**.\n\nVous entrez en mode « édition », l’éditeur vous met directement en fin de ligne, ajoutez **init=/bin/bash** à la fin.\n\n \n\n[![4_menu_GRUB_kernel_bash](https://techan.fr/images/2015/08/4_menu_GRUB_kernel_bash.png)](https://techan.fr/images/2015/08/4_menu_GRUB_kernel_bash.png)\n\n \n\nUne fois l’ajout réalisé, appuyez sur **Entrée**. Le menu de GRUB réapparait alors, appuyez sur **b** pour lancer la séquence de boot de l’appliance.\n\nLe système démarre et vous amène directement dans un Shell « root », utilisez la commande **passwd root** pour changer le mot de passe de « root ».\n\n \n\n[![5_vcenter_boot_single](https://techan.fr/images/2015/08/5_vcenter_boot_single.png)](https://techan.fr/images/2015/08/5_vcenter_boot_single.png)\n\n \n\nTout est bon maintenant, il n’y a plus qu’à lancer un **reboot** de l’appliance et à attendre que le système démarre complètement.\n\nEt voilà, vous pouvez vous connecter à la VAMI en utilisant le nouveau mot de passe du compte « root ».\n\n \n\n[![6_vami_fonctionnelle](https://techan.fr/images/2015/08/6_vami_fonctionnelle.png)](https://techan.fr/images/2015/08/6_vami_fonctionnelle.png)\n\n \n\n\n## Source\n\n- [www.settlersoman.com (Anglais)](http://www.settlersoman.com/how-to-reset-root-password-on-vcenter-appliance/)\n\n\n","html":"<p>Dans une infrastructure VMware le vCenter est bien souvent le cœur du dispositif et l’accès à son interface d’administration n’en ai que plus importante. Chez un client, le compte « root » du vCenter était verrouillé, j’ai cherché comment réinitialiser le mot de passe « root » du vCenter car ce mot de passe oublié/verrouillé empêchait de se connecter à la VAMI – Virtual Applicance Management Interface – à savoir, pour le vCenter l’URL de cette VAMI est https://<IP du vCenter>:5480/.</p>\n\n<p>Cette interface permet de gérer les paramètres vitaux du vCenter – DB, SSO, Services, … – son accès est donc très important.</p>\n\n<p>Voici la méthode que j’ai suivie pour récupérer l’accès à cette VAMI via le compte « root ».</p>\n\n<h2 id=\"lamarchesuivre\">La marche à suivre</h2>\n\n<p>La première étape est de redémarrer le vCenter, au reboot, il faut éditer la configuration de GRUB.</p>\n\n<p>Lorsque cet écran apparait, utilisez les flèches du clavier pour désactiver le boot automatique – quelques secondes par défaut.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/1_menu_GRUB.png\"><img src=\"https://techan.fr/images/2015/08/1_menu_GRUB.png\" alt=\"Réinitialiser le mot de passe root sur une appliance vCenter\" title=\"\" /></a></p>\n\n<p>Une fois que vous êtes tranquille avec le boot automatique, appuyez sur la touche <strong>p</strong>, un mot de passe vous sera alors demandé.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/2_menu_GRUB_password.png\"><img src=\"https://techan.fr/images/2015/08/2_menu_GRUB_password.png\" alt=\"Réinitialiser le mot de passe root sur une appliance vCenter\" title=\"\" /></a> <br />\n Ce mot de passe est <strong>vmware</strong> par défaut. Ce mot de passe peut être différent si vous avez réinitialisé le mot de passe du compte root en utilisant la VAMI.</p>\n\n<p>Une fois le mot de passe accepté, surlignez la ligne <strong>VMware vCenter Server Appliance</strong> et appuyez sur <strong>e</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/3_menu_GRUB_kernel.png\"><img src=\"https://techan.fr/images/2015/08/3_menu_GRUB_kernel.png\" alt=\"Réinitialiser le mot de passe root sur une appliance vCenter\" title=\"\" /></a></p>\n\n<p>Surlignez la ligne qui commence par <strong>kernel</strong> et appuyez sur la touche <strong>e</strong>.</p>\n\n<p>Vous entrez en mode « édition », l’éditeur vous met directement en fin de ligne, ajoutez <strong>init=/bin/bash</strong> à la fin.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/4_menu_GRUB_kernel_bash.png\"><img src=\"https://techan.fr/images/2015/08/4_menu_GRUB_kernel_bash.png\" alt=\"4<em>menu</em>GRUB<em>kernel</em>bash\" title=\"\" /></a></p>\n\n<p>Une fois l’ajout réalisé, appuyez sur <strong>Entrée</strong>. Le menu de GRUB réapparait alors, appuyez sur <strong>b</strong> pour lancer la séquence de boot de l’appliance.</p>\n\n<p>Le système démarre et vous amène directement dans un Shell « root », utilisez la commande <strong>passwd root</strong> pour changer le mot de passe de « root ».</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/5_vcenter_boot_single.png\"><img src=\"https://techan.fr/images/2015/08/5_vcenter_boot_single.png\" alt=\"5<em>vcenter</em>boot_single\" title=\"\" /></a></p>\n\n<p>Tout est bon maintenant, il n’y a plus qu’à lancer un <strong>reboot</strong> de l’appliance et à attendre que le système démarre complètement.</p>\n\n<p>Et voilà, vous pouvez vous connecter à la VAMI en utilisant le nouveau mot de passe du compte « root ».</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/6_vami_fonctionnelle.png\"><img src=\"https://techan.fr/images/2015/08/6_vami_fonctionnelle.png\" alt=\"6<em>vami</em>fonctionnelle\" title=\"\" /></a></p>\n\n<h2 id=\"source\">Source</h2>\n\n<ul>\n<li><a href=\"http://www.settlersoman.com/how-to-reset-root-password-on-vcenter-appliance/\">www.settlersoman.com (Anglais)</a></li>\n</ul>","image":"http://blog.techan.fr/images/2015/01/vmware_vsphere_client_high_def_icon_by_flakshack-d4o96dy.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-08-04T16:24:49.000Z","created_by":1,"updated_at":"2015-08-04T16:24:49.000Z","updated_by":1,"published_at":"2015-08-04T16:24:49.000Z","published_by":1},{"id":153,"uuid":"13d8fced-6927-4bd1-a61d-0975e73a6c22","title":"Forcer un programme à utiliser une carte réseau sur Windows","slug":"forcer-un-programme-a-utiliser-une-carte-reseau-sur-windows","markdown":"\nUne des choses un peu pénibles sur Windows, c’est qu’il est très difficile – voire impossible – de forcer un programme à utiliser une carte réseau spécifique. C’est un problème pour moi car sur mon serveur – qui est désormais sous Windows 10 – j’héberge mon Media Center Plex, Steam pour le streaming local et j’utilise également cette machine pour faire du surf sur Internet à distance. Le problème c’est que je ne souhaite pas « polluer » la connexion Ethernet de la machine, que je veux dédier à Plex, avec mon surf internet.\n\nMon souhait était donc de forcer Plex à utiliser la carte Ethernet et Firefox la carte Wifi de la machine. La bonne nouvelle ? J’ai trouvé un petit programme qui permet de gérer ça assez facilement !!\n\n \n\n\n## ForceBindIP\n\nForceBindIP, c’est le nom de cet utilitaire. Sur le [site de l’éditeur](http://old.r1ch.net/stuff/forcebindip/), il est indiqué qu’il est compatible avec Windows NT/2000/XP/2003, pour ma part, j’ai testé sur Windows 10 cela fonctionne également ! ![:-)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\n#### L’installation de l’outil\n\nAlors là attention, c’est très très compliqué ! Le seul truc a savoir c’est que l’installeur n’a pas fonctionné, j’ai du utiliser [la version zippée](http://old.r1ch.net/stuff/forcebindip/download/ForceBindIP-1.2a.zip). Téléchargez donc ce zip et extrayez-en les deux fichiers qu’il contient :\n\n- BindIP.dll\n- ForceBindIP.exe\n\nLa librairie **BindIP.dll** doit être copiée dans le dossier **C:\\Windows\\System32**, le fichier exécutable lui, peut être placé ou vous le souhaitez. Pour ma part je l’ai mis dans **C:\\Tools**.\n\nIl ne vous reste plus qu’à modifier la variable d’environnement **path** afin de pouvoir utilise le programme de manière plus souple.\n\n<span style=\"text-decoration: underline;\">Note :</span> Cette étape n’est pas obligatoire, si vous ne la faites pas, il suffira d’appeler le programme avec son chemin complet au lieu du seul nom de l’exécutable.\n\n \n\n#### Ajouter le dossier au « path »\n\n \n\nOuvrez un explorateur de fichier, faites un clic droit sur **Ce PC** et cliquez sur **Propriétés**.\n\n[![Forcer un programme à utiliser une carte réseau sur Windows](https://techan.fr/images/2015/08/screenshot.709.jpg)](https://techan.fr/images/2015/08/screenshot.709.jpg)\n\nSur la gauche de la fenêtre qui s’ouvre, cliquez sur **Paramètres système avancés**.\n\n \n\n[![Forcer un programme à utiliser une carte réseau sur Windows](https://techan.fr/images/2015/08/screenshot.710.jpg)](https://techan.fr/images/2015/08/screenshot.710.jpg)\n\nDans la nouvelle fenêtre, cliquez sur **Variables d’environnement…**.\n\n \n\n[![Forcer un programme à utiliser une carte réseau sur Windows](https://techan.fr/images/2015/08/screenshot.711.jpg)](https://techan.fr/images/2015/08/screenshot.711.jpg)\n\n \n\nScrollez jusqu’à voir la ligne de la variable **path** et sélectionnez la et cliquez sur **Modifier**. Une pop-up s’ouvre, allez jusqu’à la fin de la **Valeur de la variable** et ajoutez la chaine suivante :\n\n;C:\\Tools\n\nAdaptez ce chemin en fonction de là ou vous avez enregistré le l’exécutable **ForceBinIP.exe**.\n\n \n\n[![Forcer un programme à utiliser une carte réseau sur Windows](https://techan.fr/images/2015/08/screenshot.712.jpg)](https://techan.fr/images/2015/08/screenshot.712.jpg)\n\nValidez le tout, fermez votre session et rouvrez la pour que les modifications soient prisent en compte.\n\n \n\n\n## Forcer un programme à utiliser une carte réseau sur Windows\n\nMaintenant que ForceBindIP est installé sur votre machine, voici comment l’utiliser.\n\n \n\nTout d’abord, il va falloir identifier les différentes adresses IP attribuées à votre ordinateur. Pour cela, appuyez sur les touches **Windows** et **R** simultanément.\n\n \n\n[![Forcer un programme à utiliser une carte réseau sur Windows](https://techan.fr/images/2015/08/screenshot.714.jpg)](https://techan.fr/images/2015/08/screenshot.714.jpg)\n\nTapez **cmd** dans la pop-up et cliquez sur **OK**. Une invite de commandes s’ouvre, tapez la commande :\n\nipconfig /all\n\nCeci va lister les informations concernant toutes les cartes réseau de la machine avec leur IP.\n\n \n\n[![Forcer un programme à utiliser une carte réseau sur Windows](https://techan.fr/images/2015/08/screenshot.715.jpg)](https://techan.fr/images/2015/08/screenshot.715.jpg)\n\nNotez la valeur en face du libellé **Adresse IPv4**.\n\nMaintenant, configurons une application pour utiliser ForceBinIP. Je vais prendre l’exemple de mon Firefox. Je lance habituellement ce programme via le raccourci qui se trouve sur le Bureau, on va donc faire un clic droit dessus.\n\n \n\n[![Forcer un programme à utiliser une carte réseau sur Windows](https://techan.fr/images/2015/08/screenshot.713.jpg)](https://techan.fr/images/2015/08/screenshot.713.jpg)\n\nCliquez sur **Propriétés**.\n\n \n\n[![Forcer un programme à utiliser une carte réseau sur Windows](https://techan.fr/images/2015/08/screenshot.716.jpg)](https://techan.fr/images/2015/08/screenshot.716.jpg)\n\nC’est dans le champs **Cible** que tout va se jouer. Par défaut, ce champ ne contient que le chemin vers le binaire de Firefox, nous allons ajouter **ForceBindIP **juste avant.\n\n \n\n<span style=\"text-decoration: underline;\">Si vous avez configuré la variable **path** et que vous vous êtes reconnecté</span> modifiez le champ **Cible **pour qu’il ressemble à ceci :\n\nForceBindIP.exe <IP de la carte> \"C:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe\"\n\n<span style=\"text-decoration: underline;\">Si vous n’avez pas configuré la variable **path** ou que vous ne vous êtes pas reconnecté</span> modifiez le champ **Cible **pour qu’il ressemble à ceci :\n\nC:\\Tools\\ForceBindIP.exe <IP de la carte> \"C:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe\"\n\n \n\nValidez les changements de relancez Firefox !\n\nCette méthode peut être appliquée à bien d’autre programmes ! ","html":"<p>Une des choses un peu pénibles sur Windows, c’est qu’il est très difficile – voire impossible – de forcer un programme à utiliser une carte réseau spécifique. C’est un problème pour moi car sur mon serveur – qui est désormais sous Windows 10 – j’héberge mon Media Center Plex, Steam pour le streaming local et j’utilise également cette machine pour faire du surf sur Internet à distance. Le problème c’est que je ne souhaite pas « polluer » la connexion Ethernet de la machine, que je veux dédier à Plex, avec mon surf internet.</p>\n\n<p>Mon souhait était donc de forcer Plex à utiliser la carte Ethernet et Firefox la carte Wifi de la machine. La bonne nouvelle ? J’ai trouvé un petit programme qui permet de gérer ça assez facilement !!</p>\n\n<h2 id=\"forcebindip\">ForceBindIP</h2>\n\n<p>ForceBindIP, c’est le nom de cet utilitaire. Sur le <a href=\"http://old.r1ch.net/stuff/forcebindip/\">site de l’éditeur</a>, il est indiqué qu’il est compatible avec Windows NT/2000/XP/2003, pour ma part, j’ai testé sur Windows 10 cela fonctionne également ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":-)\" title=\"\" /></p>\n\n<h4 id=\"linstallationdeloutil\">L’installation de l’outil</h4>\n\n<p>Alors là attention, c’est très très compliqué ! Le seul truc a savoir c’est que l’installeur n’a pas fonctionné, j’ai du utiliser <a href=\"http://old.r1ch.net/stuff/forcebindip/download/ForceBindIP-1.2a.zip\">la version zippée</a>. Téléchargez donc ce zip et extrayez-en les deux fichiers qu’il contient :</p>\n\n<ul>\n<li>BindIP.dll</li>\n<li>ForceBindIP.exe</li>\n</ul>\n\n<p>La librairie <strong>BindIP.dll</strong> doit être copiée dans le dossier <strong>C:\\Windows\\System32</strong>, le fichier exécutable lui, peut être placé ou vous le souhaitez. Pour ma part je l’ai mis dans <strong>C:\\Tools</strong>.</p>\n\n<p>Il ne vous reste plus qu’à modifier la variable d’environnement <strong>path</strong> afin de pouvoir utilise le programme de manière plus souple.</p>\n\n<p><span style=\"text-decoration: underline;\">Note :</span> Cette étape n’est pas obligatoire, si vous ne la faites pas, il suffira d’appeler le programme avec son chemin complet au lieu du seul nom de l’exécutable.</p>\n\n<h4 id=\"ajouterledossieraupath\">Ajouter le dossier au « path »</h4>\n\n<p>Ouvrez un explorateur de fichier, faites un clic droit sur <strong>Ce PC</strong> et cliquez sur <strong>Propriétés</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.709.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.709.jpg\" alt=\"Forcer un programme à utiliser une carte réseau sur Windows\" title=\"\" /></a></p>\n\n<p>Sur la gauche de la fenêtre qui s’ouvre, cliquez sur <strong>Paramètres système avancés</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.710.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.710.jpg\" alt=\"Forcer un programme à utiliser une carte réseau sur Windows\" title=\"\" /></a></p>\n\n<p>Dans la nouvelle fenêtre, cliquez sur <strong>Variables d’environnement…</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.711.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.711.jpg\" alt=\"Forcer un programme à utiliser une carte réseau sur Windows\" title=\"\" /></a></p>\n\n<p>Scrollez jusqu’à voir la ligne de la variable <strong>path</strong> et sélectionnez la et cliquez sur <strong>Modifier</strong>. Une pop-up s’ouvre, allez jusqu’à la fin de la <strong>Valeur de la variable</strong> et ajoutez la chaine suivante :</p>\n\n<p>;C:\\Tools</p>\n\n<p>Adaptez ce chemin en fonction de là ou vous avez enregistré le l’exécutable <strong>ForceBinIP.exe</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.712.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.712.jpg\" alt=\"Forcer un programme à utiliser une carte réseau sur Windows\" title=\"\" /></a></p>\n\n<p>Validez le tout, fermez votre session et rouvrez la pour que les modifications soient prisent en compte.</p>\n\n<h2 id=\"forcerunprogrammeutiliserunecarterseausurwindows\">Forcer un programme à utiliser une carte réseau sur Windows</h2>\n\n<p>Maintenant que ForceBindIP est installé sur votre machine, voici comment l’utiliser.</p>\n\n<p>Tout d’abord, il va falloir identifier les différentes adresses IP attribuées à votre ordinateur. Pour cela, appuyez sur les touches <strong>Windows</strong> et <strong>R</strong> simultanément.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.714.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.714.jpg\" alt=\"Forcer un programme à utiliser une carte réseau sur Windows\" title=\"\" /></a></p>\n\n<p>Tapez <strong>cmd</strong> dans la pop-up et cliquez sur <strong>OK</strong>. Une invite de commandes s’ouvre, tapez la commande :</p>\n\n<p>ipconfig /all</p>\n\n<p>Ceci va lister les informations concernant toutes les cartes réseau de la machine avec leur IP.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.715.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.715.jpg\" alt=\"Forcer un programme à utiliser une carte réseau sur Windows\" title=\"\" /></a></p>\n\n<p>Notez la valeur en face du libellé <strong>Adresse IPv4</strong>.</p>\n\n<p>Maintenant, configurons une application pour utiliser ForceBinIP. Je vais prendre l’exemple de mon Firefox. Je lance habituellement ce programme via le raccourci qui se trouve sur le Bureau, on va donc faire un clic droit dessus.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.713.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.713.jpg\" alt=\"Forcer un programme à utiliser une carte réseau sur Windows\" title=\"\" /></a></p>\n\n<p>Cliquez sur <strong>Propriétés</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/screenshot.716.jpg\"><img src=\"https://techan.fr/images/2015/08/screenshot.716.jpg\" alt=\"Forcer un programme à utiliser une carte réseau sur Windows\" title=\"\" /></a></p>\n\n<p>C’est dans le champs <strong>Cible</strong> que tout va se jouer. Par défaut, ce champ ne contient que le chemin vers le binaire de Firefox, nous allons ajouter <em>*ForceBindIP *</em>juste avant.</p>\n\n<p><span style=\"text-decoration: underline;\">Si vous avez configuré la variable <strong>path</strong> et que vous vous êtes reconnecté</span> modifiez le champ <em>*Cible *</em>pour qu’il ressemble à ceci :</p>\n\n<p>ForceBindIP.exe <IP de la carte> \"C:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe\"</p>\n\n<p><span style=\"text-decoration: underline;\">Si vous n’avez pas configuré la variable <strong>path</strong> ou que vous ne vous êtes pas reconnecté</span> modifiez le champ <em>*Cible *</em>pour qu’il ressemble à ceci :</p>\n\n<p>C:\\Tools\\ForceBindIP.exe <IP de la carte> \"C:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe\"</p>\n\n<p>Validez les changements de relancez Firefox !</p>\n\n<p>Cette méthode peut être appliquée à bien d’autre programmes ! ","image":"http://blog.techan.fr/images/2015/06/windows_10_logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-08-07T10:44:43.000Z","created_by":1,"updated_at":"2015-08-07T11:39:20.000Z","updated_by":1,"published_at":"2015-08-07T10:44:43.000Z","published_by":1},{"id":154,"uuid":"14ac51a3-b2ca-41dd-b9a3-d178f5c0fe29","title":"Empêcher Windows de rebooter automatiquement après une mise à jour","slug":"empecher-windows-de-rebooter-automatiquement-apres-une-mise-a-jour","markdown":"\nIl n’y a rien de plus ennuyeux que de devoir arrêter ce qu’on fait car Windows nous force a redémarrer après une mise à jour … Vous savez le petite fenêtre en base qui vous demande si vous voulez reporter le redémarrage ou non ..? Et bien sachez qu’on peut désactiver ce fonctionnement, voici comme s’y prendre.\n\n \n\n\n## La marche à suivre\n\nAppuyez sur la touche **Windows**.\n\n \n\n[![screenshot.662](https://techan.fr/images/2015/07/screenshot.662.jpg)](https://techan.fr/images/2015/07/screenshot.662.jpg)\n\nTapez **regedit** dans la zone de recherche.\n\n \n\n[![screenshot.663](https://techan.fr/images/2015/07/screenshot.663.jpg)](https://techan.fr/images/2015/07/screenshot.663.jpg)\n\nFaites un clic droit sur **regedit.exe** et cliquez sur **Exécuter en tant qu’administrateur**.\n\n \n\n[![screenshot.664](https://techan.fr/images/2015/07/screenshot.664.jpg)](https://techan.fr/images/2015/07/screenshot.664.jpg)\n\nCliquez sur **Oui**.\n\n \n\n[![Empêcher Windows de rebooter automatiquement après une mise à jour](https://techan.fr/images/2015/07/screenshot.665.jpg)](https://techan.fr/images/2015/07/screenshot.665.jpg)\n\n \n\nDépliez l’arborescence suivante : **HKEY_LOCAL_MACHINE\\SOFTWARE\\Policies\\Microsoft\\Windows\\WindowsUpdate\\AU**. Si comme dans mon cas les clefs **WindowsUpdate **et **AU** n’existent dans votre registre, créez les comme suit.\n\n \n\n[![Empêcher Windows de rebooter automatiquement après une mise à jour](https://techan.fr/images/2015/07/screenshot.666.jpg)](https://techan.fr/images/2015/07/screenshot.666.jpg)\n\nFaites une clic droit sur le niveau supérieur – **Windows** -, dépliez **Nouveau** et cliquez sur **Clé**. Nommez la **WindowsUpdate**.\n\n \n\n[![Empêcher Windows de rebooter automatiquement après une mise à jour](https://techan.fr/images/2015/07/screenshot.667.jpg)](https://techan.fr/images/2015/07/screenshot.667.jpg)\n\nFaites une clic droit sur la clef **WindowsUpdate**, dépliez **Nouveau** et cliquez sur **Clé**. Nommez la **AU**.\n\n \n\n[![Empêcher Windows de rebooter automatiquement après une mise à jour](https://techan.fr/images/2015/07/screenshot.668.jpg)](https://techan.fr/images/2015/07/screenshot.668.jpg)\n\n \n\nMaintenant que vous avez toute l’arborescence, faites un clic droit sur la clef **AU**, dépliez **Nouveau** et cliquez sur **Valeur DWORD 32 bits**. Nommez la **NoAutoRebootWithLoggedOnusers**.\n\n \n\n[![Empêcher Windows de rebooter automatiquement après une mise à jour](https://techan.fr/images/2015/07/screenshot.669.jpg)](https://techan.fr/images/2015/07/screenshot.669.jpg)\n\n \n\nDouble cliquez sur cette nouvelle valeur et renseignez **1 **dans le champ ** Données de la valeur**.\n\nUn reboot de la machine et vous ne serez plus embêté par le redémarrage intempestifs !\n\n \n\n\n##  Source\n\n- [lifehacker.com (Anglais)](http://lifehacker.com/stop-windows-from-restarting-your-computer-after-update-509712123)\n\n \n\n\n","html":"<p>Il n’y a rien de plus ennuyeux que de devoir arrêter ce qu’on fait car Windows nous force a redémarrer après une mise à jour … Vous savez le petite fenêtre en base qui vous demande si vous voulez reporter le redémarrage ou non ..? Et bien sachez qu’on peut désactiver ce fonctionnement, voici comme s’y prendre.</p>\n\n<h2 id=\"lamarchesuivre\">La marche à suivre</h2>\n\n<p>Appuyez sur la touche <strong>Windows</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/07/screenshot.662.jpg\"><img src=\"https://techan.fr/images/2015/07/screenshot.662.jpg\" alt=\"screenshot.662\" title=\"\" /></a></p>\n\n<p>Tapez <strong>regedit</strong> dans la zone de recherche.</p>\n\n<p><a href=\"https://techan.fr/images/2015/07/screenshot.663.jpg\"><img src=\"https://techan.fr/images/2015/07/screenshot.663.jpg\" alt=\"screenshot.663\" title=\"\" /></a></p>\n\n<p>Faites un clic droit sur <strong>regedit.exe</strong> et cliquez sur <strong>Exécuter en tant qu’administrateur</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/07/screenshot.664.jpg\"><img src=\"https://techan.fr/images/2015/07/screenshot.664.jpg\" alt=\"screenshot.664\" title=\"\" /></a></p>\n\n<p>Cliquez sur <strong>Oui</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/07/screenshot.665.jpg\"><img src=\"https://techan.fr/images/2015/07/screenshot.665.jpg\" alt=\"Empêcher Windows de rebooter automatiquement après une mise à jour\" title=\"\" /></a></p>\n\n<p>Dépliez l’arborescence suivante : <strong>HKEY<em>LOCAL</em>MACHINE\\SOFTWARE\\Policies\\Microsoft\\Windows\\WindowsUpdate\\AU</strong>. Si comme dans mon cas les clefs <strong>WindowsUpdate <em>*et *</em>AU</strong> n’existent dans votre registre, créez les comme suit.</p>\n\n<p><a href=\"https://techan.fr/images/2015/07/screenshot.666.jpg\"><img src=\"https://techan.fr/images/2015/07/screenshot.666.jpg\" alt=\"Empêcher Windows de rebooter automatiquement après une mise à jour\" title=\"\" /></a></p>\n\n<p>Faites une clic droit sur le niveau supérieur – <strong>Windows</strong> -, dépliez <strong>Nouveau</strong> et cliquez sur <strong>Clé</strong>. Nommez la <strong>WindowsUpdate</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/07/screenshot.667.jpg\"><img src=\"https://techan.fr/images/2015/07/screenshot.667.jpg\" alt=\"Empêcher Windows de rebooter automatiquement après une mise à jour\" title=\"\" /></a></p>\n\n<p>Faites une clic droit sur la clef <strong>WindowsUpdate</strong>, dépliez <strong>Nouveau</strong> et cliquez sur <strong>Clé</strong>. Nommez la <strong>AU</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/07/screenshot.668.jpg\"><img src=\"https://techan.fr/images/2015/07/screenshot.668.jpg\" alt=\"Empêcher Windows de rebooter automatiquement après une mise à jour\" title=\"\" /></a></p>\n\n<p>Maintenant que vous avez toute l’arborescence, faites un clic droit sur la clef <strong>AU</strong>, dépliez <strong>Nouveau</strong> et cliquez sur <strong>Valeur DWORD 32 bits</strong>. Nommez la <strong>NoAutoRebootWithLoggedOnusers</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/07/screenshot.669.jpg\"><img src=\"https://techan.fr/images/2015/07/screenshot.669.jpg\" alt=\"Empêcher Windows de rebooter automatiquement après une mise à jour\" title=\"\" /></a></p>\n\n<p>Double cliquez sur cette nouvelle valeur et renseignez <strong>1 <em>*dans le champ *</em> Données de la valeur</strong>.</p>\n\n<p>Un reboot de la machine et vous ne serez plus embêté par le redémarrage intempestifs !</p>\n\n<h2 id=\"source\"> Source</h2>\n\n<ul>\n<li><p><a href=\"http://lifehacker.com/stop-windows-from-restarting-your-computer-after-update-509712123\">lifehacker.com (Anglais)</a></p></li>\n</ul>","image":"http://blog.techan.fr/images/2014/12/windows_logo_mini.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-08-07T11:37:43.000Z","created_by":1,"updated_at":"2015-08-07T11:37:43.000Z","updated_by":1,"published_at":"2015-08-07T11:37:43.000Z","published_by":1},{"id":155,"uuid":"2b674896-da7e-4212-8590-d3c33f120d83","title":"iOS 9 permet d'éditer les PDF","slug":"ios-9-permet-dediter-les-pdf","markdown":"\nLa prochaine version majeure du système d’exploitation mobile d’Apple – [iOS 9](https://www.apple.com/fr/ios/ios9-preview/) – n’est attendu que pour la rentrée prochaine, cependant il est déjà disponible en [version beta](https://appleseed.apple.com/sp/welcome).pour les plus courageux. Cette nouvelle version promet une [amélioration de la stabilité du système](https://www.apple.com/fr/ios/ios9-preview/#foundation) et une plus grande autonomie, notamment grâce au nouveau mode d’économie d’énergie. Il y a également, comme toujours, quelques nouveautés qui ne sont pas annoncées sur le site d’Apple. Charge aux utilisateurs de les découvrir au fur et à mesure de l’utilisation d’iOS. Etant curieux, j’ai installé la version beta sur mon iPhone et mon iPad, force est de constater que l’autonomie des appareils et <span style=\"text-decoration: underline;\">réellement</span> plus importante.\n\nVendredi, alors que je répondais à un mail, je suis tombé sur une des nouvelles fonctionnalités non annoncées. Il est possible d’éditer des fichiers PDF directement sur son périphérique mobile Apple. Ceci ne paye pas de mine, mais il est quand même applicable de pouvoir faire des ajouts mineurs dans un PDF directement depuis son téléphone et le renvoyer directement.\n\n\n## Editer des PDF avec iOS 9\n\n \n\n[![iOS 9 permet d'éditer les PDF](https://techan.fr/images/2015/08/IMG_0110.png)](https://techan.fr/images/2015/08/IMG_0110.png)\n\n \n\n \n\nComme je le disais, j’étais en train de consulter un mail lorsque je suis tombé sur cette fonctionnalité. J’ai ouvert le fichier afin d’en voir le contenu.\n\n \n\n[![iOS 9 permet d'éditer les PDF](https://techan.fr/images/2015/08/IMG_0111.png)](https://techan.fr/images/2015/08/IMG_0111.png)\n\n \n\nUne nouvelle icône en forme de boîte à outils a fait son apparition.\n\n \n\n[![iOS 9 permet d'éditer les PDF](https://techan.fr/images/2015/08/boite_a_outil.png)](https://techan.fr/images/2015/08/boite_a_outil.png)\n\n \n\nEn faisant un « tap » dessus, on entre en mode Annotation, ce qui offre plusieurs options.\n\n \n\n[![iOS 9 permet d'éditer les PDF](https://techan.fr/images/2015/08/IMG_0112.png)](https://techan.fr/images/2015/08/IMG_0112.png)\n\n \n\nOn peut ajouter des formes graphiques tracées à la main – lignes, cercles – ou bien du texte.\n\n \n\n[![iOS 9 permet d'éditer les PDF](https://techan.fr/images/2015/08/IMG_0114.png)](https://techan.fr/images/2015/08/IMG_0114.png)\n\n \n\nL’outil le plus utile selon moi est celui qui se trouve tout à droite, avec l’icône en forme de signature.\n\n \n\n[![iOS 9 permet d'éditer les PDF](https://techan.fr/images/2015/08/signature.png)](https://techan.fr/images/2015/08/signature.png)\n\n \n\nLorsqu’on entre dans ce mode pour la première fois, il propose d’ajouter une signature. Si on en a déjà enregistré une, il propose les signatures déjà enregistrées.\n\n \n\n[![iOS 9 permet d'éditer les PDF](https://techan.fr/images/2015/08/IMG_0115.png)](https://techan.fr/images/2015/08/IMG_0115.png)\n\n \n\nOn trace gracieusement sa signature avec le doigt sur l’écran, puis on valide avec OK.\n\n \n\n[![iOS 9 permet d'éditer les PDF](https://techan.fr/images/2015/08/IMG_0116.png)](https://techan.fr/images/2015/08/IMG_0116.png)\n\n \n\nUne fois la signature validée, l’outil l’ajoute sur le fichier PDF, libre à l’utilisateur de la déplacer ou il le souhaite dans le document ou d’en réduire la taille.\n\n \n\n[![iOS 9 permet d'éditer les PDF](https://techan.fr/images/2015/08/IMG_0117.png)](https://techan.fr/images/2015/08/IMG_0117.png)\n\n \n\n \n\nQuand les modifications du fichier sont terminées, Mail.app crée automatiquement une réponse au mail dans lequel le fichier était joint avec le nouveau fichier en pièce jointe.\n\n \n\n \n\n \n\n[![iOS 9 permet d'éditer les PDF](https://techan.fr/images/2015/08/IMG_0118.jpeg)](https://techan.fr/images/2015/08/IMG_0118.jpeg)\n\n \n\nVoila de quoi gagner pas mal de temps ! ![:-)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n\n","html":"<p>La prochaine version majeure du système d’exploitation mobile d’Apple – <a href=\"https://www.apple.com/fr/ios/ios9-preview/\">iOS 9</a> – n’est attendu que pour la rentrée prochaine, cependant il est déjà disponible en <a href=\"https://appleseed.apple.com/sp/welcome\">version beta</a>.pour les plus courageux. Cette nouvelle version promet une <a href=\"https://www.apple.com/fr/ios/ios9-preview/#foundation\">amélioration de la stabilité du système</a> et une plus grande autonomie, notamment grâce au nouveau mode d’économie d’énergie. Il y a également, comme toujours, quelques nouveautés qui ne sont pas annoncées sur le site d’Apple. Charge aux utilisateurs de les découvrir au fur et à mesure de l’utilisation d’iOS. Etant curieux, j’ai installé la version beta sur mon iPhone et mon iPad, force est de constater que l’autonomie des appareils et <span style=\"text-decoration: underline;\">réellement</span> plus importante.</p>\n\n<p>Vendredi, alors que je répondais à un mail, je suis tombé sur une des nouvelles fonctionnalités non annoncées. Il est possible d’éditer des fichiers PDF directement sur son périphérique mobile Apple. Ceci ne paye pas de mine, mais il est quand même applicable de pouvoir faire des ajouts mineurs dans un PDF directement depuis son téléphone et le renvoyer directement.</p>\n\n<h2 id=\"editerdespdfavecios9\">Editer des PDF avec iOS 9</h2>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0110.png\"><img src=\"https://techan.fr/images/2015/08/IMG_0110.png\" alt=\"iOS 9 permet d'éditer les PDF\" title=\"\" /></a></p>\n\n<p>Comme je le disais, j’étais en train de consulter un mail lorsque je suis tombé sur cette fonctionnalité. J’ai ouvert le fichier afin d’en voir le contenu.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0111.png\"><img src=\"https://techan.fr/images/2015/08/IMG_0111.png\" alt=\"iOS 9 permet d'éditer les PDF\" title=\"\" /></a></p>\n\n<p>Une nouvelle icône en forme de boîte à outils a fait son apparition.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/boite_a_outil.png\"><img src=\"https://techan.fr/images/2015/08/boite_a_outil.png\" alt=\"iOS 9 permet d'éditer les PDF\" title=\"\" /></a></p>\n\n<p>En faisant un « tap » dessus, on entre en mode Annotation, ce qui offre plusieurs options.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0112.png\"><img src=\"https://techan.fr/images/2015/08/IMG_0112.png\" alt=\"iOS 9 permet d'éditer les PDF\" title=\"\" /></a></p>\n\n<p>On peut ajouter des formes graphiques tracées à la main – lignes, cercles – ou bien du texte.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0114.png\"><img src=\"https://techan.fr/images/2015/08/IMG_0114.png\" alt=\"iOS 9 permet d'éditer les PDF\" title=\"\" /></a></p>\n\n<p>L’outil le plus utile selon moi est celui qui se trouve tout à droite, avec l’icône en forme de signature.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/signature.png\"><img src=\"https://techan.fr/images/2015/08/signature.png\" alt=\"iOS 9 permet d'éditer les PDF\" title=\"\" /></a></p>\n\n<p>Lorsqu’on entre dans ce mode pour la première fois, il propose d’ajouter une signature. Si on en a déjà enregistré une, il propose les signatures déjà enregistrées.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0115.png\"><img src=\"https://techan.fr/images/2015/08/IMG_0115.png\" alt=\"iOS 9 permet d'éditer les PDF\" title=\"\" /></a></p>\n\n<p>On trace gracieusement sa signature avec le doigt sur l’écran, puis on valide avec OK.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0116.png\"><img src=\"https://techan.fr/images/2015/08/IMG_0116.png\" alt=\"iOS 9 permet d'éditer les PDF\" title=\"\" /></a></p>\n\n<p>Une fois la signature validée, l’outil l’ajoute sur le fichier PDF, libre à l’utilisateur de la déplacer ou il le souhaite dans le document ou d’en réduire la taille.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0117.png\"><img src=\"https://techan.fr/images/2015/08/IMG_0117.png\" alt=\"iOS 9 permet d'éditer les PDF\" title=\"\" /></a></p>\n\n<p>Quand les modifications du fichier sont terminées, Mail.app crée automatiquement une réponse au mail dans lequel le fichier était joint avec le nouveau fichier en pièce jointe.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0118.jpeg\"><img src=\"https://techan.fr/images/2015/08/IMG_0118.jpeg\" alt=\"iOS 9 permet d'éditer les PDF\" title=\"\" /></a></p>\n\n<p>Voila de quoi gagner pas mal de temps ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":-)\" title=\"\" /></p>","image":"http://blog.techan.fr/images/2015/08/ios9_icon_large.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-08-09T12:00:37.000Z","created_by":1,"updated_at":"2015-08-09T12:00:37.000Z","updated_by":1,"published_at":"2015-08-09T12:00:37.000Z","published_by":1},{"id":156,"uuid":"9ed30ad7-dced-4289-a4c4-a6d94646194e","title":"[Sponsorié] Test des protection d'écran DocPhone","slug":"sponsorie-test-des-protection-decran-docphone","markdown":"\nIl y a quelques temps une personne du site [DocPhone.org](http://www.docphone.org) m’a contacté pour que je teste leurs protection d’écran en verre trempé pour smartphone. Je dois dire que cela est bien tombé car la protection que j’utilisais alors – un film de protection de chez Spigen – était en train de rendre l’âme et de commençait à se décoller de tous les côtés. Les protections en verre trempé sont réputées plus résistantes et surtout plus agréable à l’usage.\n\nJe n’avais encore jamais utilisé de protection en verre trempé jusqu’alors. J’ai donc accepté la proposition.\n\n \n\nJe dois dire que je suis vraiment satisfait de ce produit jusque là, reste à voir comment il va tenir dans le temps. Le seul point négatif serait peut être le manque d’une documentation « imagée » dans le colis. Pour l’avoir il faut aller sur le site de [DocPhone.org](http://www.docphone.org/#video).\n\n \n\n\n## Le déballage\n\nLes protections sont livrées dans des envelopes signées [DocPhone.org](http://www.docphone.org). Les instructions d’installation sont fournies au verso des-dites enveloppes.\n\n[![[Sponsorié] Test des protection d'écran DocPhone](https://techan.fr/images/2015/08/IMG_0122-e1439120800694.jpg)](https://techan.fr/images/2015/08/IMG_0122-e1439120800694.jpg) [![[Sponsorié] Test des protection d'écran DocPhone](https://techan.fr/images/2015/08/IMG_0125-e1439120952477.jpg)](https://techan.fr/images/2015/08/IMG_0125-e1439120952477.jpg)\n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\nLe kit comprend :\n\n- Les protections d’écran dans des emballages translucides\n\n- Deux sachets scellés – nommés **Screen protector accesories** – qui contiennent une lingette micro-fibres pour nettoyer l’écran\n- Une pochette en papier contenant les lingettes imbibées de produit nettoyant.\n\n \n\n[![[Sponsorié] Test des protection d'écran DocPhone](https://techan.fr/images/2015/08/IMG_0123-e1439121131918.jpg)](https://techan.fr/images/2015/08/IMG_0123.jpg)\n\n \n\nVoici le contenu de la petite pochette en papier, deux lingettes nettoyantes et des stickers pour se débarrasser des dernières poussières récalcitrantes.\n\n \n\n[![[Sponsorié] Test des protection d'écran DocPhone](https://techan.fr/images/2015/08/IMG_0124-e1439121390233.jpg)](https://techan.fr/images/2015/08/IMG_0124-e1439121390233.jpg)\n\n \n\n\n## L’installation\n\nL’installation est extrêmement simple, à ma grande surprise. J’avais l’habitude de poser des films de protection qui eux nécessitent une attention toute particulière pour qu’il n’y ai pas de bulles entre le film et l’écran. Avec ces protections en verre trempé, il n’y a pas besoin de se soucier de ces bulles, et la protection est installée en moins de 5 minutes.\n\n \n\nTout d’abord, il faut commencer par bien nettoyer l’écran avec les lingettes imbibées, il ne doit plus y avoir de traces sur l’écran. Ensuite, séchez l’écran avec une lingette micro-fibres. L’écran doit être bien sec et sans poussière. Si des poussières demeurent ou se sont re-déposées sur l’écran, ôtez les avec les stickers.\n\n \n\nMaintenant que le téléphone est prêt, ôtez le film protecteur de la vitre en verre trempée. Positionnez cette vitre avec précision sur votre téléphone, les trous dans la vitre doivent concorder parfaitement avec les boutons et les capteurs de votre téléphone. Chassez l’air entre la vitre et le téléphone en glissant le doigt sur la protection. Et voilà !\n\n \n\n\n## Le « feeling »\n\nContrairement aux films protecteurs, j’ai l’impression d’utiliser mon téléphone sans perte de capacité tactile. Le touché est vraiment agréable avec cette [protection en verre trempé](http://www.docphone.org/#order).\n\n \n\n\n","html":"<p>Il y a quelques temps une personne du site <a href=\"http://www.docphone.org\">DocPhone.org</a> m’a contacté pour que je teste leurs protection d’écran en verre trempé pour smartphone. Je dois dire que cela est bien tombé car la protection que j’utilisais alors – un film de protection de chez Spigen – était en train de rendre l’âme et de commençait à se décoller de tous les côtés. Les protections en verre trempé sont réputées plus résistantes et surtout plus agréable à l’usage.</p>\n\n<p>Je n’avais encore jamais utilisé de protection en verre trempé jusqu’alors. J’ai donc accepté la proposition.</p>\n\n<p>Je dois dire que je suis vraiment satisfait de ce produit jusque là, reste à voir comment il va tenir dans le temps. Le seul point négatif serait peut être le manque d’une documentation « imagée » dans le colis. Pour l’avoir il faut aller sur le site de <a href=\"http://www.docphone.org/#video\">DocPhone.org</a>.</p>\n\n<h2 id=\"ledballage\">Le déballage</h2>\n\n<p>Les protections sont livrées dans des envelopes signées <a href=\"http://www.docphone.org\">DocPhone.org</a>. Les instructions d’installation sont fournies au verso des-dites enveloppes.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0122-e1439120800694.jpg\"><img src=\"https://techan.fr/images/2015/08/IMG_0122-e1439120800694.jpg\" alt=\"[Sponsorié] Test des protection d'écran DocPhone\" title=\"\" /></a> <a href=\"https://techan.fr/images/2015/08/IMG_0125-e1439120952477.jpg\"><img src=\"https://techan.fr/images/2015/08/IMG_0125-e1439120952477.jpg\" alt=\"[Sponsorié] Test des protection d'écran DocPhone\" title=\"\" /></a></p>\n\n<p>Le kit comprend :</p>\n\n<ul>\n<li><p>Les protections d’écran dans des emballages translucides</p></li>\n<li><p>Deux sachets scellés – nommés <strong>Screen protector accesories</strong> – qui contiennent une lingette micro-fibres pour nettoyer l’écran</p></li>\n<li><p>Une pochette en papier contenant les lingettes imbibées de produit nettoyant.</p></li>\n</ul>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0123.jpg\"><img src=\"https://techan.fr/images/2015/08/IMG_0123-e1439121131918.jpg\" alt=\"[Sponsorié] Test des protection d'écran DocPhone\" title=\"\" /></a></p>\n\n<p>Voici le contenu de la petite pochette en papier, deux lingettes nettoyantes et des stickers pour se débarrasser des dernières poussières récalcitrantes.</p>\n\n<p><a href=\"https://techan.fr/images/2015/08/IMG_0124-e1439121390233.jpg\"><img src=\"https://techan.fr/images/2015/08/IMG_0124-e1439121390233.jpg\" alt=\"[Sponsorié] Test des protection d'écran DocPhone\" title=\"\" /></a></p>\n\n<h2 id=\"linstallation\">L’installation</h2>\n\n<p>L’installation est extrêmement simple, à ma grande surprise. J’avais l’habitude de poser des films de protection qui eux nécessitent une attention toute particulière pour qu’il n’y ai pas de bulles entre le film et l’écran. Avec ces protections en verre trempé, il n’y a pas besoin de se soucier de ces bulles, et la protection est installée en moins de 5 minutes.</p>\n\n<p>Tout d’abord, il faut commencer par bien nettoyer l’écran avec les lingettes imbibées, il ne doit plus y avoir de traces sur l’écran. Ensuite, séchez l’écran avec une lingette micro-fibres. L’écran doit être bien sec et sans poussière. Si des poussières demeurent ou se sont re-déposées sur l’écran, ôtez les avec les stickers.</p>\n\n<p>Maintenant que le téléphone est prêt, ôtez le film protecteur de la vitre en verre trempée. Positionnez cette vitre avec précision sur votre téléphone, les trous dans la vitre doivent concorder parfaitement avec les boutons et les capteurs de votre téléphone. Chassez l’air entre la vitre et le téléphone en glissant le doigt sur la protection. Et voilà !</p>\n\n<h2 id=\"lefeeling\">Le « feeling »</h2>\n\n<p>Contrairement aux films protecteurs, j’ai l’impression d’utiliser mon téléphone sans perte de capacité tactile. Le touché est vraiment agréable avec cette <a href=\"http://www.docphone.org/#order\">protection en verre trempé</a>.</p>","image":"http://blog.techan.fr/images/2015/08/docphone_logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-08-09T14:09:18.000Z","created_by":1,"updated_at":"2015-08-09T14:09:18.000Z","updated_by":1,"published_at":"2015-08-09T14:09:18.000Z","published_by":1},{"id":157,"uuid":"81effe53-2543-45b8-9871-9cb14cd7a607","title":"Finis les congés, Bonjour la reprise !","slug":"finis-les-conges-bonjour-la-reprise","markdown":"\nMe voilà de retour au bureau après quelques congés très appréciables et appréciés dans la Cité des Doges ! Pour prolonger un petit peu les vacances, je vous offre quelques photos ![:-)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\n[![Finis les congés, Bonjour la reprise !](https://techan.fr/images/2015/09/IMG_0514.jpg)](https://techan.fr/images/2015/09/IMG_0514.jpg)\n\n \n\n[![Finis les congés, Bonjour la reprise !](https://techan.fr/images/2015/09/IMG_0476.jpg)](https://techan.fr/images/2015/09/IMG_0476.jpg)\n\n \n\n[![Finis les congés, Bonjour la reprise !](https://techan.fr/images/2015/09/IMG_0437.jpg)](https://techan.fr/images/2015/09/IMG_0437.jpg)\n\n \n\n[![Finis les congés, Bonjour la reprise !](https://techan.fr/images/2015/09/IMG_0425.jpg)](https://techan.fr/images/2015/09/IMG_0425.jpg)\n\n \n\n[![Finis les congés, Bonjour la reprise !](https://techan.fr/images/2015/09/IMG_0405.jpg)](https://techan.fr/images/2015/09/IMG_0405.jpg)\n\nBonne journée ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n\n","html":"<p>Me voilà de retour au bureau après quelques congés très appréciables et appréciés dans la Cité des Doges ! Pour prolonger un petit peu les vacances, je vous offre quelques photos <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":-)\" title=\"\" /></p>\n\n<p><a href=\"https://techan.fr/images/2015/09/IMG_0514.jpg\"><img src=\"https://techan.fr/images/2015/09/IMG_0514.jpg\" alt=\"Finis les congés, Bonjour la reprise !\" title=\"\" /></a></p>\n\n<p><a href=\"https://techan.fr/images/2015/09/IMG_0476.jpg\"><img src=\"https://techan.fr/images/2015/09/IMG_0476.jpg\" alt=\"Finis les congés, Bonjour la reprise !\" title=\"\" /></a></p>\n\n<p><a href=\"https://techan.fr/images/2015/09/IMG_0437.jpg\"><img src=\"https://techan.fr/images/2015/09/IMG_0437.jpg\" alt=\"Finis les congés, Bonjour la reprise !\" title=\"\" /></a></p>\n\n<p><a href=\"https://techan.fr/images/2015/09/IMG_0425.jpg\"><img src=\"https://techan.fr/images/2015/09/IMG_0425.jpg\" alt=\"Finis les congés, Bonjour la reprise !\" title=\"\" /></a></p>\n\n<p><a href=\"https://techan.fr/images/2015/09/IMG_0405.jpg\"><img src=\"https://techan.fr/images/2015/09/IMG_0405.jpg\" alt=\"Finis les congés, Bonjour la reprise !\" title=\"\" /></a></p>\n\n<p>Bonne journée ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>","image":"http://blog.techan.fr/images/2015/09/venise_petit.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-09-09T09:00:13.000Z","created_by":1,"updated_at":"2015-09-09T09:12:53.000Z","updated_by":1,"published_at":"2015-09-09T09:00:13.000Z","published_by":1},{"id":158,"uuid":"91ac75ce-6331-4342-a14b-f23a50fa03cd","title":"Redémarrer un ordinateur Windows à distance","slug":"redemarrer-un-ordinateur-windows-a-distance-2","markdown":"\nIl est pratique de pouvoir redémarrer un ordinateur à distance surtout quand ce dernier se trouve dans un placard, sans clavier ni souris, voire même sans écran. Avec Linux la chose est très aisée, une petite connexion SSH, la commande reboot et le tour est joué ! Mais lorsque la machine tourne sous Windows la chose est un peu moins facile.\n\n \n\nIl existe toute fois une commande DOS – équivalente à la commande **shutdown** sous Linux – qui permet de redémarrer, ou d’arrêter l’ordinateur.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1712\" style=\"width: 664px\">[![Redémarrer un ordinateur Windows à distance](https://techan.fr/images/2015/09/screenshot.840.jpg)](https://techan.fr/images/2015/09/screenshot.840.jpg)Page d’aide de la commande shutdown.\n\n</div> \n\nComme indiqué dans l’aide, cette commande peut être utilisée sur l’ordinateur local ou bien sur une machine distante. La syntaxe pour l’utiliser sur un Windows distant est la suivante :\n\nshutdown -r -f -m \\\\<NOM DE L'ORDINATEUR> -t 0\n\n \n\nL’option **-r** précise que l’on souhaite que l’ordinateur redémarre après l’arrêt, le flag **-f** quant à lui force l’action, l’option **-t** précise le temps – en secondes – dans lequel l’action sera réalisée ici j’ai mis **0** pour que ce soit fait immédiatement. Enfin, l’option **-m** est celle qui nous intéresse le plus, elle permet de spécifier la cible de la commande – l’ordinateur distant – notez que le nom de l’ordinateur est préfixé des deux « back slash » – **\\\\** – très Windowsiens.\n\n \n\nSi comme dans mon cas cette commande vous renvoie une erreur d’authentification, il faut ajouter une commande supplémentaire avant de lancer le **shutdown**. On va s’identifier sur un partage spécial de l’ordinateur distant avant de lancer la commande. Cette opération se fait en utilisant la commande **NET USE** comme pour monter un partage réseau. Il vous faudra spécifier :\n\n- Le nom de l’ordinateur distant\n- Le mot de passe du compte administrateur de la machine que l’on souhaite utiliser\n- Le nom de ce compte préfixé du nom de l’ordinateur distant séparés par un **\\**.\n\n \n\nNET USE \\\\<NOM DE L'ORDINATEUR>\\IPC$ <mot de passe de l'utilisater> /USER:<NOM DE L'ORDINATEUR>\\<Identifiant de l'utilisateur> shutdown -r -f -m \\\\<NOM DE L'ORDINATEUR> -t 0\n\n \n\nEt voilà, vous pouvez maintenant vous passer de connecter un clavier et une souris pour redémarrer des ordinateurs fonctionnant sous Windows !\n\n \n\n\n","html":"<p>Il est pratique de pouvoir redémarrer un ordinateur à distance surtout quand ce dernier se trouve dans un placard, sans clavier ni souris, voire même sans écran. Avec Linux la chose est très aisée, une petite connexion SSH, la commande reboot et le tour est joué ! Mais lorsque la machine tourne sous Windows la chose est un peu moins facile.</p>\n\n<p>Il existe toute fois une commande DOS – équivalente à la commande <strong>shutdown</strong> sous Linux – qui permet de redémarrer, ou d’arrêter l’ordinateur.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1712\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/09/screenshot.840.jpg\"><img src=\"https://techan.fr/images/2015/09/screenshot.840.jpg\" alt=\"Redémarrer un ordinateur Windows à distance\" title=\"\" /></a>Page d’aide de la commande shutdown.</p>\n\n<p></div> </p>\n\n<p>Comme indiqué dans l’aide, cette commande peut être utilisée sur l’ordinateur local ou bien sur une machine distante. La syntaxe pour l’utiliser sur un Windows distant est la suivante :</p>\n\n<p>shutdown -r -f -m \\<NOM DE L'ORDINATEUR> -t 0</p>\n\n<p>L’option <strong>-r</strong> précise que l’on souhaite que l’ordinateur redémarre après l’arrêt, le flag <strong>-f</strong> quant à lui force l’action, l’option <strong>-t</strong> précise le temps – en secondes – dans lequel l’action sera réalisée ici j’ai mis <strong>0</strong> pour que ce soit fait immédiatement. Enfin, l’option <strong>-m</strong> est celle qui nous intéresse le plus, elle permet de spécifier la cible de la commande – l’ordinateur distant – notez que le nom de l’ordinateur est préfixé des deux « back slash » – <strong>\\</strong> – très Windowsiens.</p>\n\n<p>Si comme dans mon cas cette commande vous renvoie une erreur d’authentification, il faut ajouter une commande supplémentaire avant de lancer le <strong>shutdown</strong>. On va s’identifier sur un partage spécial de l’ordinateur distant avant de lancer la commande. Cette opération se fait en utilisant la commande <strong>NET USE</strong> comme pour monter un partage réseau. Il vous faudra spécifier :</p>\n\n<ul>\n<li>Le nom de l’ordinateur distant</li>\n<li>Le mot de passe du compte administrateur de la machine que l’on souhaite utiliser</li>\n<li><p>Le nom de ce compte préfixé du nom de l’ordinateur distant séparés par un <em>**</em>.</p></li>\n</ul>\n\n<p>NET USE \\<NOM DE L'ORDINATEUR>\\IPC$ <mot de passe de l'utilisater> /USER:<NOM DE L'ORDINATEUR>\\<Identifiant de l'utilisateur> shutdown -r -f -m \\<NOM DE L'ORDINATEUR> -t 0</p>\n\n<p>Et voilà, vous pouvez maintenant vous passer de connecter un clavier et une souris pour redémarrer des ordinateurs fonctionnant sous Windows !</p>","image":"http://blog.techan.fr/images/2015/06/windows_10_logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-09-09T10:45:04.000Z","created_by":1,"updated_at":"2015-09-09T08:55:07.000Z","updated_by":1,"published_at":"2015-09-09T10:45:04.000Z","published_by":1},{"id":159,"uuid":"cd77bd15-c6d0-4d98-9c4d-d5af17b4a48b","title":"Des bons plans pour vos forfaits mobile et ADSL","slug":"des-bons-plans-pour-vos-forfaits-mobile-et-adsl","markdown":"\nCes dernières semaines les bons plans pleuvent pour les forfaits mobiles et pour les offres ADSL. Les promotions sur les forfaits mobile qui m’ont le plus marquées sont celles faites par RED, l’opérateur low cost de SFR. Ce dernier propose depuis plusieurs jours déjà des forfaits à prix cassés dans le cadre des ses [journées guerrières](http://red.sfr.fr/forfait-mobile-pas-cher.html#sfrintid=Red_mobile_forfait-sans-engagement). Hier c’était au tour de Virgin d’annoncer une belle promotion sur sa box ADSL !\n\nLes offres RED proposées dans le cadre des journées guerrières sont disponible jusqu’au 15 Septembre.\n\n \n\n[![Des bons plans pour vos forfaits mobile et ADSL](https://techan.fr/images/2015/09/screenshot.844.jpg)](https://techan.fr/images/2015/09/screenshot.844.jpg)\n\n[L’offre de Virgin](http://www.virginmobile.fr/offre-box) quant à elle est disponible jusqu’au 14 Septembre.\n\n[![Des bons plans pour vos forfaits mobile et ADSL](https://techan.fr/images/2015/09/screenshot.843.jpg)](https://techan.fr/images/2015/09/screenshot.843.jpg)\n\n \n\nCerise sur le gâteau, si vous avez un compte iGraal, chacun de ces marchands offre un cashback lors de votre commande, de quoi vous faire économiser quelques euros supplémentaires ! (voir [Bon plans à gogo](https://techan.fr/bons-plans-a-gogo/))\n\n\n","html":"<p>Ces dernières semaines les bons plans pleuvent pour les forfaits mobiles et pour les offres ADSL. Les promotions sur les forfaits mobile qui m’ont le plus marquées sont celles faites par RED, l’opérateur low cost de SFR. Ce dernier propose depuis plusieurs jours déjà des forfaits à prix cassés dans le cadre des ses <a href=\"http://red.sfr.fr/forfait-mobile-pas-cher.html#sfrintid=Red_mobile_forfait-sans-engagement\">journées guerrières</a>. Hier c’était au tour de Virgin d’annoncer une belle promotion sur sa box ADSL !</p>\n\n<p>Les offres RED proposées dans le cadre des journées guerrières sont disponible jusqu’au 15 Septembre.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/screenshot.844.jpg\"><img src=\"https://techan.fr/images/2015/09/screenshot.844.jpg\" alt=\"Des bons plans pour vos forfaits mobile et ADSL\" title=\"\" /></a></p>\n\n<p><a href=\"http://www.virginmobile.fr/offre-box\">L’offre de Virgin</a> quant à elle est disponible jusqu’au 14 Septembre.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/screenshot.843.jpg\"><img src=\"https://techan.fr/images/2015/09/screenshot.843.jpg\" alt=\"Des bons plans pour vos forfaits mobile et ADSL\" title=\"\" /></a></p>\n\n<p>Cerise sur le gâteau, si vous avez un compte iGraal, chacun de ces marchands offre un cashback lors de votre commande, de quoi vous faire économiser quelques euros supplémentaires ! (voir <a href=\"https://techan.fr/bons-plans-a-gogo/\">Bon plans à gogo</a>)</p>","image":"http://blog.techan.fr/images/2015/01/MMA-Cochon-tirelire.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-09-10T10:28:59.000Z","created_by":1,"updated_at":"2015-09-10T10:30:32.000Z","updated_by":1,"published_at":"2015-09-10T10:28:59.000Z","published_by":1},{"id":160,"uuid":"82dc9e13-2a27-4f5e-aaed-ed5ef9b4bc48","title":"Avec iOS9 vous devrez vous présenter à Siri avant de l'interpeler !","slug":"avec-ios9-vous-devrez-vous-presenter-a-siri-avant-de-linterpeler","markdown":"\nVoici du neuf dans iOS9 – haha – vous devrez maintenant faire un brin de configuration afin de réactiver la fonction « Dis Siri » de votre iBidule. La mise à jour vers le nouvel iOS désactive cette fonction, au moment ou vous demandez sa réactivation, Siri va vous demandez de vous présenter. Vous devrez dire quelques mots ou phrases afin qu’il reconnaisse votre voix. Siri sera ensuite votre assistant exclusif et ne répondra plus aux sollicitations de votre voisin de métro ou de votre collègue blagueur.\n\nVous trouverez ci-dessous quelques captures d’écran illustrant le processus de configuration de la fonction « Dis Siri ». Notez que la fonction est désactivée après la mise à niveau vers iOS 9.\n\n \n\n[![Avec iOS9 vous devrez vous présenter à Siri avant de l'interpeler !](https://techan.fr/images/2015/09/image61.png)](https://techan.fr/images/2015/09/image61.png)\n\nLorsque l’on réactive la fonction, iOS vous demande de configurer « Dis Siri » afin qu’il puisse reconnaitre votre voix.\n\n \n\n[![Avec iOS9 vous devrez vous présenter à Siri avant de l'interpeler !](https://techan.fr/images/2015/09/image5.png)](https://techan.fr/images/2015/09/image5.png)\n\nLes premières étapes consistent à répéter « Dis Siri ».\n\n \n\n[![Avec iOS9 vous devrez vous présenter à Siri avant de l'interpeler !](https://techan.fr/images/2015/09/image1.png)](https://techan.fr/images/2015/09/image1.png)\n\nPar la suite, on demande à Siri le temps qu’il fait.\n\n \n\n[![Avec iOS9 vous devrez vous présenter à Siri avant de l'interpeler !](https://techan.fr/images/2015/09/image2.png)](https://techan.fr/images/2015/09/image2.png)\n\n \n\nEt dans un dernier, on lui rappelle qui est le boss ","html":"<p>Voici du neuf dans iOS9 – haha – vous devrez maintenant faire un brin de configuration afin de réactiver la fonction « Dis Siri » de votre iBidule. La mise à jour vers le nouvel iOS désactive cette fonction, au moment ou vous demandez sa réactivation, Siri va vous demandez de vous présenter. Vous devrez dire quelques mots ou phrases afin qu’il reconnaisse votre voix. Siri sera ensuite votre assistant exclusif et ne répondra plus aux sollicitations de votre voisin de métro ou de votre collègue blagueur.</p>\n\n<p>Vous trouverez ci-dessous quelques captures d’écran illustrant le processus de configuration de la fonction « Dis Siri ». Notez que la fonction est désactivée après la mise à niveau vers iOS 9.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/image61.png\"><img src=\"https://techan.fr/images/2015/09/image61.png\" alt=\"Avec iOS9 vous devrez vous présenter à Siri avant de l'interpeler !\" title=\"\" /></a></p>\n\n<p>Lorsque l’on réactive la fonction, iOS vous demande de configurer « Dis Siri » afin qu’il puisse reconnaitre votre voix.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/image5.png\"><img src=\"https://techan.fr/images/2015/09/image5.png\" alt=\"Avec iOS9 vous devrez vous présenter à Siri avant de l'interpeler !\" title=\"\" /></a></p>\n\n<p>Les premières étapes consistent à répéter « Dis Siri ».</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/image1.png\"><img src=\"https://techan.fr/images/2015/09/image1.png\" alt=\"Avec iOS9 vous devrez vous présenter à Siri avant de l'interpeler !\" title=\"\" /></a></p>\n\n<p>Par la suite, on demande à Siri le temps qu’il fait.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/image2.png\"><img src=\"https://techan.fr/images/2015/09/image2.png\" alt=\"Avec iOS9 vous devrez vous présenter à Siri avant de l'interpeler !\" title=\"\" /></a></p>\n\n<p>Et dans un dernier, on lui rappelle qui est le boss ","image":"http://blog.techan.fr/images/2015/08/ios9_icon_large.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-09-10T16:55:51.000Z","created_by":1,"updated_at":"2015-09-10T16:55:51.000Z","updated_by":1,"published_at":"2015-09-10T16:55:51.000Z","published_by":1},{"id":161,"uuid":"29b7c751-f05c-47ee-8e60-65c096b404c6","title":"[Saga] La saga continue, maintenant chez Scaleway","slug":"saga-la-saga-continue-maintenant-chez-scaleway","markdown":"\nAprès un été difficile, auquel j’ai bien cru que le site ne survivrait pas (voir [La fin est proche](https://techan.fr/la-fin-est-proche/)), j’ai finalement trouvé une solution pour héberger le blog pour un coût raisonnable. Jusqu’à la semaine il était hébergé chez [Online.net](http://www.online.net/fr), le service qu’offre cet herbergeur est plus que correct, mais le prix devenait un peu trop élevé – plus de 20€ mensuel …\n\nJ’avais déjà essayé de réduire le coût de cet hébergement en passant sur des VPS mais l’expérience n’a pas été concluante et les performances n’étaient pas au rendez-vous (voir [[Saga] Bascule chez Online.net](https://techan.fr/saga-bascule-chez-online-net/)). J’avais donc abandonné [PulsHeberg](https://www.pulseheberg.com) que je jugeais trop peu performant et trop peu mature pour [Online.net](http://www.online.net/fr) et j’avais alors souscrit une offre de Dédibox.\n\n \n\n \n\n[![[Saga] la saga continue, maintenant chez Scaleway](https://techan.fr/images/2015/09/IMG_0615.jpg)](https://techan.fr/images/2015/09/IMG_0615.jpg)\n\n \n\nJ’ai redécouvert il y a peu l’offre de [Scaleway](https://www.scaleway.com/fr/pricing/), une filiale d’Online.net qui propose désormais des serveurs basés sur des processeurs ARMv7 facturés à l’heure où pour 2,99€ par mois. J’avais déjà testé ce concept pendant la phase de bêta et j’avais été séduit, mais les prix étaient un peu élevés, jusqu’à ce que ces derniers baissent récemment.\n\n \n\n> Read more about the 70% price slash on our blog post, the C1 is now the most affordable dedicated cloud server! [https://t.co/yQwaV1MNqC](https://t.co/yQwaV1MNqC)\n> \n> — scaleway (@scaleway) [September 2, 2015](https://twitter.com/scaleway/status/639095015696953344)\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>\n\n \n\nLe principe est simple, vous disposez d’une interface administration depuis laquelle vous pouvez créer jusqu’à 10 machines – cette milite peut être augmentée en contactant le support. Chacune de ses machines peut utiliser l’une des nombreuses distributions Linux mises à disposition par Scaleway ou une « InstantApp », c’est à dire un Linux avec une application pré-installée – comme WordPress, PrestaShop, ou Minecraft par exemple. Le temps de déploiement de ces machines est très court, en deux minutes vous avez accès à la bête – un quad cœurs avec 2 Go de RAM.\n\n \n\n[![IMG_0616](https://techan.fr/images/2015/09/IMG_0616-e1442817922572.png)](https://techan.fr/images/2015/09/IMG_0616-e1442817922572.png)\n\n \n\nLe site [techan.fr](https://techan.fr) est actuellement hébergé par l’une de ces machines C1 de chez Scaleway. Qu’en pensez-vous ? ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n\n","html":"<p>Après un été difficile, auquel j’ai bien cru que le site ne survivrait pas (voir <a href=\"https://techan.fr/la-fin-est-proche/\">La fin est proche</a>), j’ai finalement trouvé une solution pour héberger le blog pour un coût raisonnable. Jusqu’à la semaine il était hébergé chez <a href=\"http://www.online.net/fr\">Online.net</a>, le service qu’offre cet herbergeur est plus que correct, mais le prix devenait un peu trop élevé – plus de 20€ mensuel …</p>\n\n<p>J’avais déjà essayé de réduire le coût de cet hébergement en passant sur des VPS mais l’expérience n’a pas été concluante et les performances n’étaient pas au rendez-vous (voir <a href=\"https://techan.fr/saga-bascule-chez-online-net/\">[Saga] Bascule chez Online.net</a>). J’avais donc abandonné <a href=\"https://www.pulseheberg.com\">PulsHeberg</a> que je jugeais trop peu performant et trop peu mature pour <a href=\"http://www.online.net/fr\">Online.net</a> et j’avais alors souscrit une offre de Dédibox.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/IMG_0615.jpg\"><img src=\"https://techan.fr/images/2015/09/IMG_0615.jpg\" alt=\"[Saga] la saga continue, maintenant chez Scaleway\" title=\"\" /></a></p>\n\n<p>J’ai redécouvert il y a peu l’offre de <a href=\"https://www.scaleway.com/fr/pricing/\">Scaleway</a>, une filiale d’Online.net qui propose désormais des serveurs basés sur des processeurs ARMv7 facturés à l’heure où pour 2,99€ par mois. J’avais déjà testé ce concept pendant la phase de bêta et j’avais été séduit, mais les prix étaient un peu élevés, jusqu’à ce que ces derniers baissent récemment.</p>\n\n<blockquote>\n  <p>Read more about the 70% price slash on our blog post, the C1 is now the most affordable dedicated cloud server! <a href=\"https://t.co/yQwaV1MNqC\">https://t.co/yQwaV1MNqC</a></p>\n  \n  <p>— scaleway (@scaleway) <a href=\"https://twitter.com/scaleway/status/639095015696953344\">September 2, 2015</a></p>\n</blockquote>\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>\n\n<p>Le principe est simple, vous disposez d’une interface administration depuis laquelle vous pouvez créer jusqu’à 10 machines – cette milite peut être augmentée en contactant le support. Chacune de ses machines peut utiliser l’une des nombreuses distributions Linux mises à disposition par Scaleway ou une « InstantApp », c’est à dire un Linux avec une application pré-installée – comme WordPress, PrestaShop, ou Minecraft par exemple. Le temps de déploiement de ces machines est très court, en deux minutes vous avez accès à la bête – un quad cœurs avec 2 Go de RAM.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/IMG_0616-e1442817922572.png\"><img src=\"https://techan.fr/images/2015/09/IMG_0616-e1442817922572.png\" alt=\"IMG_0616\" title=\"\" /></a></p>\n\n<p>Le site <a href=\"https://techan.fr\">techan.fr</a> est actuellement hébergé par l’une de ces machines C1 de chez Scaleway. Qu’en pensez-vous ? <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>","image":"http://blog.techan.fr/images/2015/09/IMG_0614.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-09-20T13:05:33.000Z","created_by":1,"updated_at":"2015-09-21T14:28:52.000Z","updated_by":1,"published_at":"2015-09-20T13:05:33.000Z","published_by":1},{"id":162,"uuid":"8082d7ea-5e8e-492f-8127-059d252078de","title":"Une faille dans iOS 9 permet d'accéder aux contacts et aux photos","slug":"une-faille-dans-ios-9-permet-dacceder-aux-contacts-et-aux-photos","markdown":"\nLe site [Mac4Ever](http://www.mac4ever.com) révèle ce matin une faille d’iOS 9 qui permet à une personne ayant un accès physique à votre iPhone ou à votre iPad d’accéder à vos contacts et à vos photos – les vidéos ne peuvent être lues. Cet accès est possible même si votre iBidule est protégé par un code ou par TouchID. Une manipulation simple – mais un peu longue et fastidieuse permet au malandrin de voir vos précieuses informations\n\n \n\n> iOS 9 : une faille donne accès aux contacts et aux photos malgré le verrouillage [http://t.co/ioCzFDWCTS](http://t.co/ioCzFDWCTS) [pic.twitter.com/PesCVKpLtC](http://t.co/PesCVKpLtC)\n> \n> — Mac4Ever.com (@Mac4ever) [September 21, 2015](https://twitter.com/Mac4ever/status/645849692941717504)\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>\n\n \n\nLa manipulation est la suivante :\n\n- Saisissez 4 codes incorrects pour le déverrouillage\n- Saisissez 3 chiffres au hasard à la cinquième tentative, puis maintenez appuyé le bouton « Home » pour activer Siri et entrez sans attendre le 4ème chiffre\n- L’iPhone sera bloqué pendant une minute suite aux multiples codes faux, mais Siri restera accessible\n- Demandez à Siri quelle heure il est\n- Touchez l’icone de l’horloge pour ouvrir l’application idoine\n- Touchez le bouton « + » en haut à droite de la fenêtre, puis saisissez un nom de ville qui n’existe pas dans le champ de sélection\n- Sélectionnez le nom tout juste saisi et choisissez l’option « Partager »\n- Touchez l’icone de l’app Message dans les options de partage\n- Saisissez un nom absent de votre répertoire dans le champ du destinataire du message, puis appuyez sur « Retour »\n- Touchez deux fois le nom juste saisi pour ouvrir la page d’infos\n- Touchez l’option « Créer un nouveau contact »\n- Touchez l’option « Ajouter une photo », puis « Choisir une photo »\n- Vous avez ainsi accès à la pellicule du smartphone, sans avoir eu besoin de saisir le code d’accès et alors que l’appareil est encore verrouillé\n\n \n\n**Il est toute fois possible d’empêcher ce comportement non souhaité – et non souhaitable – et désactivant l’utilisation de Siri lorsque le téléphone est verrouillé, via le menu « Touch ID et code » des Paramètres.**\n\n \n\n[![Une faille dans iOS 9 permet d'accéder aux contacts et aux photos](https://techan.fr/images/2015/09/ios9_faille_photos_contacts.png)](https://techan.fr/images/2015/09/ios9_faille_photos_contacts.png)\n\n \n\n\n","html":"<p>Le site <a href=\"http://www.mac4ever.com\">Mac4Ever</a> révèle ce matin une faille d’iOS 9 qui permet à une personne ayant un accès physique à votre iPhone ou à votre iPad d’accéder à vos contacts et à vos photos – les vidéos ne peuvent être lues. Cet accès est possible même si votre iBidule est protégé par un code ou par TouchID. Une manipulation simple – mais un peu longue et fastidieuse permet au malandrin de voir vos précieuses informations</p>\n\n<blockquote>\n  <p>iOS 9 : une faille donne accès aux contacts et aux photos malgré le verrouillage <a href=\"http://t.co/ioCzFDWCTS\">http://t.co/ioCzFDWCTS</a> <a href=\"http://t.co/PesCVKpLtC\">pic.twitter.com/PesCVKpLtC</a></p>\n  \n  <p>— Mac4Ever.com (@Mac4ever) <a href=\"https://twitter.com/Mac4ever/status/645849692941717504\">September 21, 2015</a></p>\n</blockquote>\n\n<script async=\"\" charset=\"utf-8\" src=\"//platform.twitter.com/widgets.js\"></script>\n\n<p>La manipulation est la suivante :</p>\n\n<ul>\n<li>Saisissez 4 codes incorrects pour le déverrouillage</li>\n<li>Saisissez 3 chiffres au hasard à la cinquième tentative, puis maintenez appuyé le bouton « Home » pour activer Siri et entrez sans attendre le 4ème chiffre</li>\n<li>L’iPhone sera bloqué pendant une minute suite aux multiples codes faux, mais Siri restera accessible</li>\n<li>Demandez à Siri quelle heure il est</li>\n<li>Touchez l’icone de l’horloge pour ouvrir l’application idoine</li>\n<li>Touchez le bouton « + » en haut à droite de la fenêtre, puis saisissez un nom de ville qui n’existe pas dans le champ de sélection</li>\n<li>Sélectionnez le nom tout juste saisi et choisissez l’option « Partager »</li>\n<li>Touchez l’icone de l’app Message dans les options de partage</li>\n<li>Saisissez un nom absent de votre répertoire dans le champ du destinataire du message, puis appuyez sur « Retour »</li>\n<li>Touchez deux fois le nom juste saisi pour ouvrir la page d’infos</li>\n<li>Touchez l’option « Créer un nouveau contact »</li>\n<li>Touchez l’option « Ajouter une photo », puis « Choisir une photo »</li>\n<li><p>Vous avez ainsi accès à la pellicule du smartphone, sans avoir eu besoin de saisir le code d’accès et alors que l’appareil est encore verrouillé</p></li>\n</ul>\n\n<p><strong>Il est toute fois possible d’empêcher ce comportement non souhaité – et non souhaitable – et désactivant l’utilisation de Siri lorsque le téléphone est verrouillé, via le menu « Touch ID et code » des Paramètres.</strong></p>\n\n<p><a href=\"https://techan.fr/images/2015/09/ios9_faille_photos_contacts.png\"><img src=\"https://techan.fr/images/2015/09/ios9_faille_photos_contacts.png\" alt=\"Une faille dans iOS 9 permet d'accéder aux contacts et aux photos\" title=\"\" /></a></p>","image":"http://blog.techan.fr/images/2015/08/ios9_icon_large.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-09-21T10:15:15.000Z","created_by":1,"updated_at":"2015-10-27T11:22:05.000Z","updated_by":1,"published_at":"2015-09-21T10:15:15.000Z","published_by":1},{"id":163,"uuid":"761a45b7-ae1b-44b6-a683-5456bdd71c58","title":"Les commandes pour interagir avec un Mac à distance","slug":"temp-slug-161","markdown":"","html":"","image":null,"featured":0,"page":0,"status":"draft","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-09-21T13:37:25.000Z","created_by":1,"updated_at":"2015-09-21T13:37:25.000Z","updated_by":1,"published_at":"0000-00-00 00:00:00","published_by":1},{"id":164,"uuid":"b72a8112-f669-462a-99f7-2e8d0b9f370a","title":"Rome2Rio une App pour globe-trotters","slug":"rome2rio-une-app-pour-globe-trotters","markdown":"\nLorsque l’on a la chance de voyager à l’étranger, la première difficulté rencontrée – outre la barrière de la langue – est bien souvent de se rendre d’un point A à un point B. Il est souvent compliqué et il est rarement aisé de savoir quel moyen de transport est le moins cher ou le plus rapide …\n\nPour pallier à cela, je vous présente donc [Rome2Rio](https://itunes.apple.com/fr/app/rome2rio-rail-air-road-sea/id569793256?mt=8) [Rome2rio Pty Ltd, *Gratuit*], une application qui m’a été très précieuse lors de mes congés à Venise (voir [Finis les congés, Bonjour la reprise](https://techan.fr/finis-les-conges-bonjour-la-reprise/)). Cet outil vous permet d’avoir une idée assez précise des moyens de transports disponibles et du coût qu’ils représentent. Dans le cas ou il n’y aurait pas de transports disponibles, vous pouvez également utiliser cette application pour vous repérer, mieux vaut tout de même préférer une vraie application GPS dans ce cas là.\n\nVoici un petit exemple en images, vous venez d’atterrir à l’aéroport Marco Polo de Venise et vous souhaitez vous rendre dans Venise. Vous lancez l’application Rome2Rio et vous faites une recherche d’itinéraire, comme vous le feriez avec votre application GPS habituelle.\n\n \n\n[![Rome2Rio une App pour globe-trotters](https://techan.fr/images/2015/09/image2-1.png)](https://techan.fr/images/2015/09/image11.png)\n\nL’application vous liste alors les différentes possibilités qui s’offrent à vous que ce soit à pieds, en bus, par ferry ou en taxi. Vous avez également une estimation du coût de chacun de ces moyens de transport et le temps estimé de votre trajet.\n\n \n\n[![Rome2Rio une App pour globe-trotters](https://techan.fr/images/2015/09/image11.png)](https://techan.fr/images/2015/09/image11.png)\n\nCe service est également disponible sur [le site internet de Rome2Rio](http://www.rome2rio.com/fr).\n\n\n","html":"<p>Lorsque l’on a la chance de voyager à l’étranger, la première difficulté rencontrée – outre la barrière de la langue – est bien souvent de se rendre d’un point A à un point B. Il est souvent compliqué et il est rarement aisé de savoir quel moyen de transport est le moins cher ou le plus rapide …</p>\n\n<p>Pour pallier à cela, je vous présente donc <a href=\"https://itunes.apple.com/fr/app/rome2rio-rail-air-road-sea/id569793256?mt=8\">Rome2Rio</a> [Rome2rio Pty Ltd, <em>Gratuit</em>], une application qui m’a été très précieuse lors de mes congés à Venise (voir <a href=\"https://techan.fr/finis-les-conges-bonjour-la-reprise/\">Finis les congés, Bonjour la reprise</a>). Cet outil vous permet d’avoir une idée assez précise des moyens de transports disponibles et du coût qu’ils représentent. Dans le cas ou il n’y aurait pas de transports disponibles, vous pouvez également utiliser cette application pour vous repérer, mieux vaut tout de même préférer une vraie application GPS dans ce cas là.</p>\n\n<p>Voici un petit exemple en images, vous venez d’atterrir à l’aéroport Marco Polo de Venise et vous souhaitez vous rendre dans Venise. Vous lancez l’application Rome2Rio et vous faites une recherche d’itinéraire, comme vous le feriez avec votre application GPS habituelle.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/image11.png\"><img src=\"https://techan.fr/images/2015/09/image2-1.png\" alt=\"Rome2Rio une App pour globe-trotters\" title=\"\" /></a></p>\n\n<p>L’application vous liste alors les différentes possibilités qui s’offrent à vous que ce soit à pieds, en bus, par ferry ou en taxi. Vous avez également une estimation du coût de chacun de ces moyens de transport et le temps estimé de votre trajet.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/image11.png\"><img src=\"https://techan.fr/images/2015/09/image11.png\" alt=\"Rome2Rio une App pour globe-trotters\" title=\"\" /></a></p>\n\n<p>Ce service est également disponible sur <a href=\"http://www.rome2rio.com/fr\">le site internet de Rome2Rio</a>.</p>","image":"http://blog.techan.fr/images/2015/09/IMG_0629.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-09-21T18:55:37.000Z","created_by":1,"updated_at":"2015-09-22T11:44:40.000Z","updated_by":1,"published_at":"2015-09-21T18:55:37.000Z","published_by":1},{"id":165,"uuid":"92b74a99-19f6-44f8-a214-a57654dbb72b","title":"OSMC avec PleXBMC et le Replay Francais sur Raspberry PI 2","slug":"osmc-avec-plexbmc-et-le-replay-francais-sur-raspberry-pi-2","markdown":"\nMe voilà l’heureux propriétaire de deux nouvelles Rapsberry PI 2, ces petites nouvelles vont remplacer – avantageusement – la box TV fournie par mon fournisseur d’accès à internet. Comme je dispose d’un serveur Plex, il aurait été logique que j’installe la distribution [Rasplex](http://www.rasplex.com/) sur mes petites PI. Rasplex est une distribution basée sur OpenELEC sur laquelle est implantée le client Plex – Plex Home Theater. Cette distribution est très très agréable a utiliser et fonctionne à merveille, mais dans mon cas, je souhaitais pouvoir accéder aux sites de replay depuis mes télévisions, ce que Plex et donc Rasplex ne proposent pas.\n\n \n\nJ’avais remarqué que plusieurs addons intéressants existaient pour Kodi – anciennement XMBC – notamment un qui permet d’accéder au serveur Plex via Kodi – PleXBMC et un seconde qui permet d’accéder aux vidéos en Replay – FReplay. C’est donc pour cela que j’ai opté pour [OSMC](https://osmc.tv/), une distribution pour la PI basée sur Debian et embarquant Kodi.\n\nJe vais décrire ici comment disposer d’OSMC avec PleXBMC et le Replay Francais sur Raspberry PI 2.\n\n\n## \n\n\n## Installation d’OSMC sur la PI\n\nLe processus d’installation d’OSMC est très simple et peut se depuis n’importe quel système d’exploitation. Les étapes sont simples et un installeur va vous guider. Voire dans la partie **Sources** pour le lien de téléchargement.\n\n \n\n[![OSMC avec PleXBMC et le Replay Francais sur Raspberry PI 2](https://techan.fr/images/2015/09/winstaller.png)](https://techan.fr/images/2015/09/winstaller.png)\n\nLorsque que votre Raspberry PI est correctement installé et qu’OSMC a démarré pour la première fois, récupérer l’adresse IP de votre PI.\n\n\n## \n\n\n## Installation des addons\n\nPour cela, connectez-vous en SSH sur votre PI, vous pouvez utiliser pour cela le programme [PuTTY](http://the.earth.li/~sgtatham/putty/latest/x86/putty.exe).\n\nLe login par défaut est **osmc** et le mot de passe par défaut est **osmc**.\n\n \n\nTout d’abord, faisons quelques mises à jour du système.\n\nsudo apt-get update sudo apt-get upgrade sudo apt-get dist-upgrade\n\n \n\nNous allons maintenant télécharger les addons directement sur la PI.\n\nwget https://github.com/hippojay/plugin.video.plexbmc/archive/helix.zip wget https://github.com/hippojay/script.plexbmc.helper/archive/master.zip -O script.plexbmc.helper.zip wget https://github.com/pecinko/skin.amber/archive/master.zip -O amber.zip wget http://media-passion.fr/addons/Download.php/plugin.video.freplay/plugin.video.freplay-0.5.5.zip\n\n \n\nPuis activer les addons dans cet ordre :\n\n1. helix.zip\n2. script.plexbmc.helper.zip\n3. amber.zip\n4. plugin.video.freplay-0.5.5.zip\n\n \n\nLa marche à suivre pour installer les plugins est la suivante. Depuis les paramètres de Kodi, allez dans la section **Extensions** puis dans l’options **Installer des extensions**. Ensuite de faire :\n\n1. Installer depuis un fichier ZIP\n2. Choisr « Depuis le dossier personnel »\n3. Sélectionner l’addon et il s’installe.\n\n \n\nLorsque vous installer le thème **Amber**, Kodi va vous demander si vous souhaiter utiliser ce thème, répondez **oui**.\n\n \n\nLorsque tout est installé, vous utiliserez alors le thème **Amber**, naviguer dans l’interface jusqu’à la section **Paramètres**, appuyer sur la flèche vers le bas du clavier pour sélectionner l’option **Aller vers Plex**, validez avec **Entrée** et le tour est joué !\n\n \n\n\n## Ajouter du swap\n\nAjouter du swap sur OSMC permet d’accroitre un peu les perfomances du système en lui ajoutant de la mémoire vive supplémentaire – moins performante car placée sur la carte SD.\n\n \n\nVoici les actions a réaliser pour ajouter du swap. Tout d’abord, il faudra vous connecter à la PI en SSH et lancer les commandes suivantes.\n\n \n\nsudo dd if=/dev/zero of=/swap count=2097152 sudo mkswap /swap sudo chmod 600 /swap\n\n \n\nÉditez le fichier **/etc/fstab.**\n\nsudo vi /etc/fstab\n\nAjoutez la ligne suivante à la fin de ce fichier.\n\n/swap none swap defaults,_netdev,nobootwait 0 0\n\n \n\nEditez le fichier **/etc/init.d/swap**.\n\nsudo vi /etc/init.d/swap\n\nAjoutez-y le contenu suivant.\n\n#!/bin/bash ### BEGIN INIT INFO # Provides: mountswap # Required-Start: $network $local_fs # Required-Stop: $local_fs # Default-Start: 2 3 4 5 # Default-Stop: 0 1 6 # X-Start-After: nbd-client # Short-Description: Workaround to mount an NBD device as swap OS device. IMPORTANT: add '_netdev' mount option to the swap device in /etc/fstab ### END INIT INFO . /lib/lsb/init-functions case \"${1:-''}\" in 'start') log_daemon_msg \"Activating swap devices\" /sbin/swapon -a [ $? -eq 0 ] && log_end_msg 0 || log_end_msg 1 ;; esac\n\n \n\nOn rend le script exécutable et on active le swap !\n\nsudo chmod +x /etc/init.d/swap sudo swapon -a\n\n \n\nLa commande suivante permet de vérifier que le swap est bien actif sur le système.\n\nsudo free -m total used free shared buffers cached Mem: 2023 1867 156 57 134 1232 -/+ buffers/cache: 500 1522 Swap: 1023 0 1023\n\n \n\n \n\n\n## Sources\n\n- [ilogblog.wordpress.com (Anglais)](https://ilogblog.wordpress.com/2015/06/03/osmc-with-plexbmc/)\n- [OSMC – Download](https://osmc.tv/download/)\n\n\n","html":"<p>Me voilà l’heureux propriétaire de deux nouvelles Rapsberry PI 2, ces petites nouvelles vont remplacer – avantageusement – la box TV fournie par mon fournisseur d’accès à internet. Comme je dispose d’un serveur Plex, il aurait été logique que j’installe la distribution <a href=\"http://www.rasplex.com/\">Rasplex</a> sur mes petites PI. Rasplex est une distribution basée sur OpenELEC sur laquelle est implantée le client Plex – Plex Home Theater. Cette distribution est très très agréable a utiliser et fonctionne à merveille, mais dans mon cas, je souhaitais pouvoir accéder aux sites de replay depuis mes télévisions, ce que Plex et donc Rasplex ne proposent pas.</p>\n\n<p>J’avais remarqué que plusieurs addons intéressants existaient pour Kodi – anciennement XMBC – notamment un qui permet d’accéder au serveur Plex via Kodi – PleXBMC et un seconde qui permet d’accéder aux vidéos en Replay – FReplay. C’est donc pour cela que j’ai opté pour <a href=\"https://osmc.tv/\">OSMC</a>, une distribution pour la PI basée sur Debian et embarquant Kodi.</p>\n\n<p>Je vais décrire ici comment disposer d’OSMC avec PleXBMC et le Replay Francais sur Raspberry PI 2.</p>\n\n<h2 id=\"\"> </h2>\n\n<h2 id=\"installationdosmcsurlapi\">Installation d’OSMC sur la PI</h2>\n\n<p>Le processus d’installation d’OSMC est très simple et peut se depuis n’importe quel système d’exploitation. Les étapes sont simples et un installeur va vous guider. Voire dans la partie <strong>Sources</strong> pour le lien de téléchargement.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/winstaller.png\"><img src=\"https://techan.fr/images/2015/09/winstaller.png\" alt=\"OSMC avec PleXBMC et le Replay Francais sur Raspberry PI 2\" title=\"\" /></a></p>\n\n<p>Lorsque que votre Raspberry PI est correctement installé et qu’OSMC a démarré pour la première fois, récupérer l’adresse IP de votre PI.</p>\n\n<h2 id=\"\"> </h2>\n\n<h2 id=\"installationdesaddons\">Installation des addons</h2>\n\n<p>Pour cela, connectez-vous en SSH sur votre PI, vous pouvez utiliser pour cela le programme <a href=\"http://the.earth.li/~sgtatham/putty/latest/x86/putty.exe\">PuTTY</a>.</p>\n\n<p>Le login par défaut est <strong>osmc</strong> et le mot de passe par défaut est <strong>osmc</strong>.</p>\n\n<p>Tout d’abord, faisons quelques mises à jour du système.</p>\n\n<p>sudo apt-get update sudo apt-get upgrade sudo apt-get dist-upgrade</p>\n\n<p>Nous allons maintenant télécharger les addons directement sur la PI.</p>\n\n<p>wget <a href=\"https://github.com/hippojay/plugin.video.plexbmc/archive/helix.zip\">https://github.com/hippojay/plugin.video.plexbmc/archive/helix.zip</a> wget <a href=\"https://github.com/hippojay/script.plexbmc.helper/archive/master.zip\">https://github.com/hippojay/script.plexbmc.helper/archive/master.zip</a> -O script.plexbmc.helper.zip wget <a href=\"https://github.com/pecinko/skin.amber/archive/master.zip\">https://github.com/pecinko/skin.amber/archive/master.zip</a> -O amber.zip wget <a href=\"http://media-passion.fr/addons/Download.php/plugin.video.freplay/plugin.video.freplay-0.5.5.zip\">http://media-passion.fr/addons/Download.php/plugin.video.freplay/plugin.video.freplay-0.5.5.zip</a></p>\n\n<p>Puis activer les addons dans cet ordre :</p>\n\n<ol>\n<li>helix.zip  </li>\n<li>script.plexbmc.helper.zip  </li>\n<li>amber.zip  </li>\n<li><p>plugin.video.freplay-0.5.5.zip</p></li>\n</ol>\n\n<p>La marche à suivre pour installer les plugins est la suivante. Depuis les paramètres de Kodi, allez dans la section <strong>Extensions</strong> puis dans l’options <strong>Installer des extensions</strong>. Ensuite de faire :</p>\n\n<ol>\n<li>Installer depuis un fichier ZIP  </li>\n<li>Choisr « Depuis le dossier personnel »  </li>\n<li><p>Sélectionner l’addon et il s’installe.</p></li>\n</ol>\n\n<p>Lorsque vous installer le thème <strong>Amber</strong>, Kodi va vous demander si vous souhaiter utiliser ce thème, répondez <strong>oui</strong>.</p>\n\n<p>Lorsque tout est installé, vous utiliserez alors le thème <strong>Amber</strong>, naviguer dans l’interface jusqu’à la section <strong>Paramètres</strong>, appuyer sur la flèche vers le bas du clavier pour sélectionner l’option <strong>Aller vers Plex</strong>, validez avec <strong>Entrée</strong> et le tour est joué !</p>\n\n<h2 id=\"ajouterduswap\">Ajouter du swap</h2>\n\n<p>Ajouter du swap sur OSMC permet d’accroitre un peu les perfomances du système en lui ajoutant de la mémoire vive supplémentaire – moins performante car placée sur la carte SD.</p>\n\n<p>Voici les actions a réaliser pour ajouter du swap. Tout d’abord, il faudra vous connecter à la PI en SSH et lancer les commandes suivantes.</p>\n\n<p>sudo dd if=/dev/zero of=/swap count=2097152 sudo mkswap /swap sudo chmod 600 /swap</p>\n\n<p>Éditez le fichier <strong>/etc/fstab.</strong></p>\n\n<p>sudo vi /etc/fstab</p>\n\n<p>Ajoutez la ligne suivante à la fin de ce fichier.</p>\n\n<p>/swap none swap defaults,_netdev,nobootwait 0 0</p>\n\n<p>Editez le fichier <strong>/etc/init.d/swap</strong>.</p>\n\n<p>sudo vi /etc/init.d/swap</p>\n\n<p>Ajoutez-y le contenu suivant.</p>\n\n<h1 id=\"binbashbegininitinfoprovidesmountswaprequiredstartdnetworkdlocal_fsrequiredstopdlocal_fsdefaultstart2345defaultstop016xstartafternbdclientshortdescriptionworkaroundtomountannbddeviceasswaposdeviceimportantadd_netdevmountoptiontotheswapdeviceinetcfstabendinitinfoliblsbinitfunctionscased1instartlog_daemon_msgactivatingswapdevicessbinswaponadeq0log_end_msg0log_end_msg1esac\">!/bin/bash ### BEGIN INIT INFO # Provides: mountswap # Required-Start: $network $local<em>fs # Required-Stop: $local</em>fs # Default-Start: 2 3 4 5 # Default-Stop: 0 1 6 # X-Start-After: nbd-client # Short-Description: Workaround to mount an NBD device as swap OS device. IMPORTANT: add '<em>netdev' mount option to the swap device in /etc/fstab ### END INIT INFO . /lib/lsb/init-functions case \"${1:-''}\" in 'start') log</em>daemon<em>msg \"Activating swap devices\" /sbin/swapon -a [ $? -eq 0 ] &amp;&amp; log</em>end<em>msg 0 || log</em>end_msg 1 ;; esac</h1>\n\n<p>On rend le script exécutable et on active le swap !</p>\n\n<p>sudo chmod +x /etc/init.d/swap sudo swapon -a</p>\n\n<p>La commande suivante permet de vérifier que le swap est bien actif sur le système.</p>\n\n<p>sudo free -m total used free shared buffers cached Mem: 2023 1867 156 57 134 1232 -/+ buffers/cache: 500 1522 Swap: 1023 0 1023</p>\n\n<h2 id=\"sources\">Sources</h2>\n\n<ul>\n<li><a href=\"https://ilogblog.wordpress.com/2015/06/03/osmc-with-plexbmc/\">ilogblog.wordpress.com (Anglais)</a></li>\n<li><a href=\"https://osmc.tv/download/\">OSMC – Download</a></li>\n</ul>","image":"http://blog.techan.fr/images/2015/06/Raspi_Colour_R.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-09-23T11:17:16.000Z","created_by":1,"updated_at":"2015-09-23T13:18:46.000Z","updated_by":1,"published_at":"2015-09-23T11:17:16.000Z","published_by":1},{"id":166,"uuid":"31b87d6d-c90c-40ad-a553-5b15942baaeb","title":"Virgin Mobile prend ses clients pour des pigeons","slug":"virgin-mobile-prend-ses-clients-pour-des-pigeons","markdown":"\nIl y a 15 jours, je vous donnais des bons plans pour des forfaits mobiles et ADSL – les offres sont maintenant terminées – (voir [Des bons plans pour vos forfaits mobiles et ADSL](https://techan.fr/des-bons-plans-pour-vos-forfaits-mobile-et-adsl/)). Soucieux de faire des économies, j’ai souscris à l’offre de Virgin Mobile qui proposait une box ADSL pour 1,99€ par mois pendant 12 mois. Ce prix m’a attiré vu le prix de l’ADSL chez Free avec la FreeBox Révolution.\n\nJusque là, tout va bien, je souscris, ils me prélèvent, je reçois ma Box et j’attends patiemment l’activation de ma ligne par Virgin. J’avais un débit correct – pour de l’ADSL – chez Free, il montait régulièrement à 1,9 Mo/s et ne descendait jamais en dessous de 1,6 Mo/s. Avant de souscrire j’ai fait un test d’éligibilité chez Virgin, par acquis de conscience. Virgin annonçait un débit pouvant aller jusqu’à 14  Mb/s, pas très loin donc de ce que j’avais chez Free – 1,9 Mo/s correspondant à 15,2 Mb/s.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1871\" style=\"width: 510px\">[![Virgin Mobile prend ses clients pour des pigeons](https://techan.fr/images/2015/09/eligibilité.png)](https://techan.fr/images/2015/09/eligibilité.png)Débit annoncé par Virgin jusqu’à. 14 Mb/s\n\n</div> \n\nCependant, la réalité est bien loin de ça … Voici un test de débit que j’ai réalisé sur ma ligne Free, celui ci montre un débit honorable de quasiment 14 Mb/s.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1877\" style=\"width: 510px\">[![Virgin Mobile prend ses clients pour des pigeons](https://techan.fr/images/2015/09/IMG_0641.png)](https://techan.fr/images/2015/09/IMG_0641.png)Test de débit sur la ligne Free\n\n</div>Et maintenant, le même test mais depuis la ligne Virgin Mobile, avec le même équipement, rien n’a changé chez moi, à part la Box. Et paf, deux fois moins de débit …\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1878\" style=\"width: 510px\">[![Virgin Mobile prend ses clients pour des pigeons](https://techan.fr/images/2015/09/IMG_0642.png)](https://techan.fr/images/2015/09/IMG_0642.png)Test de débit sur la ligne Virgin Mobile\n\n</div> \n\nDéçu, j’ai entrepris des recherches sur internet pour savoir ce qu’il en était, et force est de constater que je ne suis pas le seul à avoir des problèmes de débit avec Virgin Mobile. Il faut savoir – j’ai appris plein de choses lors de ces recherches – que pour se connecter à Internet, votre Box dispose de plusieurs types de modulations. Chacune de ces options a ses avantages et ses inconvénients, il faut tout d’abord que votre ligne soit éligible pour pouvoir en utiliser certains – comme l’ADSL 2+ par exemple. En fonction du type de modulation utilisé, vous aurez également plus ou moins de débit.\n\n \n\nSachez que par défaut, Virgin Mobile force votre Box a utiliser la modulation G.DMT et ceci même si votre ligne peut supporter des modulations bien plus avantageuses pour vous. D’après les multiples témoignages sur le forum de la communauté Virgin Mobile, des utilisateurs ont pu bénéficier de l’ADSL 2+ en se plaignant au service client de Virgin Mobile. Un utilisateur – mick2207 – rapporte même cette déclaration troublante d’un conseiller Virgin Mobile :\n\n> **La personne m’a indiqué que même si la ligne permettait plus, « la politique commerciale de Virgin était de proposer le strict****minimum » pour éviter tout problème technique !**\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1873\" style=\"width: 664px\">[![Virgin Mobile prend ses clients pour des pigeons](https://techan.fr/images/2015/09/virgin_service_minimum.png)](https://techan.fr/images/2015/09/virgin_service_minimum.png)[Lien vers le message sur la communauté Virgin Mobile](http://communaute.virginmobile.fr/t5/La-Virgin-Box-au-quotidien/Comment-arriver-%C3%A0-passer-en-ADSL2/td-p/188434/page/3)\n\n</div> \n\nOutré par cette politique scandaleuse, j’ai laissé un message “musclé” en réponse au précédent post.\n\n \n\n[![Virgin Mobile prend ses clients pour des pigeons](https://techan.fr/images/2015/09/virgin_mon_message.png)](https://techan.fr/images/2015/09/virgin_mon_message.png)\n\nCroyez-moi ou pas, 30 minutes après ce message ma box se synchronisait en ADSL 2+ … Mais il ne faut pas trop rêver non plus, le débit est toujours le même … J’en ai donc parlé à plusieurs collègues – qui ont travaillé chez Orange et un autre opérateur ADSL – et chacune de ces personnes m’a rapporté des pratiques identiques. Lorsqu’un client souscrivait à une Box, le débit “max” était estimé en fonction de plusieurs critères – comme la distance avec le DSLAM par exemple – puis était bridé à cette valeur maximale et ce même si la ligne aurait pu supporter un débit plus important. Ils m’ont également raconté qu’ils pouvaient “augmenter” le débit de leurs amis d’un simple clic et qu’ils le faisaient par fois pour des clients qui râlaient trop sur leur débit.\n\n \n\n[![passage_en_adsl2+](https://techan.fr/images/2015/09/passage_en_adsl2-.jpg)](https://techan.fr/images/2015/09/passage_en_adsl2-.jpg)\n\n \n\nChez Virgin Mobile, cela paraît encore pire, quelles que soient les caractéristiques de votre ligne, vous n’aurez que le minimum, à savoir le type de modulation qui ne permet pas de dépasser 8M/s – soit 1 Mo/s grand max … Pas mal de clients se plaignent donc au service client pour passer à un débit supérieur et l’obtiennent ! Mais il semble que cette modification ne soit pas gravée dans le marbre, en effet certains utilisateurs témoignent également d’une perte subite de débit, et constatent que leur Box a été bridée de nouveau… Pire encore, les utilisateurs <span style=\"text-decoration: underline;\">remercient</span> le service client de le fournir la <span style=\"text-decoration: underline;\">totalité</span> du service auquel ils ont souscrit …\n\nBref, du coup j’ai rappelé Free, le technicien était surpris de la chute de débit mais a – très gentiment – lancé le recâblage de ma ligne chez Free. Je compte bien également faire jouer le « Satisfait ou Remboursé de Virgin Mobile.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1884\" style=\"width: 166px\">[![Virgin Mobile prend ses clients pour des pigeons](https://techan.fr/images/2015/09/virgin_satisfait_rembourse.png)](https://techan.fr/images/2015/09/virgin_satisfait_rembourse.png)[Lien vers le formulaire](http://www.virginmobile.fr/media/virgin/promotions/pdf/adsl-coupon-satisfaitourembourse.pdf)\n\n</div> \n\nTout ceci n’est « Veryment » pas très sérieux …\n\n\n","html":"<p>Il y a 15 jours, je vous donnais des bons plans pour des forfaits mobiles et ADSL – les offres sont maintenant terminées – (voir <a href=\"https://techan.fr/des-bons-plans-pour-vos-forfaits-mobile-et-adsl/\">Des bons plans pour vos forfaits mobiles et ADSL</a>). Soucieux de faire des économies, j’ai souscris à l’offre de Virgin Mobile qui proposait une box ADSL pour 1,99€ par mois pendant 12 mois. Ce prix m’a attiré vu le prix de l’ADSL chez Free avec la FreeBox Révolution.</p>\n\n<p>Jusque là, tout va bien, je souscris, ils me prélèvent, je reçois ma Box et j’attends patiemment l’activation de ma ligne par Virgin. J’avais un débit correct – pour de l’ADSL – chez Free, il montait régulièrement à 1,9 Mo/s et ne descendait jamais en dessous de 1,6 Mo/s. Avant de souscrire j’ai fait un test d’éligibilité chez Virgin, par acquis de conscience. Virgin annonçait un débit pouvant aller jusqu’à 14  Mb/s, pas très loin donc de ce que j’avais chez Free – 1,9 Mo/s correspondant à 15,2 Mb/s.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1871\" style=\"width: 510px\"><a href=\"https://techan.fr/images/2015/09/eligibilité.png\"><img src=\"https://techan.fr/images/2015/09/eligibilité.png\" alt=\"Virgin Mobile prend ses clients pour des pigeons\" title=\"\" /></a>Débit annoncé par Virgin jusqu’à. 14 Mb/s</p>\n\n<p></div> </p>\n\n<p>Cependant, la réalité est bien loin de ça … Voici un test de débit que j’ai réalisé sur ma ligne Free, celui ci montre un débit honorable de quasiment 14 Mb/s.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1877\" style=\"width: 510px\"><a href=\"https://techan.fr/images/2015/09/IMG_0641.png\"><img src=\"https://techan.fr/images/2015/09/IMG_0641.png\" alt=\"Virgin Mobile prend ses clients pour des pigeons\" title=\"\" /></a>Test de débit sur la ligne Free</p>\n\n<p></div>Et maintenant, le même test mais depuis la ligne Virgin Mobile, avec le même équipement, rien n’a changé chez moi, à part la Box. Et paf, deux fois moins de débit …</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1878\" style=\"width: 510px\"><a href=\"https://techan.fr/images/2015/09/IMG_0642.png\"><img src=\"https://techan.fr/images/2015/09/IMG_0642.png\" alt=\"Virgin Mobile prend ses clients pour des pigeons\" title=\"\" /></a>Test de débit sur la ligne Virgin Mobile</p>\n\n<p></div> </p>\n\n<p>Déçu, j’ai entrepris des recherches sur internet pour savoir ce qu’il en était, et force est de constater que je ne suis pas le seul à avoir des problèmes de débit avec Virgin Mobile. Il faut savoir – j’ai appris plein de choses lors de ces recherches – que pour se connecter à Internet, votre Box dispose de plusieurs types de modulations. Chacune de ces options a ses avantages et ses inconvénients, il faut tout d’abord que votre ligne soit éligible pour pouvoir en utiliser certains – comme l’ADSL 2+ par exemple. En fonction du type de modulation utilisé, vous aurez également plus ou moins de débit.</p>\n\n<p>Sachez que par défaut, Virgin Mobile force votre Box a utiliser la modulation G.DMT et ceci même si votre ligne peut supporter des modulations bien plus avantageuses pour vous. D’après les multiples témoignages sur le forum de la communauté Virgin Mobile, des utilisateurs ont pu bénéficier de l’ADSL 2+ en se plaignant au service client de Virgin Mobile. Un utilisateur – mick2207 – rapporte même cette déclaration troublante d’un conseiller Virgin Mobile :</p>\n\n<blockquote>\n  <p><strong>La personne m’a indiqué que même si la ligne permettait plus, « la politique commerciale de Virgin était de proposer le strict<em>*</strong>minimum » pour éviter tout problème technique !</em>*</p>\n</blockquote>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1873\" style=\"width: 664px\"><a href=\"https://techan.fr/images/2015/09/virgin_service_minimum.png\"><img src=\"https://techan.fr/images/2015/09/virgin_service_minimum.png\" alt=\"Virgin Mobile prend ses clients pour des pigeons\" title=\"\" /></a><a href=\"http://communaute.virginmobile.fr/t5/La-Virgin-Box-au-quotidien/Comment-arriver-%C3%A0-passer-en-ADSL2/td-p/188434/page/3\">Lien vers le message sur la communauté Virgin Mobile</a></p>\n\n<p></div> </p>\n\n<p>Outré par cette politique scandaleuse, j’ai laissé un message “musclé” en réponse au précédent post.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/virgin_mon_message.png\"><img src=\"https://techan.fr/images/2015/09/virgin_mon_message.png\" alt=\"Virgin Mobile prend ses clients pour des pigeons\" title=\"\" /></a></p>\n\n<p>Croyez-moi ou pas, 30 minutes après ce message ma box se synchronisait en ADSL 2+ … Mais il ne faut pas trop rêver non plus, le débit est toujours le même … J’en ai donc parlé à plusieurs collègues – qui ont travaillé chez Orange et un autre opérateur ADSL – et chacune de ces personnes m’a rapporté des pratiques identiques. Lorsqu’un client souscrivait à une Box, le débit “max” était estimé en fonction de plusieurs critères – comme la distance avec le DSLAM par exemple – puis était bridé à cette valeur maximale et ce même si la ligne aurait pu supporter un débit plus important. Ils m’ont également raconté qu’ils pouvaient “augmenter” le débit de leurs amis d’un simple clic et qu’ils le faisaient par fois pour des clients qui râlaient trop sur leur débit.</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/passage_en_adsl2-.jpg\"><img src=\"https://techan.fr/images/2015/09/passage_en_adsl2-.jpg\" alt=\"passage<em>en</em>adsl2+\" title=\"\" /></a></p>\n\n<p>Chez Virgin Mobile, cela paraît encore pire, quelles que soient les caractéristiques de votre ligne, vous n’aurez que le minimum, à savoir le type de modulation qui ne permet pas de dépasser 8M/s – soit 1 Mo/s grand max … Pas mal de clients se plaignent donc au service client pour passer à un débit supérieur et l’obtiennent ! Mais il semble que cette modification ne soit pas gravée dans le marbre, en effet certains utilisateurs témoignent également d’une perte subite de débit, et constatent que leur Box a été bridée de nouveau… Pire encore, les utilisateurs <span style=\"text-decoration: underline;\">remercient</span> le service client de le fournir la <span style=\"text-decoration: underline;\">totalité</span> du service auquel ils ont souscrit …</p>\n\n<p>Bref, du coup j’ai rappelé Free, le technicien était surpris de la chute de débit mais a – très gentiment – lancé le recâblage de ma ligne chez Free. Je compte bien également faire jouer le « Satisfait ou Remboursé de Virgin Mobile.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1884\" style=\"width: 166px\"><a href=\"https://techan.fr/images/2015/09/virgin_satisfait_rembourse.png\"><img src=\"https://techan.fr/images/2015/09/virgin_satisfait_rembourse.png\" alt=\"Virgin Mobile prend ses clients pour des pigeons\" title=\"\" /></a><a href=\"http://www.virginmobile.fr/media/virgin/promotions/pdf/adsl-coupon-satisfaitourembourse.pdf\">Lien vers le formulaire</a></p>\n\n<p></div> </p>\n\n<p>Tout ceci n’est « Veryment » pas très sérieux …</p>","image":"http://blog.techan.fr/images/2015/09/virgin_mobile_pigeons.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-09-25T17:36:52.000Z","created_by":1,"updated_at":"2015-10-23T08:29:22.000Z","updated_by":1,"published_at":"2015-09-25T17:36:52.000Z","published_by":1},{"id":167,"uuid":"c4cefbf3-041a-49c7-ba26-19fbba104c38","title":"Mail-in-a-Box les astuces qui vous sauveront la vie","slug":"mail-in-a-box-les-astuces-qui-vous-sauveront-la-vie","markdown":"\n[Mail-in-a-Box](https://mailinabox.email/) est un ensemble de scripts qui permettent de transformer une Ubuntu 14.04 en un serveur de mail complet. Cet outil installe et configure Postfix et Dovecot pour l’envoi et la réception d’emails, mais aussi le webmail RoundCube, OwnCloud pour la gestion des contacts et des calendriers – mais également la partie stockage de fichiers. [Mail-in-a-Box](https://mailinabox.email/) propose également de servir de serveur DNS pour votre domaine. Notons également la présence de Z-Push dans cette installation qui fournit le support du « Push » pour la réception des emails.\n\n \n\nSon installation est très simple sur une machine classique, [ce processus](https://mailinabox.email/guide.html#checklist) est décrit sur le site de [Mail-in-a-Box](https://mailinabox.email/). Cependant, malgré la simplicité d’installation de cet excellent outil, il y a quelques petits bugs/manques qui risquent de très vite vous ennuyer … Je vais décrire ici comment solutionner une grande majorité d’entre eux !\n\n \n\n\n## Installation sur une machine ARM\n\nSi vous souhaitez installer [Mail-in-a-Box](https://mailinabox.email/) sur une machine basée sur une infrastructure ARM – comme une RaspBerry Pi ou un serveur chez [Scaleway](https://www.scaleway.com/) – il va vous falloir suivre quelques étapes préparatoires !\n\n \n\n#### Empêcher l’installation du FireWall\n\n \n\nChez [Scaleway](https://www.scaleway.com/), vous devrez empêcher [Mail-in-a-Box](https://mailinabox.email/) d’installer et surtout de configurer UFW car la configuration mise en place bloquerait les accès du serveur à ses disques. En effet les serveurs ARM de chez Scaleway sont connectés à leurs disques par le réseau via le protocole NBD. J’ai testé une installation sans désactiver UFW et j’ai du supprimer la machine. ;-)\n\nLa désactivation se fait simplement en assignant une valeur à la variable DISABLE_FIREWALL.\n\n    \n    export DISABLE_FIREWALL=PASDEFIREWALLSTP\n\n\n\n\n\n#### Préparation de l'installation\n\n\n\n\nUne fois que ceci est fait, on va récupérer les sources d'installation et ajouter un utilisateur \"nsd\". Cet utilisateur est normalement créé à l'installation du serveur DNS, mais un bug dans le paquet fourni par Ubuntu ne le fait pas et bloque ainsi l'installation de Mail-in-a-Box.\n\n\n\n    \n    apt-get install git\n    git clone https://github.com/mail-in-a-box/mailinabox\n    cd mailinabox\n    curl -s https://keybase.io/joshdata/key.asc | gpg --import\n    git verify-tag v0.13b\n    useradd nsd\n\n\n\n\nOn édite le script de Mail-in-a-Box qui configure Dovecot afin de ne pas installer le plugin pour Solr, le paquet n'existe pas sur ARM.\n\n    \n    vim setup/mail-dovecot.sh\n\n\n\n\nRechercher les lignes suivantes dans le fichier et commentez **dovecot-lucene**, comme suit.\n\n    \n    echo \"Installing Dovecot (IMAP server)...\"\n    apt_install \\\n            dovecot-core dovecot-imapd dovecot-pop3d dovecot-lmtpd dovecot-sqlite sqlite3 \\\n            dovecot-sieve dovecot-managesieved # dovecot-lucene\n\n\n\n\nRechercher les lignes suivantes dans le fichier et remplacez la ligne** mail_plugins**, comme suit.\n\n    \n    # Full Text Search - Enable full text search of mail using dovecot's lucene plugin,\n    # which *we* package and distribute (dovecot-lucene package).\n    tools/editconf.py /etc/dovecot/conf.d/10-mail.conf \\\n            mail_plugins=\"\\$mail_plugins fts\"\n            #mail_plugins=\"\\$mail_plugins fts fts_lucene\"\n    cat > /etc/dovecot/conf.d/90-plugin-fts.conf << EOF;\n\n\n\n\nOn peut maintenant lancer l'installation de Mail-in-a-Box via la commande suivante.\n\n    \n    sudo setup/start.sh\n\n\n\n\nL'installation se déroullera alors comme documenté [ici](https://mailinabox.email/guide.html#setup).\n\nhttps://www.youtube.com/watch?v=HQOj-Mm1fYs&start;=625&end;=753\n\n\n\n\n## Configuration d'IPTables chez Scaleway\n\n\n\n\nComme on l'a vu plus haut, chez Scaleway on doit désactiver l'installation d'UFW, ce qui laisse le système un peu vulnérable. Pour pallier à l'abscence d'UFW, j'ai pris le parti de configurer IPTables via un script.\n\n    \n    mkdir /root/bin\n    vi /root/bin/iptables.sh\n\n\n\n\nVoici le contenu du script **iptables.sh**b, libre à vous d'ajouter les lignes de votre choix. Les lignes cruciales sont celles surlignées, elles permettent de laisser paser le traffic réseau entre le serveur et ses disques.\n\n    \n    #!/bin/bash\n    \n    nbdip=$(curl -s 169.254.42.42/conf | grep VOLUMES_0_EXPORT_URI=nbd:// | sed \"s/VOLUMES_0_EXPORT_URI=nbd:\\/\\///\" | awk -F \":\" '{ print $1 }' | grep -E -o \"10\\.1\\.([0-2]?[0-9][0-9]?)\\.([0-2]?[0-9][0-9]?)\")\n    if [ $? -eq 1 ]; then\n            nbdip=\"10.1.18.0/23\"\n    fi\n    \n    iptables -P INPUT ACCEPT\n    iptables -F INPUT\n    iptables -F OUTPUT\n    iptables -F FORWARD\n    \n    iptables -P OUTPUT ACCEPT\n    iptables -P FORWARD ACCEPT\n    \n    iptables -A INPUT -i lo -j ACCEPT\n    iptables -A INPUT -i eth0 -s $nbdip -j ACCEPT\n    iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT\n    \n    #--- règles perso ici ----\n    iptables -A INPUT -p tcp --dport 22 -m state --state NEW,ESTABLISHED -j ACCEPT\n    iptables -A INPUT -p tcp --dport 25 -m state --state NEW,ESTABLISHED -j ACCEPT\n    iptables -A INPUT -p tcp --dport 53 -m state --state NEW,ESTABLISHED -j ACCEPT\n    iptables -A INPUT -p tcp --dport 80 -m state --state NEW,ESTABLISHED -j ACCEPT\n    iptables -A INPUT -p tcp --dport 443 -m state --state NEW,ESTABLISHED -j ACCEPT\n    \n    iptables -A INPUT -p tcp --dport 110 -m state --state NEW,ESTABLISHED -j ACCEPT\n    iptables -A INPUT -p tcp --dport 143 -m state --state NEW,ESTABLISHED -j ACCEPT\n    iptables -A INPUT -p tcp --dport 993 -m state --state NEW,ESTABLISHED -j ACCEPT\n    iptables -A INPUT -p tcp --dport 465 -m state --state NEW,ESTABLISHED -j ACCEPT\n    iptables -A INPUT -p tcp --dport 587 -m state --state NEW,ESTABLISHED -j ACCEPT\n    #-------------------------------\n    \n    iptables -P INPUT DROP\n    \n    exit 0\n    \n\n\n\n\n\n\n\n## Erreur lors du System Status Check\n\n\n\n\nIl se peut que vous rencontriez une erreur sur la page d'accueil de Mail-in-a-Box - System Status Check. Cette page peut être lingue a charger car l'outil fait des vérification sur la bonne santé des différents composants mais également sur la configuration des différents domaines DNS dont elle s'occupe.\n\nIl se peut donc que vous aillez une erreur de ce type :\n\n[![MailInABox les astuces qui vous sauveront la vie](https://techan.fr/images/2015/09/screenshot.876.jpg)](https://techan.fr/images/2015/09/screenshot.876.jpg)\n\nRien de grave, cette erreur apparaît lorsque les vérifications sont trop longues et que le serveur Web - NGinx - en a marre d'attendre ... Il suffit d’allonger ce temps d'attente pour ne plus avoir cette erreur.\n\n\n\nPour cela, éditez le fichier de configuration de NGinx.\n\n    \n    vi /etc/nginx/conf.d/local.conf\n\n\n\n\nRepérez le bloc suivant :\n\n    \n            # Control Panel\n            # Proxy /admin to our Python based control panel daemon. It is\n            # listening on IPv4 only so use an IP address and not 'localhost'.\n            rewrite ^/admin$ /admin/;\n            rewrite ^/admin/munin$ /admin/munin/ redirect;\n            location /admin/ {\n                    proxy_pass http://127.0.0.1:10222/;\n                    proxy_set_header X-Forwarded-For $remote_addr;\n            }\n    \n\n\n\n\nEt modifiez le comme suit :\n\n    \n            # Control Panel\n            # Proxy /admin to our Python based control panel daemon. It is\n            # listening on IPv4 only so use an IP address and not 'localhost'.\n            rewrite ^/admin$ /admin/;\n            rewrite ^/admin/munin$ /admin/munin/ redirect;\n            location /admin/ {\n                    proxy_connect_timeout   90;\n                    proxy_send_timeout      90;\n                    proxy_read_timeout      90;\n                    proxy_pass http://127.0.0.1:10222/;\n                    proxy_set_header X-Forwarded-For $remote_addr;\n            }\n    \n\n\n\n\nIl ne vous reste plus maintenant qu'a redémarrer NGinx !\n\n    \n    # service nginx restart\n     * Restarting nginx nginx\n\n\n\n\n\n\n\n## Ajouter du swap\n\n\n\n\nCette étape n'est pas nécessaire si Mail-in-a-box est hébergé sur une machine \"classique\", en revanche sur une petite machine, cela peut lui donner un petit plus de pèche. C'est mon cas chez Scaleway, mon hôte n'a que 2 Go de RAM, j'ai donc ajouté 1 Go de swap !\n\n\n\nOn commence par générer un fichier d'un 1 Go, j'ai décidé de le placer directement dans / et de le nommer **swap**.\n\n    \n    root@boxr:~# dd if=/dev/zero of=/swap count=2097152\n    2097152+0 records in\n    2097152+0 records out\n    1073741824 bytes (1.1 GB) copied, 27.25 s, 39.4 MB/s\n    root@boxr:~# mkswap /swap\n    Setting up swapspace version 1, size = 1048572 KiB\n    no label, UUID=9a41b8c0-b106-4f4b-b864-d03140e80c73\n    root@boxr:~# chmod 600 /swap\n\n\n\n\nOn modifie ensuite le fichier **/etc/fstab**.\n\n    \n    root@box:~# vi /etc/fstab\n    \n\n\n\n\nPour y ajouter la ligne renseignant notre fichier de swap.\n\n    \n    /swap none    swap    defaults,_netdev,nobootwait     0 0\n\n\n\n\nOn peut maintenant activer ce swap.\n\n    \n    root@box:~# swapon -a\n\n\n\n\n[caption id=\"attachment_1819\" align=\"aligncenter\" width=\"500\"][![Mail-in-a-Box les astuces qui vous sauveront la vie](https://techan.fr/images/2015/09/screenshot.874.jpg)](https://techan.fr/images/2015/09/screenshot.874.jpg) Le swap est désormais actif ![/caption]\n\nNous allons créer un fichier dans le dossier **/etc/init.d** ceci afin d'activer automatiquement le swap au démarrage de la machine.\n\n    \n    vi /etc/init.d/swap\n\n\n\n\nVoici le contenu de ce script.\n\n    \n    #!/bin/bash\n    ### BEGIN INIT INFO\n    # Provides: mountswap\n    # Required-Start: $network $local_fs\n    # Required-Stop: $local_fs\n    # Default-Start: 2 3 4 5\n    # Default-Stop: 0 1 6\n    # X-Start-After: nbd-client\n    # Short-Description: Workaround to mount an NBD device as swap OS device. IMPORTANT: add '_netdev' mount option to the swap device in /etc/fstab\n    ### END INIT INFO\n    \n    . /lib/lsb/init-functions\n    \n    case \"${1:-''}\" in\n      'start')\n            log_daemon_msg \"Activating swap devices\"\n            /sbin/swapon -a\n            [ $? -eq 0 ] && log_end_msg 0 || log_end_msg 1\n      ;;\n    esac\n\n\n\n\nOn le rend exécutable et le tour est joué !\n\n    \n    chmod +x /etc/init.d/swap\n\n\n\n\n\n\n\n## Z-Push\n\n\n\n\nIl existe un problème de synchronisation lors de l'utilisation de plusieurs comptes sur le même terminal. Par exemple dans le cas ou vous créé deux compte email sur votre Mail-in-a-Box et que vous tentez de les ajouter tous les deux sur votre iPhone. Le premier s'ajoutera sans aucun problème mais vous ne pourrez pas consulter les mails du second lorsque vous l'aurez ajouté ...\n\n\n\nC'est pénible, mais il s'agit d'un bug dans Z-Push ... Heureusement il y a un moyen de résoudre ce problème, our cela, éditez le fichier suivant.\n\n    \n    vi /usr/local/lib/z-push/config.php\n\n\n\n\nEt ajouter les lignes suivantes à la fin du fichier, juste avant la ligne **?>**.\n\n    \n    if (isset($_GET['DeviceId']) && isset($_GET['User']) && $_GET['DeviceId'] != \"\")\n        $_GET['DeviceId'] = sha1($_GET['DeviceId'].\":\".$_GET['User']);\n\n\n\n\nEt voilà !\n\n\n\n\n#### Administration de Z-Push\n\n\n\n\nL'administration de Z-Push peut se faire en ligne de commande, cela permet par exemple de réinitialiser la synchronisation d'un device et cela peut être très utile !\n\n\n\nCependant, pour pouvoir l'utiliser, il faut bidouiller un tout petit peu, commencez par éditer le fichier suivant.\n\n    \n    vi /etc/php5/cli/php.ini\n\n\n\n\nRecherchez le bloc **Paths and Directories** et modifiez la ligne **include_path** comme suit.\n\n    \n    ;;;;;;;;;;;;;;;;;;;;;;;;\n    ; Paths and Directories ;\n    ;;;;;;;;;;;;;;;;;;;;;;;;;\n    \n    ; UNIX: \"/path1:/path2\"\n    ;include_path = \".:/usr/share/php\"\n    include_path = \".:/usr/share/php:/usr/share/pear:/usr/local/lib/z-push/:/usr/share/awl/inc/\"\n    \n\n\n\n\nLa commande **z-push-admin** fonctionnera alors en ligne de commande et vous permettra d'administrer Z-Push.\n\n    \n    root@box-aldanet-fr:/usr/local/lib/z-push# z-push-admin\n    Usage:\n            z-push-admin.php -a ACTION [options]\n    \n    Parameters:\n            -a list/wipe/remove/resync/clearloop\n            [-u] username\n            [-d] deviceid\n    \n    Actions:\n            list                             Lists all devices and synchronized users\n            list -u USER                     Lists all devices of user USER\n            list -d DEVICE                   Lists all users of device DEVICE\n            lastsync                         Lists all devices and synchronized users and the last synchronization time\n            wipe -u USER                     Remote wipes all devices of user USER\n            wipe -d DEVICE                   Remote wipes device DEVICE\n            wipe -u USER -d DEVICE           Remote wipes device DEVICE of user USER\n            remove -u USER                   Removes all state data of all devices of user USER\n            remove -d DEVICE                 Removes all state data of all users synchronized on device DEVICE\n            remove -u USER -d DEVICE         Removes all related state data of device DEVICE of user USER\n            resync -u USER -d DEVICE         Resynchronizes all data of device DEVICE of user USER\n            resync -t TYPE                   Resynchronizes all folders of type 'email', 'calendar', 'contact', 'task' or 'note' for all devices and users.\n            resync -t TYPE -u USER           Resynchronizes all folders of type 'email', 'calendar', 'contact', 'task' or 'note' for the user USER.\n            resync -t TYPE -u USER -d DEVICE Resynchronizes all folders of type 'email', 'calendar', 'contact', 'task' or 'note' for a specified device and user.\n            resync -t FOLDERID -u USER       Resynchronize the specified folder id only. The USER should be specified.\n            clearloop                        Clears system wide loop detection data\n            clearloop -d DEVICE -u USER      Clears all loop detection data of a device DEVICE and an optional user USER\n            fixstates                        Checks the states for integrity and fixes potential issues\n    \n\n\n\n\n\n## Compiler le paquet dovecot-lucene\n\n\nLe paquet dovect-lucene n'est pas compilé pour armhf par la personne qui maintient Mail-in-a-Box, pour bénéficier de l'indexation full text des mail via ce plugin, il va falloir créer le paquet. Voici la marche à suivre.\n\n\n\nTout d'abord, il faut ajouter le dépot PPA, on va récupérer les sources d'ici.\n\n    \n    apt-add-repository ppa:mail-in-a-box/ppa\n\n\nIl faut éditer le fichier de ce dépôt pour activer les sources.\n\n    \n    vi /etc/apt/sources.list.d/mail-in-a-box-ppa-trusty.list\n\n\nOn dé-commente la ligne :\n\n    \n    deb-src http://ppa.launchpad.net/mail-in-a-box/ppa/ubuntu trusty main\n\n\nOn rafraichit apt-get ... Et on installe les outils et dépendances nécessaires.\n\n    \n    apt-get update\n    apt-get install debhelper cdbs lintian build-essential fakeroot devscripts pbuilder dh-make debootstrap\n    apt-get install libclucene-dev libpam0g-dev libpq-dev libmysqlclient-dev libsqlite3-dev libsasl2-dev drac-dev libbz2-dev libdb-dev libcurl4-gnutls-dev libwrap0-dev dh-systemd  libclucene-dev liblzma-dev libexttextcat-dev libstemmer-dev hardening-wrapper dh-autoreconf\n\n\nOn télécharge les sources.\n\n    \n    cd /tmp\n    apt-get source dovecot-lucene\n    cd dovecot-2.2.9/\n\n\nEt on construit le paquet ! Cette étape est un peu longue, comptez 30 bonnes minutes !\n\n    \n    debuild -us -uc -b\n\n\nIl ne reste plus qu'a installer le paquet et à configurer Dovecot !\n\n    \n    cd /tmp\n    dpkg -i dovecot-lucene_2.2.9-1ubuntu2.1+miab1_armhf.deb\n\n\n\n\n    \n    vi /etc/dovecot/conf.d/10-mail.conf\n\n\nChercher le bloc suivant :\n\n    \n    # Space separated list of plugins to load for all services. Plugins specific to\n    # IMAP, LDA, etc. are added to this list in their own .conf files.\n    #mail_plugins =\n\n\n\n\nEt modifiez le comme suit :\n\n    \n    # Space separated list of plugins to load for all services. Plugins specific to\n    # IMAP, LDA, etc. are added to this list in their own .conf files.\n    #mail_plugins =\n    mail_plugins=$mail_plugins fts fts_lucene\n\n\nAssurez vous que le fichier : **/etc/dovecot/conf.d/90-plugin-fts.conf**\n\nContient bien les lignes :\n\n    \n    plugin {\n      fts = lucene\n      fts_lucene = whitespace_chars=@.\n    }\n    \n\n\nIl n'y a plus qu'a redémarrer Dovect !\n\n    \n    service dovecot restart\n\n\n\n\n\n\n\n\n\n## Sources\n\n\n\t\n  * [GitHub - Correction Z-Push (Anglais)](https://github.com/fmbiete/Z-Push-contrib/issues/97)\n\n\t\n  * [discourse.mailinabox.email (dovecot-luncene sur armhf) - Anglais](https://discourse.mailinabox.email/t/armhf-builds-of-dovecot-lucene-and-postgrey/837/5)","html":"<p><a href=\"https://mailinabox.email/\">Mail-in-a-Box</a> est un ensemble de scripts qui permettent de transformer une Ubuntu 14.04 en un serveur de mail complet. Cet outil installe et configure Postfix et Dovecot pour l’envoi et la réception d’emails, mais aussi le webmail RoundCube, OwnCloud pour la gestion des contacts et des calendriers – mais également la partie stockage de fichiers. <a href=\"https://mailinabox.email/\">Mail-in-a-Box</a> propose également de servir de serveur DNS pour votre domaine. Notons également la présence de Z-Push dans cette installation qui fournit le support du « Push » pour la réception des emails.</p>\n\n<p>Son installation est très simple sur une machine classique, <a href=\"https://mailinabox.email/guide.html#checklist\">ce processus</a> est décrit sur le site de <a href=\"https://mailinabox.email/\">Mail-in-a-Box</a>. Cependant, malgré la simplicité d’installation de cet excellent outil, il y a quelques petits bugs/manques qui risquent de très vite vous ennuyer … Je vais décrire ici comment solutionner une grande majorité d’entre eux !</p>\n\n<h2 id=\"installationsurunemachinearm\">Installation sur une machine ARM</h2>\n\n<p>Si vous souhaitez installer <a href=\"https://mailinabox.email/\">Mail-in-a-Box</a> sur une machine basée sur une infrastructure ARM – comme une RaspBerry Pi ou un serveur chez <a href=\"https://www.scaleway.com/\">Scaleway</a> – il va vous falloir suivre quelques étapes préparatoires !</p>\n\n<h4 id=\"empcherlinstallationdufirewall\">Empêcher l’installation du FireWall</h4>\n\n<p>Chez <a href=\"https://www.scaleway.com/\">Scaleway</a>, vous devrez empêcher <a href=\"https://mailinabox.email/\">Mail-in-a-Box</a> d’installer et surtout de configurer UFW car la configuration mise en place bloquerait les accès du serveur à ses disques. En effet les serveurs ARM de chez Scaleway sont connectés à leurs disques par le réseau via le protocole NBD. J’ai testé une installation sans désactiver UFW et j’ai du supprimer la machine. ;-)</p>\n\n<p>La désactivation se fait simplement en assignant une valeur à la variable DISABLE_FIREWALL.</p>\n\n<pre><code>export DISABLE_FIREWALL=PASDEFIREWALLSTP\n</code></pre>\n\n<h4 id=\"prparationdelinstallation\">Préparation de l'installation</h4>\n\n<p>Une fois que ceci est fait, on va récupérer les sources d'installation et ajouter un utilisateur \"nsd\". Cet utilisateur est normalement créé à l'installation du serveur DNS, mais un bug dans le paquet fourni par Ubuntu ne le fait pas et bloque ainsi l'installation de Mail-in-a-Box.</p>\n\n<pre><code>apt-get install git\ngit clone https://github.com/mail-in-a-box/mailinabox\ncd mailinabox\ncurl -s https://keybase.io/joshdata/key.asc | gpg --import\ngit verify-tag v0.13b\nuseradd nsd\n</code></pre>\n\n<p>On édite le script de Mail-in-a-Box qui configure Dovecot afin de ne pas installer le plugin pour Solr, le paquet n'existe pas sur ARM.</p>\n\n<pre><code>vim setup/mail-dovecot.sh\n</code></pre>\n\n<p>Rechercher les lignes suivantes dans le fichier et commentez <strong>dovecot-lucene</strong>, comme suit.</p>\n\n<pre><code>echo \"Installing Dovecot (IMAP server)...\"\napt_install \\\n        dovecot-core dovecot-imapd dovecot-pop3d dovecot-lmtpd dovecot-sqlite sqlite3 \\\n        dovecot-sieve dovecot-managesieved # dovecot-lucene\n</code></pre>\n\n<p>Rechercher les lignes suivantes dans le fichier et remplacez la ligne<em>* mail_plugins</em>*, comme suit.</p>\n\n<pre><code># Full Text Search - Enable full text search of mail using dovecot's lucene plugin,\n# which *we* package and distribute (dovecot-lucene package).\ntools/editconf.py /etc/dovecot/conf.d/10-mail.conf \\\n        mail_plugins=\"\\$mail_plugins fts\"\n        #mail_plugins=\"\\$mail_plugins fts fts_lucene\"\ncat &gt; /etc/dovecot/conf.d/90-plugin-fts.conf &lt;&lt; EOF;\n</code></pre>\n\n<p>On peut maintenant lancer l'installation de Mail-in-a-Box via la commande suivante.</p>\n\n<pre><code>sudo setup/start.sh\n</code></pre>\n\n<p>L'installation se déroullera alors comme documenté <a href=\"https://mailinabox.email/guide.html#setup\">ici</a>.</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=HQOj-Mm1fYs&start;=625&end;=753\">https://www.youtube.com/watch?v=HQOj-Mm1fYs&start;=625&end;=753</a></p>\n\n<h2 id=\"configurationdiptableschezscaleway\">Configuration d'IPTables chez Scaleway</h2>\n\n<p>Comme on l'a vu plus haut, chez Scaleway on doit désactiver l'installation d'UFW, ce qui laisse le système un peu vulnérable. Pour pallier à l'abscence d'UFW, j'ai pris le parti de configurer IPTables via un script.</p>\n\n<pre><code>mkdir /root/bin\nvi /root/bin/iptables.sh\n</code></pre>\n\n<p>Voici le contenu du script <strong>iptables.sh</strong>b, libre à vous d'ajouter les lignes de votre choix. Les lignes cruciales sont celles surlignées, elles permettent de laisser paser le traffic réseau entre le serveur et ses disques.</p>\n\n<pre><code>#!/bin/bash\n\nnbdip=$(curl -s 169.254.42.42/conf | grep VOLUMES_0_EXPORT_URI=nbd:// | sed \"s/VOLUMES_0_EXPORT_URI=nbd:\\/\\///\" | awk -F \":\" '{ print $1 }' | grep -E -o \"10\\.1\\.([0-2]?[0-9][0-9]?)\\.([0-2]?[0-9][0-9]?)\")\nif [ $? -eq 1 ]; then\n        nbdip=\"10.1.18.0/23\"\nfi\n\niptables -P INPUT ACCEPT\niptables -F INPUT\niptables -F OUTPUT\niptables -F FORWARD\n\niptables -P OUTPUT ACCEPT\niptables -P FORWARD ACCEPT\n\niptables -A INPUT -i lo -j ACCEPT\niptables -A INPUT -i eth0 -s $nbdip -j ACCEPT\niptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT\n\n#--- règles perso ici ----\niptables -A INPUT -p tcp --dport 22 -m state --state NEW,ESTABLISHED -j ACCEPT\niptables -A INPUT -p tcp --dport 25 -m state --state NEW,ESTABLISHED -j ACCEPT\niptables -A INPUT -p tcp --dport 53 -m state --state NEW,ESTABLISHED -j ACCEPT\niptables -A INPUT -p tcp --dport 80 -m state --state NEW,ESTABLISHED -j ACCEPT\niptables -A INPUT -p tcp --dport 443 -m state --state NEW,ESTABLISHED -j ACCEPT\n\niptables -A INPUT -p tcp --dport 110 -m state --state NEW,ESTABLISHED -j ACCEPT\niptables -A INPUT -p tcp --dport 143 -m state --state NEW,ESTABLISHED -j ACCEPT\niptables -A INPUT -p tcp --dport 993 -m state --state NEW,ESTABLISHED -j ACCEPT\niptables -A INPUT -p tcp --dport 465 -m state --state NEW,ESTABLISHED -j ACCEPT\niptables -A INPUT -p tcp --dport 587 -m state --state NEW,ESTABLISHED -j ACCEPT\n#-------------------------------\n\niptables -P INPUT DROP\n\nexit 0\n</code></pre>\n\n<h2 id=\"erreurlorsdusystemstatuscheck\">Erreur lors du System Status Check</h2>\n\n<p>Il se peut que vous rencontriez une erreur sur la page d'accueil de Mail-in-a-Box - System Status Check. Cette page peut être lingue a charger car l'outil fait des vérification sur la bonne santé des différents composants mais également sur la configuration des différents domaines DNS dont elle s'occupe.</p>\n\n<p>Il se peut donc que vous aillez une erreur de ce type :</p>\n\n<p><a href=\"https://techan.fr/images/2015/09/screenshot.876.jpg\"><img src=\"https://techan.fr/images/2015/09/screenshot.876.jpg\" alt=\"MailInABox les astuces qui vous sauveront la vie\" title=\"\" /></a></p>\n\n<p>Rien de grave, cette erreur apparaît lorsque les vérifications sont trop longues et que le serveur Web - NGinx - en a marre d'attendre ... Il suffit d’allonger ce temps d'attente pour ne plus avoir cette erreur.</p>\n\n<p>Pour cela, éditez le fichier de configuration de NGinx.</p>\n\n<pre><code>vi /etc/nginx/conf.d/local.conf\n</code></pre>\n\n<p>Repérez le bloc suivant :</p>\n\n<pre><code>        # Control Panel\n        # Proxy /admin to our Python based control panel daemon. It is\n        # listening on IPv4 only so use an IP address and not 'localhost'.\n        rewrite ^/admin$ /admin/;\n        rewrite ^/admin/munin$ /admin/munin/ redirect;\n        location /admin/ {\n                proxy_pass http://127.0.0.1:10222/;\n                proxy_set_header X-Forwarded-For $remote_addr;\n        }\n</code></pre>\n\n<p>Et modifiez le comme suit :</p>\n\n<pre><code>        # Control Panel\n        # Proxy /admin to our Python based control panel daemon. It is\n        # listening on IPv4 only so use an IP address and not 'localhost'.\n        rewrite ^/admin$ /admin/;\n        rewrite ^/admin/munin$ /admin/munin/ redirect;\n        location /admin/ {\n                proxy_connect_timeout   90;\n                proxy_send_timeout      90;\n                proxy_read_timeout      90;\n                proxy_pass http://127.0.0.1:10222/;\n                proxy_set_header X-Forwarded-For $remote_addr;\n        }\n</code></pre>\n\n<p>Il ne vous reste plus maintenant qu'a redémarrer NGinx !</p>\n\n<pre><code># service nginx restart\n * Restarting nginx nginx\n</code></pre>\n\n<h2 id=\"ajouterduswap\">Ajouter du swap</h2>\n\n<p>Cette étape n'est pas nécessaire si Mail-in-a-box est hébergé sur une machine \"classique\", en revanche sur une petite machine, cela peut lui donner un petit plus de pèche. C'est mon cas chez Scaleway, mon hôte n'a que 2 Go de RAM, j'ai donc ajouté 1 Go de swap !</p>\n\n<p>On commence par générer un fichier d'un 1 Go, j'ai décidé de le placer directement dans / et de le nommer <strong>swap</strong>.</p>\n\n<pre><code>root@boxr:~# dd if=/dev/zero of=/swap count=2097152\n2097152+0 records in\n2097152+0 records out\n1073741824 bytes (1.1 GB) copied, 27.25 s, 39.4 MB/s\nroot@boxr:~# mkswap /swap\nSetting up swapspace version 1, size = 1048572 KiB\nno label, UUID=9a41b8c0-b106-4f4b-b864-d03140e80c73\nroot@boxr:~# chmod 600 /swap\n</code></pre>\n\n<p>On modifie ensuite le fichier <strong>/etc/fstab</strong>.</p>\n\n<pre><code>root@box:~# vi /etc/fstab\n</code></pre>\n\n<p>Pour y ajouter la ligne renseignant notre fichier de swap.</p>\n\n<pre><code>/swap none    swap    defaults,_netdev,nobootwait     0 0\n</code></pre>\n\n<p>On peut maintenant activer ce swap.</p>\n\n<pre><code>root@box:~# swapon -a\n</code></pre>\n\n<p>[caption id=\"attachment_1819\" align=\"aligncenter\" width=\"500\"]<a href=\"https://techan.fr/images/2015/09/screenshot.874.jpg\"><img src=\"https://techan.fr/images/2015/09/screenshot.874.jpg\" alt=\"Mail-in-a-Box les astuces qui vous sauveront la vie\" title=\"\" /></a> Le swap est désormais actif ![/caption]</p>\n\n<p>Nous allons créer un fichier dans le dossier <strong>/etc/init.d</strong> ceci afin d'activer automatiquement le swap au démarrage de la machine.</p>\n\n<pre><code>vi /etc/init.d/swap\n</code></pre>\n\n<p>Voici le contenu de ce script.</p>\n\n<pre><code>#!/bin/bash\n### BEGIN INIT INFO\n# Provides: mountswap\n# Required-Start: $network $local_fs\n# Required-Stop: $local_fs\n# Default-Start: 2 3 4 5\n# Default-Stop: 0 1 6\n# X-Start-After: nbd-client\n# Short-Description: Workaround to mount an NBD device as swap OS device. IMPORTANT: add '_netdev' mount option to the swap device in /etc/fstab\n### END INIT INFO\n\n. /lib/lsb/init-functions\n\ncase \"${1:-''}\" in\n  'start')\n        log_daemon_msg \"Activating swap devices\"\n        /sbin/swapon -a\n        [ $? -eq 0 ] &amp;&amp; log_end_msg 0 || log_end_msg 1\n  ;;\nesac\n</code></pre>\n\n<p>On le rend exécutable et le tour est joué !</p>\n\n<pre><code>chmod +x /etc/init.d/swap\n</code></pre>\n\n<h2 id=\"zpush\">Z-Push</h2>\n\n<p>Il existe un problème de synchronisation lors de l'utilisation de plusieurs comptes sur le même terminal. Par exemple dans le cas ou vous créé deux compte email sur votre Mail-in-a-Box et que vous tentez de les ajouter tous les deux sur votre iPhone. Le premier s'ajoutera sans aucun problème mais vous ne pourrez pas consulter les mails du second lorsque vous l'aurez ajouté ...</p>\n\n<p>C'est pénible, mais il s'agit d'un bug dans Z-Push ... Heureusement il y a un moyen de résoudre ce problème, our cela, éditez le fichier suivant.</p>\n\n<pre><code>vi /usr/local/lib/z-push/config.php\n</code></pre>\n\n<p>Et ajouter les lignes suivantes à la fin du fichier, juste avant la ligne <strong>?></strong>.</p>\n\n<pre><code>if (isset($_GET['DeviceId']) &amp;&amp; isset($_GET['User']) &amp;&amp; $_GET['DeviceId'] != \"\")\n    $_GET['DeviceId'] = sha1($_GET['DeviceId'].\":\".$_GET['User']);\n</code></pre>\n\n<p>Et voilà !</p>\n\n<h4 id=\"administrationdezpush\">Administration de Z-Push</h4>\n\n<p>L'administration de Z-Push peut se faire en ligne de commande, cela permet par exemple de réinitialiser la synchronisation d'un device et cela peut être très utile !</p>\n\n<p>Cependant, pour pouvoir l'utiliser, il faut bidouiller un tout petit peu, commencez par éditer le fichier suivant.</p>\n\n<pre><code>vi /etc/php5/cli/php.ini\n</code></pre>\n\n<p>Recherchez le bloc <strong>Paths and Directories</strong> et modifiez la ligne <strong>include_path</strong> comme suit.</p>\n\n<pre><code>;;;;;;;;;;;;;;;;;;;;;;;;\n; Paths and Directories ;\n;;;;;;;;;;;;;;;;;;;;;;;;;\n\n; UNIX: \"/path1:/path2\"\n;include_path = \".:/usr/share/php\"\ninclude_path = \".:/usr/share/php:/usr/share/pear:/usr/local/lib/z-push/:/usr/share/awl/inc/\"\n</code></pre>\n\n<p>La commande <strong>z-push-admin</strong> fonctionnera alors en ligne de commande et vous permettra d'administrer Z-Push.</p>\n\n<pre><code>root@box-aldanet-fr:/usr/local/lib/z-push# z-push-admin\nUsage:\n        z-push-admin.php -a ACTION [options]\n\nParameters:\n        -a list/wipe/remove/resync/clearloop\n        [-u] username\n        [-d] deviceid\n\nActions:\n        list                             Lists all devices and synchronized users\n        list -u USER                     Lists all devices of user USER\n        list -d DEVICE                   Lists all users of device DEVICE\n        lastsync                         Lists all devices and synchronized users and the last synchronization time\n        wipe -u USER                     Remote wipes all devices of user USER\n        wipe -d DEVICE                   Remote wipes device DEVICE\n        wipe -u USER -d DEVICE           Remote wipes device DEVICE of user USER\n        remove -u USER                   Removes all state data of all devices of user USER\n        remove -d DEVICE                 Removes all state data of all users synchronized on device DEVICE\n        remove -u USER -d DEVICE         Removes all related state data of device DEVICE of user USER\n        resync -u USER -d DEVICE         Resynchronizes all data of device DEVICE of user USER\n        resync -t TYPE                   Resynchronizes all folders of type 'email', 'calendar', 'contact', 'task' or 'note' for all devices and users.\n        resync -t TYPE -u USER           Resynchronizes all folders of type 'email', 'calendar', 'contact', 'task' or 'note' for the user USER.\n        resync -t TYPE -u USER -d DEVICE Resynchronizes all folders of type 'email', 'calendar', 'contact', 'task' or 'note' for a specified device and user.\n        resync -t FOLDERID -u USER       Resynchronize the specified folder id only. The USER should be specified.\n        clearloop                        Clears system wide loop detection data\n        clearloop -d DEVICE -u USER      Clears all loop detection data of a device DEVICE and an optional user USER\n        fixstates                        Checks the states for integrity and fixes potential issues\n</code></pre>\n\n<h2 id=\"compilerlepaquetdovecotlucene\">Compiler le paquet dovecot-lucene</h2>\n\n<p>Le paquet dovect-lucene n'est pas compilé pour armhf par la personne qui maintient Mail-in-a-Box, pour bénéficier de l'indexation full text des mail via ce plugin, il va falloir créer le paquet. Voici la marche à suivre.</p>\n\n<p>Tout d'abord, il faut ajouter le dépot PPA, on va récupérer les sources d'ici.</p>\n\n<pre><code>apt-add-repository ppa:mail-in-a-box/ppa\n</code></pre>\n\n<p>Il faut éditer le fichier de ce dépôt pour activer les sources.</p>\n\n<pre><code>vi /etc/apt/sources.list.d/mail-in-a-box-ppa-trusty.list\n</code></pre>\n\n<p>On dé-commente la ligne :</p>\n\n<pre><code>deb-src http://ppa.launchpad.net/mail-in-a-box/ppa/ubuntu trusty main\n</code></pre>\n\n<p>On rafraichit apt-get ... Et on installe les outils et dépendances nécessaires.</p>\n\n<pre><code>apt-get update\napt-get install debhelper cdbs lintian build-essential fakeroot devscripts pbuilder dh-make debootstrap\napt-get install libclucene-dev libpam0g-dev libpq-dev libmysqlclient-dev libsqlite3-dev libsasl2-dev drac-dev libbz2-dev libdb-dev libcurl4-gnutls-dev libwrap0-dev dh-systemd  libclucene-dev liblzma-dev libexttextcat-dev libstemmer-dev hardening-wrapper dh-autoreconf\n</code></pre>\n\n<p>On télécharge les sources.</p>\n\n<pre><code>cd /tmp\napt-get source dovecot-lucene\ncd dovecot-2.2.9/\n</code></pre>\n\n<p>Et on construit le paquet ! Cette étape est un peu longue, comptez 30 bonnes minutes !</p>\n\n<pre><code>debuild -us -uc -b\n</code></pre>\n\n<p>Il ne reste plus qu'a installer le paquet et à configurer Dovecot !</p>\n\n<pre><code>cd /tmp\ndpkg -i dovecot-lucene_2.2.9-1ubuntu2.1+miab1_armhf.deb\n\n\n\n\n\nvi /etc/dovecot/conf.d/10-mail.conf\n</code></pre>\n\n<p>Chercher le bloc suivant :</p>\n\n<pre><code># Space separated list of plugins to load for all services. Plugins specific to\n# IMAP, LDA, etc. are added to this list in their own .conf files.\n#mail_plugins =\n</code></pre>\n\n<p>Et modifiez le comme suit :</p>\n\n<pre><code># Space separated list of plugins to load for all services. Plugins specific to\n# IMAP, LDA, etc. are added to this list in their own .conf files.\n#mail_plugins =\nmail_plugins=$mail_plugins fts fts_lucene\n</code></pre>\n\n<p>Assurez vous que le fichier : <strong>/etc/dovecot/conf.d/90-plugin-fts.conf</strong></p>\n\n<p>Contient bien les lignes :</p>\n\n<pre><code>plugin {\n  fts = lucene\n  fts_lucene = whitespace_chars=@.\n}\n</code></pre>\n\n<p>Il n'y a plus qu'a redémarrer Dovect !</p>\n\n<pre><code>service dovecot restart\n</code></pre>\n\n<h2 id=\"sources\">Sources</h2>\n\n<ul>\n<li><p><a href=\"https://github.com/fmbiete/Z-Push-contrib/issues/97\">GitHub - Correction Z-Push (Anglais)</a></p></li>\n<li><p><a href=\"https://discourse.mailinabox.email/t/armhf-builds-of-dovecot-lucene-and-postgrey/837/5\">discourse.mailinabox.email (dovecot-luncene sur armhf) - Anglais</a></p></li>\n</ul>","image":"http://blog.techan.fr/images/2015/09/Mailinabox.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-09-29T11:32:59.000Z","created_by":1,"updated_at":"2016-05-18T11:42:02.000Z","updated_by":1,"published_at":"2015-09-29T11:32:59.000Z","published_by":1},{"id":168,"uuid":"20c5d214-002c-4381-9e80-4bc560c6507c","title":"Protéger le XML-PRC de WordPress","slug":"temp-slug-166","markdown":"\n \n\nroot@host:~# dig jetpack.wordpress.com ; <<>> DiG 9.9.5-9ubuntu0.3-Ubuntu <<>> jetpack.wordpress.com ;; global options: +cmd ;; Got answer: ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 45150 ;; flags: qr rd ra; QUERY: 1, ANSWER: 2, AUTHORITY: 0, ADDITIONAL: 1 ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 4096 ;; QUESTION SECTION: ;jetpack.wordpress.com. IN A ;; ANSWER SECTION: jetpack.wordpress.com. 1202 IN A 192.0.78.27 jetpack.wordpress.com. 1202 IN A 192.0.78.26 ;; Query time: 22 msec ;; SERVER: 62.210.16.6#53(62.210.16.6) ;; WHEN: Tue Oct 13 09:33:40 CEST 2015 ;; MSG SIZE rcvd: 82\n\n \n\nroot@host:~# dig wordpress.com ; <<>> DiG 9.9.5-9ubuntu0.3-Ubuntu <<>> wordpress.com ;; global options: +cmd ;; Got answer: ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 26274 ;; flags: qr rd ra; QUERY: 1, ANSWER: 2, AUTHORITY: 0, ADDITIONAL: 1 ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 4096 ;; QUESTION SECTION: ;wordpress.com. IN A ;; ANSWER SECTION: wordpress.com. 3007 IN A 192.0.78.17 wordpress.com. 3007 IN A 192.0.78.9 ;; Query time: 1 msec ;; SERVER: 62.210.16.6#53(62.210.16.6) ;; WHEN: Tue Oct 13 09:34:07 CEST 2015 ;; MSG SIZE rcvd: 74\n\n \n\n <FilesMatch \"xmlrpc\\.php$\"> order deny,allow deny from all allow from 192.0.78.27 allow from 192.0.78.26 allow from 192.0.78.17 allow from 192.0.78.9 </FilesMatch>\n\n \n\n \n\n \n\n \n\n\n","html":"<p>root@host:~# dig jetpack.wordpress.com ; &lt;&lt;>> DiG 9.9.5-9ubuntu0.3-Ubuntu &lt;&lt;>> jetpack.wordpress.com ;; global options: +cmd ;; Got answer: ;; ->>HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 45150 ;; flags: qr rd ra; QUERY: 1, ANSWER: 2, AUTHORITY: 0, ADDITIONAL: 1 ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 4096 ;; QUESTION SECTION: ;jetpack.wordpress.com. IN A ;; ANSWER SECTION: jetpack.wordpress.com. 1202 IN A 192.0.78.27 jetpack.wordpress.com. 1202 IN A 192.0.78.26 ;; Query time: 22 msec ;; SERVER: 62.210.16.6#53(62.210.16.6) ;; WHEN: Tue Oct 13 09:33:40 CEST 2015 ;; MSG SIZE rcvd: 82</p>\n\n<p>root@host:~# dig wordpress.com ; &lt;&lt;>> DiG 9.9.5-9ubuntu0.3-Ubuntu &lt;&lt;>> wordpress.com ;; global options: +cmd ;; Got answer: ;; ->>HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 26274 ;; flags: qr rd ra; QUERY: 1, ANSWER: 2, AUTHORITY: 0, ADDITIONAL: 1 ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 4096 ;; QUESTION SECTION: ;wordpress.com. IN A ;; ANSWER SECTION: wordpress.com. 3007 IN A 192.0.78.17 wordpress.com. 3007 IN A 192.0.78.9 ;; Query time: 1 msec ;; SERVER: 62.210.16.6#53(62.210.16.6) ;; WHEN: Tue Oct 13 09:34:07 CEST 2015 ;; MSG SIZE rcvd: 74</p>\n\n<p><FilesMatch \"xmlrpc\\.php$\"> order deny,allow deny from all allow from 192.0.78.27 allow from 192.0.78.26 allow from 192.0.78.17 allow from 192.0.78.9 </FilesMatch></p>","image":"http://blog.techan.fr/images/2015/01/wordpress-logo-stacked-rgb-e1422350715375.png","featured":0,"page":0,"status":"draft","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-10-13T09:44:37.000Z","created_by":1,"updated_at":"2015-10-13T09:44:37.000Z","updated_by":1,"published_at":"0000-00-00 00:00:00","published_by":1},{"id":169,"uuid":"47e99abf-20bd-4dee-b9a2-95398f8bf601","title":"Commande Sed : astuces","slug":"temp-slug-167","markdown":"\nAjouter un caractère en début de ligne en spécifiant les lignesTout d’abord, je crée un fichier avec un nombre par ligne, de 1 à 100 :\n\nroot@host:~# for i in {1..100}; do echo $i; done > test.lst\n\nEnsuite, le “sed” magique :\n\nroot@host:~# sed -i.bak -e ‘50,100s/^/#/’ test.lst\n\nLe “-i” permet de backuper le fichier original, en lui ajoutant l’extension “.bak”.  \n Le « -e » contient l’expression, dans mon cas, je veux agir de la ligne 50 à la ligne 100, et mon action est un « subsitute » – donc « s » – du début de ligne – ^ – par un autre caractère, dans mon cas « # ».\n\nOn vérifie :  \n Le fichier original a bien été sauvé.  \n -rw-r–r– 1 root root   292 Oct 13 11:40 test.lst.bak  \n -rw-r–r– 1 root root   293 Oct 13 11:41 test.lst\n\nEt dans le nouveau fichier :\n\nTout d’abord, je crée un fichier avec un nombre par ligne, de 1 à 100 :\n\n \n\n \n\nroot@host:~# for i in {1..100}; do echo $i; done > test.lst\n\n \n\n \n\nEnsuite, le “sed” magique :\n\n \n\nroot@host:~# sed -i.bak -e ‘50,100s/^/#/’ test.lst\n\n \n\n \n\nLe “-i” permet de backuper le fichier original, en lui ajoutant l’extension “.bak”.\n\nLe « -e » contient l’expression, dans mon cas, je veux agir de la ligne 50 à la ligne 100, et mon action est un « subsitute » – donc « s » – du début de ligne – ^ – par un autre caractère, dans mon cas « # ».\n\n \n\nOn vérifie :\n\nLe fichier original a bien été sauvé.\n\n-rw-r–r– 1 root root   292 Oct 13 11:40 test.lst.bak\n\n-rw-r–r– 1 root root   293 Oct 13 11:41 test.lst\n\n \n\nEt dans le nouveau fichier :\n\n[![sed_1](https://techan.fr/images/2015/10/sed_1.png)](https://techan.fr/images/2015/10/sed_1.png)\n\n \n\n\n","html":"<p>Ajouter un caractère en début de ligne en spécifiant les lignesTout d’abord, je crée un fichier avec un nombre par ligne, de 1 à 100 :</p>\n\n<p>root@host:~# for i in {1..100}; do echo $i; done > test.lst</p>\n\n<p>Ensuite, le “sed” magique :</p>\n\n<p>root@host:~# sed -i.bak -e ‘50,100s/^/#/’ test.lst</p>\n\n<p>Le “-i” permet de backuper le fichier original, en lui ajoutant l’extension “.bak”. <br />\n Le « -e » contient l’expression, dans mon cas, je veux agir de la ligne 50 à la ligne 100, et mon action est un « subsitute » – donc « s » – du début de ligne – ^ – par un autre caractère, dans mon cas « # ».</p>\n\n<p>On vérifie : <br />\n Le fichier original a bien été sauvé. <br />\n -rw-r–r– 1 root root   292 Oct 13 11:40 test.lst.bak <br />\n -rw-r–r– 1 root root   293 Oct 13 11:41 test.lst</p>\n\n<p>Et dans le nouveau fichier :</p>\n\n<p>Tout d’abord, je crée un fichier avec un nombre par ligne, de 1 à 100 :</p>\n\n<p>root@host:~# for i in {1..100}; do echo $i; done > test.lst</p>\n\n<p>Ensuite, le “sed” magique :</p>\n\n<p>root@host:~# sed -i.bak -e ‘50,100s/^/#/’ test.lst</p>\n\n<p>Le “-i” permet de backuper le fichier original, en lui ajoutant l’extension “.bak”.</p>\n\n<p>Le « -e » contient l’expression, dans mon cas, je veux agir de la ligne 50 à la ligne 100, et mon action est un « subsitute » – donc « s » – du début de ligne – ^ – par un autre caractère, dans mon cas « # ».</p>\n\n<p>On vérifie :</p>\n\n<p>Le fichier original a bien été sauvé.</p>\n\n<p>-rw-r–r– 1 root root   292 Oct 13 11:40 test.lst.bak</p>\n\n<p>-rw-r–r– 1 root root   293 Oct 13 11:41 test.lst</p>\n\n<p>Et dans le nouveau fichier :</p>\n\n<p><a href=\"https://techan.fr/images/2015/10/sed_1.png\"><img src=\"https://techan.fr/images/2015/10/sed_1.png\" alt=\"sed_1\" title=\"\" /></a></p>","image":null,"featured":0,"page":0,"status":"draft","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-10-13T12:25:35.000Z","created_by":1,"updated_at":"2015-10-13T12:25:35.000Z","updated_by":1,"published_at":"0000-00-00 00:00:00","published_by":1},{"id":170,"uuid":"dfb0700a-130b-4120-bf69-3f18475006a6","title":"Introduction à Docker avec l'indexation full text des mails","slug":"introduction-a-docker-avec-lindexation-full-text-des-mails","markdown":"\nAu début de l’année j’expliquais comment configurer Solr et Dovecot pour ajouter l’indexation full text des mails (voir [Indexation full text des mails](https://techan.fr/indexation-full-text-des-mails/)). A l’époque, la manipulation était plutôt lourde, Solr est puissant mais assez capricieux lors de sa mise en place. Aujourd’hui, je vais présenter Docker et la façon dont cet outil va vous faciliter la vie !\n\nCommençons tout d’abord par une petite présentation de Docker. Il ne s’agit pas de virtualisation ! Cet outil utilise un mécanisme offert par les normes de programmation. Depuis quelques temps, tous les noyaux Linux respectent les même interfaces, le code les implémentant diverge ensuite en fonction de la distribution. Cependant, pour faire simple, les différentes méthodes implémentée répondent à la même définition sur toutes les implémentations. Docker se sert de ce principe, ainsi il est possible de faire fonctionner un **container** comme CentOS sur un hôte installé avec Ubuntu par exemple.\n\nUn **container **!?! Qu’est ce que c’est que cette bête là ??? Docker se base sur des **images** pour fonctionner, une image est une installation – de base ou non – d’un système. Il existe des images de Debian, d’Ubutnu, de CentOS, d’Oracle Linux, enfin de tout ce que l’on peut imaginer. Une image peut également être une version modifiée de ces images de base. Par exemple celle que je vais proposer plus bas est une image Ubuntu à dans laquelle j’ai installé Java et Solr. Cool non ? Un **container** est instanciation d’une image. Je démarre une image, j’ai un container, je démarre une deuxième image, j’ai deux containers. Ces containers sont isolés du système de base et isolés entre eux, chacun à sa « vie » propre.\n\nDocker permet donc d’installer des choses sur Linux sans pour autant « polluer » le système de base. Dans mon exemple, on peut installer Solr sans avoir besoin d’installer Java sur la machine hôte. On peut également faire tourner des applications très récentes sur une machine un peu ancienne sans avoir besoin de mettre à jour les librairies de cette ancienne machine. D’autre part, Docker permet d’automatiser beaucoup de choses, mais nous verrons cela dans un prochain article.\n\nRevenons à nos moutons. Voyons comment installer Solr via Docker !\n\n \n\n\n## Installation de Docker\n\nVoici comment installer la dernière version de Docker sur Ubuntu. Je vous conseille d’installer Docker depuis leur propre dépôt, plutôt que d’utiliser la version d’Ubuntu. Vous bénéficierez ainsi d’une version bien plus récente.\n\nEn tant que root, lancez les commandes suivantes :\n\napt-key adv --keyserver hkp://pgp.mit.edu:80 --recv-keys 58118E89F3A912897C070ADBF76221572C52609D vi /etc/apt/sources.list.d/docker.list\n\nDans le fichier, ajoutez le contenu suivant, si le fichier n’est pas vide, remplacez son contenu avec ce qui suit.\n\n# Ubuntu Precise 14.04 deb https://apt.dockerproject.org/repo ubuntu-precise main # Ubuntu Trusty 14.10 deb https://apt.dockerproject.org/repo ubuntu-trusty main # Ubuntu Vivid 15.04 deb https://apt.dockerproject.org/repo ubuntu-vivid main # Ubuntu Wily 15.10 deb https://apt.dockerproject.org/repo ubuntu-wily main\n\nCommentez les lignes qui ne correspondent pas à la version d’Ubuntu que vous utilisez. Passez ensuite les commandes suivantes toujours en root.\n\napt-get update apt-get purge lxc-docker* apt-cache policy docker-engine apt-get install docker-engine\n\nLorsque tout est installé, vérifiez que tout fonctionne en lançant la commande qui suit.\n\ndocker run hello-world\n\nLa sortie de la commande devrait être comme ceci.\n\nUnable to find image 'hello-world:latest' locally latest: Pulling from library/hello-world b901d36b6f2f: Pull complete 0a6ba66e537a: Pull complete Digest: sha256:517f03be3f8169d84711c9ffb2b3235a4d27c1eb4ad147f6248c8040adb93113 Status: Downloaded newer image for hello-world:latest Hello from Docker. This message shows that your installation appears to be working correctly. To generate this message, Docker took the following steps: 1. The Docker client contacted the Docker daemon. 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub. 3. The Docker daemon created a new container from that image which runs the executable that produces the output you are currently reading. 4. The Docker daemon streamed that output to the Docker client, which sent it to your terminal. To try something more ambitious, you can run an Ubuntu container with: $ docker run -it ubuntu bash Share images, automate workflows, and more with a free Docker Hub account: https://hub.docker.com For more examples and ideas, visit: https://docs.docker.com/userguide/\n\n \n\nSi c’est le cas, tout est bon ! Vous pouvez maintenant utiliser Docker !\n\n \n\n#### Configuration supplémentaire si vous utilisez UFW\n\nÉditez le fichier suivant.\n\nvi /etc/default/ufw\n\n \n\nTrouvez la ligne :\n\nDEFAULT_FORWARD_POLICY=\"DROP\"\n\nModifiez la comme suit :\n\nDEFAULT_FORWARD_POLICY=\"ACCEPT\"\n\nSauvez le fichier et passez ensuite les deux commandes :\n\nufw reload ufw allow 2375/tcp\n\n \n\n \n\n\n## Solr dans Docker\n\nVotre serviteur a créer une image spéciale basée sur Ubuntu, cette image embarque Java et Solr (4.10.4) et la configuration de Solr pour qu’il fonctionne avec Dovecot. En gros, l’image embarque tout ce qui touchait à Solr dans [mon article de Janvier](https://techan.fr/indexation-full-text-des-mails/). Dans un premier temps, nous allons récupérer l’image et voir comment tout cela fonctionne, ensuite nous brancherons Dovecot sur le Solr embarqué.\n\n \n\n#### Jouons avec Docker\n\nLa première étape est de récupérer l’archive, il n’y a rien de plus simple.\n\ndocker pull mrraph/docker-solr_dovecot\n\nCette commande télécharge tous les éléments nécessaires au fonctionnement de l’image.\n\n[![Introduction à Docker avec l'indexation full text des mails](https://techan.fr/images/2015/10/screenshot.998.jpg)](https://techan.fr/images/2015/10/screenshot.998.jpg)\n\nLorsque le téléchargement est terminé, vous pouvez lister les images que votre Docker possède en utilisant la commande suivante.\n\ndocker images\n\n[![Introduction à Docker avec l'indexation full text des mails](https://techan.fr/images/2015/10/screenshot.999.jpg)](https://techan.fr/images/2015/10/screenshot.999.jpg)\n\nGénial, on a téléchargé l’image, maintenant démarrons la !\n\ndocker run -p 8983:8983 -d mrraph/docker-solr_dovecot\n\nVoici quelques explications sur les options utilisées :\n\n- -p 8983:8983 - Cette option permet de rediriger le port 8983  du container sur le port 8983 de l’hôte.\n- -d - Cette option permet de lancer le container comme un daemon, il va tourner en arrière plan comme un grand.\n\nPour vérifier que tout fonctionne bien, rendez-vous à l’adresse suivante : **http://<ip de l’hote>:8983/solr**.\n\n \n\n[![Introduction à Docker avec l'indexation full text des mails](https://techan.fr/images/2015/10/screenshot.1000.jpg)](https://techan.fr/images/2015/10/screenshot.1000.jpg)\n\n<span style=\"text-decoration: underline;\">**Note :**</span> Si vous utilisez Ubuntu 15.10, il y a un bug avec le réseau dans Docker, il suffit de redémarrer le daemon docker – ***service docker restart*** – et de relancer le container.\n\n \n\nEt voilà, vous avez lancé Solr dans un container Docker ! Cool non ? Bon maintenant, ce n’est pas très sécurisé ainsi car n’importe qui pourrait accéder à l’interface Web et effacer vos index … De plus l’adresse IP des containers change à chaque lancement, il n’y a pas de moyen direct pour donner une IP fixe à un container dans Docker … Rassurez vous, il y a une solution, je vous la donne tout de suite !\n\n \n\n#### Lancer Solr de manière sécurisée et avec une IP fixe\n\nJ’ai adapté un script permettant de fixer l’adresse IP d’un container, [il se trouve dans GitHub](https://github.com/Branlala/Docker-Solr_Dovecot/blob/master/solr_satic_ip.sh). Enregistrez ce script quelque part sur votre système, dans /root/bin par exemple.\n\n \n\ncd /root/bin chmod +x solr_satic_ip.sh\n\n \n\nAdaptez les valeurs des variables en haut du script, en portant une attention particulière aux deux dernières.\n\n# docker & network settings DOCKER_IMAGE_NAME=\"mrraph/docker-solr_dovecot\" DOCKER_CONTAINERS_NAME=\"solr_dovecot_bridged\" DOCKER_NETWORK_INTERFACE_NAME=\"em1:1\" DOCKER_NETWORK_INTERFACE_IP=\"10.0.0.1\"\n\n \n\nDans mon cas, l’interface Ethernet de mon serveur se nomme **em1**, on va donc créer une interface virtuelle nommée **em1:1**. Si votre interface s’appelle **eth0**, nommez l’interface virtuelle **eth0:1**, ou **eth0:2** si  **eth0:1** est déjà prise.\n\nConcernant l’IP de l’interface virtuelle, il faut simplement vérifier qu’elle n’est pas déjà prise sur le système.\n\n \n\nLorsque le script est configuré, il n’y a plus qu’a le lancer !\n\n# ./solr_static_ip.sh ebcf93133424ea22a4c1eab5a4e8e6190677d1e09cc406000529747be607812f\n\nLa chaine que le script écrit est l’identifiant du container démarré, on peut voir les containers en cours d’exécution avec la commande suivante.\n\n# docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES ebcf93133424 mrraph/docker-solr_dovecot:latest \"/bin/bash -c 'cd /o About a minute ago Up About a minute 10.0.0.1:8983->8983/tcp solr_dovecot_bridged\n\nVoilà, Solr fonctionne et est rattaché à une IP fixe, il n’y a plus qu’à configurer Dovecot !\n\n \n\n#### Configurer Dovecot pour utiliser notre container Solr\n\nOn installer le paquet qui va bien.\n\napt-get install dovecot-solr\n\nOn édite ensuite le fichier de configuration /etc/dovecot/conf.d/90-plugin.conf.\n\nvi /etc/dovecot/conf.d/90-plugin.conf\n\nOn ajoute les lignes suivantes à la fin de ce fichier.\n\nmail_plugins = $mail_plugins fts fts_solr plugin { fts = solr fts_solr = url=http://10.0.0.1:8983/solr/ break-imap-search fts_autoindex = yes }\n\nEt on redémarre Dovecot !\n\nservice dovecot restart\n\n \n\nVous pouvez forcer l’indexation des mails d’un utilisateur avec les commandes :\n\n# doveadm fts rescan -u <user> # doveadm index -u <user> '*'\n\n \n\n\n","html":"<p>Au début de l’année j’expliquais comment configurer Solr et Dovecot pour ajouter l’indexation full text des mails (voir <a href=\"https://techan.fr/indexation-full-text-des-mails/\">Indexation full text des mails</a>). A l’époque, la manipulation était plutôt lourde, Solr est puissant mais assez capricieux lors de sa mise en place. Aujourd’hui, je vais présenter Docker et la façon dont cet outil va vous faciliter la vie !</p>\n\n<p>Commençons tout d’abord par une petite présentation de Docker. Il ne s’agit pas de virtualisation ! Cet outil utilise un mécanisme offert par les normes de programmation. Depuis quelques temps, tous les noyaux Linux respectent les même interfaces, le code les implémentant diverge ensuite en fonction de la distribution. Cependant, pour faire simple, les différentes méthodes implémentée répondent à la même définition sur toutes les implémentations. Docker se sert de ce principe, ainsi il est possible de faire fonctionner un <strong>container</strong> comme CentOS sur un hôte installé avec Ubuntu par exemple.</p>\n\n<p>Un <strong>container <em>*!?! Qu’est ce que c’est que cette bête là ??? Docker se base sur des *</em>images</strong> pour fonctionner, une image est une installation – de base ou non – d’un système. Il existe des images de Debian, d’Ubutnu, de CentOS, d’Oracle Linux, enfin de tout ce que l’on peut imaginer. Une image peut également être une version modifiée de ces images de base. Par exemple celle que je vais proposer plus bas est une image Ubuntu à dans laquelle j’ai installé Java et Solr. Cool non ? Un <strong>container</strong> est instanciation d’une image. Je démarre une image, j’ai un container, je démarre une deuxième image, j’ai deux containers. Ces containers sont isolés du système de base et isolés entre eux, chacun à sa « vie » propre.</p>\n\n<p>Docker permet donc d’installer des choses sur Linux sans pour autant « polluer » le système de base. Dans mon exemple, on peut installer Solr sans avoir besoin d’installer Java sur la machine hôte. On peut également faire tourner des applications très récentes sur une machine un peu ancienne sans avoir besoin de mettre à jour les librairies de cette ancienne machine. D’autre part, Docker permet d’automatiser beaucoup de choses, mais nous verrons cela dans un prochain article.</p>\n\n<p>Revenons à nos moutons. Voyons comment installer Solr via Docker !</p>\n\n<h2 id=\"installationdedocker\">Installation de Docker</h2>\n\n<p>Voici comment installer la dernière version de Docker sur Ubuntu. Je vous conseille d’installer Docker depuis leur propre dépôt, plutôt que d’utiliser la version d’Ubuntu. Vous bénéficierez ainsi d’une version bien plus récente.</p>\n\n<p>En tant que root, lancez les commandes suivantes :</p>\n\n<p>apt-key adv --keyserver hkp://pgp.mit.edu:80 --recv-keys 58118E89F3A912897C070ADBF76221572C52609D vi /etc/apt/sources.list.d/docker.list</p>\n\n<p>Dans le fichier, ajoutez le contenu suivant, si le fichier n’est pas vide, remplacez son contenu avec ce qui suit.</p>\n\n<h1 id=\"ubuntuprecise1404debhttpsaptdockerprojectorgrepoubuntuprecisemainubuntutrusty1410debhttpsaptdockerprojectorgrepoubuntutrustymainubuntuvivid1504debhttpsaptdockerprojectorgrepoubuntuvividmainubuntuwily1510debhttpsaptdockerprojectorgrepoubuntuwilymain\">Ubuntu Precise 14.04 deb <a href=\"https://apt.dockerproject.org/repo\">https://apt.dockerproject.org/repo</a> ubuntu-precise main # Ubuntu Trusty 14.10 deb <a href=\"https://apt.dockerproject.org/repo\">https://apt.dockerproject.org/repo</a> ubuntu-trusty main # Ubuntu Vivid 15.04 deb <a href=\"https://apt.dockerproject.org/repo\">https://apt.dockerproject.org/repo</a> ubuntu-vivid main # Ubuntu Wily 15.10 deb <a href=\"https://apt.dockerproject.org/repo\">https://apt.dockerproject.org/repo</a> ubuntu-wily main</h1>\n\n<p>Commentez les lignes qui ne correspondent pas à la version d’Ubuntu que vous utilisez. Passez ensuite les commandes suivantes toujours en root.</p>\n\n<p>apt-get update apt-get purge lxc-docker* apt-cache policy docker-engine apt-get install docker-engine</p>\n\n<p>Lorsque tout est installé, vérifiez que tout fonctionne en lançant la commande qui suit.</p>\n\n<p>docker run hello-world</p>\n\n<p>La sortie de la commande devrait être comme ceci.</p>\n\n<p>Unable to find image 'hello-world:latest' locally latest: Pulling from library/hello-world b901d36b6f2f: Pull complete 0a6ba66e537a: Pull complete Digest: sha256:517f03be3f8169d84711c9ffb2b3235a4d27c1eb4ad147f6248c8040adb93113 Status: Downloaded newer image for hello-world:latest Hello from Docker. This message shows that your installation appears to be working correctly. To generate this message, Docker took the following steps: 1. The Docker client contacted the Docker daemon. 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub. 3. The Docker daemon created a new container from that image which runs the executable that produces the output you are currently reading. 4. The Docker daemon streamed that output to the Docker client, which sent it to your terminal. To try something more ambitious, you can run an Ubuntu container with: $ docker run -it ubuntu bash Share images, automate workflows, and more with a free Docker Hub account: <a href=\"https://hub.docker.com\">https://hub.docker.com</a> For more examples and ideas, visit: <a href=\"https://docs.docker.com/userguide/\">https://docs.docker.com/userguide/</a></p>\n\n<p>Si c’est le cas, tout est bon ! Vous pouvez maintenant utiliser Docker !</p>\n\n<h4 id=\"configurationsupplmentairesivousutilisezufw\">Configuration supplémentaire si vous utilisez UFW</h4>\n\n<p>Éditez le fichier suivant.</p>\n\n<p>vi /etc/default/ufw</p>\n\n<p>Trouvez la ligne :</p>\n\n<p>DEFAULT_FORWARD_POLICY=\"DROP\"</p>\n\n<p>Modifiez la comme suit :</p>\n\n<p>DEFAULT_FORWARD_POLICY=\"ACCEPT\"</p>\n\n<p>Sauvez le fichier et passez ensuite les deux commandes :</p>\n\n<p>ufw reload ufw allow 2375/tcp</p>\n\n<h2 id=\"solrdansdocker\">Solr dans Docker</h2>\n\n<p>Votre serviteur a créer une image spéciale basée sur Ubuntu, cette image embarque Java et Solr (4.10.4) et la configuration de Solr pour qu’il fonctionne avec Dovecot. En gros, l’image embarque tout ce qui touchait à Solr dans <a href=\"https://techan.fr/indexation-full-text-des-mails/\">mon article de Janvier</a>. Dans un premier temps, nous allons récupérer l’image et voir comment tout cela fonctionne, ensuite nous brancherons Dovecot sur le Solr embarqué.</p>\n\n<h4 id=\"jouonsavecdocker\">Jouons avec Docker</h4>\n\n<p>La première étape est de récupérer l’archive, il n’y a rien de plus simple.</p>\n\n<p>docker pull mrraph/docker-solr_dovecot</p>\n\n<p>Cette commande télécharge tous les éléments nécessaires au fonctionnement de l’image.</p>\n\n<p><a href=\"https://techan.fr/images/2015/10/screenshot.998.jpg\"><img src=\"https://techan.fr/images/2015/10/screenshot.998.jpg\" alt=\"Introduction à Docker avec l'indexation full text des mails\" title=\"\" /></a></p>\n\n<p>Lorsque le téléchargement est terminé, vous pouvez lister les images que votre Docker possède en utilisant la commande suivante.</p>\n\n<p>docker images</p>\n\n<p><a href=\"https://techan.fr/images/2015/10/screenshot.999.jpg\"><img src=\"https://techan.fr/images/2015/10/screenshot.999.jpg\" alt=\"Introduction à Docker avec l'indexation full text des mails\" title=\"\" /></a></p>\n\n<p>Génial, on a téléchargé l’image, maintenant démarrons la !</p>\n\n<p>docker run -p 8983:8983 -d mrraph/docker-solr_dovecot</p>\n\n<p>Voici quelques explications sur les options utilisées :</p>\n\n<ul>\n<li>-p 8983:8983 - Cette option permet de rediriger le port 8983  du container sur le port 8983 de l’hôte.</li>\n<li>-d - Cette option permet de lancer le container comme un daemon, il va tourner en arrière plan comme un grand.</li>\n</ul>\n\n<p>Pour vérifier que tout fonctionne bien, rendez-vous à l’adresse suivante : <strong>http://<ip de l’hote>:8983/solr</strong>.</p>\n\n<p><a href=\"https://techan.fr/images/2015/10/screenshot.1000.jpg\"><img src=\"https://techan.fr/images/2015/10/screenshot.1000.jpg\" alt=\"Introduction à Docker avec l'indexation full text des mails\" title=\"\" /></a></p>\n\n<p><span style=\"text-decoration: underline;\"><strong>Note :</strong></span> Si vous utilisez Ubuntu 15.10, il y a un bug avec le réseau dans Docker, il suffit de redémarrer le daemon docker – <strong><em>service docker restart</em></strong> – et de relancer le container.</p>\n\n<p>Et voilà, vous avez lancé Solr dans un container Docker ! Cool non ? Bon maintenant, ce n’est pas très sécurisé ainsi car n’importe qui pourrait accéder à l’interface Web et effacer vos index … De plus l’adresse IP des containers change à chaque lancement, il n’y a pas de moyen direct pour donner une IP fixe à un container dans Docker … Rassurez vous, il y a une solution, je vous la donne tout de suite !</p>\n\n<h4 id=\"lancersolrdemanirescuriseetavecuneipfixe\">Lancer Solr de manière sécurisée et avec une IP fixe</h4>\n\n<p>J’ai adapté un script permettant de fixer l’adresse IP d’un container, <a href=\"https://github.com/Branlala/Docker-Solr_Dovecot/blob/master/solr_satic_ip.sh\">il se trouve dans GitHub</a>. Enregistrez ce script quelque part sur votre système, dans /root/bin par exemple.</p>\n\n<p>cd /root/bin chmod +x solr<em>satic</em>ip.sh</p>\n\n<p>Adaptez les valeurs des variables en haut du script, en portant une attention particulière aux deux dernières.</p>\n\n<h1 id=\"dockernetworksettingsdocker_image_namemrraphdockersolr_dovecotdocker_containers_namesolr_dovecot_bridgeddocker_network_interface_nameem11docker_network_interface_ip10001\">docker &amp; network settings DOCKER<em>IMAGE</em>NAME=\"mrraph/docker-solr<em>dovecot\" DOCKER</em>CONTAINERS<em>NAME=\"solr</em>dovecot<em>bridged\" DOCKER</em>NETWORK<em>INTERFACE</em>NAME=\"em1:1\" DOCKER<em>NETWORK</em>INTERFACE_IP=\"10.0.0.1\"</h1>\n\n<p>Dans mon cas, l’interface Ethernet de mon serveur se nomme <strong>em1</strong>, on va donc créer une interface virtuelle nommée <strong>em1:1</strong>. Si votre interface s’appelle <strong>eth0</strong>, nommez l’interface virtuelle <strong>eth0:1</strong>, ou <strong>eth0:2</strong> si  <strong>eth0:1</strong> est déjà prise.</p>\n\n<p>Concernant l’IP de l’interface virtuelle, il faut simplement vérifier qu’elle n’est pas déjà prise sur le système.</p>\n\n<p>Lorsque le script est configuré, il n’y a plus qu’a le lancer !</p>\n\n<h1 id=\"solr_static_ipshebcf93133424ea22a4c1eab5a4e8e6190677d1e09cc406000529747be607812f\">./solr<em>static</em>ip.sh ebcf93133424ea22a4c1eab5a4e8e6190677d1e09cc406000529747be607812f</h1>\n\n<p>La chaine que le script écrit est l’identifiant du container démarré, on peut voir les containers en cours d’exécution avec la commande suivante.</p>\n\n<h1 id=\"dockerpscontaineridimagecommandcreatedstatusportsnamesebcf93133424mrraphdockersolr_dovecotlatestbinbashccdoaboutaminuteagoupaboutaminute1000189838983tcpsolr_dovecot_bridged\">docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES ebcf93133424 mrraph/docker-solr<em>dovecot:latest \"/bin/bash -c 'cd /o About a minute ago Up About a minute 10.0.0.1:8983->8983/tcp solr</em>dovecot_bridged</h1>\n\n<p>Voilà, Solr fonctionne et est rattaché à une IP fixe, il n’y a plus qu’à configurer Dovecot !</p>\n\n<h4 id=\"configurerdovecotpourutilisernotrecontainersolr\">Configurer Dovecot pour utiliser notre container Solr</h4>\n\n<p>On installer le paquet qui va bien.</p>\n\n<p>apt-get install dovecot-solr</p>\n\n<p>On édite ensuite le fichier de configuration /etc/dovecot/conf.d/90-plugin.conf.</p>\n\n<p>vi /etc/dovecot/conf.d/90-plugin.conf</p>\n\n<p>On ajoute les lignes suivantes à la fin de ce fichier.</p>\n\n<p>mail<em>plugins = $mail</em>plugins fts fts<em>solr plugin { fts = solr fts</em>solr = url=<a href=\"http://10.0.0.1:8983/solr/\">http://10.0.0.1:8983/solr/</a> break-imap-search fts_autoindex = yes }</p>\n\n<p>Et on redémarre Dovecot !</p>\n\n<p>service dovecot restart</p>\n\n<p>Vous pouvez forcer l’indexation des mails d’un utilisateur avec les commandes :</p>\n\n<h1 id=\"doveadmftsrescanuuserdoveadmindexuuser\">doveadm fts rescan -u <user> # doveadm index -u <user> '*'</h1>","image":"http://blog.techan.fr/images/2015/10/Docker_container_engine_logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-10-27T11:19:39.000Z","created_by":1,"updated_at":"2015-10-27T11:21:35.000Z","updated_by":1,"published_at":"2015-10-27T11:19:39.000Z","published_by":1},{"id":171,"uuid":"d083cf52-584f-46b5-936e-47fcf5365063","title":"Mail-in-a-Box migrer la base de données SQLite vers MySQL","slug":"mail-in-a-box-migrer-la-base-de-donnees-sqlite-vers-mysql","markdown":"\nPar défaut, Mail in a Box utilise des bases de données SQLite pour stocker vos données, ces dernières sont très pratique, portables et légères. Elles sont tout à fait adaptées pour l’utilisation qu’en fait Mail in a Box, cependant, j’ai rencontré quelques soucis avec une de ces bases de données, celle qui est utilisée pour OwnCloud. OwnCloud permet de stocker les contacts, les calendriers et les fichiers des utilisateurs de Mail in a Box.\n\n \n\nDans mon cas, lorsque j’initialise Mail in a Box, j’ai plus de 600 contacts et 5 agendas à importer dans OwnCloud et c’est peu dire que la petite base souffre un peu lors de ces imports. Il est même quasiment impossible d’importer les 600 contacts car des verrous bloquent ce processus … J’ai donc pris le parti d’utiliser un serveur MySQL pour OwnCloud. Voici les étapes à suivre pour procéder à cette migration.\n\n**<span style=\"text-decoration: underline;\">Note :</span>** Vous ne perdrez aucun données déjà stockée dans OwnCloud, la migration embarque également les données des utilisateurs.\n\n \n\n\n## Installation de MySQL et pré-requis\n\n \n\nVoici les commandes qui vous permettront d’installer le serveur et le client MySQL sur votre box.\n\nroot@box:/usr/local/lib/owncloud# aptitude install mariadb-client-5.5 mariadb-server-5.5 The following NEW packages will be installed: libmariadbclient18{a} libreadline5{a} libterm-readkey-perl{a} mariadb-client-5.5 mariadb-client-core-5.5{a} mariadb-common{a} mariadb-server-5.5 mariadb-server-core-5.5{a} 0 packages upgraded, 8 newly installed, 0 to remove and 0 not upgraded. Need to get 8,933 kB of archives. After unpacking 97.8 MB will be used. Do you want to continue? [Y/n/?]\n\nIl faut également installer le module PHP pour MySQL.\n\nroot@box:/usr/local/lib/owncloud# aptitude install php5-mysql The following NEW packages will be installed: php5-mysql 0 packages upgraded, 1 newly installed, 0 to remove and 0 not upgraded.\n\n \n\n#### Création de la base de données MySQL\n\nMaintenant, nous allons créer la base de données dans laquelle OwnCloud va stocker vos informations.\n\nroot@box:/usr/local/lib/owncloud# mysql -u root -p Enter password: Welcome to the MariaDB monitor. Commands end with ; or \\g. Your MariaDB connection id is 36 Server version: 5.5.44-MariaDB-1ubuntu0.14.04.1 (Ubuntu) Copyright (c) 2000, 2015, Oracle, MariaDB Corporation Ab and others. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. MariaDB [(none)]> create database owncloud ; Query OK, 1 row affected (0.00 sec) MariaDB [(none)]> grant all privileges on owncloud.* to owncloud@'localhost' identified by 'password' ; Query OK, 0 rows affected (0.00 sec) MariaDB [(none)]> flush privileges ; Query OK, 0 rows affected (0.00 sec)\n\n**<span style=\"text-decoration: underline;\">Note :</span>**Prenez soin de modifier le mot de passe de l’utilisateur ‘owncloud’.\n\n \n\nNous allons modifier l’utilisateur **www-data** afin de pouvoir lancer le script de migration, nous remettrons cet utilisateur d’aplomb à la fin de cet article.\n\nÉditez le fichier **/etc/passwd**.\n\nvi /etc/passwd\n\n \n\nRepérez la ligne commençant par **www-data**.\n\nwww-data:x:33:33:www-data:/var/www:/usr/sbin/nologin\n\nRemplacez **/usr/sbin/nologin** par **/bin/bash**.\n\n \n\n\n## Migrons !\n\nMaintenant que tout est en place, nous allons migrer les données. La commande **occ** est fournie par OwnCloud. Elle a créer les tables nécessaires dans la base MySQL, migrer vos données et modifier le fichier de configuration d’OwnCloud pour qu’il utiliser désormais la base MySQL.\n\nroot@box:/usr/local/lib/owncloud# su - www-data -c 'cd /usr/local/lib/owncloud && php ./occ db:convert-type --all-apps mysql owncloud 127.0.0.1 owncloud' No directory, logging in with HOME=/ PHP Notice: Use of undefined constant LOGLEVEL_INFO - assumed 'LOGLEVEL_INFO' in /usr/local/lib/z-push/config.php on line 145 PHP Notice: Use of undefined constant LOGLEVEL_DEVICEID - assumed 'LOGLEVEL_DEVICEID' in /usr/local/lib/z-push/config.php on line 153 PHP Notice: Use of undefined constant SYNC_CONFLICT_OVERWRITE_PIM - assumed 'SYNC_CONFLICT_OVERWRITE_PIM' in /usr/local/lib/z-push/config.php on line 177 PHP Notice: Use of undefined constant SYNC_FILTERTYPE_ALL - assumed 'SYNC_FILTERTYPE_ALL' in /usr/local/lib/z-push/config.php on line 187 PHP Notice: Use of undefined constant SYNC_FILEAS_LASTFIRST - assumed 'SYNC_FILEAS_LASTFIRST' in /usr/local/lib/z-push/config.php on line 215 What is the database password? Creating schema in new database oc_activity 45/45 [============================] 100% oc_activity_mq 0/0 [============================] 0% oc_appconfig 73/73 [============================] 100% oc_clndr_calendars 9/9 [============================] 100% oc_clndr_objects 966/966 [============================] 100% oc_clndr_repeat 63/63 [============================] 100% oc_clndr_share_calendar 0/0 [============================] 0% oc_clndr_share_event 0/0 [============================] 0% oc_contacts_addressbooks 5/5 [============================] 100% oc_contacts_cards 625/625 [============================] 100% oc_contacts_cards_properties 3355/3355 [============================] 100% oc_file_map 0/0 [============================] 0% oc_filecache 73/73 [============================] 100% oc_files_trash 0/0 [============================] 0% oc_group_admin 0/0 [============================] 0% oc_group_user 1/1 [============================] 100% oc_groups 1/1 [============================] 100% oc_jobs 3/3 [============================] 100% oc_mimetypes 11/11 [============================] 100% oc_preferences 11/11 [============================] 100% oc_privatedata 0/0 [============================] 0% oc_properties 0/0 [============================] 0% oc_share 0/0 [============================] 0% oc_share_external 0/0 [============================] 0% oc_storages 7/7 [============================] 100% oc_users 1/1 [============================] 100% oc_users_external 5/5 [============================] 100% oc_vcategory 33/33 [============================] 100% oc_vcategory_to_object 3352/3352 [============================] 100%\n\n \n\nEt voilà ! Il ne reste plus qu’à remettre l’utilisateur **www-data** d’aplomb et tout sera OK !\n\n \n\nÉditez le fichier **/etc/passwd**.\n\nvi /etc/passwd\n\nRepérez la ligne commençant par **www-data**.\n\nwww-data:x:33:33:www-data:/var/www:/bin/bash\n\nRemplacez **/bin/bash** par **/usr/sbin/nologin **.\n\n \n\n \n\n\n","html":"<p>Par défaut, Mail in a Box utilise des bases de données SQLite pour stocker vos données, ces dernières sont très pratique, portables et légères. Elles sont tout à fait adaptées pour l’utilisation qu’en fait Mail in a Box, cependant, j’ai rencontré quelques soucis avec une de ces bases de données, celle qui est utilisée pour OwnCloud. OwnCloud permet de stocker les contacts, les calendriers et les fichiers des utilisateurs de Mail in a Box.</p>\n\n<p>Dans mon cas, lorsque j’initialise Mail in a Box, j’ai plus de 600 contacts et 5 agendas à importer dans OwnCloud et c’est peu dire que la petite base souffre un peu lors de ces imports. Il est même quasiment impossible d’importer les 600 contacts car des verrous bloquent ce processus … J’ai donc pris le parti d’utiliser un serveur MySQL pour OwnCloud. Voici les étapes à suivre pour procéder à cette migration.</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Note :</span></strong> Vous ne perdrez aucun données déjà stockée dans OwnCloud, la migration embarque également les données des utilisateurs.</p>\n\n<h2 id=\"installationdemysqletprrequis\">Installation de MySQL et pré-requis</h2>\n\n<p>Voici les commandes qui vous permettront d’installer le serveur et le client MySQL sur votre box.</p>\n\n<p>root@box:/usr/local/lib/owncloud# aptitude install mariadb-client-5.5 mariadb-server-5.5 The following NEW packages will be installed: libmariadbclient18{a} libreadline5{a} libterm-readkey-perl{a} mariadb-client-5.5 mariadb-client-core-5.5{a} mariadb-common{a} mariadb-server-5.5 mariadb-server-core-5.5{a} 0 packages upgraded, 8 newly installed, 0 to remove and 0 not upgraded. Need to get 8,933 kB of archives. After unpacking 97.8 MB will be used. Do you want to continue? [Y/n/?]</p>\n\n<p>Il faut également installer le module PHP pour MySQL.</p>\n\n<p>root@box:/usr/local/lib/owncloud# aptitude install php5-mysql The following NEW packages will be installed: php5-mysql 0 packages upgraded, 1 newly installed, 0 to remove and 0 not upgraded.</p>\n\n<h4 id=\"crationdelabasededonnesmysql\">Création de la base de données MySQL</h4>\n\n<p>Maintenant, nous allons créer la base de données dans laquelle OwnCloud va stocker vos informations.</p>\n\n<p>root@box:/usr/local/lib/owncloud# mysql -u root -p Enter password: Welcome to the MariaDB monitor. Commands end with ; or \\g. Your MariaDB connection id is 36 Server version: 5.5.44-MariaDB-1ubuntu0.14.04.1 (Ubuntu) Copyright (c) 2000, 2015, Oracle, MariaDB Corporation Ab and others. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. MariaDB [(none)]> create database owncloud ; Query OK, 1 row affected (0.00 sec) MariaDB [(none)]> grant all privileges on owncloud.* to owncloud@'localhost' identified by 'password' ; Query OK, 0 rows affected (0.00 sec) MariaDB [(none)]> flush privileges ; Query OK, 0 rows affected (0.00 sec)</p>\n\n<p><strong><span style=\"text-decoration: underline;\">Note :</span></strong>Prenez soin de modifier le mot de passe de l’utilisateur ‘owncloud’.</p>\n\n<p>Nous allons modifier l’utilisateur <strong>www-data</strong> afin de pouvoir lancer le script de migration, nous remettrons cet utilisateur d’aplomb à la fin de cet article.</p>\n\n<p>Éditez le fichier <strong>/etc/passwd</strong>.</p>\n\n<p>vi /etc/passwd</p>\n\n<p>Repérez la ligne commençant par <strong>www-data</strong>.</p>\n\n<p>www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin</p>\n\n<p>Remplacez <strong>/usr/sbin/nologin</strong> par <strong>/bin/bash</strong>.</p>\n\n<h2 id=\"migrons\">Migrons !</h2>\n\n<p>Maintenant que tout est en place, nous allons migrer les données. La commande <strong>occ</strong> est fournie par OwnCloud. Elle a créer les tables nécessaires dans la base MySQL, migrer vos données et modifier le fichier de configuration d’OwnCloud pour qu’il utiliser désormais la base MySQL.</p>\n\n<p>root@box:/usr/local/lib/owncloud# su - www-data -c 'cd /usr/local/lib/owncloud &amp;&amp; php ./occ db:convert-type --all-apps mysql owncloud 127.0.0.1 owncloud' No directory, logging in with HOME=/ PHP Notice: Use of undefined constant LOGLEVEL<em>INFO - assumed 'LOGLEVEL</em>INFO' in /usr/local/lib/z-push/config.php on line 145 PHP Notice: Use of undefined constant LOGLEVEL<em>DEVICEID - assumed 'LOGLEVEL</em>DEVICEID' in /usr/local/lib/z-push/config.php on line 153 PHP Notice: Use of undefined constant SYNC<em>CONFLICT</em>OVERWRITE<em>PIM - assumed 'SYNC</em>CONFLICT<em>OVERWRITE</em>PIM' in /usr/local/lib/z-push/config.php on line 177 PHP Notice: Use of undefined constant SYNC<em>FILTERTYPE</em>ALL - assumed 'SYNC<em>FILTERTYPE</em>ALL' in /usr/local/lib/z-push/config.php on line 187 PHP Notice: Use of undefined constant SYNC<em>FILEAS</em>LASTFIRST - assumed 'SYNC<em>FILEAS</em>LASTFIRST' in /usr/local/lib/z-push/config.php on line 215 What is the database password? Creating schema in new database oc<em>activity 45/45 [=========================<mark>=] 100% oc</em>activity<em>mq 0/0 [</mark>==========================] 0% oc</em>appconfig 73/73 [=========================<mark>=] 100% oc<em>clndr</em>calendars 9/9 [</mark>==========================] 100% oc<em>clndr</em>objects 966/966 [=========================<mark>=] 100% oc<em>clndr</em>repeat 63/63 [</mark>==========================] 100% oc<em>clndr</em>share<em>calendar 0/0 [=========================<mark>=] 0% oc</em>clndr<em>share</em>event 0/0 [</mark>==========================] 0% oc<em>contacts</em>addressbooks 5/5 [=========================<mark>=] 100% oc<em>contacts</em>cards 625/625 [</mark>==========================] 100% oc<em>contacts</em>cards<em>properties 3355/3355 [=========================<mark>=] 100% oc</em>file<em>map 0/0 [</mark>==========================] 0% oc</em>filecache 73/73 [=========================<mark>=] 100% oc<em>files</em>trash 0/0 [</mark>==========================] 0% oc<em>group</em>admin 0/0 [=========================<mark>=] 0% oc<em>group</em>user 1/1 [</mark>==========================] 100% oc<em>groups 1/1 [=========================<mark>=] 100% oc</em>jobs 3/3 [</mark>==========================] 100% oc<em>mimetypes 11/11 [=========================<mark>=] 100% oc</em>preferences 11/11 [</mark>==========================] 100% oc<em>privatedata 0/0 [=========================<mark>=] 0% oc</em>properties 0/0 [</mark>==========================] 0% oc<em>share 0/0 [=========================<mark>=] 0% oc</em>share<em>external 0/0 [</mark>==========================] 0% oc</em>storages 7/7 [=========================<mark>=] 100% oc<em>users 1/1 [</mark>==========================] 100% oc</em>users<em>external 5/5 [=========================<mark>=] 100% oc</em>vcategory 33/33 [</mark>==========================] 100% oc<em>vcategory</em>to_object 3352/3352 [============================] 100%</p>\n\n<p>Et voilà ! Il ne reste plus qu’à remettre l’utilisateur <strong>www-data</strong> d’aplomb et tout sera OK !</p>\n\n<p>Éditez le fichier <strong>/etc/passwd</strong>.</p>\n\n<p>vi /etc/passwd</p>\n\n<p>Repérez la ligne commençant par <strong>www-data</strong>.</p>\n\n<p>www-data:x:33:33:www-data:/var/www:/bin/bash</p>\n\n<p>Remplacez <strong>/bin/bash</strong> par <em>*/usr/sbin/nologin *</em>.</p>","image":"http://blog.techan.fr/images/2015/09/Mailinabox.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-11-09T10:50:49.000Z","created_by":1,"updated_at":"2015-11-09T10:50:49.000Z","updated_by":1,"published_at":"2015-11-09T10:50:49.000Z","published_by":1},{"id":172,"uuid":"abfd2b0e-9c87-4175-9d97-fc9e124d5b05","title":"Soutenez le Rêve des Lucioles","slug":"soutenez-le-reve-des-lucioles","markdown":"\n**<span style=\"text-decoration: underline;\">[Edit 25/01/2015]</span> Grâce à vos clics sur les publicités de ce blog, 25€ de revenus publicitaires ont été reversés au Rêve de Lucioles pour les mois de Novembre et Décembre !!!**\n\n \n\nChers lecteurs, je vous demande de lire ceci jusqu’au bout…\n\nJe souhaite vous présenter une toute jeune mais très importante association qui se bat pour l’avancée de la recherche sur le neuroblastome et les cancers pédiatriques. Il s’agit de l’association [Le Rêve des Lucioles](http://www.le-reve-des-lucioles.fr/).  \n Cette association récolte des fonds afin d’améliorer le bien être des enfants lors de leurs hospitalisation et pour promouvoir la recherche contre le neuroblastome et la recherche contre la douleur. Sachez que sur l’ensemble des dons récoltés pour la recherche sur le cancer, seuls 2% sont affectés à la recherche sur les cancers pédiatriques. Des actions – spectacles, goûters, animation, … – sont menées par l’association [Le Rêve des Lucioles](http://www.le-reve-des-lucioles.fr/)  au sein de  l’Institut d’Hématologie et d’Oncologie Pédiatrique – IHOP – de Lyon.\n\nEn ce moment [Le Rêve des Lucioles](http://www.le-reve-des-lucioles.fr/) contribue et met en place un certain nombre de projets comme le Noël des enfants malades ou encore récemment Halloween pour les enfants à l’hôpital… Les projets sont nombreux, les actions aussi et beaucoup de choses ont déjà ou vont être mises en place.\n\n \n\n<span style=\"color: #ff9900;\">**Les revenus publicitaires générés sur mon blog au cours des mois de novembre et décembre seront intégralement reversés à l’association [Le Rêve des Lucioles](http://www.le-reve-des-lucioles.fr/) sous forme de don.**</span>\n\n \n\n[![Soutenez le Rêve des Lucioles](https://techan.fr/images/2015/11/affiche_RdL.jpg)](https://techan.fr/images/2015/11/affiche_RdL.jpg)\n\n \n\n[Le Rêve des Lucioles](http://www.le-reve-des-lucioles.fr/) compte à ce jour 15 bénévoles qui se mobilisent pour animer les événements, trouver des partenariats et des financements. Ces financements servent à améliorer le bien être des enfants hopstialisés, à aider la recherche contre le neuroblastome ainsi que la recherche contre la douleur et participe à certains projets mis en commun avec d’autres associations. Afin de récolter des fonds, [le Rêve des Lucioles](https://techan.fr/soutenez-le-reve-des-lucioles/) propose plusieurs types d’objets à son effigie, des mugs, des bracelets, des tours de cou, des pins, des boîtes de bonbons, vous pouvez également adhérer – 15 euros – et/ou faire des dons – des reçus peuvent être délivrés à la demande.\n\n \n\n<div class=\"wp-caption aligncenter\" id=\"attachment_1946\" style=\"width: 310px\">[![Soutenez le Rêve des Lucioles](https://techan.fr/images/2015/11/objets_RdL_1.jpg)](https://techan.fr/images/2015/11/objets_RdL_1.jpg)[![lucioles_objets_2](https://techan.fr/images/2015/11/lucioles_objets_2.jpg)](https://techan.fr/images/2015/11/lucioles_objets_2.jpg) Quelques objets mis en vente par l’association\n\n</div> \n\nLe gros projet de [l’association](http://www.le-reve-des-lucioles.fr/association) actuellement est l’organisation du Noël des enfants hospitalisés à l’IHOP. Le 25 décembre prochain les bénévoles de l’association passeront une grande partie de la journée avec les enfants qui seront hospitalisés ce jour là, un goûter, des animations et une distribution de cadeaux personnalisés en fonction de l’âge des enfants sont au programme.\n\n \n\nNous avons besoin de votre aide afin de partager et promouvoir la page de l’association afin de la faire connaître et de lui permettre de récolter des fonds pour le financement de tous ses projets. Je vous laisse aller voir [le site de l’association](http://www.le-reve-des-lucioles.fr/association). Et surtout partager un maximum [la page Facebook et les publications](https://www.facebook.com/Le-R%C3%AAve-des-Lucioles-457068287782832/) !\n\n**Vous pouvez également soutenir [Le Rêve des Lucioles](http://www.le-reve-des-lucioles.fr/) en faisant un don ou en achetant des objets mis en vente par l’association. N’hésitez pas à contacter l’association à l’adresse *<span style=\"text-decoration: underline;\">[contact@le-reve-des-lucioles.fr](mailto:contact@le-reve-des-lucioles.fr)</span>* pour toute demande d’information, pour adhérer, pour acheter ou organiser une vente d’objet !**\n\n\n","html":"<p><strong><span style=\"text-decoration: underline;\">[Edit 25/01/2015]</span> Grâce à vos clics sur les publicités de ce blog, 25€ de revenus publicitaires ont été reversés au Rêve de Lucioles pour les mois de Novembre et Décembre !!!</strong></p>\n\n<p>Chers lecteurs, je vous demande de lire ceci jusqu’au bout…</p>\n\n<p>Je souhaite vous présenter une toute jeune mais très importante association qui se bat pour l’avancée de la recherche sur le neuroblastome et les cancers pédiatriques. Il s’agit de l’association <a href=\"http://www.le-reve-des-lucioles.fr/\">Le Rêve des Lucioles</a>. <br />\n Cette association récolte des fonds afin d’améliorer le bien être des enfants lors de leurs hospitalisation et pour promouvoir la recherche contre le neuroblastome et la recherche contre la douleur. Sachez que sur l’ensemble des dons récoltés pour la recherche sur le cancer, seuls 2% sont affectés à la recherche sur les cancers pédiatriques. Des actions – spectacles, goûters, animation, … – sont menées par l’association <a href=\"http://www.le-reve-des-lucioles.fr/\">Le Rêve des Lucioles</a>  au sein de  l’Institut d’Hématologie et d’Oncologie Pédiatrique – IHOP – de Lyon.</p>\n\n<p>En ce moment <a href=\"http://www.le-reve-des-lucioles.fr/\">Le Rêve des Lucioles</a> contribue et met en place un certain nombre de projets comme le Noël des enfants malades ou encore récemment Halloween pour les enfants à l’hôpital… Les projets sont nombreux, les actions aussi et beaucoup de choses ont déjà ou vont être mises en place.</p>\n\n<p><span style=\"color: #ff9900;\"><strong>Les revenus publicitaires générés sur mon blog au cours des mois de novembre et décembre seront intégralement reversés à l’association <a href=\"http://www.le-reve-des-lucioles.fr/\">Le Rêve des Lucioles</a> sous forme de don.</strong></span></p>\n\n<p><a href=\"https://techan.fr/images/2015/11/affiche_RdL.jpg\"><img src=\"https://techan.fr/images/2015/11/affiche_RdL.jpg\" alt=\"Soutenez le Rêve des Lucioles\" title=\"\" /></a></p>\n\n<p><a href=\"http://www.le-reve-des-lucioles.fr/\">Le Rêve des Lucioles</a> compte à ce jour 15 bénévoles qui se mobilisent pour animer les événements, trouver des partenariats et des financements. Ces financements servent à améliorer le bien être des enfants hopstialisés, à aider la recherche contre le neuroblastome ainsi que la recherche contre la douleur et participe à certains projets mis en commun avec d’autres associations. Afin de récolter des fonds, <a href=\"https://techan.fr/soutenez-le-reve-des-lucioles/\">le Rêve des Lucioles</a> propose plusieurs types d’objets à son effigie, des mugs, des bracelets, des tours de cou, des pins, des boîtes de bonbons, vous pouvez également adhérer – 15 euros – et/ou faire des dons – des reçus peuvent être délivrés à la demande.</p>\n\n<p><div class=\"wp-caption aligncenter\" id=\"attachment_1946\" style=\"width: 310px\"><a href=\"https://techan.fr/images/2015/11/objets_RdL_1.jpg\"><img src=\"https://techan.fr/images/2015/11/objets_RdL_1.jpg\" alt=\"Soutenez le Rêve des Lucioles\" title=\"\" /></a><a href=\"https://techan.fr/images/2015/11/lucioles_objets_2.jpg\"><img src=\"https://techan.fr/images/2015/11/lucioles_objets_2.jpg\" alt=\"lucioles<em>objets</em>2\" title=\"\" /></a> Quelques objets mis en vente par l’association</p>\n\n<p></div> </p>\n\n<p>Le gros projet de <a href=\"http://www.le-reve-des-lucioles.fr/association\">l’association</a> actuellement est l’organisation du Noël des enfants hospitalisés à l’IHOP. Le 25 décembre prochain les bénévoles de l’association passeront une grande partie de la journée avec les enfants qui seront hospitalisés ce jour là, un goûter, des animations et une distribution de cadeaux personnalisés en fonction de l’âge des enfants sont au programme.</p>\n\n<p>Nous avons besoin de votre aide afin de partager et promouvoir la page de l’association afin de la faire connaître et de lui permettre de récolter des fonds pour le financement de tous ses projets. Je vous laisse aller voir <a href=\"http://www.le-reve-des-lucioles.fr/association\">le site de l’association</a>. Et surtout partager un maximum <a href=\"https://www.facebook.com/Le-R%C3%AAve-des-Lucioles-457068287782832/\">la page Facebook et les publications</a> !</p>\n\n<p><strong>Vous pouvez également soutenir <a href=\"http://www.le-reve-des-lucioles.fr/\">Le Rêve des Lucioles</a> en faisant un don ou en achetant des objets mis en vente par l’association. N’hésitez pas à contacter l’association à l’adresse <em><span style=\"text-decoration: underline;\"><a href=\"mailto:contact@le-reve-des-lucioles.fr\">contact@le-reve-des-lucioles.fr</a></span></em> pour toute demande d’information, pour adhérer, pour acheter ou organiser une vente d’objet !</strong></p>","image":"http://blog.techan.fr/images/2015/11/logo_accueil_wide.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-11-13T10:08:02.000Z","created_by":1,"updated_at":"2016-01-25T10:16:21.000Z","updated_by":1,"published_at":"2015-11-13T10:08:02.000Z","published_by":1},{"id":173,"uuid":"c07f2914-737c-4e84-95c9-bea63a7658d8","title":"Accéder à Pluzz.fr et Spotify avec Plex","slug":"acceder-a-pluzz-fr-et-spotify-avec-plex","markdown":"\nIl  ya quelques temps, je suis tombé sur un post sur le forum de la communauté de Plex, dans ce post, un utilisateur présentait un plugin qu’il a réalisé. Celui-ci m’a particulièrement intéressé car il permet d’accéder au replay des chaines du groupes France Télévision – Pluzz.\n\n \n\n![screenshot.565](https://techan.fr/images/2015/06/screenshot.565.jpg)\n\nJ’ai donc entrepris de l’installer. Par ailleurs, j’ai également déniché un plugin pour pouvoir écouter Spotify directement dans Plex !\n\n \n\n\n## Installer le plugin pour Pluzz.fr\n\nVoici la marche à suivre pour installer le plugin permettant d’accéder à Pluzz via Plex. Toutes ces actions sont a réaliser sur la machine qui hébèrge le serveur Plex.\n\nmkdir -p /opt/Plex && cd /opt/Plex git clone https://github.com/lotooo/Pluzz.bundle.git chown -R plex: Pluzz.bundle/ ln -s /opt/Plex/Pluzz.bundle/ /var/lib/plexmediaserver/Library/Application\\ Support/Plex\\ Media\\ Server/Plug-ins/ chown -h plex: /var/lib/plexmediaserver/Library/Application\\ Support/Plex\\ Media\\ Server/Plug-ins/Pluzz.bundle service plexmediaserver restart\n\n \n\nEt voilà !\n\n \n\n[![pluzz_plex](https://techan.fr/images/2015/06/pluzz_plex.jpg)](https://techan.fr/images/2015/06/pluzz_plex.jpg)\n\n \n\n\n## Installer le plugin pour Spotify\n\nDe la même façon que pour Pluzz, voici la marche à suivre pour installer le support de Spotify dans Plex.\n\nmkdir -p /opt/Plex && cd /opt/Plex git clone https://github.com/pablorusso/Spotify2.bundle chown -R plex: Spotify2.bundle/ ln -s /opt/Plex/Spotify2.bundle/ /var/lib/plexmediaserver/Library/Application\\ Support/Plex\\ Media\\ Server/Plug-ins/ chown -h plex: /var/lib/plexmediaserver/Library/Application\\ Support/Plex\\ Media\\ Server/Plug-ins/Spotify2.bundle service plexmediaserver restart\n\n \n\n\n## Sources\n\n- [Plex Bundle](https://github.com/lotooo/Pluzz.bundle)\n- [Spotify Bundle](https://iterando.wordpress.com/2014/06/11/listen-spotify-with-chromecast-and-dlna-using-plex/)\n\n \n\n\n","html":"<p>Il  ya quelques temps, je suis tombé sur un post sur le forum de la communauté de Plex, dans ce post, un utilisateur présentait un plugin qu’il a réalisé. Celui-ci m’a particulièrement intéressé car il permet d’accéder au replay des chaines du groupes France Télévision – Pluzz.</p>\n\n<p><img src=\"https://techan.fr/images/2015/06/screenshot.565.jpg\" alt=\"screenshot.565\" /></p>\n\n<p>J’ai donc entrepris de l’installer. Par ailleurs, j’ai également déniché un plugin pour pouvoir écouter Spotify directement dans Plex !</p>\n\n<h2 id=\"installerlepluginpourpluzzfr\">Installer le plugin pour Pluzz.fr</h2>\n\n<p>Voici la marche à suivre pour installer le plugin permettant d’accéder à Pluzz via Plex. Toutes ces actions sont a réaliser sur la machine qui hébèrge le serveur Plex.</p>\n\n<p>mkdir -p /opt/Plex &amp;&amp; cd /opt/Plex git clone <a href=\"https://github.com/lotooo/Pluzz.bundle.git\">https://github.com/lotooo/Pluzz.bundle.git</a> chown -R plex: Pluzz.bundle/ ln -s /opt/Plex/Pluzz.bundle/ /var/lib/plexmediaserver/Library/Application\\ Support/Plex\\ Media\\ Server/Plug-ins/ chown -h plex: /var/lib/plexmediaserver/Library/Application\\ Support/Plex\\ Media\\ Server/Plug-ins/Pluzz.bundle service plexmediaserver restart</p>\n\n<p>Et voilà !</p>\n\n<p><a href=\"https://techan.fr/images/2015/06/pluzz_plex.jpg\"><img src=\"https://techan.fr/images/2015/06/pluzz_plex.jpg\" alt=\"pluzz_plex\" title=\"\" /></a></p>\n\n<h2 id=\"installerlepluginpourspotify\">Installer le plugin pour Spotify</h2>\n\n<p>De la même façon que pour Pluzz, voici la marche à suivre pour installer le support de Spotify dans Plex.</p>\n\n<p>mkdir -p /opt/Plex &amp;&amp; cd /opt/Plex git clone <a href=\"https://github.com/pablorusso/Spotify2.bundle\">https://github.com/pablorusso/Spotify2.bundle</a> chown -R plex: Spotify2.bundle/ ln -s /opt/Plex/Spotify2.bundle/ /var/lib/plexmediaserver/Library/Application\\ Support/Plex\\ Media\\ Server/Plug-ins/ chown -h plex: /var/lib/plexmediaserver/Library/Application\\ Support/Plex\\ Media\\ Server/Plug-ins/Spotify2.bundle service plexmediaserver restart</p>\n\n<h2 id=\"sources\">Sources</h2>\n\n<ul>\n<li><a href=\"https://github.com/lotooo/Pluzz.bundle\">Plex Bundle</a></li>\n<li><p><a href=\"https://iterando.wordpress.com/2014/06/11/listen-spotify-with-chromecast-and-dlna-using-plex/\">Spotify Bundle</a></p></li>\n</ul>","image":"http://blog.techan.fr/images/2015/06/plex_logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-11-16T12:23:33.000Z","created_by":1,"updated_at":"2016-05-18T09:53:49.000Z","updated_by":1,"published_at":"2015-11-16T12:23:33.000Z","published_by":1},{"id":174,"uuid":"7e025e6d-5b11-4dbf-b557-2fdf100b9447","title":"Problèmes de performance sur VMWare du à du CPU Ready","slug":"problemes-de-performance-sur-vmware-du-a-du-cpu-ready","markdown":"\nVoici une constatation que j’ai faite sur un parc VMware. Depuis plusieurs semaines, les utilisateurs se plaignaient de performances – très – dégradées. Des investigations ont été réalisées au niveau applicatif et il n’en ai pas ressorti pas grand chose … Pas de nouvelles applications, pas de grand chamboulement … Rien qui pourrait impliquer une telle surcharge …\n\nJe me suis penché sur les graphes VMware, et ce que j’ai vu n’était pas glop. Voici le graphe d’activité CPU de la VM qui héberge l’Apache qui gère l’authentification des utilisateurs sur les applications et l’accès de ces utilisateurs aux-dites application. On voit tout de suite l’heure à laquelle les gens ont ressenti des problèmes de performances, plus ou moins à partir de 15h lorsque le « Ready » est monté en flèche.  \n On constatait ce même phénomène sur plusieurs autres VMs centrales dans l’architecture applicative.\n\n \n\n\n## Manifestations du problème de performances\n\nDans l’image ci-dessous, on voit tout à fait que la VM passe son temps a attendre que l’hyperviseur lui donne accès au CPU de l’hôte physique. Son utilisation de CPU est bridée par cette attente.\n\n[![Problèmes de performance sur VMWare du à du CPU Ready](https://techan.fr/images/2015/11/http_graphe_CPU.png)](https://techan.fr/images/2015/11/http_graphe_CPU.png)\n\nMaintenant, voici comment est composé le parc VMware en Production :\n\n- 2 ESXi Dell R720 (2 Xeon à 8 cœurs soit 16 cœurs sur chaque)\n- 2 ESXi Dell R710 (2 Xeon à 6 cœurs soit 12 cœurs sur chaque)\n\nLa cible finale est un cluster de 3 R720.\n\n[![Problèmes de performance sur VMWare du à du CPU Ready](https://techan.fr/images/2015/11/cluster_CPU.png)](https://techan.fr/images/2015/11/cluster_CPU.png)\n\nOn constate que les hôtes ne sont pas surchargés au niveau CPU, d’autre part, DRS ne donne aucun conseil pour améliorer les performances.\n\n \n\n\n## Le CPU Ready dans VMware\n\n \n\nJe crois qu’il est temps maintenant d’expliciter un tantinet ce qu’est le CPU Ready dans VMware. Lorsque qu’une, dotée par exemple de 4 vCPU, fait un appel CPU à l’hyperviseur, ce dernier lui réserve 4 coeurs sur l’hôte et ce même si l’appel de la VM de demandait qu’un seul coeur. Les machines physiques présentent dans le cluster cité en exemple ont au mieux 16 – au pire 12 – coeurs physiques. Donc notre VM avec 4 vCPU doit attendre qu’un quart des coerus de la machine soient libres pour pouvoir exécuter ses instructions. Imaginez maintenant une VM qui aurait 8 vCPU, car il y en avait également dans cette infrastructure …\n\n<span style=\"text-decoration: underline;\">**Note :**</span> Il est conseillé de ne mettre qu’un ou deux vCPU par VM pour éviter ce phénomène, sauf cas très spécifique.\n\nVoici ce que disent les Best Practices de VMware – voire le lien dans les sources page 19-20.\n\n> Configuring a virtual machine with more virtual CPUs (vCPUs) than its workload can use might cause slightly increased resource usage, potentially impacting performance on very heavily loaded systems. Common examples of this include a single-threaded workload running in a multiple-vCPU virtual machine or a multi-threaded workload in a virtual machine with more vCPUs than the workload can effectively use.\n> \n> Even if the guest operating system doesn’t use some of its vCPUs, configuring virtual machines with those vCPUs still imposes some small resource requirements on ESXi that translate to real CPU consumption on the host. For example:\n> \n> Unused vCPUs still consume timer interrupts in some guest operating systems. (Though this is not true with “tickless timer” kernels, described in “Guest Operating System CPU Considerations” on page 39.)\n> \n> Maintaining a consistent memory view among multiple vCPUs can consume additional resources, both in the guest operating system and in ESXi. (Though hardware-assisted MMU virtualization significantly reduces this cost.)\n> \n> Most guest operating systems execute an idle loop during periods of inactivity. Within this loop, most of these guest operating systems halt by executing the HLT or MWAIT instructions. Some older guest operating systems (including Windows 2000 (with certain HALs), Solaris 8 and 9, and MS-DOS), however, use busy-waiting within their idle loops. This results in the consumption of resources that might otherwise be available for other uses (other virtual machines, the VMkernel, and so on).\n> \n> ESXi automatically detects these loops and de-schedules the idle vCPU. Though this reduces the CPU > overhead, it can also reduce the performance of some I/O-heavy workloads. For additional information see VMware KB articles 1077 and 2231.\n> \n> The guest operating system’s scheduler might migrate a single-threaded workload amongst multiple vCPUs, thereby losing cache locality.\n> \n> These resource requirements translate to real CPU consumption on the host.\n\nJ’ai trouvé un script PowerSHELL utilisant PowerCLI – vous trouverez un lien dans les Sources – qui calcule l’OverCommitment en terme de CPU, voici le résultats lors de mes constatations.\n\n[![Problèmes de performance sur VMWare du à du CPU Ready](https://techan.fr/images/2015/11/cpu_overcommit.png)](https://techan.fr/images/2015/11/cpu_overcommit.png)\n\nLa majorité des VMs « à problèmes » qui se trouvent être les plus critiques évidement se trouvaient sur l’hôte 1. La majorité des VMs dans le cluster PROD ont 4 vCPU, certaines en avaient même 8.\n\nFort de ces constations, j’ai donc testé de déplacer l’une des VMs qui rencontrait des problème de performance sur l’hôte 5 qui est bien moins chargé. Le résultat a été sans appel, et les utilisateurs se sont moins plaints …\n\n[![Problèmes de performance sur VMWare du à du CPU Ready](https://techan.fr/images/2015/11/dcts_graphe_CPU.png)](https://techan.fr/images/2015/11/dcts_graphe_CPU.png)\n\nOn a donc entrepris de réduire le nombre de vCPU alloués en baissant le nombre de vCPU sur les VMs, on a ainsi gagné 35 vCPU en passant des VMs de 4 à 2 ou de 8 à 2.\n\n[![Problèmes de performance sur VMWare du à du CPU Ready](https://techan.fr/images/2015/11/cpu_overcommit_2.png)](https://techan.fr/images/2015/11/cpu_overcommit_2.png)\n\nJ’ai également déplacé la VM http – dont on a vu le graphe tout au début – sur un hôte moins chargé, l’ESXi 5. J’ai fait le déplacement aux alentours de 11h ce jour là, voici le résultat :\n\n[![Problèmes de performance sur VMWare du à du CPU Ready](https://techan.fr/images/2015/11/http_graphe_CPU_2.png)](https://techan.fr/images/2015/11/http_graphe_CPU_2.png)\n\nAprès cette action, l’équipe du support informatique n’a reçu aucun appel d’utilisateur rencontrant des problèmes de performances, alors qu’habituellement la pire période de la journée commence vers 15h.\n\n \n\n\n## Sources\n\n- [Dépot GitHub contenant les script PowerCLI](https://github.com/MathieuBuisson/Powershell-VMware.git)\n- [Performance Best Practices for VMware vSphere™ 5.0](http://www.vmware.com/pdf/Perf_Best_Practices_vSphere5.0.pdf)\n\n\n","html":"<p>Voici une constatation que j’ai faite sur un parc VMware. Depuis plusieurs semaines, les utilisateurs se plaignaient de performances – très – dégradées. Des investigations ont été réalisées au niveau applicatif et il n’en ai pas ressorti pas grand chose … Pas de nouvelles applications, pas de grand chamboulement … Rien qui pourrait impliquer une telle surcharge …</p>\n\n<p>Je me suis penché sur les graphes VMware, et ce que j’ai vu n’était pas glop. Voici le graphe d’activité CPU de la VM qui héberge l’Apache qui gère l’authentification des utilisateurs sur les applications et l’accès de ces utilisateurs aux-dites application. On voit tout de suite l’heure à laquelle les gens ont ressenti des problèmes de performances, plus ou moins à partir de 15h lorsque le « Ready » est monté en flèche. <br />\n On constatait ce même phénomène sur plusieurs autres VMs centrales dans l’architecture applicative.</p>\n\n<h2 id=\"manifestationsduproblmedeperformances\">Manifestations du problème de performances</h2>\n\n<p>Dans l’image ci-dessous, on voit tout à fait que la VM passe son temps a attendre que l’hyperviseur lui donne accès au CPU de l’hôte physique. Son utilisation de CPU est bridée par cette attente.</p>\n\n<p><a href=\"https://techan.fr/images/2015/11/http_graphe_CPU.png\"><img src=\"https://techan.fr/images/2015/11/http_graphe_CPU.png\" alt=\"Problèmes de performance sur VMWare du à du CPU Ready\" title=\"\" /></a></p>\n\n<p>Maintenant, voici comment est composé le parc VMware en Production :</p>\n\n<ul>\n<li>2 ESXi Dell R720 (2 Xeon à 8 cœurs soit 16 cœurs sur chaque)</li>\n<li>2 ESXi Dell R710 (2 Xeon à 6 cœurs soit 12 cœurs sur chaque)</li>\n</ul>\n\n<p>La cible finale est un cluster de 3 R720.</p>\n\n<p><a href=\"https://techan.fr/images/2015/11/cluster_CPU.png\"><img src=\"https://techan.fr/images/2015/11/cluster_CPU.png\" alt=\"Problèmes de performance sur VMWare du à du CPU Ready\" title=\"\" /></a></p>\n\n<p>On constate que les hôtes ne sont pas surchargés au niveau CPU, d’autre part, DRS ne donne aucun conseil pour améliorer les performances.</p>\n\n<h2 id=\"lecpureadydansvmware\">Le CPU Ready dans VMware</h2>\n\n<p>Je crois qu’il est temps maintenant d’expliciter un tantinet ce qu’est le CPU Ready dans VMware. Lorsque qu’une, dotée par exemple de 4 vCPU, fait un appel CPU à l’hyperviseur, ce dernier lui réserve 4 coeurs sur l’hôte et ce même si l’appel de la VM de demandait qu’un seul coeur. Les machines physiques présentent dans le cluster cité en exemple ont au mieux 16 – au pire 12 – coeurs physiques. Donc notre VM avec 4 vCPU doit attendre qu’un quart des coerus de la machine soient libres pour pouvoir exécuter ses instructions. Imaginez maintenant une VM qui aurait 8 vCPU, car il y en avait également dans cette infrastructure …</p>\n\n<p><span style=\"text-decoration: underline;\"><strong>Note :</strong></span> Il est conseillé de ne mettre qu’un ou deux vCPU par VM pour éviter ce phénomène, sauf cas très spécifique.</p>\n\n<p>Voici ce que disent les Best Practices de VMware – voire le lien dans les sources page 19-20.</p>\n\n<blockquote>\n  <p>Configuring a virtual machine with more virtual CPUs (vCPUs) than its workload can use might cause slightly increased resource usage, potentially impacting performance on very heavily loaded systems. Common examples of this include a single-threaded workload running in a multiple-vCPU virtual machine or a multi-threaded workload in a virtual machine with more vCPUs than the workload can effectively use.</p>\n  \n  <p>Even if the guest operating system doesn’t use some of its vCPUs, configuring virtual machines with those vCPUs still imposes some small resource requirements on ESXi that translate to real CPU consumption on the host. For example:</p>\n  \n  <p>Unused vCPUs still consume timer interrupts in some guest operating systems. (Though this is not true with “tickless timer” kernels, described in “Guest Operating System CPU Considerations” on page 39.)</p>\n  \n  <p>Maintaining a consistent memory view among multiple vCPUs can consume additional resources, both in the guest operating system and in ESXi. (Though hardware-assisted MMU virtualization significantly reduces this cost.)</p>\n  \n  <p>Most guest operating systems execute an idle loop during periods of inactivity. Within this loop, most of these guest operating systems halt by executing the HLT or MWAIT instructions. Some older guest operating systems (including Windows 2000 (with certain HALs), Solaris 8 and 9, and MS-DOS), however, use busy-waiting within their idle loops. This results in the consumption of resources that might otherwise be available for other uses (other virtual machines, the VMkernel, and so on).</p>\n  \n  <p>ESXi automatically detects these loops and de-schedules the idle vCPU. Though this reduces the CPU > overhead, it can also reduce the performance of some I/O-heavy workloads. For additional information see VMware KB articles 1077 and 2231.</p>\n  \n  <p>The guest operating system’s scheduler might migrate a single-threaded workload amongst multiple vCPUs, thereby losing cache locality.</p>\n  \n  <p>These resource requirements translate to real CPU consumption on the host.</p>\n</blockquote>\n\n<p>J’ai trouvé un script PowerSHELL utilisant PowerCLI – vous trouverez un lien dans les Sources – qui calcule l’OverCommitment en terme de CPU, voici le résultats lors de mes constatations.</p>\n\n<p><a href=\"https://techan.fr/images/2015/11/cpu_overcommit.png\"><img src=\"https://techan.fr/images/2015/11/cpu_overcommit.png\" alt=\"Problèmes de performance sur VMWare du à du CPU Ready\" title=\"\" /></a></p>\n\n<p>La majorité des VMs « à problèmes » qui se trouvent être les plus critiques évidement se trouvaient sur l’hôte 1. La majorité des VMs dans le cluster PROD ont 4 vCPU, certaines en avaient même 8.</p>\n\n<p>Fort de ces constations, j’ai donc testé de déplacer l’une des VMs qui rencontrait des problème de performance sur l’hôte 5 qui est bien moins chargé. Le résultat a été sans appel, et les utilisateurs se sont moins plaints …</p>\n\n<p><a href=\"https://techan.fr/images/2015/11/dcts_graphe_CPU.png\"><img src=\"https://techan.fr/images/2015/11/dcts_graphe_CPU.png\" alt=\"Problèmes de performance sur VMWare du à du CPU Ready\" title=\"\" /></a></p>\n\n<p>On a donc entrepris de réduire le nombre de vCPU alloués en baissant le nombre de vCPU sur les VMs, on a ainsi gagné 35 vCPU en passant des VMs de 4 à 2 ou de 8 à 2.</p>\n\n<p><a href=\"https://techan.fr/images/2015/11/cpu_overcommit_2.png\"><img src=\"https://techan.fr/images/2015/11/cpu_overcommit_2.png\" alt=\"Problèmes de performance sur VMWare du à du CPU Ready\" title=\"\" /></a></p>\n\n<p>J’ai également déplacé la VM http – dont on a vu le graphe tout au début – sur un hôte moins chargé, l’ESXi 5. J’ai fait le déplacement aux alentours de 11h ce jour là, voici le résultat :</p>\n\n<p><a href=\"https://techan.fr/images/2015/11/http_graphe_CPU_2.png\"><img src=\"https://techan.fr/images/2015/11/http_graphe_CPU_2.png\" alt=\"Problèmes de performance sur VMWare du à du CPU Ready\" title=\"\" /></a></p>\n\n<p>Après cette action, l’équipe du support informatique n’a reçu aucun appel d’utilisateur rencontrant des problèmes de performances, alors qu’habituellement la pire période de la journée commence vers 15h.</p>\n\n<h2 id=\"sources\">Sources</h2>\n\n<ul>\n<li><a href=\"https://github.com/MathieuBuisson/Powershell-VMware.git\">Dépot GitHub contenant les script PowerCLI</a></li>\n<li><a href=\"http://www.vmware.com/pdf/Perf_Best_Practices_vSphere5.0.pdf\">Performance Best Practices for VMware vSphere™ 5.0</a></li>\n</ul>","image":"http://blog.techan.fr/images/2015/01/vmware_vsphere_client_high_def_icon_by_flakshack-d4o96dy.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-11-17T12:23:02.000Z","created_by":1,"updated_at":"2015-11-17T13:22:20.000Z","updated_by":1,"published_at":"2015-11-17T12:23:02.000Z","published_by":1},{"id":175,"uuid":"2df358b5-91cb-420b-aa5c-51427b2e47e3","title":"Protégez votre vie privée avec OpenVPN sur Docker","slug":"temp-slug-173","markdown":"\nLa lutte pour protéger sa vie privée sur Internet est de plus en plus compliquée car les entreprises intéressées par votre vie sont de plus en plus nombreuses et agressives pour tout savoir sur vous.\n\nDe plus le premier mouchard est votre téléphone portable, grâce à lui, énormément d’informations peuvent être collectées à votre insu. Lorsque vous naviguez sur Internet avec votre petit bijoux de technologie, votre opérateur est le premier à savoir les sites que vous visitez, la fréquence à laquelle vous les consultez, etc … Par ailleurs, votre opérateur mobile, comme votre fournisseur d’accès à Internet peut choisir de brider certains services – comme Youtube – afin de préserver la qualité de son réseau.\n\nSachez que ces deux mécanismes peuvent être évités en utilisant un VPN. Le VPN est un mécanisme qui permet de créer un tunnel entre deux points sur Internet. Dans notre cas, le tunnel serait ouvert entre votre téléphone et la machine qui héberge votre serveur OpenVPN. Toutes vos connexions à Internet passeront ensuite dans ce tunnel et seront, de ce fait, invisibles par votre opérateur.\n\n\n","html":"<p>La lutte pour protéger sa vie privée sur Internet est de plus en plus compliquée car les entreprises intéressées par votre vie sont de plus en plus nombreuses et agressives pour tout savoir sur vous.</p>\n\n<p>De plus le premier mouchard est votre téléphone portable, grâce à lui, énormément d’informations peuvent être collectées à votre insu. Lorsque vous naviguez sur Internet avec votre petit bijoux de technologie, votre opérateur est le premier à savoir les sites que vous visitez, la fréquence à laquelle vous les consultez, etc … Par ailleurs, votre opérateur mobile, comme votre fournisseur d’accès à Internet peut choisir de brider certains services – comme Youtube – afin de préserver la qualité de son réseau.</p>\n\n<p>Sachez que ces deux mécanismes peuvent être évités en utilisant un VPN. Le VPN est un mécanisme qui permet de créer un tunnel entre deux points sur Internet. Dans notre cas, le tunnel serait ouvert entre votre téléphone et la machine qui héberge votre serveur OpenVPN. Toutes vos connexions à Internet passeront ensuite dans ce tunnel et seront, de ce fait, invisibles par votre opérateur.</p>","image":"http://blog.techan.fr/images/2015/11/docker_plus_openvpn.png","featured":0,"page":0,"status":"draft","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-11-17T16:03:10.000Z","created_by":1,"updated_at":"2015-11-17T16:03:10.000Z","updated_by":1,"published_at":"0000-00-00 00:00:00","published_by":1},{"id":176,"uuid":"2d105984-1e3a-47fd-978e-7c145f793f26","title":"Exporter les mails d'un fichier PST sur Ubuntu","slug":"exporter-mails-dun-fichier-pst-ubuntu","markdown":"\nLa migration des mails d’Outlook vers Thunderbird est un des problèmes que l’on rencontre lorsque l’on souhaite passer sur Linux. En effet pour ne pas avoir a re-télécharger tous les mails stockés sur le serveur, ou tout simplement car les mails stockés en local n’existent plus sur le-dit serveur, on est tenté de vouloir importer ses mails stockés dans Outlook. Sur Windows, cette migration d’Outlook vers Thunderbird semble très simplifiée car ce dernier propose l’importation lors de son installation et qu’il embarque les outils nécessaires. Sur Linux, s’est une autre paire de manches, ce n’est pas possible sans utiliser un programme spécial.\n\n \n\nC’est après quelques recherches plutôt acharnées que j’ai trouvé ce programme magique ! Je vais vous décrire comment vous y prendre pour extraire vos mails des fichiers PST d’Outlook et les importer dans Thunderbrid.\n\n\n## Exporter les mails stockés dans un fichier PST\n\nCommençons par le commencement, il faut installer le programme magique ! ![:)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\nsudo aptitude install readpst\n\n \n\nEnsuite, on créer un dossier ou seront stockés les mails exportés et on lance la moulinette.\n\nmkdir 2014 readpst -D -M -b -e -o 2014 /media/raphael/Aldata/Outlook/2014.pst\n\n \n\nVoici la sortie écran que génère cette opération.\n\n[![Exporter les mails d'un fichier PST sur Ubuntu](https://techan.fr/images/2015/11/avancement-export.png)](https://techan.fr/images/2015/11/avancement-export.png)\n\n \n\n\n## Importer les mails exportés dans Thunderbird\n\n \n\nTout d’abord, il vous faudra installer le plugin Kivabien – [ImportExportTools](https://addons.mozilla.org/fr/thunderbird/addon/importexporttools/) – dans Thunderbird.\n\nUne fois ce prérequis installé, rien n’est plus simple, faites un clic droit sur le dossier dans lequel vous souhaitez que les mails soient importés et suivez les options suivantes.\n\n \n\n1. Importer / Exporter au format « .mbox »/ ».eml »\n2. Importer tous les fichiers « .eml » depuis un dossier\n3. aussi depuis les sous-dossiers\n\n \n\n[![importer_les_messages](https://techan.fr/images/2015/11/importer_les_messages.png)](https://techan.fr/images/2015/11/importer_les_messages.png)\n\nL’opération prend …. longtemps … mais tout fonctionne au poil !\n\n \n\n\n## Sources\n\n- [askubuntu.com (Anglais)](http://askubuntu.com/questions/264368/how-to-integrate-outlook-2003-pst-file-to-thunderbird)\n- [Addon ImportExportTools](https://addons.mozilla.org/fr/thunderbird/addon/importexporttools/)\n\n\n","html":"<p>La migration des mails d’Outlook vers Thunderbird est un des problèmes que l’on rencontre lorsque l’on souhaite passer sur Linux. En effet pour ne pas avoir a re-télécharger tous les mails stockés sur le serveur, ou tout simplement car les mails stockés en local n’existent plus sur le-dit serveur, on est tenté de vouloir importer ses mails stockés dans Outlook. Sur Windows, cette migration d’Outlook vers Thunderbird semble très simplifiée car ce dernier propose l’importation lors de son installation et qu’il embarque les outils nécessaires. Sur Linux, s’est une autre paire de manches, ce n’est pas possible sans utiliser un programme spécial.</p>\n\n<p>C’est après quelques recherches plutôt acharnées que j’ai trouvé ce programme magique ! Je vais vous décrire comment vous y prendre pour extraire vos mails des fichiers PST d’Outlook et les importer dans Thunderbrid.</p>\n\n<h2 id=\"exporterlesmailsstocksdansunfichierpst\">Exporter les mails stockés dans un fichier PST</h2>\n\n<p>Commençons par le commencement, il faut installer le programme magique ! <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":)\" title=\"\" /></p>\n\n<p>sudo aptitude install readpst</p>\n\n<p>Ensuite, on créer un dossier ou seront stockés les mails exportés et on lance la moulinette.</p>\n\n<p>mkdir 2014 readpst -D -M -b -e -o 2014 /media/raphael/Aldata/Outlook/2014.pst</p>\n\n<p>Voici la sortie écran que génère cette opération.</p>\n\n<p><a href=\"https://techan.fr/images/2015/11/avancement-export.png\"><img src=\"https://techan.fr/images/2015/11/avancement-export.png\" alt=\"Exporter les mails d'un fichier PST sur Ubuntu\" title=\"\" /></a></p>\n\n<h2 id=\"importerlesmailsexportsdansthunderbird\">Importer les mails exportés dans Thunderbird</h2>\n\n<p>Tout d’abord, il vous faudra installer le plugin Kivabien – <a href=\"https://addons.mozilla.org/fr/thunderbird/addon/importexporttools/\">ImportExportTools</a> – dans Thunderbird.</p>\n\n<p>Une fois ce prérequis installé, rien n’est plus simple, faites un clic droit sur le dossier dans lequel vous souhaitez que les mails soient importés et suivez les options suivantes.</p>\n\n<ol>\n<li>Importer / Exporter au format « .mbox »/ ».eml »  </li>\n<li>Importer tous les fichiers « .eml » depuis un dossier  </li>\n<li><p>aussi depuis les sous-dossiers</p></li>\n</ol>\n\n<p><a href=\"https://techan.fr/images/2015/11/importer_les_messages.png\"><img src=\"https://techan.fr/images/2015/11/importer_les_messages.png\" alt=\"importer<em>les</em>messages\" title=\"\" /></a></p>\n\n<p>L’opération prend …. longtemps … mais tout fonctionne au poil !</p>\n\n<h2 id=\"sources\">Sources</h2>\n\n<ul>\n<li><a href=\"http://askubuntu.com/questions/264368/how-to-integrate-outlook-2003-pst-file-to-thunderbird\">askubuntu.com (Anglais)</a></li>\n<li><a href=\"https://addons.mozilla.org/fr/thunderbird/addon/importexporttools/\">Addon ImportExportTools</a></li>\n</ul>","image":"http://blog.techan.fr/images/2015/04/Ubuntu_Logo.gif","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-11-19T09:55:28.000Z","created_by":1,"updated_at":"2015-11-25T11:49:04.000Z","updated_by":1,"published_at":"2015-11-19T09:55:28.000Z","published_by":1},{"id":177,"uuid":"fee63704-4534-440e-a8bc-279b1e9df3f4","title":"Héberger un serveur Minecraft Portable Edition","slug":"heberger-un-serveur-minecraft-portable-edition","markdown":"\n \n\nhttp://pocketmine-mp.readthedocs.org/en/latest/installation.html#using-phar\n\n \n\nhttp://www.pocketmine.net\n\n \n\nhttps://github.com/ImagicalCorp/PocketMine-0.13.0\n\n \n\nhttps://github.com/ImagicalCorp/PocketMine-0.13.0/releases/download/PM-1.7dev%23323/PocketMine-MP_0.13.0dev.323.phar\n\n \n\n \n\n\n","html":"<p><a href=\"http://pocketmine-mp.readthedocs.org/en/latest/installation.html#using-phar\">http://pocketmine-mp.readthedocs.org/en/latest/installation.html#using-phar</a></p>\n\n<p><a href=\"http://www.pocketmine.net\">http://www.pocketmine.net</a></p>\n\n<p><a href=\"https://github.com/ImagicalCorp/PocketMine-0.13.0\">https://github.com/ImagicalCorp/PocketMine-0.13.0</a></p>\n\n<p><a href=\"https://github.com/ImagicalCorp/PocketMine-0.13.0/releases/download/PM-1.7dev%23323/PocketMine-MP_0.13.0dev.323.phar\">https://github.com/ImagicalCorp/PocketMine-0.13.0/releases/download/PM-1.7dev%23323/PocketMine-MP_0.13.0dev.323.phar</a></p>","image":null,"featured":0,"page":0,"status":"draft","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-12-02T09:46:52.000Z","created_by":1,"updated_at":"2015-12-02T09:46:52.000Z","updated_by":1,"published_at":"0000-00-00 00:00:00","published_by":1},{"id":178,"uuid":"4ee9cf77-7b9f-4648-90f1-39cefad73c21","title":"Administration de Postfix","slug":"administration-de-postfix","markdown":"\n \n\npostqueue -p\n\n \n\npostsuper -d ALL\n\n \n\nmailq | tail +2 | grep -v ‘^ *(‘ | awk  ‘BEGIN { RS = «  » } { if ($8 == « root@localhost.localdomain » && $9 == «  ») print $1 } ‘ | tr -d ‘*!’\n\n \n\n \n\n\n## Sources\n\n[www.tech-g.com (Anglais)](http://www.tech-g.com/2012/07/15/inspecting-postfixs-email-queue/)\n\n \n\n \n\n\n","html":"<p>postqueue -p</p>\n\n<p>postsuper -d ALL</p>\n\n<p>mailq | tail +2 | grep -v ‘^ <em>(‘ | awk  ‘BEGIN { RS = «  » } { if ($8 <mark> « root@localhost.localdomain » &amp;&amp; $9 </mark> «  ») print $1 } ‘ | tr -d ‘</em>!’</p>\n\n<h2 id=\"sources\">Sources</h2>\n\n<p><a href=\"http://www.tech-g.com/2012/07/15/inspecting-postfixs-email-queue/\">www.tech-g.com (Anglais)</a></p>","image":null,"featured":0,"page":0,"status":"draft","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-12-17T14:56:33.000Z","created_by":1,"updated_at":"2015-12-17T14:56:33.000Z","updated_by":1,"published_at":"0000-00-00 00:00:00","published_by":1},{"id":179,"uuid":"dc003382-c0b2-40dc-b87c-8c965aee4afd","title":"Monter un VPN automatiquement lorsqu'une application est lancée sur Windows","slug":"monter-un-vpn-automatiquement-lorsquune-application-est-lancee-sur-windows","markdown":"\nVoici une petite astuce qui permet de faire en sorte que Windows monte une tunnel VPN lorsqu’une application est démarrée. Dans mon cas, pour que je puisse consulter mes emails professionnels, il faut d’abord que je monte le VPN de la société puis que je lance Outlook. PowerShell permet de « masquer » l’étape de connexion au VPN. J’ai donc cherché – et trouvé – comment monter un VPN automatiquement lorsqu’une application est lancée sur Windows, maintenant, lorsque je clique sur l’icône d’Outlook, le VPN se connecte s’il ne l’était pas déjà.\n\nIl suffit d’une seule commande PowerShell pour faire cela !\n\nTout d’abord, fermez Outlook et déconnectez votre connexion VPN puis ouvrez un terminal PowerShell et identifiez le nom de votre connexion VPN avec la commande suivante.\n\nPS C:\\Users\\Raphael> Get-VpnConnection Name : MaConnexionVPN ServerAddress : vpn.example.com AllUserConnection : False Guid : {F91D7D95-C168-459D-ABE6-6EA2C856A2E6} TunnelType : Automatic AuthenticationMethod : {Chap, MsChapv2, Pap} EncryptionLevel : Optional L2tpIPsecAuth : Certificate UseWinlogonCredential : False EapConfigXmlStream : ConnectionStatus : Connected RememberCredential : True SplitTunneling : True DnsSuffix : IdleDisconnectSeconds : 0\n\n \n\nDans cet exemple, ma connexion VPN s’appelle « MaConnexionVPN ».\n\nEt voilà, vous n’avez plus qu’a ajouter le trigger à votre Windows avec la commande qui suit.\n\nPS C:\\Users\\Raphael> Add-VPNConnectionTriggerApplication -Name \"MaConnexionVPN\" -ApplicationID \"C:\\Program Files\\Microsoft Office 15\\root\\office15\\OUTLOOK.EXE\" -Passthru ConnectionName : MaConnexionVPN ApplicationID : {C:\\Program Files\\Microsoft Office 15\\root\\office15\\OUTLOOK.EXE}\n\n \n\nÉvidement, il vous faudra peut être ajuster le chemin vers le binaire d’Outlook.\n\nMaintenant, place à la magie, démarrez Outlook et admirez !\n\n \n\n\n## Source\n\n- [technet.microsoft.com](ttps://technet.microsoft.com/fr-fr/library/dn296460%28v=wps.630%29.aspx)\n\n\n","html":"<p>Voici une petite astuce qui permet de faire en sorte que Windows monte une tunnel VPN lorsqu’une application est démarrée. Dans mon cas, pour que je puisse consulter mes emails professionnels, il faut d’abord que je monte le VPN de la société puis que je lance Outlook. PowerShell permet de « masquer » l’étape de connexion au VPN. J’ai donc cherché – et trouvé – comment monter un VPN automatiquement lorsqu’une application est lancée sur Windows, maintenant, lorsque je clique sur l’icône d’Outlook, le VPN se connecte s’il ne l’était pas déjà.</p>\n\n<p>Il suffit d’une seule commande PowerShell pour faire cela !</p>\n\n<p>Tout d’abord, fermez Outlook et déconnectez votre connexion VPN puis ouvrez un terminal PowerShell et identifiez le nom de votre connexion VPN avec la commande suivante.</p>\n\n<p>PS C:\\Users\\Raphael> Get-VpnConnection Name : MaConnexionVPN ServerAddress : vpn.example.com AllUserConnection : False Guid : {F91D7D95-C168-459D-ABE6-6EA2C856A2E6} TunnelType : Automatic AuthenticationMethod : {Chap, MsChapv2, Pap} EncryptionLevel : Optional L2tpIPsecAuth : Certificate UseWinlogonCredential : False EapConfigXmlStream : ConnectionStatus : Connected RememberCredential : True SplitTunneling : True DnsSuffix : IdleDisconnectSeconds : 0</p>\n\n<p>Dans cet exemple, ma connexion VPN s’appelle « MaConnexionVPN ».</p>\n\n<p>Et voilà, vous n’avez plus qu’a ajouter le trigger à votre Windows avec la commande qui suit.</p>\n\n<p>PS C:\\Users\\Raphael> Add-VPNConnectionTriggerApplication -Name \"MaConnexionVPN\" -ApplicationID \"C:\\Program Files\\Microsoft Office 15\\root\\office15\\OUTLOOK.EXE\" -Passthru ConnectionName : MaConnexionVPN ApplicationID : {C:\\Program Files\\Microsoft Office 15\\root\\office15\\OUTLOOK.EXE}</p>\n\n<p>Évidement, il vous faudra peut être ajuster le chemin vers le binaire d’Outlook.</p>\n\n<p>Maintenant, place à la magie, démarrez Outlook et admirez !</p>\n\n<h2 id=\"source\">Source</h2>\n\n<ul>\n<li><a href=\"ttps://technet.microsoft.com/fr-fr/library/dn296460%28v=wps.630%29.aspx\">technet.microsoft.com</a></li>\n</ul>","image":"http://blog.techan.fr/images/2015/06/powershell-logo.jpg","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-12-24T10:55:18.000Z","created_by":1,"updated_at":"2015-12-24T10:55:18.000Z","updated_by":1,"published_at":"2015-12-24T10:55:18.000Z","published_by":1},{"id":180,"uuid":"9473792f-e96d-4023-ad47-d5e0c46cbd18","title":"Importer des utilisateurs Active Directory dans iTop","slug":"importer-des-utilisateurs-active-directory-dans-itop","markdown":"\nIl y a très longtemps, j’ai déjà parlé de la mise en place de l’authentification via l’Active Directory dans iTop – voir [[iTop] Configuration de l’authentification Active Directory](https://techan.fr/itop-configuration-de-lauthentification-active-directory/) – aujourd’hui, je vous propose d’aller un peu plus loin en important les comptes Active Directory dans iTop. Ceci permet de ne plus avoir a créer les comptes utilisateurs et les contacts associés lorsque l’authentification Active Directory est activée. Croyez moi, c’est un gain de temps énorme ![:-)](http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png)\n\n \n\n\n## Passons à l’action !\n\nTout d’abord, il faut récupérer le script ([ici](http://www.combodo.com/documentation/AD_import_accounts.txt)) développé par [Combodo](http://www.combodo.com/) – l’éditeur d’iTop – et le placer dans le dossier **<ITOP_Directory>/webservices**. Partons du principe que vous l’appellerez : **AD_<span class=\"search_hit\">import</span>_accounts.php.**\n\n \n\nUne fois le script en place, éditez le. La partie à configurer se trouve tout au début.\n\n//////////////////////////////////////////////////////////////////////////////// // Configuration parameters: adjust them to connect to your AD server // And configure the mapping between AD groups and iTop profiles $aConfig = array( // Configuration of the Active Directory connection 'host' => '<AD Server IP ou DNS>', // IP or FQDN of your domain controller 'port' => '389', // LDAP port, 398=LDAP, 636= LDAPS 'dn' => 'DC=<EXAMPLE>,DC=<COM>', // Domain DN 'username' => '<DOMAIN>\\\\<UTILISATEUR>', // username with read access 'password' => '<MOT DE PASSE>', // password for above // Query to retrieve and filter the users from AD // Example: retrieve all users from the AD Group \"iTop Users\" //'ldap_query' => '(&(objectCategory=user)(memberOf=OU=__Internal Users__TeamWork,DC=twm,DC=ch))', // Example 2: retrieves ALL the users from AD 'ldap_query' => '(&(objectCategory=user))', // Retrieve all users // Which field to use as the iTop login samaccountname or userprincipalname ? 'login' => 'samaccountname', //'login' => 'userprincipalname', // Mapping between the AD groups and the iTop profiles 'profiles_mapping' => array( //AD Group Name => iTop Profile Name //'Administrators' => 'Administrator', ), // Since each iTop user must have at least one profile, assign the profile // Below to users for which there was no match in the above mapping 'default_profile' => 'Portal user', 'default_language' => 'EN US', // Default language for creating new users 'default_organization' => <ID de l'organisation dans laquelle créer les utilisateurs>, // ID of the default organization for creating new contacts ); // End of configuration\n\n \n\nEt voilà, tout devrait être OK, maintenant, vous n’avez plus qu’à lancer le script soit directement en ligne de commande :\n\nphp -q AD_import_accounts.php --auth_user=<iTop_admin_user> --auth_pwd=<iTop_admin_pwd>\n\nVous pouvez également le lancer depuis votre navigateur Web, le résultat est bien plus sympa de cette façon. Pour cela il suffit d’ouvrir l’URL suivante :\n\nhttp://itop.example.com/webservices/AD_import_accounts.php\n\n \n\nPar défaut ce script fonctionne en mode « Dry Run », rien ne sera donc créé ou modifié dans votre iTop. Pour que le script réalise les modifications, il faut ajouter un paramètre à la ligne de commande ou dans l’URL.\n\n- php -q AD_import_accounts.php --auth_user=<iTop_admin_user> --auth_pwd=<iTop_admin_pwd> --simulation=0\n- http://itop.example.com/webservices/AD_import_accounts.php?simulation=0\n\n \n\n\n## Sources\n\n- [wiki.openitop.org (Anglais)](https://wiki.openitop.org/doku.php?id=active_directory_integration&s[]=active&s[]=directory&s[]=import)\n\n\n","html":"<p>Il y a très longtemps, j’ai déjà parlé de la mise en place de l’authentification via l’Active Directory dans iTop – voir <a href=\"https://techan.fr/itop-configuration-de-lauthentification-active-directory/\">[iTop] Configuration de l’authentification Active Directory</a> – aujourd’hui, je vous propose d’aller un peu plus loin en important les comptes Active Directory dans iTop. Ceci permet de ne plus avoir a créer les comptes utilisateurs et les contacts associés lorsque l’authentification Active Directory est activée. Croyez moi, c’est un gain de temps énorme <img src=\"http://blog.techan.fr/wp-includes/images/smilies/simple-smile.png\" alt=\":-)\" title=\"\" /></p>\n\n<h2 id=\"passonslaction\">Passons à l’action !</h2>\n\n<p>Tout d’abord, il faut récupérer le script (<a href=\"http://www.combodo.com/documentation/AD_import_accounts.txt\">ici</a>) développé par <a href=\"http://www.combodo.com/\">Combodo</a> – l’éditeur d’iTop – et le placer dans le dossier <strong><ITOP_Directory>/webservices</strong>. Partons du principe que vous l’appellerez : <strong>AD<em><span class=\"search_hit\">import</span></em>accounts.php.</strong></p>\n\n<p>Une fois le script en place, éditez le. La partie à configurer se trouve tout au début.</p>\n\n<p>//////////////////////////////////////////////////////////////////////////////// // Configuration parameters: adjust them to connect to your AD server // And configure the mapping between AD groups and iTop profiles $aConfig = array( // Configuration of the Active Directory connection 'host' => '<AD Server IP ou DNS>', // IP or FQDN of your domain controller 'port' => '389', // LDAP port, 398=LDAP, 636= LDAPS 'dn' => 'DC=<EXAMPLE>,DC=<COM>', // Domain DN 'username' => '<DOMAIN>\\<UTILISATEUR>', // username with read access 'password' => '<MOT DE PASSE>', // password for above // Query to retrieve and filter the users from AD // Example: retrieve all users from the AD Group \"iTop Users\" //'ldap<em>query' => '(&amp;(objectCategory=user)(memberOf=OU=<strong>Internal Users</strong>TeamWork,DC=twm,DC=ch))', // Example 2: retrieves ALL the users from AD 'ldap</em>query' => '(&amp;(objectCategory=user))', // Retrieve all users // Which field to use as the iTop login samaccountname or userprincipalname ? 'login' => 'samaccountname', //'login' => 'userprincipalname', // Mapping between the AD groups and the iTop profiles 'profiles<em>mapping' => array( //AD Group Name => iTop Profile Name //'Administrators' => 'Administrator', ), // Since each iTop user must have at least one profile, assign the profile // Below to users for which there was no match in the above mapping 'default</em>profile' => 'Portal user', 'default<em>language' => 'EN US', // Default language for creating new users 'default</em>organization' => <ID de l'organisation dans laquelle créer les utilisateurs>, // ID of the default organization for creating new contacts ); // End of configuration</p>\n\n<p>Et voilà, tout devrait être OK, maintenant, vous n’avez plus qu’à lancer le script soit directement en ligne de commande :</p>\n\n<p>php -q AD<em>import</em>accounts.php --auth<em>user=<iTop_admin_user> --auth</em>pwd=<iTop_admin_pwd></p>\n\n<p>Vous pouvez également le lancer depuis votre navigateur Web, le résultat est bien plus sympa de cette façon. Pour cela il suffit d’ouvrir l’URL suivante :</p>\n\n<p><a href=\"http://itop.example.com/webservices/AD\">http://itop.example.com/webservices/AD</a><em>import</em>accounts.php</p>\n\n<p>Par défaut ce script fonctionne en mode « Dry Run », rien ne sera donc créé ou modifié dans votre iTop. Pour que le script réalise les modifications, il faut ajouter un paramètre à la ligne de commande ou dans l’URL.</p>\n\n<ul>\n<li>php -q AD<em>import</em>accounts.php --auth<em>user=<iTop_admin_user> --auth</em>pwd=<iTop_admin_pwd> --simulation=0</li>\n<li><p><a href=\"http://itop.example.com/webservices/AD\">http://itop.example.com/webservices/AD</a><em>import</em>accounts.php?simulation=0</p></li>\n</ul>\n\n<h2 id=\"sources\">Sources</h2>\n\n<ul>\n<li><a href=\"https://wiki.openitop.org/doku.php?id=active_directory_integration&amp;s[]=active&amp;s[]=directory&amp;s[]=import\">wiki.openitop.org (Anglais)</a></li>\n</ul>","image":"http://blog.techan.fr/images/2016/01/itop-logo.png","featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-01-25T10:13:08.000Z","created_by":1,"updated_at":"2016-01-25T10:13:08.000Z","updated_by":1,"published_at":"2016-01-25T10:13:08.000Z","published_by":1},{"id":181,"uuid":"a39d821d-715f-4c8c-bec3-27ce468ba43a","title":"Vérouiller Ubuntu lorsqu'un périphérique Bluetooth se déconnecte","slug":"verouiller-ubuntu-lorsquun-peripherique-bluetooth-se-deconnecte","markdown":"### Installation des pré-requis\n\nAfin de pouvoir utiliser la fonctionnalité fournie par Blueproximity, il faut installer le paquet _blueproximity_.\n\n<pre><code class=\"hljs bash\">sudo apt-get install blueproximity</code></pre>\n\n### Création des scripts de verouillage et de déverrouillage.\n\nNous allons devoir créer les deux scripts suivants.\n\n<pre><code class=\"hljs bash\">sudo vi /usr/share/blueproximity/unlockScreen.sh</code></pre>\n\n<pre><code class=\"hljs bash\">#!/bin/bash\nsession=$(loginctl show-user $SUDO_USER | sed -n '/Display/ s/Display=//p')\nloginctl unlock-session $session</code></pre>\n\n\n<pre><code class=\"hljs bash\">sudo vi /usr/share/blueproximity/lockScreen.sh</code></pre>\n\n<pre><code class=\"hljs bash\">#!/bin/bash\nsession=$(loginctl show-user $SUDO_USER | sed -n '/Display/ s/Display=//p')\nloginctl lock-session $session</code></pre>\n\nIl nous faut maintenant positionner les droits sur ces nouveaux scripts.\n\n<pre><code class=\"hljs bash\">sudo chown root: /usr/share/blueproximity/*lockScreen.sh\nsudo chmod 0755 /usr/share/blueproximity/*lockScreen.sh</code></pre>\n\nEnfin, nous configurons _sudo_ pour que les scripts puissent être utilisés.\n\n<pre><code class=\"hljs bash\">$ sudo su -\n# cat <<EOF >> /etc/sudoers.d/blueproximity\n# Allow users to lock and unlock their screens by running these scripts as sudo\nALL ALL=NOPASSWD: /usr/share/blueproximity/lockScreen.sh\nALL ALL=NOPASSWD: /usr/share/blueproximity/unlockScreen.sh\nEOF</code></pre>\n\n\n### Configuration de Blueproximity\n\nPour configurer l'outil, il faut tout d'abord le lancer.\n\n<pre><code class=\"hljs bash\">blueproximity</code></pre>\n\n\n{{< figure src=\"/images/2016/04/BlueProximity_Preferences_005.png\" title=\"Cliquez sur 'Scan for devices'\" >}}\n\n\n{{< figure src=\"/images/2016/04/BlueProximity_Preferences_006.png\" title=\"Sélectionnez le périphérique et cliquez sur 'Use selected device'\" >}}\n\n{{< figure src=\"/images/2016/04/BlueProximity_Preferences_007.png\" title=\"Cliquez sur 'Scan channels on devices'\" >}}\n\n{{< figure src=\"/images/2016/04/BlueProximity_Preferences_008.png\" title=\"Sélectionnez un channel marqué comme 'usable' et cliquez sur 'Fermer'\" >}}\n\nNous allons maintenant ajouter BlueProximity au démarrage de la session, pour cela ouvrez les \"Applications au démarrage\".\n\n{{< figure src=\"/images/2016/04/Sélection_009.png\" title=\"Applications au démarrage\" >}}\n\nAjoutez BlueProximity au démarrage.\n\n{{< figure src=\"/images/2016/04/BlueProximity_startup_005.png\" title=\"Ajoutez BlueProximity au démarrage\" >}}\n\n\nModifier le fichier de configuration de Blueproximity.\n\n<pre><code class=\"hljs bash\">vi ~/.blueproximity/standard.conf</code></pre>\n\n<pre><code class=\"hljs bash\">lock_command = sudo /usr/share/blueproximity/lockScreen.sh\nunlock_command = sudo /usr/share/blueproximity/unlockScreen.sh\nproximity_command = sudo /usr/share/blueproximity/unlockScreen.sh</code></pre>\n\nEt voilà, fermez et ré-ouvrez votre session !\n\n## Sources\n\n* [www.mljenkins.com](http://www.mljenkins.com/2016/01/24/blueproximity-on-ubuntu-14-04-lts/)\n* [ubuntuforums.org](http://ubuntuforums.org/showthread.php?t=702372)","html":"<h3 id=\"installationdesprrequis\">Installation des pré-requis</h3>\n\n<p>Afin de pouvoir utiliser la fonctionnalité fournie par Blueproximity, il faut installer le paquet <em>blueproximity</em>.</p>\n\n<pre><code class=\"hljs bash\">sudo apt-get install blueproximity</code></pre>\n\n<h3 id=\"crationdesscriptsdeverouillageetdedverrouillage\"> Création des scripts de verouillage et de déverrouillage.</h3>\n\n<p>Nous allons devoir créer les deux scripts suivants.</p>\n\n<pre><code class=\"hljs bash\">sudo vi /usr/share/blueproximity/unlockScreen.sh</code></pre>\n\n<pre><code class=\"hljs bash\">#!/bin/bash\nsession=$(loginctl show-user $SUDO_USER | sed -n '/Display/ s/Display=//p')\nloginctl unlock-session $session</code></pre>\n\n<pre><code class=\"hljs bash\">sudo vi /usr/share/blueproximity/lockScreen.sh</code></pre>\n\n<pre><code class=\"hljs bash\">#!/bin/bash\nsession=$(loginctl show-user $SUDO_USER | sed -n '/Display/ s/Display=//p')\nloginctl lock-session $session</code></pre>\n\n<p>Il nous faut maintenant positionner les droits sur ces nouveaux scripts.</p>\n\n<pre><code class=\"hljs bash\">sudo chown root: /usr/share/blueproximity/*lockScreen.sh\nsudo chmod 0755 /usr/share/blueproximity/*lockScreen.sh</code></pre>\n\n<p>Enfin, nous configurons <em>sudo</em> pour que les scripts puissent être utilisés.</p>\n\n<pre><code class=\"hljs bash\">$ sudo su -\n# cat <<EOF >> /etc/sudoers.d/blueproximity\n# Allow users to lock and unlock their screens by running these scripts as sudo\nALL ALL=NOPASSWD: /usr/share/blueproximity/lockScreen.sh\nALL ALL=NOPASSWD: /usr/share/blueproximity/unlockScreen.sh\nEOF</code></pre>\n\n<h3 id=\"configurationdeblueproximity\">Configuration de Blueproximity</h3>\n\n<p>Pour configurer l'outil, il faut tout d'abord le lancer.</p>\n\n<pre><code class=\"hljs bash\">blueproximity</code></pre>\n\n<p>{{&lt; figure src=\"/images/2016/04/BlueProximity<em>Preferences</em>005.png\" title=\"Cliquez sur 'Scan for devices'\" >}}</p>\n\n<p>{{&lt; figure src=\"/images/2016/04/BlueProximity<em>Preferences</em>006.png\" title=\"Sélectionnez le périphérique et cliquez sur 'Use selected device'\" >}}</p>\n\n<p>{{&lt; figure src=\"/images/2016/04/BlueProximity<em>Preferences</em>007.png\" title=\"Cliquez sur 'Scan channels on devices'\" >}}</p>\n\n<p>{{&lt; figure src=\"/images/2016/04/BlueProximity<em>Preferences</em>008.png\" title=\"Sélectionnez un channel marqué comme 'usable' et cliquez sur 'Fermer'\" >}}</p>\n\n<p>Nous allons maintenant ajouter BlueProximity au démarrage de la session, pour cela ouvrez les \"Applications au démarrage\".</p>\n\n<p>{{&lt; figure src=\"/images/2016/04/Sélection_009.png\" title=\"Applications au démarrage\" >}}</p>\n\n<p>Ajoutez BlueProximity au démarrage.</p>\n\n<p>{{&lt; figure src=\"/images/2016/04/BlueProximity<em>startup</em>005.png\" title=\"Ajoutez BlueProximity au démarrage\" >}}</p>\n\n<p>Modifier le fichier de configuration de Blueproximity.</p>\n\n<pre><code class=\"hljs bash\">vi ~/.blueproximity/standard.conf</code></pre>\n\n<pre><code class=\"hljs bash\">lock_command = sudo /usr/share/blueproximity/lockScreen.sh\nunlock_command = sudo /usr/share/blueproximity/unlockScreen.sh\nproximity_command = sudo /usr/share/blueproximity/unlockScreen.sh</code></pre>\n\n<p>Et voilà, fermez et ré-ouvrez votre session !</p>\n\n<h2 id=\"sources\"> Sources</h2>\n\n<ul>\n<li><a href=\"http://www.mljenkins.com/2016/01/24/blueproximity-on-ubuntu-14-04-lts/\">www.mljenkins.com</a></li>\n<li><a href=\"http://ubuntuforums.org/showthread.php?t=702372\">ubuntuforums.org</a></li>\n</ul>","image":null,"featured":0,"page":0,"status":"draft","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-05-18T09:57:47.000Z","created_by":1,"updated_at":"2016-05-18T09:58:15.000Z","updated_by":1,"published_at":null,"published_by":null},{"id":182,"uuid":"5744c700-007e-465e-bf0f-93e744310aa3","title":"Vérouiller Ubuntu lorsqu'un périphérique Bluetooth se déconnecte","slug":"verouiller-ubuntu-lorsquun-peripherique-bluetooth-se-deconnecte-2","markdown":"### Installation des pré-requis\n\nAfin de pouvoir utiliser la fonctionnalité fournie par Blueproximity, il faut installer le paquet _blueproximity_.\n\n<pre><code class=\"hljs bash\">sudo apt-get install blueproximity</code></pre>\n\n### Création des scripts de verouillage et de déverrouillage.\n\nNous allons devoir créer les deux scripts suivants.\n\n<pre><code class=\"hljs bash\">sudo vi /usr/share/blueproximity/unlockScreen.sh</code></pre>\n\n<pre><code class=\"hljs bash\">#!/bin/bash\nsession=$(loginctl show-user $SUDO_USER | sed -n '/Display/ s/Display=//p')\nloginctl unlock-session $session</code></pre>\n\n\n<pre><code class=\"hljs bash\">sudo vi /usr/share/blueproximity/lockScreen.sh</code></pre>\n\n<pre><code class=\"hljs bash\">#!/bin/bash\nsession=$(loginctl show-user $SUDO_USER | sed -n '/Display/ s/Display=//p')\nloginctl lock-session $session</code></pre>\n\nIl nous faut maintenant positionner les droits sur ces nouveaux scripts.\n\n<pre><code class=\"hljs bash\">sudo chown root: /usr/share/blueproximity/*lockScreen.sh\nsudo chmod 0755 /usr/share/blueproximity/*lockScreen.sh</code></pre>\n\nEnfin, nous configurons _sudo_ pour que les scripts puissent être utilisés.\n\n<pre><code class=\"hljs bash\">$ sudo su -\n# cat <<EOF >> /etc/sudoers.d/blueproximity\n# Allow users to lock and unlock their screens by running these scripts as sudo\nALL ALL=NOPASSWD: /usr/share/blueproximity/lockScreen.sh\nALL ALL=NOPASSWD: /usr/share/blueproximity/unlockScreen.sh\nEOF</code></pre>\n\n\n### Configuration de Blueproximity\n\nPour configurer l'outil, il faut tout d'abord le lancer.\n\n<pre><code class=\"hljs bash\">blueproximity</code></pre>\n\n\n![Cliquez sur 'Scan for devices'](https://techan.fr/images/2016/04/BlueProximity_Preferences_005.png)\n\n\n![Sélectionnez le périphérique et cliquez sur 'Use selected device'](https://techan.fr/images/2016/04/BlueProximity_Preferences_006.png)\n\n![Cliquez sur 'Scan channels on devices'](https://techan.fr/images/2016/04/BlueProximity_Preferences_007.png)\n\n![Sélectionnez un channel marqué comme 'usable' et cliquez sur 'Fermer'](https://techan.fr/images/2016/04/BlueProximity_Preferences_008.png)\n\nNous allons maintenant ajouter BlueProximity au démarrage de la session, pour cela ouvrez les \"Applications au démarrage\".\n\n![Applications au démarrage](https://techan.fr/images/2016/04/Sélection_009.png)\n\nAjoutez BlueProximity au démarrage.\n\n![Ajoutez BlueProximity au démarrage](https://techan.fr/images/2016/04/BlueProximity_startup_005.png)\n\n\nModifier le fichier de configuration de Blueproximity.\n\n<pre><code class=\"hljs bash\">vi ~/.blueproximity/standard.conf</code></pre>\n\n<pre><code class=\"hljs bash\">lock_command = sudo /usr/share/blueproximity/lockScreen.sh\nunlock_command = sudo /usr/share/blueproximity/unlockScreen.sh\nproximity_command = sudo /usr/share/blueproximity/unlockScreen.sh</code></pre>\n\nEt voilà, fermez et ré-ouvrez votre session !\n\n## Sources\n\n* [www.mljenkins.com](http://www.mljenkins.com/2016/01/24/blueproximity-on-ubuntu-14-04-lts/)\n* [ubuntuforums.org](http://ubuntuforums.org/showthread.php?t=702372)","html":"<h3 id=\"installationdesprrequis\">Installation des pré-requis</h3>\n\n<p>Afin de pouvoir utiliser la fonctionnalité fournie par Blueproximity, il faut installer le paquet <em>blueproximity</em>.</p>\n\n<pre><code class=\"hljs bash\">sudo apt-get install blueproximity</code></pre>\n\n<h3 id=\"crationdesscriptsdeverouillageetdedverrouillage\"> Création des scripts de verouillage et de déverrouillage.</h3>\n\n<p>Nous allons devoir créer les deux scripts suivants.</p>\n\n<pre><code class=\"hljs bash\">sudo vi /usr/share/blueproximity/unlockScreen.sh</code></pre>\n\n<pre><code class=\"hljs bash\">#!/bin/bash\nsession=$(loginctl show-user $SUDO_USER | sed -n '/Display/ s/Display=//p')\nloginctl unlock-session $session</code></pre>\n\n<pre><code class=\"hljs bash\">sudo vi /usr/share/blueproximity/lockScreen.sh</code></pre>\n\n<pre><code class=\"hljs bash\">#!/bin/bash\nsession=$(loginctl show-user $SUDO_USER | sed -n '/Display/ s/Display=//p')\nloginctl lock-session $session</code></pre>\n\n<p>Il nous faut maintenant positionner les droits sur ces nouveaux scripts.</p>\n\n<pre><code class=\"hljs bash\">sudo chown root: /usr/share/blueproximity/*lockScreen.sh\nsudo chmod 0755 /usr/share/blueproximity/*lockScreen.sh</code></pre>\n\n<p>Enfin, nous configurons <em>sudo</em> pour que les scripts puissent être utilisés.</p>\n\n<pre><code class=\"hljs bash\">$ sudo su -\n# cat <<EOF >> /etc/sudoers.d/blueproximity\n# Allow users to lock and unlock their screens by running these scripts as sudo\nALL ALL=NOPASSWD: /usr/share/blueproximity/lockScreen.sh\nALL ALL=NOPASSWD: /usr/share/blueproximity/unlockScreen.sh\nEOF</code></pre>\n\n<h3 id=\"configurationdeblueproximity\">Configuration de Blueproximity</h3>\n\n<p>Pour configurer l'outil, il faut tout d'abord le lancer.</p>\n\n<pre><code class=\"hljs bash\">blueproximity</code></pre>\n\n<p><img src=\"https://techan.fr/images/2016/04/BlueProximity_Preferences_005.png\" alt=\"Cliquez sur 'Scan for devices'\" /></p>\n\n<p><img src=\"https://techan.fr/images/2016/04/BlueProximity_Preferences_006.png\" alt=\"Sélectionnez le périphérique et cliquez sur 'Use selected device'\" /></p>\n\n<p><img src=\"https://techan.fr/images/2016/04/BlueProximity_Preferences_007.png\" alt=\"Cliquez sur 'Scan channels on devices'\" /></p>\n\n<p><img src=\"https://techan.fr/images/2016/04/BlueProximity_Preferences_008.png\" alt=\"Sélectionnez un channel marqué comme 'usable' et cliquez sur 'Fermer'\" /></p>\n\n<p>Nous allons maintenant ajouter BlueProximity au démarrage de la session, pour cela ouvrez les \"Applications au démarrage\".</p>\n\n<p><img src=\"https://techan.fr/images/2016/04/Sélection_009.png\" alt=\"Applications au démarrage\" /></p>\n\n<p>Ajoutez BlueProximity au démarrage.</p>\n\n<p><img src=\"https://techan.fr/images/2016/04/BlueProximity_startup_005.png\" alt=\"Ajoutez BlueProximity au démarrage\" /></p>\n\n<p>Modifier le fichier de configuration de Blueproximity.</p>\n\n<pre><code class=\"hljs bash\">vi ~/.blueproximity/standard.conf</code></pre>\n\n<pre><code class=\"hljs bash\">lock_command = sudo /usr/share/blueproximity/lockScreen.sh\nunlock_command = sudo /usr/share/blueproximity/unlockScreen.sh\nproximity_command = sudo /usr/share/blueproximity/unlockScreen.sh</code></pre>\n\n<p>Et voilà, fermez et ré-ouvrez votre session !</p>\n\n<h2 id=\"sources\"> Sources</h2>\n\n<ul>\n<li><a href=\"http://www.mljenkins.com/2016/01/24/blueproximity-on-ubuntu-14-04-lts/\">www.mljenkins.com</a></li>\n<li><a href=\"http://ubuntuforums.org/showthread.php?t=702372\">ubuntuforums.org</a></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-05-18T09:58:41.000Z","created_by":1,"updated_at":"2016-05-18T10:05:02.000Z","updated_by":1,"published_at":"2016-05-18T10:03:44.000Z","published_by":1}],"posts_tags":[{"id":2,"post_id":2,"tag_id":50,"sort_order":0},{"id":3,"post_id":4,"tag_id":132,"sort_order":0},{"id":4,"post_id":5,"tag_id":96,"sort_order":0},{"id":5,"post_id":6,"tag_id":18,"sort_order":0},{"id":6,"post_id":7,"tag_id":119,"sort_order":0},{"id":7,"post_id":8,"tag_id":48,"sort_order":0},{"id":8,"post_id":9,"tag_id":19,"sort_order":0},{"id":9,"post_id":10,"tag_id":23,"sort_order":0},{"id":10,"post_id":11,"tag_id":103,"sort_order":0},{"id":11,"post_id":12,"tag_id":106,"sort_order":0},{"id":12,"post_id":13,"tag_id":23,"sort_order":0},{"id":13,"post_id":14,"tag_id":138,"sort_order":0},{"id":14,"post_id":15,"tag_id":151,"sort_order":0},{"id":15,"post_id":16,"tag_id":106,"sort_order":0},{"id":16,"post_id":17,"tag_id":213,"sort_order":0},{"id":17,"post_id":18,"tag_id":16,"sort_order":0},{"id":18,"post_id":19,"tag_id":175,"sort_order":0},{"id":19,"post_id":20,"tag_id":127,"sort_order":0},{"id":20,"post_id":21,"tag_id":184,"sort_order":0},{"id":21,"post_id":22,"tag_id":128,"sort_order":0},{"id":22,"post_id":23,"tag_id":156,"sort_order":0},{"id":23,"post_id":24,"tag_id":22,"sort_order":0},{"id":24,"post_id":25,"tag_id":60,"sort_order":0},{"id":25,"post_id":26,"tag_id":176,"sort_order":0},{"id":26,"post_id":27,"tag_id":176,"sort_order":0},{"id":27,"post_id":28,"tag_id":96,"sort_order":0},{"id":28,"post_id":29,"tag_id":20,"sort_order":0},{"id":29,"post_id":30,"tag_id":176,"sort_order":0},{"id":30,"post_id":31,"tag_id":113,"sort_order":0},{"id":31,"post_id":32,"tag_id":224,"sort_order":0},{"id":32,"post_id":33,"tag_id":224,"sort_order":0},{"id":33,"post_id":34,"tag_id":224,"sort_order":0},{"id":34,"post_id":35,"tag_id":224,"sort_order":0},{"id":35,"post_id":37,"tag_id":176,"sort_order":0},{"id":36,"post_id":38,"tag_id":114,"sort_order":0},{"id":37,"post_id":39,"tag_id":176,"sort_order":0},{"id":38,"post_id":40,"tag_id":224,"sort_order":0},{"id":39,"post_id":41,"tag_id":3,"sort_order":0},{"id":40,"post_id":42,"tag_id":4,"sort_order":0},{"id":41,"post_id":43,"tag_id":224,"sort_order":0},{"id":42,"post_id":44,"tag_id":277,"sort_order":0},{"id":43,"post_id":45,"tag_id":70,"sort_order":0},{"id":44,"post_id":46,"tag_id":178,"sort_order":0},{"id":45,"post_id":47,"tag_id":7,"sort_order":0},{"id":46,"post_id":48,"tag_id":50,"sort_order":0},{"id":47,"post_id":49,"tag_id":161,"sort_order":0},{"id":48,"post_id":50,"tag_id":17,"sort_order":0},{"id":49,"post_id":51,"tag_id":176,"sort_order":0},{"id":50,"post_id":52,"tag_id":123,"sort_order":0},{"id":51,"post_id":53,"tag_id":64,"sort_order":0},{"id":52,"post_id":54,"tag_id":32,"sort_order":0},{"id":53,"post_id":55,"tag_id":12,"sort_order":0},{"id":54,"post_id":56,"tag_id":176,"sort_order":0},{"id":55,"post_id":57,"tag_id":27,"sort_order":0},{"id":56,"post_id":58,"tag_id":143,"sort_order":0},{"id":57,"post_id":59,"tag_id":23,"sort_order":0},{"id":58,"post_id":60,"tag_id":23,"sort_order":0},{"id":59,"post_id":61,"tag_id":11,"sort_order":0},{"id":60,"post_id":62,"tag_id":87,"sort_order":0},{"id":61,"post_id":63,"tag_id":14,"sort_order":0},{"id":62,"post_id":64,"tag_id":63,"sort_order":0},{"id":63,"post_id":65,"tag_id":273,"sort_order":0},{"id":64,"post_id":66,"tag_id":136,"sort_order":0},{"id":65,"post_id":67,"tag_id":130,"sort_order":0},{"id":66,"post_id":68,"tag_id":65,"sort_order":0},{"id":67,"post_id":69,"tag_id":75,"sort_order":0},{"id":68,"post_id":70,"tag_id":125,"sort_order":0},{"id":69,"post_id":71,"tag_id":34,"sort_order":0},{"id":70,"post_id":72,"tag_id":38,"sort_order":0},{"id":71,"post_id":73,"tag_id":145,"sort_order":0},{"id":72,"post_id":74,"tag_id":8,"sort_order":0},{"id":73,"post_id":75,"tag_id":106,"sort_order":0},{"id":74,"post_id":76,"tag_id":29,"sort_order":0},{"id":75,"post_id":77,"tag_id":162,"sort_order":0},{"id":76,"post_id":78,"tag_id":265,"sort_order":0},{"id":77,"post_id":79,"tag_id":2,"sort_order":0},{"id":78,"post_id":80,"tag_id":46,"sort_order":0},{"id":79,"post_id":81,"tag_id":41,"sort_order":0},{"id":80,"post_id":82,"tag_id":171,"sort_order":0},{"id":81,"post_id":83,"tag_id":236,"sort_order":0},{"id":82,"post_id":84,"tag_id":81,"sort_order":0},{"id":83,"post_id":85,"tag_id":236,"sort_order":0},{"id":84,"post_id":86,"tag_id":35,"sort_order":0},{"id":85,"post_id":87,"tag_id":32,"sort_order":0},{"id":86,"post_id":88,"tag_id":28,"sort_order":0},{"id":87,"post_id":89,"tag_id":91,"sort_order":0},{"id":88,"post_id":90,"tag_id":74,"sort_order":0},{"id":89,"post_id":91,"tag_id":76,"sort_order":0},{"id":90,"post_id":92,"tag_id":57,"sort_order":0},{"id":91,"post_id":93,"tag_id":10,"sort_order":0},{"id":92,"post_id":94,"tag_id":15,"sort_order":0},{"id":93,"post_id":95,"tag_id":61,"sort_order":0},{"id":94,"post_id":96,"tag_id":58,"sort_order":0},{"id":95,"post_id":97,"tag_id":197,"sort_order":0},{"id":96,"post_id":98,"tag_id":224,"sort_order":0},{"id":97,"post_id":99,"tag_id":176,"sort_order":0},{"id":98,"post_id":100,"tag_id":195,"sort_order":0},{"id":99,"post_id":101,"tag_id":176,"sort_order":0},{"id":100,"post_id":102,"tag_id":55,"sort_order":0},{"id":101,"post_id":103,"tag_id":84,"sort_order":0},{"id":102,"post_id":104,"tag_id":51,"sort_order":0},{"id":103,"post_id":105,"tag_id":169,"sort_order":0},{"id":104,"post_id":106,"tag_id":129,"sort_order":0},{"id":105,"post_id":107,"tag_id":129,"sort_order":0},{"id":106,"post_id":108,"tag_id":170,"sort_order":0},{"id":107,"post_id":109,"tag_id":282,"sort_order":0},{"id":108,"post_id":110,"tag_id":54,"sort_order":0},{"id":109,"post_id":111,"tag_id":129,"sort_order":0},{"id":110,"post_id":112,"tag_id":36,"sort_order":0},{"id":111,"post_id":113,"tag_id":110,"sort_order":0},{"id":112,"post_id":114,"tag_id":151,"sort_order":0},{"id":113,"post_id":115,"tag_id":54,"sort_order":0},{"id":114,"post_id":116,"tag_id":37,"sort_order":0},{"id":115,"post_id":117,"tag_id":213,"sort_order":0},{"id":116,"post_id":118,"tag_id":146,"sort_order":0},{"id":117,"post_id":119,"tag_id":166,"sort_order":0},{"id":118,"post_id":120,"tag_id":71,"sort_order":0},{"id":120,"post_id":122,"tag_id":54,"sort_order":0},{"id":121,"post_id":123,"tag_id":134,"sort_order":0},{"id":122,"post_id":125,"tag_id":199,"sort_order":0},{"id":123,"post_id":126,"tag_id":62,"sort_order":0},{"id":124,"post_id":127,"tag_id":23,"sort_order":0},{"id":125,"post_id":128,"tag_id":149,"sort_order":0},{"id":126,"post_id":129,"tag_id":90,"sort_order":0},{"id":127,"post_id":131,"tag_id":219,"sort_order":0},{"id":128,"post_id":133,"tag_id":23,"sort_order":0},{"id":129,"post_id":134,"tag_id":22,"sort_order":0},{"id":130,"post_id":135,"tag_id":148,"sort_order":0},{"id":131,"post_id":138,"tag_id":79,"sort_order":0},{"id":132,"post_id":139,"tag_id":196,"sort_order":0},{"id":133,"post_id":141,"tag_id":67,"sort_order":0},{"id":134,"post_id":143,"tag_id":33,"sort_order":0},{"id":135,"post_id":144,"tag_id":102,"sort_order":0},{"id":136,"post_id":145,"tag_id":44,"sort_order":0},{"id":137,"post_id":146,"tag_id":90,"sort_order":0},{"id":138,"post_id":147,"tag_id":143,"sort_order":0},{"id":139,"post_id":148,"tag_id":117,"sort_order":0},{"id":140,"post_id":149,"tag_id":168,"sort_order":0},{"id":141,"post_id":150,"tag_id":83,"sort_order":0},{"id":142,"post_id":151,"tag_id":9,"sort_order":0},{"id":143,"post_id":152,"tag_id":269,"sort_order":0},{"id":144,"post_id":153,"tag_id":118,"sort_order":0},{"id":145,"post_id":154,"tag_id":98,"sort_order":0},{"id":146,"post_id":155,"tag_id":151,"sort_order":0},{"id":147,"post_id":156,"tag_id":89,"sort_order":0},{"id":148,"post_id":157,"tag_id":276,"sort_order":0},{"id":149,"post_id":158,"tag_id":262,"sort_order":0},{"id":150,"post_id":159,"tag_id":82,"sort_order":0},{"id":151,"post_id":160,"tag_id":31,"sort_order":0},{"id":152,"post_id":161,"tag_id":129,"sort_order":0},{"id":153,"post_id":162,"tag_id":69,"sort_order":0},{"id":155,"post_id":164,"tag_id":22,"sort_order":0},{"id":156,"post_id":165,"tag_id":227,"sort_order":0},{"id":157,"post_id":166,"tag_id":185,"sort_order":0},{"id":158,"post_id":167,"tag_id":91,"sort_order":0},{"id":160,"post_id":170,"tag_id":88,"sort_order":0},{"id":161,"post_id":171,"tag_id":192,"sort_order":0},{"id":162,"post_id":172,"tag_id":42,"sort_order":0},{"id":163,"post_id":173,"tag_id":5,"sort_order":0},{"id":164,"post_id":174,"tag_id":72,"sort_order":0},{"id":165,"post_id":176,"tag_id":101,"sort_order":0},{"id":166,"post_id":179,"tag_id":208,"sort_order":0},{"id":167,"post_id":180,"tag_id":7,"sort_order":0},{"id":168,"post_id":2,"tag_id":87,"sort_order":1},{"id":169,"post_id":4,"tag_id":354,"sort_order":1},{"id":170,"post_id":5,"tag_id":176,"sort_order":1},{"id":171,"post_id":6,"tag_id":73,"sort_order":1},{"id":172,"post_id":7,"tag_id":158,"sort_order":1},{"id":173,"post_id":8,"tag_id":50,"sort_order":1},{"id":174,"post_id":9,"tag_id":21,"sort_order":1},{"id":175,"post_id":10,"tag_id":49,"sort_order":1},{"id":176,"post_id":11,"tag_id":151,"sort_order":1},{"id":177,"post_id":12,"tag_id":176,"sort_order":1},{"id":178,"post_id":13,"tag_id":24,"sort_order":1},{"id":179,"post_id":14,"tag_id":139,"sort_order":1},{"id":180,"post_id":15,"tag_id":206,"sort_order":1},{"id":181,"post_id":16,"tag_id":188,"sort_order":1},{"id":182,"post_id":17,"tag_id":229,"sort_order":1},{"id":183,"post_id":18,"tag_id":54,"sort_order":1},{"id":184,"post_id":19,"tag_id":176,"sort_order":1},{"id":185,"post_id":21,"tag_id":359,"sort_order":1},{"id":186,"post_id":22,"tag_id":139,"sort_order":1},{"id":187,"post_id":23,"tag_id":261,"sort_order":1},{"id":188,"post_id":24,"tag_id":153,"sort_order":1},{"id":189,"post_id":25,"tag_id":213,"sort_order":1},{"id":190,"post_id":26,"tag_id":181,"sort_order":1},{"id":191,"post_id":27,"tag_id":229,"sort_order":1},{"id":192,"post_id":28,"tag_id":116,"sort_order":1},{"id":193,"post_id":29,"tag_id":176,"sort_order":1},{"id":194,"post_id":30,"tag_id":181,"sort_order":1},{"id":195,"post_id":31,"tag_id":176,"sort_order":1},{"id":196,"post_id":32,"tag_id":308,"sort_order":1},{"id":197,"post_id":33,"tag_id":308,"sort_order":1},{"id":198,"post_id":34,"tag_id":308,"sort_order":1},{"id":199,"post_id":35,"tag_id":308,"sort_order":1},{"id":200,"post_id":37,"tag_id":188,"sort_order":1},{"id":201,"post_id":38,"tag_id":205,"sort_order":1},{"id":202,"post_id":39,"tag_id":234,"sort_order":1},{"id":203,"post_id":40,"tag_id":308,"sort_order":1},{"id":204,"post_id":41,"tag_id":151,"sort_order":1},{"id":205,"post_id":42,"tag_id":13,"sort_order":1},{"id":206,"post_id":43,"tag_id":308,"sort_order":1},{"id":207,"post_id":44,"tag_id":328,"sort_order":1},{"id":208,"post_id":45,"tag_id":77,"sort_order":1},{"id":209,"post_id":46,"tag_id":224,"sort_order":1},{"id":210,"post_id":47,"tag_id":30,"sort_order":1},{"id":211,"post_id":48,"tag_id":176,"sort_order":1},{"id":212,"post_id":49,"tag_id":328,"sort_order":1},{"id":213,"post_id":50,"tag_id":176,"sort_order":1},{"id":214,"post_id":51,"tag_id":215,"sort_order":1},{"id":215,"post_id":52,"tag_id":329,"sort_order":1},{"id":216,"post_id":53,"tag_id":329,"sort_order":1},{"id":217,"post_id":54,"tag_id":33,"sort_order":1},{"id":218,"post_id":55,"tag_id":33,"sort_order":1},{"id":219,"post_id":56,"tag_id":310,"sort_order":1},{"id":220,"post_id":57,"tag_id":151,"sort_order":1},{"id":221,"post_id":58,"tag_id":313,"sort_order":1},{"id":222,"post_id":59,"tag_id":151,"sort_order":1},{"id":223,"post_id":60,"tag_id":206,"sort_order":1},{"id":224,"post_id":61,"tag_id":23,"sort_order":1},{"id":225,"post_id":62,"tag_id":125,"sort_order":1},{"id":226,"post_id":63,"tag_id":293,"sort_order":1},{"id":227,"post_id":64,"tag_id":229,"sort_order":1},{"id":228,"post_id":65,"tag_id":324,"sort_order":1},{"id":229,"post_id":66,"tag_id":201,"sort_order":1},{"id":230,"post_id":67,"tag_id":176,"sort_order":1},{"id":231,"post_id":68,"tag_id":66,"sort_order":1},{"id":232,"post_id":69,"tag_id":151,"sort_order":1},{"id":233,"post_id":70,"tag_id":126,"sort_order":1},{"id":234,"post_id":71,"tag_id":39,"sort_order":1},{"id":235,"post_id":72,"tag_id":112,"sort_order":1},{"id":236,"post_id":73,"tag_id":217,"sort_order":1},{"id":237,"post_id":74,"tag_id":176,"sort_order":1},{"id":238,"post_id":75,"tag_id":107,"sort_order":1},{"id":239,"post_id":76,"tag_id":39,"sort_order":1},{"id":240,"post_id":77,"tag_id":163,"sort_order":1},{"id":241,"post_id":78,"tag_id":266,"sort_order":1},{"id":242,"post_id":79,"tag_id":43,"sort_order":1},{"id":243,"post_id":80,"tag_id":47,"sort_order":1},{"id":244,"post_id":81,"tag_id":160,"sort_order":1},{"id":245,"post_id":82,"tag_id":172,"sort_order":1},{"id":246,"post_id":83,"tag_id":255,"sort_order":1},{"id":247,"post_id":84,"tag_id":305,"sort_order":1},{"id":248,"post_id":85,"tag_id":255,"sort_order":1},{"id":249,"post_id":86,"tag_id":104,"sort_order":1},{"id":250,"post_id":87,"tag_id":213,"sort_order":1},{"id":251,"post_id":88,"tag_id":68,"sort_order":1},{"id":252,"post_id":89,"tag_id":142,"sort_order":1},{"id":253,"post_id":90,"tag_id":164,"sort_order":1},{"id":254,"post_id":91,"tag_id":120,"sort_order":1},{"id":255,"post_id":92,"tag_id":176,"sort_order":1},{"id":256,"post_id":93,"tag_id":133,"sort_order":1},{"id":257,"post_id":94,"tag_id":167,"sort_order":1},{"id":258,"post_id":95,"tag_id":176,"sort_order":1},{"id":259,"post_id":96,"tag_id":59,"sort_order":1},{"id":260,"post_id":97,"tag_id":198,"sort_order":1},{"id":261,"post_id":98,"tag_id":267,"sort_order":1},{"id":262,"post_id":99,"tag_id":290,"sort_order":1},{"id":263,"post_id":100,"tag_id":204,"sort_order":1},{"id":264,"post_id":101,"tag_id":321,"sort_order":1},{"id":265,"post_id":102,"tag_id":56,"sort_order":1},{"id":266,"post_id":103,"tag_id":109,"sort_order":1},{"id":267,"post_id":104,"tag_id":53,"sort_order":1},{"id":268,"post_id":105,"tag_id":210,"sort_order":1},{"id":269,"post_id":106,"tag_id":230,"sort_order":1},{"id":270,"post_id":107,"tag_id":253,"sort_order":1},{"id":271,"post_id":108,"tag_id":211,"sort_order":1},{"id":272,"post_id":109,"tag_id":303,"sort_order":1},{"id":273,"post_id":110,"tag_id":108,"sort_order":1},{"id":274,"post_id":111,"tag_id":282,"sort_order":1},{"id":275,"post_id":112,"tag_id":214,"sort_order":1},{"id":276,"post_id":113,"tag_id":141,"sort_order":1},{"id":277,"post_id":114,"tag_id":174,"sort_order":1},{"id":278,"post_id":115,"tag_id":108,"sort_order":1},{"id":279,"post_id":116,"tag_id":40,"sort_order":1},{"id":280,"post_id":117,"tag_id":328,"sort_order":1},{"id":281,"post_id":119,"tag_id":332,"sort_order":1},{"id":282,"post_id":120,"tag_id":189,"sort_order":1},{"id":284,"post_id":122,"tag_id":109,"sort_order":1},{"id":285,"post_id":123,"tag_id":176,"sort_order":1},{"id":286,"post_id":125,"tag_id":304,"sort_order":1},{"id":287,"post_id":126,"tag_id":125,"sort_order":1},{"id":288,"post_id":127,"tag_id":26,"sort_order":1},{"id":289,"post_id":128,"tag_id":177,"sort_order":1},{"id":290,"post_id":129,"tag_id":188,"sort_order":1},{"id":291,"post_id":131,"tag_id":322,"sort_order":1},{"id":292,"post_id":133,"tag_id":25,"sort_order":1},{"id":293,"post_id":134,"tag_id":151,"sort_order":1},{"id":294,"post_id":135,"tag_id":221,"sort_order":1},{"id":295,"post_id":138,"tag_id":97,"sort_order":1},{"id":296,"post_id":139,"tag_id":248,"sort_order":1},{"id":297,"post_id":141,"tag_id":93,"sort_order":1},{"id":298,"post_id":143,"tag_id":179,"sort_order":1},{"id":299,"post_id":144,"tag_id":176,"sort_order":1},{"id":300,"post_id":145,"tag_id":111,"sort_order":1},{"id":301,"post_id":146,"tag_id":226,"sort_order":1},{"id":302,"post_id":147,"tag_id":147,"sort_order":1},{"id":303,"post_id":148,"tag_id":144,"sort_order":1},{"id":304,"post_id":150,"tag_id":85,"sort_order":1},{"id":305,"post_id":151,"tag_id":124,"sort_order":1},{"id":306,"post_id":152,"tag_id":274,"sort_order":1},{"id":307,"post_id":153,"tag_id":273,"sort_order":1},{"id":308,"post_id":154,"tag_id":206,"sort_order":1},{"id":309,"post_id":155,"tag_id":152,"sort_order":1},{"id":310,"post_id":156,"tag_id":252,"sort_order":1},{"id":311,"post_id":158,"tag_id":263,"sort_order":1},{"id":312,"post_id":160,"tag_id":86,"sort_order":1},{"id":313,"post_id":161,"tag_id":282,"sort_order":1},{"id":314,"post_id":162,"tag_id":105,"sort_order":1},{"id":316,"post_id":164,"tag_id":122,"sort_order":1},{"id":317,"post_id":165,"tag_id":242,"sort_order":1},{"id":318,"post_id":166,"tag_id":240,"sort_order":1},{"id":319,"post_id":167,"tag_id":176,"sort_order":1},{"id":321,"post_id":170,"tag_id":91,"sort_order":1},{"id":322,"post_id":171,"tag_id":193,"sort_order":1},{"id":323,"post_id":172,"tag_id":52,"sort_order":1},{"id":324,"post_id":173,"tag_id":6,"sort_order":1},{"id":325,"post_id":174,"tag_id":233,"sort_order":1},{"id":326,"post_id":176,"tag_id":190,"sort_order":1},{"id":327,"post_id":179,"tag_id":247,"sort_order":1},{"id":328,"post_id":180,"tag_id":30,"sort_order":1},{"id":329,"post_id":2,"tag_id":176,"sort_order":2},{"id":330,"post_id":5,"tag_id":260,"sort_order":2},{"id":331,"post_id":6,"tag_id":176,"sort_order":2},{"id":332,"post_id":7,"tag_id":176,"sort_order":2},{"id":333,"post_id":8,"tag_id":176,"sort_order":2},{"id":334,"post_id":9,"tag_id":176,"sort_order":2},{"id":335,"post_id":10,"tag_id":151,"sort_order":2},{"id":336,"post_id":11,"tag_id":268,"sort_order":2},{"id":337,"post_id":12,"tag_id":188,"sort_order":2},{"id":338,"post_id":13,"tag_id":157,"sort_order":2},{"id":339,"post_id":14,"tag_id":224,"sort_order":2},{"id":340,"post_id":16,"tag_id":206,"sort_order":2},{"id":341,"post_id":17,"tag_id":233,"sort_order":2},{"id":342,"post_id":18,"tag_id":176,"sort_order":2},{"id":343,"post_id":19,"tag_id":186,"sort_order":2},{"id":344,"post_id":22,"tag_id":213,"sort_order":2},{"id":345,"post_id":23,"tag_id":359,"sort_order":2},{"id":346,"post_id":24,"tag_id":200,"sort_order":2},{"id":347,"post_id":25,"tag_id":225,"sort_order":2},{"id":348,"post_id":26,"tag_id":280,"sort_order":2},{"id":349,"post_id":27,"tag_id":331,"sort_order":2},{"id":350,"post_id":28,"tag_id":260,"sort_order":2},{"id":351,"post_id":29,"tag_id":180,"sort_order":2},{"id":352,"post_id":30,"tag_id":182,"sort_order":2},{"id":353,"post_id":31,"tag_id":328,"sort_order":2},{"id":354,"post_id":32,"tag_id":328,"sort_order":2},{"id":355,"post_id":33,"tag_id":328,"sort_order":2},{"id":356,"post_id":34,"tag_id":328,"sort_order":2},{"id":357,"post_id":35,"tag_id":328,"sort_order":2},{"id":358,"post_id":37,"tag_id":320,"sort_order":2},{"id":359,"post_id":38,"tag_id":359,"sort_order":2},{"id":360,"post_id":39,"tag_id":328,"sort_order":2},{"id":361,"post_id":40,"tag_id":328,"sort_order":2},{"id":362,"post_id":41,"tag_id":206,"sort_order":2},{"id":363,"post_id":42,"tag_id":176,"sort_order":2},{"id":364,"post_id":43,"tag_id":328,"sort_order":2},{"id":365,"post_id":44,"tag_id":354,"sort_order":2},{"id":366,"post_id":45,"tag_id":176,"sort_order":2},{"id":367,"post_id":46,"tag_id":308,"sort_order":2},{"id":368,"post_id":47,"tag_id":159,"sort_order":2},{"id":369,"post_id":48,"tag_id":337,"sort_order":2},{"id":370,"post_id":49,"tag_id":354,"sort_order":2},{"id":371,"post_id":50,"tag_id":328,"sort_order":2},{"id":372,"post_id":51,"tag_id":323,"sort_order":2},{"id":373,"post_id":52,"tag_id":332,"sort_order":2},{"id":374,"post_id":53,"tag_id":332,"sort_order":2},{"id":375,"post_id":54,"tag_id":215,"sort_order":2},{"id":376,"post_id":55,"tag_id":80,"sort_order":2},{"id":377,"post_id":56,"tag_id":329,"sort_order":2},{"id":378,"post_id":57,"tag_id":237,"sort_order":2},{"id":379,"post_id":58,"tag_id":329,"sort_order":2},{"id":380,"post_id":59,"tag_id":206,"sort_order":2},{"id":381,"post_id":60,"tag_id":226,"sort_order":2},{"id":382,"post_id":61,"tag_id":64,"sort_order":2},{"id":383,"post_id":62,"tag_id":354,"sort_order":2},{"id":384,"post_id":63,"tag_id":332,"sort_order":2},{"id":385,"post_id":64,"tag_id":281,"sort_order":2},{"id":386,"post_id":65,"tag_id":344,"sort_order":2},{"id":387,"post_id":66,"tag_id":213,"sort_order":2},{"id":388,"post_id":67,"tag_id":209,"sort_order":2},{"id":389,"post_id":68,"tag_id":224,"sort_order":2},{"id":390,"post_id":69,"tag_id":155,"sort_order":2},{"id":391,"post_id":70,"tag_id":176,"sort_order":2},{"id":392,"post_id":71,"tag_id":328,"sort_order":2},{"id":393,"post_id":72,"tag_id":231,"sort_order":2},{"id":394,"post_id":73,"tag_id":218,"sort_order":2},{"id":395,"post_id":74,"tag_id":328,"sort_order":2},{"id":396,"post_id":75,"tag_id":176,"sort_order":2},{"id":397,"post_id":76,"tag_id":92,"sort_order":2},{"id":398,"post_id":78,"tag_id":328,"sort_order":2},{"id":399,"post_id":79,"tag_id":45,"sort_order":2},{"id":400,"post_id":80,"tag_id":78,"sort_order":2},{"id":401,"post_id":83,"tag_id":295,"sort_order":2},{"id":402,"post_id":84,"tag_id":328,"sort_order":2},{"id":403,"post_id":85,"tag_id":295,"sort_order":2},{"id":404,"post_id":86,"tag_id":176,"sort_order":2},{"id":405,"post_id":87,"tag_id":286,"sort_order":2},{"id":406,"post_id":88,"tag_id":224,"sort_order":2},{"id":407,"post_id":89,"tag_id":194,"sort_order":2},{"id":408,"post_id":90,"tag_id":165,"sort_order":2},{"id":409,"post_id":91,"tag_id":121,"sort_order":2},{"id":410,"post_id":92,"tag_id":213,"sort_order":2},{"id":411,"post_id":93,"tag_id":224,"sort_order":2},{"id":412,"post_id":94,"tag_id":302,"sort_order":2},{"id":413,"post_id":95,"tag_id":302,"sort_order":2},{"id":414,"post_id":96,"tag_id":212,"sort_order":2},{"id":415,"post_id":97,"tag_id":301,"sort_order":2},{"id":416,"post_id":98,"tag_id":316,"sort_order":2},{"id":417,"post_id":99,"tag_id":312,"sort_order":2},{"id":418,"post_id":100,"tag_id":213,"sort_order":2},{"id":419,"post_id":101,"tag_id":328,"sort_order":2},{"id":420,"post_id":102,"tag_id":176,"sort_order":2},{"id":421,"post_id":103,"tag_id":115,"sort_order":2},{"id":422,"post_id":104,"tag_id":151,"sort_order":2},{"id":423,"post_id":105,"tag_id":213,"sort_order":2},{"id":424,"post_id":106,"tag_id":254,"sort_order":2},{"id":425,"post_id":107,"tag_id":283,"sort_order":2},{"id":426,"post_id":108,"tag_id":213,"sort_order":2},{"id":427,"post_id":110,"tag_id":154,"sort_order":2},{"id":428,"post_id":112,"tag_id":307,"sort_order":2},{"id":429,"post_id":113,"tag_id":343,"sort_order":2},{"id":430,"post_id":114,"tag_id":202,"sort_order":2},{"id":431,"post_id":115,"tag_id":176,"sort_order":2},{"id":432,"post_id":116,"tag_id":131,"sort_order":2},{"id":433,"post_id":119,"tag_id":351,"sort_order":2},{"id":434,"post_id":120,"tag_id":203,"sort_order":2},{"id":436,"post_id":122,"tag_id":176,"sort_order":2},{"id":437,"post_id":123,"tag_id":213,"sort_order":2},{"id":438,"post_id":125,"tag_id":314,"sort_order":2},{"id":439,"post_id":126,"tag_id":292,"sort_order":2},{"id":440,"post_id":127,"tag_id":99,"sort_order":2},{"id":441,"post_id":128,"tag_id":226,"sort_order":2},{"id":442,"post_id":129,"tag_id":226,"sort_order":2},{"id":443,"post_id":131,"tag_id":332,"sort_order":2},{"id":444,"post_id":133,"tag_id":290,"sort_order":2},{"id":445,"post_id":134,"tag_id":202,"sort_order":2},{"id":446,"post_id":135,"tag_id":328,"sort_order":2},{"id":447,"post_id":138,"tag_id":176,"sort_order":2},{"id":448,"post_id":139,"tag_id":355,"sort_order":2},{"id":449,"post_id":141,"tag_id":94,"sort_order":2},{"id":450,"post_id":143,"tag_id":328,"sort_order":2},{"id":451,"post_id":144,"tag_id":222,"sort_order":2},{"id":452,"post_id":145,"tag_id":187,"sort_order":2},{"id":453,"post_id":146,"tag_id":237,"sort_order":2},{"id":454,"post_id":147,"tag_id":258,"sort_order":2},{"id":455,"post_id":148,"tag_id":258,"sort_order":2},{"id":456,"post_id":150,"tag_id":328,"sort_order":2},{"id":457,"post_id":151,"tag_id":328,"sort_order":2},{"id":458,"post_id":152,"tag_id":279,"sort_order":2},{"id":459,"post_id":153,"tag_id":328,"sort_order":2},{"id":460,"post_id":154,"tag_id":259,"sort_order":2},{"id":461,"post_id":155,"tag_id":232,"sort_order":2},{"id":462,"post_id":156,"tag_id":299,"sort_order":2},{"id":463,"post_id":158,"tag_id":328,"sort_order":2},{"id":464,"post_id":160,"tag_id":151,"sort_order":2},{"id":465,"post_id":161,"tag_id":284,"sort_order":2},{"id":466,"post_id":162,"tag_id":151,"sort_order":2},{"id":468,"post_id":164,"tag_id":278,"sort_order":2},{"id":469,"post_id":165,"tag_id":257,"sort_order":2},{"id":470,"post_id":166,"tag_id":282,"sort_order":2},{"id":471,"post_id":167,"tag_id":190,"sort_order":2},{"id":472,"post_id":170,"tag_id":142,"sort_order":2},{"id":473,"post_id":171,"tag_id":213,"sort_order":2},{"id":474,"post_id":172,"tag_id":173,"sort_order":2},{"id":475,"post_id":173,"tag_id":241,"sort_order":2},{"id":476,"post_id":174,"tag_id":250,"sort_order":2},{"id":477,"post_id":176,"tag_id":319,"sort_order":2},{"id":478,"post_id":179,"tag_id":328,"sort_order":2},{"id":479,"post_id":180,"tag_id":140,"sort_order":2},{"id":480,"post_id":2,"tag_id":188,"sort_order":3},{"id":481,"post_id":5,"tag_id":302,"sort_order":3},{"id":482,"post_id":6,"tag_id":190,"sort_order":3},{"id":483,"post_id":7,"tag_id":273,"sort_order":3},{"id":484,"post_id":8,"tag_id":256,"sort_order":3},{"id":485,"post_id":9,"tag_id":188,"sort_order":3},{"id":486,"post_id":10,"tag_id":155,"sort_order":3},{"id":487,"post_id":17,"tag_id":286,"sort_order":3},{"id":488,"post_id":18,"tag_id":264,"sort_order":3},{"id":489,"post_id":22,"tag_id":328,"sort_order":3},{"id":490,"post_id":24,"tag_id":237,"sort_order":3},{"id":491,"post_id":26,"tag_id":328,"sort_order":3},{"id":492,"post_id":27,"tag_id":332,"sort_order":3},{"id":493,"post_id":30,"tag_id":183,"sort_order":3},{"id":494,"post_id":42,"tag_id":186,"sort_order":3},{"id":495,"post_id":45,"tag_id":336,"sort_order":3},{"id":496,"post_id":47,"tag_id":176,"sort_order":3},{"id":497,"post_id":48,"tag_id":357,"sort_order":3},{"id":498,"post_id":51,"tag_id":329,"sort_order":3},{"id":499,"post_id":53,"tag_id":345,"sort_order":3},{"id":500,"post_id":55,"tag_id":176,"sort_order":3},{"id":501,"post_id":56,"tag_id":330,"sort_order":3},{"id":502,"post_id":58,"tag_id":332,"sort_order":3},{"id":503,"post_id":60,"tag_id":360,"sort_order":3},{"id":504,"post_id":61,"tag_id":226,"sort_order":3},{"id":505,"post_id":64,"tag_id":354,"sort_order":3},{"id":506,"post_id":65,"tag_id":349,"sort_order":3},{"id":507,"post_id":66,"tag_id":357,"sort_order":3},{"id":508,"post_id":67,"tag_id":289,"sort_order":3},{"id":509,"post_id":68,"tag_id":308,"sort_order":3},{"id":510,"post_id":69,"tag_id":190,"sort_order":3},{"id":511,"post_id":70,"tag_id":190,"sort_order":3},{"id":512,"post_id":71,"tag_id":344,"sort_order":3},{"id":513,"post_id":72,"tag_id":319,"sort_order":3},{"id":514,"post_id":73,"tag_id":324,"sort_order":3},{"id":515,"post_id":74,"tag_id":337,"sort_order":3},{"id":516,"post_id":75,"tag_id":216,"sort_order":3},{"id":517,"post_id":76,"tag_id":137,"sort_order":3},{"id":518,"post_id":78,"tag_id":357,"sort_order":3},{"id":519,"post_id":80,"tag_id":135,"sort_order":3},{"id":520,"post_id":84,"tag_id":344,"sort_order":3},{"id":521,"post_id":86,"tag_id":328,"sort_order":3},{"id":522,"post_id":87,"tag_id":287,"sort_order":3},{"id":523,"post_id":88,"tag_id":308,"sort_order":3},{"id":524,"post_id":89,"tag_id":297,"sort_order":3},{"id":525,"post_id":90,"tag_id":306,"sort_order":3},{"id":526,"post_id":91,"tag_id":224,"sort_order":3},{"id":527,"post_id":92,"tag_id":328,"sort_order":3},{"id":528,"post_id":93,"tag_id":328,"sort_order":3},{"id":529,"post_id":94,"tag_id":328,"sort_order":3},{"id":530,"post_id":95,"tag_id":328,"sort_order":3},{"id":531,"post_id":96,"tag_id":213,"sort_order":3},{"id":532,"post_id":97,"tag_id":318,"sort_order":3},{"id":533,"post_id":98,"tag_id":328,"sort_order":3},{"id":534,"post_id":99,"tag_id":317,"sort_order":3},{"id":535,"post_id":102,"tag_id":214,"sort_order":3},{"id":536,"post_id":103,"tag_id":158,"sort_order":3},{"id":537,"post_id":104,"tag_id":231,"sort_order":3},{"id":538,"post_id":105,"tag_id":272,"sort_order":3},{"id":539,"post_id":106,"tag_id":283,"sort_order":3},{"id":540,"post_id":108,"tag_id":328,"sort_order":3},{"id":541,"post_id":110,"tag_id":176,"sort_order":3},{"id":542,"post_id":112,"tag_id":353,"sort_order":3},{"id":543,"post_id":113,"tag_id":344,"sort_order":3},{"id":544,"post_id":114,"tag_id":218,"sort_order":3},{"id":545,"post_id":115,"tag_id":328,"sort_order":3},{"id":546,"post_id":120,"tag_id":328,"sort_order":3},{"id":548,"post_id":122,"tag_id":309,"sort_order":3},{"id":549,"post_id":123,"tag_id":328,"sort_order":3},{"id":550,"post_id":126,"tag_id":339,"sort_order":3},{"id":551,"post_id":127,"tag_id":100,"sort_order":3},{"id":552,"post_id":128,"tag_id":270,"sort_order":3},{"id":553,"post_id":129,"tag_id":238,"sort_order":3},{"id":554,"post_id":134,"tag_id":220,"sort_order":3},{"id":555,"post_id":135,"tag_id":332,"sort_order":3},{"id":556,"post_id":138,"tag_id":207,"sort_order":3},{"id":557,"post_id":141,"tag_id":95,"sort_order":3},{"id":558,"post_id":144,"tag_id":223,"sort_order":3},{"id":559,"post_id":145,"tag_id":235,"sort_order":3},{"id":560,"post_id":146,"tag_id":239,"sort_order":3},{"id":561,"post_id":147,"tag_id":332,"sort_order":3},{"id":562,"post_id":148,"tag_id":328,"sort_order":3},{"id":563,"post_id":150,"tag_id":355,"sort_order":3},{"id":564,"post_id":151,"tag_id":355,"sort_order":3},{"id":565,"post_id":152,"tag_id":338,"sort_order":3},{"id":566,"post_id":153,"tag_id":354,"sort_order":3},{"id":567,"post_id":154,"tag_id":354,"sort_order":3},{"id":568,"post_id":155,"tag_id":328,"sort_order":3},{"id":569,"post_id":158,"tag_id":354,"sort_order":3},{"id":570,"post_id":160,"tag_id":152,"sort_order":3},{"id":571,"post_id":162,"tag_id":152,"sort_order":3},{"id":573,"post_id":166,"tag_id":341,"sort_order":3},{"id":574,"post_id":167,"tag_id":191,"sort_order":3},{"id":575,"post_id":170,"tag_id":150,"sort_order":3},{"id":576,"post_id":171,"tag_id":328,"sort_order":3},{"id":577,"post_id":172,"tag_id":298,"sort_order":3},{"id":578,"post_id":173,"tag_id":243,"sort_order":3},{"id":579,"post_id":174,"tag_id":324,"sort_order":3},{"id":580,"post_id":176,"tag_id":328,"sort_order":3},{"id":581,"post_id":179,"tag_id":347,"sort_order":3},{"id":582,"post_id":180,"tag_id":159,"sort_order":3},{"id":583,"post_id":2,"tag_id":354,"sort_order":4},{"id":584,"post_id":8,"tag_id":352,"sort_order":4},{"id":585,"post_id":9,"tag_id":354,"sort_order":4},{"id":586,"post_id":18,"tag_id":288,"sort_order":4},{"id":587,"post_id":61,"tag_id":328,"sort_order":4},{"id":588,"post_id":64,"tag_id":356,"sort_order":4},{"id":589,"post_id":65,"tag_id":350,"sort_order":4},{"id":590,"post_id":67,"tag_id":291,"sort_order":4},{"id":591,"post_id":69,"tag_id":328,"sort_order":4},{"id":592,"post_id":70,"tag_id":246,"sort_order":4},{"id":593,"post_id":72,"tag_id":328,"sort_order":4},{"id":594,"post_id":73,"tag_id":354,"sort_order":4},{"id":595,"post_id":74,"tag_id":352,"sort_order":4},{"id":596,"post_id":75,"tag_id":228,"sort_order":4},{"id":597,"post_id":76,"tag_id":176,"sort_order":4},{"id":598,"post_id":80,"tag_id":251,"sort_order":4},{"id":599,"post_id":84,"tag_id":348,"sort_order":4},{"id":600,"post_id":86,"tag_id":334,"sort_order":4},{"id":601,"post_id":87,"tag_id":294,"sort_order":4},{"id":602,"post_id":90,"tag_id":357,"sort_order":4},{"id":603,"post_id":91,"tag_id":308,"sort_order":4},{"id":604,"post_id":93,"tag_id":330,"sort_order":4},{"id":605,"post_id":96,"tag_id":328,"sort_order":4},{"id":606,"post_id":97,"tag_id":344,"sort_order":4},{"id":607,"post_id":99,"tag_id":328,"sort_order":4},{"id":608,"post_id":103,"tag_id":328,"sort_order":4},{"id":609,"post_id":104,"tag_id":303,"sort_order":4},{"id":610,"post_id":105,"tag_id":308,"sort_order":4},{"id":611,"post_id":110,"tag_id":328,"sort_order":4},{"id":612,"post_id":113,"tag_id":358,"sort_order":4},{"id":613,"post_id":114,"tag_id":285,"sort_order":4},{"id":614,"post_id":122,"tag_id":328,"sort_order":4},{"id":615,"post_id":127,"tag_id":226,"sort_order":4},{"id":616,"post_id":128,"tag_id":271,"sort_order":4},{"id":617,"post_id":129,"tag_id":325,"sort_order":4},{"id":618,"post_id":134,"tag_id":226,"sort_order":4},{"id":619,"post_id":138,"tag_id":328,"sort_order":4},{"id":620,"post_id":141,"tag_id":209,"sort_order":4},{"id":621,"post_id":144,"tag_id":224,"sort_order":4},{"id":622,"post_id":145,"tag_id":340,"sort_order":4},{"id":623,"post_id":146,"tag_id":328,"sort_order":4},{"id":624,"post_id":148,"tag_id":333,"sort_order":4},{"id":625,"post_id":152,"tag_id":344,"sort_order":4},{"id":626,"post_id":160,"tag_id":296,"sort_order":4},{"id":627,"post_id":162,"tag_id":237,"sort_order":4},{"id":628,"post_id":166,"tag_id":342,"sort_order":4},{"id":629,"post_id":167,"tag_id":193,"sort_order":4},{"id":630,"post_id":170,"tag_id":297,"sort_order":4},{"id":631,"post_id":172,"tag_id":351,"sort_order":4},{"id":632,"post_id":173,"tag_id":244,"sort_order":4},{"id":633,"post_id":174,"tag_id":344,"sort_order":4},{"id":634,"post_id":176,"tag_id":332,"sort_order":4},{"id":635,"post_id":179,"tag_id":354,"sort_order":4},{"id":636,"post_id":180,"tag_id":176,"sort_order":4},{"id":637,"post_id":65,"tag_id":354,"sort_order":5},{"id":638,"post_id":70,"tag_id":328,"sort_order":5},{"id":639,"post_id":72,"tag_id":335,"sort_order":5},{"id":640,"post_id":76,"tag_id":315,"sort_order":5},{"id":641,"post_id":91,"tag_id":311,"sort_order":5},{"id":642,"post_id":122,"tag_id":332,"sort_order":5},{"id":643,"post_id":127,"tag_id":313,"sort_order":5},{"id":644,"post_id":128,"tag_id":275,"sort_order":5},{"id":645,"post_id":129,"tag_id":328,"sort_order":5},{"id":646,"post_id":134,"tag_id":354,"sort_order":5},{"id":647,"post_id":138,"tag_id":332,"sort_order":5},{"id":648,"post_id":141,"tag_id":351,"sort_order":5},{"id":649,"post_id":144,"tag_id":249,"sort_order":5},{"id":650,"post_id":162,"tag_id":351,"sort_order":5},{"id":651,"post_id":166,"tag_id":346,"sort_order":5},{"id":652,"post_id":167,"tag_id":246,"sort_order":5},{"id":653,"post_id":170,"tag_id":328,"sort_order":5},{"id":654,"post_id":173,"tag_id":245,"sort_order":5},{"id":655,"post_id":174,"tag_id":348,"sort_order":5},{"id":656,"post_id":128,"tag_id":360,"sort_order":6},{"id":657,"post_id":144,"tag_id":324,"sort_order":6},{"id":658,"post_id":167,"tag_id":332,"sort_order":6},{"id":659,"post_id":173,"tag_id":300,"sort_order":6},{"id":660,"post_id":173,"tag_id":328,"sort_order":7},{"id":661,"post_id":175,"tag_id":176,"sort_order":0},{"id":662,"post_id":175,"tag_id":328,"sort_order":1},{"id":663,"post_id":175,"tag_id":88,"sort_order":2},{"id":664,"post_id":189,"tag_id":328,"sort_order":0},{"id":665,"post_id":189,"tag_id":361,"sort_order":1},{"id":666,"post_id":190,"tag_id":362,"sort_order":2},{"id":667,"post_id":190,"tag_id":357,"sort_order":0},{"id":668,"post_id":190,"tag_id":328,"sort_order":1},{"id":669,"post_id":194,"tag_id":88,"sort_order":0},{"id":670,"post_id":194,"tag_id":176,"sort_order":1},{"id":671,"post_id":194,"tag_id":363,"sort_order":2},{"id":672,"post_id":194,"tag_id":364,"sort_order":3},{"id":673,"post_id":195,"tag_id":88,"sort_order":0},{"id":674,"post_id":195,"tag_id":176,"sort_order":1},{"id":675,"post_id":195,"tag_id":364,"sort_order":2},{"id":676,"post_id":195,"tag_id":365,"sort_order":3},{"id":677,"post_id":195,"tag_id":366,"sort_order":4},{"id":678,"post_id":193,"tag_id":88,"sort_order":0},{"id":679,"post_id":193,"tag_id":367,"sort_order":1},{"id":680,"post_id":193,"tag_id":49,"sort_order":2},{"id":681,"post_id":193,"tag_id":332,"sort_order":3},{"id":682,"post_id":196,"tag_id":88,"sort_order":0},{"id":683,"post_id":196,"tag_id":368,"sort_order":2},{"id":684,"post_id":196,"tag_id":369,"sort_order":3},{"id":685,"post_id":196,"tag_id":364,"sort_order":1},{"id":686,"post_id":192,"tag_id":88,"sort_order":0},{"id":687,"post_id":192,"tag_id":370,"sort_order":1},{"id":688,"post_id":192,"tag_id":371,"sort_order":2},{"id":689,"post_id":192,"tag_id":49,"sort_order":3},{"id":690,"post_id":192,"tag_id":328,"sort_order":4},{"id":691,"post_id":175,"tag_id":372,"sort_order":3},{"id":692,"post_id":175,"tag_id":373,"sort_order":4},{"id":693,"post_id":197,"tag_id":88,"sort_order":0},{"id":694,"post_id":197,"tag_id":361,"sort_order":1},{"id":695,"post_id":197,"tag_id":328,"sort_order":2},{"id":696,"post_id":197,"tag_id":176,"sort_order":3},{"id":697,"post_id":197,"tag_id":290,"sort_order":4},{"id":698,"post_id":197,"tag_id":374,"sort_order":5},{"id":699,"post_id":191,"tag_id":88,"sort_order":0},{"id":700,"post_id":191,"tag_id":375,"sort_order":3},{"id":701,"post_id":191,"tag_id":376,"sort_order":4},{"id":702,"post_id":191,"tag_id":377,"sort_order":5},{"id":703,"post_id":191,"tag_id":328,"sort_order":1},{"id":704,"post_id":191,"tag_id":176,"sort_order":2},{"id":705,"post_id":198,"tag_id":88,"sort_order":0},{"id":706,"post_id":198,"tag_id":332,"sort_order":1},{"id":707,"post_id":198,"tag_id":176,"sort_order":2},{"id":708,"post_id":198,"tag_id":324,"sort_order":3},{"id":709,"post_id":198,"tag_id":334,"sort_order":4},{"id":710,"post_id":199,"tag_id":88,"sort_order":0},{"id":711,"post_id":199,"tag_id":378,"sort_order":1},{"id":712,"post_id":199,"tag_id":379,"sort_order":2},{"id":713,"post_id":201,"tag_id":88,"sort_order":0},{"id":714,"post_id":201,"tag_id":365,"sort_order":1},{"id":715,"post_id":201,"tag_id":328,"sort_order":2},{"id":716,"post_id":200,"tag_id":88,"sort_order":0},{"id":717,"post_id":200,"tag_id":328,"sort_order":1},{"id":718,"post_id":200,"tag_id":380,"sort_order":2},{"id":719,"post_id":202,"tag_id":88,"sort_order":0},{"id":720,"post_id":202,"tag_id":381,"sort_order":1},{"id":721,"post_id":203,"tag_id":332,"sort_order":0},{"id":722,"post_id":203,"tag_id":328,"sort_order":1},{"id":723,"post_id":204,"tag_id":382,"sort_order":3},{"id":724,"post_id":204,"tag_id":332,"sort_order":0},{"id":725,"post_id":204,"tag_id":218,"sort_order":1},{"id":726,"post_id":204,"tag_id":328,"sort_order":2}],"roles":[{"id":1,"uuid":"b9756fe6-2d0b-41e7-8f66-02b9d77d3504","name":"Administrator","description":"Administrators","created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":2,"uuid":"89b8a57e-0e19-46e9-9e4f-6d344d74eda3","name":"Editor","description":"Editors","created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":3,"uuid":"c2d7d904-8c1e-4ae7-a2ca-2f4fc7597bf7","name":"Author","description":"Authors","created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1},{"id":4,"uuid":"17ff161c-c9d2-437f-8203-5c7dcddd4cc8","name":"Owner","description":"Blog Owner","created_at":"2016-05-18T08:43:34.000Z","created_by":1,"updated_at":"2016-05-18T08:43:34.000Z","updated_by":1}],"roles_users":[{"id":1,"role_id":4,"user_id":1}],"settings":[{"id":1,"uuid":"0d4329c8-eac2-4727-aff0-548d647a17b6","key":"databaseVersion","value":"009","type":"core","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-05-18T08:43:36.000Z","updated_by":1},{"id":2,"uuid":"a6ad1231-c694-4178-adcf-4ef041ee56fc","key":"dbHash","value":"0ed82a1f-a6ee-4ce2-a0f2-889f2d5f58e0","type":"core","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-05-18T08:43:36.000Z","updated_by":1},{"id":3,"uuid":"3195685a-001e-4766-bc8a-6e877c9f61f2","key":"nextUpdateCheck","value":"1481967095","type":"core","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-12-16T09:31:35.000Z","updated_by":1},{"id":4,"uuid":"ad342a2b-0792-4c51-95d2-e37f2843d200","key":"displayUpdateNotification","value":"0.11.3","type":"core","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-12-16T09:31:35.000Z","updated_by":1},{"id":5,"uuid":"017134b1-d07a-4c09-8bf6-328ecab358f1","key":"title","value":"TechAN","type":"blog","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-12-12T13:56:41.000Z","updated_by":1},{"id":6,"uuid":"69cf789d-82b3-47fb-8c4a-8d4e97206b5b","key":"description","value":"Trucs, Astuces et Bidouilles IT","type":"blog","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-12-12T13:56:41.000Z","updated_by":1},{"id":7,"uuid":"55c6aebd-5395-49d2-b539-9ed107b1a2a0","key":"logo","value":"https://techan.fr/images/2014/09/TechAN_petit.png","type":"blog","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-12-12T13:56:41.000Z","updated_by":1},{"id":8,"uuid":"fffa9fd3-7d18-436f-a3f2-cda74390208a","key":"cover","value":"/content/images/2016/08/Screenshot_20160829_152815.png","type":"blog","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-12-12T13:56:41.000Z","updated_by":1},{"id":9,"uuid":"48b30213-2394-4f62-8e93-c855bba79a08","key":"defaultLang","value":"en_US","type":"blog","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-12-12T13:56:41.000Z","updated_by":1},{"id":10,"uuid":"4ecbf1a7-3f41-41fc-9c43-c4b2bf006f9f","key":"postsPerPage","value":"10","type":"blog","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-12-12T13:56:41.000Z","updated_by":1},{"id":11,"uuid":"02b7348d-32ea-453e-a2bb-ced6a05f3214","key":"forceI18n","value":"true","type":"blog","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-12-12T13:56:41.000Z","updated_by":1},{"id":12,"uuid":"7000752d-a463-4b24-814d-0bad7e922f47","key":"permalinks","value":"/:slug/","type":"blog","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-12-12T13:56:41.000Z","updated_by":1},{"id":13,"uuid":"9556d4ef-a6d4-41e8-a4cb-32e4acc39a8a","key":"ghost_head","value":"<script>\n  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n\n  ga('create', 'UA-66138476-1', 'auto');\n  ga('send', 'pageview');\n\n</script>","type":"blog","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-12-12T13:56:41.000Z","updated_by":1},{"id":14,"uuid":"c8ae9941-af72-414c-bdb8-4308527559bf","key":"ghost_foot","value":"<!--\n<script type=\"text/javascript\">\n    $(document).ready(function() {\n        function cookieController() {\n            // Load Google Analytics to header\n            $.cookiesDirective.loadScript({\n                uri:'assets/js/google.js',\n                appendTo: 'header'\n         \t});\n        }    \n        $.cookiesDirective({\n            privacyPolicyUri: 'disclaimer',\n            position: 'bottom',\n            duration: 0,\n            explicitConsent: false,\n            cookieScripts: 'Google Analytics', \n            scriptWrapper: cookieController\n        });\n    });\n</script>\n-->","type":"blog","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-12-12T13:56:41.000Z","updated_by":1},{"id":15,"uuid":"963fb4b4-87e6-4848-b8cd-11ba0f20ed9b","key":"labs","value":"{\"publicAPI\":true,\"subscribers\":true,\"internalTags\":true}","type":"blog","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-12-12T13:56:41.000Z","updated_by":1},{"id":16,"uuid":"13e4b6a7-fbee-40ca-bcd9-a25fd23e5353","key":"navigation","value":"[{\"label\":\"Accueil\",\"url\":\"/\"},{\"label\":\"A Propos\",\"url\":\"/a-propos/\"},{\"label\":\"Mise en garde\",\"url\":\"/disclaimer/\"},{\"label\":\"Docker\",\"url\":\"/tag/docker/\"},{\"label\":\"Trucs et Astuces\",\"url\":\"/tag/trucs-et-astuces/\"},{\"label\":\"Recherche\",\"url\":\"/recherche/\"}]","type":"blog","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-12-12T13:56:41.000Z","updated_by":1},{"id":17,"uuid":"aae471dd-184d-4e99-8cd6-19953443cfa5","key":"activeApps","value":"[]","type":"app","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-05-18T08:43:36.000Z","updated_by":1},{"id":18,"uuid":"69fe0280-e785-45e6-955b-598ec74801ed","key":"installedApps","value":"[]","type":"app","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-12-16T08:16:33.000Z","updated_by":1},{"id":19,"uuid":"255f8744-5ab2-4248-8abc-25ccd4a5e619","key":"isPrivate","value":"false","type":"private","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-12-12T13:56:41.000Z","updated_by":1},{"id":20,"uuid":"76df6158-2509-4164-be83-3c3e25bf045a","key":"password","value":"null","type":"private","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-12-12T13:56:41.000Z","updated_by":1},{"id":21,"uuid":"e4432179-219e-4ed3-a9ee-937db57ada1c","key":"activeTheme","value":"Ghost-Flat","type":"theme","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-12-12T13:56:41.000Z","updated_by":1},{"id":22,"uuid":"b446c7e9-b51b-46c7-a97d-0221ada3088c","key":"facebook","value":"","type":"blog","created_at":"2016-05-23T20:28:30.000Z","created_by":1,"updated_at":"2016-12-12T13:56:41.000Z","updated_by":1},{"id":23,"uuid":"c0b88eb9-ddd3-4c2d-b4fd-6243616bff8e","key":"twitter","value":"@TechAldanet","type":"blog","created_at":"2016-05-23T20:28:30.000Z","created_by":1,"updated_at":"2016-12-12T13:56:41.000Z","updated_by":1},{"id":24,"uuid":"f1dc93f5-467f-412b-bd44-64fff2a50232","key":"slack","value":"[{\"url\":\"\"}]","type":"blog","created_at":"2016-05-23T20:28:30.000Z","created_by":1,"updated_at":"2016-12-12T13:56:41.000Z","updated_by":1},{"id":25,"uuid":"16556443-4a8c-4b55-a845-713d881bfb92","key":"seenNotifications","value":"[]","type":"core","created_at":"2016-08-02T18:57:53.000Z","created_by":1,"updated_at":"2016-08-02T18:57:53.000Z","updated_by":1},{"id":26,"uuid":"74b552ba-b043-499a-9aaa-400a6116e9af","key":"migrations","value":"{}","type":"core","created_at":"2016-08-02T18:57:53.000Z","created_by":1,"updated_at":"2016-08-02T18:57:53.000Z","updated_by":1},{"id":27,"uuid":"cc92b2c4-2bff-48b0-a06e-24831148a4df","key":"activeTimezone","value":"Europe/Paris","type":"blog","created_at":"2016-08-02T18:57:53.000Z","created_by":1,"updated_at":"2016-12-12T13:56:41.000Z","updated_by":1}],"subscribers":[],"tags":[{"id":2,"uuid":"21fd2adf-7c24-41b7-8d9d-c60db378a4cf","name":"2015","slug":"2015","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":3,"uuid":"f42f88f2-bc6f-47b1-ad22-0b3488bec9a6","name":"8.1","slug":"8-1","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":4,"uuid":"f71fbe34-601c-444f-bb08-13f09c2bf384","name":"A Chaud","slug":"a-chaud","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":5,"uuid":"aab3be5e-b85f-434c-93ec-20bc87d97622","name":"accéder à pluzz fr avec plex","slug":"acceder-a-pluzz-fr-avec-plex","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":6,"uuid":"443a9afc-cfbf-41e6-b317-f8a79cb34365","name":"accéder à pluzz fr et spotify avec plex","slug":"acceder-a-pluzz-fr-et-spotify-avec-plex","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":7,"uuid":"0af99a52-efc2-4559-b8d4-5062b997d939","name":"Active Directory","slug":"active-directory","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":8,"uuid":"5a099679-badd-47c7-a019-6dcd99f6a2b9","name":"activer l access log sur varnish","slug":"activer-l-access-log-sur-varnish","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":9,"uuid":"6971d93e-8891-41ad-ae39-42a5c6447e42","name":"activer le god mode dans windows 10","slug":"activer-le-god-mode-dans-windows-10","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":10,"uuid":"48dd830a-d798-4c5c-9eb3-fc1fa3402e53","name":"activer les huge pages pour oracle","slug":"activer-les-huge-pages-pour-oracle","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":11,"uuid":"96477498-64c3-468b-8636-f6d45a496ad8","name":"Activer partage d'écran","slug":"activer-partage-decran","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":12,"uuid":"8ce070b2-359b-4524-ac75-2c7eeeea3a5f","name":"Agent","slug":"agent","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":13,"uuid":"49824523-0b56-4eea-af69-b526dc0ee67e","name":"Agrandir","slug":"agrandir","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":14,"uuid":"8f3ce4b7-94b2-4b5b-ab75-afe0ea7a5ba3","name":"AirPlay","slug":"airplay","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":15,"uuid":"7069f857-d828-40c0-8688-c1c50e98ee68","name":"ajouter automatiquement les h tes dans les known hosts de ssh","slug":"ajouter-automatiquement-les-h-tes-dans-les-known-hosts-de-ssh","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":16,"uuid":"1b3e687c-aa8c-4ce6-a3ab-ccdf75700b91","name":"Ajouter des disques","slug":"ajouter-des-disques","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":17,"uuid":"f4eaf8dc-3836-4495-894b-471bf3afbb6e","name":"Ajouter disques","slug":"ajouter-disques","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":18,"uuid":"8b9d813f-e48a-4f4a-8f4a-6507dfdcec75","name":"alertes","slug":"alertes","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":19,"uuid":"8e921a04-50c0-4a36-b031-b0f55c9812d4","name":"Android","slug":"android","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":20,"uuid":"c86a71fd-f058-4d74-a211-61e146f801a1","name":"Anglais","slug":"anglais","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":21,"uuid":"c72b8505-3555-4fb9-865b-c64de2154512","name":"APK","slug":"apk","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":22,"uuid":"7972db2c-655d-459b-9628-c77293be17ea","name":"App","slug":"app-tag","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":23,"uuid":"35e2531a-4be1-4a02-a34e-d88e14502729","name":"Apple","slug":"apple","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":24,"uuid":"a21e2d9b-dce1-4cd7-97aa-7994444c20ea","name":"Apple Store","slug":"apple-store","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":25,"uuid":"17a77144-b1ad-4b9c-b492-6c3efe45c56b","name":"Apple Watch","slug":"apple-watch","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":26,"uuid":"d939c202-b300-46fb-920f-de22f5cccd34","name":"AppleScript","slug":"applescript","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":27,"uuid":"a5234538-eb25-4fc6-8606-baa3cd2ea306","name":"Apps","slug":"apps-tag","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":28,"uuid":"2cd993d3-b2f7-47b7-b670-eda1d7f81f83","name":"Archive Log","slug":"archive-log","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":29,"uuid":"d9136f52-d8cd-4357-956d-057298280ba3","name":"Attachments","slug":"attachments","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":30,"uuid":"dfc91dda-7577-472e-9534-08af57f8312b","name":"Authentification","slug":"authentification","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":31,"uuid":"5e28f7b4-3802-49bb-b310-6f55680b2525","name":"avec ios9 vous devrez vous présenter à siri avant de l interpeler","slug":"avec-ios9-vous-devrez-vous-presenter-a-siri-avant-de-l-interpeler","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":32,"uuid":"6369c036-9971-44dd-9da8-cb7a1527b01c","name":"Backup","slug":"backup","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":33,"uuid":"22aed677-6b48-4768-83df-699003cea03f","name":"BackupExec","slug":"backupexec","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":34,"uuid":"0de3eac4-aab8-4272-9e06-06b9b17b201b","name":"baisser la version de hardware d une vm vmware","slug":"baisser-la-version-de-hardware-d-une-vm-vmware","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":35,"uuid":"966a67b3-18aa-4249-bb20-df72a3a35d53","name":"bannir définitivement les habitués de fail2ban","slug":"bannir-definitivement-les-habitues-de-fail2ban","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":36,"uuid":"2a26e82f-19e4-4bfa-9888-28b2e1bbe921","name":"Bash","slug":"bash","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":37,"uuid":"e3ba26bb-e336-4f58-a272-969fe9c48b25","name":"Beta","slug":"beta","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":38,"uuid":"1bf48ca5-1575-4635-8c15-c85d2a50ff21","name":"Bidouille","slug":"bidouille","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":39,"uuid":"27fa282c-7ea3-44ee-ab18-5fedfdcca62f","name":"Bidouilles","slug":"bidouilles","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":40,"uuid":"54a9d161-07f6-41ed-b7db-7c5e737b021c","name":"Blizzard","slug":"blizzard","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":41,"uuid":"87dac293-7c36-40b8-8f72-7b3dcfa3be6d","name":"blog en deuil","slug":"blog-en-deuil","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":42,"uuid":"8591f455-e6cb-4c10-aa35-47e3653b65c1","name":"Bonne action","slug":"bonne-action","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":43,"uuid":"5d5445c6-5df8-43b5-a9b4-fbd2326bf135","name":"Bonne année","slug":"bonne-annee","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":44,"uuid":"bef84a20-580b-4e67-98f7-6d87b0c05e54","name":"Bonne cause","slug":"bonne-cause","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":45,"uuid":"5fefc014-df14-44dd-b84e-7d1ad5c9fdde","name":"bonne et heureuse année 2015","slug":"bonne-et-heureuse-annee-2015","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":46,"uuid":"2eb1611f-613b-4eeb-8b19-e408dc773e4a","name":"Bons plans","slug":"bons-plans","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":47,"uuid":"2704093d-a51d-4486-9896-12ac2b9e9a0f","name":"bons plans à gogo","slug":"bons-plans-a-gogo","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":48,"uuid":"e94d702f-5306-424f-85db-93a7c874b950","name":"Boost","slug":"boost","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":49,"uuid":"999671ea-6d05-4490-902c-75980c3b8ba1","name":"bug","slug":"bug","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":50,"uuid":"bec70602-efad-473c-a099-943cdfc51797","name":"Cache","slug":"cache","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":51,"uuid":"cf7e9fa8-82ae-4c6f-b190-ceeabf5cfafd","name":"calDAV","slug":"caldav","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":52,"uuid":"d5877864-0be5-496c-be96-ef1b23e57e64","name":"Cancer","slug":"cancer","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":53,"uuid":"d78f8c28-49a4-45aa-b3d9-847b4f822cab","name":"carDAV","slug":"cardav","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":54,"uuid":"5c1fdbff-b2ce-49c3-90f9-e76a85d85542","name":"Centos","slug":"centos","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":55,"uuid":"da2209fc-7f93-4b1a-a48b-d3bf18dc54cd","name":"CentOS 6","slug":"centos-6","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":56,"uuid":"5d12146e-8327-4d34-99a7-9389df3c50dd","name":"Centreon","slug":"centreon","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":57,"uuid":"e0769910-caf1-4bd0-bc8c-96a623590a77","name":"changer l emplacement des données mysql","slug":"changer-l-emplacement-des-donnees-mysql","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":58,"uuid":"73e589e1-7901-4e7d-8e3f-aef84a5fddd3","name":"changer le moteur utilisé par une base mysql","slug":"changer-le-moteur-utilise-par-une-base-mysql","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":59,"uuid":"efb7b603-4ac9-40f2-91a8-8b356e3e2956","name":"Changer moteur","slug":"changer-moteur","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":60,"uuid":"d07582d0-e878-46a0-bd1f-80afe3e9e5e1","name":"Chiffres","slug":"chiffres","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":61,"uuid":"5e409ea8-d0b4-478d-9741-24bbbd50f1c2","name":"Chroot","slug":"chroot","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":62,"uuid":"57ea4fe7-d400-49f6-9e84-439759e8a03a","name":"classement","slug":"classement","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":63,"uuid":"4148e593-b881-4db7-aef4-5e71e30ac213","name":"Clef USB bootable","slug":"clef-usb-bootable","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":64,"uuid":"a00c0d19-e5ac-4d1f-87a2-8527a5bebebb","name":"CLI","slug":"cli","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":65,"uuid":"3ab8b531-b0dc-4af1-9e9d-8e8aedd110a7","name":"Cloud Control","slug":"cloud-control","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":66,"uuid":"9a147ad8-dfba-40c6-8180-b48c8f676d6d","name":"cloud control 12c agent down","slug":"cloud-control-12c-agent-down","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":67,"uuid":"86a00a25-1298-459c-a8d4-bfeaec1e7bfd","name":"Confidentialité","slug":"confidentialite","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:51.000Z","created_by":1,"updated_at":"2016-05-18T08:46:51.000Z","updated_by":1,"visibility":"public"},{"id":68,"uuid":"792b3aa0-9b9e-4560-b790-ef1f6cf02bce","name":"configurer les archive logs d oracle","slug":"configurer-les-archive-logs-d-oracle","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":69,"uuid":"a104593b-4fbf-481c-9bb5-f0561d25a372","name":"contacts","slug":"contacts","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":70,"uuid":"31103209-f9db-4631-b590-0300f6132ebd","name":"Copie bit à bit","slug":"copie-bit-a-bit","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":71,"uuid":"91b12a24-b80b-4193-8d5f-7f8bd84ecc1a","name":"Coup de fouet","slug":"coup-de-fouet","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":72,"uuid":"3cf02882-3fac-43da-9d2f-3bbcc4937f13","name":"CPU Ready","slug":"cpu-ready","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":73,"uuid":"2c8bd256-ea85-4bb1-b312-492e17cd5abc","name":"crontab","slug":"crontab","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":74,"uuid":"d02df6d4-fe6f-42d8-b354-188a8887e70d","name":"CSS","slug":"css","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":75,"uuid":"9a9081ab-a2d3-484d-9597-c9b409a8efd6","name":"Customisation","slug":"customisation","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":76,"uuid":"accc5667-91aa-4b99-9a73-ef3540b898b2","name":"Datafiles","slug":"datafiles","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":77,"uuid":"0674f88f-00b2-4ac6-87c3-f3bae13cf956","name":"dd","slug":"dd","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":78,"uuid":"b6879dec-0251-4072-9ebf-dc09d9011e89","name":"Dealabs","slug":"dealabs","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":79,"uuid":"bec82b31-0d2b-47f1-82f3-a4951895e65e","name":"Debian","slug":"debian","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":80,"uuid":"b726b26d-ed91-4243-b0c4-9e1becdb90a1","name":"Debug","slug":"debug","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":81,"uuid":"c71141fb-a472-43a7-8e60-355c097728e0","name":"déplacer un disque spécifique avec storage vmotion","slug":"deplacer-un-disque-specifique-avec-storage-vmotion","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":82,"uuid":"a26ebe41-8fb9-4cc7-bacc-36ce2f48c522","name":"des bons plans pour vos forfaits mobile et adsl","slug":"des-bons-plans-pour-vos-forfaits-mobile-et-adsl","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":83,"uuid":"449813c1-9b0d-4dec-80f0-81598d756446","name":"désactiver écran de connexion","slug":"desactiver-ecran-de-connexion","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":84,"uuid":"6e36b592-1c05-42de-b173-3c90f267b58e","name":"désactiver firewalld et remettre iptables sur fedora 21","slug":"desactiver-firewalld-et-remettre-iptables-sur-fedora-21","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":85,"uuid":"7c34ae20-d46f-40b7-b3f1-f358f18782b4","name":"désactiver l écran de connexion dans windows 10","slug":"desactiver-l-ecran-de-connexion-dans-windows-10","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":86,"uuid":"6d0a64bc-63c6-4f0a-bd35-dc238fa5c5a6","name":"Dis Siri","slug":"dis-siri","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":87,"uuid":"90ff84a1-518a-4ced-9a63-bd1118c31a19","name":"DNS","slug":"dns","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":88,"uuid":"d862c419-119c-4019-ac7f-dd8134f057fd","name":"Docker","slug":"docker","description":"Docker et son écosystème","image":"/content/images/2016/11/docker.png","parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-11-23T10:47:24.000Z","updated_by":1,"visibility":"public"},{"id":89,"uuid":"dab75d39-502c-4c46-afed-8d58a9e68b57","name":"DocPhone","slug":"docphone","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":90,"uuid":"9f365fcd-5b35-4dd8-9c77-229044b4984c","name":"Doublons","slug":"doublons","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":91,"uuid":"db5ded95-f678-4ed4-b011-f943cbdd7293","name":"Dovecot","slug":"dovecot","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":92,"uuid":"c371ec71-817e-4c5f-90b7-7f44d8d789a8","name":"Download","slug":"download","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":93,"uuid":"90b59299-f66f-45d4-95cf-f54ad0e9345d","name":"DuckDuckGo","slug":"duckduckgo","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":94,"uuid":"33113b2d-e97e-4de3-a2c3-dda95c6d23f9","name":"duckduckgo permet de rechercher des vols","slug":"duckduckgo-permet-de-rechercher-des-vols","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":95,"uuid":"d56daac2-0c49-493e-a6bc-11c86e53d5a7","name":"duckduckgo protège votre vie privée et ajoute des nouvelles fonctionnalités","slug":"duckduckgo-protege-votre-vie-privee-et-ajoute-des-nouvelles-fonctionnalites","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":96,"uuid":"98123d26-2fa4-4576-b936-5eb1d2adf064","name":"EMC","slug":"emc","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":97,"uuid":"1c4acfc1-4a4f-4b54-9570-9d1f82f68408","name":"empêcher les mises à jour d un paquet sur ubuntu","slug":"empecher-les-mises-a-jour-d-un-paquet-sur-ubuntu","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":98,"uuid":"f5278a48-35e2-4a40-8762-ffa73274c3a5","name":"empêcher windows de rebooter automatiquement après une mise à jour","slug":"empecher-windows-de-rebooter-automatiquement-apres-une-mise-a-jour","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":99,"uuid":"c05089c9-2fdd-43e9-8496-cbad5c140431","name":"envoyer les identifiants teamviewer par mail avec un applescript","slug":"envoyer-les-identifiants-teamviewer-par-mail-avec-un-applescript","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":100,"uuid":"e0bfd0da-ae98-4b79-99e2-d876e3b51a24","name":"envoyer les identifiants teamviewer par mail avec un applscript","slug":"envoyer-les-identifiants-teamviewer-par-mail-avec-un-applscript","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":101,"uuid":"38883c38-ab5b-409c-aff5-7b7c64775220","name":"Export PST","slug":"export-pst","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":102,"uuid":"ae4a8c19-7980-4337-9233-f9ff7aa958fd","name":"ext4_sync_file","slug":"ext4_sync_file","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":103,"uuid":"e39e278c-f509-444b-ba51-dddcf4e4f4f7","name":"FaceBook","slug":"facebook","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":104,"uuid":"767a9073-99d0-4615-aa1d-82af68b1847b","name":"fail2ban","slug":"fail2ban","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":105,"uuid":"e4d8c3fa-58ec-4caf-95ff-9afee6a4f36b","name":"faille","slug":"faille","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":106,"uuid":"784851b7-c6b7-4736-a8b6-2fd48a318186","name":"Faille de sécurité","slug":"faille-de-securite","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":107,"uuid":"60864b64-fb17-4eba-bbef-046d53ac06dd","name":"faille de sécurité critique dans ntp","slug":"faille-de-securite-critique-dans-ntp","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":108,"uuid":"e773cee6-ff1e-40be-a983-354dcbee1c12","name":"FailOver IP","slug":"failover-ip","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":109,"uuid":"c32e6589-2069-4aae-9bcf-60121e786b6b","name":"Fedora","slug":"fedora","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":110,"uuid":"28fdbd5f-6079-439a-8557-ba1217dddcdf","name":"Fedora 11","slug":"fedora-11","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":111,"uuid":"7f9c9684-af36-427b-a2b1-d26df013bb29","name":"Festival","slug":"festival","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":112,"uuid":"50450827-decc-4d1b-b087-804baccf24aa","name":"FileLink","slug":"filelink","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":113,"uuid":"b0e4079b-3f2e-465e-9792-70c0e79d8432","name":"Find","slug":"find","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":114,"uuid":"9e28c3a6-df2b-4341-a6e7-a76b3ddfb0d1","name":"Firefox","slug":"firefox","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":115,"uuid":"ce091317-a8a3-4767-aa14-23e7af7fa3b3","name":"FirewallD","slug":"firewalld","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":116,"uuid":"13934a05-10ed-4571-ac55-01a3c5d5be24","name":"Flags","slug":"flags","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":117,"uuid":"777c89a7-ff29-42a4-a3cb-3681c6f2b8ac","name":"Flash","slug":"flash","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":118,"uuid":"e53e9e15-031a-4e6f-ae0b-2501cd137541","name":"ForceBindIP","slug":"forcebindip","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":119,"uuid":"57a345f8-e910-47f7-af1a-a4c89602229c","name":"forwarding","slug":"forwarding","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":120,"uuid":"e5a1f9af-aadb-4e1e-8a3d-4e0b034e99b5","name":"g rer les tablespaces et les datafiles","slug":"g-rer-les-tablespaces-et-les-datafiles","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":121,"uuid":"5b9d9e72-8a91-40de-9ac7-c8e357652fec","name":"gérer les tablespaces et les datafiles","slug":"gerer-les-tablespaces-et-les-datafiles","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":122,"uuid":"490bb421-4901-4eba-8b0a-f8ee047978d4","name":"globe-trotters","slug":"globe-trotters","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":123,"uuid":"d8a1b42b-a3d2-45dd-a343-1fdf613a3d33","name":"Gnome","slug":"gnome","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":124,"uuid":"becd1140-6461-4111-b39a-352707bdf33c","name":"God Mode","slug":"god-mode","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":125,"uuid":"6d1209b9-0847-46ee-816b-c16e88396bf2","name":"Google","slug":"google","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":126,"uuid":"23289553-a698-4af9-90b9-e6004a9b9b9d","name":"google refuse les mails venant de postfix","slug":"google-refuse-les-mails-venant-de-postfix","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":127,"uuid":"4a264fa0-ab07-4d44-b717-c80eb37eb9e5","name":"GoPro","slug":"gopro","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":128,"uuid":"37022074-2ff0-4c70-afb7-179ce4f62f35","name":"Gros Dump","slug":"gros-dump","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":129,"uuid":"cf44498f-52b3-49b6-ac75-d38427b42a2c","name":"Hébergement","slug":"hebergement","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":130,"uuid":"d00cdae3-499a-41a4-b3c1-02b2662f676b","name":"héberger votre moteur de recherche","slug":"heberger-votre-moteur-de-recherche","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":131,"uuid":"71b5dd68-0ad7-415c-bccc-e55c64769f59","name":"Heroes of the Storm","slug":"heroes-of-the-storm","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":132,"uuid":"08b0001d-c134-400e-94d3-b427f7b9d77f","name":"hosts","slug":"hosts","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":133,"uuid":"48c11fdd-d069-436c-9f7b-fbc97cbadc9f","name":"Huge Pages","slug":"huge-pages","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":134,"uuid":"d96debe6-8ad1-4da1-aeaf-ff16c5a3dbeb","name":"HugePages","slug":"hugepages","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":135,"uuid":"904f13d6-e1ed-4d5c-89a4-c92cba64ec8e","name":"iGraal","slug":"igraal","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":136,"uuid":"0f3da580-ec25-44da-9b10-4f3589ab693a","name":"Image à la une","slug":"image-a-la-une","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":137,"uuid":"d8e07902-2ff2-4b25-8208-fbc0dadd6a75","name":"Imap","slug":"imap","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":138,"uuid":"bad8ed7e-8f55-4845-8330-c21d76b9f3a7","name":"imp","slug":"imp","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":139,"uuid":"419011e7-6543-4147-9f2a-5f6a590feff9","name":"Import","slug":"import","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":140,"uuid":"2ef69b43-db41-4860-ba30-120e86f2dcbe","name":"importer des utilisateurs active directory dans itop","slug":"importer-des-utilisateurs-active-directory-dans-itop","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":141,"uuid":"4edb431e-3640-4dc7-994b-d81ceae9c01c","name":"impossible de compiler le module vmnet sur fedora 11","slug":"impossible-de-compiler-le-module-vmnet-sur-fedora-11","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":142,"uuid":"857a19c9-e808-4f3a-a988-07d1fec286ae","name":"Indexation full text","slug":"indexation-full-text","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":143,"uuid":"2cf13796-c4be-46bf-aa1f-779fcaae6ffb","name":"Installation","slug":"installation","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":144,"uuid":"6acb046c-4e30-4151-a9cb-617e814d2a64","name":"installer flash pour chromium sur un raspberry pi 2","slug":"installer-flash-pour-chromium-sur-un-raspberry-pi-2","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":145,"uuid":"5842421e-aad6-49b7-b524-95f04624e3e1","name":"installer les pilotes odbc pour office 2010","slug":"installer-les-pilotes-odbc-pour-office-2010","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":146,"uuid":"a3e4b514-60e8-4e77-8100-c6ef0b662905","name":"installer manuellement tomcat 8 sur fedora 21","slug":"installer-manuellement-tomcat-8-sur-fedora-21","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":147,"uuid":"6eec963e-6121-430c-be5b-641ae76bd00b","name":"installer ubuntu mate 15 04 sur une raspberry pi 2","slug":"installer-ubuntu-mate-15-04-sur-une-raspberry-pi-2","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":148,"uuid":"5711a32d-ff71-4cab-8922-fde7e88fd969","name":"installer un serveur openvpn sur ubuntu 15 04","slug":"installer-un-serveur-openvpn-sur-ubuntu-15-04","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":149,"uuid":"beeca616-dcfd-432f-ae53-ede95179dd8e","name":"Internet","slug":"internet","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":150,"uuid":"70507099-e48d-44db-853a-d923ac6c4274","name":"introduction a docker avec l indexation full text des mails","slug":"introduction-a-docker-avec-l-indexation-full-text-des-mails","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":151,"uuid":"433debdf-b162-4e7c-8143-780c525a72f5","name":"iOS","slug":"ios","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":152,"uuid":"82366529-4fa7-4d24-80a4-ddbf790ee10e","name":"iOS 9","slug":"ios-9","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":153,"uuid":"6ec0c5ef-f19f-4367-90f0-478bd17af160","name":"iOS8","slug":"ios8","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":154,"uuid":"07f7dd45-0511-4ab6-a93c-5431507b681e","name":"ip failover avec keepalived","slug":"ip-failover-avec-keepalived","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":155,"uuid":"a1b850bc-bc3a-4a15-86e3-d2da01c183ed","name":"iPhone","slug":"iphone","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":156,"uuid":"8bb53866-fe39-4536-a836-5de19a2b6f48","name":"iPhone 6","slug":"iphone-6","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":157,"uuid":"4373910e-149b-4f76-bbac-1944c171e0b7","name":"iPhone6","slug":"iphone6","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":158,"uuid":"f6b8bd4a-5d04-4da3-8e98-b5577473beff","name":"iptables","slug":"iptables","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":159,"uuid":"37de1ec1-9e77-4db0-b5c2-20f54f5c7ac5","name":"iTop","slug":"itop","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":160,"uuid":"18a67bf0-15a8-4c36-8f51-83320eacba72","name":"Je suis Charlie !","slug":"je-suis-charlie","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":161,"uuid":"70399c0e-8c2a-46ea-9599-5aeb2ed7a2f7","name":"Jonction dossiers","slug":"jonction-dossiers","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":162,"uuid":"9006300d-abe6-4495-be98-64560157b46b","name":"Joyeux Noël","slug":"joyeux-noel","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":163,"uuid":"3e2dfef4-5fc1-467a-96d6-12719823a564","name":"joyeux noël à tous","slug":"joyeux-noel-a-tous","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":164,"uuid":"0d8cf9dd-de84-404a-8ff3-589d795b7139","name":"Justifier le texte","slug":"justifier-le-texte","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":165,"uuid":"be6644f2-175b-4d5d-a22f-b1c6c4b84a93","name":"justifier tous les articles dans wordpress","slug":"justifier-tous-les-articles-dans-wordpress","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":166,"uuid":"462d4825-f72f-46f0-a0ee-14b4f5740003","name":"Kernel 4.0","slug":"kernel-4-0","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":167,"uuid":"0d8369f7-cd6c-476c-b9ec-12e76391b9bc","name":"Known Hosts","slug":"known-hosts","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":168,"uuid":"c66e84d9-f84d-4b30-9453-31a2c5c16d1c","name":"la fin est proche","slug":"la-fin-est-proche","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":169,"uuid":"1060f19d-3b87-4992-a2e6-112165e52e4c","name":"la réplication multi maitres avec mysql","slug":"la-replication-multi-maitres-avec-mysql","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":170,"uuid":"5cf2080d-7bed-4f0f-a6ea-58a53be297dd","name":"lancer plusieurs instances mysql sur une machine","slug":"lancer-plusieurs-instances-mysql-sur-une-machine","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":171,"uuid":"38992574-0cee-46db-899c-b02031eee4a9","name":"Le rêve de mon beau frère","slug":"le-reve-de-mon-beau-frere","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":172,"uuid":"829a29d4-ecad-4b11-9d89-b3f948ee0545","name":"le rêve de nicolas","slug":"le-reve-de-nicolas","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":173,"uuid":"d79582e5-3f59-4a7e-bd24-0d44364057a6","name":"Le Rêve des Lucioles","slug":"le-reve-des-lucioles","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":174,"uuid":"ed0dd341-c6e3-4544-9802-c946fba3366c","name":"Lens","slug":"lens","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":175,"uuid":"1d3816dd-b295-4ed4-970f-cb333dbb174c","name":"Les bases","slug":"les-bases","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":176,"uuid":"c979e23d-e085-40ba-82a7-a5c0cfc178fb","name":"Linux","slug":"linux","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":177,"uuid":"102c1731-aead-4c9c-a201-88371eee70f0","name":"Lion","slug":"lion","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":178,"uuid":"4f342778-30ac-4863-9a36-ef3aeb6bd400","name":"Listener","slug":"listener","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":179,"uuid":"2dade660-30eb-40c5-9319-0ffdd8be7b67","name":"lister les jobs concurrents dans backupexec avec powsershell","slug":"lister-les-jobs-concurrents-dans-backupexec-avec-powsershell","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":180,"uuid":"44ef5009-95a8-494f-a9fd-f038f3f0a0be","name":"Locale","slug":"locale","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":181,"uuid":"2ea781ac-6ebd-4c20-a3ec-b8cedb4b03d0","name":"Logs","slug":"logs","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":182,"uuid":"94e94992-8ab3-4a5b-b73f-ab55e2aebe26","name":"Logs centralisés","slug":"logs-centralises","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":183,"uuid":"64a41c77-de61-464b-8c41-333eb6fb4b93","name":"Logstash","slug":"logstash","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":184,"uuid":"9960f50f-c4bf-42a5-a47d-42c27c879b39","name":"Loto Bouse","slug":"loto-bouse","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":185,"uuid":"ecd0cfbf-5447-4cd8-81c1-9eb44eb0f150","name":"Low Cost","slug":"low-cost","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":186,"uuid":"a3f775d3-bb6d-4ad0-b459-0671bdc5e5c2","name":"LVM","slug":"lvm","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":187,"uuid":"da40dfeb-1938-412a-9575-d766d7cee315","name":"Lyon","slug":"lyon","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":188,"uuid":"afc37f17-d135-46aa-978e-e71edc63206c","name":"Mac","slug":"mac","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":189,"uuid":"bd0c8a64-3546-4704-a100-ce83293cb8d8","name":"MacBook","slug":"macbook","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":190,"uuid":"6bf32bb7-033c-4bef-a0e9-5fb369edd22e","name":"mail","slug":"mail","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":191,"uuid":"26695405-ccc1-4b8c-b5b3-f59885ecd7ef","name":"mail in a box les astuces qui vous sauveront la vie","slug":"mail-in-a-box-les-astuces-qui-vous-sauveront-la-vie","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":192,"uuid":"2962cfae-8fa5-4a7f-9869-27708ffc5f20","name":"mail in a box migrer la base de donnees sqlite vers mysql","slug":"mail-in-a-box-migrer-la-base-de-donnees-sqlite-vers-mysql","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":193,"uuid":"9d5ed8f7-0361-4f6a-9ea2-3ccaba4653b0","name":"Mail-in-a-Box","slug":"mail-in-a-box","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":194,"uuid":"78f50b28-7e0a-4269-91db-f730f561ce45","name":"Mails","slug":"mails","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":195,"uuid":"30d0270d-410b-4553-844f-0fa69bc3e39a","name":"MariaDB","slug":"mariadb","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":196,"uuid":"63ccc94c-443e-47d8-8b30-57634a1de1e9","name":"media center","slug":"media-center","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":197,"uuid":"e4640576-bac2-4488-9dc2-b98fdd899fc8","name":"Ménage","slug":"menage","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":198,"uuid":"87a3067e-0eb8-4bb4-8ebf-4a9b1f41f88d","name":"ménage dans srm après un test de bascule","slug":"menage-dans-srm-apres-un-test-de-bascule","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":199,"uuid":"7fcafbfb-ba68-40af-9ab7-21f2650d37bf","name":"Merci à vous tous","slug":"merci-a-vous-tous","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":200,"uuid":"3e9357a9-e1f9-48d9-ae0c-4d1415a9b6ff","name":"Metadata","slug":"metadata","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":201,"uuid":"77051276-a611-45ff-a82a-a73f0837fde2","name":"mettre une image à la une d un article via mysql","slug":"mettre-une-image-a-la-une-d-un-article-via-mysql","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":202,"uuid":"b6875b12-e1bf-49de-8bdd-eedf9e760213","name":"Microsoft","slug":"microsoft","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":203,"uuid":"48f8ac25-53f7-4272-a034-2ba879b94f68","name":"Mid 2010","slug":"mid-2010","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":204,"uuid":"bc0e9965-44b7-43c7-aff6-78b7599a4954","name":"migration","slug":"migration","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":205,"uuid":"381a9832-247d-47df-8317-c8092eaf20e0","name":"Mini Jeu","slug":"mini-jeu","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":206,"uuid":"29614290-a1e8-49eb-bef2-5616c9e0f84e","name":"Mise à jour","slug":"mise-a-jour","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":207,"uuid":"fb822120-03eb-47f5-914a-cdc69a8b7f5e","name":"Mises à jour","slug":"mises-a-jour","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":208,"uuid":"52bcdd81-d8d5-4b79-90e2-a66b9c6bbe8d","name":"monter un vpn automatiquement lorsqu une application est lancee sur windows","slug":"monter-un-vpn-automatiquement-lorsqu-une-application-est-lancee-sur-windows","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":209,"uuid":"fb399fad-da87-4e52-8c02-53ee1d5327a0","name":"Moteur de recherche","slug":"moteur-de-recherche","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":210,"uuid":"8b0673d2-da5b-4bc7-a1c3-e372de057aa4","name":"Mult-master","slug":"mult-master","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":211,"uuid":"07707683-6bb1-4c7c-aaff-bf3bb75945c5","name":"Multi instances","slug":"multi-instances","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":212,"uuid":"a40bc085-e65d-43b4-b96a-0c02da1482c6","name":"MyISAM","slug":"myisam","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":213,"uuid":"148d130d-51b4-4b9f-ba3f-5154d7b747a2","name":"MySQL","slug":"mysql","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":214,"uuid":"2c0dedb9-eb85-461f-b3b9-b8db10d22cdf","name":"Nagios","slug":"nagios","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":215,"uuid":"ae83d036-6149-4da7-9ceb-8e71bdc7052e","name":"NFS","slug":"nfs","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":216,"uuid":"005f92f0-f8fe-4c56-91de-df7113664f68","name":"NTP","slug":"ntp","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:52.000Z","created_by":1,"updated_at":"2016-05-18T08:46:52.000Z","updated_by":1,"visibility":"public"},{"id":217,"uuid":"c925f04b-54d6-4b2b-bab1-06eb10cb892a","name":"ODBC","slug":"odbc","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":218,"uuid":"32fe91e2-f3f4-47f2-beee-797f1475c27a","name":"Office","slug":"office","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":219,"uuid":"5e7e811a-707c-4195-b954-d7eb5f413ab3","name":"OneDrive","slug":"onedrive","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":220,"uuid":"fdb24ee8-6adc-4ef7-8134-7e562ec5856a","name":"OneNote","slug":"onenote","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":221,"uuid":"180a4eb5-4110-4031-95e8-bbc74821d81c","name":"OpenVPn","slug":"openvpn","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":222,"uuid":"fd93396e-d9b8-46b0-a05a-701fca05245d","name":"ORA-00239","slug":"ora-00239","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":223,"uuid":"8156ece4-86d0-4eae-8880-0007941a793b","name":"ORA-00494","slug":"ora-00494","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":224,"uuid":"ed5164b0-cd15-449f-bfa8-9ca338f27cd8","name":"Oracle","slug":"oracle","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":225,"uuid":"bbfb2e79-6cbd-44ff-b6c6-c7677e9c1ccb","name":"Oracle Open World","slug":"oracle-open-world","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":226,"uuid":"e5d2da57-0eb3-42b6-8dcf-accb563c3cbb","name":"OS X","slug":"os-x","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":227,"uuid":"b2d8967c-e34f-4b12-9700-50e50bf26964","name":"OSMC","slug":"osmc","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":228,"uuid":"fbf4180a-9c4f-42e4-a018-f6debe8ece07","name":"OSX","slug":"osx","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":229,"uuid":"c139160a-df60-4411-b779-e5c3ee18aedf","name":"Outils","slug":"outils","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":230,"uuid":"3ec316d4-4adc-4e34-9bdf-92b927a3b2a7","name":"OVH","slug":"ovh","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":231,"uuid":"50b11e15-0b2b-4101-9709-960b6045763a","name":"OwnCloud","slug":"owncloud","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":232,"uuid":"177fe7dd-0e8e-4b64-b0d5-ea34d6b580ed","name":"PDF","slug":"pdf","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":233,"uuid":"bf58129b-4279-49cc-83c5-c9062c8c8cc5","name":"Performances","slug":"performances","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":234,"uuid":"df62ec35-8ef6-48fc-81f6-b005bcd859e0","name":"Permissions","slug":"permissions","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":235,"uuid":"edfaa0cb-04b6-4e42-b7e6-a6c93eb557b4","name":"petite parenthèse de geek solidaire pour soutenir une bonne cause","slug":"petite-parenthese-de-geek-solidaire-pour-soutenir-une-bonne-cause","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":236,"uuid":"78338488-baac-49c8-af8e-90a9f77a09a8","name":"PHAROS","slug":"pharos","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":237,"uuid":"0f23cd15-d589-4412-a03c-1158506a44bc","name":"Photos","slug":"photos","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":238,"uuid":"e3584a8f-d75e-4329-a86f-8aa8fe6105b5","name":"Photos.app","slug":"photos-app","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":239,"uuid":"d7bf3548-98b6-4f9f-8f52-c38003a87f59","name":"PhotoSweeper","slug":"photosweeper","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":240,"uuid":"f752b40f-939f-4bd8-b84e-7514bb714165","name":"Pigeons","slug":"pigeons","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":241,"uuid":"a119a977-519c-4bf9-97a6-97dee7a5ea3a","name":"Plex","slug":"plex","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":242,"uuid":"f0324b04-647c-4512-854e-1145d803a0b3","name":"PlexBMC","slug":"plexbmc","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":243,"uuid":"8dfc9ebb-e335-4aad-92e9-acc2c8e677b6","name":"Pluzz","slug":"pluzz","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":244,"uuid":"6250d69c-3174-400e-ac82-65507ecf9a1a","name":"Pluzz.fr","slug":"pluzz-fr","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":245,"uuid":"d160365c-fe37-4504-ba3c-7b3520dc7199","name":"PMS","slug":"pms","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":246,"uuid":"cb44c302-279a-4f2e-94b2-86f6a1d8d114","name":"Postfix","slug":"postfix","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":247,"uuid":"70c96184-25fe-4b43-aaac-9f9639479c6b","name":"PowerShell","slug":"powershell","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":248,"uuid":"e73fba9b-8e81-4287-84d2-ae6d98398ab4","name":"preview","slug":"preview","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":249,"uuid":"14960823-77b0-4f6f-8e13-0d865c7c69ff","name":"problème de flush de cache disque sur linux hébergeant oracle","slug":"probleme-de-flush-de-cache-disque-sur-linux-hebergeant-oracle","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":250,"uuid":"53e64d41-3578-4572-8657-a2cb09f6682c","name":"problemes de performance sur vmware du a du cpu ready","slug":"problemes-de-performance-sur-vmware-du-a-du-cpu-ready","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":251,"uuid":"80188c44-5af6-4d7c-92c8-359370e0266c","name":"Promos","slug":"promos","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":252,"uuid":"dd0a5b65-fd0c-4dde-ad26-251ffd3618ce","name":"Protection d'écran","slug":"protection-decran","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":253,"uuid":"bf5c9b00-f516-4572-a909-e5b0d11e2a17","name":"PulseHeberg","slug":"pulseheberg","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":254,"uuid":"c6ba4650-32e9-4af2-8cea-ac996139cec9","name":"PusleHeberg","slug":"pusleheberg","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":255,"uuid":"b541ca14-13cd-4659-a63d-c52d909c3b9c","name":"que faire contre les contenus illicites sur internet","slug":"que-faire-contre-les-contenus-illicites-sur-internet","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":256,"uuid":"d237b099-75b7-4387-9a07-fa3b15fd7c8e","name":"RAM","slug":"ram","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":257,"uuid":"3d82d411-994b-40f9-8a5d-dd5e2939323f","name":"Raspberry","slug":"raspberry","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":258,"uuid":"e67cc063-2ecc-429c-a1cd-a597d3baeff4","name":"Raspberry Pi 2","slug":"raspberry-pi-2","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":259,"uuid":"ad5d0aed-8e1c-41d8-95d1-828d65e5e456","name":"reboot","slug":"reboot","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":260,"uuid":"12a40199-a70f-40f4-ad7c-e31ca5973684","name":"RecoverPoint","slug":"recoverpoint","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":261,"uuid":"fedeb5ee-a877-4e59-8139-9b6258ce309f","name":"Reddit","slug":"reddit","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":262,"uuid":"261df7fe-8e50-4416-b1b8-e0a144e38e54","name":"redémarrage distant","slug":"redemarrage-distant","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":263,"uuid":"cd2620c4-98be-4940-bbd7-68b9cbb3b483","name":"redémarrer un ordinateur windows à distance","slug":"redemarrer-un-ordinateur-windows-a-distance","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":264,"uuid":"e5032e89-8904-4539-bd71-d4fb9ab68b98","name":"RedHat","slug":"redhat","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":265,"uuid":"dcf26d0c-a740-4a0f-a34b-07a58ace8854","name":"Redirection","slug":"redirection","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":266,"uuid":"b7da1b55-7abb-4a72-954a-772a0c86c1f9","name":"rediriger une page wordpress p=xxx vers une autre","slug":"rediriger-une-page-wordpress-pxxx-vers-une-autre","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":267,"uuid":"ca025521-52cc-48ee-b259-7a4ce8b2f2e6","name":"réduire la taille d un tempfile qui a pris ses aises","slug":"reduire-la-taille-d-un-tempfile-qui-a-pris-ses-aises","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":268,"uuid":"a864b06d-c54a-4aad-9b5b-591c9c7ddf32","name":"Réglages","slug":"reglages","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":269,"uuid":"848a7dfc-bcbf-4e50-a50e-4603ccffbc83","name":"réinitialiser le mot de passe root sur une appliance vcenter","slug":"reinitialiser-le-mot-de-passe-root-sur-une-appliance-vcenter","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":270,"uuid":"57d7b95e-7475-4e48-9af0-b5e82dc5f478","name":"Réinstallation","slug":"reinstallation","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":271,"uuid":"59e06d78-aafb-4653-a79b-b5fd31668c9b","name":"réinstaller votre mac depuis internet","slug":"reinstaller-votre-mac-depuis-internet","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":272,"uuid":"cbf37628-4487-4007-99f8-b351c0b7c3ad","name":"Replication","slug":"replication","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":273,"uuid":"2a488d1d-9740-4e06-ba33-22aec2ceb422","name":"réseau","slug":"reseau","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":274,"uuid":"4d21bbcf-3221-4946-9361-d5b8746717f1","name":"reset password","slug":"reset-password","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":275,"uuid":"1a402ca3-c87d-427b-aa4f-e2b870f4bb48","name":"Restauration","slug":"restauration","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":276,"uuid":"d1d95731-e149-4fdc-b001-f26d3f697c88","name":"Retour de congés","slug":"retour-de-conges","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":277,"uuid":"d96ed484-d7e8-45e0-bbcd-0740fcfa44d6","name":"RoboCopy","slug":"robocopy","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":278,"uuid":"36dae74c-8cf0-417e-b913-cbbb716e5e9f","name":"rome2rio","slug":"rome2rio","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":279,"uuid":"0b99bea6-1c6b-41c3-9adc-7ff1539d94d1","name":"root","slug":"root","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":280,"uuid":"737a62cb-70a5-4326-83c6-a0c351cd1b7f","name":"rsyslog","slug":"rsyslog","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":281,"uuid":"bb90c4e7-582f-40a8-9ec2-db6cc1ebdb85","name":"Rufus","slug":"rufus","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":282,"uuid":"5daf10cd-3953-420b-a5a8-45ef3b7ec031","name":"Saga","slug":"saga","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":283,"uuid":"a15ddf79-5166-4584-b678-b1cc97a0aa90","name":"saga changement d hébergeur","slug":"saga-changement-d-hebergeur","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":284,"uuid":"8ff75bdd-a33b-4515-ba55-2d27e0c42bcf","name":"Scaleway","slug":"scaleway","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":285,"uuid":"bb286329-c6ee-454c-8692-2b37bfb6095e","name":"Scanner","slug":"scanner","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":286,"uuid":"fe3105b3-63e8-4d78-9a01-3b686998b1e4","name":"script","slug":"script","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":287,"uuid":"1df383a0-1b4d-422f-8b0c-c327224165f2","name":"script de backup mysql","slug":"script-de-backup-mysql","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":288,"uuid":"7065a162-7f44-4445-8dcb-32d099332557","name":"SCSI","slug":"scsi","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":289,"uuid":"096dbcd6-b85b-4904-8c92-a5d2a34f176d","name":"Searx","slug":"searx","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":290,"uuid":"7da436af-d216-4412-8666-be283ef5f6d2","name":"Sécurité","slug":"securite","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":291,"uuid":"6b22706f-71ec-4c06-9ec8-8b030263d76e","name":"Self Hosted","slug":"self-hosted","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":292,"uuid":"a2e6fbf3-6934-499a-9760-a739855c9293","name":"SEO","slug":"seo","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":293,"uuid":"52cc979a-2f0a-4676-a230-afcc9b5961ff","name":"ShairPort","slug":"shairport","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":294,"uuid":"0c521768-b9bd-46e9-b9d6-92cdf5820f10","name":"Shell","slug":"shell","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":295,"uuid":"a9128a55-78c6-4f90-9cb0-b4f63da86ac5","name":"signalement","slug":"signalement","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":296,"uuid":"c9a92f34-a7b8-4ab0-af21-59db15b5e6af","name":"Siri","slug":"siri","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":297,"uuid":"9fa0636a-1fc7-4d10-a157-812ee368df14","name":"Solr","slug":"solr","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":298,"uuid":"630be151-9559-45fb-8701-5d5b88a7a56e","name":"soutenez le reve des lucioles","slug":"soutenez-le-reve-des-lucioles","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":299,"uuid":"79ad8032-2f89-4a0f-afd1-0a51ab104e27","name":"Sponsorisé","slug":"sponsorise","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":300,"uuid":"fdfbbc11-4bf9-4e80-8772-1ade13d3d70d","name":"Spotify","slug":"spotify","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":301,"uuid":"8572bdda-5e84-475b-a848-25d452f9e165","name":"SRM","slug":"srm","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":302,"uuid":"ebc34a1b-a97b-486a-8f81-71e230e7be6e","name":"SSH","slug":"ssh","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":303,"uuid":"56e23587-c6d9-40dd-bfaa-f9c1730d1a7b","name":"SSL","slug":"ssl","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":304,"uuid":"bb8dcb1a-bce6-4bc4-a8cd-032bcb54de86","name":"Statistiques","slug":"statistiques","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":305,"uuid":"66fc0dbe-269e-4d4f-8b21-553887ae5997","name":"Storage vMotion","slug":"storage-vmotion","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":306,"uuid":"37837c19-2e07-4684-b9bd-63a2fbc3a309","name":"style","slug":"style","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":307,"uuid":"988c49ba-09e7-4108-85f2-4d03f495b945","name":"surveiller les performances d un site avec nagios","slug":"surveiller-les-performances-d-un-site-avec-nagios","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":308,"uuid":"74f02720-f67e-49f8-89ae-3509cb0b1ba6","name":"Survival Guide","slug":"survival-guide","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":309,"uuid":"c8f3d062-8de9-4271-bddc-f05744873a2b","name":"Swap","slug":"swap","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":310,"uuid":"d732051d-bbcf-4950-ab0c-db96baa87712","name":"Swappiness","slug":"swappiness","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":311,"uuid":"fa1d05ad-1d2c-4c0f-9e27-a64c71045ef9","name":"Tablespaces","slug":"tablespaces","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":312,"uuid":"a1212763-68fe-4da6-902d-43d408948982","name":"tcpkill","slug":"tcpkill","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":313,"uuid":"770669f3-25a3-44cc-927f-613da5b268bd","name":"TeamViewer","slug":"teamviewer","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":314,"uuid":"1c24a57e-dadc-41cf-81e9-5850d6320437","name":"Tech AN","slug":"tech-an","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":315,"uuid":"ed3adf36-eb2a-4375-bec5-e228224904b7","name":"télécharger les pièces jointes aux mails dans un dossier","slug":"telecharger-les-pieces-jointes-aux-mails-dans-un-dossier","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":316,"uuid":"7f78b913-7179-4d44-86cf-04c1b3027a06","name":"tempfile","slug":"tempfile","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":317,"uuid":"9303be99-55ea-4658-9f7f-682457a3b850","name":"terminer les connexions réseau avec tcpkill","slug":"terminer-les-connexions-reseau-avec-tcpkill","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":318,"uuid":"eee2df4e-4475-4932-b678-caacc4686cc1","name":"Test Bascule","slug":"test-bascule","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":319,"uuid":"11726724-ade6-490c-94b9-488649d7aadc","name":"ThunderBird","slug":"thunderbird","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":320,"uuid":"02b2eb07-7fa9-415c-b80f-0697b678aa15","name":"Time Capsule","slug":"time-capsule","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":321,"uuid":"9ca74792-1f0e-4424-83ff-507c00446386","name":"tlp","slug":"tlp","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":322,"uuid":"e23637c0-f8be-49db-986e-6b592431f8be","name":"Trcus Astuces","slug":"trcus-astuces","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":323,"uuid":"25083fee-392a-44c8-8ed6-af49db054b01","name":"Troubleshoot","slug":"troubleshoot","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":324,"uuid":"0bcd71f0-1a5e-4548-bb41-9d1a8088e6ab","name":"TroubleShooting","slug":"troubleshooting","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":325,"uuid":"2ebb5490-eb9e-4615-8a05-fd32ef1c7a14","name":"trouver et supprimer les doublons dans la nouvelle app mac photos","slug":"trouver-et-supprimer-les-doublons-dans-la-nouvelle-app-mac-photos","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":326,"uuid":"b99f19c5-d22c-419e-a007-40515b604f1a","name":"Truc Astuces","slug":"truc-astuces","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-25T09:52:03.000Z","updated_by":1,"visibility":"public"},{"id":327,"uuid":"1bb74649-81b8-42fe-8eff-002ef1034fca","name":"Trucs Astuces","slug":"trucs-astuces-2","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":328,"uuid":"b8b9cc5a-5cf6-4735-b216-f4e1d1202920","name":"Trucs et Astuces","slug":"trucs-et-astuces","description":"Collection de trucs et astuces.","image":null,"parent_id":null,"meta_title":"Trucs et Astuces","meta_description":"Collection de trucs et astuces.","created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-25T10:57:45.000Z","updated_by":1,"visibility":"public"},{"id":329,"uuid":"a8718dab-6078-4f3a-9a2e-269cc5d97335","name":"TrucsAstuces","slug":"trucsastuces","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":330,"uuid":"54031f15-1659-4d79-89fd-a35b0c8be855","name":"Tuning","slug":"tuning","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":331,"uuid":"fb815833-6c96-4fb5-af3c-9ae3fedce02d","name":"Tweak","slug":"tweak","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":332,"uuid":"8f9cb2fe-d9d7-49f2-907e-de4148c89370","name":"Ubuntu","slug":"ubuntu","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":333,"uuid":"1e4b4545-52d4-444d-b3ce-0b6524665631","name":"Ubuntu MATE","slug":"ubuntu-mate","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":334,"uuid":"73a66f39-6890-42dc-8d86-524ec840b53f","name":"ufw","slug":"ufw","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":335,"uuid":"74e43342-c673-4399-aa99-6c6374ebc1fa","name":"uploader les pièces jointes dans owncloud","slug":"uploader-les-pieces-jointes-dans-owncloud","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":336,"uuid":"40fd6211-ab84-4a91-9626-50d5c1e38557","name":"USB","slug":"usb","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":337,"uuid":"844936d2-dda6-4875-9925-5fcedb3cecbe","name":"Varnish","slug":"varnish","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":338,"uuid":"36786c50-5497-4949-811a-26bff63ec4c9","name":"vCenter","slug":"vcenter","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":339,"uuid":"05eda259-752d-4ee4-b6c0-7c2bb8a26584","name":"Version mobile","slug":"version-mobile","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":340,"uuid":"40bf296f-341b-41f8-8ae5-835990e6a4b6","name":"Village Pilote","slug":"village-pilote","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":341,"uuid":"288f0f46-9612-46b1-a53e-ebc3bb769d3e","name":"Virgin Mobile","slug":"virgin-mobile","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":342,"uuid":"fd2dc710-ba3d-432d-9cba-966e29a1e053","name":"virgin mobile prend ses clients pour des pigeons","slug":"virgin-mobile-prend-ses-clients-pour-des-pigeons","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":343,"uuid":"44744aa5-3166-48af-8cc5-c1098b29111e","name":"vmnet","slug":"vmnet","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":344,"uuid":"1587fdb8-1423-44b6-a111-e64f87c461e1","name":"VMware","slug":"vmware","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":345,"uuid":"cd5790ef-f927-429b-a918-92336c9aeb96","name":"VNC","slug":"vnc","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":346,"uuid":"49376af1-a561-4e08-bb1c-17c850a6b457","name":"Voleurs","slug":"voleurs","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":347,"uuid":"ec8e29ab-c07a-48de-968e-d1471b9d7f09","name":"VPN","slug":"vpn","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":348,"uuid":"502a73f7-1e39-442a-9cf2-4eda54ee55eb","name":"vSphere","slug":"vsphere","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":349,"uuid":"c3c334f5-9d0c-48f2-a269-e3308a76ebd7","name":"vsphere windows 2008","slug":"vsphere-windows-2008","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":350,"uuid":"5d077f82-af24-4fba-b966-05f4f57ee420","name":"vSphere55","slug":"vsphere55","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":351,"uuid":"432d7ec8-5b8b-410b-9ec6-af07ae756d23","name":"Vu sur le Web","slug":"vu-sur-le-web","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":352,"uuid":"e3497001-d3ad-46ec-aa4d-d22351e93313","name":"web","slug":"web","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":353,"uuid":"20043a77-bbee-4d6d-90f1-4512a0aaf69a","name":"Web performances","slug":"web-performances","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":354,"uuid":"a3b68561-e7a6-4184-a14a-5f41f98c23bc","name":"Windows","slug":"windows","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":355,"uuid":"a6c8f18c-3cc2-4277-9922-be0d1906129c","name":"windows 10","slug":"windows-10","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":356,"uuid":"d4479a20-3dc0-4592-8cf2-48a694917f95","name":"windows bootable usb tool","slug":"windows-bootable-usb-tool","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":357,"uuid":"5427d23c-b222-40ab-bda3-958a83cd66ee","name":"WordPress","slug":"wordpress","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":358,"uuid":"64a0bd39-65c5-4a78-ba34-5e74e6873b7f","name":"Workstation","slug":"workstation","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":359,"uuid":"599b7910-7d57-45ad-a53d-713bfc7fb00f","name":"WTF","slug":"wtf","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":360,"uuid":"ecd3f200-31fa-4b97-a265-5d702b30effb","name":"Yosemite","slug":"yosemite","description":"","image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-18T08:46:53.000Z","created_by":1,"updated_at":"2016-05-18T08:46:53.000Z","updated_by":1,"visibility":"public"},{"id":361,"uuid":"941275f2-6392-44c5-aaa1-9104d95645e1","name":"HAProxy","slug":"haproxy","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-27T13:36:39.000Z","created_by":1,"updated_at":"2016-05-27T13:36:39.000Z","updated_by":1,"visibility":"public"},{"id":362,"uuid":"5e3dc489-9264-46d2-b073-6cf146923533","name":"ghost","slug":"ghost-tag","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-05-28T15:05:01.000Z","created_by":1,"updated_at":"2016-05-28T15:05:01.000Z","updated_by":1,"visibility":"public"},{"id":363,"uuid":"719fe466-af21-4550-9b43-f0306ab0d273","name":"DevOps","slug":"devops","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-07-29T16:26:35.000Z","created_by":1,"updated_at":"2016-07-29T16:26:35.000Z","updated_by":1,"visibility":"public"},{"id":364,"uuid":"a89a69e4-3dd2-42d9-b818-de06335fd097","name":"How To","slug":"how-to","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-07-29T16:26:35.000Z","created_by":1,"updated_at":"2016-07-29T16:26:35.000Z","updated_by":1,"visibility":"public"},{"id":365,"uuid":"7c554cc5-6705-4451-afa0-b677b5341a36","name":"Docker1.12","slug":"docker1-12","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-07-29T16:29:51.000Z","created_by":1,"updated_at":"2016-07-29T16:29:51.000Z","updated_by":1,"visibility":"public"},{"id":366,"uuid":"0fdbefd8-50af-4019-9b32-4cd5810181a0","name":"Swarm","slug":"swarm","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-07-29T16:29:51.000Z","created_by":1,"updated_at":"2016-07-29T16:29:51.000Z","updated_by":1,"visibility":"public"},{"id":367,"uuid":"2ede34a5-9d4a-432e-8729-38dbefece5c8","name":"AUFS","slug":"aufs","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-07-30T10:36:44.000Z","created_by":1,"updated_at":"2016-07-30T10:36:44.000Z","updated_by":1,"visibility":"public"},{"id":368,"uuid":"0c71fb1b-fd88-4f06-bd9d-633e63712dc3","name":"Docker 1.12","slug":"docker-1-12","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-07-30T13:16:02.000Z","created_by":1,"updated_at":"2016-07-30T13:16:02.000Z","updated_by":1,"visibility":"public"},{"id":369,"uuid":"e4b62b98-8b6d-4d3c-8ece-45227bf5c843","name":"Rolling Updates","slug":"rolling-updates","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-07-30T13:16:02.000Z","created_by":1,"updated_at":"2016-07-30T13:16:02.000Z","updated_by":1,"visibility":"public"},{"id":370,"uuid":"60b264dd-7edd-43a6-84b5-3f295a3b618e","name":"Processus Zombie","slug":"processus-zombie","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-07-30T13:53:16.000Z","created_by":1,"updated_at":"2016-07-30T13:53:16.000Z","updated_by":1,"visibility":"public"},{"id":371,"uuid":"02aab887-9b7a-4079-a2dd-ff1a615acedb","name":"PID 1","slug":"pid-1","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-07-30T13:53:16.000Z","created_by":1,"updated_at":"2016-07-30T13:53:16.000Z","updated_by":1,"visibility":"public"},{"id":372,"uuid":"40f1a291-1df0-4b63-a73e-5275c97f2137","name":"OpenvVPN","slug":"openvvpn","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-07-30T13:53:43.000Z","created_by":1,"updated_at":"2016-07-30T13:53:43.000Z","updated_by":1,"visibility":"public"},{"id":373,"uuid":"fd06fa00-1a73-46bf-a568-83a38c81bf17","name":"Vie privée","slug":"vie-privee","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-07-30T13:53:43.000Z","created_by":1,"updated_at":"2016-07-30T13:53:43.000Z","updated_by":1,"visibility":"public"},{"id":374,"uuid":"003719ec-1f1a-48a4-a6cd-dd64c42fb589","name":"HTTPS","slug":"https","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-08-03T11:25:14.000Z","created_by":1,"updated_at":"2016-08-03T11:25:14.000Z","updated_by":1,"visibility":"public"},{"id":375,"uuid":"86c0aeec-dceb-4a96-b168-d261753569ce","name":"GitLab","slug":"gitlab","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-08-29T13:56:15.000Z","created_by":1,"updated_at":"2016-08-29T13:56:15.000Z","updated_by":1,"visibility":"public"},{"id":376,"uuid":"3bce2b6b-3246-43f5-a9c6-6db44e5552d9","name":"Migrer GitLab dans Docker","slug":"migrer-gitlab-dans-docker","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-08-29T13:56:16.000Z","created_by":1,"updated_at":"2016-08-29T13:56:16.000Z","updated_by":1,"visibility":"public"},{"id":377,"uuid":"41fdf793-3ab7-4f59-90de-d505e01b172f","name":"docker-compose","slug":"docker-compose","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-08-29T13:56:16.000Z","created_by":1,"updated_at":"2016-08-29T13:56:16.000Z","updated_by":1,"visibility":"public"},{"id":378,"uuid":"3a84c379-42bd-4212-8101-af5d9fa7921d","name":"Traefik","slug":"traefik","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-11-08T09:07:49.000Z","created_by":1,"updated_at":"2016-11-08T09:07:49.000Z","updated_by":1,"visibility":"public"},{"id":379,"uuid":"acdc4985-8f5c-4a49-b985-44be520dd57e","name":"Reverse Proxy","slug":"reverse-proxy","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-11-08T09:07:49.000Z","created_by":1,"updated_at":"2016-11-08T09:07:49.000Z","updated_by":1,"visibility":"public"},{"id":380,"uuid":"0ad66c90-a284-4fd4-b556-c487ae08098a","name":"GlusterFS","slug":"glusterfs","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-11-23T07:21:27.000Z","created_by":1,"updated_at":"2016-11-23T07:21:27.000Z","updated_by":1,"visibility":"public"},{"id":381,"uuid":"bb9ab197-a3a9-4fa1-a0e3-2d4609537128","name":"Prometheus","slug":"prometheus","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-11-23T09:29:16.000Z","created_by":1,"updated_at":"2016-11-23T09:29:16.000Z","updated_by":1,"visibility":"public"},{"id":382,"uuid":"0c410335-1ed2-44ed-aa53-4a517d39c374","name":"PlayOnLinux","slug":"playonlinux","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-12-14T11:32:28.000Z","created_by":1,"updated_at":"2016-12-14T11:32:28.000Z","updated_by":1,"visibility":"public"}],"users":[{"id":1,"uuid":"777cab99-43ec-441b-94be-e7725c064dff","name":"MrRaph_","slug":"mrraph_","password":"$2a$10$hO9nbBzuZpIvlmCkH/UxEO9djemOLyZ.moUQksBIFI/Y8211yHG/K","email":"mrraph_@techan.fr","image":"/content/images/2016/05/pouet.png","cover":"","bio":"Je mï¿½appelle Raphaï¿½l, jï¿½ai 27 ans et je suis consultant en informatique spï¿½cialisï¿½ dans les bases de donnï¿½es Oracle, les systï¿½mes virtualisï¿½s VMware ï¿½ certifiï¿½ VCP ï¿½ et les systï","website":"https://techan.fr","location":null,"accessibility":null,"status":"active","language":"en_US","meta_title":null,"meta_description":null,"tour":null,"last_login":"2016-12-16T14:27:02.000Z","created_at":"2016-05-18T08:43:36.000Z","created_by":1,"updated_at":"2016-12-16T14:27:02.000Z","updated_by":1,"visibility":"public","facebook":null,"twitter":"@MrRaph_"}]}}]}